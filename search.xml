<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>cpp-httplib ä¸ libcurl å®ç° OAuth 2.0 æˆæƒç æµç¨‹</title>
      <link href="/posts/b4fdeaad/"/>
      <url>/posts/b4fdeaad/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€è¿°:</strong> æœ¬æ–‡ä»‹ç»æœ¬åœ°å®¢æˆ·ç«¯ APP å¦‚ä½•é€šè¿‡ <code>cpp-httplib</code> å’Œ <code>libcurl</code> åº“å®ç° <code>OAuth 2.0</code> çš„æˆæƒç æµç¨‹ã€‚ä¾§é‡äºæŠ€æœ¯äººå‘˜å®ç°è§†è§’å¦‚ä½•å®ç°ï¼Œé‡ç‚¹åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p><ul><li>ä»€ä¹ˆæ˜¯ OAuth 2.0ï¼Ÿå®ƒçš„æˆæƒæµç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ</li><li><code>cpp-httplib</code> å’Œ <code>libcurl</code> çš„åŒºåˆ«å’Œå·®å¼‚ï¼Ÿ</li><li>å¦‚ä½•åœ¨æœ¬åœ°é€šè¿‡ç½‘ç»œåº“ç›‘å¬å¹¶è·å–é»˜è®¤æµè§ˆå™¨è¿”å›çš„æˆæƒç  codeï¼Ÿ</li><li>å¦‚ä½•ä½¿ç”¨æˆæƒç  code ç½®æ¢æœ€ç»ˆçš„ Tokenï¼Ÿ</li></ul><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p>ã€€ã€€ğŸ’»  <code>win11 24H2</code> ğŸ“  <code>Visual Studio 2022</code> ğŸ“ <code>C++17</code></p><br><h2 id="OAuth-2-0-ç®€ä»‹"><a href="#OAuth-2-0-ç®€ä»‹" class="headerlink" title="OAuth 2.0 ç®€ä»‹"></a>OAuth 2.0 ç®€ä»‹</h2><p>å…³äº OAuth 2.0 çš„åŸºæœ¬æ¦‚å¿µï¼Œå¯ä»¥å‚è€ƒé˜®ä¸€å³°è€å¸ˆçš„ <a href="https://www.ruanyifeng.com/blog/2014/05/oauth_2_0.html">ã€Šç†è§£OAuth 2.0ã€‹</a> ä»¥åŠ Google çš„å®˜æ–¹æ–‡æ¡£ <a href="https://developers.google.com/identity/protocols/oauth2?hl=zh-cn">ã€Šä½¿ç”¨ OAuth 2.0 è®¿é—® Google APIã€‹</a>ã€‚</p><p>å…¶ä¸­çš„ OAuth 2.0 è®¿é—®é“¾æ¥çš„å‚æ•°å«ä¹‰ï¼Œå’Œå¿…é¡»å’Œå¯é€‰ã€å«ä¹‰ï¼š</p><ul><li><p><a href="https://openid.net/specs/openid-connect-core-1_0.html#Authentication">https://openid.net/specs/openid-connect-core-1_0.html#Authentication</a></p></li><li><p><a href="https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest">https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest</a></p></li></ul><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2025/202509021336843.png" width="30%"/ loading="lazy"><h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>åœ¨ä¸€äº›æ¡Œé¢åº”ç”¨ï¼ˆä¾‹å¦‚ Google è´¦å·ç™»å½•ï¼‰ä¸­ï¼Œè¿‡å»å¸¸ç”¨ <strong>C# WebView2</strong> å†…åµŒæµè§ˆå™¨æ¥åŠ è½½ç™»å½•é¡µã€‚ç”¨æˆ·è¾“å…¥è´¦å·å’Œå¯†ç åï¼Œåº”ç”¨å³å¯è·å–æˆæƒå‡­è¯ï¼Œç”¨äºåç»­è°ƒç”¨ä¸šåŠ¡ APIã€‚</p><p>ç„¶è€Œè¿™ç§æ–¹å¼é€æ¸æš´éœ²å‡ºé£é™©ä¸é™åˆ¶ï¼š</p><ol><li>WebView2 ä¸­è´¦å·å¯†ç å¯èƒ½å­˜åœ¨æ³„éœ²é£é™©ï¼›</li><li>Google ç­‰å‚å•†é€æ­¥æ”¶ç¼©æƒé™ï¼Œä¸å†æ¨èä½¿ç”¨å†…åµŒ WebView ç™»å½•ï¼›</li><li>ä¼ä¸šåå°å®‰å…¨å®¡æ ¸è¶‹ä¸¥ï¼Œæœªæ¥å°†å…¨é¢ç¦æ­¢ WebView2 æ–¹å¼çš„è®¤è¯ã€‚</li></ol><p>å› æ­¤ï¼Œæ›´å®‰å…¨ã€æ›´åˆè§„çš„åšæ³•æ˜¯é€šè¿‡ <strong>ç³»ç»Ÿé»˜è®¤æµè§ˆå™¨</strong>ï¼ˆå¦‚ Chromeã€Firefoxï¼‰å®Œæˆç™»å½•ï¼Œå¹¶å°†ç»“æœå›è°ƒç»™åº”ç”¨ã€‚</p><br><h2 id="cpp-httplib-ä¸-libcurl-çš„åŒºåˆ«"><a href="#cpp-httplib-ä¸-libcurl-çš„åŒºåˆ«" class="headerlink" title="cpp-httplib ä¸ libcurl çš„åŒºåˆ«"></a>cpp-httplib ä¸ libcurl çš„åŒºåˆ«</h2><p>åœ¨ OAuth 2.0 æˆæƒç æµç¨‹ä¸­ï¼Œ<strong>è·å–æˆæƒç </strong>ä¸<strong>ä½¿ç”¨æˆæƒç æ¢å– Token</strong>çš„è¿‡ç¨‹ï¼Œéœ€è¦ç”¨åˆ°ä¸åŒçš„åº“ï¼š</p><ul><li><code>cpp-httplib</code>ï¼š<font color=#D0087E size=4 face="STFangsong"> å¯åœ¨æœ¬åœ°å¼€å¯ HTTP æœåŠ¡ï¼Œ<strong>ç›‘å¬æµè§ˆå™¨çš„é‡å®šå‘å›è°ƒå¹¶è·å–æˆæƒç ã€‚</strong></font></li><li><code>libcurl</code>ï¼šæ“…é•¿å‘èµ· HTTP è¯·æ±‚ï¼Œç”¨äºåç»­å‘æˆæƒæœåŠ¡å™¨è¯·æ±‚ Tokenã€‚</li></ul><blockquote><p>æ ¸å¿ƒç‚¹ï¼š <code>cpp-httplib</code> èƒ½ç›‘å¬å›è°ƒï¼Œè€Œ <code>libcurl</code> åšä¸åˆ°ã€‚</p></blockquote><h3 id="ğŸ”-æ“ä½œç³»ç»Ÿå¯¹è‡ªå®šä¹‰åè®®çš„å¤„ç†"><a href="#ğŸ”-æ“ä½œç³»ç»Ÿå¯¹è‡ªå®šä¹‰åè®®çš„å¤„ç†" class="headerlink" title="ğŸ” æ“ä½œç³»ç»Ÿå¯¹è‡ªå®šä¹‰åè®®çš„å¤„ç†"></a>ğŸ” æ“ä½œç³»ç»Ÿå¯¹è‡ªå®šä¹‰åè®®çš„å¤„ç†</h3><p>å½“æµè§ˆå™¨è®¿é—®è‡ªå®šä¹‰åè®®ï¼ˆå¦‚ <code>my-app://token?code=xxx</code>ï¼‰æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šæ ¹æ®æ³¨å†Œä¿¡æ¯å¯åŠ¨æœ¬åœ°åº”ç”¨ï¼Œå¹¶å°† URL ä½œä¸ºå‚æ•°ä¼ é€’è¿›å»ã€‚åœ¨ Windows ä¸Šï¼Œè¿™é€šå¸¸è¡¨ç°ä¸ºï¼š</p><ul><li>é€šè¿‡å‘½ä»¤è¡Œå‚æ•°ä¼ é€’</li><li>æˆ–é€šè¿‡ <code>WM_COPYDATA</code> æ¶ˆæ¯ä¼ é€’</li></ul><p>è€Œ <code>libcurl</code> ä»…æ˜¯ä¸€ä¸ª <strong>HTTP å®¢æˆ·ç«¯åº“</strong>ï¼Œæ— æ³•æ‹¦æˆªæˆ–å¤„ç†æ“ä½œç³»ç»Ÿå±‚é¢çš„è‡ªå®šä¹‰åè®®è°ƒç”¨ï¼Œå› æ­¤å®ƒæ— æ³•ç›´æ¥è·å–æµè§ˆå™¨é‡å®šå‘ä¸­çš„æˆæƒç ã€‚</p><h3 id="ğŸ§©-ä¸ºä»€ä¹ˆ-cpp-httplib-èƒ½ç›‘å¬é‡å®šå‘"><a href="#ğŸ§©-ä¸ºä»€ä¹ˆ-cpp-httplib-èƒ½ç›‘å¬é‡å®šå‘" class="headerlink" title="ğŸ§© ä¸ºä»€ä¹ˆ cpp-httplib èƒ½ç›‘å¬é‡å®šå‘"></a>ğŸ§© ä¸ºä»€ä¹ˆ cpp-httplib èƒ½ç›‘å¬é‡å®šå‘</h3><p><code>cpp-httplib</code> å†…ç½®äº†è½»é‡çº§ HTTP&#x2F;HTTPS æœåŠ¡å™¨ã€‚åº”ç”¨å¯ä»¥åœ¨æœ¬åœ°å¼€å¯ä¸€ä¸ªç«¯å£ï¼ˆå¦‚ <code>http://127.0.0.1:8080</code>ï¼‰ï¼Œå¹¶å°†æ­¤ç«¯å£å†™å…¥ OAuth 2.0 æˆæƒè¯·æ±‚çš„ <code>redirect_uri</code>ã€‚</p><p>å½“ç”¨æˆ·åœ¨æµè§ˆå™¨å®Œæˆç™»å½•åï¼ŒæˆæƒæœåŠ¡å™¨ä¼šå°†é¡µé¢é‡å®šå‘åˆ°è¯¥åœ°å€ï¼Œ<code>cpp-httplib</code> å³å¯æ¥æ”¶åˆ°è¯·æ±‚ï¼Œå¹¶æå–å‡ºæˆæƒç ã€‚</p><h3 id="ğŸ›‘-ä¸ºä»€ä¹ˆ-libcurl-æ— æ³•åšåˆ°"><a href="#ğŸ›‘-ä¸ºä»€ä¹ˆ-libcurl-æ— æ³•åšåˆ°" class="headerlink" title="ğŸ›‘ ä¸ºä»€ä¹ˆ libcurl æ— æ³•åšåˆ°"></a>ğŸ›‘ ä¸ºä»€ä¹ˆ libcurl æ— æ³•åšåˆ°</h3><p><code>libcurl</code> çš„å®šä½æ˜¯ <strong>å‘èµ·è¯·æ±‚</strong>ï¼Œå®ƒä¸èƒ½å……å½“ HTTP æœåŠ¡ç«¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒåªèƒ½ç”¨æ¥äº¤æ¢ Tokenï¼Œè€Œä¸èƒ½ç”¨æ¥ç›‘å¬æµè§ˆå™¨é‡å®šå‘ã€‚</p><br><h2 id="æ•´ä½“æµç¨‹ç¤ºä¾‹å›¾"><a href="#æ•´ä½“æµç¨‹ç¤ºä¾‹å›¾" class="headerlink" title="æ•´ä½“æµç¨‹ç¤ºä¾‹å›¾"></a>æ•´ä½“æµç¨‹ç¤ºä¾‹å›¾</h2><p>ç»“åˆä¸Šè¿°ä¸¤ä¸ªåº“çš„ç‰¹ç‚¹ï¼Œå¯ä»¥æ€»ç»“ä¸ºï¼š</p><ul><li><strong>æˆæƒç è·å–</strong>ï¼šä¾èµ– <code>cpp-httplib</code> æœ¬åœ°ç›‘å¬é‡å®šå‘</li><li><strong>Token ç½®æ¢</strong>ï¼šä½¿ç”¨ <code>libcurl</code> å‘é€è¯·æ±‚è·å–</li></ul><p>æµç¨‹å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">+-------------------+       <span class="token number">1</span>. æ‰“å¼€æµè§ˆå™¨        +----------------------+<span class="token operator">|</span>   æœ¬åœ°å®¢æˆ·ç«¯ exe    <span class="token operator">|</span> -----------------------<span class="token operator">></span> <span class="token operator">|</span>      æµè§ˆå™¨           <span class="token operator">|</span><span class="token operator">|</span>  <span class="token punctuation">(</span>my-app.exe<span class="token punctuation">)</span>     <span class="token operator">|</span>                          <span class="token operator">|</span>                      <span class="token operator">|</span>+-------------------+                          +----------------------+         <span class="token operator">|</span>                                               <span class="token operator">|</span>         <span class="token operator">|</span> <span class="token number">2</span>. æµè§ˆå™¨è®¿é—®æˆæƒ URL                            <span class="token operator">|</span>         <span class="token operator">|</span>    https://authserver.com/authorize?client_id<span class="token operator">=</span>xxx         <span class="token function">v</span>                                               <span class="token function">v</span>+-------------------+                           +----------------------+<span class="token operator">|</span>     æˆæƒæœåŠ¡å™¨     <span class="token operator">|</span> <span class="token operator">&lt;</span>----------------------    <span class="token operator">|</span>   ç”¨æˆ·ç™»å½•/æˆæƒ        <span class="token operator">|</span><span class="token operator">|</span>                   <span class="token operator">|</span>        <span class="token number">3</span>. ç™»å½•/æˆæƒ         <span class="token operator">|</span>                    <span class="token operator">|</span>+-------------------+                           +----------------------+         <span class="token operator">|</span>         <span class="token operator">|</span> <span class="token number">4</span>. é‡å®šå‘åˆ°å®¢æˆ·ç«¯æ³¨å†Œçš„ redirect_uri ï¼ˆäºŒé€‰ä¸€ï¼‰         <span class="token operator">|</span>    <span class="token punctuation">[</span>a<span class="token punctuation">]</span> è‡ªå®šä¹‰åè®®ï¼šmy-app://token?code<span class="token operator">=</span>xxxx   ï¼ˆæ¨èï¼‰         <span class="token operator">|</span>    <span class="token punctuation">[</span>b<span class="token punctuation">]</span> å›ç¯æµè§ˆå™¨æ–¹å¼ï¼šhttp://127.0.0.1:8080/callback?code<span class="token operator">=</span>xxxx ï¼ˆä¼ä¸šProductç¯å¢ƒä¸å…è®¸ï¼‰         <span class="token function">v</span>+-------------------+<span class="token operator">|</span> æœ¬åœ°å®¢æˆ·ç«¯ exe      <span class="token operator">|</span><span class="token operator">|</span> httplib ç›‘å¬ç«¯å£   <span class="token operator">|</span><span class="token operator">|</span> æ”¶åˆ° code          <span class="token operator">|</span>+-------------------+         <span class="token operator">|</span>         <span class="token operator">|</span> <span class="token number">5</span>. ä½¿ç”¨ libcurl å‘ POST è¯·æ±‚æ¢ token         <span class="token function">v</span>+-------------------+<span class="token operator">|</span>   æˆæƒæœåŠ¡å™¨       <span class="token operator">|</span><span class="token operator">|</span>   /token æ¥å£     <span class="token operator">|</span>+-------------------+         <span class="token operator">|</span>         <span class="token operator">|</span> <span class="token number">6</span>. è¿”å› JSON <span class="token punctuation">&#123;</span>access_token, refresh_token, <span class="token punctuation">..</span>.<span class="token punctuation">&#125;</span>         <span class="token function">v</span>    ä½¿ç”¨ access_token æ¥è°ƒç”¨åç»­ä¸šåŠ¡é€»è¾‘æ¥å£+-------------------+<span class="token operator">|</span> æœ¬åœ°å®¢æˆ·ç«¯ exe      <span class="token operator">|</span><span class="token operator">|</span> æ”¶åˆ°å¹¶ä¿å­˜ token    <span class="token operator">|</span>+-------------------+<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="ä»£ç ç¤ºä¾‹"><a href="#ä»£ç ç¤ºä¾‹" class="headerlink" title="ä»£ç ç¤ºä¾‹"></a>ä»£ç ç¤ºä¾‹</h2><h3 id="Google-å®˜æ–¹ç¤ºä¾‹ä»£ç "><a href="#Google-å®˜æ–¹ç¤ºä¾‹ä»£ç " class="headerlink" title="Google å®˜æ–¹ç¤ºä¾‹ä»£ç "></a>Google å®˜æ–¹ç¤ºä¾‹ä»£ç </h3><p>Google å®˜æ–¹åœ¨ GitHub ä¸Šç»™å‡ºäº†ä¸€ä¸ªç®€æ˜“çš„ C# å·¥ç¨‹ç¤ºä¾‹  <a href="https://github.com/googlesamples/oauth-apps-for-windows">oauth-apps-for-windows</a>ï¼Œå±•ç¤ºç”¨ Google è´¦å·ç™»å½• oauth 2.0 çš„æµç¨‹ã€‚</p> <img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2025/202509021127454.png" width="70%"/ loading="lazy"><p>å¯¹äºå…¬å¸é€‚é…ï¼Œå¯¹äº OAuthUniversalApp å·¥ç¨‹ï¼Œé€šå¸¸åªéœ€è¦ä¿®æ”¹ clientID ç­‰ä¸‰ä¸ªå­—æ®µï¼Œå³å¯å°† Googleè´¦å· åˆ‡æ¢ä¸ºä¼ä¸šé›†å›¢çš„ XXXXIDè´¦å·ï¼Œå¯ä»¥æˆåŠŸè¿è¡Œè·‘é€šã€‚ è€Œå¦ä¸€ä¸ªä¸¤ä¸ªå·¥ç¨‹ï¼Œéœ€è¦è‡ªå·±é€‚é…ä¿®æ”¹åˆ™æ›´å¤šä¸€äº›ã€‚ </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">const string clientID <span class="token operator">=</span> <span class="token string">"xxxxxxxxxxxxxxxxxxxxxxxx"</span><span class="token punctuation">;</span>const string redirectURI <span class="token operator">=</span> <span class="token string">"pw.oauth2:/oauth2redirect"</span><span class="token punctuation">;</span>              // é€šå¸¸è¿˜éœ€è¦ä¼ä¸šé¢æ¿æ³¨å†Œå’Œé…ç½®æ‰èƒ½ç”Ÿæ•ˆconst string authorizationEndpoint <span class="token operator">=</span> <span class="token string">"https://passport.xxxxxx.com/v1.0/xxxxxx/oauth2/authorize"</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><br><h3 id="è‡ªè¡Œå®ç°çº¯-C-ç¤ºä¾‹ä»£ç "><a href="#è‡ªè¡Œå®ç°çº¯-C-ç¤ºä¾‹ä»£ç " class="headerlink" title="è‡ªè¡Œå®ç°çº¯ C++ ç¤ºä¾‹ä»£ç "></a>è‡ªè¡Œå®ç°çº¯ C++ ç¤ºä¾‹ä»£ç </h3><p>Google ä½¿ç”¨ç¤ºä¾‹ OAuth for Apps: Samples for Windowsï¼Œæ›´å¤šè¿˜æ˜¯å‚è€ƒå«ä¹‰ï¼›å¯¹äºå®é™…å·¥ç¨‹ä¸­ç›´æ¥é›†æˆå¹¶ä¸é€‚ç”¨ã€‚è¿˜æ˜¯éœ€è¦è‡ªå·±å†™ä¸€å¥—æ¥å®ç°é€‚é…ã€‚</p><p>å‹è½´ä»£ç æ¥äº†ï¼Œæˆ‘ä»¬å¸Œæœ›ä½¿ç”¨å­˜ C++ æ¥å®ç°è¿™ä¸ªé¡¹ç›®ï¼Œä¾¿äºé¡¹ç›®çš„é›†æˆã€‚</p><br><h4 id="ç›‘å¬å’Œæ•è·æµè§ˆå™¨çš„é‡å®šå‘çš„å“åº”"><a href="#ç›‘å¬å’Œæ•è·æµè§ˆå™¨çš„é‡å®šå‘çš„å“åº”" class="headerlink" title="ç›‘å¬å’Œæ•è·æµè§ˆå™¨çš„é‡å®šå‘çš„å“åº”"></a>ç›‘å¬å’Œæ•è·æµè§ˆå™¨çš„é‡å®šå‘çš„å“åº”</h4><p>å…³äº <strong>4.é‡å®šå‘åˆ°å®¢æˆ·ç«¯æ³¨å†Œçš„ redirect_uri</strong>  è¿™æ­¥éª¤ä¸­ï¼Œå®ç°æœ‰ä¸¤ç§æ–¹å¼ï¼š</p><ol><li><strong>æœ¬åœ°å›ç¯æ–¹å¼ï¼š</strong>é€šè¿‡ç›‘å¬æœ¬åœ°æµè§ˆå™¨è¿”å›çš„ <code>http://127.0.0.1:8080/callback?code=xxxx</code> ,æ•è·åˆ°æ‰€éœ€è¦ codeï¼›ä½†è¿™ç§æ–¹æ³•åœ¨ product ç¯å¢ƒä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°ä¸è¢«å…è®¸ï¼Œä½†è‹¥æ˜¯æ­£ç»åŸŸåæ–¹å¼å¯ä»¥ã€‚å³ä½¿ Test ç¯å¢ƒå…è®¸ï¼Œä¹Ÿéœ€è¦åœ¨ é¢æ¿ä¸Šé¢è‡ªè¡Œæ³¨å†Œï¼Œå†åå°åŒäº‹æ¥é…ç½®ç­‰å¾…åŠä¸ªå·¥ä½œæ—¥æ‰èƒ½ç”Ÿæ•ˆ</li><li><strong>è‡ªå®šä¹‰åè®®ï¼ˆæ¨èï¼‰ï¼š</strong> <code>my-app://token?code=xxxx</code>; æ¨èçš„å®ç°ï¼Œå…¶ä¸­è·³è½¬ä¹Ÿæœ‰ä¸¤ç§æ–¹å¼ã€‚<ul><li>ä¸€ä¸ªæ˜¯å°†å¦ä¸€ä¸ª exe ç¨‹åºåœ¨ æ³¨å†Œè¡¨æŒ‡å®šè·¯å¾„è¿›è¡Œæ³¨å†Œï¼Œå†é€šè¿‡è°ƒç”¨ä¼ å‚æ•°æ¥è·å– code</li><li>ä½¿ç”¨ç®¡é“æ¥å®ç°ï¼Œå®æµ‹æ›´åŠ é è°±ï¼ˆæ¨èï¼‰</li></ul></li></ol><br><h3 id="ç¤ºä¾‹ä»£ç æµç¨‹"><a href="#ç¤ºä¾‹ä»£ç æµç¨‹" class="headerlink" title="ç¤ºä¾‹ä»£ç æµç¨‹"></a>ç¤ºä¾‹ä»£ç æµç¨‹</h3><blockquote><p>ç®€åŒ–ç‰ˆè°ƒç”¨æµç¨‹ï¼šä¸»å®ä¾‹è´Ÿè´£ç›‘å¬ï¼Œæ¬¡å®ä¾‹è´Ÿè´£è½¬äº¤ URIï¼Œæœ€ç»ˆç”±ä¸»å®ä¾‹æ‹¿åˆ°æˆæƒç å¹¶æ¢ Tokenã€‚</p></blockquote><p>ç¤ºä¾‹ç¨‹åºå®ç°äº† <strong>å•å®ä¾‹ + è‡ªå®šä¹‰åè®®å›è°ƒ + å®ä¾‹é—´é€šè¿‡å‘½åç®¡é“ä¼  URI</strong> çš„æµç¨‹ã€‚æ ¸å¿ƒæ€è·¯æ˜¯ï¼š</p><ul><li>ç¨‹åºç”¨ä¸€ä¸ªå‘½å <code>Mutex</code> åˆ¤æ–­â€œæ˜¯å¦ä¸ºé¦–ä¸ªå®ä¾‹â€ã€‚</li><li>å¦‚æœæ˜¯<strong>é¦–ä¸ªå®ä¾‹</strong>ï¼š<ul><li>å¯åŠ¨ä¸€ä¸ªåå°çº¿ç¨‹ä½œä¸º <strong>å‘½åç®¡é“æœåŠ¡å™¨</strong>ï¼ˆç­‰å¾…å…¶ä»–å®ä¾‹è¿æ¥å¹¶è¯»å–å¯¹æ–¹å†™å…¥çš„å­—ç¬¦ä¸²ï¼‰ã€‚</li><li>æŠŠè‡ªå®šä¹‰åè®® <code>accesories-udcc</code> æ³¨å†Œåˆ°å½“å‰ç”¨æˆ·çš„æ³¨å†Œè¡¨ï¼ˆHKCUï¼‰ï¼Œå¹¶æ‰“å¼€æµè§ˆå™¨å‘èµ· OAuth æˆæƒï¼ˆ<code>auth_url</code>ï¼‰ã€‚</li><li>é¦–å®ä¾‹ç­‰å¾…é€šè¿‡ç®¡é“æ”¶åˆ°åç»­å›è°ƒï¼ˆä¾‹å¦‚åŒ…å« <code>code</code> çš„ URIï¼‰ï¼Œæ”¶åˆ°åè§£æå¹¶å¤„ç†ï¼ˆå½“å‰åªæ˜¯æ‰“å° code&#x2F;stateï¼‰ã€‚</li></ul></li><li>å¦‚æœæ˜¯<strong>åç»­å¯åŠ¨çš„å®ä¾‹</strong>ï¼ˆé€šå¸¸ç”±æµè§ˆå™¨åœ¨ OAuth å›è°ƒæ—¶å¯åŠ¨ï¼‰ï¼š<ul><li>è¯†åˆ«åˆ°ä¸æ˜¯é¦–å®ä¾‹åï¼ŒæŠŠå‘½ä»¤è¡Œå‚æ•°ï¼ˆæµè§ˆå™¨ä¼ æ¥çš„ <code>accesories-udcc://...</code>ï¼‰é€šè¿‡<strong>å‘½åç®¡é“</strong>å†™ç»™é¦–å®ä¾‹ï¼Œç„¶åé€€å‡ºã€‚</li></ul></li></ul><p>è¿™æ ·åšçš„å¥½å¤„ï¼šæˆæƒæµç¨‹åªåœ¨ä¸€ä¸ªä¸»è¿›ç¨‹é‡Œåšå®é™…å¤„ç†ï¼Œæµè§ˆå™¨ç›´æ¥è§¦å‘ä¸€ä¸ªæ–°è¿›ç¨‹ï¼ˆç”±ç³»ç»Ÿæ‰“å¼€è‡ªå®šä¹‰åè®®ï¼‰ï¼Œæ–°è¿›ç¨‹æŠŠ URI è½¬äº¤ç»™ä¸»è¿›ç¨‹åè‡ªå·±é€€å‡ºï¼Œé¿å…å¤šé‡å¹¶è¡Œå¤„ç†æˆ– UI å†²çªã€‚</p><br><h4 id="å®Œæ•´æºç "><a href="#å®Œæ•´æºç " class="headerlink" title="å®Œæ•´æºç "></a>å®Œæ•´æºç </h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">// main.cpp åªä¿ç•™é€šç”¨ä»£ç ï¼Œè‡ªè¡Œæ›¿æ¢ä¸€äº›å®é™…å‚æ•°å³å¯æ­£å¸¸ç¼–è¯‘å’Œè¿è¡Œ// ä½¿ç”¨å‘½åç®¡é“ <span class="token punctuation">(</span><span class="token punctuation">\</span><span class="token punctuation">\</span>.<span class="token punctuation">\</span>pipe<span class="token punctuation">\</span>MyApp_Pipe_v1<span class="token punctuation">)</span> åœ¨ä¸»/å­è¿›ç¨‹é—´ä¼ é€’ my-app:// URI// ç‰¹ç‚¹ï¼šä¸»å®ä¾‹åˆ›å»ºç®¡é“æœåŠ¡å™¨çº¿ç¨‹ï¼›æ–°å®ä¾‹å°è¯•è¿æ¥ç®¡é“å¹¶å†™å…¥ URIï¼ˆç„¶åé€€å‡ºï¼‰ã€‚<span class="token comment">#include &lt;windows.h></span><span class="token comment">#include &lt;shellapi.h></span><span class="token comment">#include &lt;shlwapi.h></span><span class="token comment">#include &lt;string></span><span class="token comment">#include &lt;map></span><span class="token comment">#include &lt;sstream></span><span class="token comment">#include &lt;iostream></span><span class="token comment">#include &lt;thread></span><span class="token comment">#include &lt;vector></span><span class="token comment">#pragma comment(lib, "Shlwapi.lib")</span>using std::string<span class="token punctuation">;</span>using std::map<span class="token punctuation">;</span>using std::cout<span class="token punctuation">;</span>using std::endl<span class="token punctuation">;</span>// å¸¸é‡const char* PIPE_NAME <span class="token operator">=</span> R<span class="token string">"(<span class="token entity" title="\\">\\</span>.\pipe\MyApp_Pipe_v1)"</span><span class="token punctuation">;</span>const char* MUTEX_NAME <span class="token operator">=</span> <span class="token string">"Local<span class="token entity" title="\\">\\</span>MyApp_Mutex_v1"</span><span class="token punctuation">;</span>//////////////////////////////////////////////////////////////////// å·¥å…·å‡½æ•°ï¼ˆURL è§£ç ã€è§£æ query/fragmentã€exe è·¯å¾„ç­‰ï¼‰//////////////////////////////////////////////////////////////////string <span class="token function-name function">GetExePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    char buf<span class="token punctuation">[</span>MAX_PATH<span class="token punctuation">]</span><span class="token punctuation">;</span>    DWORD n <span class="token operator">=</span> GetModuleFileNameA<span class="token punctuation">(</span>nullptr, buf, MAX_PATH<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token builtin class-name">return</span> <span class="token string">""</span><span class="token punctuation">;</span>    <span class="token builtin class-name">return</span> string<span class="token punctuation">(</span>buf, n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>string ToLowerAscii<span class="token punctuation">(</span>const string<span class="token operator">&amp;</span> s<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    string r <span class="token operator">=</span> s<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>char<span class="token operator">&amp;</span> c <span class="token builtin class-name">:</span> r<span class="token punctuation">)</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">>=</span> <span class="token string">'A'</span> <span class="token operator">&amp;&amp;</span> c <span class="token operator">&lt;=</span> <span class="token string">'Z'</span><span class="token punctuation">)</span> c <span class="token operator">=</span> char<span class="token punctuation">(</span>c - <span class="token string">'A'</span> + <span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token builtin class-name">return</span> r<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>string PercentDecode<span class="token punctuation">(</span>const string<span class="token operator">&amp;</span> s<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    string out<span class="token punctuation">;</span>    out.reserve<span class="token punctuation">(</span>s.size<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span>    auto hex <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span>char c<span class="token punctuation">)</span>-<span class="token operator">></span>int <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> c <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token builtin class-name">return</span> c - <span class="token string">'0'</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">>=</span> <span class="token string">'A'</span> <span class="token operator">&amp;&amp;</span> c <span class="token operator">&lt;=</span> <span class="token string">'F'</span><span class="token punctuation">)</span> <span class="token builtin class-name">return</span> c - <span class="token string">'A'</span> + <span class="token number">10</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">>=</span> <span class="token string">'a'</span> <span class="token operator">&amp;&amp;</span> c <span class="token operator">&lt;=</span> <span class="token string">'f'</span><span class="token punctuation">)</span> <span class="token builtin class-name">return</span> c - <span class="token string">'a'</span> + <span class="token number">10</span><span class="token punctuation">;</span>        <span class="token builtin class-name">return</span> -1<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s.size<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> ++i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'%'</span> <span class="token operator">&amp;&amp;</span> i + <span class="token number">2</span> <span class="token operator">&lt;</span> s.size<span class="token punctuation">(</span><span class="token punctuation">))</span> <span class="token punctuation">&#123;</span>            int h <span class="token operator">=</span> hex<span class="token punctuation">(</span>s<span class="token punctuation">[</span>i + <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            int l <span class="token operator">=</span> hex<span class="token punctuation">(</span>s<span class="token punctuation">[</span>i + <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>h <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> l <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                out.push_back<span class="token punctuation">(</span>char<span class="token variable"><span class="token punctuation">((</span>h <span class="token operator">&lt;&lt;</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">|</span> l<span class="token punctuation">))</span></span><span class="token punctuation">;</span>                i <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">;</span>                <span class="token builtin class-name">continue</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'+'</span><span class="token punctuation">)</span> out.push_back<span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">else</span> out.push_back<span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token builtin class-name">return</span> out<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>map<span class="token operator">&lt;</span>string, string<span class="token operator">></span> ParseParamsFromUri<span class="token punctuation">(</span>const string<span class="token operator">&amp;</span> uri<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    map<span class="token operator">&lt;</span>string, string<span class="token operator">></span> out<span class="token punctuation">;</span>    size_t hashPos <span class="token operator">=</span> uri.find<span class="token punctuation">(</span><span class="token string">'#'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    size_t qPos <span class="token operator">=</span> uri.find<span class="token punctuation">(</span><span class="token string">'?'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    auto parse_part <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">&amp;</span><span class="token punctuation">]</span><span class="token punctuation">(</span>size_t start, size_t end<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>start <span class="token operator">==</span> string::npos <span class="token operator">||</span> start <span class="token operator">>=</span> end<span class="token punctuation">)</span> <span class="token builtin class-name">return</span><span class="token punctuation">;</span>        string part <span class="token operator">=</span> uri.substr<span class="token punctuation">(</span>start, end - start<span class="token punctuation">)</span><span class="token punctuation">;</span>        size_t pos <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>pos <span class="token operator">&lt;</span> part.size<span class="token punctuation">(</span><span class="token punctuation">))</span> <span class="token punctuation">&#123;</span>            size_t amp <span class="token operator">=</span> part.find<span class="token punctuation">(</span><span class="token string">'&amp;'</span>, pos<span class="token punctuation">)</span><span class="token punctuation">;</span>            string token <span class="token operator">=</span> part.substr<span class="token punctuation">(</span>pos, <span class="token punctuation">(</span>amp <span class="token operator">==</span> string::npos ? part.size<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin class-name">:</span> amp<span class="token punctuation">)</span> - pos<span class="token punctuation">)</span><span class="token punctuation">;</span>            size_t eq <span class="token operator">=</span> token.find<span class="token punctuation">(</span><span class="token string">'='</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>eq <span class="token operator">!=</span> string::npos<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                string k <span class="token operator">=</span> token.substr<span class="token punctuation">(</span><span class="token number">0</span>, eq<span class="token punctuation">)</span><span class="token punctuation">;</span>                string <span class="token function">v</span> <span class="token operator">=</span> token.substr<span class="token punctuation">(</span>eq + <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                out<span class="token punctuation">[</span>PercentDecode<span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> PercentDecode<span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                out<span class="token punctuation">[</span>PercentDecode<span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>amp <span class="token operator">==</span> string::npos<span class="token punctuation">)</span> <span class="token builtin class-name">break</span><span class="token punctuation">;</span>            pos <span class="token operator">=</span> amp + <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>qPos <span class="token operator">!=</span> string::npos<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        size_t qStart <span class="token operator">=</span> qPos + <span class="token number">1</span><span class="token punctuation">;</span>        size_t qEnd <span class="token operator">=</span> <span class="token punctuation">(</span>hashPos <span class="token operator">!=</span> string::npos<span class="token punctuation">)</span> ? hashPos <span class="token builtin class-name">:</span> uri.size<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>qStart <span class="token operator">&lt;</span> qEnd<span class="token punctuation">)</span> parse_part<span class="token punctuation">(</span>qStart, qEnd<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>hashPos <span class="token operator">!=</span> string::npos<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        size_t fStart <span class="token operator">=</span> hashPos + <span class="token number">1</span><span class="token punctuation">;</span>        size_t fEnd <span class="token operator">=</span> uri.size<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>fStart <span class="token operator">&lt;</span> fEnd<span class="token punctuation">)</span> parse_part<span class="token punctuation">(</span>fStart, fEnd<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token builtin class-name">return</span> out<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>//////////////////////////////////////////////////////////////////// å‘½åç®¡é“æœåŠ¡å™¨ï¼ˆåœ¨ä¸»å®ä¾‹ä¸­è¿è¡Œï¼‰// ç›‘å¬ç®¡é“è¿æ¥ï¼Œè¯»å–å®¢æˆ·ç«¯å†™å…¥çš„ URI å­—ç¬¦ä¸²ï¼ˆä»¥ <span class="token string">'\0'</span> ç»“å°¾æˆ–è¯»å–é•¿åº¦ï¼‰// æ”¶åˆ°åäº¤ç»™ ProcessReceivedUri å¤„ç†ï¼ˆå½“å‰ç¤ºä¾‹åªæ˜¯æ‰“å°å¹¶è§£æ code/stateï¼‰//////////////////////////////////////////////////////////////////void ProcessReceivedUri<span class="token punctuation">(</span>const string<span class="token operator">&amp;</span> uri<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"[Server] æ”¶åˆ° URI: "</span> <span class="token operator">&lt;&lt;</span> uri <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    auto params <span class="token operator">=</span> ParseParamsFromUri<span class="token punctuation">(</span>uri<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>params.count<span class="token punctuation">(</span><span class="token string">"code"</span><span class="token punctuation">))</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"[Server] code = "</span> <span class="token operator">&lt;&lt;</span> params<span class="token punctuation">[</span><span class="token string">"code"</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>params.count<span class="token punctuation">(</span><span class="token string">"state"</span><span class="token punctuation">))</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"[Server] state = "</span> <span class="token operator">&lt;&lt;</span> params<span class="token punctuation">[</span><span class="token string">"state"</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    // TODO: åœ¨è¿™é‡Œç»§ç»­åš code-<span class="token operator">></span>token çš„äº¤æ¢ï¼ˆHTTP è¯·æ±‚ï¼‰<span class="token punctuation">&#125;</span>void <span class="token function-name function">PipeServerThreadProc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>true<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        // åˆ›å»ºå‘½åç®¡é“ï¼ˆå•å®ä¾‹ï¼šæ¯æ¬¡è¿æ¥å Disconnect å¹¶ç»§ç»­ï¼‰        HANDLE hPipe <span class="token operator">=</span> CreateNamedPipeA<span class="token punctuation">(</span>            PIPE_NAME,            PIPE_ACCESS_INBOUND, // åªè¯»ï¼ˆå®¢æˆ·ç«¯å†™å…¥ï¼‰            PIPE_TYPE_BYTE <span class="token operator">|</span> PIPE_READMODE_BYTE <span class="token operator">|</span> PIPE_WAIT,            <span class="token number">1</span>,          // æœ€å¤šä¸€ä¸ªå®ä¾‹è¿æ¥            <span class="token number">4096</span>,       // out buffer            <span class="token number">4096</span>,       // <span class="token keyword">in</span> buffer            <span class="token number">0</span>,            NULL        <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>hPipe <span class="token operator">==</span> INVALID_HANDLE_VALUE<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"[Server] CreateNamedPipeA å¤±è´¥, GetLastError="</span> <span class="token operator">&lt;&lt;</span> GetLastError<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>            std::this_thread::sleep_for<span class="token punctuation">(</span>std::chrono::seconds<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">))</span><span class="token punctuation">;</span>            <span class="token builtin class-name">continue</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        // ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥        BOOL connected <span class="token operator">=</span> ConnectNamedPipe<span class="token punctuation">(</span>hPipe, NULL<span class="token punctuation">)</span> ? TRUE <span class="token builtin class-name">:</span> <span class="token punctuation">(</span>GetLastError<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> ERROR_PIPE_CONNECTED<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>connected<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"[Server] ConnectNamedPipe å¤±è´¥, GetLastError="</span> <span class="token operator">&lt;&lt;</span> GetLastError<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>            CloseHandle<span class="token punctuation">(</span>hPipe<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token builtin class-name">continue</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        // å®¢æˆ·ç«¯å·²è¿æ¥ï¼Œè¯»å–æ•°æ®        std::vector<span class="token operator">&lt;</span>char<span class="token operator">></span> buf<span class="token punctuation">(</span><span class="token number">4096</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        DWORD bytesRead <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        BOOL readOk <span class="token operator">=</span> ReadFile<span class="token punctuation">(</span>hPipe, buf.data<span class="token punctuation">(</span><span class="token punctuation">)</span>, <span class="token punctuation">(</span>DWORD<span class="token punctuation">)</span>buf.size<span class="token punctuation">(</span><span class="token punctuation">)</span> - <span class="token number">1</span>, <span class="token operator">&amp;</span>bytesRead, NULL<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>readOk <span class="token operator">||</span> bytesRead <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"[Server] ReadFile å¤±è´¥æˆ–æ— æ•°æ®, GetLastError="</span> <span class="token operator">&lt;&lt;</span> GetLastError<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>            // æ–­å¼€å¹¶ç»§ç»­å¾ªç¯            DisconnectNamedPipe<span class="token punctuation">(</span>hPipe<span class="token punctuation">)</span><span class="token punctuation">;</span>            CloseHandle<span class="token punctuation">(</span>hPipe<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token builtin class-name">continue</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        // ç¡®ä¿ä»¥ <span class="token string">'\0'</span> ç»ˆæ­¢        <span class="token keyword">if</span> <span class="token punctuation">(</span>bytesRead <span class="token operator">>=</span> buf.size<span class="token punctuation">(</span><span class="token punctuation">))</span> bytesRead <span class="token operator">=</span> <span class="token punctuation">(</span>DWORD<span class="token punctuation">)</span>buf.size<span class="token punctuation">(</span><span class="token punctuation">)</span> - <span class="token number">1</span><span class="token punctuation">;</span>        buf<span class="token punctuation">[</span>bytesRead<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'\0'</span><span class="token punctuation">;</span>        string uri<span class="token punctuation">(</span>buf.data<span class="token punctuation">(</span><span class="token punctuation">)</span>, bytesRead<span class="token punctuation">)</span><span class="token punctuation">;</span>        ProcessReceivedUri<span class="token punctuation">(</span>uri<span class="token punctuation">)</span><span class="token punctuation">;</span>        // å…³é—­/æ–­å¼€        DisconnectNamedPipe<span class="token punctuation">(</span>hPipe<span class="token punctuation">)</span><span class="token punctuation">;</span>        CloseHandle<span class="token punctuation">(</span>hPipe<span class="token punctuation">)</span><span class="token punctuation">;</span>        // ç»§ç»­ç­‰å¾…ä¸‹ä¸€ä¸ªå®¢æˆ·ç«¯    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>//////////////////////////////////////////////////////////////////// å‘é€ç«¯ï¼ˆæ–°å®ä¾‹ï¼‰ï¼šå°è¯•è¿æ¥å‘½åç®¡é“å¹¶å†™å…¥ URIï¼ˆå¸¦é‡è¯•ï¼‰// è¿”å› <span class="token boolean">true</span> è¡¨ç¤ºå‘é€æˆåŠŸï¼ˆä¸»å®ä¾‹ä¼šå¤„ç†ï¼‰ï¼Œfalse è¡¨ç¤ºå‘é€å¤±è´¥//////////////////////////////////////////////////////////////////bool SendUriToPipeServer<span class="token punctuation">(</span>const string<span class="token operator">&amp;</span> uri, int maxRetries <span class="token operator">=</span> <span class="token number">8</span>, int retryDelayMs <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> maxRetries<span class="token punctuation">;</span> ++i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        // å°è¯•æ‰“å¼€ç®¡é“        HANDLE hPipe <span class="token operator">=</span> CreateFileA<span class="token punctuation">(</span>            PIPE_NAME,            GENERIC_WRITE,            <span class="token number">0</span>,            NULL,            OPEN_EXISTING,            <span class="token number">0</span>,            NULL        <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>hPipe <span class="token operator">!=</span> INVALID_HANDLE_VALUE<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            // æˆåŠŸè¿æ¥ï¼Œå†™å…¥æ•°æ®ï¼ˆåŒ…å« <span class="token string">'\0'</span>ï¼‰            DWORD bytesWritten <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            BOOL ok <span class="token operator">=</span> WriteFile<span class="token punctuation">(</span>hPipe, uri.c_str<span class="token punctuation">(</span><span class="token punctuation">)</span>, <span class="token punctuation">(</span>DWORD<span class="token punctuation">)</span>uri.size<span class="token punctuation">(</span><span class="token punctuation">)</span> + <span class="token number">1</span>, <span class="token operator">&amp;</span>bytesWritten, NULL<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ok<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                cout <span class="token operator">&lt;&lt;</span> <span class="token string">"[Client] WriteFile å¤±è´¥, GetLastError="</span> <span class="token operator">&lt;&lt;</span> GetLastError<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>                CloseHandle<span class="token punctuation">(</span>hPipe<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token builtin class-name">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"[Client] æˆåŠŸå†™å…¥ç®¡é“, bytesWritten="</span> <span class="token operator">&lt;&lt;</span> bytesWritten <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>            CloseHandle<span class="token punctuation">(</span>hPipe<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token builtin class-name">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            DWORD err <span class="token operator">=</span> GetLastError<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            // ERROR_FILE_NOT_FOUND è¡¨ç¤ºæœåŠ¡å™¨æœªåˆ›å»ºç®¡é“ï¼ˆä¸»å®ä¾‹å°šæœªå°±ç»ªï¼‰            <span class="token keyword">if</span> <span class="token punctuation">(</span>err <span class="token operator">==</span> ERROR_FILE_NOT_FOUND<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                // ç­‰å¾…å¹¶é‡è¯•                // cout <span class="token operator">&lt;&lt;</span> <span class="token string">"[Client] ç®¡é“ä¸å­˜åœ¨ï¼Œç­‰å¾…é‡è¯•..."</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>                Sleep<span class="token punctuation">(</span>retryDelayMs<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token builtin class-name">continue</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                cout <span class="token operator">&lt;&lt;</span> <span class="token string">"[Client] CreateFile æ‰“å¼€ç®¡é“å¤±è´¥, GetLastError="</span> <span class="token operator">&lt;&lt;</span> err <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>                Sleep<span class="token punctuation">(</span>retryDelayMs<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token builtin class-name">continue</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"[Client] å·²è¾¾æœ€å¤§é‡è¯•æ¬¡æ•°ï¼Œæ— æ³•è¿æ¥ç®¡é“å‘é€ URI"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token builtin class-name">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>//////////////////////////////////////////////////////////////////// mainï¼šå•å®ä¾‹åˆ¤æ–­ã€ç®¡é“å‘é€/æ¥æ”¶ã€æ‰“å¼€æµè§ˆå™¨ï¼ˆä¿ç•™ <span class="token assign-left variable">response_mode</span><span class="token operator">=</span>fragmentï¼‰//////////////////////////////////////////////////////////////////int main<span class="token punctuation">(</span>int argc, char* argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    // åˆ›å»ºå‘½å Mutex åˆ¤æ–­æ˜¯å¦é¦–ä¸ªå®ä¾‹    HANDLE hMutex <span class="token operator">=</span> CreateMutexA<span class="token punctuation">(</span>NULL, FALSE, MUTEX_NAME<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>hMutex<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"CreateMutex å¤±è´¥: "</span> <span class="token operator">&lt;&lt;</span> GetLastError<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token builtin class-name">return</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    bool firstInstance <span class="token operator">=</span> <span class="token punctuation">(</span>GetLastError<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> ERROR_ALREADY_EXISTS<span class="token punctuation">)</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"firstInstance = "</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>firstInstance ? <span class="token string">"true"</span> <span class="token builtin class-name">:</span> <span class="token string">"false"</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    // è‹¥ä»¥åè®®æ–¹å¼å¯åŠ¨ï¼Œargv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> é‡Œå¯èƒ½åŒ…å« URIï¼ˆæˆ–è¢«å¼•å·åŒ…è£¹ï¼‰    string rawArg<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>argc <span class="token operator">>=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        rawArg <span class="token operator">=</span> argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>rawArg.empty<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> rawArg.front<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'"'</span> <span class="token operator">&amp;&amp;</span> rawArg.back<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'"'</span><span class="token punctuation">)</span> rawArg <span class="token operator">=</span> rawArg.substr<span class="token punctuation">(</span><span class="token number">1</span>, rawArg.size<span class="token punctuation">(</span><span class="token punctuation">)</span> - <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    // å¯¹ argv åš PercentDecodeï¼ˆæŠŠ %23 -<span class="token operator">></span> <span class="token string">'#'</span> ç­‰æ¢å¤ï¼‰    string decodedArg <span class="token operator">=</span> PercentDecode<span class="token punctuation">(</span>rawArg<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>firstInstance<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        // æ–°å®ä¾‹ï¼šå°è¯•é€šè¿‡å‘½åç®¡é“æŠŠ URI å‘ç»™ä¸»å®ä¾‹ï¼ˆå¦‚æœå¸¦ URIï¼‰        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"[Client] éé¦–å®ä¾‹ï¼Œå°è¯•é€šè¿‡å‘½åç®¡é“å‘é€ URIï¼ˆå¦‚æœå­˜åœ¨ï¼‰..."</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>decodedArg.empty<span class="token punctuation">(</span><span class="token punctuation">))</span> <span class="token punctuation">&#123;</span>            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"[Client] å°†å‘é€çš„ URI (decoded) = "</span> <span class="token operator">&lt;&lt;</span> decodedArg <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>            bool sent <span class="token operator">=</span> SendUriToPipeServer<span class="token punctuation">(</span>decodedArg, <span class="token number">12</span>, <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>sent<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                cout <span class="token operator">&lt;&lt;</span> <span class="token string">"[Client] é€šè¿‡ç®¡é“å‘é€å¤±è´¥ï¼Œå¯èƒ½ä¸»å®ä¾‹æœªå°±ç»ªæˆ–æƒé™é—®é¢˜ã€‚"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>                // å¤±è´¥åé€‰æ‹©é€€å‡º            <span class="token punctuation">&#125;</span>            <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                cout <span class="token operator">&lt;&lt;</span> <span class="token string">"[Client] å‘é€æˆåŠŸï¼Œè¿›ç¨‹é€€å‡ºã€‚"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>                <span class="token builtin class-name">return</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"[Client] æ²¡æœ‰ URI å‚æ•°ï¼Œç›´æ¥é€€å‡ºã€‚"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token builtin class-name">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    // é¦–ä¸ªå®ä¾‹ï¼šå¯åŠ¨å‘½åç®¡é“æœåŠ¡å™¨çº¿ç¨‹    std::thread serverThread<span class="token punctuation">(</span>PipeServerThreadProc<span class="token punctuation">)</span><span class="token punctuation">;</span>    serverThread.detach<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"[Server] å‘½åç®¡é“æœåŠ¡å™¨çº¿ç¨‹å·²å¯åŠ¨ï¼Œç®¡é“å="</span> <span class="token operator">&lt;&lt;</span> PIPE_NAME <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    // é¦–ä¸ªå®ä¾‹ï¼šæ³¨å†Œè‡ªå®šä¹‰åè®®ï¼ˆHKCUï¼Œå…ç®¡ç†å‘˜ï¼‰    string keyErr<span class="token punctuation">;</span>    // æ³¨å†Œå‡½æ•°ï¼šå†™å…¥ HKCU<span class="token punctuation">\</span>Software<span class="token punctuation">\</span>Classes<span class="token punctuation">\</span>my-app<span class="token punctuation">\</span>shell<span class="token punctuation">\</span>open<span class="token punctuation">\</span>command <span class="token operator">=</span> <span class="token string">"exe"</span> <span class="token string">"%1"</span>    // ä½ å¯ä»¥åœ¨å®‰è£…ç¨‹åºä¸­æ›¿ä»£æ­¤æ­¥éª¤    HKEY hKey <span class="token operator">=</span> NULL<span class="token punctuation">;</span>    string keyRoot <span class="token operator">=</span> <span class="token string">"Software<span class="token entity" title="\\">\\</span>Classes<span class="token entity" title="\\">\\</span>my-app"</span><span class="token punctuation">;</span>    LONG r <span class="token operator">=</span> RegCreateKeyExA<span class="token punctuation">(</span>HKEY_CURRENT_USER, keyRoot.c_str<span class="token punctuation">(</span><span class="token punctuation">)</span>, <span class="token number">0</span>, nullptr,        REG_OPTION_NON_VOLATILE, KEY_WRITE, nullptr, <span class="token operator">&amp;</span>hKey, nullptr<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">==</span> ERROR_SUCCESS<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        string desc <span class="token operator">=</span> <span class="token string">"URL:my-app Protocol"</span><span class="token punctuation">;</span>        RegSetValueExA<span class="token punctuation">(</span>hKey, nullptr, <span class="token number">0</span>, REG_SZ, <span class="token punctuation">(</span>const BYTE*<span class="token punctuation">)</span>desc.c_str<span class="token punctuation">(</span><span class="token punctuation">)</span>, DWORD<span class="token punctuation">(</span>desc.size<span class="token punctuation">(</span><span class="token punctuation">)</span> + <span class="token number">1</span><span class="token punctuation">))</span><span class="token punctuation">;</span>        RegSetValueExA<span class="token punctuation">(</span>hKey, <span class="token string">"URL Protocol"</span>, <span class="token number">0</span>, REG_SZ, <span class="token punctuation">(</span>const BYTE*<span class="token punctuation">)</span><span class="token string">""</span>, <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        RegCloseKey<span class="token punctuation">(</span>hKey<span class="token punctuation">)</span><span class="token punctuation">;</span>        string cmdKey <span class="token operator">=</span> keyRoot + <span class="token string">"<span class="token entity" title="\\">\\</span>shell<span class="token entity" title="\\">\\</span>open<span class="token entity" title="\\">\\</span>command"</span><span class="token punctuation">;</span>        HKEY hCmd <span class="token operator">=</span> NULL<span class="token punctuation">;</span>        r <span class="token operator">=</span> RegCreateKeyExA<span class="token punctuation">(</span>HKEY_CURRENT_USER, cmdKey.c_str<span class="token punctuation">(</span><span class="token punctuation">)</span>, <span class="token number">0</span>, nullptr,            REG_OPTION_NON_VOLATILE, KEY_WRITE, nullptr, <span class="token operator">&amp;</span>hCmd, nullptr<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">==</span> ERROR_SUCCESS<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            string exePath <span class="token operator">=</span> GetExePath<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            string cmd <span class="token operator">=</span> <span class="token string">"<span class="token entity" title="\&quot;">\"</span>"</span> + exePath + <span class="token string">"<span class="token entity" title="\&quot;">\"</span> <span class="token entity" title="\&quot;">\"</span>%1<span class="token entity" title="\&quot;">\"</span>"</span><span class="token punctuation">;</span>            RegSetValueExA<span class="token punctuation">(</span>hCmd, nullptr, <span class="token number">0</span>, REG_SZ, <span class="token punctuation">(</span>const BYTE*<span class="token punctuation">)</span>cmd.c_str<span class="token punctuation">(</span><span class="token punctuation">)</span>, DWORD<span class="token punctuation">(</span>cmd.size<span class="token punctuation">(</span><span class="token punctuation">)</span> + <span class="token number">1</span><span class="token punctuation">))</span><span class="token punctuation">;</span>            RegCloseKey<span class="token punctuation">(</span>hCmd<span class="token punctuation">)</span><span class="token punctuation">;</span>            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"[Server] å·²åœ¨ HKCU æ³¨å†Œ my-app åè®®ï¼ˆå½“å‰ç”¨æˆ·ç”Ÿæ•ˆï¼‰ã€‚"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"[Server] åˆ›å»º command å­é”®å¤±è´¥: "</span> <span class="token operator">&lt;&lt;</span> r <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"[Server] åˆ›å»ºæ³¨å†Œè¡¨é”®å¤±è´¥: "</span> <span class="token operator">&lt;&lt;</span> r <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    // å¦‚æœé¦–ä¸ªå®ä¾‹å¯åŠ¨æ—¶å¸¦æœ‰ URIï¼ˆä¾‹å¦‚æµè§ˆå™¨ç›´æ¥ä»¥é¦–å®ä¾‹æ–¹å¼å¯åŠ¨ï¼‰ï¼Œè§£æå¹¶å¤„ç†    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>decodedArg.empty<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> ToLowerAscii<span class="token punctuation">(</span>decodedArg<span class="token punctuation">)</span>.rfind<span class="token punctuation">(</span><span class="token string">"my-app://"</span>, <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"[Server] å¯åŠ¨æ—¶æºå¸¦ deep-link: "</span> <span class="token operator">&lt;&lt;</span> decodedArg <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        ProcessReceivedUri<span class="token punctuation">(</span>decodedArg<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    // æ„é€  auth_urlï¼ˆä¿æŒä½ æœ€åˆè¦æ±‚ï¼Œä¸ä¿®æ”¹ <span class="token assign-left variable">response_mode</span><span class="token operator">=</span>fragmentï¼‰    string redirect_uri <span class="token operator">=</span> <span class="token string">"my-app://token"</span><span class="token punctuation">;</span>    const string auth_url <span class="token operator">=</span> std::string<span class="token punctuation">(</span><span class="token string">"https://account.xxxx.com/auth/xxxx/xxxx/auth"</span><span class="token punctuation">)</span>        + <span class="token string">"?client_id=my-app"</span>        + <span class="token string">"&amp;state=xxxx"</span>        + <span class="token string">"&amp;response_mode=fragment"</span>        + <span class="token string">"&amp;response_type=code"</span>        + <span class="token string">"&amp;nonce=xxxx"</span>        + <span class="token string">"&amp;scope=xxxx"</span>        + <span class="token string">"&amp;redirect_uri="</span> + redirect_uri<span class="token punctuation">;</span>  // é‡ç‚¹    // æ‰“å¼€æµè§ˆå™¨å‘èµ·æˆæƒï¼ˆä»…ç”¨äºæµ‹è¯•æˆ–æ¼”ç¤ºï¼‰    ShellExecuteA<span class="token punctuation">(</span>nullptr, <span class="token string">"open"</span>, auth_url.c_str<span class="token punctuation">(</span><span class="token punctuation">)</span>, nullptr, nullptr, SW_SHOWNORMAL<span class="token punctuation">)</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"[Server] å·²æ‰“å¼€æµè§ˆå™¨ï¼Œauth_url="</span> <span class="token operator">&lt;&lt;</span> auth_url <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"[Server] ç­‰å¾…é€šè¿‡å‘½åç®¡é“ä¼ å…¥çš„ my-app:// å›è°ƒ..."</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    // ç®€å•çš„æ¶ˆæ¯å¾ªç¯ï¼šè¿™é‡Œç”¨ GetMessage ä»¥ä¿æŒè¿›ç¨‹æ´»è·ƒï¼ˆä¾¿äº Ctrl+C åœæ­¢ï¼‰    // ä½ å¯ä»¥æŠŠä¸»å¾ªç¯æ›¿æ¢ä¸ºä½ çš„ GUI/åº”ç”¨ä¸»å¾ªç¯    MSG msg<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>GetMessage<span class="token punctuation">(</span><span class="token operator">&amp;</span>msg, NULL, <span class="token number">0</span>, <span class="token number">0</span><span class="token punctuation">))</span> <span class="token punctuation">&#123;</span>        TranslateMessage<span class="token punctuation">(</span><span class="token operator">&amp;</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>        DispatchMessage<span class="token punctuation">(</span><span class="token operator">&amp;</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    // æ¸…ç†ï¼ˆæ°¸è¿œåˆ°ä¸äº†è¿™é‡Œï¼Œé™¤é PostQuitMessageï¼‰    CloseHandle<span class="token punctuation">(</span>hMutex<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token builtin class-name">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="libcurl-è¯·æ±‚ç”¨æˆæƒç -code-ç½®æ¢-token"><a href="#libcurl-è¯·æ±‚ç”¨æˆæƒç -code-ç½®æ¢-token" class="headerlink" title="libcurl è¯·æ±‚ç”¨æˆæƒç  code ç½®æ¢ token"></a>libcurl è¯·æ±‚ç”¨æˆæƒç  code ç½®æ¢ token</h4><p>ä¸‹é¢ä»…ç®€è¦è¯´æ˜ä½¿ç”¨ <code>libcurl</code> å‘èµ·ç”¨ Code æ¥ç½®æ¢ Token è¯·æ±‚ï¼›</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">--location</span> <span class="token parameter variable">--request</span> POST <span class="token string">"https://account.xxxx.xxxx.com/auth/xxxx/xxxxxxx/xxxxx/xxxxxx/token"</span> <span class="token punctuation">\</span><span class="token parameter variable">--header</span> <span class="token string">"Content-Type: application/x-www-form-urlencoded"</span> <span class="token punctuation">\</span>--data-urlencode <span class="token string">"code=xxx-long-code-xxx"</span> <span class="token punctuation">\</span>--data-urlencode <span class="token string">"grant_type=xxxx"</span> <span class="token punctuation">\</span>--data-urlencode <span class="token string">"client_id=my-app"</span> <span class="token punctuation">\</span>--data-urlencode <span class="token string">"redirect_uri=my-app://token"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯ä»¥çœ‹åˆ°è¿”å›æˆ‘ä»¬æ‰€éœ€è¦çš„ <code>access_token</code>, è‡³æ­¤å³å®Œæˆ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">&#123;</span><span class="token string">"access_token"</span><span class="token builtin class-name">:</span> <span class="token string">"eyJhbGciOiJSUè¶…çº§é•¿ä¸€æ®µå­—ç¬¦ä¸²3YV_8_vA"</span>,<span class="token string">"expires_in"</span><span class="token builtin class-name">:</span> xxxx,<span class="token punctuation">..</span><span class="token punctuation">..</span>.<span class="token string">"scope"</span><span class="token builtin class-name">:</span> <span class="token string">"xxxx1 xxxx2"</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="ç¼–è¯‘-Libcurl-æŒ‡å—"><a href="#ç¼–è¯‘-Libcurl-æŒ‡å—" class="headerlink" title="ç¼–è¯‘ Libcurl  æŒ‡å—"></a>ç¼–è¯‘ Libcurl  æŒ‡å—</h3><p><strong>æ›´è¿›ä¸€æ­¥å®Œå–„ï¼š</strong> ç®€å•çš„éªŒè¯æ–¹å¼ç›´æ¥åœ¨ CMD ç»ˆç«¯ä¸­ï¼Œè°ƒç”¨ä¸Šé¢ CURL å‘½ä»¤æ¥éªŒè¯å¯è¡Œæ€§ï¼Œå†åˆ‡æ¢ä¸ºè°ƒç”¨ Libcurl åº“æ¥å®ç°ã€‚</p><p>å¯¹äº Libcurl  ä¸ç†Ÿæ‚‰çš„è¯ï¼Œå¯ä»¥æŸ¥çœ‹å†™çš„ <a href="https://xmuli.blog.csdn.net/article/details/150998055">ã€ŠC++ ç¼–è¯‘å’Œè¿è¡Œ LibCurl åŠ¨æ€åº“å’Œé™æ€åº“ã€‹</a> ç³»åˆ—æ–‡ç« ã€‚</p><br><h2 id="ç³»åˆ—åœ°å€"><a href="#ç³»åˆ—åœ°å€" class="headerlink" title="ç³»åˆ—åœ°å€"></a>ç³»åˆ—åœ°å€</h2><p><a href="https://github.com/XMuli/QtExamples">QtExamples</a>  æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”<strong>æ°¸ä¹…å…è´¹</strong>ï¼</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Windows </category>
          
          <category> å­¦ä¹  - C/C++ åºä¸‰ å•†ä¸š </category>
          
          <category> ä¸“æ  - é¡¹ç›®å®æˆ˜å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç»œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ ç¼–è¯‘å’Œè¿è¡Œ LibCurl åŠ¨æ€åº“å’Œé™æ€åº“</title>
      <link href="/posts/cc8e524f/"/>
      <url>/posts/cc8e524f/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong>  </p><ul><li>C++ Win11 é€šè¿‡æºç ç¼–è¯‘ libcurl è·å–å…¶åŠ¨æ€åº“å’Œé™æ€åº“</li><li>C++  é“¾æ¥å’Œä½¿ç”¨ libcurl çš„é™æ€åº“å’ŒåŠ¨æ€åº“</li><li>é€šè¿‡ vcpkg æ¥ç¼–è¯‘å’Œé“¾æ¥ libcurl  çš„åº“</li></ul><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p>ã€€ã€€ğŸ’»  <code>win11 24H2</code> ğŸ“ <code>Qt 5.15.2</code> ğŸ“  <code>Visual Studio 2022</code> ğŸ“ <code>C++17</code></p><br><h2 id="ä¸‹è½½-CURL-åº“"><a href="#ä¸‹è½½-CURL-åº“" class="headerlink" title="ä¸‹è½½ CURL åº“"></a>ä¸‹è½½ CURL åº“</h2><p>ç”±äº CURL åªæä¾›æºç ï¼Œå¹¶ä¸æä¾›ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶ã€‚æ‰€ä»¥åªèƒ½è‡ªè¡Œç¼–è¯‘åŠ¨æ€åº“æˆ–è€…é™æ€åº“ã€‚ å®˜æ–¹æ¨èä½¿ç”¨é™æ€åº“ï¼Œè€ŒéåŠ¨æ€åº“ï¼›ç„¶è€Œè´Ÿè´£é¡¹ç›®éƒ½æ˜¯ä½¿ç”¨çš„åŠ¨æ€åº“ï¼Œé‚£æˆ‘ä»¬å°±éƒ½ç¼–è¯‘ä¸€ç•ªã€‚</p><p>åœ¨ <a href="https://curl.se/download.html">https://curl.se/download.html</a> ä¸‹è½½æœ€æ–°ç‰ˆæœ¬æºç å‹ç¼©åŒ… <a href="https://curl.se/download/curl-8.15.0.zip">curl-8.15.0.zip</a>ã€‚</p> <img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2025/202508292025889.png" width="50%"/ loading="lazy"><p><strong>å‡†å¤‡å·¥ä½œï¼š</strong></p><p>è§£å‹å¾—åˆ° <code>D:\project\third_dll\curl-8.15.0</code>  æ–‡ä»¶å¤¹ã€‚</p><ul><li>å³é”®ç®¡ç†å‘˜æ‰“å¼€ <code>&quot;C:\ProgramData\Microsoft\Windows\Start Menu\Programs\Visual Studio 2022\Visual Studio Tools\VC\x64 Native Tools Command Prompt for VS 2022.lnk&quot;</code> ç»ˆç«¯</li><li>ç»ˆç«¯æ‰“å¼€è¿›å…¥åˆ° winbuild æ–‡ä»¶å¤¹ä¸­ <code>D:\project\third_dll\curl-8.15.0\winbuild</code></li></ul><h2 id="ç¼–è¯‘åŠ¨æ€åº“-amp-é™æ€åº“"><a href="#ç¼–è¯‘åŠ¨æ€åº“-amp-é™æ€åº“" class="headerlink" title="ç¼–è¯‘åŠ¨æ€åº“ &amp; é™æ€åº“"></a>ç¼–è¯‘åŠ¨æ€åº“ &amp; é™æ€åº“</h2><blockquote><p>ä» libcurl v8.15.0 å¼€å§‹ï¼Œ**<code>winbuild</code> æ„å»ºç³»ç»Ÿå·²æ ‡è®°ä¸ºè¿‡æ—¶ï¼Œå°†åœ¨ 2025 å¹´ 9 æœˆæ­£å¼åºŸå¼ƒ**ï¼Œå› æ­¤å¿…é¡»æ˜¾å¼æ·»åŠ  WINBUILD_ACKNOWLEDGE_DEPRECATED&#x3D;yes ç¡®è®¤æ‰èƒ½ç»§ç»­ä½¿ç”¨è¯¥ç³»ç»Ÿç¼–è¯‘ï¼› è‹¥æ˜¯æ²¡æœ‰åˆ™ä¼šè‹¥æ˜¯é‡åˆ°æŠ¥é”™ï¼šfatal error U1050: The user must acknowledge the deprecation warning to continue.</p></blockquote><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">// ç¼–è¯‘åŠ¨æ€åº“nmake /f Makefile.vc <span class="token assign-left variable">mode</span><span class="token operator">=</span>dll <span class="token assign-left variable">VC</span><span class="token operator">=</span><span class="token number">17</span> <span class="token assign-left variable">MACHINE</span><span class="token operator">=</span>x64 <span class="token assign-left variable">DEBUG</span><span class="token operator">=</span>no <span class="token assign-left variable">WINBUILD_ACKNOWLEDGE_DEPRECATED</span><span class="token operator">=</span>yes// ç¼–è¯‘é™æ€åº“nmake /f Makefile.vc <span class="token assign-left variable">mode</span><span class="token operator">=</span>static <span class="token assign-left variable">VC</span><span class="token operator">=</span><span class="token number">17</span> <span class="token assign-left variable">MACHINE</span><span class="token operator">=</span>x64 <span class="token assign-left variable">DEBUG</span><span class="token operator">=</span>no <span class="token assign-left variable">WINBUILD_ACKNOWLEDGE_DEPRECATED</span><span class="token operator">=</span>yes<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ‰§è¡Œå¯¹åº”å‘½ä»¤ï¼Œå¯ä»¥çœ‹åˆ°å¾ˆé¡ºç•…çš„ç¼–è¯‘è¿‡ç¨‹    <img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2025/202508292051828.png" width="100%"/ loading="lazy"></p><p>çœ‹åˆ°ç¼–è¯‘åçš„ç›®æ ‡äº§ç‰©ï¼šåŠ¨æ€åº“ <code>libcurl-vc17-x64-release-dll-ipv6-sspi-schannel</code> å’Œ é™æ€åº“ <code>libcurl-vc17-x64-release-static-ipv6-sspi-schannel</code> è¿™ä¸¤ä¸ªæ–‡ä»¶å¤¹   </p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2025/202508292054110.png" width="100%"/ loading="lazy"><h2 id="C-é¡¹ç›®ä¸­ä½¿ç”¨-CURL-åº“"><a href="#C-é¡¹ç›®ä¸­ä½¿ç”¨-CURL-åº“" class="headerlink" title="C++ é¡¹ç›®ä¸­ä½¿ç”¨ CURL åº“"></a>C++ é¡¹ç›®ä¸­ä½¿ç”¨ CURL åº“</h2><p>ä¸€å…±æœ‰ä¸‰ç§æ–¹æ³•ï¼Œå‰ä¸¤è€…ä¸ºåˆšæ‰æœ¬åœ°ç¼–è¯‘çš„æ–¹å¼åº“é“¾æ¥ä½¿ç”¨ï¼Œä»¥åŠç›´æ¥é€šè¿‡ vcpkg è¿›è¡Œç¼–è¯‘å’Œä½¿ç”¨ curl åº“ã€‚</p><ol><li>å°† <code>libcurl-vc17-x64-release-dll-ipv6-sspi-schannel</code> æ”¹åä¸º <code>libcurl-dll</code> ,æ–¹ä¾¿ä½¿ç”¨ï¼ˆåå­—ç®€çŸ­å¥½è®¤å³å¯ï¼‰;</li><li>å°† <code>libcurl-vc17-x64-release-static-ipv6-sspi-schannel</code> æ”¹åä¸º <code>libcurl-static</code>;</li><li>å†å°†è¿™ä¸ªæ–‡ä»¶å¤¹æ‹·è´åˆ° <code>D:\project\third_dll\UsedCurlDemo\tripartite</code> æ–‡ä»¶å¤¹ä¸‹å¤‡ç”¨ï¼ˆæˆ–è€…æ”¾åœ¨å…¶å®ƒä»»æ„è·¯å¾„ï¼‰</li><li>å¼€å§‹åˆ›å»º C++ å·¥ç¨‹æ¥å¼•ç”¨è¿™ä¸¤ä¸ªåº“</li></ol><h3 id="C-ä½¿ç”¨-CURL-åŠ¨æ€åº“"><a href="#C-ä½¿ç”¨-CURL-åŠ¨æ€åº“" class="headerlink" title="C++ ä½¿ç”¨ CURL åŠ¨æ€åº“"></a>C++ ä½¿ç”¨ CURL åŠ¨æ€åº“</h3><p>å¯ä»¥çœ‹åˆ°ç”Ÿæˆçš„<code>åŠ¨æ€åº“</code>ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2025/202508292103929.png" width="100%"/ loading="lazy"><p><strong>æ³¨æ„ï¼šä¸éœ€éœ€è¦æ·»åŠ  CURL_STATICLIB å®ï¼Œåªéœ€è¦é“¾æ¥ libcurl.lib ä¹‹å¤–ï¼Œè¿˜éœ€è¦æ‹·è´ libcurl.dll æ–‡ä»¶åˆ°ç”Ÿæˆæ–‡ä»¶å¤¹ä¸­ã€‚</strong></p><ul><li><p>åˆ›å»ºä¸€ä¸ª C++ ç©ºçš„æ§åˆ¶å°é¡¹ç›® <code>UsedCurlDemo</code></p></li><li><p>å¼•å…¥å¤´æ–‡ä»¶ include è·¯å¾„ï¼Œå’Œé“¾æ¥åº“ lib çš„è·¯å¾„</p>   <img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2025/202508292202725.png" width="90%"/ loading="lazy"></li><li><p>åœ¨ <code>main.cpp</code> å‡½æ•°ä¸­ï¼Œè¾“å…¥å¦‚ä¸‹ä»£ç </p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span>                  <span class="token comment">// ä¸éœ€è¦ä½¿ç”¨ #define CURL_STATICLIB å®</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"curl/curl.h"</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">comment</span> <span class="token punctuation">(</span>lib<span class="token punctuation">,</span></span><span class="token string">"libcurl.lib"</span><span class="token expression"><span class="token punctuation">)</span></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    CURL<span class="token operator">*</span> curl<span class="token punctuation">;</span>    CURLcode res<span class="token punctuation">;</span>    curl <span class="token operator">=</span> <span class="token function">curl_easy_init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>curl<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token function">curl_easy_setopt</span><span class="token punctuation">(</span>curl<span class="token punctuation">,</span> CURLOPT_URL<span class="token punctuation">,</span> <span class="token string">"https://www.baidu.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        res <span class="token operator">=</span> <span class="token function">curl_easy_perform</span><span class="token punctuation">(</span>curl<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">curl_easy_cleanup</span><span class="token punctuation">(</span>curl<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"è¿”å›çŠ¶æ€: "</span> <span class="token operator">&lt;&lt;</span> res <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>å°† <code>libcurl.dll</code> æ‹·è´è¿› ç›®æ ‡äº§ç‰©çš„è·¯å¾„ï¼Œè¿™æ˜¯è¿è¡Œæ—¶æ‰€éœ€è¦çš„</p>  <img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2025/202508292124751.png" width="80%"/ loading="lazy"></li><li><p>æŒ‰ä¸‹æŒ‰é”® <code>Ctrl + F5</code> åœ¨ VS2022 ä¸­è¿›è¡Œç¼–è¯‘å’Œè¿è¡Œï¼Œçœ‹åˆ°ç»ˆç«¯æ”¶åˆ°çš„ baidu æœåŠ¡å™¨è¿”å›ç»“æœ</p>  <img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2025/202508292126878.png" width="70%"/ loading="lazy"></li></ul><h3 id="C-ä½¿ç”¨-CURL-é™æ€åº“"><a href="#C-ä½¿ç”¨-CURL-é™æ€åº“" class="headerlink" title="C++ ä½¿ç”¨ CURL é™æ€åº“"></a>C++ ä½¿ç”¨ CURL é™æ€åº“</h3><p>å¯ä»¥çœ‹åˆ°ç”Ÿæˆçš„<code>é™æ€åº“</code>ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š<img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2025/202508292105587.png" width="100%"/ loading="lazy"></p><p>é€»è¾‘åŸºæœ¬åŒç†å‚è€ƒåŠ¨æ€åº“ï¼Œåªæ˜¯é“¾æ¥çš„æ–‡ä»¶ä¸åŒï¼›</p><p><strong>æ³¨æ„ï¼šéœ€è¦æ·»åŠ  CURL_STATICLIB å®ï¼Œä¸”éœ€è¦é“¾æ¥ libcurl_a.lib ä¹‹å¤–ï¼Œè¿˜éœ€è¦é“¾æ¥ä¸€äº›é¢å¤–çš„è¿™äº›åº“ï¼Œå¦åˆ™æ— æ³•è¿è¡Œã€‚</strong></p><ul><li><p>å†åˆ›å»ºä¸€ä¸ª C++ ç©ºçš„æ§åˆ¶å°é¡¹ç›® <code>UsedCurlStaticDemo</code>ï¼Œ æ–¹ä¾¿ç›´æ¥æ”¾åœ¨åŒä¸€ä¸ªè§£å†³æ–¹æ¡ˆä¸‹</p></li><li><p>å¼•å…¥å¤´æ–‡ä»¶ include è·¯å¾„ï¼Œå’Œé“¾æ¥åº“ lib çš„è·¯å¾„</p> <img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2025/202508292201575.png" width="100%"/ loading="lazy"> </li><li><p>åœ¨ <code>main.cpp</code> å‡½æ•°ä¸­ï¼Œè¾“å…¥å¦‚ä¸‹ä»£ç </p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">CURL_STATICLIB</span>                 <span class="token comment">// æ˜¯éœ€è¦è¡¨ç¤ºä½¿ç”¨é™æ€é“¾æ¥çš„å®</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">BUILDING_LIBCURL</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"curl/curl.h"</span></span><span class="token comment">// æ·»åŠ å¿…è¦çš„åº“ä¾èµ–ï¼Œä¸”éœ€è¦é“¾æ¥é™¤äº† libcurl_a.lib ä¹‹å¤–çš„è¿™äº›åº“ï¼Œå¦åˆ™æ— æ³•è¿è¡Œ</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">comment</span> <span class="token punctuation">(</span>lib<span class="token punctuation">,</span></span><span class="token string">"libcurl_a.lib"</span><span class="token expression"><span class="token punctuation">)</span></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">comment</span> <span class="token punctuation">(</span>lib<span class="token punctuation">,</span></span><span class="token string">"wldap32.lib"</span><span class="token expression"><span class="token punctuation">)</span></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">comment</span> <span class="token punctuation">(</span>lib<span class="token punctuation">,</span></span><span class="token string">"ws2_32.lib"</span><span class="token expression"><span class="token punctuation">)</span></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">comment</span> <span class="token punctuation">(</span>lib<span class="token punctuation">,</span></span><span class="token string">"Crypt32.lib"</span><span class="token expression"><span class="token punctuation">)</span></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">comment</span><span class="token punctuation">(</span>lib<span class="token punctuation">,</span> </span><span class="token string">"normaliz.lib"</span><span class="token expression"><span class="token punctuation">)</span>   </span><span class="token comment">// æ·»åŠ ä»¥è§£å†³ IdnToAscii/IdnToUnicode é”™è¯¯</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">comment</span><span class="token punctuation">(</span>lib<span class="token punctuation">,</span> </span><span class="token string">"secur32.lib"</span><span class="token expression"><span class="token punctuation">)</span>    </span><span class="token comment">// æ·»åŠ ä»¥è§£å†³ InitSecurityInterfaceA é”™è¯¯</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    CURL<span class="token operator">*</span> curl<span class="token punctuation">;</span>    CURLcode res<span class="token punctuation">;</span>    curl <span class="token operator">=</span> <span class="token function">curl_easy_init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>curl<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token function">curl_easy_setopt</span><span class="token punctuation">(</span>curl<span class="token punctuation">,</span> CURLOPT_URL<span class="token punctuation">,</span> <span class="token string">"https://www.baidu.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        res <span class="token operator">=</span> <span class="token function">curl_easy_perform</span><span class="token punctuation">(</span>curl<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">curl_easy_cleanup</span><span class="token punctuation">(</span>curl<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"è¿”å›çŠ¶æ€: "</span> <span class="token operator">&lt;&lt;</span> res <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>æŒ‰ä¸‹æŒ‰é”® <code>Ctrl + F5</code> åœ¨ VS2022 ä¸­è¿›è¡Œç¼–è¯‘å’Œè¿è¡Œï¼Œçœ‹åˆ°ç»ˆç«¯æ”¶åˆ°çš„ baidu æœåŠ¡å™¨è¿”å›ç»“æœ</p>  <img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2025/202508292148519.png" width="80%"/ loading="lazy"></li></ul><h3 id="C-é€šè¿‡-vcpkg-ä½¿ç”¨-CURL-åº“"><a href="#C-é€šè¿‡-vcpkg-ä½¿ç”¨-CURL-åº“" class="headerlink" title="C++ é€šè¿‡ vcpkg ä½¿ç”¨ CURL åº“"></a>C++ é€šè¿‡ vcpkg ä½¿ç”¨ CURL åº“</h3><p>ä¸Šé¢ä¸¤ç§æ–¹æ³•éƒ½éœ€è¦æ‰‹åŠ¨é…ç½®å’Œç¼–è¯‘ LIBCURL çš„åŠ¨æ€åº“å’Œé™æ€åº“çš„å¤´æ–‡ä»¶ã€é“¾æ¥åº“çš„æ–‡ä»¶å¤¹è·¯å¾„ï¼›è€Œé‡‡ç”¨ vcpkg æ–¹æ³•ï¼Œåˆ™ä¸éœ€è¦è¿™ä¹ˆéº»çƒ¦ï¼Œç›´æ¥é€šè¿‡ä¸€æ¬¡éƒ½æœ¬æœºé…ç½®å¥½ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">// æ‰“å¼€ cmd ç»ˆç«¯ï¼Œè¿›å…¥ D:<span class="token punctuation">\</span>project<span class="token punctuation">\</span>third_dll è·¯å¾„ï¼Œä¾æ¬¡æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤<span class="token function">git</span> clone https://github.com/microsoft/vcpkg.<span class="token punctuation">\</span>vcpkg<span class="token punctuation">\</span>bootstrap-vcpkg.bat.<span class="token punctuation">\</span>vcpkg<span class="token punctuation">\</span>vcpkg <span class="token function">install</span> <span class="token function">curl</span><span class="token builtin class-name">cd</span> <span class="token function">vcpkg</span>.<span class="token punctuation">\</span>vcpkg integrate <span class="token function">install</span>   // è¿™æ ·é¡¹ç›®å°±èƒ½ç›´æ¥å¼•ç”¨ <span class="token function">curl</span> äº†â¯ <span class="token function">vcpkg</span> <span class="token function">install</span> cpp-httplib openssl    // è¿˜å¯ä»¥å®‰è£…ä¸€äº›å…¶å®ƒå¸¸ç”¨åº“<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p>åˆ›å»ºä¸€ä¸ªç©ºçš„ C++ æ§åˆ¶å°é¡¹ç›® <code>vcpkgCurl</code>ï¼Œ</p></li><li><p>åœ¨ main.cpp ä¸­è¾“å…¥</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#include &lt;iostream>                  // ä¸éœ€è¦ä½¿ç”¨ #define CURL_STATICLIB å®</span><span class="token comment">#include "curl/curl.h"               // ä¹Ÿä¸éœ€è¦ #pragma comment (lib,"libcurl.lib")ï¼Œä¼šè‡ªåŠ¨é“¾æ¥</span>using namespace std<span class="token punctuation">;</span>int main<span class="token punctuation">(</span>int argc, char* argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    CURL* <span class="token function">curl</span><span class="token punctuation">;</span>    CURLcode res<span class="token punctuation">;</span>    <span class="token function">curl</span> <span class="token operator">=</span> curl_easy_init<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>curl<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        curl_easy_setopt<span class="token punctuation">(</span>curl, CURLOPT_URL, <span class="token string">"https://www.baidu.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        res <span class="token operator">=</span> curl_easy_perform<span class="token punctuation">(</span>curl<span class="token punctuation">)</span><span class="token punctuation">;</span>        curl_easy_cleanup<span class="token punctuation">(</span>curl<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    std::cout <span class="token operator">&lt;&lt;</span> <span class="token string">"è¿”å›çŠ¶æ€: "</span> <span class="token operator">&lt;&lt;</span> res <span class="token operator">&lt;&lt;</span> std::endl<span class="token punctuation">;</span>    system<span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token builtin class-name">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>æŒ‰ä¸‹æŒ‰é”® <code>Ctrl + F5</code> åœ¨ VS2022 ä¸­è¿›è¡Œç¼–è¯‘å’Œè¿è¡Œï¼Œçœ‹åˆ°ç»ˆç«¯æ”¶åˆ°çš„ baidu æœåŠ¡å™¨è¿”å›ç»“æœ</p> <img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2025/202508292215402.png" width="100%"/ loading="lazy"></li></ul><h2 id="æºç ä¸‹è½½"><a href="#æºç ä¸‹è½½" class="headerlink" title="æºç ä¸‹è½½"></a>æºç ä¸‹è½½</h2><p>æºç å’Œç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶ä¸‹è½½ï¼š<a href="https://github.com/XMuli/NetworkExample">https://github.com/XMuli/NetworkExample</a></p><h2 id="å…¶å®ƒæ›´å¤š"><a href="#å…¶å®ƒæ›´å¤š" class="headerlink" title="å…¶å®ƒæ›´å¤š"></a>å…¶å®ƒæ›´å¤š</h2><p>ä¸Šé¢ç¼–è¯‘çš„æ˜¯libcurlçš„ dllï¼Œä½¿ç”¨OpenSSL Dllç‰ˆæœ¬å’ŒZlib Dllç‰ˆæœ¬ã€‚å¦‚æœæ²¡æœ‰ï¼Œå¯ä»¥ä»<a href="http://www.openssl.org/">www.openssl.org</a> æˆ–è€…<a href="http://www.zlib.net/">http://www.zlib.net/</a> ä¸‹è½½ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Windows </category>
          
          <category> å­¦ä¹  - C/C++ åºä¸‰ å•†ä¸š </category>
          
          <category> ä¸“æ  - é¡¹ç›®å®æˆ˜å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç»œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>iPhone 13P æ¢è¶…å®¹ç”µæ± ï¼Œä¸€å¹´å®è®°çš„&quot;ç”µæ± å¾ªç¯æ¬¡æ•°-å®¹é‡&quot;æŸ±çŠ¶å›¾</title>
      <link href="/posts/c5b909e4/"/>
      <url>/posts/c5b909e4/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong> ç»§ä¸Šä¸€ç¯‡ <a href="https://xmuli.tech/posts/420a6665/">iPhone 13P æ›´æ¢â€ç§»æ¤ç”µèŠ¯â€å’Œâ€è¶…å®¹ç”µæ± â€ğŸ”‹ä½“éªŒ</a>ï¼Œè¯¦ç»†è®°å½•äº†å¦‚ä½•æ›´æ¢è¿™ä¸¤ç§ç”µæ± ï¼Œä»¥åŠå„è‡ªçš„ä¼˜ç•¥åŠ¿å¯¹æ¯”ã€‚</p><p>ä¸€æ™ƒä¸€å¹´è¿‡å»ï¼Œæ—¶é—´çœŸå¿«ï¼Œè¿™æ¬¡åˆ†äº«ä¸‹è®°å½•äº†ä½¿ç”¨è¶…å®¹ç”µæ± çš„ â€œå¾ªç¯æ¬¡æ•° - å®¹é‡(mAh)- ç”µæ± å¯¿å‘½%â€ ä¹‹é—´çš„è¶‹åŠ¿å›¾ï¼›æ‰‹æŒ iPhone 13 Pro ï¼ŒIOS ç‰ˆæœ¬ 15.6 ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><ul><li>å›¾ä¸€ä¸ºåº•éƒ¨é™„å¸¦è¯¦ç»†è¡¨æ ¼ï¼Œæ–¹ä¾¿å¯¹ç…§ï¼Œç”µæ± æ¯å¾ªç¯å¤šå°‘æ¬¡ï¼Œå…¶å¯¹åº”çš„ç”µæ± å®é™…å‰©ä½™å®¹é‡ï¼Œä»¥åŠå¯¹åº”çš„ç™¾åˆ†æ¯”</li></ul><p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2024/202411202042129.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"></p><ul><li>å›¾äºŒå……ç”µæ¬¡æ•°ä½œä¸º X è½´ï¼Œå¯ä»¥æ˜æ˜¾çœ‹åˆ°ç”µæ± å®¹é‡éšç€æ—¶é—´çš„æµå¤±çš„é™ä½è¶‹åŠ¿</li></ul><p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2024/202411202101230.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"></p><p>é€”ä¸­å¯çœ‹åˆ°ï¼Œç”µæ± å¾ªç¯å……ç”µ 226 æ¬¡ï¼Œéƒ½è¿˜æ˜¯å¾ˆåšæŒºçš„ï¼ŒåŸºæœ¬ 3000mAh å·¦å³ï¼›å†ä¹‹å å°±å¼€å§‹è¿…é€Ÿæ‰ç”µï¼Œä½†ä¹Ÿä¸å¤ªç¦»è°±ï¼›ä½¿ç”¨æ¥è¿‘ä¸€å¹´å…± 350 æ¬¡ï¼Œç”µæ± å®¹é‡è¿˜æœ‰ 78%ï¼›å®æµ‹è´¨é‡å¾ˆå¯é äº†ã€‚</p><p>å‡†å¤‡å†è´­ä¹°ä¸€å—æ—¶ï¼Œå‘ç°æœ‰åº—å®¶ä¸ä»…ä»·æ ¼é™ä½äº†ï¼Œä¸”è¿˜æ‰¿è¯ºçš„ä¸€å¹´è´¨ä¿ï¼Œè‹¥ä¸€å¹´å†…ç”µæ± å®¹é‡ä½äº 80%ï¼Œåˆ™å¯ä»¥æ¢ä¸€å—æ–°çš„ç”µæ± ï¼Œå½“æ—¶ä½œä¸ºç¬¬ä¸€æ‰¹ç”¨æˆ·ï¼Œè‡³ä»Šæœ¬æœˆå®æµ‹ä½¿ç”¨ 11 ä¸ªæœˆï¼Œç”¨çˆ±æ€åŠ©æ‰‹å’Œæ²™æ¼ï¼Œéƒ½åˆ°äº† 79%ï¼ˆä¸ªäººé‡åº¦ä½¿ç”¨ï¼‰ï¼Œç¬¦åˆè¦æ±‚ï¼Œè€æ¿äº¦ä¿¡å®ˆè‡ªå·±çš„æ‰¿è¯ºï¼Œå‘æ¥äº†æ–°ç”µæ± ï¼Œå¥½è¯„ï¼Œé¥ç¥å¤§å–ã€‚</p><p>[ PS, å¯¹äº Phone 13 Pro ç”µæ± ä½¿ç”¨ä¸‰å¹´çš„æŒç»­è®°å½•è€Œè¨€ï¼š]</p><ul><li>[a] è‹¹æœåŸè£…ç”µæ± ï¼š3095mAh ï¼ˆ 2021.09-2022.12 ï¼‰ï¼Œè´¹ç”¨ï¼š0</li><li>[b] ç§»æ¤ç”µèŠ¯+åŸè£…æ’çº¿ç‰ˆï¼šåŒ…è£…æ˜¾ç¤º 3150mAh ï¼ˆ 2023.01-2023.11 ï¼‰ï¼Œè´¹ç”¨ 120 &#x3D; 70 ç”µèŠ¯ + 50 ç§»æ¤æ‰‹å·¥è´¹</li><li>[c] ç¬¬ä¸€å—è¶…å®¹ç”µèŠ¯ï¼ŒåŒ…è£…æ˜¾ç¤º 3480mAh ï¼ˆ 2023.11-2024.11 ï¼‰ï¼Œè´¹ç”¨ 228</li><li>[d] ç¬¬äºŒå—è¶…å®¹ç”µèŠ¯ï¼ŒåŒ…è£…æ˜¾ç¤º 3490mAh ï¼ˆ 2024.11-ä½¿ç”¨ä¸­ï¼‰ï¼Œè´¹ç”¨ 0</li></ul><p><strong>è€ç”¨ç¨‹åº¦ï¼š</strong> a &gt; c &gt; b</p><p><strong>ä»·æ ¼ç¨‹åº¦ï¼š</strong> a &gt; c &gt; b</p><p>è‡³ä»Šä¸‰è½½ï¼Œæ—¶å¸¸çœ‹å›å“¥ä»¬ï¼Œè®¨è®ºæ¢ç”µæ± çš„è´¹ç”¨ä¸è´¨é‡çš„å¹³è¡¡ï¼Œç”µæ± å®¹é‡ï¼Œå„ç§è®¨è®ºï¼Œå·²æ­¤å®æµ‹æ•°æ®å…±äº«è¯¸å›ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Windows </category>
          
          <category> ç”Ÿæ´» - é—²æš‡çš„è¶£é—» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å·¥ç¨‹ç»éªŒ </tag>
            
            <tag> å¶ç„¶ä¹è¶£ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸œäº¬ â‡„ äº¬éƒ½æ¸¸è®°â›©ï¸</title>
      <link href="/posts/b665eba9/"/>
      <url>/posts/b665eba9/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong>  ä»¥å‰æ—…è¡Œåå‘æ•£æ¼«ã€éšå¿ƒéšæ„ï¼Œç¡è§‰æ£æ„ï¼Œä¸€æ—¥ä¸¤å¤„æ™¯ç‚¹ã€äº¦ä¸¤æ—¥ä¸€æ™¯ç‚¹ã€‚æ…¢æ…¢è½»é£Ÿã€éšæ„æ™ƒè¡ã€‚</p><p>æœ¬æ¬¡çš„æ—…è¡Œææ—©ä¸€æœˆä¾¿æœ‰äº†è§„åˆ’ï¼Œåšäº†æ–°çš„è¡Œç¨‹è§„åˆ’ï¼Œæ„Ÿå—ä¸ä¸€æ ·çš„æ„‰æ‚¦æ—…ç¨‹ã€‚ç»“æŸåæ—¶é—´éƒ½ç”šæ˜¯æ„‰æ‚¦ï¼Œä»Šç©ºé—²ï¼Œæ¬£æ¬£ç„¶è®°è½½ä¹‹ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p><strong>â€œäººæ€»æ˜¯åœ¨æ¥è¿‘å¹¸ç¦æ—¶å€æ„Ÿå¹¸ç¦ï¼Œåœ¨å¹¸ç¦è¿›è¡Œæ—¶å´æ‚£å¾—æ‚£å¤±ã€‚â€</strong>  ç”±äºè¿™æ¬¡è¡Œç¨‹è¡Œç¨‹å·²è¢«å®‰æ’å¦¥å½“ï¼ŒçŸ¥é“å…·ä½“å‡ºè¡Œæ—¥æœŸï¼Œæ¯”è¾ƒæœŸå¾…ï¼›</p><p>äºæ˜¯ä¹åœ¨åˆ°æ¥å‰çš„ä¸€ä¸ªæœˆï¼Œæ¯æ—¥éƒ½å¾ˆå¼€å¿ƒï¼Œå¿ƒç†ç¾æ»‹æ»‹çš„ã€‚åƒæäº†å°æ—¶å€™ç­‰å¾…æ˜¥èŠ‚è¿‡å¹´ï¼Œæ‰€æœŸå¾…çš„ã€‚è¿™æ®µæ—¶é—´åº”æ˜¯æœ€å¿«ä¹çš„æ—¶é—´ï¼Œå‡ºæ¸¸é‚£å‡ æ—¥æ˜¯åŒæ ·çš„å¿«ä¹ã€‚æå‰å¾—çŸ¥çš„æ¶ˆæ¯ï¼Œä½¿å¾—è¿™ä»½å¿«ä¹æŒç»­çš„åŠ é•¿ï¼Œç¾å¥½çš„å›å¿†ã€‚æç½®ä¸€æ®µæ—¶é—´åï¼Œå›å¿†å†™æ­¤ç¯‡æ—¶ï¼Œæ„ˆæ„Ÿå‰åŠå¥æƒ…ç»ªã€‚</p><h2 id="ä¸€ã€è¡Œå‰å‡†å¤‡"><a href="#ä¸€ã€è¡Œå‰å‡†å¤‡" class="headerlink" title="ä¸€ã€è¡Œå‰å‡†å¤‡"></a>ä¸€ã€è¡Œå‰å‡†å¤‡</h2><ol><li><p><strong>ç­¾è¯ä¸æœºç¥¨</strong></p><p>   ç­¾è¯æå‰ä¸€ä¸ªæœˆåŠç†å¥½ï¼Œæ·˜å®é€‰çš„å•æ¬¡æ—…æ¸¸ç­¾ã€æœ‰æ•ˆæœŸ 90 å¤©ï¼Œå¯åœç•™ 15 å¤©ã€‚åŒ…å«æœ¬åœ°æµé‡å¡ä¸ƒæ—¥ã€‚å…¨éƒ¨ç”µå­èµ„æ–™å³å¯ï¼Œçº¦ 7 å·¥ä½œæ—¥å³å¯æ”¶åˆ°åŠç†é€šè¿‡çš„ææ–™ã€‚</p></li><li><p><strong>äº¤é€šè§„åˆ’</strong></p><p>äº¬ä¸œ â‡„ äº¬éƒ½â›©ï¸ä¸¤åœ°éƒ½æƒ³å»ï¼Œå½“ç„¶æ˜¯å¤šé€‰æ‹©ã€‚è¡Œç¨‹æå‰é¢„å®šæ–°å¹²çº¿çš„ç¥¨ï¼Œæœ‰ä¸¤ç§å¸­ä½ï¼Œæå‰è®¢å®˜ç½‘ä¼šæœ‰ä¸€å®šæŠ˜æ‰£ã€‚åœ°é“ğŸš‡å’Œéåœ°çš„è´©å–æœºåŸºæœ¬éƒ½å¯ä½¿ç”¨è¥¿ç“œå¡ Suica è¿›è¡Œæ”¯ä»˜ã€‚</p></li><li><p><strong>ä½å®¿å®‰æ’</strong></p><p>å‡ºè¡Œæ—¥è‹¥é«˜å³°æœŸï¼Œæ¨èæé¢„å®šã€‚é…’åº—å‰å°å¤§å¤šéƒ½æœ‰è‡ªåŠ¨æœºï¼Œä½¿ç”¨æŠ¤ç…§æ‰«æå³å¯ Check Inã€‚</p></li><li><p><strong>å‡ºå‘ğŸ›«</strong></p><p>åç­‰è½åœ°</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2024/202504201550250.jpg" width="80%"/ loading="lazy"></li></ol><h2 id="äºŒã€ä¸œäº¬ç¯‡"><a href="#äºŒã€ä¸œäº¬ç¯‡" class="headerlink" title="äºŒã€ä¸œäº¬ç¯‡"></a>äºŒã€ä¸œäº¬ç¯‡</h2><blockquote><p><strong>åŸåŒ—èµèŠ±ç«ğŸ†ï¼Œ</strong></p><p><strong>åŸå—æ‹é•°ä»“ğŸ“¸ï¼Œ</strong></p><p><strong>åŸä¸œèµ´æœºåœºğŸ›«ï¼Œ</strong></p><p><strong>åŸä¸­é—¹ä¸œäº¬ğŸŒ†ï¼Œ</strong></p><p><strong>åŸè¥¿æ™ƒäº¬éƒ½â›©ï¸ï¼Œ</strong></p><p><strong>é€”ç»è§‚å¯Œå£«å±±ğŸ—»ã€‚</strong></p><p><strong>åŒæ¸¸æ¼«æ­¥ï¼Œåƒæœ¬åœ°é£Ÿç‰©ï¼Œèµå½“åœ°æ™¯è‰²ï¼Œä¸€åˆ‡éƒ½å¾ˆå¥½ï¼Œæœ‰é›¨æœ‰æ™´å¤©ï¼Œæœ‰ç™½å¤©åŒèµ¶è·¯ï¼Œå¤œé—´æ¼«æ­¥èµçƒŸç«ã€‚</strong></p></blockquote><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2024/202504201815353.JPG" width="400"/ loading="lazy"><h3 id="1-ç»å…¸åœ°æ ‡ä¸æ‰“å¡ç‚¹"><a href="#1-ç»å…¸åœ°æ ‡ä¸æ‰“å¡ç‚¹" class="headerlink" title="1. ç»å…¸åœ°æ ‡ä¸æ‰“å¡ç‚¹"></a>1. ç»å…¸åœ°æ ‡ä¸æ‰“å¡ç‚¹</h3><ul><li><p>JR ç§‹å¶åŸå±äºŒæ¬¡å…ƒèšé›†åœ°ï¼Œå‘¨è¾¹ã€æ‰‹åŠã€ç›¸å…³ç”µå­äº§å“ç­‰æ¯”è¾ƒå¤šã€‚</p></li><li><p>æ¶‰è°·åå­—è·¯å£ã€åŸå®¿ç«¹ä¸‹é€šã€è¡¨å‚é“ï¼Œæµ…è‰å¯ºÂ·é›·é—¨</p></li><li><p>äºä¸œäº¬å¡” &#x2F; æ™´ç©ºå¡” çš„é¡¶æ¥¼çœ‹é£æ™¯çœ‹æ—¥è½é£æ™¯ï¼Œæ—¥è½æ—¶æ®µï¼Œä»°èººçš„ï¼Œä»»ç”±æœ‰é£æ¥é£å»ï¼Œå¾®é£å¾å¾ï¼Œçœ‹ç€ä¼¼æ˜¯å¯åŠçš„äº‘ï¼Œæƒ³æ˜¯å»æŠšæ‘¸ä¸€æœµï¼Œç»†ç»†æŠŠç©ä¸€ç•ªï¼›å¾…åˆ°å¤©å˜æš—ï¼Œä¸œäº¬å¸‚åŒºçš„éœ“è™¹ç¯é€æ¸äº®èµ·ï¼Œä¼«ç«‹ä¿¯ç°ï¼Œæ„ŸåŸå¸‚ä¹‹ç¹åï¼Œè§†å¬è§¦æ„Ÿå‡éœ‡æ’¼ä¹‹ã€‚ è‹¥æ˜¯å‡ºå»è¿·è·¯è¿Ÿåˆ°é¢„æœŸä¸€ä¼šï¼Œå’Œå‰å°è®²ä¸€å£°ï¼Œäº¦å¯ç™»æ¢¯ä¸Šæ¥¼ï¼Œå¦å¤–ä¹°ç¥¨æ˜¯éœ€è¦æå‰é¢„å®šçš„ï¼Œå®˜ç½‘æ—¥è½ç¥¨åŸºæœ¬ç§’å”®ç½„ã€‚</p></li><li><p>èŠ±ç«å¤§ä¼šç”šè‡³æ¼‚äº®å£®è§‚ï¼ŒçƒŸèŠ±æ˜“é€ï¼Œä½“éªŒæ˜¯æ’ã€‚å¸å¼•ç€å¾ˆå¤šç”·ç”·å¥³å¥³ã€é’å¹´è€å°‘ï¼Œåœ¨å¿«å¼€å§‹ä¹‹æ—¶ï¼Œå·²ç„¶æ¢è£…å‡ºå‘ï¼Œæ­¥è¡Œè€Œè‡³ã€‚æ²¿æ²³é“å‰è¡Œï¼Œä¸€è·¯æ˜¯é™è°§çš„ä¹¡ä¸‹ï¼Œå¤œé€é»‘ã€æ˜Ÿæ˜Ÿæ˜äº®â­ï¼Œå¤šè§äºä¸€å®¶äººåäºåœ¨å°æ¿å‡³ã€æ‘‡æ‘‡æ¤…ï¼Œæˆ–å§äºé¤å¸ƒä¸Šï¼Œä¸€å®¶äººåƒåƒå–å–é—¹é—¹ï¼Œä¸”æ—¶ä¸æ—¶æŠ¬å¤´çœ‹ç€ä»ä¸€å¤„å¤„çš„ç»½æ”¾çƒŸèŠ±ğŸ‡ã€‚è¶…å¤§çƒŸèŠ±æ—¶ï¼ŒåŒæ ·ä¼šé©»è¶³æ‹ç…§æ‰“å¡ï¼Œäºé—´éš™å¾€å‰è¡Œã€‚ä¸€è·¯ä¸Šæ°›å›´å’Œæ„Ÿè§‚æä½³ï¼Œååˆ†æ¬£æ¬£ç„¶ã€‚</p><p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2025/202504201836572.jpg" width="45%"/ loading="lazy"> <img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2025/202504201836708.jpg" width="45%"/ loading="lazy"></p><p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2025/202504201836686.jpg" width="45%"/ loading="lazy"> <img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2025/202504201842986.GIF" width="45%"/ loading="lazy"></p></li></ul><h3 id="2-æ·±åº¦æ–‡åŒ–ä½“éªŒ"><a href="#2-æ·±åº¦æ–‡åŒ–ä½“éªŒ" class="headerlink" title="2. æ·±åº¦æ–‡åŒ–ä½“éªŒ"></a>2. æ·±åº¦æ–‡åŒ–ä½“éªŒ</h3><ul><li><p>æ˜æ²»ç¥å®«çš„æ¨±èŠ±ã€çº¢å¶ä¹‹ç¾ï¼Œè¿˜æœ‰æŸ¯å—ç­‰åœºæ™¯å·¡ç¤¼</p></li><li><p>åŸå¸‚é—´é©¬è·¯çš„å«ç”Ÿéƒ½å¾ˆæ•´æ´ï¼Œå¤©ç©ºæ¹›è“ï¼Œæœ‰é£æ—¶èµ°ç€ä¼šæ„‰å¿«ï¼Œè¾¹èµ°è¾¹èŠï¼Œä¸çŸ¥ç–²å€¦ï¼Œå£æ¸´åœåœ¨å”®å–æœºï¼Œæ¯æ¬¡æ¢ä¸ªå£å‘³ï¼Œç»§ç»­èŠå¤©</p><p>åŸå¸‚åƒåœ¾ç®±åå°‘ï¼Œä¸€ä¸ªè¢‹å­æœ‰æ—¶å…œé‡Œæ£å°åŠå¤©ã€‚7-11è¿é”åº—å‡ºå”®çƒ­é¥®é£Ÿï¼Œä½†ä¸æä¾›åº§æ¤…ï¼Œåªèƒ½ç«™ç€åƒå›§ã€‚ã€‚ã€‚</p></li></ul><h3 id="3-ç¾é£Ÿä¸å¤œç”Ÿæ´»"><a href="#3-ç¾é£Ÿä¸å¤œç”Ÿæ´»" class="headerlink" title="3. ç¾é£Ÿä¸å¤œç”Ÿæ´»"></a>3. ç¾é£Ÿä¸å¤œç”Ÿæ´»</h3><ul><li>å±…é…’å±‹ä¸²çƒ§ã€ç‰¹è‰²æ‹‰é¢åº—ã€å¯¿å¸å§æ¨èã€‚å„æœ‰ç‰¹è‰²ï¼Œå…¶ä¸­æ‹‰é¢æœ‰çš„æ²¹ç¨é‡ï¼Œä½†æ•´ä½“å£æ„Ÿè¿˜æ˜¯å¾ˆæ£’çš„ï¼Œæœ¬åœ°å°èœå“å¤šåå‘ç²¾è‡´ï¼Œä¸ä¸€æ ·çš„å‘³é“ã€‚å¦å¤–ä»…é¢é£Ÿç®—ä¸»é£Ÿï¼Œè€Œç…é¥ºã€ç±³é¥­éƒ½ç®—æ˜¯å°é£Ÿï¼Œæˆç”°ç‚¹é¤æ˜¯å¿…é¡»ç‚¹ä¸»é£Ÿï¼Œå¦åˆ™ä¸å‡ºé¤ã€‚åæ–¹çŸ¥æ–¹è§‰ï¼Œçœ‹ç€ä¸€äººç‚¹äº†ä¸‰äººä»½çš„çš„ä¸»é£Ÿï¼Œå«æ³ªéƒ½åƒé¥±é¥±é¥±é¥±çš„ã€‚</li><li>æ„æ–™ä¹‹å¤–çš„ä½å®¿é…’åº—é™„è¿‘çš„æä¾›æ±¤æµ´ï¼Œä½¿å¾—è¡Œç¨‹æ›´åŠ åœ†æ»¡ä¸€ä¸ï¼Œä¸€ç‚¹å°çš„å¿ƒå¿ƒå¿µå¿µã€‚æ³¡ä¸€æ³¡ï¼Œèˆ’æœå¾ˆå¤šã€‚</li><li>æ–°å®¿æ­Œèˆä¼ç”ºå¤œæ¸¸ï¼Œä¸»è¡—çš„ä¸¤æ’å¥³ç”Ÿï¼Œé¢å®¹è‡ªç„¶å¸¦ç¬‘ï¼Œå€’æ˜¯è‡ªå·±æ˜¾å¾—ç¾æ¶©è…¼è…†ï¼Œè€è„¸ä¸€çº¢ã€‚å†è¡Œæ•°åæ­¥è‡³åå­—è·¯å£ï¼Œä¼«ç«‹çœ‹ç€å¤§å±çš„ç‰›éƒæ’è¡Œæ¦œï¼Œé¢œå€¼éƒ½å¾ˆé«˜ï¼Œä¹Ÿå¾ˆèµå¿ƒæ‚¦ç›®ã€‚</li></ul><p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2025/202504201824895.jpg" width="45%"/ loading="lazy"> <img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2025/202504201825927.png" width="47%"/ loading="lazy"></p><h2 id="ä¸‰ã€äº¬éƒ½ç¯‡â›©ï¸"><a href="#ä¸‰ã€äº¬éƒ½ç¯‡â›©ï¸" class="headerlink" title="ä¸‰ã€äº¬éƒ½ç¯‡â›©ï¸"></a>ä¸‰ã€äº¬éƒ½ç¯‡â›©ï¸</h2><h3 id="1-äº¤é€šåˆ‡æ¢ï¼šæ–°å¹²çº¿ä½“éªŒ"><a href="#1-äº¤é€šåˆ‡æ¢ï¼šæ–°å¹²çº¿ä½“éªŒ" class="headerlink" title="1. äº¤é€šåˆ‡æ¢ï¼šæ–°å¹²çº¿ä½“éªŒ"></a>1. äº¤é€šåˆ‡æ¢ï¼šæ–°å¹²çº¿ä½“éªŒ</h3><ul><li><p>ä¸œäº¬ â‡„ äº¬éƒ½çš„æ–°å¹²çº¿ç§ç±»ï¼Œä¹˜è½¦æ„Ÿå—åä¸Šæ—…è¡Œå·´å£«çš„éšæ„ï¼Œè½¦ç¨‹è´¹å°è´µã€‚ä½†ä¸€èŠ‚è½¦å¢ï¼Œä»…å‡ äººï¼Œä¸”è¿˜æ˜¯å„å›½æ¸¸å®¢åå¤šï¼›æ¬§ç¾æ—…è¡Œå®¢èƒŒçš„ä¹¦åŒ…çœŸçš„å¤§ï¼Œç”·å¥³éƒ½æ˜¯ğŸ¥²ï¼Œè¿˜æœ‰ä¸€ä¸ªè¶…è¶…å¤§è¡Œæç®±ã€‚å¦‚æœè¡Œæç”šå¤§ï¼Œåˆ™éœ€è¦å•ç‹¬ä¸ºè¡Œæè´­ç¥¨ï¼Œæ”¾äºå•ç‹¬çš„è½¦é—´åŒºåŸŸ</p></li><li><p>è½¦å†…è®¾æ–½å¯å¾ˆæ˜¯å¹²å‡€æ•´æ´ï¼Œä¹˜å®¢ä¹Ÿå°‘å¸¦æ¥å¾ˆæ£’çš„ä½“éªŒï¼Œä¸”é€”ä¸­ä¼šç»è¿‡å¯Œå£«å±±ğŸ—»ï¼Œå¼€å¿ƒçš„æ‹ä¸‹</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2025/202504201834572.GIF" width="60%"/ loading="lazy"></li></ul><h3 id="2-å¯ºç¤¾å·¡ç¤¼"><a href="#2-å¯ºç¤¾å·¡ç¤¼" class="headerlink" title="2. å¯ºç¤¾å·¡ç¤¼"></a>2. å¯ºç¤¾å·¡ç¤¼</h3><ul><li><p>ä¼è§ç¨»è·å¤§ç¤¾åƒæœ¬é¸Ÿå±…ã€æœ¬åœ°åšç‰©é¦†ï¼Œä¸ŠäºŒæ¥¼æ–¹çŸ¥æ˜¯å»çœ‹äº†ä¸€ä¸ªä¸­å›½å¤è¯—äººçš„ä¸“å±•ï¼Œä»–ä¹¡æ—¶ç©ºä¸Šé‡åˆ°äº†è€ä¹¡ï¼Œå±å¦ä¸€ä¸ªä¸“é¦†æœ€åä¸€æ¬¡å±•è§ˆã€‚</p></li><li><p>æ¸…æ°´å¯ºåŠä¸‰å¹´å‚ã€äºŒå¹´å‚ï¼Œå»æ—¶äººå¤šï¼Œä»…æ‹ä¸ªå»ºç­‘åŠèº«ï¼ŒC æƒ³æ—©èµ·å†æ¥ä¸€è¶Ÿï¼Œå¤§æŠµåçˆ±æ­¤åœ°ï¼›éšåæˆ‘éƒ½å®šå¥½â°ï¼Œå‡†å¤‡æ—©èµ·äº†ï¼Œä½†çŸ¥æˆ‘çˆ±ç¡æ‡’è§‰ï¼Œåä¹Ÿå°±æ²¡èµ·æ¥ã€‚ç”šè‡³è´´å¿ƒï¼Œå€’æ˜¯ç•¥ä¸å¥½æ„æ€ï¼Œæˆ‘å…¶å®æ˜¯çœŸçš„å¯ä»¥èµ·åºŠçš„ï¼Œè¿™ä¸ªç‚¹ã€‚</p></li><li><p>é‡‘é˜å¯ºã€é“¶é˜å¯ºæ¦‚è§ˆ</p><p>ä¸€æ­¥ä¸€æ™¯ï¼Œæœªè‡³çœ‹å›¾æ˜¯ä¸€ç§ç¥å¾€ï¼Œäº²è‡³æ—¶äº¦æ˜¯ä¸€ç§ç¥å¥‡æ„Ÿè§‰ã€‚</p></li></ul><h3 id="3-å²šå±±Â·ç«¹æ—æ¼«æ­¥"><a href="#3-å²šå±±Â·ç«¹æ—æ¼«æ­¥" class="headerlink" title="3. å²šå±±Â·ç«¹æ—æ¼«æ­¥"></a>3. å²šå±±Â·ç«¹æ—æ¼«æ­¥</h3><ul><li>ç«¹æ—å°å¾„ã€å¤å±‹çŸ³å°é˜¶ï¼Œå’”å’”å’”æ‹äº†äº›è®¸</li><li>å¤šå¤„é‡åˆ°å°ç«è½¦ï¼Œä¼¼é•°ä»“ç»å…¸ç»¿çš®ç«è½¦å›¾ç‰‡ï¼ŒåŸæ˜¯çœŸçš„è·‘ï¼Œä¾§èº«è€Œè¿‡ï¼Œå¾ˆè¿‘</li></ul><h3 id="4-äº¬éƒ½ç¾é£Ÿæ¨è"><a href="#4-äº¬éƒ½ç¾é£Ÿæ¨è" class="headerlink" title="4. äº¬éƒ½ç¾é£Ÿæ¨è"></a>4. äº¬éƒ½ç¾é£Ÿæ¨è</h3><ul><li>æŠ¹èŒ¶ç”œå“ã€è±†è…æ–™ç†ã€å’Œé£æ€€çŸ³ï¼Œç²¾è‡´çš„å°é£Ÿç‰©ã€‚ä¹°äº†ä¸€ä¸ªæŠ¹èŒ¶çš„å†°æ·‡å‡Œï¼Œå‘³é“è‹¦è‹¦çš„ï¼Œå’Œé¢„æƒ³ä¸­å£æ„Ÿä¸ä¸€æ ·ï¼Œï¼Œï¼Œï¼Œæœ‰è¶£ã€‚ä¼´æ‰‹ç¤¼é€‰äº†ä¸€äº›æŠ¹èŒ¶çš„ï¼Œï¼Œï¼Œ</li></ul><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2025/202504201822781.jpg" width="100%"/ loading="lazy"><p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2025/202504201823656.jpg" width="45%"/ loading="lazy"> <img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2025/202504201828513.png" width="50%"/ loading="lazy"></p><h2 id="å››ã€ç»“è¯­"><a href="#å››ã€ç»“è¯­" class="headerlink" title="å››ã€ç»“è¯­"></a>å››ã€ç»“è¯­</h2><p>æœ¬æ¬¡æ—…è¡Œå°è±¡å¾ˆæ£’ï¼Œå¹²å‡€æ•´æ´ï¼Œç¤¼è²Œï¼Œé¥®é£Ÿå’Œå±…ä½ç­‰ã€‚ä¸æˆ‘è€Œè¨€ï¼Œ</p><ul><li>å»çœ‹é£æ™¯çš„è·¯ä¸Šã€</li><li>çœ‹é£æ™¯çš„è·¯ä¸Šã€</li><li>å±äºæ™¯ç¾äººç¾ã€åŒè¡Œè€…æ›´ç¾ç”š</li><li>éƒ½æ˜¯æœ€ç¾å¥½çš„æ—¶å…‰å›å¿†</li></ul>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´» - é—²æš‡çš„è¶£é—» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ—…æ¸¸ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Sunny Screenshot å…·æœ‰æˆªå›¾ &amp; é’‰å›¾çš„è·¨å¹³å°è½¯ä»¶ï¼Œäº¦æ”¯æŒâ€œOCRâ€å’Œâ€œå›¾ç‰‡ç¿»è¯‘â€åŠŸèƒ½</title>
      <link href="/posts/b3f369b5/"/>
      <url>/posts/b3f369b5/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong>  ä»…çº¯ç²¹ C++ å¼€å‘äº†ä¸€æ¬¾ Sunny æˆªå›¾è½¯ä»¶ï¼ŒåŸç”Ÿåº”ç”¨ï¼›æ”¯æŒ <strong>â€œæˆªå›¾ &amp; é’‰å›¾â€ã€â€å›¾ç‰‡ç¿»è¯‘â€ã€â€OCRæå–æ–‡å­—â€</strong> ç­‰åŠŸèƒ½ï¼Œå¤šå¥—çš®è‚¤å’Œ Win10 çš„äºšå…‹åŠ›æ•ˆæœï¼ˆç±»é€æ˜ç£¨ç ‚ï¼‰ï¼Œç®€æ´æ•´ä½“è®¾è®¡çš„çª—å£ï¼Œ </p><p>æ”¯æŒè·¨å¹³å°ï¼šå·²éªŒè¯å¯è¿è¡Œåœ¨çš„ç³»ç»Ÿ  ãƒ¾(â‰§â–½â‰¦*)oï¼›</p><p><strong>å®˜ç½‘ï¼š</strong> <a href="https://sunny.xmuli.tech/">https://sunny.xmuli.tech</a></p><p>æ”¯æŒè·¨å¹³å°ï¼šå·²éªŒè¯å¯è¿è¡Œåœ¨çš„ç³»ç»Ÿ ãƒ¾(â‰§â–½â‰¦*)oï¼Œè¯¦è§å®˜ç½‘æ–‡æ¡£</p><p>â‘  Windows 7 &#x2F; 8 &#x2F; 10 &#x2F; 11</p><p>â‘¡ MacOSï¼š 10 &#x2F; 11 &#x2F; 12 &#x2F; 13 &#x2F; 14</p><p>â‘¢ Linuxï¼šDebian 12ï¼ŒUbuntu 20.04 &#x2F; 22.04 &#x2F; 24.04ï¼ŒDeepin&#x2F;UOS V20-23, openkylin 1.0.xï¼Œç­‰</p><p>ç°å·²ä¸Šæ¶ Microsoft Store å’Œ Linux  å¤šä¸ªåº”ç”¨å•†åŸï¼Œæ’’èŠ±ğŸŠğŸŠğŸŠğŸ‰ğŸ‰ğŸ‰ï¼›</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202402231450384.gif" width="100%"/ loading="lazy"><p>å¼€å‘å®Œä¹‹åä¸€ç›´ä¹Ÿæ²¡æœ‰å®£ä¼ è¿‡ï¼Œå¯‚é™çš„åœ¨çš„ä¸€éš…ä»“åº“å‘†ç€ç€ï¼› ç›´åˆ°è¿ç»­å‡ å¤©å‘ç°æ¶Œå…¥å¤§é‡æµé‡ï¼ŒStar ä¹Ÿéšä¹‹çŒ›é•¿ï¼›è›¤ï¼Ÿç€ä»€ä¹ˆæƒ…å†µï¼Œæˆ‘å•¥ä¹Ÿæ²¡å¹²äº†ã€‚é—®äº†ä¸‹æ–°äººï¼Œæ‰çŸ¥ Sunny å·²è¢«å¾ˆå¤šå¤§ä½¬å’ŒçŸ¥åè½¯ä»¶ç½‘ç«™ç»™ç¿»ç‰Œå­äº†ï¼Œå±å®æ„å¤–æƒŠå–œâ•°(<em>Â°â–½Â°</em>)â•¯ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="æè¿°"><a href="#æè¿°" class="headerlink" title="æè¿°"></a>æè¿°</h2><p>Sunny æˆªå›¾æ˜¯ä½¿ç”¨çº¯ C++ å¼€å‘çš„ä¸€æ¬¾ç®€æ´ä¸”æ¼‚äº®çš„ â€œæˆªå›¾&amp;æ‹¼å›¾â€ çš„è½¯ä»¶å·¥å…·ï¼Œäº¦æ”¯æŒå›¾ç‰‡ç¿»è¯‘å’ŒOCR ç­‰åŠŸèƒ½ï¼›æ”¯æŒ Windowsï¼ŒMacOSï¼ŒLinux å¹³å°ã€‚</p><p>æœ¬é¡¹ç›®ä» 2023 å¹´èµ·ï¼Œè‡³å°‘ä¼šæŒç»­å¼€å‘å’Œç»´æŠ¤åå¹´ï¼Œå†æ›´ä¹…çš„äº‹æƒ…ï¼Œé‚£å°±å½¼æ—¶å†è¯´~ï¼›å¯ä»¥æ”¾å¿ƒä½¿ç”¨ï¼Œå› ä¸ºæˆ‘è‡ªèº«ä¹Ÿåœ¨ä½¿ç”¨ï¼›</p><h2 id="å®˜ç½‘"><a href="#å®˜ç½‘" class="headerlink" title="å®˜ç½‘"></a>å®˜ç½‘</h2><p>**å®˜ç½‘: ** <a href="https://sunny.xmuli.tech/">https://sunny.xmuli.tech</a>   |   <strong>ä½œè€…ï¼š</strong> <a href="https://github.com/XMuli">å•è‡§</a></p><p><a href="https://github.com/XMuli/SunnyPages">GitHub</a>   |   <a href="https://gitee.com/XMuli/SunnyPages">Gitee</a>   |   <a href="https://github.com/XMuli/SunnyPages/releases">Releases</a>   |   <a href="https://github.com/XMuli/SunnyPages/issues">Issues</a>   |   App Store : Microsoft Store &#x2F; Deepin Store &#x2F; UOS Store &#x2F; Spark Store &#x2F; </p><p>åé¦ˆ Bug, æå‡ºå»ºè®®æˆ–è€…æƒ³æ³•ï¼Œä»»ä½•å¸®åŠ©æ”¹è¿›ï¼Œäº¦å¯åŠ å…¥äº¤æµç¾¤ï¼š<img src="https://img.shields.io/badge/QQ_Groups-418103279-brightgreen" alt="alt text" loading="lazy"></p><h2 id="åŠŸèƒ½ç‰¹è‰²"><a href="#åŠŸèƒ½ç‰¹è‰²" class="headerlink" title="åŠŸèƒ½ç‰¹è‰²"></a>åŠŸèƒ½ç‰¹è‰²</h2><ul><li><strong>ç‰¹è‰²åŠŸèƒ½</strong><ul><li>æˆªå›¾ &amp; é’‰å›¾</li><li>å›¾ç‰‡ç¿»è¯‘ï¼ˆä¸­&#x2F;è‹±&#x2F;æ—¥&#x2F;éŸ©&#x2F;ä¿„&#x2F;ç­‰ï¼‰</li><li>OCR æå–æ–‡å­—</li><li>çª—å£å±æ€§</li><li>è‡ªåŠ¨æ£€æµ‹</li><li>ä»£ç ç­¾å</li></ul></li><li><strong>æ ·å¼åŠŸèƒ½</strong><ul><li>äºšå…‹åŠ›çš„é€æ˜ç£¨ç ‚</li><li>è‡ªå®šä¹‰çš„æ´»åŠ¨è‰²</li><li>è‡ªå®šä¹‰â€è¾¹æ¡† &amp; åå­—çº¿â€çš„å®½åº¦</li><li>ç»˜ç”»å·¥å…·æ æ”¯æŒï¼šå‚ç›´ &amp; æ°´å¹³</li><li>é’‰å›¾çª—å£çš„é˜´å½±æ•ˆæœ</li><li>é’‰å›¾é€æ˜åº¦</li><li>å¤šç§ç³»ç»Ÿé£æ ¼</li></ul></li><li><strong>å…¶å®ƒåŠŸèƒ½</strong><ul><li>è‡ªå®šä¹‰å°ºå¯¸å’Œä½ç½®æˆªå›¾ã€å»¶æ—¶æˆªå›¾ã€çª—å£æ£€æµ‹æˆªå›¾</li><li>ç¿»è¯‘å’Œæå–æ–‡å­—çš„ APIï¼Œæ”¯æŒç”¨ç§äºº key</li><li>æ‰‹åŠ¨ä¿å­˜ &amp; å¿«æ·ä¿å­˜ &amp; è‡ªåŠ¨ä¿å­˜</li><li>è‡ªåŠ¨æ‹·è´åˆ°å‰ªåˆ‡æ¿</li><li>è°ƒæ•´å­—ä½“åŠå¤§å°</li><li>å¿«æ·é”®è‡ªå®šä¹‰</li><li>å›½é™…åŒ–ç¿»è¯‘</li><li>å¼€æºåº“é¸£è°¢</li></ul></li><li><strong>è·¨å¹³å°ç§»æ¤</strong><ul><li>Windows 7 &#x2F; 8 &#x2F; 10 &#x2F; 11+</li><li>Ubuntu 20.04 &#x2F; 22.04+</li><li>Deepin &#x2F; UOS V20.9 - 23+</li><li>openkylin V1.0.1+</li></ul></li><li><strong>App Store å·²ä¸Šæ¶</strong><ul><li>Microsoft Store                     å¾®è½¯å•†åº—</li><li>Deepin &#x2F; UOS Store              æ·±åº¦ç¤¾åŒº &#x2F; ç»Ÿä¿¡å•†åº—</li><li>Spark Store                            æ˜Ÿç«å•†åº—</li><li>openkylin Store (Ongoing)   éº’éºŸå•†åº—</li></ul></li></ul><br><h2 id="ç›¸å…³æ–‡ç« "><a href="#ç›¸å…³æ–‡ç« " class="headerlink" title="ç›¸å…³æ–‡ç« "></a>ç›¸å…³æ–‡ç« </h2><ul><li><a href="https://blog.csdn.net/qq_33154343/article/details/135487951">åˆ†äº«å¦‚ä½•æ‹¥æœ‰ä¸€ä»½ç§äººçš„ã€å¼€æºä»£ç ç­¾åè¯ä¹¦ã€</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/136334975">Sunnyæˆªå›¾ä¸Šæ¶Microsoft StoreåŠLinuxå•†åº—æµç¨‹çš„æŒ‡åŒ—</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/136373241">å˜¿å˜¿ï¼å¼€å‘äº†ä¸€æ¬¾ Sunny æˆªå›¾ &amp; é’‰å›¾ï¼Œäº¦æ”¯æŒâ€œå±å¹•è¯†å›¾â€å’Œâ€œOCRâ€çš„è½¯ä»¶</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/130053230">åŸºäº QT å¼€å‘ FLIPPED ï¼šç®€æ˜“ä¸”æ¼‚äº®çš„è·¨å¹³å°æˆªå›¾è´´å›¾è½¯ä»¶</a></li><li>æ›´å¤šæ•™ç¨‹ â†’ <a href="https://github.com/XMuli/QtExamples">QtExamples</a></li></ul><br><h2 id="æ¼”ç¤ºæ•ˆæœ"><a href="#æ¼”ç¤ºæ•ˆæœ" class="headerlink" title="æ¼”ç¤ºæ•ˆæœ"></a>æ¼”ç¤ºæ•ˆæœ</h2><h3 id="è§†é¢‘"><a href="#è§†é¢‘" class="headerlink" title="è§†é¢‘"></a>è§†é¢‘</h3><p><a href="https://www.bilibili.com/video/BV1c4421c7Hy"><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2024/202402192034134.png" width="100"/ loading="lazy"></a>  ğŸ‘‰ <a href="https://www.bilibili.com/video/BV1c4421c7Hy">Sunny æˆªå›¾æ˜¯ä¸€æ¬¾ç®€æ´ä¸”æ¼‚äº®çš„æˆªå›¾çš„è½¯ä»¶å·¥å…·ï¼Œäº¦æ”¯æŒã€å›¾ç‰‡ç¿»è¯‘ã€‘å’Œã€OCRã€‘</a></p><video width="100%" height="100%" controls autoplay loop>  <source src="snapshot/Sunny-introduce.mp4" type="video/mp4">  Sunny-introduce.mp4  XMuli Sunny Screenshot æˆªå›¾ è½¯ä»¶ è·¨å¹³å° ç®€æ´ æ¼‚äº®</video><br><h3 id="æˆªå›¾"><a href="#æˆªå›¾" class="headerlink" title="æˆªå›¾"></a>æˆªå›¾</h3><h4 id="Windows-10-x2F-11"><a href="#Windows-10-x2F-11" class="headerlink" title="Windows 10&#x2F;11+"></a>Windows 10&#x2F;11+</h4><p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202312272301064.png" width="48%"/ loading="lazy">  <img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202312272303776.png" width="48%"/ loading="lazy"></p><h4 id="MacOS-10-15-13"><a href="#MacOS-10-15-13" class="headerlink" title="MacOS 10.15~13+"></a>MacOS 10.15~13+</h4><p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2024/202403010038655.jpg" width="48%"/ loading="lazy">  <img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2024/202403010037565.jpg" width="48%"/ loading="lazy"></p><h4 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h4><ul><li><p><strong>Ubuntu 22.04</strong></p><p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202312272304154.png" width="45%"/ loading="lazy">  <img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202312272305584.png" width="45%"/ loading="lazy"></p></li><li><p>Deepin V20.9 &#x2F; UOS</p><p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202312272305050.jpg" width="45%"/ loading="lazy"> <img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202312272305129.jpg" width="45%"/ loading="lazy"></p></li><li><p><strong>openkylin V1.0.1</strong></p><p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2024/202402192238634.png" width="45%"/ loading="lazy">  <img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2024/202402192238459.png" width="45%"/ loading="lazy"></p></li></ul><br><h2 id="ä»£ç ç­¾åè¯ä¹¦"><a href="#ä»£ç ç­¾åè¯ä¹¦" class="headerlink" title="ä»£ç ç­¾åè¯ä¹¦"></a>ä»£ç ç­¾åè¯ä¹¦</h2><blockquote><p>æåŠ›æ¨èä» GirHub <a href="https://github.com/XMuli/SunnyPages/releases">Release</a> ä¸‹è½½ï¼Œæ›´æ–°æœ€å¿«æœ€ç¨³å®šã€‚ä¸‹è½½æ–‡ä»¶åï¼Œæ–‡ä»¶å³é”®å±æ€§æ ¡éªŒå…¶å”¯ä¸€æ€§ï¼Œç¡®ä¿æ–‡ä»¶æ²¡è¢«ç¯¡æ”¹ï¼›</p></blockquote><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2024/202402010109545.png" width="800"/ loading="lazy"><h2 id="é”®ç›˜å¿«æ·é”®"><a href="#é”®ç›˜å¿«æ·é”®" class="headerlink" title="é”®ç›˜å¿«æ·é”®"></a>é”®ç›˜å¿«æ·é”®</h2><table><thead><tr><th>Keys</th><th>Description</th><th>Mode</th></tr></thead><tbody><tr><td><kbd>F6</kbd></td><td>çª—å£æ¿€æ´»æˆªå›¾å›¾</td><td>å…¨å±€</td></tr><tr><td><kbd>Ctrl</kbd> + <kbd>F6</kbd></td><td>ä»…å»¶æ—¶æˆªå›¾</td><td>å…¨å±€</td></tr><tr><td><kbd>Shift</kbd> + <kbd>F6</kbd></td><td>è‡ªå®šä¹‰æˆªå›¾ï¼ˆèµ·ç‚¹ä½ç½® + æˆªå›¾åŒºåŸŸ + å»¶è¿Ÿæ—¶é—´ï¼‰</td><td>å…¨å±€</td></tr><tr><td>ğŸ±â€ğŸ‰</td><td></td><td></td></tr><tr><td><kbd>Esc</kbd></td><td>é€€å‡ºæˆªå›¾</td><td>æœ¬åœ°</td></tr><tr><td><kbd>Tab</kbd></td><td>åˆ‡æ¢æŒ¡ä½ï¼Œæ£€æµ‹çš„å­çª—å£çŸ©å½¢çš„æ·±åº¦</td><td>æœ¬åœ°</td></tr><tr><td><kbd>`</kbd> &#x2F; <kbd>~</kbd></td><td>æ˜¾ç¤ºæ•æ‰çª—å£çš„å±æ€§ä¿¡æ¯ ï¼ˆPath&#x2F;Size&#x2F;PID&#x2F;HWnd â€¦ï¼‰</td><td>æœ¬åœ°</td></tr><tr><td><kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>S</kbd></td><td>å¿«æ·é”®å¿«é€Ÿä¿å­˜åˆ°åˆ°æŒ‡å®šçš„è·¯å¾„</td><td>æœ¬åœ°</td></tr><tr><td><kbd>â†</kbd>, <kbd>â†“</kbd>, <kbd>â†‘</kbd>, <kbd>â†’</kbd> ( <kbd>A</kbd>, <kbd>S</kbd>, <kbd>W</kbd>, <kbd>D</kbd> )</td><td>ç§»åŠ¨é€‰ä¸­åŒºåŸŸ 1px</td><td>æœ¬åœ°</td></tr><tr><td><kbd>Ctrl</kbd> + <kbd>â†</kbd>, <kbd>â†“</kbd>, <kbd>â†‘</kbd>, <kbd>â†’</kbd></td><td>å¤–æ‰©é€‰ä¸­åŒºåŸŸ 10 px</td><td>æœ¬åœ°</td></tr><tr><td><kbd>Shift</kbd> + <kbd>â†</kbd>, <kbd>â†“</kbd>, <kbd>â†‘</kbd>, <kbd>â†’</kbd></td><td>å†…ç¼©é€‰ä¸­åŒºåŸŸ 10 px</td><td>æœ¬åœ°</td></tr></tbody></table><h2 id="åº”ç”¨å•†åº—ä¸‹è½½"><a href="#åº”ç”¨å•†åº—ä¸‹è½½" class="headerlink" title="åº”ç”¨å•†åº—ä¸‹è½½"></a>åº”ç”¨å•†åº—ä¸‹è½½</h2><h3 id="Microsoft-Store"><a href="#Microsoft-Store" class="headerlink" title="Microsoft Store"></a>Microsoft Store</h3><p>åœ¨ Window 10&#x2F;11+ ç³»ç»Ÿï¼Œä¹Ÿåœ¨å¾®è½¯å•†åº—ç›´æ¥ä¸‹è½½</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202402231450384.gif" width="80%"/ loading="lazy"><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2024/202403010108405.gif" width="80%"/ loading="lazy"><br><h3 id="Deepin-x2F-UOS-Store"><a href="#Deepin-x2F-UOS-Store" class="headerlink" title="Deepin &#x2F; UOS Store"></a>Deepin &#x2F; UOS Store</h3><p>æ·±åº¦ç¤¾åŒºã€ ç»Ÿä¿¡æ“ä½œç³»ç»Ÿå•†åº—ä¸­ï¼Œå·²å¯ç›´æ¥ä¸‹è½½</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2024/202402190016686.png" width="80%"/ loading="lazy"><h3 id="Spark-Store"><a href="#Spark-Store" class="headerlink" title="Spark Store"></a>Spark Store</h3><p>ä»¥åŠä¸‰æ–¹çš„æ˜Ÿç«å•†åº—ï¼Œä¹Ÿå¯ç›´æ¥ä¸‹è½½</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2024/202403010053091.png" width="80%"/ loading="lazy"><br><h2 id="æˆªå›¾ä½œå“ç³»åˆ—"><a href="#æˆªå›¾ä½œå“ç³»åˆ—" class="headerlink" title="æˆªå›¾ä½œå“ç³»åˆ—"></a>æˆªå›¾ä½œå“ç³»åˆ—</h2><p>å¾ˆä¹…ä¹‹å‰å°±æƒ³äº›ä¸€ä¸ªè½¯ä»¶æˆªå›¾çš„è½¯ä»¶ï¼Œç›®å‰ä¸€å…±å†™å¦‚ä¸‹ä¸‰ä¸ªå±‚çº§çš„éš¾åº¦ä½œå“ï¼Œæä¾›å¤§å®¶å‚è€ƒ</p><ul><li><strong>â… . æ–°æ‰‹ä¹‹ä½œ ShotX</strong><ul><li>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/XMuli/ShotX">ShotX</a>   |   <a href="https://gitee.com/XMuli/ShotX">é•œåƒ</a></li><li>åŠŸ       èƒ½ï¼šâ‘ åŸºæœ¬çš„æˆªå›¾åŠŸèƒ½ï¼Œå¤åˆ¶å’Œä¿å­˜ï¼Œâ‘¡å³é”®æ‰˜ç›˜åŠèœå•ï¼Œâ‘¢æ”¯æŒ Windowï¼ŒMacOSï¼ŒLinuxï¼Œâ‘£æ”¥å†™ Github-Action çš„ CI&#x2F;CD è‡ªåŠ¨è„šæœ¬ .ymlï¼›å®ç°è‡ªåŠ¨æ‰“åŒ…å’Œå‘å¸ƒï¼Œâ‘¤æ›´å¤šè§ README å’Œ æºç </li><li>æ        è¿°ï¼šæ–°æ‰‹çº§çš„æˆªå›¾ï¼Œé€‚åˆåˆå­¦ Qt&#x2F;C++ å…¥é—¨è€…</li></ul></li><li><strong>â…¡. é«˜çº§ä¹‹ä½œ FLIPPED</strong><ul><li>å®˜       ç½‘ï¼š<a href="https://flipped.xmuli.tech/">flipped.xmuli.tech</a></li><li>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/XMuli/FlippedPages">FLIPPED</a>  |  <a href="https://gitee.com/XMuli/FlippedPages">é•œåƒ</a></li><li>åŠŸ       èƒ½ï¼šâ‘ è´´å›¾å’Œé’‰å›¾ï¼Œâ‘¡å¤šå±æˆªå›¾ï¼Œå»¶æ—¶æˆªå›¾ï¼Œè‡ªå®šä¹‰æˆªå›¾ï¼Œâ‘¢æ™ºèƒ½æ£€æµ‹çª—å£çŸ©å½¢ï¼ˆWindows &amp; Linuxï¼‰ï¼Œâ‘£çŸ©å½¢ã€æ¤­åœ†ã€ç®­å¤´ã€ç”»ç¬”ã€é©¬èµ›å…‹ã€æ–‡æœ¬ã€åºå·ï¼Œâ‘¤æ’¤é”€ã€é‡åšï¼ˆå¤šçº§ï¼‰ã€ä¿å­˜ã€å–æ¶ˆã€æ‹·è´åˆ°å‰ªåˆ‡æ¿ï¼Œâ‘¥æˆªå›¾æ¡†æ ·å¼ä¸‰å¥—ï¼Œä¸”ä¸»é¢˜è‰²æä¾›è‡ªå®šä¹‰ï¼›å±å¹•åå­—çº¿æ ·å¼è‡ªå®šä¹‰ï¼Œâ‘¦å›½é™…åŒ–ï¼šè‹±æ–‡ã€ç®€ä½“ä¸­æ–‡ã€ç¹ä½“ä¸­æ–‡ï¼›å­—ä½“å’Œå­—å·è‡ªå®šä¹‰ï¼Œâ‘§æ”¯æŒè®¾ç½®çª—å£ï¼Œæ‰˜ç›˜ï¼Œæˆªå›¾åŒºåŸŸä¹‹é—´çš„æµç•…åˆ‡æ¢ï¼Œâ‘¨æ›´å¤šè§ README å’Œ æºç </li><li>æ        è¿°ï¼šé«˜çº§éš¾åº¦ï¼Œé€‚åˆå·²å­¦ä¹  Qt&#x2F;C++ æ•°å¹´ç»éªŒè¿›é˜¶ï¼Œéœ€åŒç±»å‹è½¯ä»¶çš„ä»£ç å€Ÿé‰´ï¼Œä½†å¯æ¢ç´¢ä¸­ç‹¬ç«‹å†™ä¸€ä¸ªå¤§çš„è½¯ä»¶ã€‚å‡ºå‘äºéšç§å®‰å…¨ï¼Œæ— ä»»ä½•è”ç½‘åŠŸèƒ½ã€‚</li></ul></li><li><strong>â…¢. å•†ä¸šçº§åˆ«çš„æˆç†Ÿä¹‹ä½œ Sunny (æ¨è)</strong><ul><li>å®˜       ç½‘ï¼š<a href="https://sunny.xmuli.tech/">sunny.xmuli.tech</a></li><li>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/XMuli/sunnypages">Sunny</a>  |  <a href="https://gitee.com/XMuli/SunnyPages">é•œåƒ</a></li><li>åŠŸ       èƒ½ï¼šæ˜¯ FLIPPED ä½œå“çš„è¶…é›†åˆï¼Œå¸¸è§æˆªå›¾åŠŸèƒ½éƒ½éƒ½åŒ…å«ã€‚è¿˜åŒ…å«é¢å¤–çš„åŠŸèƒ½ï¼šâ‘  â€œå›¾ç‰‡ç¿»è¯‘â€ (ä¸­&#x2F;è‹±&#x2F;æ—¥&#x2F;éŸ©&#x2F;ä¿„ç­‰)ï¼Œå’Œâ€OCR æå–æ–‡å­—â€ï¼Œä¹Ÿæ”¯æŒç”¨æˆ·ç§äººtoken çš„é¢åº¦ä½¿ç”¨ ï¼Œâ‘¡ .iss è„šæœ¬å’Œ CMake æ¥æä¾›ä¾¿æºç‰ˆï¼Œå®‰è£…ç‰ˆï¼Œâ‘¢ ç»˜ç”»å·¥å…·æ çš„äºšå…‹åŠ›æ•ˆæœï¼Œä¸”æ”¯æŒè·¨å¹³å°ï¼ˆæ¯›ç»ç’ƒæ•ˆæœï¼‰ï¼Œâ‘£ç¼–è¾‘æ–‡æœ¬æ”¯æŒå¯Œæ–‡æœ¬ï¼ŒåŒä¸€ä¸ªæ³¨é‡Šå¯é‡‡ç”¨å¤šä¸ªå­—ä½“å’Œé¢œè‰²ç­‰ï¼ˆæš‚æœªé‡åˆ°å…¶å®ƒåŒç±»è½¯ä»¶ä¹Ÿèƒ½åšåˆ°ï¼‰ï¼Œâ‘¤å…¨æ–°çš„ UI&#x2F;UE è®¾è®¡äº¤äº’ï¼Œâ€œè®¾ç½®çª—å£â€ æ— ä»»ä½•ç¼éš™æ‹¼æ¥æ„Ÿï¼Œé¢œå€¼è¾¾åˆ°ç®€çº¦ç¾è§‚ï¼Œâ‘¥ä¼˜åŒ–æˆªå±å®Œæˆåçš„å†…å­˜é‡Šæ”¾ï¼›â‘¦å›½é™…åŒ–ç¿»è¯‘æ›´æ–¹ä¾¿ï¼Œâ‘§CMake é‡å†™æ‹†åˆ†ä¸º EXE + DLL éš”ç¦»ï¼Œâ‘¨è¿›è¡Œä»£ç ç­¾åï¼Œæ–¹ä¾¿ä¸‹è½½æ ¡éªŒå’Œé˜²ç¯¡æ”¹ï¼Œâ‘©æˆåŠŸä¸Šæ¶ Window çš„å¾®è½¯å•†åº—ï¼ŒLinux çš„ æ·±åº¦&#x2F;ç»Ÿä¿¡å•†åº—ï¼Œä»¥åŠä¸‰æ–¹çš„æ˜Ÿç«å•†åº—ç­‰ï¼›éº’éºŸå•†åº—ä¹Ÿåœ¨ä¸Šæ¶å¾…å®¡æ ¸</li><li>æ        è¿°ï¼šåŸºäºå‰ä¸¤ä¸ªçš„é¡¹ç›®ç»éªŒå’Œä¸è¶³ï¼Œç›´æ¥é‡å†™äº†ä¸€å¥—æ–°çš„æ¡†æ¶å’ŒUIç•Œé¢ï¼›ç›®å‰ä¸ªäººä»ä»£ç åŠŸèƒ½å’Œäº§å“ä½“éªŒæ¥è¯´ï¼Œå·²ç»è¾¾åˆ° å·¥ç¨‹ä»£ç æ•´æ´ã€è§„èŒƒã€ç¨³å®šå’Œå¥å£®æ€§ï¼Œä¼˜ç§€çš„è§£è€¦æœºåˆ¶ï¼Œæ¼‚äº®ç®€çº¦å¾— UI &#x2F; UX è®¾è®¡ï¼Œå¯ä»¥éšæ—¶åº”å¯¹å˜åŒ–çš„å®é™…éœ€æ±‚ï¼Œå¾ˆä¹…ä¹‹å†…éƒ½æ— éœ€é‡æ„äº†ã€‚å®šä½ä¸º æ¼‚äº®å’Œç®€æ´ï¼ŒåŠŸèƒ½å®ç”¨ä¸ºä¸»ã€‚</li></ul></li></ul><table><thead><tr><th align="center">é¡¹ç›®</th><th align="center">æè¿°</th><th align="center">å¼€å‘ç»éªŒ</th></tr></thead><tbody><tr><td align="center">ShotX</td><td align="center">åŠŸèƒ½æç®€çš„æˆªå›¾å·¥å…·</td><td align="center">ç®€æ˜“ï¼Œæ–°æ‰‹çº§çš„æˆªå›¾ï¼Œé€‚åˆåˆå­¦ Qt&#x2F;C++ å…¥é—¨</td></tr><tr><td align="center">FLIPPED</td><td align="center">ç®€æ´ä¸”æ¼‚äº®ï¼ŒåŠŸèƒ½å®Œæ•´çš„æˆªå›¾è½¯ä»¶ï¼›éšç§å®‰å…¨ï¼Œæ— ä»»ä½•è”ç½‘åŠŸèƒ½</td><td align="center">é«˜çº§éš¾åº¦ï¼Œå± Qt&#x2F;C++ æ•°å¹´ç»éªŒçš„è¿›é˜¶ä½œå“ï¼Œåœ¨å€Ÿé‰´åŒç±»ä½œå“çš„ä»£ç æ—¶ï¼Œå¯äºæ¢ç´¢ä¸­ç‹¬ç«‹å®Œæˆçš„ä¸€ä¸ªå¤§çš„è½¯ä»¶</td></tr><tr><td align="center">Sunny</td><td align="center">ä¸€æ¬¾ç®€æ´ä¸”æ¼‚äº®çš„æˆªå›¾çš„è½¯ä»¶å·¥å…·ã€‚äº¦æ”¯æŒå›¾ç‰‡ç¿»è¯‘å’ŒOCRï¼›å·²ä¸Šæ¶å¾®è½¯å•†åº—ï¼Œæ·±åº¦&#x2F;ç»Ÿä¿¡å•†åº—ï¼ŒåŠä¸‰æ–¹çš„æ˜Ÿç«å•†åº—ç­‰</td><td align="center">ä¸“ä¸šçº§ä½œå“ï¼Œé€‚åˆå·²å¤šå¹´æ²‰æµ¸ç ”ç©¶ Qt&#x2F;C++ ç»éªŒï¼Œéšå¿ƒæ‰€æ¬²å†™ä»»æ„æ‰€éœ€åŠŸèƒ½ï¼Œ<strong>å±äºå•†ä¸šçº§çš„æˆç†Ÿä½œå“ï¼Œæ˜¯æœ¬æˆªå›¾ç³»åˆ—çš„æœ€é«˜æ°´å‡†ä¹‹ä½œ</strong></td></tr></tbody></table><blockquote><p><strong>æ³¨ï¼š</strong> ShotXï¼ŒFLIPPEDï¼ŒSunny è¿™ä¸‰æ¬¾å‡æ”¯æŒè·¨å¹³å° Windows &#x2F; MacOS &#x2F; Linuxã€‚</p><p><strong>ç¬”è®°ï¼š</strong> Sunny  &#x3D;  FLIPPEDçš„åŠŸèƒ½é‡æ„ + ä»£ç é‡æ„ + UIé‡æ„ + ç½‘ç»œåŠŸèƒ½ï¼ˆå›¾ç‰‡ç¿»è¯‘+OCRï¼‰+ ä¸Šæ¶åº”ç”¨å•†åº— + åç»­æ–°åŠŸèƒ½ï¼›è€Œ ShotX æ˜¯æœ€æ—©çš„ç»ƒæ‰‹æ¢ç´¢</p></blockquote><h2 id="å¦‚ä½•å¼€å‘ä¸€æ¬¾æˆªå›¾è½¯ä»¶å‘¢ï¼Ÿ"><a href="#å¦‚ä½•å¼€å‘ä¸€æ¬¾æˆªå›¾è½¯ä»¶å‘¢ï¼Ÿ" class="headerlink" title="å¦‚ä½•å¼€å‘ä¸€æ¬¾æˆªå›¾è½¯ä»¶å‘¢ï¼Ÿ"></a>å¦‚ä½•å¼€å‘ä¸€æ¬¾æˆªå›¾è½¯ä»¶å‘¢ï¼Ÿ</h2><p>åœ¨å†™å’Œå‘å¸ƒçš„åçš„æœŸé—´ï¼Œä¹Ÿé‡åˆ°å¾ˆå¤šç§èŠè¯·æ•™ ã€ é‚®ä»¶æ²Ÿé€šæŸä¸ªåŠŸèƒ½å®ç°ï¼Ÿåé¦ˆ Bug å’Œç»™å‡ºä½¿ç”¨å¿ƒå¾—å’Œå»ºè®®ï¼›éƒ½ç»™ç­”ç–‘äº†ï¼Œä½†æƒ³æ¥å¯å†™ä¸ºä¸€æ•´ç¯‡ï¼Œä¸­é—´é‡åˆ°çš„å›°éš¾ç‚¹éƒ½å†™å‡ºæ¥ï¼Œå…¬å¼€å‡ºæ¥æä¾›åæ¥è€…å‚è€ƒã€‚</p><p><strong>ç¼–è¯‘ç¯å¢ƒ</strong></p><p>ã€€ã€€ğŸ’» <code>MacOS 13 </code> ğŸ“ <code>Qt 5.15.2</code> ğŸ“ <code>gcc/g++ 9.2</code> ğŸ“ <code>gdb8.3</code> </p><p>ã€€ã€€ğŸ’» <code>Ubuntu 22.04</code> ğŸ“<code>Deepin 20.9-23+</code> ğŸ“ <code>Qt 5.15.2</code> ğŸ“ <code>gcc/g++ 9.0</code>  ğŸ“ <code>gdb8.0</code></p><p>ã€€ã€€ğŸ’»  <code>win10 22H2</code> ğŸ“ <code>Qt 5.15.2</code> ğŸ“  <code>Visual Studio 2022</code> ğŸ“ <code>C++17</code></p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202402281723559.png" width="70%"/ loading="lazy"><h3 id="ã€æ•´ä½“æ€è·¯ã€‘"><a href="#ã€æ•´ä½“æ€è·¯ã€‘" class="headerlink" title="ã€æ•´ä½“æ€è·¯ã€‘"></a>ã€æ•´ä½“æ€è·¯ã€‘</h3><ul><li><strong>åŸºç¡€çª—å£ï¼š</strong> åˆ›å»ºä¸€ä¸ª QWidget çª—å£ï¼Œå»æ‰æ ‡é¢˜æ åï¼Œå…¨å±ä¸”ç½®é¡¶ï¼Œæ•è·æ­¤åˆ»å¤šå±å¹•çŠ¶æ€ä¿å­˜ä¸º QPixampï¼Œç„¶åç»˜ç”»åœ¨ QWidget æœ€åº•å±‚ï¼Œå†ç»˜ç”»ä¸€å±‚é€æ˜é»‘è‰²ä½œä¸ºé®ç½©</li><li><strong>ç»˜ç”»å·¥å…·æ ï¼š</strong> ä½œä¸ºæ˜¯ä¸€ä¸ªå•ç‹¬çš„å­çª—å£ï¼ŒåŒ…å«ä¸¤ä¸ªä¸€çº§å’ŒäºŒçº§çš„ç»˜ç”»å·¥å…·æ ï¼Œæ§åˆ¶äºŒçº§çš„æ˜¾éš</li><li><strong>é¼ æ ‡å…‰æ ‡ï¼š</strong> å°† QWidget æ”¾äºè™šæ‹Ÿæ¡Œé¢çš„å·¦ä¸Šè§’ï¼›ç›¸å¯¹åæ ‡å’Œç»å¯¹åæ ‡çš„è½¬æ¢</li><li><strong>åŠŸèƒ½æ€è·¯ï¼š</strong> æ—¶åˆ»åˆ¤æ–­å½“å‰æ‰€å¤„æ¨¡å¼ï¼šWait &#x2F; Select &#x2F; Move &#x2F; Draw &#x2F; Stretch æ ‡è®°ï¼›æ ¹æ®æ¨¡å¼æ ‡è®°ï¼Œå¯¹é¼ æ ‡çš„ Press &#x2F; Move &#x2F; Release äº‹ä»¶è¿›è¡Œå¯¹åº”çš„æ“ä½œï¼›é‡ç‚¹æ˜¯é¼ æ ‡æ”¾ä¸‹å’Œæ¾å¼€æ—¶çš„ QPoint<ul><li>æ•è·æ¨¡å¼ï¼šæ™ºèƒ½çª—å£ &#x2F; å…¨å±æˆªå›¾ &#x2F; å»¶æ—¶æˆªå›¾ &#x2F; è‡ªå®šä¹‰æˆªå›¾ ç­‰</li><li>ç»˜ç”»æ¨¡å¼åˆ™ç»†åˆ†ï¼šä¸€çº§ç»˜ç”»æ å’ŒäºŒçº§ç»˜ç”»æ ï¼ˆæ„ˆåŠ ç²¾ç¡®çš„å‚æ•°ï¼‰</li><li>æ‹‰ä¼¸å¯ä¸ºï¼šæ‹‰ä¼¸å·²ç»˜å›¾å½¢ &#x2F; é€‰ä¸­æ¡† &#x2F; â€¦ ï¼Œæ“ä½œæ˜¯å¯è§åŒºåŸŸçš„ä»»æ„ä¸€ä¸ªå›¾æ¡ˆ</li><li>ç§»åŠ¨åŒä¸Š</li></ul></li><li><strong>é’‰å›¾åŠŸèƒ½ï¼š</strong> ç‹¬ç«‹çš„çª—å£ï¼Œå°†å›¾ç‰‡ç»˜ç”»åœ¨æœ€åº•å±‚ï¼Œä¸”éœ€è¦é‡ç»˜ç¼©å°ä¸€åœˆï¼Œä¸ºæ¯›ç»ç’ƒçš„å½©è™¹ç¯é¢„ç•™ä½ç½®</li><li><strong>æ‚é¡¹ä½†é‡è¦ï¼š</strong> å›½é™…åŒ–ï¼Œä¸é‡å¯åˆ‡æ¢è¯­è¨€å­—ä½“ï¼Œç¼–è¯‘ï¼Œæ‰“åŒ…ï¼ŒCI &#x2F;CDï¼Œçƒ­é”®ï¼Œçª—å£å°ºå¯¸éå†ï¼Œæ˜¾ç¤ºçª—å£è¯¦ç»†ä¿¡æ¯åŠå¤§å°ï¼Œä»£ç ç­¾åè¯ä¹¦ï¼Œä¸Šæ¶åº”ç”¨å•†åº—ï¼›å¤ªå¤šäº†ï¼Œå•ç‹¬æˆç¯‡å†™åœ¨ä¸‹é¢</li></ul><h3 id="ã€å¦‚ä½•è´­ä¹°ä»£ç ç­¾åã€‘"><a href="#ã€å¦‚ä½•è´­ä¹°ä»£ç ç­¾åã€‘" class="headerlink" title="ã€å¦‚ä½•è´­ä¹°ä»£ç ç­¾åã€‘"></a>ã€å¦‚ä½•è´­ä¹°ä»£ç ç­¾åã€‘</h3><ul><li><p>ã€é—®é¢˜ã€å†™çš„ EXE å¦‚ä½•è¿›è¡Œä»£ç ç­¾åï¼Ÿå¦‚ä½•è´­ä¹°ä»£ç ç­¾åï¼Œæ€ä¹ˆä¹°æœ€ä¾¿å®œï¼ŸEV &#x2F; Standard &#x2F; Open Source Signing Certificates çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>è¯¦ç»†è§£ç­”è¿™äº›é—®é¢˜ ã€Š<a href="https://xmuli.blog.csdn.net/article/details/135487951">åˆ†äº«å¦‚ä½•æ‹¥æœ‰ä¸€ä»½ç§äººçš„ã€å¼€æºä»£ç ç­¾åè¯ä¹¦ã€</a>ã€‹ï¼Œå¹¶ä¸”æŒ‡å¯¼æœ€åå¦‚ä½•ç­¾åã€‚</p><br></li></ul><h3 id="ã€å¦‚ä½•ä¸Šæ¶åº”ç”¨å•†åŸã€‘"><a href="#ã€å¦‚ä½•ä¸Šæ¶åº”ç”¨å•†åŸã€‘" class="headerlink" title="ã€å¦‚ä½•ä¸Šæ¶åº”ç”¨å•†åŸã€‘"></a>ã€å¦‚ä½•ä¸Šæ¶åº”ç”¨å•†åŸã€‘</h3><ul><li><p>ã€é—®é¢˜ã€å¦‚ä½•ä¸Šæ¶åˆ°å¾®è½¯çš„ Microsoft Storeï¼Ÿå¦‚ä½•ä¸Šæ¶ Linux çš„æ·±åº¦&#x2F;ç»Ÿä¿¡&#x2F;éº’éºŸå•†åŸï¼Œä»¥åŠå¦‚ä¸‰æ–¹çš„æ˜Ÿç«å•†åº—å‘¢ï¼Ÿ</p><p>ç¯‡å¹…å¤ªé•¿ï¼Œå•å†™äº†ä¸€ç¯‡ï¼ŒåŒ…å«è¯¦ç»†ä¸Šæ¶ Windows Storeï¼Œ Deepin&#x2F;UOS Store, ä¸‰æ–¹ æ˜Ÿç«å•†åº—ç­‰ã€‚</p><p>ğŸ‘‰ ã€Š<a href="https://blog.csdn.net/qq_33154343/article/details/136334975">Sunnyæˆªå›¾ä¸Šæ¶Microsoft StoreåŠLinuxå•†åº—æµç¨‹çš„æŒ‡åŒ—</a>ã€‹</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2024/202402192349047.jpg" width="300"/ loading="lazy"><p><strong>Noteï¼š</strong></p><p>ä¸ªäººä½œå“ä¸Šæ¶å¾®è½¯å•†åº—çš„æµç¨‹å¾ˆæŠ˜ç£¨ï¼Œæœ€åä¸Šæ¶æˆåŠŸåä¹Ÿæ˜¯æ‹¨å¼€äº‘é›¾ï¼›</p><p>è‹¥æ˜¯æ–‡ç« å¯¹ä½ æœ‰ä»·å€¼ï¼Œäº¦å¯å¸®æˆ‘ç§¯ç´¯Sunnyçš„å¾®è½¯ä¿¡èª‰ï¼Œæˆ–è€…åœ¨æ·±åº¦å•†åº—çš„å¥½è¯„ï¼Œç”šè‡³æ„Ÿè°¢ğŸ™‡â€ ï¼› </p><p><font color=#D0087E size=5 face="STFangsong">Windows ç”¨æˆ·æ¨èçš„ä¸‹è½½ </font> ğŸ‘‰   <a href="https://github.com/XMuli/SunnyPages/releases/download/v1.3/Sunny_setup_msvc_1.3.0_x64.exe">Sunny_setup_msvc_1.3.0_x64.exe</a>  </p><br></li></ul><h3 id="ã€æ‰“åŒ…å‘å¸ƒ-Windows-x2F-MacOS-x2F-Linux-ä¸Šã€‘"><a href="#ã€æ‰“åŒ…å‘å¸ƒ-Windows-x2F-MacOS-x2F-Linux-ä¸Šã€‘" class="headerlink" title="ã€æ‰“åŒ…å‘å¸ƒ Windows &#x2F; MacOS &#x2F; Linux ä¸Šã€‘"></a>ã€æ‰“åŒ…å‘å¸ƒ Windows &#x2F; MacOS &#x2F; Linux ä¸Šã€‘</h3><p>ä»‹ç»å¤šç§å¹³å°å’Œæ ¼å¼ï¼šâ‘ Windowsï¼šç»¿è‰²ä¾¿æºç‰ˆå’Œå®‰è£…åŒ… <code>.exe</code> â‘¡MacOSï¼š<code>.app</code> å’Œ <code>.img</code> â‘¢Linux: ç»¿è‰²ç‰ˆã€ <code>.deb</code> å’Œ <code>.AppImage</code> </p><ul><li><p>ã€é—®é¢˜ã€Windows å¦‚ä½•æ„å»ºæ‰“åŒ…ä¸º .exe æ–‡ä»¶ï¼Ÿå¦‚ä½•ç”Ÿæˆæ„ç»¿è‰²ç‰ˆå’Œå®‰è£…ç‰ˆï¼Ÿ</p><p>ã€Š<a href="https://blog.csdn.net/qq_33154343/article/details/96448388">QT é¡¹ç›®åœ¨ Windows å¹³å°ä¸Šé¢å‘å¸ƒæˆå¯æ‰§è¡Œç¨‹åº</a>ã€‹</p></li><li><p>ã€é—®é¢˜ã€MacOS å¦‚ä½•æ„å»ºæ‰“åŒ…ä¸º .dmg æ–‡ä»¶ï¼Ÿ</p><p>ã€Š<a href="https://xmuli.blog.csdn.net/article/details/96448938#comments">QT é¡¹ç›®åœ¨ MacOS å¹³å°ä¸Šé¢å‘å¸ƒæˆå¯æ‰§è¡Œç¨‹åº</a>ã€‹</p></li><li><p>ã€é—®é¢˜ã€Linux å¦‚ä½•æ„å»ºæ‰“åŒ…ä¸º .deb æ–‡ä»¶ã€å¦‚ä½•æ‰“åŒ…ä¸ºé€šç”¨çš„ .AppImage æ ¼å¼ï¼Ÿ</p><ul><li><p>Linuxä¸‹åˆå¤šç§æ‰“åŒ… <code>.deb</code> æ‰“åŒ…æ–¹æ³•ï¼š</p><ul><li><p>ã€–æ–¹æ³•ä¸€ã€—é€šè¿‡ ldd.sh + Sunny.sh ä¸¤ä¸ªè„šæœ¬æ‰“åŒ…ä¾èµ–ï¼Œå‚è€ƒã€Š<a href="https://blog.csdn.net/qq_33154343/article/details/96448621">QT é¡¹ç›®åœ¨ Linux å¹³å°ä¸Šé¢å‘å¸ƒæˆå¯æ‰§è¡Œç¨‹åº</a>ã€‹</p></li><li><p>ã€–æ–¹æ³•äºŒã€—é€šè¿‡ <code>dh_make</code> + <code>dpkg-buildpackage</code> å‘½ä»¤ã€Š<a href="https://blog.csdn.net/qq_33154343/article/details/123778207">Linux ä¸­ç”¨ dh_make å°† Qt + CMake é¡¹ç›®æ‰“åŒ…ä¸º deb æ–‡ä»¶</a>ã€‹</p></li><li><p>ã€–æ–¹æ³•ä¸‰ï¼Œæœ€æ¨èã€—é€šè¿‡ CMake çš„ <code>cpack</code> å‘½ä»¤ï¼Œé‚£æ ·å°±ä¸éœ€è¦å¡«å†™ debian æ–‡ä»¶å¤¹ä¸‹çš„ control ç­‰æ–‡ä»¶ï¼Œç›´æ¥æ‹·è´ç›¸å…³èµ„æºæ–‡ä»¶è¿‡å»ã€‚ CMakeLists.txt åº•éƒ¨åŠ ä¸Š CPack çš„ç›¸å…³ä»£ç ï¼Œæ ¸å¿ƒå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-cmake" data-language="cmake"><code class="language-cmake"><span class="token comment"># CPACK: General Settings</span><span class="token keyword">set</span> <span class="token punctuation">(</span>CPACK_GENERATOR <span class="token string">"TBZ2"</span><span class="token punctuation">)</span><span class="token keyword">set</span> <span class="token punctuation">(</span>CPACK_PACKAGE_NAME <span class="token string">"<span class="token interpolation"><span class="token punctuation">$&#123;</span><span class="token variable">project_name</span><span class="token punctuation">&#125;</span></span>"</span><span class="token punctuation">)</span><span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token variable">CPACK_PACKAGE_VERSION</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$&#123;</span><span class="token variable">project_version</span><span class="token punctuation">&#125;</span></span>"</span><span class="token punctuation">)</span><span class="token keyword">set</span> <span class="token punctuation">(</span>CPACK_PACKAGE_VENDOR <span class="token string">"https://github.com/XMuli"</span><span class="token punctuation">)</span><span class="token keyword">set</span> <span class="token punctuation">(</span>CPACK_PACKAGE_DESCRIPTION_SUMMARY <span class="token string">"Simple and beautiful screenshot software tool for Windows, MacOS and Linux"</span><span class="token punctuation">)</span><span class="token keyword">set</span> <span class="token punctuation">(</span>CPACK_PACKAGE_FILE_NAME <span class="token string">"<span class="token interpolation"><span class="token punctuation">$&#123;</span><span class="token variable">CPACK_PACKAGE_NAME</span><span class="token punctuation">&#125;</span></span>-<span class="token interpolation"><span class="token punctuation">$&#123;</span><span class="token variable">CPACK_PACKAGE_VERSION</span><span class="token punctuation">&#125;</span></span>"</span><span class="token punctuation">)</span><span class="token keyword">set</span> <span class="token punctuation">(</span>CPACK_PACKAGE_CONTACT <span class="token string">"https://sunny.xmuli.tech"</span><span class="token punctuation">)</span><span class="token comment"># è®¾ç½®Debianè½¯ä»¶åŒ…çš„ä¾èµ–å…³ç³»</span><span class="token keyword">set</span> <span class="token punctuation">(</span>CPACK_DEBIAN_PACKAGE_DEPENDS <span class="token string">"libqt5x11extras5, libqt5svg5"</span><span class="token punctuation">)</span><span class="token keyword">set</span> <span class="token punctuation">(</span>CPACK_SYSTEM_NAME <span class="token string">"<span class="token interpolation"><span class="token punctuation">$&#123;</span><span class="token variable">CMAKE_SYSTEM_NAME</span><span class="token punctuation">&#125;</span></span>-<span class="token interpolation"><span class="token punctuation">$&#123;</span><span class="token variable">CMAKE_SYSTEM_PROCESSOR</span><span class="token punctuation">&#125;</span></span>"</span><span class="token punctuation">)</span><span class="token keyword">set</span> <span class="token punctuation">(</span>CPACK_DEBIAN_PACKAGE_SHILIBDEPS <span class="token boolean">ON</span><span class="token punctuation">)</span><span class="token keyword">include</span><span class="token punctuation">(</span>CPack<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul></li><li><p>Linuxä¸‹æœ‰å¤šç§æ‰“åŒ…  <code>.AppImage</code>  æ‰“åŒ…æ–¹æ³•</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#ã€æ–¹å¼å››ã€‘ä½¿ç”¨ linuxdeployqt æ–¹å¼æ‰“åŒ…ï¼Œåœ¨ Ubuntu 22.04 æ‰“åŒ…ï¼Œä¸å¯ä»¥ä½¿ç”¨ -----------------------------</span><span class="token comment">####linuxdeployqt-continuous-x86_64.AppImage æ–¹æ¡ˆå¯åœ¨ Ubuntu 22.04 ä¸Šé¢ä¸å¯è¡Œ####</span>$ <span class="token punctuation">..</span>/linuxdeployqt-continuous-x86_64.AppImage Sunny <span class="token parameter variable">-appimage</span>$ <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span>  libfuse2ä½†æ˜¯ç”±äºè¿‡äºä½œè€…çš„å›ºæ‰§åšå®ˆæ—§çš„ç‰ˆæœ¬ï¼Œæ‰€ä»¥æ— æ³•ä½¿ç”¨ï¼Œç†ç”±å’Œå¯èƒ½çš„è§£å†³å¦‚ä¸‹ï¼šhttps://github.com/probonopd/linuxdeployqt/issues/340<span class="token comment">#issuecomment-932712016</span>å³ï¼šä½¿ç”¨linuxdeployå’Œlinuxdeploy-plugin-qt<span class="token comment">#####linuxdeploy-x86_64.AppImage + linuxdeploy-plugin-qt-x86_64.AppImage ä¸‹é¢æ–¹æ¡ˆå¯è¡Œ#####</span>https://github.com/BearKidsTeam/thplayer/blob/master/.github/workflows/linux.yml<span class="token comment">#L54</span>$ <span class="token function">sudo</span> <span class="token function">apt</span> update$ <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> qtbase5-dev qtmultimedia5-dev libqt5multimedia5-plugins$ <span class="token function">sudo</span> add-apt-repository universe$ <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> libfuse2$ <span class="token function">wget</span> https://github.com/linuxdeploy/linuxdeploy/releases/download/continuous/linuxdeploy-x86_64.AppImage$ <span class="token function">wget</span> https://github.com/linuxdeploy/linuxdeploy-plugin-qt/releases/download/continuous/linuxdeploy-plugin-qt-x86_64.AppImage$ <span class="token function">chmod</span> +x linuxdeploy*.AppImage$ <span class="token function">mkdir</span> build <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> build$ cmake <span class="token punctuation">..</span>$ cmake <span class="token parameter variable">--build</span> <span class="token builtin class-name">.</span> -j<span class="token variable"><span class="token variable">$(</span>nproc<span class="token variable">)</span></span>$ <span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>$ <span class="token punctuation">..</span>/linuxdeploy-x86_64.AppImage <span class="token parameter variable">--appdir</span> AppDir <span class="token parameter variable">-e</span> bin/Sunny <span class="token parameter variable">-d</span> bin/resources/cpack/tech.xmuli.sunny.desktop <span class="token parameter variable">-i</span> bin/resources/logo/logo.svg --icon-filename tech.xmuli.sunny <span class="token parameter variable">-p</span> qt <span class="token parameter variable">-o</span> appimage$  ./linuxdeploy-x86_64.AppImage <span class="token parameter variable">--appdir</span> AppDir <span class="token parameter variable">-e</span> build/thplayer <span class="token parameter variable">-d</span> assets/thplayer.desktop <span class="token parameter variable">-i</span> assets/thplayer.svg --icon-filename thplayer <span class="token parameter variable">-p</span> qt <span class="token parameter variable">-o</span> appimage$ <span class="token function">mv</span> TouHou_Player*.AppImage thplayer-linux.AppImage<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul></li><li><p>ã€é—®é¢˜ã€å¦‚ä½•ä¹¦å†™ .yml çš„è„šæœ¬ï¼Œé€šè¿‡ GitHub çš„Action èµ„æºï¼Œè‡ªåŠ¨æ‰“åŒ…æ„å»ºç”Ÿæˆ Release å‘¢ï¼Ÿ</p><p>é€šè¿‡å†™ä¸‰ä¸ªç³»ç»Ÿçš„ .yml è„šæœ¬ï¼Œè·¯å¾„å¿…é¡»æ˜¯ <code>.github/workflows</code> ï¼Œéšç€æ—¶é—´çš„æµé€âŒ›ï¼Œæƒ³è¦æŒç»­æ„å»ºå¯¹åº”çš„äº‘ç³»ç»Ÿå’Œ Kit ä¹Ÿå¿…é¡»æ›´æ–°ï¼Œæ–‡æ¡£å’Œç‰ˆæœ¬å‚è§ <a href="https://github.com/actions/runner-images/tree/main/images">images</a> ï¼Œç›´æ¥å¾€ .yml  ä¿®æ”¹ï¼›è¿™æ˜¯ä¸€ä¸ªå®é™…å¯è·‘çš„è„šæœ¬ <a href="https://github.com/XMuli/ChineseChess/tree/master/.github/workflows">*.yml</a>  éƒ½æ˜¯å¯ä»¥ç¼–è¯‘æˆåŠŸçš„ï¼Œå¤±è´¥å¯èƒ½æ˜¯é¢åº¦æ—¶é—´ä¸å¤Ÿäº†ï¼Œå¦‚æŸæ¬¡æˆåŠŸçš„ç¤ºä¾‹ï¼Œå¯çœ‹åˆ°å¤´åƒæ˜¯ GitHub çš„å¤´åƒå‘å¸ƒçš„ <a href="https://github.com/XMuli/ChineseChess/releases/tag/v6.1">Release-v6.1</a> ï¼›</p><br></li></ul><h3 id="ã€UI-x2F-UX-è®¾è®¡çš„æ•ˆæœã€‘"><a href="#ã€UI-x2F-UX-è®¾è®¡çš„æ•ˆæœã€‘" class="headerlink" title="ã€UI &#x2F; UX è®¾è®¡çš„æ•ˆæœã€‘"></a>ã€UI &#x2F; UX è®¾è®¡çš„æ•ˆæœã€‘</h3><ul><li><p>ã€é—®é¢˜ã€æˆªå›¾çš„ä¸€çº§äºŒçº§çš„èœå•å·¥å…·æ ï¼Œå¦‚ä½•å®ç° Windows7 çš„é€æ˜ç£¨ç ‚ &#x2F;  Windows çš„äºšå…‹åŠ›çš„æ•ˆæœï¼Œä¸”èƒ½å¤Ÿæ”¯æŒ Windows &#x2F; Linux &#x2F; MacOSï¼Ÿ</p><p>å•çº¯å®ç°äºšå…‹åŠ›æ•ˆæœä¸éš¾ï¼Œéš¾åœ¨Linuxå’Œ MacOS ä¸Šä¹Ÿèƒ½å®ç°è¿™ä¸ªæ•ˆæœï¼Ÿè¿™æ˜¯å½“æ—¶çš„ä¸€äº›æ¢ç´¢å’Œç»éªŒï¼Œæ€»ç»“äº†å››ç§æ–¹æ³•æ”¾ç½®äº <a href="https://github.com/XMuli/AcrylicWindow">GitHub - AcrylicWindow</a></p></li><li><p>ã€é—®é¢˜ã€å¦‚ä½•å®ç°ä¸€ä¸ªå®Œç¾çš„æ— è¾¹æ¡†çª—å£è·¨å¹³å°ï¼Œä¸”è¿˜è¦å ç”¨ä½ï¼Œæ²¡æœ‰ç‘•ç–µBUGï¼Œè¿˜èƒ½ç™½å«–ï¼Ÿ</p><p>ä¹ŸæŠ˜è…¾è¿‡ï¼Œéš¾åº¦ä¹Ÿå¾ˆå¤§ï¼Œåæ¥å‘ç°å¯¹äºæˆªå›¾ï¼Œè´¹åŠ›å¯ä»¥å®ç°ï¼Œä½†æ˜¯æ²¡å¿…è¦ï¼Œæˆæœ¬å¤ªå¤§ï¼›ç»“è®ºï¼šè¿™æ ·ç°æˆçš„æ²¡æœ‰ï¼Œç›®å‰æ•ˆæœå’Œè·¨å¹³å°éƒ½æœ€ä½³çš„æ–¹æ¡ˆæ˜¯<a href="https://github.com/wangwenx190/framelesshelper">framelesshelper</a>ï¼Œ æœ‰æ—¶æ”¾å¼ƒä¹Ÿæ˜¯ä¸€ç§è§£å†³æ–¹æ¡ˆã€‚</p></li><li><p>ã€é—®é¢˜ã€å¦‚ä½•å®ç°å›½é™…åŒ–å¤šè¯­è¨€çš„åˆ‡æ¢ï¼Ÿå°¤å…¶æ˜¯æœªä½¿ç”¨ Qt Designer æ¥åˆ›å»º .ui æ–‡ä»¶ï¼Œé‡åˆ°æ—  <code>ui-&gt;retranslateUi(this)</code> å‡½æ•°ï¼Ÿä¸é‡å¯è½¯ä»¶ä¾¿å¯ä»¥åˆ‡æ¢è¯­è¨€</p><p>å¯¹äºæœ‰æœ‰ .ui çš„éƒ¨åˆ†ï¼Œå¯ä»¥é€šè¿‡ ã€Š<a href="https://xmuli.blog.csdn.net/article/details/114439385">Qt é¡¹ç›®(CMake)è®¾ç½®å›½é™…åŒ–æ”¯æŒ</a>ã€‹æ¥è§£å†³ã€‚å¯¹äºå­˜æ‰‹å†™çš„æ§ä»¶å®ç°çš„ï¼Œä¸”å¤§è‡´å®ç°çš„æ€è·¯æ˜¯ï¼š</p><p>ä¸‹æ‹‰æ¡†ä¸­åˆ‡æ¢è¯­è¨€æ—¶ï¼Œå‘å°„ä¿¡å· â†’ å…¨å±€å•ä¾‹ â†’ ä¿¡å·å’Œæ§½å‡½ â†’ åˆ°ä¸»çª—å£çš„æ§½å‡½æ•°ï¼Œåœ¨é‡Œé¢è¿›è¡Œé‡æ–°åŠ è½½è¯­è¨€ï¼Œæ‰€æœ‰ç›¸å…³çš„æ§ä»¶çš„é»˜è®¤æ–‡æœ¬ï¼Œéƒ½å†™åœ¨è¿™ä¸ªå‡½æ•°é‡Œé¢ï¼Œä¾¿å¯ä»¥ä¸é‡å¯è½¯ä»¶ï¼Œç›´æ¥å®ç°è¯­è¨€åˆ‡æ¢æˆåŠŸ</p></li></ul><br><h3 id="ã€ç”¨æˆ·ä½“éªŒç»†èŠ‚ã€‘"><a href="#ã€ç”¨æˆ·ä½“éªŒç»†èŠ‚ã€‘" class="headerlink" title="ã€ç”¨æˆ·ä½“éªŒç»†èŠ‚ã€‘"></a>ã€ç”¨æˆ·ä½“éªŒç»†èŠ‚ã€‘</h3><ul><li><p>ã€é—®é¢˜ã€æ˜¯å¦éœ€è¦ç®¡ç†å‘˜æƒé™æ‰èƒ½è¿è¡Œï¼Ÿ</p><p>å…¨ç¨‹ä¸ä¼šå¼¹ UAC å¼¹çª—ï¼Œä¸éœ€è¦ç®¡ç†å‘˜æƒé™å°±å¯ä»¥ä½¿ç”¨æ‰€æœ‰åŠŸèƒ½ï¼Œä¹Ÿä¸ä¼šä¸­é€”ææƒï¼Œä»…æ™®é€šç”¨æˆ·æƒé™å³å¯ï¼ŒåŒ…æ‹¬å¯¼å‘å®‰è£…ï¼Œé™é»˜å®‰è£…ï¼Œä½¿ç”¨å¸è½½ï¼›</p></li><li><p>ã€é—®é¢˜ã€Windows å’Œ Linux æ”¯æŒä¸€æ¬¡æˆªå¤šä¸ªå±å¹•ï¼ŒMacOS ä»…åªèƒ½æˆªå›¾å•ä¸ªå±å¹•ï¼Œå¦‚ä½•å®ç°å‘¢ï¼Ÿ</p><p>MacOS é™¤äº†ç³»ç»Ÿè‡ªå¸¦çš„æˆªå›¾æ”¯æŒå¤–ï¼Œè‡³ä»Šæ²¡æœ‰ä»»ä½•ä¸€ä¸ªä¸‰æ–¹è½¯ä»¶å¯ä»¥åšåˆ°è¿™ç‚¹ï¼ŒåŒ…æ‹¬å¤§å‚ç­‰æŸä¼é¹…çš„æˆªå›¾çš„ï¼Œæ— è§£ã€‚æ ¹åŸæ˜¯å±äºæ­¤è‹¹æœæ¥å£æ²¡å…¬å¼€ï¼Œè‡³å°‘æ²¡äººèƒ½å¤Ÿå‘ç°ã€‚</p></li><li><p>ã€é—®é¢˜ã€å¦‚ä½•ç¡®ä¿ MacOS ä¸Šçš„æ•ˆæœå’Œ Windowä¸Šé¢ä¿æŒå¤–è§‚çš„ä¸€è‡´ï¼Ÿ</p><p>ä¸€ä¸ªéš¾ç‚¹æ˜¯å† MacOS ä¸Šä¹Ÿè¦å’Œå† Windows çš„æ•ˆæœä¿æŒä¸€è‡´ï¼Œäºæ˜¯å¯¹ä¸åŒé£æ ¼è¿›è¡Œå¯¹æ¯”ï¼Œä½† Fusion åˆä¼šå€’æ˜¯ Setting çª—å£éåŸç”Ÿçš„æ ·å¼ï¼Œä½†å¥½åœ¨ååˆ†æ¥è¿‘ï¼›é€‰å–ä¸€ä¸ªå¹³è¡¡ç‚¹ã€‚å¦å¤–è¿˜æ‰‹ç»˜ç”»äº†ä¸€ä¸ªäºŒåå¤šä¸ªè‡ªå®šä¹‰æˆ–è€…å¤æ‚æ§ä»¶ã€‚</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202402291521977.gif" width="70%"/ loading="lazy"></li></ul><br><h3 id="ã€çœ‹ä¸è§çš„ä¼˜åŒ–ã€‘"><a href="#ã€çœ‹ä¸è§çš„ä¼˜åŒ–ã€‘" class="headerlink" title="ã€çœ‹ä¸è§çš„ä¼˜åŒ–ã€‘"></a>ã€çœ‹ä¸è§çš„ä¼˜åŒ–ã€‘</h3><ul><li><p>ã€é—®é¢˜ã€å¦‚ä½•è§£å†³ä½¿ç”¨ ESC å–æ¶ˆæˆªå›¾åçš„å†…å­˜æ³„éœ²é—®é¢˜ï¼ŸQPointer ã€æ™ºèƒ½æŒ‡é’ˆã€è¿˜æ˜¯å•ä¾‹ï¼Ÿ</p><p>ä¹ŸèŠ±äº†å¤§åŠ›æ°”æ¥æ¢ç©¶ï¼Œåœ¨å®Œæˆä¸€æ¬¡æˆªå›¾ä¹‹åï¼Œå†…å­˜çš„å ç”¨ä¼šåœ¨åˆé€‚æ—¶æœºè‡ªåŠ¨é‡Šæ”¾å‡ºæ¥ï¼›è¿™æ˜¯å®šä½åœ¨æ¶ˆè€—å†…å­˜çš„å˜é‡ï¼›å¼€å‘ç¯å¢ƒæ˜¾ç¤ºå™¨ä¸º 4K 27 å¯¸ + 3Kç¬”è®°æœ¬åŒå±ï¼›</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202402261748498.png" width="100%"/ loading="lazy"></li><li><p>ã€é—®é¢˜ã€å¯¹äºä½¿ç”¨å•ä¾‹æ¨¡å¼ä¸æ­¢ä¸€å¤„æ—¶ï¼Œæœ‰åºéœ€è¦å¤šä¸ªå•ä¾‹ç”¨æ¥ä¼ é€’æˆ–è€…ä¿å­˜æ•°å€¼æ—¶å€™ï¼Œé‡å¤å†™å¾ˆå®¹æ˜“</p><p>å¯é‡‡ç”¨<a href="https://en.wikipedia.org/wiki/Curiously_recurring_template_pattern">å¥‡å¼‚é€’å½’æ¨¡æ¿</a>çš„æ–¹å¼ï¼Œç„¶åæ·»åŠ ä¸€ä¸ªå®å±•å¼€ä¸ºå‹å…ƒç±»ï¼›å¤šä¸ªå•ä¾‹éƒ½åªç”¨å†™ä¸€ä»½ï¼Œè€Œå‰ææ˜¯éœ€è¦å¯¹ ã€Š<a href="https://blog.csdn.net/qq_33154343/article/details/128367884">C++ ç±»çš„å…­ä¸ªç‰¹æ®Šæˆå‘˜å‡½æ•°</a>ã€‹ å¾ˆç†Ÿæ‚‰ï¼Œæ‰èƒ½ç†è§£ï¼Œå±äºä¼˜é›…çš„ä¸€ç§å®ç°ã€‚</p></li><li><p>ã€é—®é¢˜ã€æ—¥å¿—å’Œå´©æºƒç”Ÿæˆ DUMP è®°å½•ï¼Ÿ</p><p>æ—¥å¿—å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶ä¿®æ”¹ï¼Œè‹¥æ˜¯é‡åˆ°ä¼ è¯´çš„å´©æºƒï¼Œäº¦ä¼šè‡ªåŠ¨ç”Ÿæˆ .dmp å’Œ å´©æºƒåŸå› ï¼›</p><p>è½¬å‚¨æ–‡ä»¶å­˜æ”¾ï¼š <code>C:/Users/ç”¨æˆ·å/AppData/Local/XMuli/Sunny/cache/Sunny_Dumps/dump_2024_02_29_11_31_30_714.dmp</code> </p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202402291131796.png" width="60%"/ loading="lazy"><p>å®ç°æ–¹æ³•å¯é€šè¿‡ WIN API æ¥å®ç°</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifdef</span> <span class="token expression">_MSC_VER</span></span><span class="token function">SetUnhandledExceptionFilter</span><span class="token punctuation">(</span><span class="token punctuation">(</span>LPTOP_LEVEL_EXCEPTION_FILTER<span class="token punctuation">)</span>ApplicationCrashHandler<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ³¨å†Šå¼‚å¸¸æ•è·å‡½æ•°</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>é¢ï¼Œä½ æ²¡æ¥è§¦è¿‡ DUMPï¼Œå®Œå…¨ä¸ä¼šå¯¹å…¶è¿›è¡Œè§£å‰–åˆ†æï¼Ÿä¹Ÿç®€å•å†™äº†ä¸€ä¸ªä½¿ç”¨ WinDbg è¿›è¡Œå…¥é—¨</p><p>ã€Š<a href="https://xmuli.blog.csdn.net/article/details/123563647">WinDbgï¼šå…¥é—¨åˆ†æ dmp æ–‡ä»¶ã€ä¸€ã€</a>ã€‹ã€ã€Š<a href="https://xmuli.blog.csdn.net/article/details/123563753">WinDbgï¼šè°ƒè¯•ä¹‹é™„åŠ è¿›ç¨‹ç”Ÿæˆ dmpã€äºŒã€</a>ã€‹</p></li><li><p>ã€é—®é¢˜ã€å¸Œæœ›å•ä¾‹è¿è¡ŒEXEï¼Œç¡®ä¿å…¨å±€å”¯ä¸€æ€§ï¼Ÿ</p><p>å¯ä»¥é€šè¿‡å…±äº«å†…å­˜QSharedMemory å’Œç³»ç»Ÿä¿¡å·é‡ QSystemSemaphoreï¼ŒåŒé‡ä¿è¯ç¨‹åºåœ¨ä¸€å°ç»ˆç«¯ä¸Šï¼Œä»…ä¼šè¿è¡Œä¸€ä¸ªï¼›</p><p>ä¹Ÿèƒ½æœç»å¾ˆç½•è§çš„ä¸€ç§æƒ…å†µï¼Œå³ä½¿ä¸Šæ¬¡ç¨‹åºå´©æºƒä¹‹åï¼Œä½†ä»æœ‰æ®‹ç•™çš„åƒµæ­»è¿›ç¨‹ï¼Œè¢«è¯¯åˆ¤å½“å‰æ²¡æœ‰å¯åŠ¨ã€‚ä¸¥è°¨ï¼ˆä¸­æŒ‡æ¨ä¸€ä¸‹çœ¼é•œï¼‰</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">QString uniqueKey <span class="token operator">=</span> <span class="token string">"SunnyUniqueKey"</span><span class="token punctuation">;</span> <span class="token comment">// ä½¿ç”¨å”¯ä¸€çš„æ ‡è¯†ç¬¦æ¥åˆ›å»ºå…±äº«å†…å­˜å’Œç³»ç»Ÿä¿¡å·é‡</span>QSharedMemory sharedMemory<span class="token punctuation">;</span>sharedMemory<span class="token punctuation">.</span><span class="token function">setKey</span><span class="token punctuation">(</span>uniqueKey<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å°è¯•é™„åŠ åˆ°ç°æœ‰çš„å…±äº«å†…å­˜å¹¶åˆ†ç¦»</span><span class="token keyword">if</span> <span class="token punctuation">(</span>sharedMemory<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    sharedMemory<span class="token punctuation">.</span><span class="token function">detach</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// å°è¯•åˆ›å»ºå…±äº«å†…å­˜ï¼Œå¦‚æœå·²ç»å­˜åœ¨ï¼Œè¡¨ç¤ºå·²ç»æœ‰ä¸€ä¸ªå®ä¾‹åœ¨è¿è¡Œ, åˆ¤æ–­æ˜¯ä¸ºäº†ç¡®ä¿åœ¨åŒä¸€å°è®¡ç®—æœºä¸Šåªèƒ½è¿è¡Œä¸€ä¸ªç›¸åŒå®ä¾‹çš„ç¨‹åºã€‚</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>sharedMemory<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"There is already an instance of the application running (by QSharedMemory)!"</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// åˆ›å»ºç³»ç»Ÿä¿¡å·é‡, å†å°è¯•è·å–ç³»ç»Ÿä¿¡å·é‡ï¼Œå¦‚æœå·²ç»è¢«å…¶ä»–å®ä¾‹æŒæœ‰ï¼Œç¨‹åºå°±é€€å‡º, åˆ¤æ–­æ˜¯ä¸ºäº†ç¡®ä¿åœ¨å¤šä¸ªè¿›ç¨‹åŒæ—¶å¯åŠ¨æ—¶ï¼Œåªæœ‰ä¸€ä¸ªè¿›ç¨‹èƒ½å¤Ÿç»§ç»­æ‰§è¡Œã€‚QSystemSemaphoreç”¨äºåˆ›å»ºç³»ç»Ÿä¿¡å·é‡ï¼Œå¦‚æœç³»ç»Ÿä¿¡å·é‡å·²ç»è¢«å…¶ä»–å®ä¾‹æŒæœ‰ï¼ˆæ¯”å¦‚ç”±äºä¸Šä¸€æ¬¡ç¨‹åºå¼‚å¸¸é€€å‡ºå¯¼è‡´ä¿¡å·é‡æœªè¢«é‡Šæ”¾ï¼‰ï¼Œåˆ™acquireå‡½æ•°ä¼šè¿”å›falseï¼Œ</span>QSystemSemaphore <span class="token function">systemSemaphore</span><span class="token punctuation">(</span>uniqueKey<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> QSystemSemaphore<span class="token double-colon punctuation">::</span>Open<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>systemSemaphore<span class="token punctuation">.</span><span class="token function">acquire</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"There is already an instance of the application running (by QSystemSemaphore)!"</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// ...ç¨‹åºå…¶å®ƒé€»è¾‘</span><span class="token comment">// é‡Šæ”¾ç³»ç»Ÿä¿¡å·é‡</span>systemSemaphore<span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><br><h3 id="ã€Qt-x2F-C-ç¼–ç é—®é¢˜ã€‘"><a href="#ã€Qt-x2F-C-ç¼–ç é—®é¢˜ã€‘" class="headerlink" title="ã€Qt &#x2F; C++ ç¼–ç é—®é¢˜ã€‘"></a>ã€Qt &#x2F; C++ ç¼–ç é—®é¢˜ã€‘</h3><ul><li><p>ã€é—®é¢˜ã€æˆªå›¾é¡¹ç›®è¿è¡Œç›´æ¥ç½®é¡¶æ˜¾ç¤ºåï¼ŒæŒ‰ä¸‹æŒ‰é”®åï¼Œçª—å£æ— ä»»ä½•å“åº”ï¼Œéœ€é¢å¤–ç‚¹å‡»ä¸€ä¸‹æ‰èƒ½å¼€å§‹æˆªå›¾ï¼Ÿ</p><p>åˆ†æå’Œè§£å†³æ–¹æ¡ˆã€Š<a href="https://blog.csdn.net/qq_33154343/article/details/124639169">Qtæ–°å¼¹çª—ä¸å“åº”é”®ç›˜æŒ‰é”®ï¼Œéš¾é“ä¹Ÿæ˜¯æ— ç„¦ç‚¹ï¼Ÿ</a>ã€‹</p></li><li><p>ã€é—®é¢˜ã€çƒ­é”®è¾“å…¥æ¡†æ§ä»¶ï¼Œè¾“å…¥åæ˜¾ç¤ºçš„æ–¹å— â– â—† ä¹±ç ï¼Ÿ</p><p>åˆ†æå’Œè§£å†³æ–¹æ¡ˆã€Š<a href="https://blog.csdn.net/qq_33154343/article/details/125775732">åˆ›å»º QKeySequenceEdit() åï¼Œæ˜¾ç¤ºæ–¹å—â– â—†ä¹±ç </a>ã€‹ï¼Œè¿˜æ˜¯å¤šçœ‹ä¸‹ Qt Assistant è§£å›´ç²—å¿ƒã€‚</p></li><li><p>ã€é—®é¢˜ã€ä½¿ç”¨ VS2022 å’Œ QtCreator å¦‚ä½•è°ƒè¯• Qt 5.15 çš„æºä»£ç ï¼Ÿ</p><p>è§£å†³æ–¹æ¡ˆä¸ºã€Š<a href="https://blog.csdn.net/qq_33154343/article/details/131491715">VS2022 And QtCreator10 è°ƒè¯• Qt æºç æ•™ç¨‹</a>ã€‹ã€ã€Š<a href="https://blog.csdn.net/qq_33154343/article/details/120339797">VS2017è°ƒè¯•Qtæºç </a>ã€‹</p></li><li><p>ã€é—®é¢˜ã€æˆªå›¾ä¼šæœ‰å¾ˆå¤šä¸ªå±æ€§çš„æ ¡éªŒå’Œâ€œä¸”â€çš„å±æ€§ä½¿ç”¨ï¼Ÿ</p><p>è™½ç®€å•ï¼Œä½†ç§»é™¤æ ‡å¿—ä½å®¹æ˜“å¿˜å´ï¼Œè¿™é‡Œç®€å•åˆ—ä¸¾ä¸€ä¸‹ã€Š<a href="https://blog.csdn.net/qq_33154343/article/details/126322317">C++ æ ‡å¿—ä½ä½¿ç”¨ï¼šæ ¡éªŒã€æ·»åŠ ã€åˆ é™¤</a>ã€‹</p></li><li><p>ã€é—®é¢˜ã€Qt Creator æŠ¥è­¦å‘Šâš  Misleading indentationï¼› statement is not part of the previous â€˜ifâ€˜</p><p>é‚£æ—¥å¼ºè¿«ç—‡ï¼Œä¸”éœ€è¦åˆ é™¤ç©ºæ ¼æ‰èƒ½è§£å†³ï¼Œå±å®æ¯”è¾ƒç¨€å°‘ï¼›è®°å½•ä¸‹è§£å†³æ–¹æ¡ˆ ã€Š<a href="https://blog.csdn.net/qq_33154343/article/details/126215870">Misleading indentationï¼› statement is not part of the previous â€˜ifâ€˜</a>ã€‹</p></li><li><p>ã€é—®é¢˜ã€é‡æ„æ­¤ç‰ˆæ—¶å€™ï¼Œä¹Ÿä¼šå¤§é‡ä½¿ç”¨ Lambda è¡¨è¾¾å¼</p><p>å±•å¼€è®²è§£ä¸€ä¸‹ï¼Œè‹¥æœªæ¥è§¦è¿‡ï¼Œå±ä¼šç”¨ä¼šçœ‹å³å¯ã€Š<a href="https://blog.csdn.net/qq_33154343/article/details/125775706">Lambda è¡¨è¾¾å¼è¯¦è§£</a>ã€‹</p></li><li><p>ã€é—®é¢˜ã€Visual Studio æ–­ç‚¹å¶é‡è¿›ä¸å»ç›¸å…³å‡½æ•°ï¼Ÿ</p><p>Releaseå®é™…ä¹Ÿæ˜¯å¯ä»¥è°ƒè¯•çš„ï¼Œæ–°æ‰‹å®¹æ˜“ä¸çŸ¥æ™“ï¼ŒçŸ¥æ™“çš„äº¦å¯èƒ½ä¼šç¿»è½¦ï¼Œå€¼å¾—è®°å½•ä¸‹ï¼›å±äº Release &#x2F; Release with Debug Info &#x2F; Debug çš„å·®å¼‚ã€Š<a href="https://blog.csdn.net/qq_33154343/article/details/124482152">Visual Studio æ–­ç‚¹è°ƒè¯•ä¹‹ç®­å¤´åç§»è¿›é”™å‡½æ•°ï¼Œæ‰è™«è®°</a>ã€‹</p></li><li><p>ã€é—®é¢˜ã€æºç ä¸èƒ½å¤–å‘çš„æƒ…å†µä¸‹ï¼Œå¦‚ä½•è¿›è¡Œè°ƒè¯•ï¼Ÿ </p><p>è¯¦ç»†ç¤ºä¾‹ã€Š<a href="https://blog.csdn.net/qq_33154343/article/details/123855765">Visual Studio 2019 è¿›è¡Œè¿œç¨‹è°ƒè¯•</a>ã€‹</p></li></ul><br><h3 id="ã€é¡¹ç›®æ‚é¡¹ã€‘"><a href="#ã€é¡¹ç›®æ‚é¡¹ã€‘" class="headerlink" title="ã€é¡¹ç›®æ‚é¡¹ã€‘"></a>ã€é¡¹ç›®æ‚é¡¹ã€‘</h3><ul><li><p>ã€é—®é¢˜ã€ Sunny æˆªå›¾åœ¨åœ¨ä¸åŒç³»ç»Ÿã€ç¼–è¯‘å™¨ä¸Šå¼€å‘ã€ä½¿ç”¨ä¸åŒçš„ Kit Tools ä¸Šé¢å¦‚ä½•è§£å†³ä¹±ç é—®é¢˜ï¼Ÿä¸”æœ‰æ—¶è°ƒè¯•çª—å£ä¹±ç ï¼Ÿè¿˜æœ‰ ANSIï¼ŒUTF8ï¼ŒUTF8-BOM é‡‡ç”¨å“ªç§ï¼Ÿ</p><p>å‚è€ƒã€Š <a href="https://blog.csdn.net/qq_33154343/article/details/120661967">æ„¿ç¼–ç¨‹ä¸å†ä¹±ç (å«Qt)-æ ¹å› æ·±ç©¶</a>ã€‹ï¼Œä»¥åŠ <a href="https://github.com/XMuli/QtExamples">QtExamples</a> çš„ â€œã€Œç¬¬ 6 ç« ã€ QT &#x2F; IDE ä¹±ç æ ¹å› å’Œè§£å†³â€</p></li><li><p>ã€é—®é¢˜ã€ é‡åˆ°éœ€è¦ä½¿ç”¨çš„å¼€æºä¸‰æ–¹åº“ï¼Œå¦‚ä½•ä¼˜é›…çš„ä½¿ç”¨ Git ç®¡ç†ï¼Œç¡®ä¿æ‹‰å–ä¸‰æ–¹åº“å³æœ€æ–°ï¼Œåˆä¸ä¼šæ‰“ä¹±æœ¬ä»“åº“çš„å†å²çº¿ï¼Ÿ</p><p>å¼€æºä¸‰æ–¹åº“å¼•å…¥ï¼Œæƒ³è¦ä¼˜é›…ï¼ŒåŸºæœ¬ <code>git submodule</code>  æˆ–  <code>git treemodule</code>  å‘½ä»¤ä¹‹é—´äºŒé€‰ä¸€ï¼›æ¨èå‰è€…ï¼Œç†ç”±ä¸º ã€Š<a href="https://blog.csdn.net/qq_33154343/article/details/123453541">git submodule åŸºæœ¬ç”¨æ³•</a>ã€‹</p></li><li><p>ã€é—®é¢˜ã€ å¦‚ä½•é€‰ç”¨ LOG æ—¥å¿—åº“ï¼Ÿè‡ªå·±ç®€å•å°è£…ä¸€å¥—ï¼Œè¿˜æ˜¯é€‰ç”¨å¼€æºåº“ï¼Ÿä¾¿äºåé¢å®šä½å’Œåˆ†æ</p><p>æ¯”è¾ƒçŠ¹è±«å’Œçº ç»“çš„ä¸€ä¸ªé—®é¢˜ï¼Œä¸¤ç§éƒ½è¯•è¿‡ï¼›ç°æ€»ç»“ä¸ºï¼šé¡¹ç›®åˆæœŸä½¿ç”¨è‡ªå¸¦çš„ QDebug å³ï¼Œä¸å¤Ÿç”¨å†å†™ä¸€ä¸ªç±»ï¼Œå’Œå®å°è£…ä¸€å¥—ï¼Œæ»¡è¶³éœ€æ±‚å³å¯ï¼Œå‹¿è·‘åï¼ŒåŠŸèƒ½æ‰æ˜¯é‡ç‚¹ã€‚æœ€åæœŸå¯ä»¥é€‰ç”¨ä¸‰æ–¹åº“å¼•å…¥ï¼š</p><p>ä¸€ç‚¹ç»éªŒå‚è€ƒ ã€Š<a href="https://blog.csdn.net/qq_33154343/article/details/123457938">Logï¼šæ—¥å¿—é€‰å‹è°ƒç ”ã€ä¸€ã€</a>ã€‹ã€ã€Š<a href="https://xmuli.blog.csdn.net/article/details/123488323">Logï¼šæ—¥å¿—ä¹‹ Spdlog æç®€ç”¨æ³•ç¤ºèŒƒã€äºŒã€</a>ã€‹ã€ã€Š<a href="https://xmuli.blog.csdn.net/article/details/123489094">Logï¼šæ—¥å¿—ä¹‹ Spdlog æ ¸å¿ƒæ„æˆã€ä¸‰ã€</a>ã€‹</p></li><li><p>ã€é—®é¢˜ã€CMake ç®¡ç†è·¨å¹³å°é¡¹ç›®ï¼Œç”Ÿå„å¹³å°çš„ IDE çš„è§£å†³æ–¹æ¡ˆï¼Ÿä»¥åŠ Window ä¸Šè‡ªå¸¦ä¸€äº›åŸºç¡€å®çš„æ•°æ®ç±»å‹å«ä¹‰ï¼Ÿ</p><p>ç°åœ¨å·²ç»å¹¸ç¦å¤šäº†ï¼ŒChatGPT æ¨ªç©ºå‡ºä¸–ï¼Œå·²ç»å¯ä»¥è§£ç­”äº†ï¼Œæ•…ä»‹ç»ä¸€äº›é«˜é¢‘æˆ–è€…é‡ç‚¹å®ï¼Œè‡ªå·±ç»“åˆå»æœğŸ”</p><p>CMake çš„é‡è¦å®ï¼šã€Š<a href="https://blog.csdn.net/qq_33154343/article/details/125932219">CMake è®¾ç½® Target è¾“å‡ºç›®å½•å’Œåç¼€å</a>ã€‹ã€ã€Š<a href="https://blog.csdn.net/qq_33154343/article/details/125928773">CMake ä¹‹ BUILD_SHARED_LIBS å’Œ CMAKE_BUILD_TYPE ç”¨æ³•æ•™ç¨‹</a>ã€‹</p><p>Windows çš„é‡è¦å®ï¼šã€Š<a href="https://blog.csdn.net/qq_33154343/article/details/125775718">LPSTR&#x2F;LPCSTR&#x2F;LPTSTR&#x2F;HWND&#x2F;HANDLE&#x2F;HMODULE&#x2F;HINSTANCE ç­‰å«ä¹‰å’ŒåŒºåˆ«</a>ã€‹</p></li></ul><br><ul><li>ã€ç¼–è¯‘é‡å‘ã€‘ã€æ‚è°ˆç»éªŒæ€»ç»“ã€‘ç­‰æœ‰ç©ºå†æ›´</li></ul><br><h2 id="ç•ªå¤–ï¼šæ„å¤–ä¹‹å–œ"><a href="#ç•ªå¤–ï¼šæ„å¤–ä¹‹å–œ" class="headerlink" title="ç•ªå¤–ï¼šæ„å¤–ä¹‹å–œ"></a>ç•ªå¤–ï¼šæ„å¤–ä¹‹å–œ</h2><p><strong>åˆ†äº«ä¸€ä¸‹å–œæ‚¦</strong></p><p>åœ¨ v1.3 å‘å¸ƒçš„é‚£å¤©æ™šä¸Šï¼Œè®°å¾— downloads æ˜¯ 900+ çš„æ ·å­ï¼›å‘å¸ƒå®Œäº†å°±å»ç¡è§‰äº†ã€‚</p><p>ç¬¬äºŒå¤©æ—©ä¸Šä¸€çœ‹ä¸‹è½½é‡å°±æ˜¯ 1kï¼Œ 1.1kï¼›ä¸­åˆå†çœ‹ä¸€çœ¼å°±æ˜¯ 1.2kï¼›æ™šä¸Šå†çœ‹å°±æ˜¯ 1.3kï¼›</p><p>ç¬¬ä¸‰å¤©æ˜¯ 1.4kï¼Œ</p><p>ç¬¬å››å¤©æ˜¯ 1.5kï¼Œ</p><p>â€¦ â€¦å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆï¼Œ æ”¾å‡å›å®¶è¿‡å¹´äº†ï¼Œä¹Ÿæ²¡æ€ä¹ˆçœ‹</p><p>çº¦å¤§å¤§å‰å¤©å›æ¥ä¸€çœ‹ï¼Œå—¯ï¼Œè¿˜æ˜¯ 1.5kï¼Œå¤§å®¶ç©çš„å¼€å¿ƒæ„‰å¿«</p><p>å¤§å‰å¤©åˆ°äº† 1.6k</p><p>å‰å¤©åˆ°äº† 1.7k</p><p>æ˜¨å¤©å·åˆ°äº† 1.7k</p><p>ä»Šå¤©çš„åˆ°äº† 1.8k , çºªå¿µæ‰“å¡ï¼ˆâ€“å†™è¿™ç¯‡æ—¶ï¼‰<img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202402221425548.png" width="140"/ loading="lazy"></p> <img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202402221515404.jpeg" width="360"/ loading="lazy"><p>åœ¨å†™è¿‡çš„æ‰€æœ‰è½¯ä»¶ä¸­ï¼Œæ€»çš„ä¸‹è½½é‡è™½ç„¶ä¸æ˜¯æœ€å¤§çš„ï¼Œä½†çŸ­æ—¶é—´å¢é€Ÿç‡é•¿æ˜¯æœ€å¿«çš„ ãƒ¾(â‰§â–½â‰¦*)oã€‚</p><br><h2 id="ç³»åˆ—åœ°å€"><a href="#ç³»åˆ—åœ°å€" class="headerlink" title="ç³»åˆ—åœ°å€"></a>ç³»åˆ—åœ°å€</h2><p><a href="https://github.com/XMuli/QtExamples">QtExamples</a>  æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”<strong>æ°¸ä¹…å…è´¹</strong>ï¼</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
          <category> å­¦ä¹  - MacOS </category>
          
          <category> å­¦ä¹  - Windows </category>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
          <category> å­¦ä¹  - C/C++ åºä¸‰ å•†ä¸š </category>
          
          <category> ä¸“æ  - é¡¹ç›®å®æˆ˜å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> è·¨å¹³å°å¼€å‘ </tag>
            
            <tag> é¡¹ç›®ä½œå“é›†åˆ </tag>
            
            <tag> ä¸ªäººèƒ½åŠ›æå‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Sunny æˆªå›¾ä¸Šæ¶ Microsoft Store åŠLinuxå•†åº—çš„æŒ‡åŒ—</title>
      <link href="/posts/9cce5972/"/>
      <url>/posts/9cce5972/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong>  è¯¦ç»†ä»‹ç»å¦‚ä½•ä¸Šæ¶Windowså•†åº—çš„æµç¨‹ï¼Œé…ä¸Šæµç¨‹å›¾ï¼ç”¨è‡ªå·±å†™çš„ <a href="https://github.com/XMuli/SunnyPages">Sunny æˆªå›¾</a> åº”ç”¨è½¯ä»¶å¦‚ä½•ä¸Šæ¶åˆ° å¾®è½¯å•†åº— | Microsoft Store å’Œ Deepin Store ç­‰ï¼›</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2024/202402192349047.jpg" width="300"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><p>å³ä½¿ç° 2024 å¹´ï¼Œä½†è¿™ä»½æŒ‡å—çš„è¯¦ç»†ç¨‹åº¦ä¹Ÿæ˜¯çš„ç½‘ä¸Šé¦–ä»½çš„ï¼Œäº¦å« Linux å•†åº—çš„ä¸Šæ¶æµç¨‹ï¼Œ<strong>æ•¬çƒ­çˆ±ï¼Œæ•¬å¼€æºï¼Œæ•¬è‡ªå·±ï¼›</strong></p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202402231450384.gif" width="100%"/ loading="lazy"><br><h2 id="ç›¸å…³æ–‡ç« "><a href="#ç›¸å…³æ–‡ç« " class="headerlink" title="ç›¸å…³æ–‡ç« "></a>ç›¸å…³æ–‡ç« </h2><ul><li><a href="https://blog.csdn.net/qq_33154343/article/details/135487951">åˆ†äº«å¦‚ä½•æ‹¥æœ‰ä¸€ä»½ç§äººçš„ã€å¼€æºä»£ç ç­¾åè¯ä¹¦ã€</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/136334975">Sunnyæˆªå›¾ä¸Šæ¶Microsoft StoreåŠLinuxå•†åº—æµç¨‹çš„æŒ‡åŒ—</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/136373241">å˜¿å˜¿ï¼å¼€å‘äº†ä¸€æ¬¾ Sunny æˆªå›¾ &amp; é’‰å›¾ï¼Œäº¦æ”¯æŒâ€œå±å¹•è¯†å›¾â€å’Œâ€œOCRâ€çš„è½¯ä»¶</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/130053230">åŸºäº QT å¼€å‘ FLIPPED ï¼šç®€æ˜“ä¸”æ¼‚äº®çš„è·¨å¹³å°æˆªå›¾è´´å›¾è½¯ä»¶</a></li><li>æ›´å¤šæ•™ç¨‹ â†’ <a href="https://github.com/XMuli/QtExamples">QtExamples</a></li></ul><br><h2 id="ä¸Šæ¶-App-Store"><a href="#ä¸Šæ¶-App-Store" class="headerlink" title="ä¸Šæ¶ App Store"></a>ä¸Šæ¶ App Store</h2><p>å†™å¥½çš„ EXEï¼Œæ·»åŠ äº†åº”ç”¨ä»£ç ç­¾åä¹‹åï¼Œæ˜¯å¾ˆæƒ³ä¸Šæ¶åˆ°åº”ç”¨å•†åº—<br>äºä¸Šä¸€å¹´å†™äº†å¥½å‡ ä¸ªè·¨å¹³å°çš„æ¡Œé¢åº”ç”¨ç¨‹åºï¼ŒæˆåŠŸå‘å¸ƒä¹‹åï¼Œæ·»åŠ äº†åº”ç”¨ä»£ç ç­¾åä¹‹åï¼Œæ¥ç€å°±æ˜¯æƒ³ä¸Šæ¶åˆ°åº”ç”¨å•†åº—</p><ul><li>ã€<a href="https://github.com/XMuli/ThinkyMatePages">ThinkyMate</a>ã€:  ä¸€æ¬¾ç®€æ´ä¸”æ˜“ç”¨çš„ ChatGPT &amp; AI çš„æ¡Œé¢åº”ç”¨ç¨‹åºï¼Œæ”¯æŒChatGPT å’Œæ˜Ÿç«è®¯é£å¤§æ¨¡å‹ï¼Œä»¥åŠè¯­éŸ³è½¬æ–‡æœ¬ï¼ˆSTTï¼‰å’Œæ–‡æœ¬è½¬è¯­éŸ³ï¼ˆTTSï¼‰ç­‰åŠŸèƒ½ã€‚<sup>å®˜ç½‘: <a href="https://thinkymate.xmuli.tech/">https://thinkymate.xmuli.tech/</a></sup></li><li>ã€<a href="https://github.com/XMuli/SunnyPages">Sunny</a>ã€:  ä¸€æ¬¾ç®€æ´ä¸”æ¼‚äº®çš„æˆªå›¾ &amp; é’‰å›¾çš„è½¯ä»¶å·¥å…·ï¼Œäº¦æ”¯æŒå›¾ç‰‡ç¿»è¯‘å’ŒOCRï¼Œæ”¯æŒ Windowsï¼ŒMacOSï¼ŒLinux å¹³å°ã€‚<sup>å®˜ç½‘: <a href="https://sunny.xmuli.tech/">https://sunny.xmuli.tech</a></sup></li><li>ã€<a href="https://github.com/XMuli/FlippedPages">FLIPPED</a>ã€:  ä¸€æ¬¾ç®€æ´ä¸”æ¼‚äº®çš„æˆªå›¾ &amp; é’‰å›¾çš„è½¯ä»¶å·¥å…·ï¼Œå®šä½äºéšç§å®‰å…¨ï¼Œæ— ä»»ä½•è”ç½‘åŠŸèƒ½ï¼Œäº¦æ˜¯ Sunny çš„ä¸Šä¸€ä»£ã€‚<sup>å®˜ç½‘: <a href="https://flipped.xmuli.tech/">https://flipped.xmuli.tech</a></sup></li></ul><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202402281046095.png" width="200"/ loading="lazy"><h2 id="ä¸Šæ¶-Microsoft-Store-æµç¨‹"><a href="#ä¸Šæ¶-Microsoft-Store-æµç¨‹" class="headerlink" title="ä¸Šæ¶ Microsoft Store æµç¨‹"></a>ä¸Šæ¶ Microsoft Store æµç¨‹</h2><h3 id="æµç¨‹å›¾"><a href="#æµç¨‹å›¾" class="headerlink" title="æµç¨‹å›¾"></a>æµç¨‹å›¾</h3><p><font color=#D0087E size=4 face="STFangsong">ä¸€å›¾èƒœåƒè¨€ï¼Œå®Œæ•´çš„ä¸Šæ¶å®¡æ ¸çš„æµç¨‹çš„é‡éš¾ç‚¹å’Œæä¾›è§£å†³æ–¹æ¡ˆã€‚</font></p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2024/202402192226989.svg" width="100%"/ loading="lazy"><br><h3 id="ä¸Šæ¶æ­¥éª¤"><a href="#ä¸Šæ¶æ­¥éª¤" class="headerlink" title="ä¸Šæ¶æ­¥éª¤"></a>ä¸Šæ¶æ­¥éª¤</h3><p>æ³¨å†Œ Microsoft å¼€å‘è€…è´¦å·ï¼Œä¸ªäººçº¦ ï¼„19ï¼Œæ°¸ä¹…ä¹°æ–­åˆ¶åº¦ï¼› ä¼ä¸šç‰ˆæœ¬çš„ çº¦ ï¼„99ï¼›</p><p>å¯ä»¥ä¸Šæ¶å¸¸è§„çš„ EXEã€ MSI ä»¥åŠ MSIXï¼Œè¿™äº›ç­‰ï¼Œåªéœ€è¦ç­¾åå³å¯ã€‚</p><p><code>*.msi </code>  é€šå¸¸æ˜¯ä¼ä¸šç”¨æ¥æ‰¹é‡æ¨é€é™é»˜å‡çº§å’Œå®‰è£…ç”¨çš„ï¼› <code>*.msix</code> æ˜¯å¾®è½¯å•†åº—æ¨èçš„æ‰“åŒ…æ ¼å¼ï¼Œç±»ä¼¼äºä¸€ä¸ªæ²™ç›’ï¼Œå¯¹æƒé™ç­‰ç®¡ç†çš„æ¯”è¾ƒä¸¥æ ¼ï¼Œå±äº UWP çš„æ•ˆæœã€‚</p><p>å¿…å®šä¼šé‡åˆ°çš„å‘ğŸ•³æœ‰ï¼š</p><ul><li><p><strong>å‡†å¤‡å·¥ä½œ</strong></p><ul><li><p>ä¸­æ–‡è¯­è¨€æ³¨å†Œå®˜ç½‘å­˜åœ¨ bugï¼Œéœ€è¦ F12 ä¿®æ”¹ä¸‹ä»£ç </p></li><li><p>è´­ä¹°ä»£ç ç­¾åè¯ä¹¦ï¼Œæ‘¸ç´¢ä¸åŒç±»å‹çš„  EV &#x2F; Standard è¯ä¹¦ç­¾åï¼›è´¹ç”¨ï¼š$ å‡ ç™¾-å‡ åƒğŸ”ª&#x2F;æ¯å¹´</p></li><li><p>æœ‰è‡ªå·±çš„å®˜ç½‘åŸŸåï¼Œä¸”å¤‡æ¡ˆï¼›è´¹ç”¨ï¼šï¿¥æ•°ç™¾</p></li><li><p>è´­ä¹°å¯¹è±¡å­˜å‚¨ï¼Œä»¥åŠå­åŸŸåçš„ DNS è§£æï¼Œè®¾ç½® Https ç›´é“¾ä¸‹è½½ï¼›è´¹ç”¨ï¼šï¿¥æ•°ç™¾</p></li></ul></li><li><p><strong>ä¸Šä¼ å’Œå¾®è½¯å›¢é˜Ÿå®¡æ ¸</strong></p><ul><li>ç¡®ä¿è‡ªå·±çš„ http<strong>s</strong> å¯ä»¥ä¸Šä¼ å’Œä¸‹è½½æ— è™</li><li>EXE å¿…é¡»æ”¯æŒå‘½ä»¤è¡Œé»˜è®¤å®‰è£…</li><li>å®‰è£…ä¹‹å‰å¯¹äº vc_redist.x64.exe çš„æ£€æµ‹å’Œé™é»˜å®‰è£…</li><li>èƒ½å¤Ÿè¿‡ Microsoft Defender SmartScreen<ul><li>é¦–å…ˆ Defender SmartScreen å¿…é¡»ä¸ä¼šæŠ¥æ¯’</li><li>æ»¡è¶³ä¸Šä¸€æ¡åŸºç¡€ä¸Šï¼Œå…¶æ¬¡ Defender SmartScreen è¿˜ä¸èƒ½å¤Ÿæç¤ºï¼šä¸çŸ¥é“æ˜¯å¦æœ‰æ¯’</li></ul></li><li>æä¾›ç”¨æˆ·éšç§ä¿æŠ¤ å’Œ é‡åˆ°é—®é¢˜è§£å†³å¾— wiki å¾— RUL</li><li>è½¯ä»¶åŠŸèƒ½å¾—ä¸»åŠŸèƒ½æ˜¯æ²¡æœ‰ bugï¼Œä¸”è´¦å·ç±»éœ€è¦æä¾›æµ‹è¯•å¯†ç ç­‰</li><li>å¯èƒ½å¥½å¤šå¤©éƒ½æ²¡æœ‰è¿›åº¦ï¼Œæ— ä»»ä½•å˜åŒ–</li></ul></li></ul><h3 id="å€¼å¾—è®°å½•çš„ä¸€äº›é‡éš¾ç‚¹"><a href="#å€¼å¾—è®°å½•çš„ä¸€äº›é‡éš¾ç‚¹" class="headerlink" title="å€¼å¾—è®°å½•çš„ä¸€äº›é‡éš¾ç‚¹"></a>å€¼å¾—è®°å½•çš„ä¸€äº›é‡éš¾ç‚¹</h3><h4 id="â‘ é™é»˜å®‰è£…"><a href="#â‘ é™é»˜å®‰è£…" class="headerlink" title="â‘ é™é»˜å®‰è£…"></a>â‘ é™é»˜å®‰è£…</h4><p>Sunny æˆªå›¾ä¹Ÿèƒ½å¤Ÿæ”¯æŒé™é»˜å®‰è£…ï¼›</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># innosetupåˆ¶ä½œçš„ exe é™é»˜å®‰è£…ï¼Œå…¶å‚æ•°ä¸º /silent /norestart</span><span class="token comment"># msi é™é»˜å®‰è£…å‚æ•°  BasicMSI.msi /qn  éœ€è¦ç®¡ç†æƒé™è¿è¡Œ CMD </span>Sunny_setup_msvc_1.3.0_x64.exe<span class="token string">" /VERYSILENT           # ä¸ä¼šå‡ºç°å®‰è£…å‘å¯¼ï¼ˆMS ä¸Šæ¶ç”¨è¿™ä¸ªï¼‰Sunny_setup_msvc_1.3.0_x64.exe"</span> /silent /norestart    <span class="token comment"># ä¼šå‡ºç°å®‰è£…å‘å¯¼</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Note: <sup><a href="https://www.eitkb.com/show-103.html">url1</a></sup>  <sup><a href="https://www.cnblogs.com/BeyondTechnology/archive/2011/01/15/1936511.html">url2</a></sup></p><h4 id="â‘¡å¾®è½¯è¿è¡Œæ—¶åº“çš„é™é»˜å®‰è£…å’Œæ£€æµ‹"><a href="#â‘¡å¾®è½¯è¿è¡Œæ—¶åº“çš„é™é»˜å®‰è£…å’Œæ£€æµ‹" class="headerlink" title="â‘¡å¾®è½¯è¿è¡Œæ—¶åº“çš„é™é»˜å®‰è£…å’Œæ£€æµ‹"></a>â‘¡å¾®è½¯è¿è¡Œæ—¶åº“çš„é™é»˜å®‰è£…å’Œæ£€æµ‹</h4><p>vc_redist.x64.exe åœ¨è‡ªå·±è½¯ä»¶å®‰è£…ä¹‹å‰ï¼Œæ˜¯å¿…é¡»å…ˆæ£€æµ‹ä¸‹ï¼Œå’Œå®‰è£…ä¹‹å‰é»˜è®¤å®‰è£…æ­¤è¿è¡Œæ—¶ä¾èµ–ï¼›</p><p>æˆ‘çš„è§£å†³æ–¹æ¡ˆæ˜¯ é€šè¿‡ Inno Setup å†™ä¸€æ®µ .iss è„šæœ¬</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">procedure InstallVCRuntime<span class="token punctuation">(</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>var  szAppName, szParam, szExecutable, szArchitecture, szVCRuntimeInstalled, szFileExists: String<span class="token punctuation">;</span>  nRetCode: Integer<span class="token punctuation">;</span>  bFileExists, bVCRuntimeInstalled: Boolean<span class="token punctuation">;</span> // å®šä¹‰ä¸€ä¸ªå¸ƒå°”å˜é‡  begin  szArchitecture :<span class="token operator">=</span> <span class="token string">'&#123;#MyArchitecture&#125;'</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> szArchitecture  <span class="token operator">=</span> <span class="token string">'x64'</span> <span class="token keyword">then</span>  begin    szAppName :<span class="token operator">=</span> <span class="token string">'vc_redist.x64.exe'</span><span class="token punctuation">;</span>  end  <span class="token keyword">else</span>  begin    szAppName :<span class="token operator">=</span> <span class="token string">'vc_redist.x86.exe'</span><span class="token punctuation">;</span>  end<span class="token punctuation">;</span>  szExecutable :<span class="token operator">=</span> ExpandConstant<span class="token punctuation">(</span><span class="token string">'&#123;app&#125;\'</span><span class="token punctuation">)</span> + szAppName<span class="token punctuation">;</span>  bVCRuntimeInstalled :<span class="token operator">=</span> RegKeyExists<span class="token punctuation">(</span>HKEY_LOCAL_MACHINE, <span class="token string">'SOFTWARE\WOW6432Node\Microsoft\Windows\CurrentVersion\Uninstall\&#123;8bdfe669-9705-4184-9368-db9ce581e0e7&#125;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   // x64æˆ–x86 å‡ä¸ºæ­¤ guid æ•°å€¼  bFileExists :<span class="token operator">=</span> FileExists<span class="token punctuation">(</span>szExecutable<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> bVCRuntimeInstalled <span class="token keyword">then</span>    szVCRuntimeInstalled :<span class="token operator">=</span> <span class="token string">'True'</span>  <span class="token keyword">else</span>    szVCRuntimeInstalled :<span class="token operator">=</span> <span class="token string">'False'</span><span class="token punctuation">;</span>      <span class="token keyword">if</span> bFileExists <span class="token keyword">then</span>    szFileExists :<span class="token operator">=</span> <span class="token string">'True'</span>  <span class="token keyword">else</span>    szFileExists :<span class="token operator">=</span> <span class="token string">'False'</span><span class="token punctuation">;</span>Log<span class="token punctuation">(</span><span class="token string">'-->szAppName:'</span> + szAppName + <span class="token string">' szExecutable:'</span> + szExecutable + <span class="token string">' szArchitecture:'</span> + szArchitecture + <span class="token string">' szVCRuntimeInstalled:'</span> + szVCRuntimeInstalled + <span class="token string">' szFileExists:'</span> + szFileExists + <span class="token string">' The value of &#123;app&#125; is: '</span> + ExpandConstant<span class="token punctuation">(</span><span class="token string">'&#123;app&#125;'</span><span class="token punctuation">))</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> bVCRuntimeInstalled <span class="token keyword">then</span>      // ç³»ç»Ÿè‹¥å·²ç»å®‰è£…äº† VC_redist åˆ™è·³è¿‡    begin    Log<span class="token punctuation">(</span><span class="token string">'VC_redist is already installed. Skipping installation.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    end  <span class="token keyword">else</span>    <span class="token keyword">if</span> bFileExists <span class="token keyword">then</span>            // æ­¤æ–‡ä»¶å­˜åœ¨æ‰å®‰è£…      begin  Log<span class="token punctuation">(</span><span class="token string">'VC_redist is install'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      szParam :<span class="token operator">=</span> <span class="token string">'/install /quiet /norestart'</span><span class="token punctuation">;</span>      Exec<span class="token punctuation">(</span>szExecutable, szParam, <span class="token string">''</span>, SW_HIDE, ewWaitUntilTerminated, nRetCode<span class="token punctuation">)</span><span class="token punctuation">;</span>      Sleep<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      end    <span class="token keyword">else</span>      begin      Log<span class="token punctuation">(</span><span class="token string">'Executable file not found: '</span> + szExecutable<span class="token punctuation">)</span><span class="token punctuation">;</span>      endend<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="â‘¢-å¦‚ä½•è´­ä¹°ä»£ç ç­¾åè¯ä¹¦"><a href="#â‘¢-å¦‚ä½•è´­ä¹°ä»£ç ç­¾åè¯ä¹¦" class="headerlink" title="â‘¢ å¦‚ä½•è´­ä¹°ä»£ç ç­¾åè¯ä¹¦"></a>â‘¢ å¦‚ä½•è´­ä¹°ä»£ç ç­¾åè¯ä¹¦</h4><p>å¯ä»¥å‚è€ƒæˆ‘å†™çš„è¿™ç¯‡ã€Š<a href="https://blog.csdn.net/qq_33154343/article/details/135487951">åˆ†äº«å¦‚ä½•æ‹¥æœ‰ä¸€ä»½ç§äººçš„ã€å¼€æºä»£ç ç­¾åè¯ä¹¦ã€</a>ã€‹ï¼Œå·²è¯¦è¿°è´­ä¹° EV &#x2F; Standard &#x2F; Open Source çš„ Code Signing Certificate ğŸ‰ğŸ‰ğŸ‰è¿‡ç¨‹ï¼Œè¿˜æœ‰å¦‚ä½•è¿›è¡Œåº”ç”¨ç­¾åï¼›</p><h4 id="â‘£è¿‡äº”å…³æ–©å…­å°†ä¹‹-Defender-SmartScreen"><a href="#â‘£è¿‡äº”å…³æ–©å…­å°†ä¹‹-Defender-SmartScreen" class="headerlink" title="â‘£è¿‡äº”å…³æ–©å…­å°†ä¹‹ Defender SmartScreen"></a>â‘£è¿‡äº”å…³æ–©å…­å°†ä¹‹ Defender SmartScreen</h4><p>è¿˜è¦èƒ½å¤Ÿè¿‡  <a href="https://learn.microsoft.com/en-us/windows/security/operating-system-security/virus-and-threat-protection/microsoft-defender-smartscreen/">Microsoft Defender SmartScreen</a>ï¼Œ é‡Œé¢æ˜¯ä¸€å¥—ä¸€å¥—çš„ï¼Œåˆæ¬¡æäº¤è¢«æ‹’å¥½å‡ æ¬¡éƒ½å±æ­£å¸¸ã€‚è‹¥æ˜¯ EV ä¼ä¸šè¯ä¹¦ï¼Œæ°ªå¤§é‡‘ï¼Œç›´æ¥è¿‡ã€‚è‹¥æ˜¯ Standard &#x2F; Open Source è¿™ç±»æ ‡å‡†è¯ä¹¦ï¼Œéœ€å…ˆå°† EXE æäº¤ <a href="https://www.microsoft.com/en-us/wdsi/filesubmission/">Submit a file for malware analysis</a>ï¼Œ é‡å¤å¤šæäº¤å‡ æ¬¡åï¼Œè™½ä¸ä¼šå†æŠ¥æ¯’ï¼›ä½†æ˜¯å®¡æ ¸ä¾æ—§æ˜¯ä¼šè¢«æ‹’ç»ï¼Œ WHAT THE FUCKï¼Ÿï¼Ÿï¼Ÿ</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2024/202402192112902.png" width="100%"/ loading="lazy"><p>å¯¹åº”å®é™…çš„è¿è¡Œå¼¹çª—æ˜¯è¿™ä¸ª</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202402281027210.png" width="50%"/ loading="lazy"><p>å”¯ä¸€è§£å†³æ–¹æ¡ˆå°±æ˜¯ç­‰å¾…ï¼Œå¾… exe çš„ä¸‹è½½é‡å’Œå®‰è£…é‡è¶³å¤Ÿå¤šï¼Œä¸”æ•°é‡è¶Šå¤šï¼Œåœ¨å¾®è½¯çš„ç§¯ç´¯é‡ä¿¡èª‰è¶Šå¤šï¼Œè¿‡é˜ˆå€¼å³å¯è¢«è®¤å¯ï¼Œé¡ºåˆ©ä¸Šæ¶ Microsoft Storeã€‚  </p><p><strong>æ€»ç»“ï¼š</strong></p><p>ä¸ªäººä½œå“ä¸Šæ¶å¾®è½¯å•†åº—çš„æµç¨‹å¾ˆæŠ˜ç£¨ï¼Œæœ€åä¸Šæ¶æˆåŠŸåä¹Ÿæ˜¯æ‹¨å¼€äº‘é›¾ï¼›</p><p>è‹¥æ˜¯æ–‡ç« å¯¹ä½ æœ‰ä»·å€¼ï¼Œäº¦å¯å¸®æˆ‘ç§¯ç´¯Sunnyçš„å¾®è½¯ä¿¡èª‰ï¼Œç”šè‡³æ„Ÿè°¢ğŸ™‡â€ ï¼› æˆªå›¾ä¸‹è½½ ğŸ‘‰   <a href="https://github.com/XMuli/SunnyPages/releases/download/v1.3/Sunny_setup_msvc_1.3.0_x64.exe">Sunny_setup_msvc_1.3.0_x64.exe</a>  </p><br><h3 id="å±•ç¤ºæ•ˆæœ"><a href="#å±•ç¤ºæ•ˆæœ" class="headerlink" title="å±•ç¤ºæ•ˆæœ"></a>å±•ç¤ºæ•ˆæœ</h3><p>å¾®è½¯å•†åº— GIF è§æ–‡ç« é¡¶éƒ¨æˆªå›¾ï¼Œæ­¤ä¸º Web é¢„è§ˆçš„æˆªå›¾ï¼š</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202402231501935.gif" width="80%"/ loading="lazy"><h2 id="ä¸Šæ¶å¾®è½¯é©±åŠ¨"><a href="#ä¸Šæ¶å¾®è½¯é©±åŠ¨" class="headerlink" title="ä¸Šæ¶å¾®è½¯é©±åŠ¨"></a>ä¸Šæ¶å¾®è½¯é©±åŠ¨</h2><p>é©±åŠ¨è®¤è¯ï¼Œå¯æ‰¾ä¸€äº› WHQL å®éªŒå®¤ç»™è¿‡ï¼Œè´¹ç”¨çº¦ï¿¥ 1w &#x2F;æ¬¡ã€‚æˆ–è€…è‡ªå·±ä¹° EV è¯ä¹¦è‡ªå·±è¿‡  WHQLï¼Œå‘¨æœŸä¼šå¾ˆé•¿ ã€‚</p><p>éªŒè¯æ–¹å¼ä¸º Windows Update é©±åŠ¨ä¸­å¯çœ‹åˆ°ï¼Œå¦å¤–ä¸€ç§æ˜¯åœ¨ <a href="https://www.catalog.update.microsoft.com/">catalog.update.microsoft.com</a> ä¸­æŸ¥è¯¢ï¼Œé©±åŠ¨æ˜¯å¦ä¸Šæ¶äº†å’Œå¾®è½¯æ¨é€äº†ã€‚ é©±åŠ¨ä¸Šæ¶å°±ä¸å±•å¼€è®²è¿°äº†ã€‚</p><br><h2 id="ä¸Šæ¶-Deepin-x2F-UOS-Store-æµç¨‹"><a href="#ä¸Šæ¶-Deepin-x2F-UOS-Store-æµç¨‹" class="headerlink" title="ä¸Šæ¶ Deepin &#x2F; UOS Store æµç¨‹"></a>ä¸Šæ¶ Deepin &#x2F; UOS Store æµç¨‹</h2><h3 id="ä¸Šæ¶æ­¥éª¤-1"><a href="#ä¸Šæ¶æ­¥éª¤-1" class="headerlink" title="ä¸Šæ¶æ­¥éª¤"></a>ä¸Šæ¶æ­¥éª¤</h3><p><strong>ä¸Šæ¶æ–¹å¼åˆ†ä¸ºä¸¤ç§</strong></p><p>â‘ è‹¥æ˜¯éœ€è¦ä¸Šæ¶åˆ° UOS Stoe ï¼Œåˆ™éœ€è¦æ³¨å†Œå¯¹åº”å¼€å‘è€…è´¦å·ï¼Œå®˜æ–¹æ–‡æ¡£ <a href="https://doc.chinauos.com/content/L7nFinQB_uwzIp6HNV7S">åº”ç”¨ä¸Šæ¶æŒ‡å—</a>ã€‚é¢(âŠ™ï¹âŠ™)ï¼Œä½†éœ€è¦å®åå¡«å†™ç›¸å…³ä¿¡æ¯ï¼Œé€šè¿‡ä¹‹åå°±å¯ä»¥åŒæ—¶ä¸Šæ¶åˆ° UOS å•†ä¸šå’Œ Deepin ç¤¾åŒºä¸¤ä¸ªç‰ˆæœ¬ã€‚</p><p>å¯ä»¥åœ¨çœ‹åˆ°å†å²çš„æ¯ä¸€ä¸ªåŒ…å’Œä¸Šæ¶çš„ç‰ˆæœ¬ï¼Œè¿™ä¸€ç‚¹å¾ˆæ£’å¾ˆæœ‰å¿ƒï¼Œä¸”æ¯ä¸€ç§è¯­è¨€çš„å±•ç¤ºä¹Ÿæ˜¯ç”¨ Tab é¡µæ˜¾ç¤ºå‡ºæ¥äº†ï¼Œä½“éªŒå¾ˆå‡ºå½©ã€‚</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2024/202402192259665.png" width="100%"/ loading="lazy"><p>â‘¡è‹¥ã€ä»…ã€‘æƒ³è¦ä¸Šæ¶ Deepin ç¤¾åŒºï¼Œçªç„¶å‘ç°å‰ä¸ä¹…ï¼Œæœ‰æ–°å‡ºæ¥äº†ä¸€ç§ç®€åŒ–äº†çš„æŠ•é€’æµç¨‹ï¼ˆ2024.02.19ï¼‰ï¼Œæ–¹ä¾¿å¤šäº† <a href="https://www.deepin.org/zh/deliver-applications/">ç¤¾åŒºæŠ•é€’ç³»ç»Ÿä½¿ç”¨è¯´æ˜</a>ï¼Œ åŸºæœ¬ç›´æ¥ä¸Šä¼ åº”ç”¨åŒ…å³å¯ã€‚</p><h3 id="å±•ç¤ºæ•ˆæœ-1"><a href="#å±•ç¤ºæ•ˆæœ-1" class="headerlink" title="å±•ç¤ºæ•ˆæœ"></a>å±•ç¤ºæ•ˆæœ</h3><p><strong>å·²åœ¨ Deepin V20.9-V23 ä¸Šç§»æ¤å®Œæˆ</strong></p><p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202312272305050.jpg" width="50%"/ loading="lazy"><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202312272305129.jpg" width="50%"/ loading="lazy"></p><p><strong>ä¸Šæ¶ æ·±åº¦å•†åº—æ•ˆæœ</strong></p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2024/202402190016686.png" width="70%"/ loading="lazy"><p>è¿˜å‘ç°äº†å½“åˆä¸Šæ¶çš„ä¸€ä¸ªå¼€æºè½¯ä»¶ <a href="https://github.com/XMuli/lfxSpeed">lfxSpeed</a>ï¼Œä¸€ä¸ªç®€å•çš„ Deepin&#x2F;UOS çš„ä»»åŠ¡æ ç½‘é€Ÿæ’ä»¶ï¼ŒçœŸæ—¶é—´åŒ†åŒ†~</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2024/202402192320479.png" width="70%"/ loading="lazy"><h2 id="ä¸Šæ¶-Speak-Store-æµç¨‹"><a href="#ä¸Šæ¶-Speak-Store-æµç¨‹" class="headerlink" title="ä¸Šæ¶ Speak Store æµç¨‹"></a>ä¸Šæ¶ Speak Store æµç¨‹</h2><h3 id="ä¸Šæ¶æ­¥éª¤-2"><a href="#ä¸Šæ¶æ­¥éª¤-2" class="headerlink" title="ä¸Šæ¶æ­¥éª¤"></a>ä¸Šæ¶æ­¥éª¤</h3><p>ä¸Šæ¶æ˜Ÿç«å•†åº—æ­¥éª¤</p><ul><li>ã€æ–¹å¼ä¸€ã€‘ç›´æ¥åœ¨ <a href="https://upload.deepinos.org.cn/index">https://upload.deepinos.org.cn/index</a>  ç½‘é¡µä¸Šä¼  .deb å’Œæˆªå›¾ç­‰ä¿¡æ¯å³å¯</li><li>ã€æ–¹å¼äºŒã€‘æ‘‡äºº â†’  <a href="https://www.spark-app.store/">spark-app.store</a></li></ul><br><h3 id="å±•ç¤ºæ­¥éª¤"><a href="#å±•ç¤ºæ­¥éª¤" class="headerlink" title="å±•ç¤ºæ­¥éª¤"></a>å±•ç¤ºæ­¥éª¤</h3><p>ä¸Šæ¶æˆåŠŸ</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2024/202402192253590.png" width="70%"/ loading="lazy"><p><strong>Noteï¼š</strong> ç½‘é¡µä¸Šä¼  .deb æ€»æ˜¯é”™è¯¯ï¼Œè§£å†³æ–¹æ¡ˆï¼Œå¿…é¡»åœ¨ Linux ç³»ç»Ÿä¸‹è¿›è¡Œä¸Šä¼  .deb æ‰ä¼šæˆåŠŸï¼›</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2024/202402192250562.png" width="400"/ loading="lazy"><br><h2 id="ä¸Šæ¶-openkylin-Store-æµç¨‹"><a href="#ä¸Šæ¶-openkylin-Store-æµç¨‹" class="headerlink" title="ä¸Šæ¶ openkylin Store æµç¨‹"></a>ä¸Šæ¶ openkylin Store æµç¨‹</h2><p>å·²ç§»æ¤åˆ° openkylin 1.0.1 ç­‰ç‰ˆæœ¬ï¼Œè¿è¡Œæ•ˆæœã€‚</p><p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2024/202402192238634.png" width="35%"/ loading="lazy"><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2024/202402192238459.png" width="35%"/ loading="lazy"></p><h3 id="ä¸Šæ¶æ­¥éª¤-3"><a href="#ä¸Šæ¶æ­¥éª¤-3" class="headerlink" title="ä¸Šæ¶æ­¥éª¤"></a>ä¸Šæ¶æ­¥éª¤</h3><p><strong>ä¸Šæ¶è§„åˆ™</strong></p><p>éœ€å¡«å†™ã€Šå¼€æºè½¯ä»¶ä¸Šæ¶ç”³è¯·è¡¨æ ¼_V1.0.0.docxã€‹ï¼Œä¸”å¯¹ .deb çš„ debian æ–‡ä»¶å¤¹çš„æ–‡ä»¶æœ‰ç‚¹æ ¼å¼è¦æ±‚ï¼›å‚è€ƒå¦‚ä¸‹ã€‚ç¬¦åˆæ ‡å‡†åæäº¤è¡¨æ ¼å’Œ .deb å³å¯ã€‚</p><p>ç‰ˆæœ¬é•œåƒä¸‹è½½ï¼š<a href="https://www.c.top/downloads/">openkylin  1.x X86</a></p><p><strong>è¯¦ç»†è§„åˆ™å‚è€ƒï¼š</strong></p><p>1ã€ åŒ…å_ç‰ˆæœ¬_æ¶æ„.debï¼Œå„ä¸ªå­—æ®µéœ€è¦ä¸controlæ–‡ä»¶é‡Œçš„å‚æ•°ä¿æŒä¸€è‡´ã€‚</p><p>2ã€ åŒ…åä¸èƒ½å«æœ‰ä¸­æ–‡ï¼Œåªèƒ½åŒ…å«æ•°å­—å­—æ¯å’Œä¸‰ä¸ªç¬¦å·ï¼ˆ.+-ï¼‰ï¼Œè‹±æ–‡å­—æ¯å¿…é¡»æ˜¯å°å†™ï¼Œç‰ˆæœ¬å·å¿…é¡»ä»¥æ•°å­—å¼€å¤´ï¼Œæ¶æ„åªèƒ½ä¸ºarm64å’Œamd64å’Œmisp64el</p><p>ä¾‹å¦‚ï¼špowerword_1.0_arm64.deb ï¼ˆå‡ä¸ºä¸‹åˆ’çº¿ï¼‰</p><p>3ã€ è½¯ä»¶ä¸­æ–‡åç§°ã€è‹±æ–‡åç§°ï¼Œå„é•¿åº¦å°äº50ä¸ªå­—ç¬¦ã€‚</p><p>4ã€ iconï¼ˆè§„èŒƒï¼š128åƒç´ *128åƒç´ ï¼‰ï¼›</p><p>5ã€ è½¯ä»¶æˆªå›¾ï¼ˆå®½&#x2F;é«˜ 1.5 æŒ‰æ­¤é•¿å®½æ¯”çš„åº”ç”¨å®é™…æˆªå›¾åˆ†è¾¨ç‡å³å¯ï¼ˆè‡³å°‘5å¼ ï¼‰å»ºè®®å°ºå¯¸ï¼š1000åƒç´ *680åƒç´ ï¼‰</p><p>6ã€ è½¯ä»¶åˆ†ç±»ï¼šç²¾å“ã€åŠå…¬ã€å¼€å‘ã€å›¾åƒã€å½±éŸ³ã€ç½‘ç»œã€æ¸¸æˆã€æ•™è‚²ã€ç¤¾äº¤ã€å…¶ä»–ã€ç³»ç»Ÿã€‚æœ€å¤šé€‰3ä¸ªï¼Œç¬¬ä¸€ä¸ªä¸ºä¸»åˆ†ç±»ï¼Œåä¸¤ä¸ªä¸ºé™„å±åˆ†ç±»ã€‚</p><br><h2 id="ç³»åˆ—åœ°å€"><a href="#ç³»åˆ—åœ°å€" class="headerlink" title="ç³»åˆ—åœ°å€"></a>ç³»åˆ—åœ°å€</h2><p><a href="https://github.com/XMuli/QtExamples">QtExamples</a>  æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”æ°¸ä¹…å…è´¹ï¼</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
          <category> å­¦ä¹  - MacOS </category>
          
          <category> å­¦ä¹  - Windows </category>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - C/C++ åºä¸‰ å•†ä¸š </category>
          
          <category> ä¸“æ  - é¡¹ç›®å®æˆ˜å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> å·¥ç¨‹ç»éªŒ </tag>
            
            <tag> é¡¹ç›®ä½œå“é›†åˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸º Windows10 22H2 å¯ç”¨ Microsoft Copilot åŠŸèƒ½</title>
      <link href="/posts/d591d39e/"/>
      <url>/posts/d591d39e/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong>  ä½œä¸º Window 10 22H2 çš„é•¿æœŸä½¿ç”¨è€…ï¼Œä¹Ÿå¼€å‘äº†ä¸€ä¸ª OpenAI ChatGPT çš„ <a href="https://blog.csdn.net/qq_33154343/article/details/135488438">å®¢æˆ·ç«¯</a>ï¼Œä½†è‡ªå·±è¿˜ä¸€ç›´æ²¡å¯ç”¨ å¾®è½¯çš„ Copilotï¼Œæ°ªï¼~ï¼›ä»Šå¤©æœ‰ç©ºï¼Œå°±ç»™å¼€å¯ï¼Œç»†è‡´ä½“éªŒä¸€ä¸‹å…¶ UI&#x2F;UX çš„äº¤äº’å’ŒåŠŸèƒ½çš„ç¨‹åº¦ã€‚ç„¶åç†è®º Win11 å¼€å¯çš„è¯äº¦æ˜¯åŒç†ã€‚ä¸”æ˜¯å…è´¹å¯ä»¥ç”¨ï¼Œä¸éœ€è¦åŠ å…¥å†…æµ‹é€šé“ä¹‹ç±»çš„ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202402021609578.png" width="100%"/ loading="lazy"><br><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>Processor       12th Gen Intel(R) Core(TM) i7-12850HX   2.10 GHz<br>Installed RAM32.0 GB (31.7 GB usable)<br>System type   64-bit operating system, x64-based processor</p><p>Edition             Windows 10 Pro<br>Version            22H2<br>OS build          19045.3930<br>Experience      Windows Feature Experience Pack 1000.19053.1000.0</p><br><h2 id="å¯ç”¨-Copilot-æ­¥éª¤"><a href="#å¯ç”¨-Copilot-æ­¥éª¤" class="headerlink" title="å¯ç”¨ Copilot æ­¥éª¤"></a>å¯ç”¨ Copilot æ­¥éª¤</h2><ul><li><strong>åœ°åŒºé™åˆ¶</strong>ï¼šç›®å‰ Windows Copilot ä»…é™äºç¾å›½ã€åŒ—ç¾ã€è‹±å›½ï¼Œä»¥åŠéƒ¨åˆ†äºšæ´²ï¼Œå—ç¾å›½å®¶çš„ç”¨æˆ·å¯æ­£å¸¸ä½¿ç”¨ï¼ˆå›½å†…ç›®å‰<strong>æ— æ³•ç›´æ¥ä½¿ç”¨</strong></li><li><strong>ç¡¬ä»¶é™åˆ¶</strong>ï¼šå¾®è½¯å·²ç¡®è®¤ Windows Copilot åªèƒ½åœ¨å†…å­˜ä¸º 4GBåŠä»¥ä¸Š ï¼Œå±å¹•åˆ†è¾¨ç‡ä¸º 720Pä»¥ä¸Šã€‚</li><li><strong>ç½‘ç»œé™åˆ¶ï¼š</strong> èƒ½å¤Ÿè®¿é—®ç›¸å…³ç½‘ç«™</li></ul><p>æˆªè‡³ä»Šæ—¥ 2024.02.02 ï¼Œå¦‚ä¸‹æ­¥éª¤å¼€å¯æ˜¯äº²æµ‹å¯è¡Œçš„ï¼›</p><h3 id="å¼€å¯-Copilot-å…¥å£"><a href="#å¼€å¯-Copilot-å…¥å£" class="headerlink" title="å¼€å¯ Copilot å…¥å£"></a>å¼€å¯ Copilot å…¥å£</h3><ol><li><p><strong>â€œè®¾ç½®â€ &gt; â€œç³»ç»Ÿâ€ &gt; â€œå…³äºâ€</strong>ï¼Œç¡®ä¿æ“ä½œç³»ç»Ÿå†…éƒ¨ç‰ˆæœ¬å·ä¸º Build 19045.3754 (KB5032278)  æˆ–æ›´é«˜</p><p>è‹¥æœ‰éœ€è¦äº¦å¯æ‰‹åŠ¨ä¸‹è½½ <a href="https://www.catalog.update.microsoft.com/Search.aspx?q=KB5032278">KB5032278</a> è¿™ä¸ªåŒ…ï¼Œå®æµ‹ç‰ˆæœ¬å¤§äºå³å¯ï¼Œæ²¡è¿™ä¸ª KB ä¹Ÿå¯ä»¥æˆåŠŸã€‚</p></li><li><p>Githubä¸‹è½½ <a href="https://github.com/thebookisclosed/ViVe/releases">ViveTool</a> å¹¶å°†å…¶è§£å‹ï¼Œç”¨äºå¼€å¯ Windows è®¾å¤‡ä¸Šå¯ç”¨éšè—çš„å®éªŒæ€§åŠŸèƒ½ã€‚</p><p>è¿›å…¥ä¸‹è½½ç›®å½•ï¼Œç®¡ç†å‘˜æ‰§è¡Œå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">vivetool &#x2F;enable &#x2F;id:46686174,47530616,44755019<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ‰§è¡ŒæˆåŠŸæç¤ºå¦‚ä¸‹</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202402021518406.png" width="100%"/ loading="lazy"></li><li><p>é‡å¯ç³»ç»Ÿåã€‚è§‚å¯Ÿ Windows Copilot å‡ºç°äºå³ä¸‹è§’é€šçŸ¥å¤„ï¼Ÿè‹¥æœªå‡ºç°ï¼Œä¹Ÿå¯å³é”®ä»»åŠ¡æ ï¼Œçœ‹æ˜¯å¦æœ‰Windows Copilotç›¸å…³çš„å­—æ ·ï¼Œå¯ç”¨å³å¯ã€‚</p></li><li><p>è‹¥æ˜¯æ­¥éª¤ 3 å¤±è´¥ï¼Œåˆ™æ‰“å¼€æ³¨å†Œè¡¨ï¼Œè¿›å…¥ <code>Computer\HKEY_CURRENT_USER\SOFTWARE\Microsoft\Windows\Shell\Copilot\BingChat</code> åï¼Œå°† IsUserEligible æ•°å€¼ä¿®æ”¹ä¸º 1ï¼Œå†é‡å¤æ­¥éª¤3ï¼Œå³å¯çœ‹åˆ° Copilot å›¾æ ‡</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202402021524465.png" width="100%"/ loading="lazy"></li><li><p>å¼€å¯æˆåŠŸ</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202402021527371.png" width="90%"/ loading="lazy"></li></ol><br><h3 id="å¯ç”¨-Copilot-åŠŸèƒ½"><a href="#å¯ç”¨-Copilot-åŠŸèƒ½" class="headerlink" title="å¯ç”¨ Copilot åŠŸèƒ½"></a>å¯ç”¨ Copilot åŠŸèƒ½</h3><ol><li><p>â€œSettings - Data &amp; time - Regionâ€ï¼Œå°† â€œCountry or regionâ€ è®¾ç½®ä¸º USï¼›æœ€åæœ¬æœº â€œ Languageâ€ è®¾ç½®å¦‚ä¸‹.è¯­è¨€åº”è¯¥ä¸æ˜¯å¿…é¡»çš„ã€‚</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202402021531962.png" width="70%"/ loading="lazy"></li><li><p>å¿…é¡»ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ <strong>Edge Beta</strong> ç‰ˆæœ¬ï¼Œ<a href="https://www.microsoft.com/zh-cn/edge/download/insider?form=MA13FJ">Become a Microsoft Edge Insider | Microsoft Edge</a>ï¼Œå®‰è£…åå¯å¸è½½æ—§çš„ Edgeã€‚æ­¤åˆ»å†ç‚¹å‡»ï¼Œå³ä¾§ä»»åŠ¡æ  Copilotï¼Œå³å¯äº«å—ã€‚è‹¥æ˜¯æƒ³è¦ä½¿ç”¨ â€œæ–‡ç”Ÿå›¾â€ çš„åŠŸèƒ½ï¼Œéœ€è¦é‡‡ç”¨ åœ¨ Edge Beta ä¸­ç™»å½•è‡ªå·±è´¦å·ï¼Œå°±å¯ä»¥ç«‹å³åœ¨ Edge ä¸­ä½¿ç”¨ Coplot åŠŸèƒ½ã€‚</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202402021554740.png" width="100%"/ loading="lazy"></li><li><p>æœ€åï¼Œä¹Ÿå¯åœ¨ç³»ç»Ÿè‡ªå¸¦çš„ä¸­ä½¿ç”¨ Copilot ä¸­ï¼Œä½“éªŒä½¿ç”¨ AI å¸¦æ¥çš„ç”Ÿæˆå¼çš„æ•ˆç‡å’Œåˆ›æ„ã€‚</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2024/202402182209854.png" width="100%"/ loading="lazy"></li></ol><br><h2 id="ç³»åˆ—åœ°å€"><a href="#ç³»åˆ—åœ°å€" class="headerlink" title="ç³»åˆ—åœ°å€"></a>ç³»åˆ—åœ°å€</h2><p><a href="https://github.com/XMuli/QtExamples">QtExamples</a>  æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”<strong>æ°¸ä¹…å…è´¹</strong>ï¼</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Windows </category>
          
          <category> å­¦ä¹  - AIGC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ChatGPT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®€æ´ä¸”æ˜“ç”¨çš„ChatGPT&amp;AIçš„æ¡Œé¢åº”ç”¨ç¨‹åºThinkyMate</title>
      <link href="/posts/bc2d9c9d/"/>
      <url>/posts/bc2d9c9d/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong>  å¼€å‘äº†ä¸€ä¸ªç®€æ´ä¸”æ˜“ç”¨çš„ ChatGPT &amp; AI çš„æ¡Œé¢åº”ç”¨ç¨‹åº ThinkyMateï¼›<strong>è·¨å¹³å°ï¼Œæ— éœ€ç™»å½•æˆ–æ³¨å†Œå³å¯ä½¿ç”¨ã€‚</strong> å·²ç»å†…ç½®åšä¸»çš„è´¦å· Keyï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥è‡ªå·±çš„ç§äºº API-KEY  â†’ ä¸éœ€ç™»å½•ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><div align="center">  <p>      <h1>      <a href="https://thinkymate.xmuli.tech">          <img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202312180312618.png" width="60%" alt="ThinkyMate"/ loading="lazy">      </a>    </h1>    <br/>    <h4>Simple and easy to use desktop application for ChatGPT & AI</h4>    <h4>ç®€æ´ä¸”æ˜“ç”¨çš„ ChatGPT & AI çš„æ¡Œé¢åº”ç”¨ç¨‹åº</h4>    <h4>ç°¡æ½”ä¸”æ˜“ç”¨çš„ ChatGPT & AI çš„æ¡Œé¢æ‡‰ç”¨ç¨‹åº</h4>  </p></div><div align="center">  <p align="right"><br><a href="https://thinkymate.xmuli.tech/">English</a> | <a href="https://github.com/XMuli/ThinkyMatePages/blob/master/docs/index.zh_CN.md">ç®€ä½“ä¸­æ–‡</a></p></div><iframe width="760" height="427" src="https://www.youtube.com/embed/rRWHK_HzL88?si=cs2IBMO_XF_I6LRV" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe><h2 id="Preview"><a href="#Preview" class="headerlink" title="Preview"></a>Preview</h2><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202312180314212.png" width="100%"/ loading="lazy"><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202312180319043.png" width="100%"/ loading="lazy"><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202312260051579.gif" width="100%"/ loading="lazy"><h2 id="ç½‘å€"><a href="#ç½‘å€" class="headerlink" title="ç½‘å€"></a>ç½‘å€</h2><table><thead><tr><th>Title</th><th>URL</th></tr></thead><tbody><tr><td>Site</td><td><a href="https://thinkymate.xmuli.tech/">thinkymate.xmuli.tech</a></td></tr><tr><td>Guide</td><td><a href="https://github.com/XMuli/ThinkyMatePages/wiki">wiki</a></td></tr></tbody></table><h2 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h2><p><a href="https://github.com/XMuli/ThinkyMatePages/releases"><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202312292223219.png" width="210"/ loading="lazy"></a>    <a href="https://apps.microsoft.com/home"><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202312292157810.svg" width="200"/ loading="lazy"></a>    <a href="https://gitee.com/XMuli/ThinkyMatePages/releases"><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202312292217355.svg" width="200"/ loading="lazy"></a></p><h2 id="è§†é¢‘"><a href="#è§†é¢‘" class="headerlink" title="è§†é¢‘"></a>è§†é¢‘</h2><p><a href="https://www.youtube.com/watch?v=rRWHK_HzL88"><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202312292229454.jpg" width="200"/ loading="lazy"></a>    <a href="https://www.bilibili.com/video/BV12a4y1z7CA"><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202312292229105.png" width="200"/ loading="lazy"></a></p><h2 id="åŠŸèƒ½"><a href="#åŠŸèƒ½" class="headerlink" title="åŠŸèƒ½"></a>åŠŸèƒ½</h2><p><strong>ç”¨äº ChatGPT å’Œ AI çš„ç®€å•æ˜“ç”¨çš„æ¡Œé¢åº”ç”¨ç¨‹åºï¼</strong> ğŸ‰ğŸ‰ğŸ‰ğŸŠğŸŠğŸŠğŸŠ</p><p><strong>ChatGPTå’ŒAIï¼š</strong></p><ul><li>æ— éœ€æ³¨å†Œå’Œç™»å½•ä»»ä½•è´¦æˆ·å³å¯ä½¿ç”¨</li><li><strong>æ— éœ€ç™»å½•</strong> å³å¯ä½¿ç”¨ ChatGPT å’Œ SparkDesk èŠå¤©å’Œè¯­éŸ³çš„æ‰€æœ‰åŠŸèƒ½ã€‚</li><li>æ”¯æŒ ChatGPT å’Œ SparkDesk AI æ¨¡å‹</li><li>æ”¯æŒåœºæ™¯ä¸Šä¸‹æ–‡ä¸è®°å½•è®°å¿†</li><li>æ”¯æŒä½¿ç”¨ç§äºº API KEY ä½¿ç”¨ç›¸å…³åŠŸèƒ½ã€‚</li><li>æ”¯æŒæ°”æ³¡æ¨¡å¼å’Œçº¯æ–‡æœ¬æ¨¡å¼</li><li>æ”¯æŒæ˜¾ç¤ºæ¨¡å¼åˆ‡æ¢ï¼šæµå¼ï¼ˆæ‰“å­—æœºï¼‰+å¸¸è§„å“åº”</li><li>æ”¯æŒæ›´æ¢ä¸»é¢˜ï¼š MacOSã€Ubuntuã€Windowsã€æš—é»‘æ¨¡å¼</li><li>API å¯†é’¥é‡‡ç”¨ AES_256 + CBC ç®—æ³•åŠ å¯†ï¼Œå¯†ç æ¡†è¾“å…¥</li><li>è·¨å¹³å°æ”¯æŒï¼ˆWindowsã€MacOSã€Linux æ“ä½œç³»ç»Ÿï¼‰</li><li>æ›´å¤šå€¼å¾—æ¢ç´¢å’Œå‘ç°çš„åŠŸèƒ½</li></ul><p><strong>è¯­éŸ³ï¼š</strong></p><ul><li><p>æ”¯æŒæ–‡æœ¬åˆ°è¯­éŸ³ï¼ˆTTSï¼‰å’Œæ–‡æœ¬åˆ°è¯­éŸ³ï¼ˆTTSï¼‰åŠŸèƒ½ </p></li><li><p>æ”¯æŒç¡¬ä»¶è€³æœºè”åŠ¨æ‰©å±•</p></li><li><p>æ”¯æŒè‡ªåŠ¨æ™ºèƒ½æªè¾å’Œè½¬æ¢ï¼Œæ›´æµç•…è‡ªç„¶</p></li><li><p>æ”¯æŒä¿®æ”¹è¯­é€Ÿå’Œæ›¿æ¢è¯­éŸ³åº“</p></li></ul><h2 id="ä½¿ç”¨æ•™ç¨‹"><a href="#ä½¿ç”¨æ•™ç¨‹" class="headerlink" title="ä½¿ç”¨æ•™ç¨‹"></a>ä½¿ç”¨æ•™ç¨‹</h2><ol><li><a href="https://github.com/XMuli/ThinkyMatePages/releases">ä¸‹è½½</a> è½¯ä»¶åŒ…å¹¶å®‰è£…</li><li>Tray Mail ä¸Šä¸‹æ–‡èœå•ï¼Œæ‰“å¼€é«˜çº§è®¾ç½®</li><li>è¾“å…¥ API KEY ä»¥å¯ç”¨ç›¸åº”åŠŸèƒ½ï¼ˆå¯é€‰ï¼‰ï¼›è¯·é‡å¯è½¯ä»¶ä»¥ç¡®ä¿å…¶ç”Ÿæ•ˆã€‚<ul><li>è¾“å…¥ OpenAI å¯†é’¥ä»¥ä½¿ç”¨ ChatGPT åŠŸèƒ½å’Œè¯­éŸ³è½¬æ–‡å­—åŠŸèƒ½</li><li>è¾“å…¥è®¯é£å¯†é’¥ï¼Œä½¿ç”¨ç«èŠ±æ¡Œé¢åŠŸèƒ½</li><li>è¾“å…¥ç™½åº¦å¯†é’¥ä½¿ç”¨æ–‡æœ¬è½¬è¯­éŸ³åŠŸèƒ½</li></ul></li><li>è¾“å…¥è¯­éŸ³æˆ–æ–‡æœ¬ï¼Œäº«å— ChatGPT åŠŸèƒ½ï¼</li><li>æ›´å¤šé¢„è§ˆå›¾ç‰‡è¯·å‚é˜… <a href="https://github.com/XMuli/ThinkyMatePages/tree/master/docs/snapshoot">è¿™é‡Œ</a></li></ol><h2 id="ç¼–è¯‘ç¯å¢ƒ"><a href="#ç¼–è¯‘ç¯å¢ƒ" class="headerlink" title="ç¼–è¯‘ç¯å¢ƒ"></a>ç¼–è¯‘ç¯å¢ƒ</h2><p>ã€€ã€€ğŸ’» <code>MacOS 13 </code>+ ğŸ“ <code>Qt 5.15</code> ğŸ“ <code>gcc/g++ 9.2</code> ğŸ“ <code>gdb8.3</code> </p><p>ã€€ã€€ğŸ’» <code>Ubuntu 22.04</code> ğŸ“<code>Deepin 20.9-23+</code> ğŸ“ <code>Qt 5.15.2</code> ğŸ“ <code>gcc/g++ 9.0</code>  ğŸ“ <code>gdb8.0</code></p><p>ã€€ã€€ğŸ’»  <code>win10 22H2</code> ğŸ“ <code>Qt 5.15.2</code> ğŸ“  <code>Visual Studio 2022</code> ğŸ“ <code>C++17</code></p><h2 id="è´¡çŒ®"><a href="#è´¡çŒ®" class="headerlink" title="è´¡çŒ®"></a>è´¡çŒ®</h2><p>å¦‚æœå¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œæˆ–è€…è§‰å¾—æœ‰ç”¨ï¼Œ<strong>æ‚¨å¯ä»¥ç‚¹å‡»è¯¥ä»“åº“çš„â­ Star ğŸ´ Fork ä¸¤ä¸ªå›¾æ ‡ï¼Œæ–¹ä¾¿æŠ¬æ‰‹ä¹‹é—´ï¼Œè¯´ç‚¹èµçš„æ‰‹ï¼Œ</strong> æ‰‹ç•™ä½™é¦™ï¼›å…¶æ¬¡å¯ä»¥æˆ‘å–ä¸€æ¯å†°çš„å¿«ä¹æ°´ã€‚ </p><h2 id="åé¦ˆ"><a href="#åé¦ˆ" class="headerlink" title="åé¦ˆ"></a>åé¦ˆ</h2><p>å¦‚ä½•åé¦ˆï¼Ÿéå¸¸æ¬¢è¿æ‚¨åŠ å…¥æˆ‘ä»¬ï¼æ‚¨å¯ä»¥ <a href="https://github.com/XMuli/ThinkyMatePages/issues">æä¸€ä¸ªåé¦ˆ</a> ;æå‡ºä»»ä½•é”™è¯¯ã€å»ºè®®ã€åŠŸèƒ½è®¾æƒ³ï¼Œæˆ–å¸®åŠ©æ”¹è¿›æœ¬è½¯ä»¶ã€‚</p><h2 id="ä½œè€…"><a href="#ä½œè€…" class="headerlink" title="ä½œè€…"></a>ä½œè€…</h2><p><a href="mailto:&#x78;&#x6d;&#x75;&#108;&#x69;&#116;&#x65;&#99;&#104;&#64;&#x67;&#x6d;&#x61;&#105;&#108;&#x2e;&#99;&#111;&#x6d;">&#x78;&#x6d;&#x75;&#108;&#x69;&#116;&#x65;&#99;&#104;&#64;&#x67;&#x6d;&#x61;&#105;&#108;&#x2e;&#99;&#111;&#x6d;</a> | <a href="https://thinkymate.xmuli.tech/">https://thinkymate.xmuli.tech</a></p><br><h2 id="ç³»åˆ—åœ°å€"><a href="#ç³»åˆ—åœ°å€" class="headerlink" title="ç³»åˆ—åœ°å€"></a>ç³»åˆ—åœ°å€</h2><p><a href="https://github.com/XMuli/QtExamples">QtExamples</a> æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”<strong>æ°¸ä¹…å…è´¹</strong>ï¼â€</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºäºŒ ç»éªŒ </category>
          
          <category> å­¦ä¹  - Windows </category>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
          <category> ä¸“æ  - é¡¹ç›®å®æˆ˜å¼€å‘ </category>
          
          <category> å­¦ä¹  - AIGC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> ChatGPT </tag>
            
            <tag> è·¨å¹³å°å¼€å‘ </tag>
            
            <tag> å·¥ç¨‹ç»éªŒ </tag>
            
            <tag> é¡¹ç›®ä½œå“é›†åˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ†äº«å¦‚ä½•æ‹¥æœ‰ä¸€ä»½ç§äººçš„ã€å¼€æºä»£ç ç­¾åè¯ä¹¦ã€</title>
      <link href="/posts/92a415a2/"/>
      <url>/posts/92a415a2/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong>  è®²è§£å¦‚ä½•æ‹¥æœ‰ä¸€ä»½ç§äººçš„ä»£ç ç­¾åè¯ä¹¦ï¼Œè¿˜æ˜¯ ã€å¼€æºä»£ç ç­¾åè¯ä¹¦ã€â†’ </p><p><font color=#D0087E size=6 face="STFangsong">Open Source Code Signing Certificate ğŸ‰ğŸ‰ğŸ‰</font></p><p>å½“è‡ªå·±å†™çš„è½¯ä»¶å¼€å‘å®Œæ¯•åï¼Œè‹¥æƒ³è¿›è¡Œå•†åº—è½¯ä»¶å‘å¸ƒï¼Œåˆ™ä¸‹ä¸€æ­¥éœ€è¦æå®š<strong>ã€ä»£ç ç­¾åè¯ä¹¦ã€</strong>ã€‚ç»™ä½ çš„ EXE æ ‡è®°ä¸€ä¸ªæˆ³ï¼Œå†™ä¸Šä¸€ä¸ªè¢« Microsoft æ‰€è®¤è¯çš„ç­¾åã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202312282213353.jpg" width="100%"/ loading="lazy"><br><h2 id="ç›¸å…³æ–‡ç« "><a href="#ç›¸å…³æ–‡ç« " class="headerlink" title="ç›¸å…³æ–‡ç« "></a>ç›¸å…³æ–‡ç« </h2><ul><li><a href="https://blog.csdn.net/qq_33154343/article/details/135487951">åˆ†äº«å¦‚ä½•æ‹¥æœ‰ä¸€ä»½ç§äººçš„ã€å¼€æºä»£ç ç­¾åè¯ä¹¦ã€</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/136334975">Sunnyæˆªå›¾ä¸Šæ¶Microsoft StoreåŠLinuxå•†åº—æµç¨‹çš„æŒ‡åŒ—</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/136373241">å˜¿å˜¿ï¼å¼€å‘äº†ä¸€æ¬¾ Sunny æˆªå›¾ &amp; é’‰å›¾ï¼Œäº¦æ”¯æŒâ€œå±å¹•è¯†å›¾â€å’Œâ€œOCRâ€çš„è½¯ä»¶</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/130053230">åŸºäº QT å¼€å‘ FLIPPED ï¼šç®€æ˜“ä¸”æ¼‚äº®çš„è·¨å¹³å°æˆªå›¾è´´å›¾è½¯ä»¶</a></li><li>æ›´å¤šæ•™ç¨‹ â†’ <a href="https://github.com/XMuli/QtExamples">QtExamples</a></li></ul><br><h2 id="ä»£ç ç­¾åè¯ä¹¦çš„ä½œç”¨"><a href="#ä»£ç ç­¾åè¯ä¹¦çš„ä½œç”¨" class="headerlink" title="ä»£ç ç­¾åè¯ä¹¦çš„ä½œç”¨"></a>ä»£ç ç­¾åè¯ä¹¦çš„ä½œç”¨</h2><p>ä»£ç ç­¾åè¯ä¹¦ï¼ˆCode Signing Certificatesï¼‰æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç”¨ï¼Ÿ</p><ol><li>è¿è¡Œç¨‹åºæ—¶å€™ï¼Œ<strong>UAC å¼¹çª—</strong>ï¼ˆUser Account Controlï¼‰ä¸Šé¢ä¼šæ˜¾ç¤º <strong>â€œå‘å¸ƒè€…ï¼ˆPublisherï¼‰â€</strong> çš„åå­—ï¼›</li><li>ç”¨æˆ·ä¸‹è½½ EXE&#x2F;DLL ä¹‹åï¼Œé€šè¿‡æŸ¥çœ‹å±æ€§ç­¾åï¼Œå¯ä»¥ç¡®ä¿æ˜¯è¯¥å‘å¸ƒè€…å‘å¸ƒçš„ï¼Œæœªç»è¿‡ä»»ä½•ç¯¡æ”¹</li><li><strong>ä¸Šæ¶ Microsoft Store æ—¶å€™ï¼Œå¿…é¡»è¦æœ‰è¢« Microsoft æ‰€è®¤å¯çš„çš„ç­¾åè¯ä¹¦</strong>ï¼›åä¹‹åˆ™ä¼šè¢«æ‹’ã€‚ä¸€äº›ä¸‰æ–¹å•†åŸåŒç†ã€‚</li></ol><h2 id="ä»£ç ç­¾åè¯ä¹¦çš„åˆ†ç±»"><a href="#ä»£ç ç­¾åè¯ä¹¦çš„åˆ†ç±»" class="headerlink" title="ä»£ç ç­¾åè¯ä¹¦çš„åˆ†ç±»"></a>ä»£ç ç­¾åè¯ä¹¦çš„åˆ†ç±»</h2><p>è¯ä¹¦åˆ†ä¸ºä¸‰ç±»</p><ul><li><strong>EV ä»£ç ç­¾å</strong>ï¼šä¼ä¸šçº§åˆ«ï¼Œä»·æ ¼æœ€æ˜‚è´µï¼Œæ— éœ€ç§¯ç´¯ä»»ä½•ä¿¡èª‰ï¼Œå°±å¯ä»¥ç›´æ¥é€šè¿‡ <a href="https://learn.microsoft.com/en-us/windows/security/operating-system-security/virus-and-threat-protection/microsoft-defender-smartscreen/">Microsoft Defender SmartScreen</a>ï¼Œä¸ä¼šè§¦å‘æ­¤å¼¹çª—æˆ–è€…è¯¯æ€ï¼›ç”³è¯·é—¨æ§›ä¹Ÿéšæœ€é«˜çš„ï¼Œéœ€è¦æäº¤å…¬å¸æ‰§ç…§ç­‰æœ‰æ•ˆä¿¡æ¯ã€‚</li><li><strong>Standard ä»£ç ç­¾å</strong>ï¼šæ ‡å‡†ä»£ç ç­¾åï¼Œä»·æ ¼ç›¸å¯¹ EV ä¾¿å®œè®¸å¤šï¼Œä¹Ÿæ”¯æŒä¸ªäººç”³è¯·ï¼Œç†æƒ³çš„ä¸ªäººæ¨èï¼›åˆæ¬¡è¿è¡Œï¼Œä¼š Microsoft Defender SmartScreen å¼¹çª—æç¤ºï¼Œå½“ç¨‹åºè¢«è¶³å¤Ÿå¤šçš„ç”¨æˆ·ä½¿ç”¨åï¼Œåœ¨ Windows ä¸­ç§¯ç´¯çš„ä¿¡èª‰è¶³å¤Ÿå¤šï¼Œåé¢ä¹Ÿä¸ä¼šå¼¹å‡ºæ­¤å¼¹çª—ã€‚</li><li><strong>Open Source ä»£ç ç­¾å</strong>ï¼šå¼€æºä½œè€…ä»£ç ç­¾åï¼Œä»·æ ¼æœ€ä½ï¼Œç›®å‰è¿˜èƒ½æä¾›çš„å‚å•†ï¼Œéƒ½æ˜¯äººç±»æ–‡æ˜ä¹‹å…‰ï¼Œç”³è¯·æ¡ä»¶ä¸ºå¼€æºçš„ä¸ªäººå¼€å‘è€…ã€‚ç›¸ä¼ ï¼Œåœ¨å¾ˆå¤šå¹´å‰ï¼Œè¿™ç§è¯ä¹¦å„å¤§å‚å•†éƒ½æ˜¯å…è´¹æä¾›çš„ï¼Œä½†éšç€ Window ç³»ç»Ÿ xp -&gt; 7&#x2F;8&#x2F;10&#x2F;11 çš„å˜è¿ï¼Œå‡ºäºç³»ç»Ÿçº§çš„å®‰å…¨è®¾è®¡è€ƒè™‘ï¼Œè¯ç”Ÿå‡º â€œUser Account Controlâ€ å¼¹çª—ï¼›ä»¥åŠä¿¡ä»»å’Œä¸ä¿¡ä»»ï¼Œè¿˜æœ‰è¯ä¹¦çš„é«˜æ˜‚ï¼Œç°å¦‚ä»ŠåŸºæœ¬æ²¡æœ‰å‚å•†æä¾›äº†æ­¤ç±»è¯ä¹¦ã€‚</li></ul><p>Code Signing Certificates çš„ä»·æ ¼ &#x2F; å¹´ï¼›</p><table><thead><tr><th></th><th>Signing in the Cloud</th><th>Signing - code</th><th>Signing - set</th></tr></thead><tbody><tr><td>EV</td><td>â‚¬ 379</td><td>â‚¬ 329</td><td>â‚¬ 359</td></tr><tr><td>Standard</td><td>â‚¬ 189</td><td>â‚¬ 129</td><td>â‚¬ 159</td></tr><tr><td>Open Source</td><td>â‚¬ 49</td><td>â‚¬ 25</td><td>â‚¬ 69</td></tr></tbody></table><p>æ³¨ï¼šè´­ä¹°å®ç‰©çš„æ—¶å€™ï¼Œè¿˜ä¼šæœ‰çº¦ â‚¬ 35 çš„è¿è´¹ + 23% çš„ç¨è´¹ï¼Œé»˜è®¤æ˜¯  DHL å¿«é€’ã€‚</p><h2 id="ä»£ç ç­¾åè¯ä¹¦çš„è´­ä¹°"><a href="#ä»£ç ç­¾åè¯ä¹¦çš„è´­ä¹°" class="headerlink" title="ä»£ç ç­¾åè¯ä¹¦çš„è´­ä¹°"></a>ä»£ç ç­¾åè¯ä¹¦çš„è´­ä¹°</h2><p>ç°ä»£ (2024 å¹´) çš„ç­¾åè¯ä¹¦è´­ä¹° ï¼Œåˆ†ä¸ºä¸¤ç±»ï¼›</p><ul><li><p>**äº‘ä¸Š: ** æ‰‹æœºä¸Šä½¿ç”¨ OTP + PC è”ç½‘æ¡ä»¶</p></li><li><p>**æœ¬åœ°: ** å®ä½“çš„ cryptographic card  + card readerï¼› </p><ul><li><p>ä¸€ç§æ˜¯å¤§çš„å¯†ç å¡ç‰‡ + å¤§çš„è¯»å¡å™¨</p></li><li><p>å¦ä¸€ç§æ˜¯ç±»ä¼¼äºæ‰‹æœºå¡å¡ç‰‡ + USB è¯»å¡å™¨</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202312282203223.png" width="60%"/ loading="lazy"></li></ul></li></ul><p>åœ¨çº¿ä»˜æ¬¾æœ‰è¾ƒå¤§æ¦‚ç‡æ€§ä¼šè¢«æ‹’ï¼›æ‰‹æœºæç¤ºä¿¡ç”¨å¡æ”¯ä»˜æˆåŠŸï¼Œä½†æ˜¯ç½‘ç«™æç¤ºäº¤æ˜“å¤±è´¥ã€‚é€šå¸¸ç­‰å¾…ä¸‰å¤©å·¦å³ï¼Œä¼šè‡ªåŠ¨åŸå§‹è´¦å•è¿”å›ï¼Œä½†æ˜¯ç”±äºæ±‡ç‡å’Œè«åçš„æ‰‹ç»­è´¹ï¼Œæ¯æ¬¡å¤±è´¥ä¼šæŸå¤±çº¦ ï¿¥20 ã€‚å¯å°è¯•åˆ‡æ¢æ”¯ä»˜æ–¹å¼æˆ–ä¿¡ç”¨å¡å’Œåˆ‡æ¢èŠ‚ç‚¹ã€‚</p><h2 id="æ‰‹åŠ¨ç­¾åæµç¨‹"><a href="#æ‰‹åŠ¨ç­¾åæµç¨‹" class="headerlink" title="æ‰‹åŠ¨ç­¾åæµç¨‹"></a>æ‰‹åŠ¨ç­¾åæµç¨‹</h2><p>å› æˆ‘è´­ä¹°çš„æ˜¯å¼€æºä»£ç ç­¾åè¯ä¹¦ï¼Œå…¶æ”¯æŒä»¥ä¸‹æ•°å­—ç­¾åï¼š</p><ul><li>UNIX&#x2F;Linux è½¯ä»¶</li><li>Firefox å’Œ Netscape çš„æ‰©å±•</li><li>Java å°ç¨‹åº</li><li>åŸºäºJAVAæŠ€æœ¯çš„äº’è”ç½‘åº”ç”¨</li><li>ActiveX ç»„ä»¶å’Œæ§ä»¶</li><li>äºŒè¿›åˆ¶æ–‡ä»¶ (.exe .dll ç­‰)</li></ul><p><strong>æ­¥éª¤å¦‚ä¸‹ï¼š</strong></p><ol><li><p>ä»˜æ¬¾æˆåŠŸ</p></li><li><p>æ¿€æ´»è´¦å·</p></li><li><p>éªŒè¯æœ¬äººä»¥åŠå¼€æºå¼€å‘è€…çš„èº«ä»½</p></li><li><p>ç­‰å¾…éªŒè¯é€šè¿‡é‚®ä»¶ï¼Œå’ŒæŒ‰ç…§é‚®ä»¶æç¤ºæ“ä½œï¼Œé‡Œé¢çš„äºŒç»´ç éƒ½æ˜¯æ˜¯ä¸€æ¬¡æ€§çš„ï¼Œä¸€å£æ°”æŒ‰ç…§æ“ä½œæç¤ºå¥½</p></li><li><p>ä¸‹è½½ SimplySign Desktopï¼Œï¼Œä½¿ç”¨ç­¾åå·¥å…·æ—¶å¿…é¡»è”ç½‘éªŒè¯èº«ä»½ tokenï¼›</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202401091823052.png" width="50%"/ loading="lazy">  <img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202401091826787.png" width="100%"/ loading="lazy"></li><li><p>ä½¿ç”¨ signtool + CMDè¿›è¡Œç­¾å</p><ol><li><p>æ‰“å¼€ SimplySign Desktop è¾“å…¥éªŒè¯åï¼Œé€šè¿‡è°ƒç”¨ Windows è‡ªå¸¦çš„ signtool.exe å·¥å…·ï¼Œæ¥å®ç°å¯¹ EXE &#x2F; DLL çš„ç­¾åï¼›å‚æ•°å¦‚ä¸‹</p><pre class="line-numbers language-cmd" data-language="cmd"><code class="language-cmd">&gt; signtool.exe  Valid commands:    sign       --  Sign files using an embedded signature.    timestamp  --  Timestamp previously-signed files.    verify     --  Verify embedded or catalog signatures.    catdb      --  Modify a catalog database.    remove     --  Remove embedded signature(s) or reduce the size of an                   embedded signed file.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>è¾“å…¥å¦‚ä¸‹å‘½ä»¤ç­¾åï¼Œç›–ä¸Šè‡ªå·±çš„ç« </p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202401091833615.png" width="100%"/ loading="lazy"></li></ol></li><li><p>æŸ¥çœ‹ EXE å±æ€§ï¼Œç¡®è®¤ç­¾åæˆåŠŸï¼›æœ€åå¯¹ EXE ç­¾åæˆåŠŸï¼Œå³é”®å±æ€§å¯æŸ¥çœ‹åˆ°ã€‚</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202312282222979.jpg" width="80%"/ loading="lazy"></li></ol><h2 id="ä¸Šæ¶-Microsoft-Store"><a href="#ä¸Šæ¶-Microsoft-Store" class="headerlink" title="ä¸Šæ¶ Microsoft Store"></a>ä¸Šæ¶ Microsoft Store</h2><p>å½“ç­¾ä¸Šååï¼Œå°±å¯ä¸Šæ¶ Microsoft Store ï¼›ä¹Ÿå¯ä»¥ä¸Šæ¶ä¸‰æ–¹ XX è½¯ä»¶ç®¡å®¶&#x2F; å•†åŸï¼Œä½†é€šå¸¸éœ€è¦æä¾›è½¯è‘—å’Œé¢å¤–çš„å…¶å®ƒæ–‡ä»¶ã€‚</p><p>è¿™éƒ¨åˆ†ä¸‹æ¬¡æœ‰ç©ºæ—¶ï¼Œå¦å•ç‹¬å†™ä¸€ç¯‡ï¼Œè¯¦ç»†ä»‹ç»ä¸Šæ¶æµç¨‹å…¨ç¨‹ï¼›</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202312282206422.png" width="100%"/ loading="lazy"><p>ä¸‹è½½åœ°å€ï¼š<a href="https://github.com/XMuli/ThinkyMatePages/releases">GitHub</a> ï¼Œè¿™æ˜¯ä¸€ä¸ªChatGPT å…è´¹ä½¿ç”¨çš„è·¨å¹³å°å®¢æˆ·ç«¯ï¼›æ›´å¤šä»‹ç»å‚è§å®˜ç½‘ <a href="https://thinkymate.xmuli.tech/">thinkymate.xmuli.tech</a> ã€‚</p><br><h2 id="ç³»åˆ—åœ°å€"><a href="#ç³»åˆ—åœ°å€" class="headerlink" title="ç³»åˆ—åœ°å€"></a>ç³»åˆ—åœ°å€</h2><p><a href="https://github.com/XMuli/QtExamples">QtExamples</a> æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”<strong>æ°¸ä¹…å…è´¹</strong>ï¼â€</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Windows </category>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - C/C++ åºä¸‰ å•†ä¸š </category>
          
          <category> ä¸“æ  - é¡¹ç›®å®æˆ˜å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å·¥ç¨‹ç»éªŒ </tag>
            
            <tag> ä¸ªäººèƒ½åŠ›æå‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>iPhone 13 Pro æ›´æ¢ã€ç§»æ¤ç”µèŠ¯ã€å’Œã€è¶…å®¹ç”µæ± ã€ğŸ”‹ä½“éªŒ</title>
      <link href="/posts/420a6665/"/>
      <url>/posts/420a6665/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong> é¦–å‘ä¹°çš„iPhone 13P ï¼ˆ2021.09ï¼‰ï¼Œéšæ€§ä½¿ç”¨ä¸€å¹´å‡ºå¤´ï¼Œå®¹é‡å°±æš´è·Œ 85%ï¼Œå¯¹æ¯”æœ‹å‹ä¸€èµ·ä¹°çš„åŒæ¬¾ï¼Œè¿˜æ˜¯95%ã€‚è¿™å·²ç»åŸºæœ¬å¾—ä¸€å¤©ä¸¤å…… &gt;_&lt;ï¼Œä¸èƒ½å¿å—ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="è€ƒè™‘æ¢ç”µæ± "><a href="#è€ƒè™‘æ¢ç”µæ± " class="headerlink" title="è€ƒè™‘æ¢ç”µæ± "></a>è€ƒè™‘æ¢ç”µæ± </h2><ul><li>åŸå‚ç”µæ±  </li><li>ç§»æ¤ç”µèŠ¯</li><li>è¶…å®¹ç”µæ± </li></ul><p>â€œåŸå‚ç”µæ± â€ å¤ªæ˜‚è´µäº†ï¼Œä¸å¦‚è‡ªå·±æ‹†æ›¿æ¢ï¼Œå¤šçš„é’±ä¹°ğŸ¥©ğŸ–çº¢çƒ§åƒåƒã€‚å¦å¤–å’Œä¸¤ä¸ªæ–¹æ¡ˆå°±æ˜¯â€œç§»æ¤ç”µèŠ¯â€å’Œâ€œä¸‰æ–¹è¶…å®¹ç”µæ± â€ã€‚æ‰‹æœºæˆªæ­¢ä»Šå¤©ï¼ˆ2023.12.06ï¼‰ï¼Œæ°å¥½çº¦ä¸¤å¹´ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•çš„ç”µæ± éƒ½æ›¿æ¢è¿‡ã€‚é•¿æœŸä½¿ç”¨äº†ä¸€å¹´ï¼Œæ„Ÿè§‰å¯ä»¥æ¥è¯´ä¸‹ä½“éªŒ.</p><h3 id="â… -æ–¹æ¡ˆä¸€"><a href="#â… -æ–¹æ¡ˆä¸€" class="headerlink" title="â…  æ–¹æ¡ˆä¸€"></a>â…  æ–¹æ¡ˆä¸€</h3><p>å¼€å§‹æ¢äº†ç¬¬ä¸€å—ç§»æ¤ç”µèŠ¯çš„ç”µæ± ï¼ˆ2023.01ï¼‰ï¼Œæ­¤æ—¶è¿˜å¸‚é¢ä¸Šè¿˜æ²¡æœ‰è¶…å®¹ç”µæ± é‡äº§ã€‚å‰ªæ–­æ—§ç”µæ± çš„å¼€æ’çº¿ç‰ˆå¯„ç»™åº—å®¶ï¼Œå¸®ç”µç„Šåå†å¯„å›ï¼Œè‡ªå·±æ¢ã€‚ç”µæ± è´¹ç”¨ 120 &#x3D; ç”µèŠ¯ 70 + æ‰‹å·¥è´¹50ï¼Œå®Œç¾ã€‚åˆšæ›¿æ¢ä»¥åç¡®å®è¶…çº§èƒ½ç”¨ï¼Œä½“éªŒçˆ½æ­ªæ­ªã€‚å¼€å§‹æœ‰æ…¢æ…¢ä¸Šæ¶¨å›95%ï¼Œä»Šå¹´11æœˆåæ¥åˆæ‰åˆ°84%ï¼Œå°±åˆå‡†å¤‡ä¸€å—äº†ã€‚</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202312292031006.jpg" width="100%"/ loading="lazy"><p><strong>ä¼˜ç‚¹ï¼š</strong> â¶èƒ½æ˜¾ç¤ºç”µæ± å®¹é‡â·åŸè£…è‹¹æœæ’çº¿ç‰ˆï¼Œæ›´å®‰å…¨â¸ç†è®ºä¸Šå……ç”µç”µæµå¯¹ç”µèŠ¯çš„æœ€å®Œç¾â¹è¶…ä¾¿å®œä»·æ ¼</p><p><strong>ç¼ºç‚¹ï¼š</strong> â¶æ’çº¿ç‰ˆå·²æœ‰500å¤šæ¬¡ç”µæ± å¾ªç¯ï¼Œæ— æ³•æ¸…é›¶â·è‹¹æœçš„ä¿æŠ¤æœºåˆ¶ï¼Œå……ç”µæ¬¡æ•°è¶…è¿‡500&#x2F;1000æ¬¡ï¼Œä¼šæœ‰ä¼šæœ‰10%å®¹é‡å……ä¸äº†ï¼ŒåŸç”Ÿä¿ä¿®çš„ç”µèŠ¯ä¹Ÿä¸€æ ·ï¼Œå±æ— è§£ã€‚â¸æœ‰æ›¿æ¢æŠ€å·§ï¼Œç”µæ± å®¹é‡æ‰èƒ½æ…¢æ…¢ä¸Šæ¶¨â¹åŠ¨æ‰‹èƒ½åŠ›</p><br><h3 id="â…¡-æ–¹æ¡ˆäºŒ"><a href="#â…¡-æ–¹æ¡ˆäºŒ" class="headerlink" title="â…¡ æ–¹æ¡ˆäºŒ"></a>â…¡ æ–¹æ¡ˆäºŒ</h3><p>è¿™æ¬¡æ¢äº†ä¸€å—è¶…å®¹ç”µèŠ¯3480æ¯«å®‰ï¼Œæœ‰è¹²åˆ°å‰ä¸ä¹…çš„é‡äº§å‡ºæ¥äº†ï¼ˆ2023.11ï¼‰ã€‚ç”µæ± è´¹ç”¨220ï¼Œå·²ç»æ›¿æ¢ä¸Šä½¿ç”¨20å¤©ï¼Œè¿˜é¡ºä¾¿æ¸…äº†ç°ï¼›æ‹ç…§ç»™åº—å®¶å¾—è€å¸ˆå‚…ä¹Ÿè¯´æˆ‘æ•´çš„æŒºå¹²å‡€å¾—ğŸ‰ï¼›ç›®å‰ä½¿ç”¨å˜å˜çˆ½ï¼Œä¸‹ç­å›å®¶è¿˜æœ‰60-70%âš¡ã€‚åç»­ä½¿ç”¨å‡ ä¸ªæœˆåï¼Œæœ‰ç©ºå†æ¥æ›´æ–°ç»“æœ</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202312292015157.jpg" width="100%"/ loading="lazy"><p><strong>ä¼˜ç‚¹ï¼š</strong> â¶å¤§å®¹é‡100+%çš„ç”µæ± ï¼Œæ’çº¿ç‰ˆ0å¾ªç¯â·ä»·æ ¼ä¾¿å®œ</p><p><strong>ç¼ºç‚¹ï¼š</strong> â¶æœ‰å¼¹çª—ï¼Œçº¦15å¤©åæ°¸ä¹…æ¶ˆå¤±â·æ— æ³•æ˜¾ç¤ºç”µæ± å®¹é‡â¸è‡ªå·±åŠ¨æ‰‹</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>â€‹ä¸¤æ¬¡è‡ªå·±æ¢ç”µæ± éƒ½å¾ˆæ»¡æ„çš„ï¼Œå‡ä¸€æŠŠæ¢æˆåŠŸï¼ŒDIY çš„æ‹†å¼€æœºå¿«ä¹ã€‚</p><p>â€‹ç”µæ± è¿™å°±ä¸€ä¸ªæ¶ˆè€—å“ï¼Œéšå¿ƒæ‰€æ¬²çš„ç”¨ï¼Œè´­æœºè‡³ä»Šæœ‰ååˆ†ä¹‹äºŒçš„æ—¶é—´ä¼šç”¨åˆ°è‡ªåŠ¨å…³æœºï¼Œå†å……ç”µï¼ŒçœŸæ¯”è¾ƒä¼¤ç”µæ± ï¼Œä½†è¿™ç§æ—¶åˆ»ä¸è€ƒè™‘ä¿å…»ï¼Œç”¨èµ·æ¥ä¹Ÿæ˜¯çˆ½å¿«ğŸ‹ğŸƒã€‚ä¸€å¹´æ¢ä¸€å—ï¼Œä¹Ÿå˜å˜é¦™ã€‚</p><h2 id="å±é™©-Note"><a href="#å±é™©-Note" class="headerlink" title="å±é™© Note"></a>å±é™© Note</h2><p>å…ˆå†™è¿™ä¹ˆå¤šï¼Œä¸€äº›æ³¨æ„ç‚¹æ™šç‚¹æ›´æ–°</p><p>åŸå‚ç”µæ± ï¼Œ504æ¬¡å¾ªç¯å®¹é‡å°±åˆ° 86%ï¼Œ<del>ä¼¤ç”µæ± çš„ç”¨æ³•å·²ç»ç¤ºèŒƒè¿‡</del>ï¼›æ‹†æ—§ç”µæ± æ’çº¿ç‰ˆï¼Œä½¿ç”¨ç»ç¼˜çš„âœ‚ï¼Œä¸”ç”µæ± ç”¨å…‰å†æ‹†æœºï¼Œè‹¥å¦‚æˆ‘è¿™æ ·å¤§åŠ›æ°å¼¯ï¼Œ<del>å¿ƒæ€¥äº†ã€‚</del>ï¼Œæœ‰å¤§æ¦‚ç‡è§åˆ°çˆ†ç‚¸ğŸ§¨ï¼Œ<strong>æ³¨æ„å®‰å…¨ï¼›</strong></p><p> <img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202312292015011.png" width="40%"/ loading="lazy">  <img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/202312292015992.jpg" width="58%"/ loading="lazy"></p><br><h2 id="ç³»åˆ—åœ°å€"><a href="#ç³»åˆ—åœ°å€" class="headerlink" title="ç³»åˆ—åœ°å€"></a>ç³»åˆ—åœ°å€</h2><p><a href="https://github.com/XMuli/QtExamples">QtExamples</a> æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”<strong>æ°¸ä¹…å…è´¹</strong>ï¼â€</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Windows </category>
          
          <category> ç”Ÿæ´» - é—²æš‡çš„è¶£é—» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å·¥ç¨‹ç»éªŒ </tag>
            
            <tag> å¶ç„¶ä¹è¶£ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VS2022 And QtCreator10 è°ƒè¯• Qt æºç æ•™ç¨‹</title>
      <link href="/posts/80ecb9a8/"/>
      <url>/posts/80ecb9a8/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong> è®°å½•ä½¿ç”¨ Visual Studo 2022 å’Œ QtCreator10 è°ƒè¯• Qt 5.15 æºç å’Œ åŠ è½½ .pdb çš„æ–¹æ³•ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><blockquote><p><strong>æºç </strong>ï¼š*.h  *.cpp </p><p><strong>ç¬¦å·è°ƒè¯•åŒ…</strong>ï¼š*.pdb  (å± Windows ä¸“æœ‰)</p><p><strong>åŠ¨æ€é“¾æ¥åº“ï¼š</strong> *.dll</p><p><strong>é™æ€é“¾æ¥åº“ï¼š</strong> *.lib  (é€šå¸¸æ˜¯å‰è€…ï¼Œä¹Ÿå¯ä»¥æ˜¯ .dll çš„ç¬¦å·ä¿¡æ¯ï¼Œç¼–è¯‘æ—¶åˆ»ä½¿ç”¨)</p><p>your.exe å¯ä»¥è¿›è¡Œå•æ­¥è°ƒè¯•  &#x3D;&#x3D;  youræºç   +  your.pdb + your.dll + microsoft.pdb + microsoft.dll + è¿™äº›æ–‡ä»¶è·¯å¾„å…¨éƒ¨è®¾ç½®æ­£ç¡®</p></blockquote><br><h2 id="IDE-è°ƒè¯•-Qt-æºç "><a href="#IDE-è°ƒè¯•-Qt-æºç " class="headerlink" title="IDE è°ƒè¯• Qt æºç "></a>IDE è°ƒè¯• Qt æºç </h2><p>ä»¥ä¸‹ä¸¤ä¸ª IDE å‡ä½¿ç”¨ â€MSVC 2022 + Qt 5.15.2â€ æ¥ç¼–è¯‘é¡¹ç›®ä½œä¸ºç¤ºèŒƒï¼Œä¸”ç”Ÿæˆçš„ x86 çš„ Debug æ¨¡å¼çš„ your.exeã€‚</p><br><h3 id="Visual-Studio-2022"><a href="#Visual-Studio-2022" class="headerlink" title="Visual Studio 2022"></a>Visual Studio 2022</h3><ol><li><p>Visual Studio 2022  ä¾æ¬¡æ‰“å¼€ èœå•æ çš„ã€Toolsã€‘ã€Optionsã€‘ï¼Œè¿›å…¥ã€Debuggingã€‘ã€Symbolsã€‘æ·»åŠ  Qt çš„ç¬¦å·è°ƒè¯•åŒ…è·¯å¾„</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/20230701145622.png" width="80%"/ loading="lazy"></li><li><p>å³é”®æ‰“å¼€è§£å†³æ–¹æ¡ˆçš„å±æ€§ã€Solutionã€‘ã€Propertiesã€‘ï¼Œã€Debug Source Filesã€‘æ·»åŠ æºç è·¯å¾„</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/20230701143001.png" width="80%"/ loading="lazy"></li><li><p>ç¼–è¯‘å·¥ç¨‹ï¼Œæ¨¡å¼ä¸º Debugã€Win32ï¼Œè®¾ç½®æ–­ç‚¹ã€F9ã€‘åï¼Œå¼€å¯è¿è¡Œè°ƒè¯•ã€F5ã€‘ï¼Œå¡ä½æ–­ç‚¹ï¼Œå†æ€•ã€F11ã€‘ è¿›å…¥ä»»ä½•ä¸€ä¸ª Qt æºç çš„å‡½æ•°è°ƒè¯•ï¼Œ QWidget::show() å‡½æ•°ä¸ºä¾‹</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/5.gif" width="100%"/ loading="lazy"></li><li><p>è‹¥æ˜¯æ¯æ¬¡ ã€F9ã€‘è°ƒè¯•åŠ è½½å¾ˆæ…¢ï¼Œæ˜¯å› ä¸ºæ¯æ¬¡ä»å¾®è½¯æœåŠ¡å™¨æ‹‰å–è¿™äº›æ–‡ä»¶åˆ°æœ¬åœ°æ¯”è¾ƒè€—æ—¶ã€‚ä¹Ÿåœ¨æ­¥éª¤1ä¸­ï¼Œå’Œæˆ‘ä¸€æ ·å–æ¶ˆã€Microsoft Sysbol Serversã€‘å‰é¢çš„å‹¾ï¼Œè°ƒè¯•å¾ˆå¿«ä¸”é¡ºæ»‘ï¼Œä¸”ä¸å½±å“æ­£å¸¸çš„è½¯ä»¶è°ƒè¯•åŠŸèƒ½ã€‚</p></li></ol><br><h3 id="Qt-Creator-10-0-1"><a href="#Qt-Creator-10-0-1" class="headerlink" title="Qt Creator 10.0.1"></a>Qt Creator 10.0.1</h3><ol><li><p>Qt Creator  10.0.1 ä¾æ¬¡æ‰“å¼€ èœå•æ çš„ã€Editã€‘ã€Preferencesã€‘ï¼Œè¿›å…¥ã€Debuggerã€‘ã€Source Path Mappingã€‘ã€Add Qt sourcesâ€¦ã€‘æ·»åŠ  Qt çš„æºç è·¯å¾„ï¼Œæ­¤å¤„æ˜¯è°ƒè¯•éœ€è¦</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/20230701144948.png" width="80%"/ loading="lazy"></li><li><p>ã€Debuggerã€‘ã€CDB Pathsã€‘çš„ â€œSymbol Pathsâ€ ï¼Œâ€Source Pathsâ€ æ·»åŠ  MSVC çš„ç¬¦å·è°ƒè¯•åŒ…çš„è·¯å¾„å’Œæºç è·¯å¾„ã€‚</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/20230701153918.png" width="80%"/ loading="lazy"></li><li><p>ã€Enviromentã€‘ã€Locatorã€‘ã€Customã€‘æ·»åŠ  Qt çš„æºç è·¯å¾„å’Œè‡ªå®šä¹‰çš„æ–‡ä»¶è·¯å¾„ï¼Œä½œç”¨æ˜¯ä¾¿äºå¿«æ·é”®ç›´æ¥å®šä½å…·ä½“æ–‡ä»¶ã€‚æ³¨æ„æ­¤å¤„è·¯å¾„åˆ†éš”ç¬¦å·æ˜¯ <code>/</code></p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/20230701151711.png" width="80%"/ loading="lazy"><p>å¿«æ·é”®ã€Ctrl + Kã€‘å¿«é€Ÿå®šä½å·¦ä¸‹è§’ï¼Œç„¶åæœç´¢ Qt æºç çš„æ–‡ä»¶åä»¥åŠè‡ªå®šä¹‰é¡¹ç›®çš„æ–‡ä»¶åç§°ï¼Œè¿…é€Ÿåˆ‡æ¢ï¼Œä½“éªŒæä½³</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/6.gif" width="80%"/ loading="lazy"></li><li><p>ç¼–è¯‘å·¥ç¨‹ï¼Œæ¨¡å¼ä¸º Debugã€32bitï¼Œè®¾ç½®æ–­ç‚¹ã€F9ã€‘åï¼Œå¼€å¯è¿è¡Œè°ƒè¯•ã€F5ã€‘ï¼Œå¡ä½æ–­ç‚¹ï¼Œå†æ€•ã€F11ã€‘ è¿›å…¥ä»»ä½•ä¸€ä¸ª Qt æºç çš„å‡½æ•°è°ƒè¯•ï¼Œ QWidget::show() å‡½æ•°ä¸ºä¾‹</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2023/7.gif" width="80%"/ loading="lazy"></li></ol><br><h2 id="æ’æŸ¥æ€è·¯"><a href="#æ’æŸ¥æ€è·¯" class="headerlink" title="æ’æŸ¥æ€è·¯"></a>æ’æŸ¥æ€è·¯</h2><p>è‹¥ç”¨ VS2022 &#x2F; QtCreator 10.0.1 å•æ­¥è°ƒè¯• Qt æºç å¤±è´¥ï¼Œæ’æŸ¥åŸå› </p><ol><li>å®‰è£… Qt æ—¶å€™äº¦ä¸‹è½½äº† Qt æºç å’Œ ç¬¦å·è°ƒè¯•åŒ…</li><li>your.exe + your.dll ç”Ÿæˆåˆ°ä½ è®¾ç½®çš„é¢„æœŸçš„è·¯å¾„ï¼Œä¸”æ”¾åœ¨åŒä¸€çº§</li><li>å¦‚ Qt5Gui<font color=#FF0000>d</font> .dll (Debug æ¨¡å¼ä¸‹ dll åç§°å« d)</li><li>åŠ è½½äº† pdb (ç¡®å®šç‰ˆæœ¬æ²¡ä¸‹é”™)</li><li>è§£å†³æ–¹æ¡ˆåŠ è½½äº† srcæºç </li><li>åŠ è½½äº†ç¬¦å·è°ƒè¯•åŒ…è·¯å¾„</li><li>ç¼–è¯‘çš„ your.exe æ˜¯å¯¹åº” MSVCã€ x86 ä¸”æ˜¯ debug æ¨¡å¼</li><li>è‹¥æ˜¯ x64 æˆ–è€…å…¶å®ƒ Kit è°ƒè¯•åŸç†ç›¸åŒ</li></ol><br><h2 id="å§Šå¦¹ç¯‡"><a href="#å§Šå¦¹ç¯‡" class="headerlink" title="å§Šå¦¹ç¯‡"></a>å§Šå¦¹ç¯‡</h2><ul><li><a href="https://blog.csdn.net/qq_33154343/article/details/120339797">VS2017 è°ƒè¯• Qt æºç ï¼Œå®‰è£… PDB</a></li><li><a href="https://xmuli.blog.csdn.net/article/details/116244865">VS2019 è°ƒè¯• Qt5 æ—¶ QString æ˜¾ç¤ºä¸ºå†…å­˜åœ°å€è€Œéå­—ç¬¦ä¸²</a> </li><li><a href="https://blog.csdn.net/qq_33154343/article/details/131491715">VS2022 And QtCreator10è°ƒè¯•Qtæºç æ•™ç¨‹</a></li></ul><p>è‹¥æ˜¯ IDE è°ƒè¯•æ—¶å‘ç°æ²¡æœ‰ Qt çš„ç¬¦å·è°ƒè¯•åŒ…ï¼Œæ•™ç¨‹å¯å‚è€ƒå§Šå¦¹ç¯‡ä¸€ï¼›ä»¥åŠå­¦ä¼šå¦‚ä½•æŸ¥çœ‹ å¯¹åº”æ¨¡å—æ˜¯å¦åŠ è½½</p><br><h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><p><a href="https://github.com/XMuli/QtExamples">QtExamples</a> </p><p>æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”<strong>æ°¸ä¹…å…è´¹</strong>ï¼â€</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Windows </category>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> Visual Studio </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäº QT å¼€å‘çš„ FLIPPED ä¸€æ¬¾ç®€æ˜“ä¸”æ¼‚äº®çš„è·¨å¹³å°æˆªå›¾è½¯ä»¶</title>
      <link href="/posts/bc74ebe4/"/>
      <url>/posts/bc74ebe4/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong> æ–°å¼€å‘çš„ä¸€æ¬¾è·¨å¹³å°çš„æˆªå›¾è´´å›¾çš„è½¯ä»¶ä½œå“ï¼Œ <strong>FLIPPED</strong>ï¼šSimple and beautiful cross-platform screenshot softwareã€‚</p><br><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><iframe width="760" height="427" src="//player.bilibili.com/player.html?aid=352984575&bvid=BV1rX4y1D7EZ&cid=1037119662&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe><br><h2 id="FLIPPED"><a href="#FLIPPED" class="headerlink" title="FLIPPED"></a>FLIPPED</h2><div align="center">  <p>      <h1>      <a href="https://github.com/XMuli/Flipped">          <img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202303121608051.svg"  alt="FLIPPED" / loading="lazy">      </a>      <br/>      FLIPPED    </h1>    <br/>    <h4>Simple and beautiful cross-platform screenshot software.</h4>  </p></div><br><h2 id="ç›¸å…³æ–‡ç« "><a href="#ç›¸å…³æ–‡ç« " class="headerlink" title="ç›¸å…³æ–‡ç« "></a>ç›¸å…³æ–‡ç« </h2><ul><li><a href="https://blog.csdn.net/qq_33154343/article/details/135487951">åˆ†äº«å¦‚ä½•æ‹¥æœ‰ä¸€ä»½ç§äººçš„ã€å¼€æºä»£ç ç­¾åè¯ä¹¦ã€</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/136334975">Sunnyæˆªå›¾ä¸Šæ¶Microsoft StoreåŠLinuxå•†åº—æµç¨‹çš„æŒ‡åŒ—</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/136373241">å˜¿å˜¿ï¼å¼€å‘äº†ä¸€æ¬¾ Sunny æˆªå›¾ &amp; é’‰å›¾ï¼Œäº¦æ”¯æŒâ€œå±å¹•è¯†å›¾â€å’Œâ€œOCRâ€çš„è½¯ä»¶</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/130053230">åŸºäº QT å¼€å‘ FLIPPED ï¼šç®€æ˜“ä¸”æ¼‚äº®çš„è·¨å¹³å°æˆªå›¾è´´å›¾è½¯ä»¶</a></li><li>æ›´å¤šæ•™ç¨‹ â†’ <a href="https://github.com/XMuli/QtExamples">QtExamples</a></li></ul><br><h2 id="è¿è¡Œé¢„è§ˆ"><a href="#è¿è¡Œé¢„è§ˆ" class="headerlink" title="è¿è¡Œé¢„è§ˆ"></a>è¿è¡Œé¢„è§ˆ</h2><h3 id="è§†é¢‘æ¼”ç¤º"><a href="#è§†é¢‘æ¼”ç¤º" class="headerlink" title="è§†é¢‘æ¼”ç¤º"></a>è§†é¢‘æ¼”ç¤º</h3><ul><li>[P1] <a href="https://www.bilibili.com/video/BV1rX4y1D7EZ?p=1">FLIPPED-MACOS è¿è¡Œæ¼”ç¤º</a></li><li>[P2] <a href="https://www.bilibili.com/video/BV1rX4y1D7EZ?p=2">FLIPPED-WINDOWS è¿è¡Œæ¼”ç¤º</a></li><li>[P3] <a href="https://www.bilibili.com/video/BV1rX4y1D7EZ?p=3">FLIPPED-LINUX è¿è¡Œæ¼”ç¤º</a></li></ul><br><h3 id="æˆªå›¾æ¼”ç¤º"><a href="#æˆªå›¾æ¼”ç¤º" class="headerlink" title="æˆªå›¾æ¼”ç¤º"></a>æˆªå›¾æ¼”ç¤º</h3><p><strong>MACOS</strong></p><img src="C:\Users\XMuli\Desktop\202303121457071.jpg" width="100%"/ loading="lazy"><p><strong>WINDOWS</strong></p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202303121616530.jpg" width="100%"/ loading="lazy"><p><strong>LINUX</strong></p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202303121447431.jpg" width="100%"/ loading="lazy"><br><h2 id="ç‰¹æ€§"><a href="#ç‰¹æ€§" class="headerlink" title="ç‰¹æ€§"></a>ç‰¹æ€§</h2><ul><li>è´´å›¾ï¼ˆé’‰å›¾ï¼‰</li><li>å¤šå±æˆªå›¾ï¼Œå»¶æ—¶æˆªå›¾ï¼Œè‡ªå®šä¹‰æˆªå›¾</li><li>æ™ºèƒ½è¯†åˆ«çª—å£çŸ©å½¢ï¼ˆWindows &amp; Linuxï¼‰</li><li>çŸ©å½¢ã€æ¤­åœ†ã€ç®­å¤´ã€ç”»ç¬”ã€é©¬èµ›å…‹ã€æ–‡æœ¬ã€åºå·</li><li>æ’¤é”€ã€é‡åšï¼ˆå¤šçº§ï¼‰ã€ä¿å­˜ã€å–æ¶ˆã€æ‹·è´åˆ°å‰ªåˆ‡æ¿</li><li>æˆªå›¾æ¡†æ ·å¼ä¸‰å¥—ï¼Œä¸”ä¸»é¢˜è‰²æä¾›è‡ªå®šä¹‰ï¼›å±å¹•åå­—çº¿æ ·å¼è‡ªå®šä¹‰</li><li>å›½é™…åŒ–ï¼šè‹±æ–‡ã€ç®€ä½“ä¸­æ–‡ã€ç¹ä½“ä¸­æ–‡ï¼›å­—ä½“å’Œå­—å·è‡ªå®šä¹‰</li></ul><br><h2 id="å¿«æ·é”®"><a href="#å¿«æ·é”®" class="headerlink" title="å¿«æ·é”®"></a>å¿«æ·é”®</h2><table><thead><tr><th>æŒ‰é”®</th><th>æè¿°</th><th>æ¨¡å¼</th></tr></thead><tbody><tr><td><kbd>â†</kbd>, <kbd>â†“</kbd>, <kbd>â†‘</kbd>, <kbd>â†’</kbd> ( <kbd>A</kbd>, <kbd>S</kbd>, <kbd>W</kbd>, <kbd>D</kbd> )</td><td>ç§»åŠ¨é€‰ä¸­æ¡†ä½ç½® 1 åƒç´ </td><td>å±€éƒ¨</td></tr><tr><td><kbd>Ctrl</kbd> + <kbd>â†</kbd>, <kbd>â†“</kbd>, <kbd>â†‘</kbd>, <kbd>â†’</kbd></td><td>æ‰©å±•é€‰ä¸­æ¡†å°ºå¯¸ 1 åƒç´ </td><td>å±€éƒ¨</td></tr><tr><td><kbd>Alt</kbd> + <kbd>â†</kbd>, <kbd>â†“</kbd>, <kbd>â†‘</kbd>, <kbd>â†’</kbd></td><td>æ”¶ç¼©é€‰ä¸­æ¡†å°ºå¯¸ 1 åƒç´ </td><td>å±€éƒ¨</td></tr><tr><td><kbd>Shift</kbd> + <kbd>â†</kbd>, <kbd>â†“</kbd>, <kbd>â†‘</kbd>, <kbd>â†’</kbd></td><td>ç§»åŠ¨é€‰ä¸­æ¡†ä½ç½® 10 åƒç´ </td><td>å±€éƒ¨</td></tr><tr><td><kbd>Shift</kbd> + <kbd>Ctrl</kbd> + <kbd>â†</kbd>, <kbd>â†“</kbd>, <kbd>â†‘</kbd>, <kbd>â†’</kbd></td><td>æ‰©å±•é€‰ä¸­æ¡†å°ºå¯¸ 10 åƒç´ </td><td>å±€éƒ¨</td></tr><tr><td><kbd>Shift</kbd> + <kbd>Alt</kbd> + <kbd>â†</kbd>, <kbd>â†“</kbd>, <kbd>â†‘</kbd>, <kbd>â†’</kbd></td><td>æ”¶ç¼©é€‰ä¸­æ¡†å°ºå¯¸ 01 åƒç´ </td><td>å±€éƒ¨</td></tr><tr><td><kbd>Shift</kbd> + <kbd>F4</kbd></td><td>å¿«é€Ÿä¿å­˜æˆªå›¾</td><td>å±€éƒ¨</td></tr><tr><td><kbd>Esc</kbd></td><td>é€€å‡º</td><td>å±€éƒ¨</td></tr><tr><td></td><td></td><td></td></tr><tr><td><kbd>F6</kbd></td><td>çª—å£æ™ºèƒ½æˆªå›¾</td><td>å…¨å±€</td></tr><tr><td><kbd>F7</kbd></td><td>å»¶æ—¶æˆªå›¾</td><td>å…¨å±€</td></tr><tr><td><kbd>F8</kbd></td><td>å…¨å±æˆªå›¾</td><td>å…¨å±€</td></tr></tbody></table><br><h2 id="æ¶æ„æ€è·¯"><a href="#æ¶æ„æ€è·¯" class="headerlink" title="æ¶æ„æ€è·¯"></a>æ¶æ„æ€è·¯</h2><p>æŠ€æœ¯æ¶æ„å±åˆçœ‹è§‰ç€å¾ˆç®€å•ï¼Œè€—æ—¶å‡ å¤©å°±èƒ½å†™ä¸€ä¸ª Demo çº§çš„æˆªå›¾ï¼Œå¦‚å¾ˆæ—©å†™çš„ <a href="https://github.com/XMuli/ShotX">ShotX</a>ã€‚</p><p>ä½†åæ¥å¿ƒå¿ƒå¿µå¿µï¼Œå‡†å¤‡æ­£å¼å†™ä¸€ä¸ªå…·æœ‰é«˜çº§&#x2F;å•†ä¸šçš„è½¯ä»¶æ—¶å€™ï¼Œå°±å±äºæœ‰ç‚¹è§„æ¨¡ã€‚å…¶å±ç»†èŠ‚ç‚¹è¶…çº§å¤šï¼›</p><br><p><strong>æ€è·¯ï¼š</strong></p><ol><li>åˆ›å»ºä¸€ä¸ª QWidget çª—å£ï¼Œå»æ‰æ ‡é¢˜æ åï¼Œå…¨å±ä¸”ç½®é¡¶</li><li>æ•è·æ­¤åˆ»å¤šå±å¹•çŠ¶æ€ä¿å­˜ä¸º QPixampï¼Œç„¶åç»˜ç”»åœ¨ QWidget æœ€åº•å±‚</li><li>å†ç»˜ç”»ä¸€å±‚é€æ˜é»‘è‰²ä½œä¸ºé®ç½©</li><li>å°† QWidget æ”¾äºè™šæ‹Ÿæ¡Œé¢çš„å·¦ä¸Šè§’ï¼›åé¢æ³¨æ„ç›¸å¯¹åæ ‡å’Œç»å¯¹åæ ‡çš„è½¬æ¢</li><li>åˆ¤æ–­å½“å‰æ‰€å¤„æ¨¡å¼ï¼šWait &#x2F; Select &#x2F; Move &#x2F;  Draw &#x2F; Stretchï¼Œæ ‡è®°</li><li>æ ¹æ®æ¨¡å¼æ ‡è®°ï¼Œå¯¹é¼ æ ‡çš„  Press &#x2F; Move &#x2F; Release äº‹ä»¶è¿›è¡Œå¯¹åº”çš„æ“ä½œï¼›é‡ç‚¹æ˜¯é¼ æ ‡æ”¾ä¸‹å’Œæ¾å¼€æ—¶çš„ QPoint <ul><li>æ•è·æ¨¡å¼ï¼šæ™ºèƒ½çª—å£ &#x2F; å…¨å±æˆªå›¾ &#x2F; å»¶æ—¶æˆªå›¾ &#x2F; è‡ªå®šä¹‰æˆªå›¾ ç­‰</li><li>ç»˜ç”»æ¨¡å¼åˆ™ç»†åˆ†ï¼šä¸€çº§ç»˜ç”»æ å’ŒäºŒçº§ç»˜ç”»æ ï¼ˆæ„ˆåŠ ç²¾ç¡®çš„å‚æ•°ï¼‰</li><li>æ‹‰ä¼¸å¯ä¸ºï¼šæ‹‰ä¼¸å·²ç»˜å›¾å½¢ &#x2F; é€‰ä¸­æ¡† &#x2F; â€¦ ï¼Œæ“ä½œæ˜¯å¯è§åŒºåŸŸçš„ä»»æ„ä¸€ä¸ªå›¾æ¡ˆ</li><li>ç§»åŠ¨åŒä¸Šç±»ä¼¼</li></ul></li><li>é‡å¤è¿­ä»£æ­¥éª¤ 6ï¼Œè¿›è¡Œæ ‡æ³¨ç­‰åŠŸèƒ½</li><li>å¯¼å‡ºå›¾ç‰‡ä¿å­˜åˆ°æœ¬æœºè·¯å¾„ &#x2F; å‰ªåˆ‡æ¿ã€‚</li><li>äº¦å¯ç›´æ¥è´´å›¾ï¼ˆé’‰ä½ï¼‰åœ¨å±å¹•ä¸Šï¼Œç„¶åè¿›è¡Œç¼©æ”¾å’Œé€æ˜åº¦ç­‰æ“ä½œï¼Œä½œä¸ºå†™ä½œæ—¶çš„å‚ç…§ã€‚</li></ol><br><h2 id="ç»†èŠ‚æ‰“ç£¨"><a href="#ç»†èŠ‚æ‰“ç£¨" class="headerlink" title="ç»†èŠ‚æ‰“ç£¨"></a>ç»†èŠ‚æ‰“ç£¨</h2><p>å†™çš„æ—¶å€™ï¼Œä¿è¯å¼€å‘è¿‡ç¨‹çš„å¤šå¹³å°ç¼–è¯‘ï¼Œpush ä»£ç æ—¶è§¦å‘æ„å»º CI&#x2F;CDï¼Œ åŠç”Ÿæˆå¯¹åº”å¹³å°çš„åŒ…ä¾¿äºå®‰è£…ã€‚</p><p>æˆªå›¾çš„å·¥ä½œé‡ã€å°¤å…¶æ˜¯ç»†èŠ‚çš„å®ç°æ˜¯æŒºå¤šçš„ã€‚éœ€è¦èŠ±æ—¶é—´æ¥æ‰“ç£¨äº§å“å’Œä¼˜åŒ–ç»†èŠ‚ï¼Œè®©å®ƒæˆä¸ºç¾è§‚åˆå¥½ç”¨çš„ä¸€æ¬¾è½¯ä»¶ï¼Œå†é€ ä¸€ä¸ªæä½³çš„è½®å­ã€‚</p><p>ç»çŸ¥æ­¤äº‹è¦èº¬è¡Œï¼›åˆ—ä¸¾å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°çš„å…·ä½“å›°å¢ƒï¼Œä»¥ä¾›åæ¥è€…å‚è€ƒã€‚</p><br><h3 id="å®é™…é—®é¢˜"><a href="#å®é™…é—®é¢˜" class="headerlink" title="å®é™…é—®é¢˜"></a>å®é™…é—®é¢˜</h3><ol><li>FLIPPED å¼€å‘åœ¨ä¸åŒç³»ç»Ÿä¸Šã€ä½¿ç”¨ä¸åŒçš„ Kit Tools ä¸Šé¢å‡ä¸ä¼šä¹±ç ï¼Ÿ</li><li>é¡¹ç›®ä½¿ç”¨ç¬¬ä¸‰æ–¹å¼€æºåº“æ—¶ï¼Œé€‰æ‹© <code>git submodule</code> è¿˜ <code>git treemodule</code> å‘½ä»¤å‘¢ï¼Ÿ</li><li>é€‰ç”¨ä½•ç§ LOG ä¼šæ€§èƒ½å’Œæˆæœ¬æœ€ä½³ï¼Ÿä¾¿äºåé¢å®šä½å’Œåˆ†æ</li><li>CMake ç®¡ç†è·¨å¹³å°é¡¹ç›®ï¼Œç”Ÿå„å¹³å°çš„ IDE çš„è§£å†³æ–¹æ¡ˆ</li><li>Window ä¸Šè‡ªå¸¦ä¸€äº›åŸºç¡€å®çš„æ•°æ®ç±»å‹å«ä¹‰ï¼Ÿ</li><li>é¡¹ç›®è¿è¡Œç›´æ¥æ˜¾ç¤ºåï¼ŒæŒ‰é”®ç›˜æ— å“åº”çš„å®šä½å’Œè§£å†³ã€‚</li><li>Qt æ§ä»¶æ˜¾ç¤ºçš„æ–¹å— â– â—† ä¹±ç ï¼Ÿ</li><li>Linux å¦‚ä½•æ„å»ºæ‰“åŒ…ä¸º .deb æ–‡ä»¶ï¼Ÿ</li><li>Window å¦‚ä½•æ„å»ºä¸€ä»¶å®‰è£…çš„ .exe? ä¹¦å†™æ„å»ºçš„è„šæœ¬ï¼Ÿ</li><li>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“ æ›´å¤šè¿›é˜¶ç»†èŠ‚é—®é¢˜â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-</li><li>å¦‚ä½•å®ç°ä¸€ä¸ªå®Œç¾çš„æ— è¾¹æ¡†çª—å£ï¼ˆè·¨å¹³å°ï¼‰ï¼Ÿ</li><li>å¦‚ä½•å®ç°ä¸€ä¸ªå®Œç¾çš„é€æ˜ç£¨ç ‚æ•ˆæœï¼ˆè·¨å¹³å°ï¼‰ï¼Ÿ</li><li>Windows å’Œ Linux æ”¯æŒä¸€æ¬¡æˆªå¤šä¸ªå±å¹•ï¼ŒMacOS æ²¡æœ‰å¯¹åº”æ¥å£ï¼Œå¦‚ä½•å®ç°å‘¢ï¼Ÿ</li><li>å¦‚ä½•ä¹¦å†™ .yml çš„è„šæœ¬ï¼Œæ„å»ºç§äººçš„ CI&#x2F;CD å‘¢ï¼Ÿ</li><li>Window &#x2F; Linux &#x2F; MacOS ä¸‹å¦‚ä½•è·å–æ‰€æœ‰çª—å£çš„ä½ç½®å’Œå°ºå¯¸ï¼Œä»¥åŠå…¶å®ƒæ›´å¤šä¿¡æ¯å‘¢ï¼Ÿ</li><li>å¦‚ä½•å®ç°å›½é™…åŒ– I18Nï¼Ÿå°¤å…¶æ˜¯æœªä½¿ç”¨ Qt Designer  åˆ›å»º .ui æ–‡ä»¶ï¼Œé‡åˆ°æ—  <code>ui-&gt;retranslateUi(this)</code> å‡½æ•°ï¼Ÿ</li><li>å¦‚ä½•è§£å†³å¿«æ·é”® å’Œ Action è°ƒç”¨ä¸åŒæˆªå›¾ï¼Ÿ</li><li>å¦‚ä½•ç¡®ä¿ MacOS ä¸Šçš„æ•ˆæœå’Œ Windowä¸Šé¢ä¿æŒå¤–è§‚çš„ä¸€è‡´ï¼Ÿ</li><li>å¦‚ä½•è§£å†³ä½¿ç”¨ ESC å–æ¶ˆæˆªå›¾åçš„å†…å­˜æ³„éœ²é—®é¢˜ï¼ŸQPointer ã€æ™ºèƒ½æŒ‡é’ˆã€è¿˜æ˜¯å•ä¾‹ï¼Ÿ</li><li>å¯¹äºä½¿ç”¨å•ä¾‹æ¨¡å¼ä¸æ­¢ä¸€å¤„æ—¶ï¼Œå¯é‡‡ç”¨å¥‡å¼‚ç„å¹»æ¨¡æ¿ï¼Ÿ</li><li>ä»£ç å¦‚ä½•æ›´å¥½çš„è§£è€¦å’Œæ˜¯é€‚å½“ä½ç½®ï¼Œé‡‡ç”¨é€‚å½“çš„è®¾è®¡æ¨¡å¼ï¼Ÿ</li><li>å¦‚ä½•ç»˜åˆ¶è‡ªå·±çš„ç‹¬æœ‰çš„æ§ä»¶ï¼Ÿ</li><li>å¦‚ä½•è¿­ä»£ä¸­è¿›è¡Œé‡æ„å’Œå°è£…ï¼Ÿæ¯æ¬¡éƒ½å› ä¸ºä»€ä¹ˆï¼Ÿ</li><li>â€¦</li></ol><br><h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><ul><li><p>ã€è§£å†³ã€ <a href="https://blog.csdn.net/qq_33154343">æ„¿ç¼–ç¨‹ä¸å†ä¹±ç (å«Qt)-æ ¹å› æ·±ç©¶</a></p></li><li><p>ã€è§£å†³ã€ <a href="https://blog.csdn.net/qq_33154343/article/details/123453541">Git Submodule åŸºæœ¬ç”¨æ³•</a></p></li><li><p>ã€è§£å†³ã€ä» LOG åˆ†æè°ƒç ”ï¼Œé‡‡ç”¨ Spdlog &#x2F; QDebugï¼Œä»¥åŠå¯¹æ­¤ä¸¤å¥—çš„å®å°è£…</p><ul><li><a href="https://blog.csdn.net/qq_33154343/article/details/123457938">Logï¼šæ—¥å¿—é€‰å‹è°ƒç ”ã€ä¸€ã€</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/123488323">Logï¼šæ—¥å¿—ä¹‹ Spdlog æç®€ç”¨æ³•ç¤ºèŒƒã€äºŒã€</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/123489094">Logï¼šæ—¥å¿—ä¹‹ Spdlog æ ¸å¿ƒæ„æˆã€ä¸‰ã€</a></li></ul></li><li><p>ã€è§£å†³ã€æœ‰å¾ˆå¤šï¼ŒåæŠ½ç©ºæ•´ç†æ›´å¤š</p><ol><li><a href="https://blog.csdn.net/qq_33154343/article/details/125932219">CMake è®¾ç½® Target è¾“å‡ºç›®å½•å’Œåç¼€å</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/125928773">CMake ä¹‹ BUILD_SHARED_LIBS å’Œ CMAKE_BUILD_TYPE ç”¨æ³•æ•™ç¨‹</a></li></ol></li><li><p>ã€è§£å†³ã€ <a href="https://blog.csdn.net/qq_33154343/article/details/125775718">LPSTR&#x2F;LPCSTR&#x2F;LPTSTR&#x2F;HWND&#x2F;HANDLE&#x2F;HMODULE&#x2F;HINSTANCE ç­‰å«ä¹‰å’ŒåŒºåˆ«</a></p></li><li><p>ã€è§£å†³ã€ å‚è€ƒ</p><ul><li><a href="https://blog.csdn.net/qq_33154343/article/details/124639169">Qt æ–°å¼¹çª—ä¸å“åº”é”®ç›˜æŒ‰é”®ï¼Œéš¾é“ä¹Ÿæ˜¯æ— ç„¦ç‚¹ï¼Ÿ</a> </li><li><a href="https://blog.csdn.net/qq_33154343/article/details/125879693">Windows ç¼–ç¨‹ä¹‹ WINUSERAPI å’Œ WINAPI åŒºåˆ«</a></li></ul></li><li><p>ã€è§£å†³ã€è¿˜æ˜¯ Qt Assistant è§£å›´ç²—å¿ƒï¼Œ <a href="https://blog.csdn.net/qq_33154343/article/details/125775732">åˆ›å»º QKeySequenceEdit() åï¼Œæ˜¾ç¤ºæ–¹å—â– â—†ä¹±ç </a></p></li><li><p>ã€è§£å†³ã€ <a href="https://blog.csdn.net/qq_33154343/article/details/123778207">Linux ä¸­ç”¨ dh_make å°† Qt + CMake é¡¹ç›®æ‰“åŒ…ä¸º deb æ–‡ä»¶</a></p></li><li><p>ã€è§£å†³ã€æ„å»ºçš„è‡ªåŠ¨æ‰“åŒ…</p> <img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202303130023285.png" width="70%"/ loading="lazy"></li><li><p>ã€è§£å†³ã€æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚</p></li></ul><br><h2 id="ç¼–è¯‘"><a href="#ç¼–è¯‘" class="headerlink" title="ç¼–è¯‘"></a>ç¼–è¯‘</h2><h3 id="ä¾èµ–"><a href="#ä¾èµ–" class="headerlink" title="ä¾èµ–"></a>ä¾èµ–</h3><ul><li><p>Qt &gt;&#x3D; 5.15.2</p></li><li><p>CMake &gt;&#x3D; 3.16</p></li><li><p>MSVC &gt;&#x3D; 2019 | MinGW &gt;&#x3D;  8.1.0 | GCC &gt;&#x3D; 9.4 | Clang &gt;&#x3D; 12.0</p><p>  å¤‡æ³¨: è¿™æ˜¯å·²ç»æˆåŠŸç¼–è¯‘çš„ä¸€äº›ç‰ˆæœ¬ï¼Œåœ¨æ›´ä½çš„ç‰ˆæœ¬æœªç»è¿‡æµ‹è¯•ã€‚</p></li></ul><br><h3 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h3><ul><li><p><strong>å·¥å…·é“¾:</strong> Windows 10 &amp; Qt 5.15.2 &amp; CMake 3.24.1 &amp; MSVC 2019 ( or MinGW 8.1.0)</p></li><li><p><strong>ç¼–è¯‘æ­¥éª¤:</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ******************** MSVC 2019 ********************</span><span class="token comment">#ã€Step1ã€</span><span class="token comment"># x86:</span><span class="token comment"># æ·»åŠ  "C:\Qt\5.15.2\msvc2019\bin" åˆ° path åï¼Œç»ˆç«¯æ‰§è¡Œ echo %PATH% ä½¿å…¶ç«‹å³ç”Ÿæ•ˆ</span><span class="token string">"C:\Program Files (x86)\Microsoft Visual Studio<span class="token entity" title="\201">\201</span>9\Professional\VC\Auxiliary\Build<span class="token entity" title="\v">\v</span>cvarsall.bat"</span> x86cmake <span class="token parameter variable">-G</span> <span class="token string">"Visual Studio 16 2019"</span> <span class="token parameter variable">-A</span> Win32 <span class="token punctuation">..</span>devenv Flipped.sln /Build <span class="token string">"Release|Win32"</span><span class="token comment"># x64:</span><span class="token comment"># æ·»åŠ  "C:\Qt\5.15.2\msvc2019_64\bin" åˆ° path åï¼Œç»ˆç«¯æ‰§è¡Œ echo %PATH% ä½¿å…¶ç«‹å³ç”Ÿæ•ˆ</span><span class="token string">"C:\Program Files (x86)\Microsoft Visual Studio<span class="token entity" title="\201">\201</span>9\Professional\VC\Auxiliary\Build<span class="token entity" title="\v">\v</span>cvarsall.bat"</span> x64cmake <span class="token parameter variable">-G</span> <span class="token string">"Visual Studio 16 2019"</span> <span class="token parameter variable">-A</span> x64 <span class="token punctuation">..</span>devenv Flipped.sln /Build <span class="token string">"Release|x64"</span><span class="token comment">#ã€Step2ã€</span>Visual Studio <span class="token number">2019</span> <span class="token function">open</span> <span class="token variable"><span class="token variable">`</span>Flipped.sln<span class="token variable">`</span></span><span class="token comment">#ã€Step3ã€</span>windeployqt  bin/Flipped.exe --no-translations<span class="token comment"># ******************** MinGW 8.1.0 ********************</span>QtCreator opens the <span class="token variable"><span class="token variable">`</span>CMakeLists.txt<span class="token variable">`</span></span> <span class="token function">file</span> <span class="token keyword">in</span> the root directory of the <span class="token builtin class-name">source</span> code<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><br><h3 id="MacOS-x2F-Linux"><a href="#MacOS-x2F-Linux" class="headerlink" title="MacOS &#x2F; Linux"></a>MacOS &#x2F; Linux</h3><ul><li><p><strong>å·¥å…·é“¾:</strong> </p><ul><li><strong>MacOS:</strong> MacOS 10.15 &amp; Qt 5.15.2 &amp; CMake 3.24 &amp; Clang 12.0</li><li><strong>Linux:</strong> Ubuntu 20.04 &amp; Qt 5.15.2 &amp; CMake 3.24 &amp; GCC 9.4</li></ul></li><li><p><strong>ç¼–è¯‘æ­¥éª¤:</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> clone <span class="token parameter variable">--recursive</span> https://github.com/XMuli/Flipped.git<span class="token builtin class-name">cd</span> Flipped<span class="token function">mkdir</span> build <span class="token operator">&amp;</span> <span class="token builtin class-name">cd</span> buildcmake <span class="token punctuation">..</span><span class="token function">make</span> <span class="token parameter variable">-j16</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><br><h2 id="è¿è¡Œæ•ˆæœ"><a href="#è¿è¡Œæ•ˆæœ" class="headerlink" title="è¿è¡Œæ•ˆæœ"></a>è¿è¡Œæ•ˆæœ</h2><p>æ„å»ºå„ä¸ªå¹³å°åçš„åŒ…ï¼Œé™„ä¸Šå¦å¤–ä¸€äº›å®é™…è¿è¡Œå›¾ã€‚<strong>Other</strong> æ›´å¤šæˆªå›¾æ•ˆæœå¯ â†’ åœ¨æ­¤é¢„è§ˆ</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202303121524707.jpg" width="100%"/ loading="lazy"><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202303121441470.jpg" width="100%"/ loading="lazy"><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202303121623966.png" width="100%"/ loading="lazy"><br><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202303121524281.jpg" width="100%"/ loading="lazy"><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202303121447407.jpg" width="100%"/ loading="lazy"><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202303121621557.png" width="100%"/ loading="lazy"><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202303121621671.png" width="100%"/ loading="lazy"><p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202304081932040.png" width="50%"/ loading="lazy"><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202304082010242.png" width="50%"/ loading="lazy"></p><p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202304081931040.png" width="50%"/ loading="lazy"><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202304082010530.png" width="50%"/ loading="lazy"></p><p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202304081930048.png" width="50%"/ loading="lazy"><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202304081932046.png" width="50%"/ loading="lazy"></p><p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202303121515818.jpg" width="30%"/ loading="lazy"> <img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202303121522838.jpg" width="30%"/ loading="lazy"></p><br><h2 id="ä½œè€…"><a href="#ä½œè€…" class="headerlink" title="ä½œè€…"></a>ä½œè€…</h2><table><thead><tr><th><a href="https://github.com/XMuli"><img src="https://img.shields.io/badge/GitHub-XMuli-brightgreen" alt="alt text" loading="lazy"></a> : æˆ‘çš„ä¸»é¡µ</th><th><a href="https://xmuli.tech/"><img src="https://img.shields.io/badge/Blog-%E5%81%95%E8%87%A7%E7%9A%84%E5%B0%8F%E7%AB%99-ff69b4" alt="alt text" loading="lazy"></a> : å¥½å¥‡æˆ‘çš„å°çª</th></tr></thead><tbody><tr><td><a href="https://sighttp.qq.com/authd?IDKEY=31f3ef7312b39e2c8dc822ae2f4c3b3118e1a6f31cc83373"><img src="https://img.shields.io/badge/QQ-XMuli-brightgreen" alt="alt text" loading="lazy"></a> : ç›´æ¥å’Œæˆ‘èŠå¤©~</td><td><a href="https://blog.csdn.net/qq_33154343"><img src="https://img.shields.io/badge/Blog-%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F-ff69b4" alt="alt text" loading="lazy"></a> ï¼šæµè§ˆé‡ 100W+</td></tr></tbody></table><br><h2 id="è´¡çŒ®è€…"><a href="#è´¡çŒ®è€…" class="headerlink" title="è´¡çŒ®è€…"></a>è´¡çŒ®è€…</h2><p>è‹¥æ˜¯å¸®åŠ©åˆ°äº†ä½ ï¼Œæˆ–è€…è§‰å¾—æœ‰ç”¨ï¼Œ<font color=#FE7207  size=4 face="å¹¼åœ†">å¯ä»¥ç‚¹å‡»è¯¥é¡¹ç›®çš„çš„ <font color=#D0087E size=4 face="å¹¼åœ†"><strong>â­Star</strong> </font>å’Œ<font color=#D0087E size=4 face="å¹¼åœ†"><strong>ğŸ´ Fork</strong></font> çš„ä¸¤ä¸ªå›¾æ ‡ï¼Œæ–¹ä¾¿æŠ¬æ‰‹ä¹‹é—´ï¼Œè¡¨ç¤ºç‚¹ä¸ªèµï¼Œæ‰‹æœ‰ä½™é¦™ï¼Œ</font>å…¶æ¬¡æ‰æ˜¯ä¸€ä»½å†°çš„è‚¥å®…å¿«ä¹æ°´ã€‚ â†’ <a href="https://github.com/XMuli/FlippedPackage">project â†’  flipped</a></p><br><details>    <summary> <b>å½“ç„¶ä¹Ÿå¯ä»¥èµ ä¸ä¸€æ¯å†°é˜”è½[æèµ /æ‰“èµ  â† ç‚¹å‡»å±•å¼€äºŒç»´ç ]</b></summary>  <p> - è‹¥æ˜¯æ­¤é¡¹ç›®å¸®åŠ©åˆ°äº†ä½ ï¼Œæˆ–è€…è§‰å¾—æœ‰ç”¨ï¼Œæˆ–æ˜¯æƒ³å¸®åŠ©æ­¤é¡¹ç›®çš„å‘å±•ï¼Œä½ ä¹Ÿèƒ½å¤Ÿé‚€è¯·æˆ‘å–ä¸€æ¯æ¯è‚¥ä»”å¿«ä¹æ°´ã€‚ - </p>  <pre><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202302282339037.png" width="80%"/ loading="lazy"></pre></details><br><h2 id="åé¦ˆ-amp-è´¡çŒ®"><a href="#åé¦ˆ-amp-è´¡çŒ®" class="headerlink" title="åé¦ˆ &amp; è´¡çŒ®"></a>åé¦ˆ &amp; è´¡çŒ®</h2><p>éå¸¸æ¬¢è¿ä½ çš„åŠ å…¥ï¼å¯¹äºæ­¤è½¯ä»¶æœ‰ä»»ä½•ç¼ºé™·ã€å»ºè®®ã€åŠŸèƒ½æƒ³æ³•ã€éƒ½å¯ <a href="https://github.com/XMuli/FlippedPackage/issues">æä¸€ä¸ª Issue</a> ï¼›æˆ–è€…å¸®åŠ©æ­¤é¡¹ç›®çš„å®Œå–„ï¼Œæäº¤ä¸€ä¸ª Pull Requestã€‚è¯·éµå¾ª <a href="http://contributor-covenant.org/version/1/3/0/">Contributor Covenant</a> è¡Œä¸ºè§„èŒƒã€‚</p><br><h2 id="ä¸‹è½½å®‰è£…åŒ…"><a href="#ä¸‹è½½å®‰è£…åŒ…" class="headerlink" title="ä¸‹è½½å®‰è£…åŒ…"></a>ä¸‹è½½å®‰è£…åŒ…</h2><p>â†’ <font color=#D0087E face="å¹¼åœ†"> **ç¦»çº¿å®‰è£…åŒ…ä¸‹è½½ <a href="https://github.com/XMuli/FlippedPackage/releases">Releases</a> ** </font></p><p>â†’ <font color=#D0087E face="å¹¼åœ†"> <strong>åé¦ˆ BUG&#x2F;SUGGESTï¼Œç”¨æˆ·ç¤¾åŒºç­‰ï¼Œå’Œæœ€æ–°ç‰ˆæœ¬å®‰è£…åŒ…è·å–ï¼Œåœ¨QQç¾¤:<a href="https://qm.qq.com/cgi-bin/qm/qr?k=jsD03QzMohGZm0TqYAFh3BvKOpCGlTcT&jump_from=webapi&authKey=DMUwiCQ6ta95PoH8JmtZ+Jz9y7Ozg3yinEsxmm92rNXZRVeMPD7NRgjU+dmUI8Xu">418103279</a></strong> </font></p><br><h2 id="ç³»åˆ—åœ°å€"><a href="#ç³»åˆ—åœ°å€" class="headerlink" title="ç³»åˆ—åœ°å€"></a>ç³»åˆ—åœ°å€</h2><p><a href="https://github.com/XMuli/QtExamples">QtExamples</a>     æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•</p><p><a href="https://github.com/XMuli/ExCMake">ExCMake</a>           æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´è¿™ä¸ªç³»åˆ—çš„ <code>CMake</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•</p>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
          <category> å­¦ä¹  - C/C++ åºä¸‰ å•†ä¸š </category>
          
          <category> ä¸“æ  - é¡¹ç›®å®æˆ˜å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> é¡¹ç›®ä½œå“é›†åˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å°ç±³è·¯ç”±å™¨ R4A åˆ·åŸç”Ÿ OpenWrt åçš„é£æ™¯</title>
      <link href="/posts/880ce1ac/"/>
      <url>/posts/880ce1ac/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong> ç»§ä¸Šç¯‡ <a href="https://blog.csdn.net/qq_33154343/article/details/128268719">å°ç±³AX6Såˆ·OpenWrtå’Œå¼€å¯OpenClash</a> åï¼Œæ‰‹ç—’éš¾è€ï¼Œå†³å®šæŠŠå°ç±³è·¯ç”±å™¨4Aåƒå…†ç‰ˆ(R4A)è·¯ç”±å™¨ ç»™åˆ·ä¸ªåŸç”Ÿçš„ <code>OpenWrt</code>ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><blockquote><p>miwifi_r4a_firmware_72d65_2.28.62.bin    [å®˜æ–¹] å¯åˆ·æœºå›ºä»¶ï¼Œå¯å¼€å¯ telnet </p><p>openwrt-22.03.2-ramips-mt7621-xiaomi_mi-router-4a-gigabit-squashfs-sysupgrade.bin </p><p>openwrt-22.03.2-ramips-mt7621-xiaomi_mi-router-4a-gigabit-initramfs-kernel.bin</p></blockquote><p>squashfs-sysupgrade.bin æ˜¯æˆ‘ä»¬è¦åˆ·çš„ç‰ˆæœ¬ï¼Œinitramfs-kernel.bin æ˜¯ç±»ä¼¼äºé‡å¯åå°±ä¼šé•œåƒè¿˜åŸçš„ç‰ˆæœ¬ï¼›</p><p>é€šè¿‡ <a href="https://downloads.openwrt.org/releases/22.03.2/targets/ramips/mt7621/">openwrt.org</a> åˆ·å®˜æ–¹åŸç”Ÿ æœ€æ–°çš„ openwrt-22.03 å›ºä»¶ï¼›<a href="https://github.com/acecilia/OpenWRTInvasion">OpenWRTInvasion</a>  åˆ™åˆ©ç”¨æ¼æ´è¿›å…¥å°ç±³è·¯ç”±å™¨</p><br><p>ğŸ’»  <code>win10 22H2</code> ğŸ“  <code>å°ç±³è·¯ç”±å™¨4Aåƒå…†ç‰ˆ(R4A) </code> ğŸ“ <code>è™šæ‹Ÿæœºçš„ Ubuntu 20.04</code></p><br><h2 id="åˆ·æˆåŸç”Ÿ-OpenWrt"><a href="#åˆ·æˆåŸç”Ÿ-OpenWrt" class="headerlink" title="åˆ·æˆåŸç”Ÿ OpenWrt"></a>åˆ·æˆåŸç”Ÿ OpenWrt</h2><ol><li><p>å…ˆåˆ·ä¸º <code>2.28.62</code> ç‰ˆæœ¬ï¼›æ­¤ä¸ºç»è¿‡éªŒè¯å¯ä»¥åˆ·æœºçš„ç‰ˆæœ¬</p></li><li><p>é“¾æ¥è·¯ç”±å™¨ï¼Œæ‰“å¼€ <code>192.168.31.1</code> ç™»é™†åï¼Œæ‹·è´å‡ºé“¾æ¥çš„ stok æ•°ï¼Œæ­¤æ—¶æ ‡ç­¾é¡µä¸å…³é—­</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202301021624889.png" width="100%"/ loading="lazy"></li><li><p>ä¸»æœº Win10 è¿æ¥è·¯ç”±å™¨ Wifi åï¼Œè™šæ‹Ÿæœºçš„ Ubuntu 20.04 ç½‘ç»œè®¾ç½®ä¸ºæ¡¥æ¥ï¼Œ<code>ifconfig</code> ç¡®ä¿å¤„äºåŒä¸€ç½‘æ®µï¼›</p></li><li><p>è¿›å…¥ OpenWRTInvasion æ–‡ä»¶å¤¹ï¼›ä½œç”¨ä¸ºå¼€å¯ telnet</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pip3 <span class="token function">install</span> <span class="token parameter variable">-r</span> requirements.txtpython3 remote_command_execution_vulnerability.py<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ˜¾ç¤º <code>â€œdone! Now you can connect to the router using several options: (user: root, password: root)â€</code> å±æˆåŠŸï¼Œæ‰å¯è¿›è¡Œä¸‹ä¸€æ­¥</p></li><li><p>å›ºä»¶å¯é€šè¿‡æå‰ä¸Šä¼ åˆ° <code>/tmp</code> ä¸‹ï¼Œä¾æ¬¡æ“ä½œååˆ·æœºåˆ™æˆåŠŸ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">telnet <span class="token number">192.168</span>.31.1    ï¼ˆuser: root, password: rootï¼‰<span class="token builtin class-name">cd</span> /tmpmtd <span class="token parameter variable">-e</span> OS1 <span class="token parameter variable">-r</span> <span class="token function">write</span> openwrt-22.03.2-ramips-mt7621-xiaomi_mi-router-4a-gigabit-initramfs-kernel.bin OS1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>åˆšåˆ·å¥½æ²¡æœ‰ WIFI çš„ï¼Œé»˜è®¤ IP 192.168.1.1ï¼Œ è´¦å· rootï¼Œå¯†ç æ— ï¼›ç½‘çº¿å¯è¿›åå°ã€‚</p></li><li><p>ä¹Ÿå¯ä»¥å…ˆåˆ· initramfs-kernel.bin åï¼›</p></li></ol><br><p><strong>æ³¨ï¼š</strong></p><ul><li><p><strong>æ‰“å¼€ <code>192.168.31.1</code> çš„æ ‡ç­¾é¡µä¹Ÿä½¿ç”¨è™šæ‹Ÿæœº ubuntu çš„æµè§ˆå™¨æ‰“å¼€</strong>è·å– stok æ•°ï¼›ä¹‹å‰ Win10 æµè§ˆå™¨æ‰“å¼€ï¼Œæ‰§è¡Œå‘½ä»¤ï¼Œæ€»æç¤º <code>Warning: the process has finished, but seems like ssh connection to the router is not working as expected.</code>ï¼›å±¡æ¬¡  telnet è¿›ä¸å»ï¼›æµªè´¹å…‰é˜´</p></li><li><p>OpenWRTInvasionï¼Œè¯¥è„šæœ¬åªèƒ½è¿è¡Œåœ¨ Linuxã€Mac ä¸Š</p></li><li><p>éœ€è¦å…ˆåˆ·ä¸ºæ”¯æŒçš„ç‰ˆæœ¬ï¼Œå¦‚ <code>2.28.62</code></p></li></ul><br><h2 id="åŸç”Ÿ-OpenWrt-åŸºç¡€æ“ä½œ"><a href="#åŸç”Ÿ-OpenWrt-åŸºç¡€æ“ä½œ" class="headerlink" title="åŸç”Ÿ OpenWrt åŸºç¡€æ“ä½œ"></a>åŸç”Ÿ OpenWrt åŸºç¡€æ“ä½œ</h2><h3 id="å¼€å¯-WiFi"><a href="#å¼€å¯-WiFi" class="headerlink" title="å¼€å¯ WiFi"></a>å¼€å¯ WiFi</h3><p>åŸç”Ÿé»˜è®¤æ²¡å¼€å¯ WiFiï¼›è¿˜ä»¥ä¸ºæ²¡æˆåŠŸï¼Œæ°ªï¼</p><p>WIFIæœ€å¥½é€šè¿‡å›¾å½¢ç•Œé¢ï¼ˆLuCIï¼‰å¼€å¯ï¼Œç›¸å…³è®¾ç½®åœ¨ Networkï¼ˆç½‘ç»œï¼‰&gt; Wirelessï¼ˆæ— çº¿ï¼‰é‡Œå¤´ã€‚</p><p>é€‰æ‹©å¯ç”¨ä¹‹åï¼Œè®°å¾—è¿›å…¥ Editï¼ˆç¼–è¾‘ï¼‰&gt; Interface Configurationï¼ˆæ¥å£é…ç½®ï¼‰&gt; Wireless Securityï¼ˆæ— çº¿å®‰å…¨ï¼‰æ¥è®¾ç½®å¯†ç ã€‚</p><p>WIFIååœ¨ Interface Configurationï¼ˆæ¥å£é…ç½®ï¼‰&gt; General Setupï¼ˆå¸¸è§„è®¾ç½®ï¼‰&gt; ESSID ä¿®æ”¹ã€‚</p><br><h3 id="opkg-æ¢æº"><a href="#opkg-æ¢æº" class="headerlink" title="opkg æ¢æº"></a>opkg æ¢æº</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">'s/downloads.openwrt.org/mirrors.ustc.edu.cn\/openwrt/g'</span> /etc/opkg/distfeeds.confopkg updateopkg instll libustream-openssl ca-bundle ca-certificates<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><strong>å‚è€ƒ <a href="https://mirrors.ustc.edu.cn/help/openwrt.html">https://mirrors.ustc.edu.cn/help/openwrt.html</a></strong></p><br><h3 id="è®¾ç½®ä¸­æ–‡"><a href="#è®¾ç½®ä¸­æ–‡" class="headerlink" title="è®¾ç½®ä¸­æ–‡"></a>è®¾ç½®ä¸­æ–‡</h3><p>åœ¨ â€œsystem-Softwareâ€ æœç´¢ <code>luci-i18n-base-zh-cn</code> ä¹‹å‰ï¼Œå…ˆUpdate ä¸‹æ–¹å¯æœå¯»åˆ°</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202301021657195.png" width="100%"/ loading="lazy"><br><h3 id="OpenClash-æ’ä»¶"><a href="#OpenClash-æ’ä»¶" class="headerlink" title="OpenClash æ’ä»¶"></a>OpenClash æ’ä»¶</h3><p>â†’ <a href="https://github.com/vernesong/OpenClash/releases">release</a> ä¸‹è½½ <code>luci-app-openclash_0.45.78-beta_all.ipk</code>å ï¼Œæ‰§è¡Œ <code> opkg install /tmp/**.ipk</code>  å®‰è£…ï¼›é‡æœ€åä¸€è¡Œæç¤º <code> * opkg_install_cmd: Cannot install package luci-app-openclash.</code> åˆ™éœ€è¦æŒ‰ç…§ wiki å…ˆå®‰è£…æ‰€å¿…é¡»çš„ä¾èµ–ã€‚</p><br><h4 id="8M-ä¹‹æ®‡ï¼Œç»ˆç»“"><a href="#8M-ä¹‹æ®‡ï¼Œç»ˆç»“" class="headerlink" title="8M ä¹‹æ®‡ï¼Œç»ˆç»“"></a>8M ä¹‹æ®‡ï¼Œç»ˆç»“</h4><p><font color=#ff0000>ç„¶ï¼Œè¢«æç¤ºæ‹¿æçš„æ­»æ­»çš„ï¼›åˆ·å°ç±³å›ºä»¶ï¼Œä¼šæƒ³èµ·æŸå¸–è¯´çš„ 8Mï¼Œä¹Ÿæ˜ç™½äº†ï¼›æš´é£å“­æ³£ã€‚ä¸è¯´äº†ï¼Œå¿«è·‘ï¼Œæ’¤é€€~~</font></p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202301021803480.png" width="100%"/ loading="lazy"><br><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul><li><p><a href="https://github.com/acecilia/OpenWRTInvasion">OpenWRTInvasion</a></p></li><li><p><a href="https://openwrt.org/inbox/toh/xiaomi/xiaomi_mi_router_4a_gigabit_edition">https://openwrt.org/inbox/toh/xiaomi/xiaomi_mi_router_4a_gigabit_edition</a> çš„ â€œNotes on firmware exploit procedureâ€ éƒ¨åˆ†</p></li><li><p><a href="https://oscarcx.com/tech/openwrt-tutorial.html#%E5%BC%80%E5%90%AFWIFI">Openwrtä»å…¥é—¨åˆ°æ”¾å¼ƒ</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
          <category> å­¦ä¹  - ä»£ç† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OpenWrt </tag>
            
            <tag> è·¯ç”±å™¨ </tag>
            
            <tag> ç½‘ç»œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ å®ç°æ™ºèƒ½æŒ‡é’ˆï¼šshared_ptr å’Œ unique_ptr</title>
      <link href="/posts/9ec225d6/"/>
      <url>/posts/9ec225d6/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong> C++11 æ™ºèƒ½æŒ‡é’ˆçš„æ·±å…¥åˆ†æï¼Œå’ŒåŠ¨æ‰‹å®ç°ç®€ç‰ˆçš„æ™ºèƒ½æŒ‡é’ˆ <code>std::shared_ptr</code> ã€<code>std::unique_ptr</code></p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>å®ç°åŸç†æå‰éœ€è¦ç†è§£ <strong>ç‰¹æ®Šæˆå‘˜å‡½æ•°</strong>ã€<code>std::exchange() C++14</code>ã€<code>std::swap()</code>ã€ <code>std::move()</code>ã€<code>constexpr</code>ã€<code>explicit</code>ã€<code>noexcept</code> ç­‰ï¼Œè‹¥æ˜¯é—å¿˜å¯å‚è€ƒæ­¤æ–‡</p><ul><li><a href="https://blog.csdn.net/qq_33154343/article/details/128367884">C++ ç±»çš„å…­ä¸ªç‰¹æ®Šæˆå‘˜å‡½æ•°</a></li><li><a href="">C++ 11&#x2F;14&#x2F;17 çš„æ–°ç‰¹æ€§  å ä½</a></li></ul><br><p>æœ€åï¼ŒDemo å®ç°æˆ–è®¸ä¸å¤Ÿååˆ†å®Œç¾å’Œä¸¥è°¨ï¼Œä½†å¯¹äºå…¶ç†è§£æ™ºèƒ½æŒ‡é’ˆçš„åŸç†å’Œé¢è¯•æ‰‹å†™å®ç°æ—¶å€™ï¼Œè¶³å¤Ÿã€‚è‹¥æœ‰çº°æ¼ï¼Œè¯·æŒ‡æ­£ã€‚</p><br><h2 id="std-shared-ptr"><a href="#std-shared-ptr" class="headerlink" title="std::shared_ptr"></a>std::shared_ptr</h2><h3 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h3><ul><li><p><code>shared_ptr</code> çš„åŸç†ï¼š é€šè¿‡<strong>å¼•ç”¨è®¡æ•°</strong>çš„æ–¹å¼æ¥å®ç°å¤šä¸ª shared_ptr å¯¹è±¡ä¹‹é—´<strong>å…±äº«</strong>èµ„æºã€‚</p></li><li><p>é€šè¿‡å¼•ç”¨è®¡æ•°å’Œæ¨¡æ¿æ¥å®ç° shared_ptrï¼›æ„é€ å‡½æ•°å®šä¹‰çš„æ—¶å€™ï¼Œè¦åˆå§‹åŒ–å…¶æŒ‡é’ˆã€å¼•ç”¨è®¡æ•°ã€å’Œ mutex</p></li><li><p>â€œcopy assignment constructorâ€ é™¤äº†æ ¡éªŒæ˜¯å¦ç›¸ç­‰ã€æ˜¯å¦ä¸ºç©ºçš„æ—¶å€™ã€æ‹·è´æ—¶è¦å…ˆé‡Šæ”¾æ—§èµ„æºï¼Œæ—§çš„å¼•ç”¨è®¡æ•° -1ï¼Œèµ‹å€¼åå†æŒ‡å‘å¯¹æ–°çš„èµ„æºçš„å¼•ç”¨è®¡æ•° +1</p></li><li><p>é‡Šæ”¾èµ„æºæ—¶ï¼Œè¦<strong>å…ˆæ ¡éªŒæ˜¯å¦å­˜åœ¨ï¼ŒåŠè®¡æ•°ä¸º 0</strong> æ‰é‡Šæ”¾ï¼›</p></li></ul><br><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><p>ã€€ã€€ğŸ’»  <code>win10 22H2</code>  ğŸ“ <code>Visual Studio 2019</code> ğŸ“ <code>C++11</code> è§ <a href="https://github.com/XMuli/QtExamples/blob/master/Studio/Studio/SharedPtr.h">SharedPtr.h</a></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">/******************************************************************* * Copyright (c) 2022~-023 XMuli  All rights reserved. * Description: C++ å®ç°ä¸€ä¸ªæ ¸å¿ƒçš„ shared_ptr æ™ºèƒ½æŒ‡é’ˆæ¨¡æ¿ç±» ******************************************************************/</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;mutex></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> <span class="token class-name">T</span><span class="token operator">></span><span class="token keyword">class</span> <span class="token class-name">SharedPtr</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">SharedPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">_ptr</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_refCount</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_pMutex</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"default constructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token function">SharedPtr</span><span class="token punctuation">(</span>T<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">_ptr</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_refCount</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_pMutex</span><span class="token punctuation">(</span><span class="token keyword">new</span> mutex<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"no default constructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token function">SharedPtr</span><span class="token punctuation">(</span><span class="token keyword">const</span> SharedPtr<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;</span> obj<span class="token punctuation">)</span>  <span class="token comment">// å…¶ _refCount å¯ä»¥é€šè¿‡å¦å¤–ä¸€ä¸ªæŒ‡é’ˆæ¥ä¿®æ”¹ï¼ŒæŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªåœ°å€</span>        <span class="token operator">:</span> <span class="token function">_ptr</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>_ptr<span class="token punctuation">)</span>        <span class="token punctuation">,</span> <span class="token function">_refCount</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>_refCount<span class="token punctuation">)</span>        <span class="token punctuation">,</span> <span class="token function">_pMutex</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>_pMutex<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"copy constructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token function">addRefCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    SharedPtr<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> SharedPtr<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;</span> obj<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"copy assignment constructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">&amp;</span>obj <span class="token operator">!=</span> <span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>_ptr <span class="token operator">!=</span> obj<span class="token punctuation">.</span>_ptr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// å…ˆé‡Šæ”¾æ—§çš„èµ„æº</span>                _ptr <span class="token operator">=</span> obj<span class="token punctuation">.</span>_ptr<span class="token punctuation">;</span>                _refCount <span class="token operator">=</span> obj<span class="token punctuation">.</span>_refCount<span class="token punctuation">;</span>                _pMutex <span class="token operator">=</span> obj<span class="token punctuation">.</span>_pMutex<span class="token punctuation">;</span>                <span class="token function">addRefCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// å†æŠ€è®¡æ•° +1</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//SharedPtr(SharedPtr&lt;T>&amp;&amp; obj) noexcept;</span>    <span class="token comment">//SharedPtr&lt;T>&amp; operator=(SharedPtr&lt;T>&amp;&amp; obj)noexcept;</span>    <span class="token operator">~</span><span class="token function">SharedPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"destructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>    T<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token operator">*</span>_ptr<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>    T<span class="token operator">*</span> <span class="token keyword">operator</span><span class="token operator">-></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> _ptr<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> <span class="token function">useCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token operator">*</span>_refCount<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>    T<span class="token operator">*</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> _ptr<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">private</span><span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">addRefCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"addRefCount"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        _pMutex<span class="token operator">-></span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token operator">++</span><span class="token operator">*</span>_refCount<span class="token punctuation">;</span>        _pMutex<span class="token operator">-></span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">void</span> <span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"release"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token keyword">bool</span> bDelMutex <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        _pMutex<span class="token operator">-></span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>_ptr <span class="token operator">&amp;&amp;</span> <span class="token operator">--</span><span class="token operator">*</span>_refCount <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// å…ˆæ ¡éªŒæ˜¯å¦å­˜åœ¨ï¼ŒåŠè®¡æ•°ä¸º 0 æ‰é‡Šæ”¾</span>            <span class="token keyword">delete</span> _ptr<span class="token punctuation">;</span>            <span class="token keyword">delete</span> _refCount<span class="token punctuation">;</span>            _ptr <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>            _refCount <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>            bDelMutex <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        _pMutex<span class="token operator">-></span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>bDelMutex<span class="token punctuation">)</span>            <span class="token keyword">delete</span> _pMutex<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token keyword">private</span><span class="token operator">:</span>                  <span class="token comment">// éœ€åœ¨æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–</span>    T<span class="token operator">*</span> _ptr<span class="token punctuation">;</span>              <span class="token comment">// æŒ‡å‘ç®¡ç†èµ„æºçš„æŒ‡é’ˆ</span>    <span class="token keyword">int</span><span class="token operator">*</span> _refCount<span class="token punctuation">;</span>       <span class="token comment">// å¼•ç”¨è®¡æ•°</span>    mutex<span class="token operator">*</span> _pMutex<span class="token punctuation">;</span>       <span class="token comment">// è®¡æ•°è‡ªå¢éåŸå­æ“ä½œï¼ŒåŠ é”è§£å†³å¤šçº¿ç¨‹</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    SharedPtr<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">sp1</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    SharedPtr<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">sp2</span><span class="token punctuation">(</span>sp1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">*</span>sp2 <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>                                                                <span class="token comment">//sp1 ä¸ sp2 åœ¨ç®¡ç†è¿™éƒ¨åˆ†èµ„æºï¼Œå¼•ç”¨è®¡æ•°ä¸º 2</span>    cout <span class="token operator">&lt;&lt;</span> sp1<span class="token punctuation">.</span><span class="token function">useCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"  *ptr:"</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>sp1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token comment">//2 20</span>    cout <span class="token operator">&lt;&lt;</span> sp2<span class="token punctuation">.</span><span class="token function">useCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"  *ptr:"</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>sp2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token comment">//2 20</span>                                                                      SharedPtr<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">sp3</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                  sp2 <span class="token operator">=</span> sp3<span class="token punctuation">;</span>                                            <span class="token comment">//sp3 èµ‹å€¼ç»™å®ƒï¼Œé‡Šæ”¾ç®¡ç†çš„æ—§èµ„æºï¼Œå¼•ç”¨è®¡æ•°-1ï¼Œ   </span>    cout <span class="token operator">&lt;&lt;</span> sp1<span class="token punctuation">.</span><span class="token function">useCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"  *ptr:"</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>sp1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token comment">//1 20</span>    cout <span class="token operator">&lt;&lt;</span> sp2<span class="token punctuation">.</span><span class="token function">useCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"  *ptr:"</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>sp2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token comment">//2 30</span>    cout <span class="token operator">&lt;&lt;</span> sp3<span class="token punctuation">.</span><span class="token function">useCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"  *ptr:"</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>sp3 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token comment">//2 30</span>                                                                      sp1 <span class="token operator">=</span> sp3<span class="token punctuation">;</span>                                                        cout <span class="token operator">&lt;&lt;</span> sp1<span class="token punctuation">.</span><span class="token function">useCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"  *ptr:"</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>sp1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token comment">//3 30</span>    cout <span class="token operator">&lt;&lt;</span> sp2<span class="token punctuation">.</span><span class="token function">useCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"  *ptr:"</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>sp2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token comment">//3 30</span>    cout <span class="token operator">&lt;&lt;</span> sp3<span class="token punctuation">.</span><span class="token function">useCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"  *ptr:"</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>sp3 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token comment">//3 30</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Hello World!\n"</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/*****************************æ‰“å°ç»“æœ*******************************no default constructorcopy constructoraddRefCount2  *ptr:202  *ptr:20no default constructorcopy assignment constructorreleaseaddRefCount1  *ptr:202  *ptr:302  *ptr:30copy assignment constructorreleaseaddRefCount3  *ptr:303  *ptr:303  *ptr:30Hello World!destructorreleasedestructorreleasedestructorrelease ******************************************************************/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><p><strong>Note:</strong> </p><ul><li><p>mutex å®ç°äº†å¼•ç”¨è®¡æ•°æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚ä½†æ™ºèƒ½æŒ‡é’ˆç®¡ç†çš„å¯¹è±¡å­˜æ”¾åœ¨<strong>å †</strong>ä¸Šï¼Œä¸¤ä¸ªçº¿ç¨‹ä¸­åŒæ—¶å»è®¿é—®ï¼Œä¼šå¯¼è‡´çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</p></li><li><p>ä¹¦å†™æµ‹è¯•æ—¶ï¼Œè‹¥ä½¿ç”¨é»˜è®¤æ„é€ å‡½æ•°, æˆå‘˜å˜é‡ _ptrã€_refCountã€_pMutex åœ¨ release() ä¸­å®¹æ˜“å´©æºƒï¼›æ¨èå¸¦å‚çš„æ„é€ å‡½æ•°ï¼Œå®Œç¾è¿è¡Œæµ‹è¯•</p></li></ul><br><h3 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h3><ul><li><a href="https://juejin.cn/post/7111726931301072910#heading-8">C++ æ™ºèƒ½æŒ‡é’ˆä¸åº•å±‚å®ç°å‰–æ</a></li><li><a href="https://cloud.tencent.com/developer/article/1688444">é¢è¯•é¢˜ï¼šç®€å•å®ç°ä¸€ä¸ªshared_ptræ™ºèƒ½æŒ‡é’ˆ</a></li><li><a href="https://blog.csdn.net/Z_Stand/article/details/98512756">C++æ™ºèƒ½æŒ‡é’ˆ: shared_ptr å®ç°è¯¦è§£</a></li></ul><br><h2 id="std-unique-ptr"><a href="#std-unique-ptr" class="headerlink" title="std::unique_ptr"></a>std::unique_ptr</h2><h3 id="åŸç†-1"><a href="#åŸç†-1" class="headerlink" title="åŸç†"></a>åŸç†</h3><ul><li><code>unique_ptr</code>çš„è®¾è®¡æ€è·¯éå¸¸çš„ç²—æš´ï¼š<strong>é˜²æ‹·è´</strong>ï¼Œä¹Ÿå°±æ˜¯<strong>ä¸è®©æ‹·è´å’Œèµ‹å€¼</strong>ã€‚</li><li>unique_ptr <strong>å”¯ä¸€</strong> æ‹¥æœ‰å…¶æ‰€æŒ‡å¯¹è±¡ï¼ŒåŒä¸€æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªunique_ptr æŒ‡å‘ç»™å®šå¯¹è±¡ï¼ˆé€šè¿‡ç¦æ­¢æ‹·è´è¯­ä¹‰ã€åªæœ‰ç§»åŠ¨è¯­ä¹‰æ¥å®ç°</li></ul><br><h3 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><p>ã€€ã€€ğŸ’»  <code>win10 22H2</code> ğŸ“  <code>Visual Studio 2019</code> ğŸ“ <code>C++11</code> è§ <a href="https://github.com/XMuli/QtExamples/blob/master/Studio/Studio/UniquePtr.h">UniquePtr.h</a></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">/******************************************************************* * Copyright (c) 2022~2023 XMuli  All rights reserved. * Description: C++ å®ç°ä¸€ä¸ªæ ¸å¿ƒçš„ unique_ptr æ™ºèƒ½æŒ‡é’ˆæ¨¡æ¿ç±»ï¼› ******************************************************************/</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> <span class="token class-name">T</span><span class="token operator">></span><span class="token keyword">class</span> <span class="token class-name">UniquePtr</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span><span class="token keyword">constexpr</span> <span class="token function">UniquePtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">_ptr</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"default constructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">explicit</span>  <span class="token function">UniquePtr</span><span class="token punctuation">(</span>T<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">_ptr</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"no default constructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token function">UniquePtr</span><span class="token punctuation">(</span>UniquePtr<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token operator">:</span> <span class="token function">_ptr</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>_ptr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"move constructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>obj<span class="token punctuation">.</span>_ptr <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>UniquePtr<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span>UniquePtr<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">)</span> <span class="token keyword">noexcept</span><span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"move assignment constructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">&amp;</span>obj <span class="token operator">!=</span> <span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span>_ptr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                _ptr <span class="token operator">=</span> obj<span class="token punctuation">.</span>_ptr<span class="token punctuation">;</span>                obj<span class="token punctuation">.</span>_ptr <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">UniquePtr</span><span class="token punctuation">(</span><span class="token keyword">const</span> UniquePtr<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;</span> obj<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">delete</span><span class="token punctuation">;</span><span class="token comment">// C++11 delete ç¦æ­¢æ–¹å¼ï¼ŒC++98 ç”¨ private æ¥éšè—</span>    UniquePtr<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> UniquePtr<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;</span> obj<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">delete</span><span class="token punctuation">;</span><span class="token operator">~</span><span class="token function">UniquePtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"destructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>_ptr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">delete</span> _ptr<span class="token punctuation">;</span>_ptr <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>T<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token operator">*</span>_ptr<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>T<span class="token operator">*</span> <span class="token keyword">operator</span><span class="token operator">-></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> _ptr<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>T<span class="token operator">*</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> _ptr<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>T<span class="token operator">*</span> <span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token comment">// return std::exchange(_ptr, nullptr); // C++14</span><span class="token punctuation">&#123;</span>T<span class="token operator">*</span> temp <span class="token operator">=</span> _ptr<span class="token punctuation">;</span>        _ptr <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span><span class="token keyword">return</span> temp<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">reset</span><span class="token punctuation">(</span>T<span class="token operator">*</span> ptr<span class="token punctuation">)</span><span class="token comment">// std::exchange(_ptr, ptr); // C++14</span><span class="token punctuation">&#123;</span>_ptr <span class="token operator">=</span> ptr<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span>UniquePtr<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;</span> obj<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>std<span class="token double-colon punctuation">::</span><span class="token function">swap</span><span class="token punctuation">(</span>_ptr<span class="token punctuation">,</span> obj<span class="token punctuation">.</span>_ptr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">private</span><span class="token operator">:</span>T<span class="token operator">*</span> _ptr<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>UniquePtr<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">up1</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"up1:"</span> <span class="token operator">&lt;&lt;</span> up1<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"  *ptr:"</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>up1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>UniquePtr<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">up2</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span><span class="token function">move</span><span class="token punctuation">(</span>up1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">// æ§åˆ¶æƒå˜æ›´</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"up1:"</span> <span class="token operator">&lt;&lt;</span> up1<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token comment">// nullptr, æ­¤æ—¶ up1 å·²æ— æ§åˆ¶æƒ</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"up2:"</span> <span class="token operator">&lt;&lt;</span> up2<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"  *ptr:"</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>up2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>UniquePtr<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">up3</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>UniquePtr<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">up4</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"up3:"</span> <span class="token operator">&lt;&lt;</span> up3<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"  *ptr:"</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>up3 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"up4:"</span> <span class="token operator">&lt;&lt;</span> up4<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"  *ptr:"</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>up4 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>up3 <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">move</span><span class="token punctuation">(</span>up2<span class="token punctuation">)</span><span class="token punctuation">;</span>                               <span class="token comment">// æ§åˆ¶æƒå˜æ›´</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"up3:"</span> <span class="token operator">&lt;&lt;</span> up3<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"  *ptr:"</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>up3 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"up4:"</span> <span class="token operator">&lt;&lt;</span> up4<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"  *ptr:"</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>up4 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>up3<span class="token punctuation">.</span><span class="token function">swap</span><span class="token punctuation">(</span>up4<span class="token punctuation">)</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"up3:"</span> <span class="token operator">&lt;&lt;</span> up3<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"  *ptr:"</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>up3 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"up4:"</span> <span class="token operator">&lt;&lt;</span> up4<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"  *ptr:"</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>up4 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>up3<span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"up3:"</span> <span class="token operator">&lt;&lt;</span> up3<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Hello World!\n"</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/*****************************æ‰“å°ç»“æœ*******************************no default constructorup1:0086DEB8  *ptr:10move constructorup1:00000000up2:0086DEB8  *ptr:10no default constructorno default constructorup3:008656D0  *ptr:30up4:00865700  *ptr:40move assignment constructorup3:0086DEB8  *ptr:10up4:00865700  *ptr:40up3:00865700  *ptr:40up4:0086DEB8  *ptr:10up3:00000000Hello World!destructordestructordestructordestructor ******************************************************************/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="reference-1"><a href="#reference-1" class="headerlink" title="reference"></a>reference</h3><ul><li><a href="https://juejin.cn/post/7122641980315680782#heading-1">äºŒã€C++å®ç°unique_ptr</a></li><li><a href="https://www.jianshu.com/p/77c2988be336">é¢è¯•å®˜çš„åŠ¨æœºâ€”â€”å®ç°æ™ºèƒ½æŒ‡é’ˆ1ï¼šunique_ptr</a></li><li><a href="https://juejin.cn/post/7099967913594978341">C++è¿›é˜¶ï¼šæ™ºèƒ½æŒ‡é’ˆä¹‹unique_ptr</a></li></ul><br><h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><p><a href="https://github.com/XMuli/QtExamples">QtExamples</a> ã€Studioã€‘</p><p>æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”<strong>æ°¸ä¹…å…è´¹</strong>ï¼â€</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºäºŒ ç»éªŒ </category>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++11/17/20 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ ç±»çš„å…­ä¸ªç‰¹æ®Šæˆå‘˜å‡½æ•°</title>
      <link href="/posts/550d6b96/"/>
      <url>/posts/550d6b96/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong> åˆ†æ C++ Class çš„å…­ä¸ªç‰¹æ®Šæˆå‘˜å‡½æ•° <sup><a href="https://en.wikipedia.org/wiki/Special_member_functions">wiki</a></sup> ï¼Œå¹¶ä¸”æ‰‹åŠ¨å®ç°ä¸€ç•ªï¼›</p><ol><li>é»˜è®¤æ„é€ å‡½æ•°</li><li>ææ„å‡½æ•°</li><li>å¤åˆ¶æ„é€ å‡½æ•°</li><li>å¤åˆ¶èµ‹å€¼è¿ç®—ç¬¦</li><li>ç§»åŠ¨æ„é€ å‡½æ•°</li><li>ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦</li></ol><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h3><p>â€‹ç‰¹æ®Šæˆå‘˜å‡½æ•°æ˜¯ç±»ï¼ˆæˆ–ç»“æ„ï¼‰æˆå‘˜å‡½æ•°ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ä¸ºä½ ç”Ÿæˆã€‚</p><ol><li><strong>default constructor:</strong> é€šå¸¸æ²¡æœ‰å‚æ•°ï¼Œä½†å¯ä»¥å…·æœ‰å¸¦é»˜è®¤å€¼çš„å‚æ•°ã€‚</li><li><strong>destructor:</strong> é”€æ¯å¯¹è±¡çš„å‰ä¸€åˆ»æ‰§è¡Œæ¸…ç†</li><li><strong>copy constructor:</strong> å¯¹<font color=#FF0000 face="STFangsong">æ–°å»ºçš„çš„å¯¹è±¡</font>è¿›è¡Œåˆå§‹åŒ–ï¼Œå½¢å‚æ˜¯ <code>const T&amp;</code></li><li><strong>copy assignment constructor:</strong> å¯¹<font color=#FF0000 face="STFangsong">å·²æœ‰çš„å¯¹è±¡</font>è¿›è¡Œèµ‹å€¼ï¼Œå½¢å‚æ˜¯ <code>const T&amp;</code></li><li><strong>move constructor:</strong> å¯¹<font color=#FF0000 face="STFangsong">æ–°å»ºçš„çš„å¯¹è±¡</font>è¿›è¡Œåˆå§‹åŒ–ï¼Œå½¢å‚æ˜¯ <code>T &amp;&amp;</code></li><li><strong>move assignment constructor:</strong> å¯¹<font color=#FF0000 face="STFangsong">å·²æœ‰çš„å¯¹è±¡</font>è¿›è¡Œèµ‹å€¼ï¼Œå½¢å‚æ˜¯ <code>T &amp;&amp;</code></li></ol><br><ul><li><p>move çš„å‡½æ•°ç›¸å¯¹äº copy çš„å‡½æ•°æ²¡æœ‰ <code>const</code></p></li><li><p>copy æ˜¯å±å®Œæ•´çš„å†å¤åˆ¶æ‹·è´ä¸€ä»½ï¼›move æ˜¯å¯¹å°†äº¡çš„å³å€¼è¿›è¡ŒæŒ‡é’ˆäº’æ¢ã€èŠ‚çœç©ºé—´æå‡æ•ˆç‡</p></li><li><p><strong>â€å¤åˆ¶ &#x2F; ç§»åŠ¨æ„é€ å‡½æ•°â€œ</strong> å±äºæ–°å»ºå¯¹è±¡ï¼Œæ— éœ€åˆ¤æ–­ä¸¤è€…æ˜¯å¦ç›¸ç­‰ï¼›<strong>â€å¤åˆ¶ &#x2F; ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦â€œ</strong> å±äºå·²æœ‰çš„å¯¹è±¡è¿›è¡Œèµ‹å€¼ï¼Œèµ‹å€¼æ—¶éœ€è¦å…ˆåˆ¤æ–­ä¸¤è€…æ˜¯å¦ç›¸ç­‰ã€‚</p></li><li><p>è‹¥æœ‰æ·±æ‹·è´æ—¶ï¼Œ<strong>â€å¤åˆ¶ &#x2F; ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦â€œ</strong> é™¤äº†åˆ¤æ–­ç›¸ç­‰ã€æ•°å€¼æ˜¯å¦æœ‰æ•ˆï¼›åœ¨æ‹·è´å­—èŠ‚å‰ï¼Œè¿˜è¦å…ˆé‡Šæ”¾æ—§èµ„æº</p></li><li><p>åªæœ‰å½“ç±»å­˜å‚¨äº†éœ€è¦é‡Šæ”¾çš„ç³»ç»Ÿèµ„æºçš„å¥æŸ„ï¼Œæˆ–æ‹¥æœ‰å…¶æŒ‡å‘çš„å†…å­˜çš„æŒ‡é’ˆæ—¶ï¼Œä½ æ‰éœ€è¦å®šä¹‰è‡ªå®šä¹‰ <strong>â€ææ„å‡½æ•°â€œ</strong></p></li><li><p>ä¸‰äº”æ³•åˆ™ <sup><a href="https://en.cppreference.com/w/cpp/language/rule_of_three">cppreference.com</a></sup></p></li></ul><br><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><p>ã€€ã€€ğŸ’»  <code>win10 22H2</code> ğŸ“  <code>Visual Studio 2019</code> ğŸ“ <code>C++17</code> è§   <a href="https://github.com/XMuli/QtExamples/blob/master/Studio/Studio/SpecialMembers.h">SpecialMembers.h</a></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">/******************************************************************* * Copyright (c) 2022~2023 XMuli  All rights reserved. * Description: C++ ç±»çš„å…­ä¸ªç‰¹æ®Šæˆå‘˜å‡½æ•° ******************************************************************/</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;utility></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">m_ptr</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"default constructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">A</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> s<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">m_ptr</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"no-default-val constructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">auto</span> n <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">strlen</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>            m_ptr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>            std<span class="token double-colon punctuation">::</span><span class="token function">memcpy</span><span class="token punctuation">(</span>m_ptr<span class="token punctuation">,</span> s<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">A</span><span class="token punctuation">(</span><span class="token keyword">const</span> A<span class="token operator">&amp;</span> other<span class="token punctuation">)</span>        <span class="token operator">:</span> <span class="token function">m_ptr</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"copy constructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>other<span class="token punctuation">.</span>m_ptr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">auto</span> n <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">strlen</span><span class="token punctuation">(</span>other<span class="token punctuation">.</span>m_ptr<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>            m_ptr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>            std<span class="token double-colon punctuation">::</span><span class="token function">memcpy</span><span class="token punctuation">(</span>m_ptr<span class="token punctuation">,</span> other<span class="token punctuation">.</span>m_ptr<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    A<span class="token operator">&amp;</span> <span class="token keyword">operator</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">const</span> A<span class="token operator">&amp;</span> other<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"copy assignment constructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">!=</span> <span class="token operator">&amp;</span>other<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> m_ptr<span class="token punctuation">;</span>  <span class="token comment">// Free the existing resource.  é‡ç‚¹ !!!</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>other<span class="token punctuation">.</span>m_ptr <span class="token operator">!=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">auto</span> n <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">strlen</span><span class="token punctuation">(</span>other<span class="token punctuation">.</span>m_ptr<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>                m_ptr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>                std<span class="token double-colon punctuation">::</span><span class="token function">memcpy</span><span class="token punctuation">(</span>m_ptr<span class="token punctuation">,</span> other<span class="token punctuation">.</span>m_ptr<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">A</span><span class="token punctuation">(</span>A<span class="token operator">&amp;&amp;</span> other<span class="token punctuation">)</span> <span class="token keyword">noexcept</span>    <span class="token comment">// è¡Œå‚æ—  const</span>        <span class="token operator">:</span> <span class="token function">m_ptr</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"move constructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>other<span class="token punctuation">.</span>m_ptr<span class="token punctuation">)</span>            m_ptr <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">move</span><span class="token punctuation">(</span>other<span class="token punctuation">.</span>m_ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>        other<span class="token punctuation">.</span>m_ptr <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    A<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span>A<span class="token operator">&amp;&amp;</span> other<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// è¡Œå‚æ—  const</span>        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"move assignment constructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">!=</span> <span class="token operator">&amp;</span>other<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> m_ptr<span class="token punctuation">;</span>  <span class="token comment">// Free the existing resource.</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>other<span class="token punctuation">.</span>m_ptr<span class="token punctuation">)</span>                m_ptr <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">move</span><span class="token punctuation">(</span>other<span class="token punctuation">.</span>m_ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>            other<span class="token punctuation">.</span>m_ptr <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token operator">~</span><span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"destructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>m_ptr<span class="token punctuation">)</span>            <span class="token keyword">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> m_ptr<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token keyword">private</span><span class="token operator">:</span>    <span class="token keyword">char</span><span class="token operator">*</span> m_ptr<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>A <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    A <span class="token function">t</span><span class="token punctuation">(</span><span class="token string">"A fun()"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> t<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    A <span class="token function">a1</span><span class="token punctuation">(</span><span class="token string">"a1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// default constructor</span>    A <span class="token function">a2</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">// copy constructor</span>    A a3 <span class="token operator">=</span> a1<span class="token punctuation">;</span>                 <span class="token comment">// copy constructor</span>    a1 <span class="token operator">=</span> a3<span class="token punctuation">;</span>                   <span class="token comment">// copy assignment constructor</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"----------------------------\n\n"</span><span class="token punctuation">;</span>    <span class="token comment">//fn();                    // function returning a A object</span>    A a5 <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">move</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// move constructor</span>    A a6<span class="token punctuation">;</span>                      <span class="token comment">// default constructor</span>    a6 <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">move</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// move assignment constructor</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Hello World!\n"</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/*************************** è¿è¡Œç»“æœ ******************************** no-default-val constructorcopy constructorcopy constructorcopy assignment constructor----------------------------move constructordefault constructormove assignment constructorHello World!destructordestructordestructordestructordestructor ******************************************************************/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><p>æ‹·è´æ„é€ å‡½æ•°æ˜¯ <code> A a2(a1);</code> å½¢å¼ï¼Œè¿˜å¯ä»¥æ˜¯ <code> A a3 = a1;</code> è¿™ç§å½¢å¼ã€‚å…³é”®çœ‹æ˜¯æ–°åˆ›å»ºå¯¹è±¡è¿˜æ˜¯å·²æœ‰çš„å¯¹è±¡èµ‹å€¼ã€‚move çš„å‡½æ•°èµ‹å€¼ï¼Œå€ŸåŠ© <code>std::move()</code> å°†å·¦å€¼è½¬æ¢ä¸ºå³å€¼ã€‚</p><br><h3 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h3><p><a href="https://github.com/XMuli/QtExamples">QtExamples</a> çš„ ã€Studioã€‘</p><p>æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”<strong>æ°¸ä¹…å…è´¹</strong>ï¼â€</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºäºŒ ç»éªŒ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++11/17/20 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å°ç±³AX6Såˆ·OpenWrtå’Œå¼€å¯OpenClashï¼ŒåŠåˆ·å›å®˜ç½‘å›ºä»¶</title>
      <link href="/posts/4d3a9f54/"/>
      <url>/posts/4d3a9f54/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong> é—²æš‡ï¼ŒæŠ˜è…¾ä¸‹æ–°è´­ å°ç±³AX6Sï¼Œåˆ·ä¸‹ <code>OpenWrt</code>ï¼Œåˆæ¬¡æ¥è§¦è®°å½•ä¸‹ã€‚ä»¥åŠå¼€å¯ OpenClash + clash-rules çš„è¿›é˜¶ä½¿ç”¨</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202212101934164.png" width="80%"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><blockquote><p>miwifi_rb03_firmware_3e872_1.0.54.bin   [å®˜æ–¹ 2022.08.24]<br>miwifi_rb03_firmware_stable_1.2.7.bin     [å®˜æ–¹ 2022.03] å¯åˆ·æœºå›ºä»¶ï¼Œé»˜è®¤å¼€å¯ telnet </p></blockquote><br><h2 id="åˆ·æˆ-OpenWrt"><a href="#åˆ·æˆ-OpenWrt" class="headerlink" title="åˆ·æˆ OpenWrt"></a>åˆ·æˆ OpenWrt</h2><ol><li>å…ˆåˆ·å¼€å‘ç‰ˆ <code>miwifi_rb03_firmware_stable_1.2.7.bin</code> ï¼Œé»˜è®¤å·²å¼€å¯ Telnet å’Œ SSH</li><li>é€šè¿‡ SN ç è®¡ç®—è‡ªå·±å¯†ç ï¼Œå¦‚ 36418&#x2F;K1â–‡â–‡â–‡â–‡06ï¼Œå¯†ç ä¸º 60be9bd0</li><li>è¿æ¥è·¯ç”±å™¨ <code>telnet 192.168.31.1</code> (è¾“å…¥ root&#x2F;60be9bd0)</li><li>ä¾æ¬¡æ‰§è¡Œå‘½ä»¤ï¼Œæ‰§è¡Œåæ— æç¤º<ul><li>nvram set ssh_en&#x3D;1 &amp;&amp; nvram set uart_en&#x3D;1 &amp;&amp; nvram set boot_wait&#x3D;on &amp;&amp; nvram set bootdelay&#x3D;3 &amp;&amp; nvram set flag_try_sys1_failed&#x3D;0 &amp;&amp; nvram set flag_try_sys2_failed&#x3D;1</li><li>nvram set flag_boot_rootfs&#x3D;0 &amp;&amp; nvram set â€œboot_fw1&#x3D;run boot_rd_img;bootmâ€</li><li>nvram set flag_boot_success&#x3D;1 &amp;&amp; nvram commit &amp;&amp; &#x2F;etc&#x2F;init.d&#x2F;dropbear enable &amp;&amp; &#x2F;etc&#x2F;init.d&#x2F;dropbear start</li></ul></li><li>æ–°å¼€ç»ˆç«¯é¡µï¼Œä¸Šä¼ æ–‡ä»¶<code>scp .\ax6s-1120\factory.bin root@192.168.31.1:/tmp</code></li><li>ç”¨ ssh é“¾æ¥è·¯ç”±å™¨ <code>ssh root@192.168.31.1</code>ï¼›telnet å¯ä»¥å…³æ‰ï¼Œæ‰§è¡Œ <code>mtd -r write /tmp/factory.bin firmware</code> åˆ·æœºã€‚è·¯ç”±å™¨è‡ªåŠ¨é‡å¯ï¼Œé»˜è®¤IP ä¸º <code>192.168.6.1</code> åï¼Œé»˜è®¤è´¦å·å¯†ç  <code>root/password</code> </li><li>è¾“å…¥ ip è¿›å…¥ openwrt ç³»ç»Ÿï¼›ç‚¹å‡» <strong>â€œç³»ç»Ÿ - å¤‡ä»½&#x2F;å‡çº§â€</strong> çš„ <strong>â€œåˆ·å†™æ–°çš„å›ºä»¶â€</strong> é€‰æ‹© <code>ax6s-full.bin</code>  æˆ– <code>ax6s-mini.bin</code> è¿›è¡Œåˆ·å†™å›ºä»¶</li></ol><br><p><strong>æ³¨ï¼š</strong></p><ul><li><p>ç¬¬äºŒæ­¥éª¤é€šè¿‡ SN ç è®¡ç®— root å¯†ç ï¼š</p><ul><li>å¯åœ¨çº¿ç½‘ç«™ <a href="miwifi.dev/ssh">miwifi.dev&#x2F;ssh</a> </li><li>äº¦å¯ <a href="https://github.com/YangWang92/AX6S-unlock/blob/master/unlock_pwd.py">unlock_pwd.py</a>  è„šæœ¬è®¡ç®—ï¼Œ<code>python .\unlock_pwd.py SNç </code></li></ul></li><li><p>æ­¤ç‰ˆæœ¬å‘ç° <code>ax6s-full.bin</code> å®æµ‹é‡å¯åï¼ŒWiFi åç§°ä¼šè¢«é‡ç½®é»˜è®¤çš„ bugï¼Œè€Œ <code>ax6s-mini.bin</code> ä¸ä¼š</p></li><li><p>æœ¬ç¯‡ä¸»è¦æ˜¯åˆ·<a href="https://www.right.com.cn/forum/forum.php?mod=viewthread&tid=8187405">237176253 </a>å¤§ä½¬çš„å›ºä»¶ï¼Œæ–°æ‰‹å¯å‚è€ƒ<a href="https://www.right.com.cn/forum/thread-8216670-1-1.html">æ­¤è´´</a></p></li></ul><br><h2 id="å¼€å¯-OpenClash"><a href="#å¼€å¯-OpenClash" class="headerlink" title="å¼€å¯ OpenClash"></a>å¼€å¯ OpenClash</h2><p> ç®€ä»‹ï¼š<a href="https://github.com/vernesong/OpenClash">OpenClash</a> ï¼Œå…¶æœ‰å¼€æºå†…æ ¸ foss å’Œé—­æºå†…æ ¸ premuium ä¹‹åˆ†ï¼ˆCFWã€OpenClash éƒ½æ˜¯åè€…å†…æ ¸ï¼‰ï¼Œåè€…é€šå¸¸æ”¯æŒä½¿ç”¨è§„åˆ™é›† <a href="https://github.com/Loyalsoldier/clash-rules">clash-rules</a>ã€‚åˆæ¬¡å®‰è£…åé€šå¸¸ç›´æ¥è¿è¡Œä¼šå¤±è´¥ï¼ŒLOG å¦‚ä¸‹ï¼Œåˆ™éœ€è¦è‡ªè¡Œå®‰è£…å†…æ ¸</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">2022</span>-12-12 <span class="token number">13</span>:26:54 ã€Devã€‘ç‰ˆæœ¬å†…æ ¸æ›´æ–°å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–ç¨åå†è¯•ï¼<span class="token number">2022</span>-12-12 <span class="token number">13</span>:26:52 ã€Devã€‘ç‰ˆæœ¬å†…æ ¸æ­£åœ¨ä¸‹è½½ï¼Œå¦‚ä¸‹è½½å¤±è´¥è¯·å°è¯•æ‰‹åŠ¨ä¸‹è½½å¹¶ä¸Šä¼ <span class="token punctuation">..</span>.<span class="token number">2022</span>-12-12 <span class="token number">13</span>:26:50 æç¤º: æ£€æµ‹åˆ°å†…æ ¸æ–‡ä»¶ä¸å­˜åœ¨ï¼Œå‡†å¤‡å¼€å§‹ä¸‹è½½<span class="token punctuation">..</span>.<span class="token number">2022</span>-12-12 <span class="token number">13</span>:26:49 ç¬¬äºŒæ­¥: ç»„ä»¶è¿è¡Œå‰æ£€æŸ¥<span class="token punctuation">..</span>.<span class="token number">2022</span>-12-12 <span class="token number">13</span>:26:49 ç¬¬ä¸€æ­¥: è·å–é…ç½®<span class="token punctuation">..</span>.<span class="token number">2022</span>-12-12 <span class="token number">13</span>:26:49 OpenClash å¼€å§‹å¯åŠ¨<span class="token punctuation">..</span>.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> /etc/openclash/core<span class="token function">wget</span> https://github.com/vernesong/OpenClash/releases/download/Clash/clash-linux-armv8.tar.gz          <span class="token comment"># OpenWrté¦–é¡µæŸ¥çœ‹å†…æ ¸å¹³å°</span><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> clash-linux-armv8.tar.gz  <span class="token comment"># è§£å‹ä¸ºclashæ–‡ä»¶ï¼Œtunå†…æ ¸éœ€è¦ä¸‹å¯¹åº”æ–‡ä»¶ï¼Œåæ”¹åclash_tun</span><span class="token function">chmod</span> <span class="token number">777</span> clash<span class="token function">chmod</span> <span class="token number">777</span> clash_tun<span class="token comment"># å³å¯æˆåŠŸå¼€å¯å†…æ ¸</span><span class="token comment"># æ³¨æ„ä¼˜åŒ– dnsã€ipv6 ç­‰æ“ä½œ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»¥ä¸‹åˆ—å‡º Dev å’Œ TUN å†…æ ¸ä¸‹è½½åœ°å€ã€‚</p><p><strong>Dev å†…æ ¸ä¸‹è½½</strong>ï¼š<a href="https://github.com/vernesong/OpenClash/releases/tag/Clash">https://github.com/vernesong/OpenClash/releases/tag/Clash</a></p><p><strong>Tun å†…æ ¸ä¸‹è½½</strong>ï¼š<a href="https://github.com/vernesong/OpenClash/releases/tag/TUN-Premium">https://github.com/vernesong/OpenClash/releases/tag/TUN-Premium</a></p><p><strong>Tun æ¸¸æˆå†…æ ¸</strong>ï¼š<a href="https://github.com/vernesong/OpenClash/releases/tag/TUN">https://github.com/vernesong/OpenClash/releases/tag/TUN</a></p><br><p><strong>ä½¿ç”¨è¿›é˜¶</strong></p><blockquote><p><a href="https://docs.cfw.lbyczf.com/contents/quickstart.html#%E5%90%AF%E5%8A%A8">å®˜æ–¹ Wiki</a></p></blockquote><ol><li>ä½¿ç”¨é»˜è®¤çš„è§„åˆ™</li><li>æ”¯æŒä½¿ç”¨è§„åˆ™é›† <a href="https://github.com/Loyalsoldier/clash-rules">clash-rules</a>ï¼š ä½¿ç”¨è§„åˆ™é›†è¿›è¡Œæ›´åŠ è¯¦ç»†çš„åˆ†æµ</li><li>ä½¿ç”¨ rule-providerã€ proxy-provider è½»æ¾å®ç°è‡ªåŠ¨æ›´æ–°èŠ‚ç‚¹ã€è§„åˆ™ã€æœºåœºè®¢é˜…é“¾æ¥ï¼Œç›®å‰è§‰å¾—æœ€å¥½çš„ä¸€ä¸ª<a href="https://www.youtube.com/watch?v=IVlnvBQXEgE">æ•™ç¨‹</a>ï¼šè§£å†³ç‚¹å‡»æ›´æ–°è®¢é˜…ï¼Œè‡ªå®šä¹‰çš„é…ç½®æ–‡ä»¶éƒ½è¢«è¦†ç›–ä¸ºé»˜è®¤ </li><li>è¿‡æ»¤éƒ¨åˆ†èŠ‚ç‚¹ ï¼› <ul><li>æ˜¾ç¤ºæŒ‡å®šèŠ‚ç‚¹<ul><li>åœ¨ <code>proxy-providers</code> é‡Œé¢åŠ å…¥ <code>filter</code> ï¼ˆåªèƒ½è¿‡æ»¤ï¼Œä¸èƒ½åšæ’é™¤ï¼‰</li></ul></li><li>ä¸æ˜¾ç¤ºéƒ¨åˆ†èŠ‚ç‚¹<ul><li><a href="https://github.com/Fndroid/clash_for_windows_pkg/issues/2579#issuecomment-1010748750">#1 commands</a> </li><li><a href="https://github.com/Fndroid/clash_for_windows_pkg/issues/2579#issuecomment-1010759851">#2 è®¢é˜…é“¾æ¥é‡Œè¿‡æ»¤</a> ï¼Œä½†åœ¨ â€œä¸»ç•Œé¢-Providers-Update Allâ€ æ­¤é“¾æ¥ï¼Œåˆ™ä¼šå¤±è´¥ï¼›</li><li>è®©æä¾›å•†å¤§ä½¬åå°å±è”½ä½ æŒ‡å®šçš„èŠ‚ç‚¹ï¼Œæ¥è‡ªå¤§ä½¬çš„çƒ­æƒ…</li></ul></li></ul></li></ol><br><h2 id="åˆ·å›å®˜ç½‘å›ºä»¶"><a href="#åˆ·å›å®˜ç½‘å›ºä»¶" class="headerlink" title="åˆ·å›å®˜ç½‘å›ºä»¶"></a>åˆ·å›å®˜ç½‘å›ºä»¶</h2><ol><li><p>ä¸‹è½½ <a href="https://www.miwifi.com/miwifi_download.html">å°ç±³è·¯ç”±å™¨ä¿®å¤å·¥å…·</a> åè¿è¡Œ</p></li><li><p>ç¬”è®°æœ¬ç½‘å£å’Œè·¯ç”±å™¨ Lan å£ç½‘çº¿è¿æ¥ï¼Œ<u>ç¡®ä¿å¤„äºåŒä¸€ä¸ªç½‘æ®µ</u>ï¼Œé€‰ä¸­å®˜ç½‘å›ºä»¶</p></li><li><p>é€‰æ‹© â€œä»¥å¤ªç½‘ -&gt; ipâ€ åï¼Œä¸‹ä¸€æ­¥ï¼Œæ­¤æ—¶æ–­ç”µï¼ŒæŒ‰ä½é‡ç½®æŒ‰é’®ç›´è‡³é»„ç¯é—ªçƒæ¾å¼€ï¼Œç­‰å¾…å‡ åˆ†é’Ÿ</p></li><li><p>åˆ·æœºæˆåŠŸ</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202301021740158.png" width="60%"/ loading="lazy"></li></ol><br><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul><li><a href="https://www.right.com.cn/forum/forum.php?mod=forumdisplay&fid=171&filter=typeid&typeid=94">æ©å±± AX6S</a>ï¼Œmakr åç»­å…¶å®ƒå›ºä»¶</li><li><a href="https://github.com/lemoeo/AX6S">Redmi AX6S è§£é” SSHã€å®‰è£… ShellClashã€åˆ·å…¥ OpenWRT æ•™ç¨‹</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
          <category> å­¦ä¹  - ä»£ç† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OpenWrt </tag>
            
            <tag> è·¯ç”±å™¨ </tag>
            
            <tag> ç½‘ç»œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¯»ã€Šæ‰¾å¯¹è‹±è¯­å­¦ä¹ æ–¹æ³•çš„ç¬¬ä¸€æœ¬ä¹¦ã€‹</title>
      <link href="/posts/9aed2e7b/"/>
      <url>/posts/9aed2e7b/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong> <u>æ­¤ä¹¦å†™äºäºŒåå¹´å‰</u>ï¼Œç»“åˆæˆ‘è‡ªèº«æƒ…å†µå‚ç…§ï¼Œæœ‰äº†ä¸€ç§ç†è®ºæŒ‡å¯¼ï¼Œå¯åœ¨ä¼—å¤šå­¦ä¹ æ–¹æ³•ä¸­æœ‰æ•ˆæŠ‰æ‹©ï¼Œäº¦èƒ½åœ¨ä¸åŒé˜¶æ®µæ›´æ¢ä¸åŒç­–ç•¥ã€‚æœ¬æ–‡ä¸ºè¯»åçš„ä¸€ä¸ªç®€è¦å½’çº³å’Œæœ­è®°ã€‚</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202212021803026.png" width="50%"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/">å•è‡§çš„å°ç«™</a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h4 id="ç¢ç¢å¿µ"><a href="#ç¢ç¢å¿µ" class="headerlink" title="ç¢ç¢å¿µ"></a>ç¢ç¢å¿µ</h4><p>è¶é—²æš‡ï¼ŒèŠ±äº†äº”å¤©ç»™çœ‹å®Œäº†ï¼›æ„Ÿæ¯”è¾ƒä¹…ï¼Œç„¶ç»Ÿè®¡å…± 12 h å³å¯é˜…å®Œï¼›è™½ç´¯äº¦ç”šè‡³æ„‰æ‚¦ã€‚</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202303080119027.png" width="50%"/ loading="lazy"><br><h4 id="ç®€è¦"><a href="#ç®€è¦" class="headerlink" title="ç®€è¦"></a>ç®€è¦</h4><p><strong>æœ¬ä¹¦é‡ç‚¹æ¢è®¨æˆå¹´äººå­¦ä¹ è‹±æ–‡çš„æ–¹æ³•å’Œç­–ç•¥ã€‚</strong>å¯¹äºè‡ªå­¦è‹±è¯­ï¼Œå…¶æŒ‡æ˜äº†ä¸€äº›å¸¸è§çš„è¯¯åŒºï¼Œå’Œå¯¹è¿‘ç™¾å¹´æ¥å‡ºç°è¿‡çš„ä¸»æµæ–¹æ³•è¿›è¡Œäº†å½’çº³ï¼Œä¾æ® Rod Ellis ã€ŠäºŒè¯­ä¹ å¾—æ¦‚è®ºã€‹ ç†è®ºå’Œè¿›ç™¾å¹´å¾—æ—¶é—´éªŒè¯è¿›è¡Œå®šè®ºã€‚å½“ç„¶ï¼Œæœ¬ä¹¦æœ¬ä¹¦ç›´æ¥ç‚¹é¢˜ï¼Œæ²¡æœ‰ä¸€ä¸ªé€šç”¨é€šæ€çš„æ–¹æ³•ï¼Œä½†åˆä¸€ä¸ªé€šç”¨çš„è‡ªç„¶é€»è¾‘é¡ºåºå¯ä»¥ä½œä¸ºå‚è€ƒï¼Œç›®å‰åœ¨äº²èº«éªŒè¯ä¸­ï¼Œä¹Ÿåœ¨å¯»æ‰¾å‡ºä¸€æ¡é€‚åˆè‡ªå·±çš„é“è·¯ã€‚</p><br><h4 id="ç¬¬ä¸€ç« ï¼šçˆ±ä¹‹æ„ˆæ·±ã€è¯¯ä¹‹æ„ˆåˆ‡"><a href="#ç¬¬ä¸€ç« ï¼šçˆ±ä¹‹æ„ˆæ·±ã€è¯¯ä¹‹æ„ˆåˆ‡" class="headerlink" title="ç¬¬ä¸€ç« ï¼šçˆ±ä¹‹æ„ˆæ·±ã€è¯¯ä¹‹æ„ˆåˆ‡"></a><font color=#008000>ç¬¬ä¸€ç« ï¼šçˆ±ä¹‹æ„ˆæ·±ã€è¯¯ä¹‹æ„ˆåˆ‡</font></h4><p><strong>ä»‹ç»å­¦ä¹ å¤–è¯­ä¸­å¸¸è§çš„è¯¯åŒºã€‚</strong></p><ul><li>ä»…å¬æ ‡å‡†å‘éŸ³ï¼Œä¼šé”™è€Œä¸è‡ªçŸ¥ï¼›éœ€å¤šå¬å„ç§å¸¦å£éŸ³çš„å‘éŸ³ï¼Œæ„Ÿå—å…¶ä¸­å·®å¼‚ä»è€Œè‡ªåŠ¨çº æ­£</li><li>å¤–è¯­ç¯å¢ƒ<ul><li>å‡ºå›½å¾…ä¸¤å¹´ï¼Œå°±ä¼šäº†ï¼šä½å¤–å›½æˆ¿ä¸œå®¶ã€åäººè¡—ã€åŠ æ‹¿å¤§å°ç­çº¯å¤–æ•™ã€</li><li>å®é™…ç”Ÿæ´»åœºæ™¯ï¼šè´­ç‰©äº¤æµã€åœ¨å®¶å¬è‹±è¯­å¹¿æ’­</li></ul></li><li>æ—©æœŸå­¦ä¹ è‹±è¯­ä¸åº”å¼€å£ï¼Œæœ‰ä¸€ä¸ªè¾ƒé•¿çš„â€œæ²‰é»˜æœŸâ€ï¼Œè¿‡æ—©å¼€å£è‹±è¯­èƒ½åŠ›ä¼šçŸ³åŒ–åœ¨ä¸€ä¸ªè¾ƒä½æ°´å¹³</li><li>æ´‹æ³¾æµœå£è¯­ï¼ˆè‹±è¯­åŠ å½“åœ°è¯­æ··æ‚åçš„ä¸è§„èŒƒçš„ç®€åŒ–è¯­ï¼‰ï¼šç±»ä¼¼ä¸­å¼è‹±è¯­ã€æ™¯ç‚¹å•†è´©è‹±å£è¯­</li><li>æ±‰è¯­æ˜¯æœ€å®¹æ˜“å­¦ï¼Œä¼šå¬ä¼šè¯´ä¸ä¼šå†™æ±‰å­—çš„æ–‡ç›²ã€‚</li><li>è‹±è¯­è§’å¤šå’Œä½æ°´å¹³åŒå­¦äº¤æµï¼Œä¸å®¹æ˜“çŠ¯åŒæ ·çš„é”™è¯¯ï¼Œå¿ƒç†è½»æ¾ï¼Œå®¹æ˜“è¯´é•¿å¥ã€è¡¨è¾¾æ›´ä½³æµç•…</li><li>å¸¸è§çš„è¯ç»„ä¸å±ä¿šè¯­ï¼Œè¦æŒæ¡ï¼›ä½†ä¸éœ€åˆ»æ„å­¦ä¹ ä¿šè¯­ï¼Œå…¶å±äºæ–‡åŒ–é£ä¿—ã€æ–‡åŒ–åº“ã€‚</li><li>å®é™…åº”ç”¨èƒ½åŠ›ä¸æ˜¯é èƒŒè¯µâ€œå›ºå®šæ­é…â€æ¥æé«˜çš„ã€‚egï¼šâ€œExcuse meâ€ å·²è¢«ç‚¹åå›ç­”ï¼Œåˆ™ä¸å¿…å†è¯´è¡¨ç¤ºæ­¤è¡¨ç¤ºæ’è¯ã€‚æ³¨æ„ä½¿ç”¨çš„åœºæ™¯</li><li>ä¸å¯æœ‰æ„è¯†çš„è®°ä½è¿è¯»åŸç†å¹¶å°è¯•ç†æ€§çš„åº”ç”¨å®ƒï¼Œåˆ»æ„çš„è¿è¯»ä¼šé€‚å¾—å…¶åã€‚æŒæ¡å¬å’Œè¯´çš„è¿è¯»ï¼Œæ˜¯ä¸€ä¸ªè‡ªç„¶çš„è¿‡ç¨‹ã€‚</li></ul><br><p><strong>æ€»ç»“ï¼š</strong> ä¸åŒäººçš„è¯­è¨€å­¦ä¹ é˜¶æ®µï¼Œæœ€ä½³å­¦ä¹ ç¯å¢ƒæ˜¯ä¸åŒçš„ã€‚å¯¹åˆå­¦è€…æ¥è¯´ï¼Œè‡ªç„¶å¤–è¯­ç¯å¢ƒçš„æ•ˆæœæœ€å·®ï¼Œä¸å¿…å¯»æ±‚ã€‚æœ‰è®¡åˆ’ã€æœ‰æ­¥éª¤çš„ã€è‡ªå·±ä»åŸºç¡€å•è¯å¬åŠ›å¼€å§‹å­¦ä¹ ã€‚</p><p>åˆå­¦è€…æœ‰æ•ˆæ–¹å¼ä¹‹ä¸€ï¼šé€šè¿‡å›¾ç”»ã€å®ç‰©ã€è‚¢ä½“è¯­è¨€å¼€å§‹å­¦ä¹ ä¸å…¶å¯¹åº”çš„å•ä¸ªè‹±æ–‡å•è¯å‘éŸ³</p><p>ä¸­çº§å­¦ä¹ è€…ï¼šé€‚åˆå¤šåª’ä½“å’Œè®¡ç®—æœºè¾…åŠ©è¯­è¨€ï¼Œé‡ç‚¹å­¦ä¹ å¬åŠ›ï¼Œåç”±æµ…å…¥æ·±çš„é˜…è¯»</p><p>é«˜çº§å­¦ä¹ è€…ï¼šè‡ªç„¶å¤–è¯­ç¯å¢ƒæ¯”è¾ƒæ˜æ˜¾ï¼Œè‹±æ–‡ç”µå½±ã€åˆé€‚çš„è‹±æ–‡ææ–™æ›´ä½³ã€‚</p><br><h4 id="ç¬¬äºŒç« ï¼šæˆ‘æ€æ•…æˆ‘â€œè¯´â€"><a href="#ç¬¬äºŒç« ï¼šæˆ‘æ€æ•…æˆ‘â€œè¯´â€" class="headerlink" title="ç¬¬äºŒç« ï¼šæˆ‘æ€æ•…æˆ‘â€œè¯´â€"></a><font color=#008000>ç¬¬äºŒç« ï¼šæˆ‘æ€æ•…æˆ‘â€œè¯´â€</font></h4><p><strong>ç®€å•ä»‹ç»ä¸€äº›ç§‘å­¦åŸç†ï¼Œå’Œè®°å•è¯é‡åœ¨è¯»éŸ³ã€è¯­æ³•ä¸é‡è¦çš„è§‚ç‚¹ã€‚æˆäººéœ€è¦è‹±è¯­æ€ç»´æ–¹å¯åšåˆ°â€œå¬â€ã€â€œè¯´â€ååº”è¿…é€Ÿã€‚</strong></p><ul><li><p>å“‘å·´è‹±è¯­</p></li><li><p>å¤–è¯­æ€ç»´ï¼šç›´æ¥å»ºç«‹å¤–è¯­è¯æ±‡æœ¬èº«å’Œæ€ç»´ç›´æ¥è¿æ¥ï¼Œè¿˜å…³è”ç›¸å…³â€œå¤–è¯­è¯æ±‡â€ä»¥åŠå…¶æ…¨å¿µä¸æ€ç»´æ¦‚å¿µçš„ç›´æ¥è¿æ¥</p></li><li><p>å¯¹äºé«˜é¢‘è¯æ±‡å’Œå¥å­ï¼Œå°½å¯èƒ½ä½¿ç”¨å¤–è¯­æ€ç»´ã€‚ä½é¢‘ä»…å äº¤æµä¸­ 10% çš„çš„æŠ½è±¡è¯æ±‡å’Œç‰¹æ®Šç”¨æ³•ï¼Œä¸å¿…å¼ºè¦å¤–è¯­æ€ç»´ï¼›äºŒå…«åŸåˆ™ï¼Œä¸å¿…è€—è´¹å¤§é‡æ—¶é—´å’Œç²¾åŠ›</p></li><li><p>å¤–è¯­çš„é˜…è¯»å’Œå†™ä½œï¼Œæ­£ç¡®ä¹Ÿæ˜¯ç”¨å¤–è¯­æ€ç»´ï¼›ä½†æ€è€ƒæˆ–å†™ä½œå‰æœŸæ„æ€ï¼Œå¯ä½¿ç”¨ä¸€å®šæ¯è¯­æ€ç»´ã€‚</p></li><li><p>â€œè¯­æ³•-ç¿»è¯‘æ³•â€æ•™å­¦æ˜¯ä¸å¯å–çš„ï¼Œæœ‰æ˜æ˜¾å¼Šç«¯ï¼Œå±äºè½åçš„è€å¤è‘£ä¿å®ˆæ´¾ã€‚</p></li><li><p><strong>å•è¯</strong>ï¼šè·å¾—å¤šä¸ºè¡¨ç°å¾—å½¢å¼ï¼Œä»è€Œå»ºç«‹è¯æ±‡æ„ä¹‰åœ¨å¤§è„‘å¾—é•¿ä¹…å°è±¡</p><ul><li>å•è¯åˆ†çº§<ul><li>2000 ä¸ªæœ€é«˜é¢‘å•è¯ï¼Œä½¿ç”¨ç‡ 90%ï¼›ï¼ˆè‹±æ–‡æŠ¥çº¸ä½¿ç”¨ç‡ 80%ï¼Œç•¥ä½ä¸€ç‚¹ï¼‰</li><li>5000 ä¸ªæ¬¡é«˜é¢‘å•è¯ï¼Œä½¿ç”¨ç‡ 98%ï¼›ï¼ˆåŒ…å«å‰ 2000ï¼ŒæŠ¥çº¸åŒç†ç¨ä½ï¼‰ï¼› </li><li>7000 ä¸ªæ™®é€šé«˜é¢‘å•è¯ï¼Œä½¿ç”¨ç‡ 99%ï¼›ï¼ˆåŒ…å«å‰ 5000ï¼ŒæŠ¥çº¸åŒç†ç¨ä½ï¼‰</li><li>7000-30000ï¼Œå‡ºç°é¢‘ç‡ä¸ºæœ€åå¾— 1% ä»¥å†…</li></ul></li><li>ä¸é å­—å…¸è¯»æ‡‚å°è¯´ï¼Œç°è±¡æ˜¯æ¯ 10 è¡Œç”Ÿå‡ºä¸€ä¸ªç”Ÿè¯ï¼ˆæ¯è¡Œ 10 è¯ï¼‰ï¼›5000 åŠ ä¸Š 570 å­¦é™¢è¯æ±‡è¡¨[p105]ï¼Œç•™å­¦çœ‹è‹±æ–‡æ•™ç§‘ä¹¦ä¸å†åƒåŠ›ã€‚</li><li>è¦æ±‚ä¸åŒ<ul><li>ç¬¬ä¸€å±‚ï¼šåŸºç¡€ 200 å•è¯ï¼Œé‡è™½å°‘ï¼Œä½¿ç”¨ç‡æœ€é«˜</li><li>ç¬¬äºŒå±‚ï¼š2000 å•è¯ï¼Œå¯¹è¯ä¸­æœ€å¸¸ç”¨ 1000 ä¸ªå•è¯æ¶µç›–æ™®é€šå¯¹è¯ 94% çš„è¯æ±‡ï¼Œé˜…è¯»ä¸­å‡ºç°æ¦‚ç‡ä¸º 74%ã€‚â€œé€šç”¨è¯æ±‡è¡¨(General Sercice List)â€ äº 1953 å¹´æå‡ºï¼Œä½†è‡³ä»Šä¾æ—§å¯ç”¨ï¼Œè¦†ç›–é˜…è¯»ä¸­ 90%ï¼Œç®€å•å¯¹è¯ 95%ã€‚è¯ç»„æœ€å¥½åœ¨å®é™…ç”¨åˆ°å®ƒä»¬çš„æ–‡ä¸­æˆ–è€…å¥å­æŒæ¡ï¼Œæ­»è®°ç¡¬èƒŒæ•ˆæœå·®ã€‚</li><li>ç¬¬ä¸‰å±‚ï¼š5000 å•è¯è¾¾åˆ° 98%ï¼Œå»ºç«‹å•è¯çš„â€œå£°éŸ³æ€ç»´â€ï¼Œä¸€å¬ç«‹åˆ»ååº”å½¢è±¡æˆ–æ¦‚å¿µè€Œéç¿»è¯‘ã€‚è‡³æ­¤é˜¶æ®µè¶³ä»¥å¤Ÿç”¨ã€‚å…¶ä¸­å¤§å¤šå…·ä½“çš„å•è¯å¯ç”¨å…·ä½“å®ç‰©ã€å›¾åƒã€åŠ¨ä½œè¡¨ç¤ºæ¥å­¦ä¹ ï¼›å°‘æ•°ä¸ºæŠ½è±¡å•è¯ã€‚<strong>å¯å€ŸåŠ©æ—¥å¸¸ç”Ÿæ´»ä¸­è§åˆ°çš„å®ç‰©å»ºç«‹æ€ç»´ã€‚</strong></li><li>ç¬¬å››å±‚ï¼š5000 ä»¥ä¸Šå•è¯ï¼Œä¸å¿…è‹›æ±‚å®Œå…¨è¾¾åˆ°è‹±è¯­æ€ç»´ã€‚é€šè¿‡ä¸­æ–‡è§£é‡Šå­¦ä¼šä¸ä¼šæœ‰å¾ˆå¤§è´Ÿé¢å½±å“ï¼Œé˜…è¯»æ›´æ²¡æœ‰é—®é¢˜ï¼Œå¬åŠ›ä¹Ÿä»…æ‰ 2% æœºä¼šã€‚æ­¤éƒ¨åˆ†åè¿‡æ¥ï¼Œé‡‡å–å…ˆèƒŒè¯µï¼Œåœ¨å®è·µä¸­å‘ç°å’Œäº†è§£çœŸå®åº”ç”¨çš„æ–¹å¼ï¼Œåœ¨åšåˆ°çœŸæ­£æŒæ¡ã€‚</li></ul></li><li>å­¦ä¹ æŒ‰ç…§å°æ—¶è®¡ç®—ï¼Œè€Œä¸èƒ½ç”¨å¤©æ•°ã€‚æœ€å¥½è®¾å®šä»»åŠ¡æœŸé™ï¼Œç®—å‡†æ—¶é—´ï¼Œæå‰æŠ¥å</li><li>è‹±è¯­ä¸­ä¸ºæ•°ä¸å¤šçš„ 180 ä¸ªä¸è§„åˆ™åŠ¨è¯æ‰æ˜¯ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„ï¼Œè¾¾åˆ° 70%ã€‚å¤§å¤šæœ‰å°è§„å¾‹å¯å¾ªï¼Œç”Ÿæ´»ä¸­æœ€å¸¸ç”¨ 20 ä¸ªåŠ¨è¯å…¨éƒ¨æ˜¯ä¸è§„å¾‹ï¼Œä½†æ˜¯æåº¦é«˜é¢‘ä½¿ç”¨ï¼Œåè€Œæ˜¯å®¹æ˜“æŒæ¡çš„ã€‚</li></ul></li><li><p><strong>è®²è¯­æ³•</strong></p><ul><li><p>è¯­æ³•çŸ¥è¯†çš„å¤šå°‘å’Œäº¤æµçš„æµåˆ©ç¨‹åº¦å’Œæ­£ç¡®ç¨‹åº¦ä¹‹é—´ï¼Œæ²¡æœ‰ä¸æ¯«å…³ç³»ã€‚è¯­æ³•çŸ¥è¯†ä¸èƒ½ä¸èƒ½å¸®åŠ©å½¢æˆè‹±è¯­æ€ç»´ï¼Œåè€Œæ˜¯åœ¨æ£ä¹±ã€‚</p></li><li><p>å¯¹è¯­æ³•çš„çœŸæ­£æŒæ¡ï¼Œæ˜¯æœ‰ç‰¹å®šçš„è‡ªç„¶æ¬¡åºçš„ï¼ˆæ‹‰æ£®-å¼—é‡Œæ›¼ä¹ å¾—æ¬¡åºï¼‰ã€‚æ— è®ºæˆå¹´äººæ˜¯å¦å­¦ä¹ è¯­æ³•çŸ¥è¯†ï¼Œæœ€åéƒ½æ˜¯æŒ‰ç…§è¿™ä¸ªé¡ºåºæŒæ¡çš„</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">1. è¿›è¡Œæ—¶ ing2. in3. on4. å¤æ•°5. ä¸è§„åˆ™åŠ¨è¯ä¸­çš„è¿‡å»å½¢å¼6. æ‰€æœ‰æ ¼ â€™s7. is, am, are8. å† è¯9. è§„åˆ™ä¸œè¥¿çš„è¿‡å»å¼å¼€å§‹å‡ºç°-ed10. è§„åˆ™ç¬¬ä¸‰äººç§°å•æ•°-s11. ä¸è§„åˆ™ç¬¬ä¸‰äººç§°å•æ•°-es<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>è¯­æ³•ä»·å€¼çš„å«ä¹‰ï¼š</p><ul><li>é¦–å…ˆå…³æ³¨å¥å­å«ä¹‰è€Œéå¥å­ç»“æ„ã€‚åé¢ä¾‹å­ï¼šé˜…è¯»é€Ÿåº¦æ…¢ï¼Œæ˜¯ç”±äºç›®å…‰åœ¨å«ä¹‰ä»·å€¼ä½çš„è¯æ±‡ä¸Šåœç•™æ—¶é—´æ˜æ˜¾è¿‡é•¿</li><li>æŒæ¡è¯­æ³•è§„å¾‹è¿‡ç¨‹ä¸­ï¼Œåº”è¯¥ä»è¯­æ³•ç°è±¡çš„â€æ­£ç¡®å•è¯ä¹‹é—´çš„æ­é…â€œå…¥æ‰‹ï¼Œä»è€Œå»ºç«‹æ­£ç¡®è¿æ¥ï¼Œè¾¾åˆ°è‡ªåŠ¨ã€è¿…é€Ÿã€ä¸å‡æ€ç´¢çš„è¯­æ³•åº”ç”¨èƒ½åŠ›</li><li>è¯­æ³•çŸ¥è¯†æ€»ç»“å’Œä»‹ç»<ol><li>ç¬¬ä¸€é˜¶æ®µï¼Œé›¶èµ·ç‚¹åœ¨äººä»¬åæœŸé˜¶æ®µï¼Œäº†è§£ä¸€ç‚¹è¯­æ³•è¿˜æ˜¯æœ‰ç”¨å¤„ï¼Œâ€åªéœ€çŸ¥å…¶ç„¶ï¼Œä¸å¿…çŸ¥å…¶æ‰€ä»¥ç„¶â€œå°±å¥½ã€‚æ–¹æ³•æ˜¯é‡ç‚¹ä»‹ç»å¼•æ–‡çš„è¯­æ³•ç»“æ„ï¼Œä»¥åŠå’Œä¸­æ–‡è¯­æ³•ä¸­ä¸åŒçš„æŒ‡å‡ºï¼Œä½¿å¾—ä¸æ„Ÿè§‰å¥‡æ€ªå³å¯ã€‚</li><li>ç¬¬äºŒé˜¶æ®µï¼Œæ¥è§¦å’Œå­¦ä¹ ç›¸å½“å¤–è¯­åï¼Œæœ‰ä¸€å®šå¬åŠ›å’Œé˜…è¯»åŸºç¡€ï¼Œå‡†å¤‡è¯´å’Œå†™ä½œä¹‹å‰ã€‚æ–¹æ³•æ˜¯å­¦ç”Ÿæœ‰æ„è¯†çš„â€œæ³¨æ„åˆ°â€è¯­æ³•å˜åŒ–çš„å…·ä½“å½¢å¼ï¼ŒåŸåˆ™ä¾æ—§æ˜¯â€œåªéœ€çŸ¥å…¶ç„¶ï¼Œä¸å¿…çŸ¥å…¶æ‰€ä»¥ç„¶â€å°±å¥½ã€‚å‰æä¸€ç›´æ˜¯æ­£ç¡®æœ‰æ•ˆçš„è¾“å…¥ã€‚</li><li>ç¬¬ä¸‰é˜¶æ®µï¼Œè¯­æ³•å­¦ä¹ çš„é«˜çº§é˜¶æ®µã€‚é‡ç‚¹ä¸æ˜¯æ™®é€šæ„ä¹‰ä¸Šçš„è¯­æ³•è§„åˆ™ï¼Œä¸å†æ˜¯å›ºå®šæ­é…ï¼Œæ—¶æ€å˜åŒ–ï¼ŒåŠ¨è¯å˜åŒ–å’Œè¯­åºç­‰åŸºç¡€è¯­æ³•ï¼Œè€Œæ˜¯åœ¨è¯­è¨€è¡¨è¾¾çš„é«˜çº§å±‚é¢è¿›è¡Œå®Œå–„ï¼Œæœ€ä¸»è¦æ˜¯å­¦ä¹ æ­£è§„çš„è‹±æ–‡å†™ä½œï¼Œå¦‚å•†åŠ¡å†™ä½œã€‚è¿™ç§è¯­æ³•æé«˜çš„æ ¸å¿ƒæ˜¯â€œé¿å…æ­§ä¹‰â€ã€‚</li></ol></li></ul></li></ul></li><li><p>è®ºè®°å¿†ï¼šæˆäººçš„è®°å¿†åŠ›è¿œæ¯”å„¿ç«¥å¥½</p></li><li><p>å¯¹äºå­¦ä¹ è‹±æ–‡æ¥è¯´ï¼Œåº”è¯¥å®Œå…¨æ”¾å¼ƒè‹±æ–‡å­—ï¼Œåªå­¦ä¹ è‹±è¯­å£°éŸ³ã€‚å°†æ³¨æ„åŠ›é›†ä¸­åˆ°å£°éŸ³ä¸Šï¼ŒçœŸæ­£æŒ‰ç…§å­¦ä¹ è¯­è¨€çš„å› è¯¥çš„è‡ªç„¶é¡ºåºå»æŒæ¡å¤–è¯­ï¼ˆâ€œå…ˆå¬è¯´åè¯»å†™â€ï¼‰ã€‚</p></li><li><p>è¦åšåˆ°æµåˆ©çš„è¯†åˆ«è‹±æ–‡å­—ï¼Œæœ€é‡è¦çš„å‰ææ˜¯è¿™äº›å•è¯çš„â€å‘éŸ³â€éƒ½å·²ç»æ¸…æ™°çš„åœ¨å¤§è„‘ä¸­å½¢æˆï¼Œç„¶åé€šè¿‡å„ç§è®¤çŸ¥æ‰‹æ®µå»è¯†åˆ«æ–‡å­—ã€‚</p></li><li><p>å­¦ä¹ å¤–è¯­çš„æˆå¹´äººï¼Œå›½é™…è‹±æ ‡ä¸€å®šè¦å­¦ï¼Œæ€»å…±æ‰æ˜¯å››åå‡ ä¸ªã€‚</p></li></ul><br><h4 id="ç¬¬ä¸‰ç« ï¼šæ¢å¯»æœ€ä½³æ–¹æ³•ä¹‹è·¯"><a href="#ç¬¬ä¸‰ç« ï¼šæ¢å¯»æœ€ä½³æ–¹æ³•ä¹‹è·¯" class="headerlink" title="ç¬¬ä¸‰ç« ï¼šæ¢å¯»æœ€ä½³æ–¹æ³•ä¹‹è·¯"></a><font color=#008000>ç¬¬ä¸‰ç« ï¼šæ¢å¯»æœ€ä½³æ–¹æ³•ä¹‹è·¯</font></h4><p><strong>è¯¦ç»†ä»‹ç»ç™¾å¹´æ¥å­¦ä¹ è‹±æ–‡ä¸»æµæ–¹æ³•å†å²ï¼Œé€šè¿‡ç†è®ºæ”¯æ’‘å’Œæ—¶é—´éªŒè¯æ¥é˜è¿°å„è‡ªåˆ©å¼Šå’Œå®ç”¨æ€§ã€‚</strong></p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202212060156228.svg" width="100%"/ loading="lazy"><br><h4 id="ç¬¬å››ç« ï¼šç†é€šæ³•è‡ªæ˜"><a href="#ç¬¬å››ç« ï¼šç†é€šæ³•è‡ªæ˜" class="headerlink" title="ç¬¬å››ç« ï¼šç†é€šæ³•è‡ªæ˜"></a><font color=#008000>ç¬¬å››ç« ï¼šç†é€šæ³•è‡ªæ˜</font></h4><p>ä¸å­˜åœ¨æŸä¸€ä¸ªç»Ÿä¸€ã€çš„å…·ä½“çš„â€œå­¦ä¹ æ–¹æ³•â€ï¼Œæ ¹æ®å­¦ä¹ è€…è‡ªèº«æƒ…å†µã€ä¸åŒé˜¶æ®µã€ç§‘å­¦çš„åˆ¶å®šä¸åŒçš„å­¦ä¹ ç­–ç•¥ã€‚</p><p>æœ¬ç« ä¹Ÿæ˜¯å‰ä¸‰ç« çš„æç‚¼ï¼Œä¹Ÿæ˜¯æœ€æ— ç”¨çš„ä¸€ç« ï¼Œä¸€åˆ‡æ‰€éœ€è¦çš„éƒ½éœ€è¦è‡ªå·±å»å‰ä¸‰ç« å¯»æ‰¾ã€‚</p><p>ä»å°†å­¦ä¹ è¿‡ç¨‹åˆ†ä¸ºå››ä¸ªé˜¶æ®µï¼Œå…·ä½“é˜¶æ®µä¹Ÿæä¾›ä¸€äº›æ“ä½œæ–¹æ³•ã€‚</p><ul><li><strong>ä¸‰ç§å­¦ä¹ ç±»å‹</strong><ol><li>è§†è§‰ç±»å‹ï¼ˆVisual Learnerï¼‰ï¼Œå æ® 70%</li><li>å¬è§‰ç±»å‹ï¼ˆAuditory Learnerï¼‰ï¼Œå æ® 20%</li><li>è¿åŠ¨ç±»å‹ï¼ˆkinesthetic Learnerï¼‰ï¼Œå æ® 10%</li></ol></li><li><strong>å¤–è¯­å­¦ä¹ å››ä¸ªé˜¶æ®µ</strong><ol><li>å…¥é—¨æœŸï¼ˆEarly Stageï¼‰<ul><li>ä¸»è¦é”å®šåŸºç¡€å•è¯ï¼Œä»¥åè¯ä¸ºä¸»ï¼ˆå…ˆå­¦ï¼‰ï¼ŒåŠ¨è¯ä¸ºè¾…åŠ©ï¼ˆåå­¦ï¼‰ï¼›åªå­¦å•è¯ï¼Œä¸å­¦å¥å­ï¼›åªç»ƒä¹ å¬åŠ›ã€‚</li><li>å®è·µæ–¹æ³•ï¼šç”Ÿæ´»åœºæ™¯è”æƒ³</li><li>ç»“æŸæ ‡å¿—ï¼šçº¦ 3 ä¸ªæœˆï¼Œ1000 å•è¯ + çŸ­è¯­</li></ul></li><li>æé«˜æœŸï¼ˆUpping the Anteï¼‰<ul><li>é€šè¿‡å¬åŠ›ï¼Œå»ºç«‹å¤–è¯­æ€ç»´ï¼Œå…³é”®æ˜¯æä¾›é€‚å½“çš„â€œå¯ç†è§£è¾“å…¥â€</li><li>å®è·µæ–¹æ³•ï¼šå¤æ©çš„åºåˆ—æ³•</li><li>ç»“æŸæ ‡å¿—ï¼šçº¦ 6 ä¸ªæœˆï¼Œ2000~4000å•è¯ï¼Œèƒ½å¬æ‡‚ç”Ÿæ´»å¯¹è¯ï¼Œå¯ç‹¬è‡ªå‡ºå›½æ—…æ¸¸ï¼›ä½†ä¾æ—§å¤§é‡å¬ä¸æ‡‚åŸç‰ˆç”µå½±ã€‚</li></ul></li><li>å¢é•¿æœŸï¼ˆGetting Seriousï¼‰<ul><li>å­¦ä¹ é‡ç‚¹ä¾æ—§å¬åŠ›ï¼Œå¢åŠ é˜…è¯»ï¼Œå¯ä»¥å°‘é‡é’ˆå¯¹æ€§çš„è¯´è‹±è¯­ã€‚</li><li>å®è·µæ–¹æ³•ï¼šè¯æ±‡é‡çªå‡»ï¼Œé‡‡ç”¨å¿«é€ŸèƒŒå•è¯</li><li>ç»“æŸæ ‡å¿—ï¼šä¸€å¹´å¤šï¼Œæ¯å¤©è‡³å°‘ä¸€å°æ—¶ã€‚è‹±æ–‡ç¯å¢ƒå’Œå·¥ä½œå­¦ä¹ æ— å›°éš¾ï¼Œè‹±æ–‡ç”µå½±ç†è§£å¤§éƒ¨åˆ†ã€‚</li></ul></li><li>é«˜çº§æœŸï¼ˆScaling Everestï¼‰<ul><li>é‡ç‚¹æ˜¯è¡¥ä¹ è¯­æ³•ï¼ˆæ¶ˆé™¤è¯­è¨€ä¸­æ­§ä¹‰åˆ™ç§ç­‰ï¼‰ï¼Œé”»ç‚¼è‹±æ–‡å†™ä½œ &#x2F; å•†åŠ¡å†™ä½œï¼›ä»¥åŠçº æ­£å£éŸ³ã€‚çªç ´â€œæ»¡è¶³äºç°çŠ¶â€çš„å¿ƒç†éšœç¢ã€‚</li><li>å®è·µæ–¹æ³•ï¼šæ²¡æœ‰æ–¹æ³•ï¼Œå·²ç»æ˜¯ Life Style</li><li>ç»“æŸæ ‡å¿—ï¼šçº¦ 5%çš„é™ˆå¹´äººèƒ½è¾¾åˆ°æ­¤â€œæ¥è¿‘æ¯è¯­æ°´å¹³â€</li></ul></li></ol></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´» - é˜…è¯» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å­¦ä¹ æ–¹æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>STL çš„ std::set åˆ›å»ºè‡ªå®šä¹‰ç»“æ„ä½“çš„å¯¹è±¡ï¼Œå®šä¹‰ä¸¥æ ¼å¼±åºçš„æ¯”è¾ƒå‡½æ•°</title>
      <link href="/posts/95758696/"/>
      <url>/posts/95758696/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong> å¯¹äº <code>STL</code> ä¸­ <code>std::set</code> åˆ›å»ºè‡ªå®šä¹‰ç»“æ„ä½“çš„å¯¹è±¡ï¼Œå‘ç°ä½¿ç”¨ <strong>â€œå‡½æ•°å¯¹è±¡â€</strong> å’Œ <strong>â€œå®šä¹‰æ™®é€šå‡½æ•° + decltypeâ€</strong> ä¸¤ç§æ–¹å¼ä¼šæœ‰å·®å¼‚ï¼Œä¸”å…¶ä¸­ä¸€ç§ä¹¦å†™ä¼šå¯¼è‡´å´©æºƒï¼Ÿæ¢ç©¶ä¸€ç•ªåï¼Œå€¼å¾—è®°å½•ä¸€ä¸‹ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h3><p>å¯¹äº <code>std::set</code> åˆ›å»ºå¯¹è±¡åˆ†ä¸ºä¸¤ç§ï¼šâ’ˆåŸºç¡€æ•°æ®ç±»å‹; â’‰è‡ªå®šä¹‰ç»“æ„ä½“ç±»å‹ã€‚å‰è€…æ•™ç¨‹å¾ˆå¤šï¼Œæ•…ä»…è®²è¿°åè€…ï¼›</p><p>ğŸ’»  <code>win10 21H2</code> ğŸ“  <code>Visual Studio 2019</code> ğŸ“ <code>C++17</code></p><br><p>å…¶ä¸­å¯¹äºå…¶ä¸­ä¸¤ç§æ–¹å¼åˆ›å»ºï¼Œä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼Œæ­¤å¤„ç›´æ¥æ”¾ç»“è®ºï¼š</p><ul><li>å‡½æ•°å¯¹è±¡ï¼ˆä»¿å‡½æ•°ï¼‰</li><li>å®šä¹‰æ™®é€šå‡½æ•° + decltype</li></ul><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">std<span class="token double-colon punctuation">::</span>set<span class="token operator">&lt;</span>MyData<span class="token punctuation">,</span> cmpSortObj<span class="token operator">></span>  s<span class="token punctuation">;</span>                      <span class="token comment">// "å‡½æ•°å¯¹è±¡"åˆ›å»º set å¯¹è±¡ --> OK</span>std<span class="token double-colon punctuation">::</span>set<span class="token operator">&lt;</span>MyData<span class="token punctuation">,</span> <span class="token keyword">decltype</span><span class="token punctuation">(</span>cmpSort<span class="token punctuation">)</span><span class="token operator">*</span><span class="token operator">></span>  <span class="token function">s</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>cmpSort<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// "å®šä¹‰æ™®é€šå‡½æ•° + decltype"åˆ›å»º set å¯¹è±¡ -->    OK:  ç¼–è¯‘ã€è¿è¡ŒæˆåŠŸï¼›è°ƒè¯•ä¹ŸæˆåŠŸ</span>std<span class="token double-colon punctuation">::</span>set<span class="token operator">&lt;</span>MyData<span class="token punctuation">,</span> <span class="token keyword">decltype</span><span class="token punctuation">(</span>cmpSort<span class="token punctuation">)</span><span class="token operator">*</span><span class="token operator">></span>  s<span class="token punctuation">;</span>              <span class="token comment">//                                     --> Error:  ç¼–è¯‘ã€è¿è¡ŒæˆåŠŸï¼›è°ƒè¯•ä¼šå¤±è´¥</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h3><ul><li>è®¨è®ºè¿‡ç¨‹ï¼Œè§ <a href="https://scottyeung.top/2019/C-std-set/">C++ std::set</a> ç•™è¨€åŒºã€‚</li><li>å®Œæ•´æºç äº¦è§ <a href="https://github.com/XMuli/QtExamples/edit/master/DeDuplication/Unique/Unique.cpp">Unique.cpp</a></li></ul><br><h3 id="ç³»åˆ—åœ°å€"><a href="#ç³»åˆ—åœ°å€" class="headerlink" title="ç³»åˆ—åœ°å€"></a>ç³»åˆ—åœ°å€</h3><p><a href="https://github.com/XMuli/QtExamples">QtExamples</a></p><p>æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”<strong>æ°¸ä¹…å…è´¹</strong>ï¼â€</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºäºŒ ç»éªŒ </category>
          
          <category> å­¦ä¹  - Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> STL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ æ ‡å¿—ä½ä½¿ç”¨ï¼šæ ¡éªŒã€æ·»åŠ ã€åˆ é™¤</title>
      <link href="/posts/65a4931a/"/>
      <url>/posts/65a4931a/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong> ä½¿ç”¨ <code>C++ / Qt</code> å¶å°”ä¼šé‡åˆ°éœ€è¦è®¾ç½®ä¸€äº›å±æ€§ï¼Œåœ¨æ­¤è®°å½•ä¸€ç•ªï¼Œæ–¹ä¾¿ä¸‹æ¬¡æ—¶å€™ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// C++ æ ‡å¿—ä½</span>flages <span class="token operator">&amp;</span> WS_POPUP                         <span class="token comment">// æ£€æŸ¥ä¸€ä¸ªæ ‡å¿—ä½</span>flages <span class="token operator">|=</span> WS_POPUP                        <span class="token comment">// è®¾ç½®ä¸€ä¸ªæ ‡å¿—ä½</span>flages <span class="token operator">&amp;=</span> <span class="token operator">~</span><span class="token punctuation">(</span>WS_POPUP <span class="token operator">|</span> WS_SYSMENU<span class="token punctuation">)</span>        <span class="token comment">// é™¤å»å¤šä¸ªæ ‡å¿—ä½</span>    <span class="token comment">// QT æ ‡å¿—ä½, é™¤äº†ä¸Šé¢ä¹‹å¤–ï¼Œè¿˜å¯ç”¨æ­¤å‡½æ•°</span><span class="token function">setWindowFlags</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>FramelessWindowHint<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// å¼€å¯æ­¤å±æ€§ </span><span class="token function">setWindowFlags</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>FramelessWindowHint<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// å…³é—­æ­¤å±æ€§</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><span id="more"></span><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºäºŒ ç»éªŒ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å·¥ç¨‹ç»éªŒ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>STL ä¸­ç»™ vector å»é‡çš„ä¸‰ç§æ–¹æ³•</title>
      <link href="/posts/be0b5490/"/>
      <url>/posts/be0b5490/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong> å¯¹ <code>std::vector</code> ä¸­çš„å…ƒç´ è¿›è¡Œå»é‡ï¼Œå…¶ä¸­å…ƒç´ ä¸ºè‡ªå®šä¹‰ç»“æ„ä½“ç±»å‹ã€‚æä¾›ä¸‰ç§æ€è·¯ï¼Œå¹¶ä¸”é™„ä¸Šè¯¦ç»†ç¤ºä¾‹å’Œåˆ†æã€‚å…³é”®è¯å†…å®¹ï¼š</p><ol><li>C++ <code>std::unique</code> å‡½æ•°å»é‡ï¼Œå´å¯¼è‡´çš„ <code>std::vector</code> å‘ç”Ÿæ”¹å˜ï¼ˆé‡å†…å­˜æ³„æ¼ï¼‰</li><li>c++ <code>std::vector</code> åˆ©ç”¨ <code>std::set</code> å»é‡ï¼ˆè‡ªå®šä¹‰ç»“æ„ä½“åˆ›å»º set å¯¹è±¡çš„æ–¹æ³•ï¼‰</li><li>è‡ªå®šä¹‰ç»“æ„ä½“åœ¨ <code>sort</code> å’Œ <code>unique</code> ä¸­ <code>æ¯”è¾ƒ / ç­‰äº</code> å‡½æ•°ä¹¦å†™ï¼ˆé‡è½½ã€å‡½æ•°ã€å‡½æ•°å¯¹è±¡ï¼›ä¸¥æ ¼å¼±åºã€ç›¸ç­‰ï¼‰</li></ol><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>ã€€ã€€åœ¨å¼€å‘é˜²ç—…æ¯’ä¸šåŠ¡ä¸­ï¼Œéœ€è¦å¯¹<strong>ä¼ å…¥åˆ° <code>vector</code> ä¸­çš„æ ·æœ¬è¿›è¡Œå»é‡</strong> ï¼›æœ¬ç¯‡å…¨ç¨‹é‡‡ç”¨ C++ STL åº“ï¼Œæœªè°ƒç”¨ Qt æ¥å£ã€‚ä¸šåŠ¡æŠ½è±¡å‡ºä¸€ä¸ªå…·ä½“ä¾‹å­å¦‚ä¸‹ã€‚</p><p><strong>æ„å»ºç¯å¢ƒï¼š</strong> ğŸ’»  <code>win10 21H2</code> ğŸ“  <code>Visual Studio 2019</code> ğŸ“ <code>C++17</code></p><br><h3 id="å»é‡æ€è·¯"><a href="#å»é‡æ€è·¯" class="headerlink" title="å»é‡æ€è·¯"></a>å»é‡æ€è·¯</h3><p>ã€€ã€€æœç´¢å‘ç°ï¼Œå¯¹ <code>std::vector</code> å…±åˆ†ä¸ºä¸¤ç§ï¼Œ<strong>ä¸€ç§åŸºç¡€æ•°æ®ç±»å‹ï¼Œå¦ä¸€ç§è‡ªå®šä¹‰ç»“æ„ä½“ç±»å‹ã€‚</strong></p><ol><li><p><strong>åŸºç¡€æ•°æ®ç±»å‹</strong></p><p>SO æä¾›ä¸‰ç§è§£å†³æ–¹æ¡ˆï¼Œæ¨èä½¿ç”¨ç¬¬äºŒç§ã€‚è§ <a href="https://stackoverflow.com/questions/1041620/whats-the-most-efficient-way-to-erase-duplicates-and-sort-a-vector">Whatâ€™s the most efficient way to erase duplicates and sort a vector?</a></p></li><li><p><strong>è‡ªå®šä¹‰ç»“æ„ä½“ç±»å‹</strong></p><p>å®é™…é¡¹ç›®ä¸­ï¼Œè¿™ç§æˆ‘ä»¬æ›´å¸¸é‡åˆ°ï¼Œæ‰æ˜¯æ‰€éœ€ã€‚<font color=#D0087E size=4 face="STFangsong"><strong>ä½™ä¸‹å…¨æ–‡é‡ç‚¹è®²è§£æ­¤ã€‚</strong></font></p></li></ol><br><h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p><font color=#D0087E size=4 face="STFangsong">å¯¹äº<strong>è‡ªå®šä¹‰ç»“æ„ä½“</strong> ç±»å‹ï¼Œä½¿ç”¨ STL çš„ <code>set</code>ã€<code>sort</code>ã€<code>unique</code> æ—¶ï¼Œéƒ½æ˜¯éœ€è¦è‡ªå®šä¹‰å…¶<u><strong>ä¸¥æ ¼å¼±åº</strong></u>çš„<strong>æ¯”è¾ƒå‡½æ•°</strong> æˆ–è€…<strong>ç›¸ç­‰å‡½æ•°</strong> çš„ï¼ˆæ­¤å¤„ç”¨ <code>_Pr</code> è¡¨ç¤ºï¼‰ã€‚</font></p><p><strong>å…¶ä¸­ æ¯”è¾ƒå‡½æ•° <code>_Pr</code> çš„å®ç°æœ‰ä¸‰ç§ï¼ˆé™„ä¸Šçš„å®Œæ•´æºç ï¼‰ï¼š</strong></p><ol><li>åœ¨è‡ªå®šä¹‰ç»“æ„ä½“ä¸­ <font color=#FF0000 size=4 face="STFangsong"><strong>é‡è½½ <code>&lt;</code> å‡½æ•°</strong></font>ï¼Œç®€å•ï¼Œå‚è§ä»£ç æ–¹å¼ä¸€ã€‚ç•¥</li><li><font color=#FF0000 size=4 face="STFangsong"><strong>å®šä¹‰ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°</strong></font>ï¼Œæœ€ä¸ºå¸¸ç”¨ï¼›äº¦æœ‰ç”¨ Lambda å®šä¹‰ï¼›</li><li>ä½¿ç”¨ <font color=#FF0000 size=4 face="STFangsong"><strong>å‡½æ•°å¯¹è±¡</strong></font>ï¼Œäº¦ç®€å•ï¼Œå±äº 2 çš„å˜ç§ï¼Œåœ¨è‡ªå®šä¹‰çš„å‡½æ•°å¤–é¢å¥—äº†ä¸€å±‚ <code>class</code> æˆ–è€… <code>struct</code> ç½¢äº†ã€‚</li></ol><br><p>PS: å› å®é™…é¡¹ç›®ä¸­çš„ç»“æ„ä½“ï¼Œæ²¡æœ‰å’Œæ— æ³•é‡è½½ <code>operator&lt;</code>ï¼Œ æ•… 1 ä¸å¯ç”¨ã€‚ç„¶åå†³å®šé‡‡ç”¨ 2 æ–¹å¼ã€‚</p><p>è€Œ 2 å¼æ¨èä½¿ç”¨å¸¸è§„å£°æ˜å’Œå®šä¹‰å‡½æ•°æ–¹å¼ï¼Œè€Œä¸ä½¿ç”¨ Lambda æ–¹å¼å®šä¹‰ï¼›åŸå› æ˜¯åè€…åœ¨æŸäº›ç®—æ³•ä¸­ä¼šå¤±æ•ˆã€‚</p><p>å…¶ä¸­ 3 å¼å¯¹äºåˆ›å»º <code>std::set</code> å¯¹è±¡å¾ˆæ–¹ä¾¿ã€‚</p><br><h3 id="ã€ä¸€ã€vector-sort-unique"><a href="#ã€ä¸€ã€vector-sort-unique" class="headerlink" title="ã€ä¸€ã€vector, sort + unique"></a>ã€ä¸€ã€vector, sort + unique</h3><blockquote><p><strong>æ€è·¯ï¼š</strong> å…ˆåˆ©ç”¨ sort è¿›è¡Œæ’åºï¼Œå°†é‡å¤çš„é¡¹ä½¿ä¹‹ç›¸é‚»ï¼Œç„¶ååˆ©ç”¨ unique çš„å±æ€§è¿›è¡Œå»é‡ã€‚æ³¨æ„ç‚¹ä¸º unique å»é‡ç‰¹æ€§ã€‚</p></blockquote><br><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// æ ¸å¿ƒä»£ç </span><span class="token function">sort</span><span class="token punctuation">(</span>vec<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vec<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cmpSort<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">auto</span> ite <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">unique</span><span class="token punctuation">(</span>vec<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vec<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cmpUnique<span class="token punctuation">)</span><span class="token punctuation">;</span>vec<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>ite<span class="token punctuation">,</span> vec<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><br><p>ä½†å…¶ä¸­å¤§æœ‰æ–‡ç« ï¼Œæ‰€ä»¥ä¸¾ä¸€ä¸ªå®Œæ•´ä¾‹å­ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;set></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">MyData</span> <span class="token punctuation">&#123;</span>    wstring name<span class="token punctuation">;</span>    wstring md5<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">cmpSort</span><span class="token punctuation">(</span><span class="token keyword">const</span> MyData<span class="token operator">&amp;</span> d1<span class="token punctuation">,</span> <span class="token keyword">const</span> MyData<span class="token operator">&amp;</span> d2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> d1<span class="token punctuation">.</span>md5 <span class="token operator">&lt;</span> d2<span class="token punctuation">.</span>md5<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">cmpUnique</span><span class="token punctuation">(</span><span class="token keyword">const</span> MyData<span class="token operator">&amp;</span> d1<span class="token punctuation">,</span> <span class="token keyword">const</span> MyData<span class="token operator">&amp;</span> d2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> d1<span class="token punctuation">.</span>md5 <span class="token operator">==</span> d2<span class="token punctuation">.</span>md5<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    vector<span class="token operator">&lt;</span>MyData<span class="token operator">></span> vec <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#123;</span> L<span class="token string">"a1.exe"</span><span class="token punctuation">,</span> L<span class="token string">"B9204B6362A65C248950D5A41F341DCC"</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                           <span class="token punctuation">&#123;</span> L<span class="token string">"a2.exe"</span><span class="token punctuation">,</span> L<span class="token string">"B9204B6362A65C248950D5A41F341DCC"</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                           <span class="token punctuation">&#123;</span> L<span class="token string">"b1.exe"</span><span class="token punctuation">,</span> L<span class="token string">"C96D1AA5D314954417C28A645ED72665"</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                           <span class="token punctuation">&#123;</span> L<span class="token string">"b2.exe"</span><span class="token punctuation">,</span> L<span class="token string">"C96D1AA5D314954417C28A645ED72665"</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    wcout<span class="token punctuation">.</span><span class="token function">imbue</span><span class="token punctuation">(</span><span class="token function">locale</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span> LC_CTYPE<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    wcout <span class="token operator">&lt;&lt;</span> L<span class="token string">"----------è°ƒæ•´å‰--------"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">auto</span><span class="token operator">&amp;</span> it <span class="token operator">:</span> vec<span class="token punctuation">)</span>         wcout <span class="token operator">&lt;&lt;</span> L<span class="token string">"[it.name]"</span> <span class="token operator">&lt;&lt;</span> it<span class="token punctuation">.</span>name <span class="token operator">&lt;&lt;</span> L<span class="token string">"[it.md5]"</span> <span class="token operator">&lt;&lt;</span> it<span class="token punctuation">.</span>md5 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token function">sort</span><span class="token punctuation">(</span>vec<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vec<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cmpSort<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">auto</span> ite <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">unique</span><span class="token punctuation">(</span>vec<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vec<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cmpUnique<span class="token punctuation">)</span><span class="token punctuation">;</span>    vec<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>ite<span class="token punctuation">,</span> vec<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    wcout <span class="token operator">&lt;&lt;</span> L<span class="token string">"----------è°ƒæ•´å--------"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">auto</span><span class="token operator">&amp;</span> it <span class="token operator">:</span> vec<span class="token punctuation">)</span>          wcout <span class="token operator">&lt;&lt;</span> L<span class="token string">"[it.name]"</span> <span class="token operator">&lt;&lt;</span> it<span class="token punctuation">.</span>name <span class="token operator">&lt;&lt;</span> L<span class="token string">"[it.md5]"</span> <span class="token operator">&lt;&lt;</span> it<span class="token punctuation">.</span>md5 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><p>è¿è¡ŒæŸ¥çœ‹ç»“æœï¼Œä¼¼ä¹æ˜¯å®Œç¾ç¬¦åˆé¢„æœŸçš„ï¼Ÿï¼Ÿï¼Ÿ å¯çœŸçš„å¦‚æ­¤ï¼Ÿ</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/20220813131959.png" width="45%"/ loading="lazy"><p><font color=#FF0000 size=4 face="STFangsong"><strong>å®é™…å®ƒä¼šäº§ç”Ÿå†…å­˜æ³„æ¼ï¼ŒåŸå› æ˜¯ç”±äºä½¿ç”¨çš„è‡ªå®šä¹‰ cmpUnique() å‡½æ•°å¯¼è‡´çš„ï¼Œå…¶å¹¶æœªæ˜¯çœŸæ­£çš„ä¸¤ä¸ªç»“æ„ä½“å¯¹è±¡ç›¸ç­‰ï¼Œä¸” stackoverflow.com äº¦èƒ½å¤Ÿä½è¯ RefÂ <sup>[4]</sup></strong> </font></p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/20220813133846.png" width="90%"/ loading="lazy"><p>å°è¯•å°† <code>cmpUnique()</code> ä¿®æ”¹å¦‚ä¸‹ï¼Œä¾¿ä¸å†æœ‰å†…å­˜æ³„æ¼äº†ï¼Œä½†æ­¤åŠŸèƒ½å‡½æ•°ï¼Œå´ä¹Ÿâ€å¤±æ•ˆâ€äº†ï¼Œæ²¡æœ‰èµ·åˆ°å»é‡çš„æ•ˆæœï¼Œå¯ä»¥è°ƒè¯•è‡ªè¡ŒæŸ¥éªŒæ•ˆæœ</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">bool</span> <span class="token function">cmpUnique</span><span class="token punctuation">(</span><span class="token keyword">const</span> MyData<span class="token operator">&amp;</span> d1<span class="token punctuation">,</span> <span class="token keyword">const</span> MyData<span class="token operator">&amp;</span> d2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">//return d1.md5 == d2.md5;                          // æ­¤ã€ä¸ä¸¥æ ¼ç›¸ç­‰ã€ä¼šå†…å­˜æ³„æ¼</span>    <span class="token keyword">return</span> d1<span class="token punctuation">.</span>md5 <span class="token operator">==</span> d2<span class="token punctuation">.</span>md5 <span class="token operator">&amp;&amp;</span> d1<span class="token punctuation">.</span>name <span class="token operator">==</span> d2<span class="token punctuation">.</span>name<span class="token punctuation">;</span>      <span class="token comment">// æ­¤ã€ä¸¥æ ¼ç›¸ç­‰ã€æ»¡è¶³è¯­æ³•ï¼Œå´ä¸æ»¡è¶³å®é™…ä¸šåŠ¡éœ€æ±‚</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><br><p><strong>æ›´æ–°</strong></p><p>ã€€ã€€æœ¬æƒ³åé¢æœ‰æ—¶é—´å†ç»§ç»­ç ”ç©¶ä¸‹æ–¹å¼ä¸€ï¼Œçœ‹çœ‹è‡ªå®šä¹‰ <code>cmpUniqueï¼ˆï¼‰</code> ä¿®æ”¹è¾¾åˆ°ä¸¥æ ¼å¼±åºçš„è¦æ±‚ï¼Œèƒ½å¤Ÿä¸ä¼šæœ‰å†…å­˜æ³„æ¼ï¼Œäº¦èƒ½å¤Ÿå®Œç¾ç¬¦åˆè¦æ±‚ã€‚ä½†å¿ƒé‡Œç—’ç—’ï¼Œæ€»æ˜¯è¿˜æœ‰ä¸€ç‚¹å›°æƒ‘ï¼Œä¸¤å¤©åï¼ŒåŠå¤œç¡ä¸ç€ï¼Œåˆèµ·æ¥ç ”ç©¶äº†ä¸‹ã€‚</p><p>ã€€ã€€ç¿»äº†ä¸‹  <code>std::unique()</code> çš„é»˜è®¤ç¬¬ä¸‰ä¸ªå‚æ•°çš„é»˜è®¤å®ç°ï¼Œå¦‚å›¾ï¼Œå‘ç°å°±æ˜¯ç›´æ¥ <code>==</code> æ¯”è¾ƒã€‚é‚£å°±æ˜¯ä¸¥æ ¼çš„å¯¹è±¡ç›¸ç­‰ï¼Œæ»¡è¶³è¯­æ³•å’Œç¼–è¯‘ï¼Œä½†ä¸æ»¡è¶³ä¸šåŠ¡çš„éœ€è¦ï¼Œæ•…è¿™ä¸ªç‚¹ä¹Ÿæ²¡æœ‰ç–‘é—®äº†ã€‚</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/20220815113235.png" width="85%"/ loading="lazy"><br><p><strong>å®é™…æƒ…å†µå¤æ‚å¾—å¤šï¼š</strong> å®é™…çš„ <code>MyData</code> ç»“æ„ä½“æ˜¯å¾®è½¯çš„ COM ç»„ä»¶ä¸­çš„ <code>Bundle</code> ç»“æ„ï¼Œæ¯ä¸€ä¸ª**<code>Bundle</code> å¯¹è±¡** çš„å±æ€§é¡¹ç›®çš„æ•°é‡å’Œå†…å®¹éƒ½å¯èƒ½ä¸åŒï¼Œä»…æœ‰å°‘éƒ¨åˆ†é‡å ã€‚éœ€æ±‚ä¸ºä»…åªéœ€æ¯”è¾ƒçš„ä¸¤ä¸‰ä¸ªå±æ€§å†…å®¹æ˜¯å¦å®Œå…¨ä¸€è‡´ï¼Œæ¥åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºåŒé‡å¤æ–‡ä»¶ã€‚äº¦æ²¡æœ‰æä¾›ç›´æ¥åˆ¤æ–­ä¸¤ä¸ª <strong><code>Bundle</code> å¯¹è±¡</strong> ç›¸ç­‰çš„æ¥å£ã€‚ç®€ç›´æ˜¯è¦è¦å‘½ï¼Œ Helpï¼ŒHelpï¼ŒHelpï¼ï¼ï¼</p><p><strong>ç»¼ä¸Šï¼š</strong> å†³å®šå¼ƒç”¨æ­¤æ–¹å¼ï¼Œæ”¹ç”¨ä¸‹é¢ã€æ–¹å¼äºŒã€ï¼Œä¸”æœ€ç»ˆå®Œæˆç›®çš„ã€‚</p><br><h3 id="ã€äºŒã€vector-setï¼ˆæ‰‹åŠ¨èµ‹å€¼ï¼‰"><a href="#ã€äºŒã€vector-setï¼ˆæ‰‹åŠ¨èµ‹å€¼ï¼‰" class="headerlink" title="ã€äºŒã€vector + setï¼ˆæ‰‹åŠ¨èµ‹å€¼ï¼‰"></a>ã€äºŒã€vector + setï¼ˆæ‰‹åŠ¨èµ‹å€¼ï¼‰</h3><blockquote><p><strong>æ€è·¯ï¼š</strong> å¾ˆç®€å•ï¼Œå…ˆå°† vector æ•°æ®å¯¼å…¥ setï¼Œåˆ©ç”¨å…¶å•ä¸€æ€§å»é‡ï¼Œç„¶åå†æ•°æ®èµ‹å€¼ç»™ vectorï¼Œå®Œç¾çš„æ€è·¯ï¼Œäº¦ä¸ä¼šæœ‰æ–¹å¼ä¸€çš„å†…å­˜æ³„æ¼ã€‚<font color=#008000 size=4 face="STFangsong"><strong>å…¶ä¸­éš¾ç‚¹ä¸ºç»™åˆ›å»º std::set çš„å¯¹è±¡è¿›è¡Œè‡ªå®šä¹‰ç±»å‹æ’åºå’Œèµ‹å€¼ã€‚å…¶éš¾ç‚¹è§£å†³æ–¹å¼å¯å‚è€ƒ Ref<sup>[2]</sup>çš„æ–¹å¼ä¸‰</strong> </font></p><p>å…¶ä¸­ std::set çš„è‡ªå®šä¹‰æ’åºå‡½æ•° cmpSort()ï¼Œåˆåˆ†ä¸ºå®šä¹‰åœ¨ç±»å¤–è¿˜æ˜¯ç±»å†…ï¼Œè‹¥æ˜¯å‰è€…åˆ™ç”šè‡³ç®€å•ï¼Œè‹¥æ˜¯åè€…ï¼Œåˆ™å¿…é¡»å®šä¹‰ä¸º<strong>é™æ€æˆå‘˜å‡½æ•°</strong>ã€‚</p></blockquote><br><h4 id="cmpSort-å®šä¹‰åœ¨-Class-å¤–"><a href="#cmpSort-å®šä¹‰åœ¨-Class-å¤–" class="headerlink" title="cmpSort() å®šä¹‰åœ¨ Class å¤–"></a>cmpSort() å®šä¹‰åœ¨ Class å¤–</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// æ ¸å¿ƒä»£ç </span>set<span class="token operator">&lt;</span>MyData<span class="token punctuation">,</span> <span class="token keyword">decltype</span><span class="token punctuation">(</span>cmpSort<span class="token punctuation">)</span><span class="token operator">*</span><span class="token operator">></span>  <span class="token function">s</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>cmpSort<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// æ­¤ç§æ–¹å¼æ¯”è¾ƒå°‘è§ï¼Œä¸”ç¬¬äºŒä¸ª &amp; è‹¥æƒ³çœç•¥äº¦å¯ï¼Œåˆ™ç¼–è¯‘å™¨äº¦ä¼šè‡ªåŠ¨æ·»åŠ </span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> vec<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>vec<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>vec<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><p><strong>æ³¨ï¼š</strong> è‹¥å·æ‡’é‡‡ç”¨ <code>set&lt;MyData, decltype(cmpSort)*&gt;  s;</code> æ­¤æ–¹å¼å®šä¹‰å¯¹è±¡ï¼Œåˆ™ä¼šå¯¼è‡´è°ƒç”¨ <code>s.insert(vec[i]);</code> æ—¶å´©æºƒï¼Œå‘ã€‚</p><br><h4 id="cmpSort-å®šä¹‰ä¸º-Class-æˆå‘˜å˜é‡"><a href="#cmpSort-å®šä¹‰ä¸º-Class-æˆå‘˜å˜é‡" class="headerlink" title="cmpSort() å®šä¹‰ä¸º Class æˆå‘˜å˜é‡"></a>cmpSort() å®šä¹‰ä¸º Class æˆå‘˜å˜é‡</h4><p>è¿™ç§å¤§æ¦‚æ˜¯å®é™…ä¸šåŠ¡ä¸­æœ€å¸¸é‡åˆ°çš„åœºæ™¯ï¼Œäº¦æ˜¯è¿™å‡ ç§æœ€å¤æ‚çš„ä¸€ç§ã€‚ </p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// æ ¸å¿ƒä»£ç </span>set<span class="token operator">&lt;</span>MyData<span class="token punctuation">,</span> <span class="token keyword">decltype</span><span class="token punctuation">(</span>DeDuplication<span class="token double-colon punctuation">::</span>cmpSort<span class="token punctuation">)</span><span class="token operator">*</span><span class="token operator">></span>  <span class="token function">s</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>DeDuplication<span class="token double-colon punctuation">::</span>cmpSort<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// æœ¬è¡Œå®šä¹‰ä¸ºé‡ç‚¹</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m_vec<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>    s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>m_vec<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>m_vec<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><p>å…¶ä¸­ Class DeDuplication ç§ <code>cmpSort()</code> å¿…é¡»ä¸º <code>static</code> ç±»å‹ï¼Œå®šä¹‰å¦‚ä¸‹ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;set></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">MyData</span><span class="token punctuation">&#123;</span>    wstring name<span class="token punctuation">;</span>    wstring md5<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">DeDuplication</span><span class="token punctuation">&#123;</span><span class="token keyword">private</span><span class="token operator">:</span>    <span class="token keyword">static</span> <span class="token keyword">bool</span> <span class="token function">cmpSort</span><span class="token punctuation">(</span><span class="token keyword">const</span> MyData<span class="token operator">&amp;</span> d1<span class="token punctuation">,</span> <span class="token keyword">const</span> MyData<span class="token operator">&amp;</span> d2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// ***** æ³¨æ„ï¼Œå¿…é¡»æ˜¯é™æ€ *****</span>        <span class="token comment">// Simple example</span>        <span class="token keyword">return</span> d1<span class="token punctuation">.</span>md5 <span class="token operator">&lt;</span> d2<span class="token punctuation">.</span>md5<span class="token punctuation">;</span>        <span class="token comment">// Complex sample</span>        <span class="token comment">//if (d1.md5 != d2.md5)</span>        <span class="token comment">//    return d1.md5 &lt; d2.md5;</span>        <span class="token comment">//else</span>        <span class="token comment">//    return d1.name &lt; d2.name;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        wcout<span class="token punctuation">.</span><span class="token function">imbue</span><span class="token punctuation">(</span><span class="token function">locale</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span> LC_CTYPE<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        wcout <span class="token operator">&lt;&lt;</span> L<span class="token string">"----------è°ƒæ•´å‰--------"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">auto</span><span class="token operator">&amp;</span> it <span class="token operator">:</span> m_vec<span class="token punctuation">)</span>            wcout <span class="token operator">&lt;&lt;</span> L<span class="token string">"[it.name]"</span> <span class="token operator">&lt;&lt;</span> it<span class="token punctuation">.</span>name <span class="token operator">&lt;&lt;</span> L<span class="token string">"[it.md5]"</span> <span class="token operator">&lt;&lt;</span> it<span class="token punctuation">.</span>md5 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        set<span class="token operator">&lt;</span>MyData<span class="token punctuation">,</span> <span class="token keyword">decltype</span><span class="token punctuation">(</span>DeDuplication<span class="token double-colon punctuation">::</span>cmpSort<span class="token punctuation">)</span><span class="token operator">*</span><span class="token operator">></span>  <span class="token function">s</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>DeDuplication<span class="token double-colon punctuation">::</span>cmpSort<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m_vec<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>            s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>m_vec<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        m_vec<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        wcout <span class="token operator">&lt;&lt;</span> L<span class="token string">"----------è°ƒæ•´å--------"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">auto</span><span class="token operator">&amp;</span> it <span class="token operator">:</span> m_vec<span class="token punctuation">)</span>            wcout <span class="token operator">&lt;&lt;</span> L<span class="token string">"[it.name]"</span> <span class="token operator">&lt;&lt;</span> it<span class="token punctuation">.</span>name <span class="token operator">&lt;&lt;</span> L<span class="token string">"[it.md5]"</span> <span class="token operator">&lt;&lt;</span> it<span class="token punctuation">.</span>md5 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">private</span><span class="token operator">:</span>    vector<span class="token operator">&lt;</span>MyData<span class="token operator">></span>  m_vec <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#123;</span> L<span class="token string">"a1.exe"</span><span class="token punctuation">,</span> L<span class="token string">"B9204B6362A65C248950D5A41F341DCC"</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                              <span class="token punctuation">&#123;</span> L<span class="token string">"a2.exe"</span><span class="token punctuation">,</span> L<span class="token string">"B9204B6362A65C248950D5A41F341DCC"</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                              <span class="token punctuation">&#123;</span> L<span class="token string">"b1.exe"</span><span class="token punctuation">,</span> L<span class="token string">"C96D1AA5D314954417C28A645ED72665"</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                              <span class="token punctuation">&#123;</span> L<span class="token string">"b2.exe"</span><span class="token punctuation">,</span> L<span class="token string">"C96D1AA5D314954417C28A645ED72665"</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><p>è‹¥æ˜¯æ™®é€šç±»å‹ï¼Œä¼šå¯¼è‡´ <code>std::set</code> å¯¹è±¡ç¼–è¯‘ä¸è¿‡ï¼ŒæŠ¥é”™å¦‚ä¸‹ï¼Œå…¶è§£é‡Šå‚è€ƒ devblogs.microsoft.com Ref<sup>[3]</sup>ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token function">Error</span> <span class="token punctuation">(</span>active<span class="token punctuation">)</span>E0289no instance of constructor <span class="token string">"std::set&lt;_Kty, _Pr, _Alloc>::set [with _Kty=MyData, _Pr=bool (DeDuplication::**)(const MyData &amp;d1, const MyData &amp;d2), _Alloc=std::allocator&lt;MyData>]"</span> matches the argument listDeDuplication<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br><h3 id="ã€ä¸‰ã€vector-setï¼ˆæ„é€ å‡½æ•°ï¼‰"><a href="#ã€ä¸‰ã€vector-setï¼ˆæ„é€ å‡½æ•°ï¼‰" class="headerlink" title="ã€ä¸‰ã€vector + setï¼ˆæ„é€ å‡½æ•°ï¼‰"></a>ã€ä¸‰ã€vector + setï¼ˆæ„é€ å‡½æ•°ï¼‰</h3><p>ã€€ã€€å…¶æ€§èƒ½ä¸å¦‚ã€æ–¹å¼äºŒã€ï¼Œç•¥ï¼Œå¯å‚è§ Ref<sup>[1]</sup> ç§çš„ç¬¬ä¸‰ç§ã€‚</p><br><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>ã€€ã€€æœ€åç»“åˆå®é™…ï¼Œé‡‡ç”¨æ–¹å¼äºŒçš„ã€€<code>class</code> å†…å®šä¹‰ <code>static</code> æ­¤æ–¹å¼æœ€åˆå®œè§£å†³æ­¤é—®é¢˜ã€‚ä¸”é™„ä¸Šå®Œæ•´æºç ã€‚</p><ol><li><p>æ–¹å¼ä¸€å’Œæ–¹å¼äºŒçš„ç±»å¤–å®šä¹‰ï¼Œè§å®Œæ•´æºç çš„é¡¹ç›® <a href="https://github.com/XMuli/QtExamples/blob/master/DeDuplication/Unique/Unique.cpp">Unique</a></p></li><li><p>æ–¹å¼äºŒçš„ç±»å†…å®šä¹‰ï¼Œè§å®Œæ•´æºç çš„é¡¹ç›® <a href="https://github.com/XMuli/QtExamples/blob/master/DeDuplication/DeDuplication/DeDuplication.h">DeDuplication</a></p></li><li><p>å¯¹äºç»™ <code>std::set</code> åˆ›å»ºè‡ªå®šä¹‰ç»“æ„ä½“å¯¹è±¡ï¼Œå¯è§ <a href="https://blog.csdn.net/qq_33154343/article/details/126354597">STL çš„ std::set åˆ›å»ºè‡ªå®šä¹‰ç»“æ„ä½“çš„å¯¹è±¡ï¼Œå®šä¹‰ä¸¥æ ¼å¼±åºçš„æ¯”è¾ƒå‡½æ•°</a></p></li></ol><br><h3 id="ç³»åˆ—åœ°å€"><a href="#ç³»åˆ—åœ°å€" class="headerlink" title="ç³»åˆ—åœ°å€"></a>ç³»åˆ—åœ°å€</h3><p><a href="https://github.com/XMuli/QtExamples">QtExamples</a> ã€DeDuplicationã€‘</p><p>æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”<strong>æ°¸ä¹…å…è´¹</strong>ï¼â€</p><br><h3 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h3><p><sup>[1]</sup>: <a href="https://stackoverflow.com/questions/1041620/whats-the-most-efficient-way-to-erase-duplicates-and-sort-a-vector">Whatâ€™s the most efficient way to erase duplicates and sort a vector?</a></p><p><sup>[2]</sup>: <a href="https://blog.csdn.net/lv1224/article/details/79789638">C++ setè‡ªå®šä¹‰æ’åº</a></p><p><sup>[3]</sup>: <a href="https://devblogs.microsoft.com/oldnewthing/20201007-00/?p=104341">Error C3867: non-standard syntax; use â€˜&amp;â€™ to create a pointer to member: What it means and how to fix it</a></p><p><sup>[4]</sup>:  <a href="https://stackoverflow.com/questions/15987082/eliminating-duplicates-from-vector-of-custom-object-stdunique-causes-crash-on">eliminating duplicates from vector of custom object - std:unique causes crash on free</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºäºŒ ç»éªŒ </category>
          
          <category> å­¦ä¹  - Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Visual Studio </tag>
            
            <tag> C++11/17/20 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Misleading indentation; statement is not part of the previous &#39;if&#39;</title>
      <link href="/posts/28b03c75/"/>
      <url>/posts/28b03c75/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong> ä½¿ç”¨çš„ Qt å‡çº§åˆ°äº† 5.15.2ï¼Œç„¶å IDE ç¼–è¯‘æŠ¥è­¦å‘Šâš å¦‚ä¸‹ï¼Œå¼ºè¿«ç—‡çŠ¯äº†ï¼Œå¾—æ¶ˆé™¤æ‰ã€‚</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202208071916076.png" width="100%"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="è­¦å‘Š"><a href="#è­¦å‘Š" class="headerlink" title="è­¦å‘Š"></a>è­¦å‘Š</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">screenshot.cpp:164:2: Misleading indentation; statement is not part of the previous &#39;if&#39;screenshot.cpp:161:5: previous statement is here<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>PSï¼šğŸ’»  <code>win10 21H2</code> ğŸ“ <code>Qt 5.15.2</code> ğŸ“  <code>QtCreator 8.0.0 </code> </p><br><h3 id="ä¿®å¤"><a href="#ä¿®å¤" class="headerlink" title="ä¿®å¤"></a>ä¿®å¤</h3><p>ä¿®æ”¹ï¼Œå°†å…¶ä¿®æ”¹ä¸º <code>Tab</code> æŒ‰é”®æˆ–è€… <code>å›è½¦è‡ªåŠ¨å¯¹é½</code>ï¼Œå³å¯æ¶ˆé™¤æ­¤è­¦å‘Šâš ï¼›æ”¹åŠ¨å¦‚ä¸‹</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202208071917192.png" width="80%"/ loading="lazy"><br><h3 id="ç³»åˆ—åœ°å€"><a href="#ç³»åˆ—åœ°å€" class="headerlink" title="ç³»åˆ—åœ°å€"></a>ç³»åˆ—åœ°å€</h3><p><a href="https://github.com/XMuli/QtExamples">QtExamples</a></p><p>æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”<strong>æ°¸ä¹…å…è´¹</strong>ï¼â€</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºäºŒ ç»éªŒ </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CMake è®¾ç½® Target è¾“å‡ºç›®å½•å’Œåç¼€å</title>
      <link href="/posts/4af498c8/"/>
      <url>/posts/4af498c8/</url>
      
        <content type="html"><![CDATA[<p>**ç®€  è¿°: **  <code>CMake</code> è®¾ç½® <code>Target</code> è¾“å‡ºç›®å½•å’Œåç¼€å</p><pre class="line-numbers language-cmake" data-language="cmake"><code class="language-cmake"><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token variable">EXECUTABLE_OUTPUT_PATH</span>                      <span class="token string">"xxx/path"</span><span class="token punctuation">)</span>        <span class="token comment"># å¯æ‰§è¡Œæ–‡ä»¶çš„è¾“å‡ºç›®å½•</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token variable">LIBRARY_OUTPUT_PATH</span>                         <span class="token string">"xxx/path"</span><span class="token punctuation">)</span>        <span class="token comment">#    åº“æ–‡ä»¶çš„è¾“å‡ºç›®å½•</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token variable">CMAKE_RUNTIME_OUTPUT_DIRECTORY_DEBUG</span>        <span class="token string">"xxx/path"</span><span class="token punctuation">)</span>        <span class="token comment"># debug   å¯æ‰§è¡Œæ–‡ä»¶çš„è¾“å‡ºç›®å½•</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token variable">CMAKE_RUNTIME_OUTPUT_DIRECTORY_RELEASE</span>      <span class="token string">"xxx/path"</span><span class="token punctuation">)</span>        <span class="token comment"># release å¯æ‰§è¡Œæ–‡ä»¶çš„è¾“å‡ºç›®å½•</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token variable">CMAKE_ARCHIVE_OUTPUT_DIRECTORY_DEBUG</span>        <span class="token string">"xxx/path"</span><span class="token punctuation">)</span>       <span class="token comment"># debug      åº“æ–‡ä»¶çš„è¾“å‡ºç›®å½•</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token variable">CMAKE_ARCHIVE_OUTPUT_DIRECTORY_RELEASE</span>      <span class="token string">"xxx/path"</span><span class="token punctuation">)</span>       <span class="token comment"># release    åº“æ–‡ä»¶çš„è¾“å‡ºç›®å½•</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token variable">CMAKE_DEBUG_POSTFIX</span>                         <span class="token string">"xxx/path"</span><span class="token punctuation">)</span>       <span class="token comment"># debug        åº“æ–‡ä»¶çš„åç¼€å</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token variable">CMAKE_RELEASE_POSTFIX</span>                       <span class="token string">"xxx/path"</span><span class="token punctuation">)</span>       <span class="token comment"># release      åº“æ–‡ä»¶çš„åç¼€å</span><span class="token keyword">set_target_properties</span><span class="token punctuation">(</span><span class="token punctuation">$&#123;</span>TARGET_NAME<span class="token punctuation">&#125;</span> <span class="token namespace">PROPERTIES</span> <span class="token property">DEBUG_POSTFIX</span> <span class="token string">"_d"</span><span class="token punctuation">)</span>     <span class="token comment"># debug      å¯æ‰§è¡Œæ–‡ä»¶çš„åç¼€å</span><span class="token keyword">set_target_properties</span><span class="token punctuation">(</span><span class="token punctuation">$&#123;</span>TARGET_NAME<span class="token punctuation">&#125;</span> <span class="token namespace">PROPERTIES</span> <span class="token property">RELEASE_POSTFIX</span> <span class="token string">"_r"</span><span class="token punctuation">)</span>   <span class="token comment"># release   å¯æ‰§è¡Œæ–‡ä»¶çš„åç¼€å</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h3><p>ä¸€. <code>set(EXECUTABLE_OUTPUT_PATH $&#123;PROJECT_SOURCE_DIR&#125;/../bin)</code> </p><p>ä¸Šé¢çš„è¯­å¥èƒ½è®¾ç½®å¯æ‰§è¡Œæ–‡ä»¶çš„è¾“å‡ºç›®å½•</p><p>åœ¨ Win + VS ç¯å¢ƒä¸‹ï¼Œä¼šè‡ªåŠ¨åœ¨ä½ æ‰€è®¾ç½®çš„ç›®å½•åé¢æ‰©å±•ä¸€å±‚ <code>&lt;CONFIG&gt;</code> ç›®å½•ï¼Œæ‰€ä»¥æœ€ç»ˆç”Ÿæˆçš„ Debug ç‰ˆæœ¬ç¨‹åºä¼šåœ¨ <code>$&#123;PROJECT_SOURCE_DIR&#125;/../bin/Debug</code> ç›®å½•ä¸‹ï¼ŒRelease ç‰ˆæœ¬ç¨‹åºä¼šåœ¨ <code>$&#123;PROJECT_SOURCE_DIR&#125;/../bin/Release</code> ç›®å½•ä¸‹ã€‚</p><p>åœ¨ Linux + GCC ç¯å¢ƒä¸‹ï¼Œæ— è®ºæ˜¯ Debug è¿˜æ˜¯ Releaseï¼Œç”Ÿæˆçš„å¯æ‰§è¡Œç¨‹åºä¼šç›´æ¥æ”¾åœ¨ä½ æ‰€è®¾ç½®çš„ç›®å½•ä¸‹ï¼Œä¸ä¼šæœ‰å·®å¼‚ã€‚</p> <br><p>äºŒ. <code>set(LIBRARY_OUTPUT_PATH $&#123;PROJECT_SOURCE_DIR&#125;/../lib)</code> </p><p>ä¸Šé¢çš„è¯­å¥èƒ½è®¾ç½®åº“æ–‡ä»¶çš„è¾“å‡ºç›®å½•</p><p>åœ¨ Win + VS ç¯å¢ƒä¸‹ï¼Œä¼šè‡ªåŠ¨åœ¨ä½ æ‰€è®¾ç½®çš„ç›®å½•åé¢æ‰©å±•ä¸€å±‚ <code>&lt;CONFIG&gt;</code> ç›®å½•ï¼Œæ‰€ä»¥æœ€ç»ˆç”Ÿæˆçš„ Debug ç‰ˆæœ¬åº“ä¼šåœ¨ <code>$&#123;PROJECT_SOURCE_DIR&#125;/../lib/Debug</code> ç›®å½•ä¸‹ï¼ŒRelease ç‰ˆæœ¬åº“ä¼šåœ¨ <code>$&#123;PROJECT_SOURCE_DIR&#125;/../lib/Release</code> ç›®å½•ä¸‹ã€‚</p><p>åœ¨ Linux + GCC ç¯å¢ƒä¸‹ï¼Œæ— è®ºæ˜¯ Debug è¿˜æ˜¯ Releaseï¼Œç”Ÿæˆçš„åº“æ–‡ä»¶ä¼šç›´æ¥æ”¾åœ¨ä½ æ‰€è®¾ç½®çš„ç›®å½•ä¸‹ï¼Œä¸ä¼šæœ‰å·®å¼‚ã€‚</p> <br><p>ä¸‰. <code>set(CMAKE_RUNTIME_OUTPUT_DIRECTORY_DEBUG $&#123;PROJECT_SOURCE_DIR&#125;/../bin)</code>   <code>set(CMAKE_RUNTIME_OUTPUT_DIRECTORY_RELEASE $&#123;PROJECT_SOURCE_DIR&#125;/../bin)</code> </p><p>ä¸Šé¢ä¸¤æ¡è¯­å¥åˆ†åˆ«è®¾ç½®äº† Debug ç‰ˆæœ¬å’Œ Release ç‰ˆæœ¬å¯æ‰§è¡Œæ–‡ä»¶çš„è¾“å‡ºç›®å½•ï¼Œ</p><p>ä¸€æ—¦è®¾ç½®ä¸Šé¢çš„å±æ€§ï¼Œåœ¨ä»»ä½•ç¯å¢ƒä¸‹ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶éƒ½å°†ç›´æ¥æ”¾åœ¨ä½ æ‰€è®¾ç½®çš„ç›®å½•.</p> <br><p>å››. <code>set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY_DEBUG $&#123;PROJECT_SOURCE_DIR&#125;/../lib)</code>   <code>set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY_RELEASE $&#123;PROJECT_SOURCE_DIR&#125;/../lib)</code> </p><p>ä¸Šé¢ä¸¤æ¡è¯­å¥åˆ†åˆ«è®¾ç½®äº† Debug ç‰ˆæœ¬å’Œ Release ç‰ˆæœ¬åº“æ–‡ä»¶çš„è¾“å‡ºç›®å½•ï¼Œ</p><p>ä¸€æ—¦è®¾ç½®ä¸Šé¢çš„å±æ€§ï¼Œåœ¨ä»»ä½•ç¯å¢ƒä¸‹ç”Ÿæˆçš„åº“æ–‡ä»¶éƒ½å°†ç›´æ¥æ”¾åœ¨ä½ æ‰€è®¾ç½®çš„ç›®å½•ã€‚</p> <br><p>äº”. <code>set(CMAKE_DEBUG_POSTFIX &quot;_d&quot;)</code>   <code>set(CMAKE_RELEASE_POSTFIX &quot;_r&quot;)</code> </p><p>ä¸Šé¢ä¸¤æ¡è¯­å¥åˆ†åˆ«è®¾ç½®äº† Debug ç‰ˆæœ¬å’Œ Release ç‰ˆæœ¬ä¸‹åº“æ–‡ä»¶çš„åç¼€åã€‚</p> <br><p>å…­. <code>set_target_properties($&#123;TARGET_NAME&#125; PROPERTIES DEBUG_POSTFIX &quot;_d&quot;)</code>   <code>set_target_properties($&#123;TARGET_NAME&#125; PROPERTIES RELEASE_POSTFIX &quot;_r&quot;)</code> </p><p>ä¸Šé¢ä¸¤æ¡è¯­å¥åˆ†åˆ«è®¾ç½®äº† Debug ç‰ˆæœ¬å’Œ Release ç‰ˆæœ¬ä¸‹å¯æ‰§è¡Œæ–‡ä»¶çš„åç¼€åã€‚</p><br><h3 id="ç³»åˆ—åœ°å€"><a href="#ç³»åˆ—åœ°å€" class="headerlink" title="ç³»åˆ—åœ°å€"></a>ç³»åˆ—åœ°å€</h3><p><a href="https://github.com/XMuli/ExCMake">ExCMake</a></p><p>æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´è¿™ä¸ªç³»åˆ—çš„ <code>CMake</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - åº•å±‚å…¼æ¶æ„ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>CMake ä¹‹ BUILD_SHARED_LIBS å’Œ CMAKE_BUILD_TYPE ç”¨æ³•æ•™ç¨‹</title>
      <link href="/posts/29f14999/"/>
      <url>/posts/29f14999/</url>
      
        <content type="html"><![CDATA[<p>**ç®€  è¿°: ** èµ·æºäº <a href="https://github.com/Qt-Widgets/qtacrylicmaterial/pull/2">#2</a> ï¼Œå‘ç°debug ç¼–è¯‘å¤±è´¥ï¼Œè€Œrelease ç¼–è¯‘æˆåŠŸï¼Œæ ¹å› ä¸ºé»˜è®¤ç”Ÿæˆäº§ç‰©å’Œé¢„æœŸä¸ç¬¦ï¼Œæ•…æçš„ä¸€ä¸ª PR ã€‚å‘ç°ä¸ä¹‹ç›¸å…³ä¸º CMake ä¸­ <code>CMAKE_BUILD_TYPE</code> å’Œ <code>BUILD_SHARED_LIBS</code> çš„ä¸¤ä¸ªå˜é‡çŸ¥è¯†ç‚¹ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p>ã€€ã€€ğŸ’»  <code>win10 21H2</code> ğŸ“ <code>Qt 5.12.11</code> ğŸ“  <code>Visual Studio 2019</code> </p><br><h3 id="BUILD-SHARED-LIBS"><a href="#BUILD-SHARED-LIBS" class="headerlink" title="BUILD_SHARED_LIBS"></a>BUILD_SHARED_LIBS</h3><p>æ˜¯ add_library() çš„ä¸€ä¸ªå…¨å±€æ ‡å¿—ï¼Œå½“ add_library() æ²¡æœ‰æŒ‡å®š <code>[STATIC | SHARED | MODULE]</code> æ˜¯å“ªä¸€ä¸ªæ—¶ï¼Œå¯ä»¥å†³å®šä¸ºç”Ÿæˆ <em>åŠ¨æ€åº“</em> è¿˜æ˜¯ <em>é™æ€åº“</em>ã€‚</p><br><p><strong>Typical valuesï¼š</strong></p><ul><li><code>ON</code>: è®© add_library() ç”Ÿæˆ .dll åŠ¨æ€åº“ï¼Œå¯¹åº” SHARED</li><li><code>OFF</code>: è®© add_library() ç”Ÿæˆ .lib é™æ€åº“ï¼Œå¯¹åº” STATIC ï¼›<strong>é»˜è®¤å€¼</strong></li></ul><br><p>CMake ä»£ç å¦‚ä¸‹ï¼Œå¯¹åº”ç”Ÿæˆäº§ç‰©å¦‚å›¾ï¼š</p><pre class="line-numbers language-cmake" data-language="cmake"><code class="language-cmake"><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token variable">BUILD_SHARED_LIBS</span> <span class="token boolean">ON</span><span class="token punctuation">)</span>                 <span class="token comment"># default is OFF</span><span class="token keyword">add_library</span><span class="token punctuation">(</span><span class="token punctuation">$&#123;</span><span class="token variable">PROJECT_NAME</span><span class="token punctuation">&#125;</span> <span class="token punctuation">$&#123;</span>SRCS_MAIN<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/20220721125204.png" alt="img" loading="lazy"></p><br><h3 id="CMAKE-BUILD-TYPE"><a href="#CMAKE-BUILD-TYPE" class="headerlink" title="CMAKE_BUILD_TYPE"></a>CMAKE_BUILD_TYPE</h3><p>æŒ‡å®š <strong>ç”Ÿæˆäº§ç‰©</strong> çš„æ„å»ºç±»å‹ã€‚</p><p><strong>Typical valuesï¼š</strong></p><ul><li><code>Debug</code>ï¼šè¯¦ç»†è°ƒè¯•ä¿¡æ¯</li><li><code>Release</code>ï¼šæ— è°ƒè¯•ä¿¡æ¯</li><li><code>RelWithDebInfo</code>ï¼šå¸¦æœ‰è°ƒè¯•ä¿¡æ¯çš„ Releaseï¼Œä¾æ—§å¯èƒ½åˆç•¥å¾®ä¼˜åŒ–</li><li><code>MinSizeRel</code>ï¼šæ²¡ä½¿ç”¨è¿‡</li></ul><br><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>å¯¹äºç”Ÿæˆ .dll&#x2F;.lib çš„é¡¹ç›®è€Œè¨€ï¼š</p><ol><li>æ¨èä½¿ç”¨ add_library() æ—¶ä¸æŒ‡å®š STATIC | SHAREDï¼Œè€Œæ˜¯ç”± BUILD_SHARED_LIBS å˜é‡æ¥æ§åˆ¶ã€‚</li><li>åŒæ—¶åˆé€šè¿‡è‡ªå®šä¹‰å®æ¥å†³å®šï¼Œç”Ÿæˆçš„ .dll æ˜¯é‡‡ç”¨ <code>__declspec(dllexport)</code> æˆ– <code>__declspec(dllimport)</code>ã€‚</li></ol><p>è¿™éƒ¨åˆ†ï¼Œä»¥åŠç»“åˆå¦‚ä½•ä½¿ç”¨ .dll åé¢å•ç‹¬è¯¦ç»†è®²è§£ä¸€ç¯‡ã€‚</p><br><p><strong>é™„ï¼š</strong> æœ¬ç¯‡å¯¹åº”çš„ä¿®æ”¹æºç åœ¨æ­¤ <a href="https://github.com/XMuli/AcrylicWindow/blob/master/AcrylicMaterial/CMakeLists.txt">CMakeLists.txt</a></p><br><h3 id="ç³»åˆ—åœ°å€"><a href="#ç³»åˆ—åœ°å€" class="headerlink" title="ç³»åˆ—åœ°å€"></a>ç³»åˆ—åœ°å€</h3><p><a href="https://github.com/XMuli/ExCMake">ExCMake</a></p><p>æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´è¿™ä¸ªç³»åˆ—çš„ <code>CMake</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - åº•å±‚å…¼æ¶æ„ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Windows ç¼–ç¨‹ä¹‹ WINUSERAPI å’Œ WINAPI åŒºåˆ«</title>
      <link href="/posts/ec046916/"/>
      <url>/posts/ec046916/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong>  Window API ä¸­ç»å¸¸é‡åˆ°çš„ <strong>WINUSERAPI</strong> å’Œ <strong>WINAPI</strong> å„è‡ªçš„å«ä¹‰ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>ã€€ã€€åœ¨ç ”ç©¶å®ç°è·¨å¹³å°çš„  <a href="https://github.com/XMuli/AcrylicWindow">AcrylicWindow</a> <strong>äºšå…‹åŠ›ï¼ˆç±»ä¼¼é€æ˜ç£¨ç ‚ï¼‰</strong> æ•ˆæœï¼Œè°ƒç”¨ Windows API æ—¶ï¼Œå‘ç°å…¶å‡½æ•°çš„å®šä¹‰å¦‚ä¸‹ï¼Œå‘ç°è¿™ä¸¤ä¸ªå®æœ‰ç‚¹é™Œç”Ÿï¼Œæ•…æœ‰ç‚¹å‡ºç¥ï¼Œäºæ˜¯æŸ¥äº†æŸ¥ <code>WINUSERAPI</code> &#x2F; <code>WINAPI</code> çš„å«ä¹‰ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">WINUSERAPI BOOL WINAPI <span class="token function">SetWindowCompositionAttribute</span><span class="token punctuation">(</span> _In_ HWND hWnd<span class="token punctuation">,</span>   _Inout_ WINDOWCOMPOSITIONATTRIBDATA<span class="token operator">*</span> pAttrData<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><br><h2 id="WINUSERAPI"><a href="#WINUSERAPI" class="headerlink" title="WINUSERAPI"></a>WINUSERAPI</h2><p>è¡¨ç¤ºå‡½æ•°çš„å¯¼å…¥</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">WINUSERAPI<span class="token comment">// å®šä¹‰ä¸€</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">if</span> <span class="token expression"><span class="token operator">!</span><span class="token function">defined</span><span class="token punctuation">(</span>_USER32_<span class="token punctuation">)</span></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">WINUSERAPI</span> <span class="token expression">DECLSPEC_IMPORT</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">else</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">WINUSERAPI</span> <span class="token expression"><span class="token keyword">extern</span> </span><span class="token string">"C"</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><span class="token comment">// å®šä¹‰äºŒ</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">DECLSPEC_IMPORT</span> <span class="token expression"><span class="token function">__declspec</span><span class="token punctuation">(</span>dllimport<span class="token punctuation">)</span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><p>ä»ä¸¤å±‚å«ä¹‰å®šä¹‰å¯çŸ¥ï¼Œ<code>WINUSERAPI</code> ç²—ç•¥çœ‹ä½œå…³é”®è¯ __declspec(dllimport)ï¼›</p><p>__declspec(dllimport) è¡¨ç¤ºä½ å‘Šè¯‰ç¼–è¯‘å™¨è¦æ˜¾å¼çš„ä» dll å¯¼å…¥å‡½æ•°ï¼›å°¤å…¶å½“ç±»ä¸­æœ‰ static æˆå‘˜æ—¶ï¼Œæ²¡æœ‰å®ƒåŸºæœ¬éƒ½ä¼š Link å¤±è´¥ã€‚å¯å‚è§ <a href="https://blog.csdn.net/sinat_22991367/article/details/73695039">æ­¤æ–‡</a></p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/Snipaste_2022-06-28_18-33-54.png" width="100%"/ loading="lazy"><br><h2 id="WINAPI"><a href="#WINAPI" class="headerlink" title="WINAPI"></a>WINAPI</h2><p>  å¸¸ç”¨å® WINAPI æˆ– CALLBACK æ¥è¡¨ç¤º <code>__stdcall</code> è°ƒç”¨çº¦å®šã€‚è¡¨ç¤ºå‚æ•°å…¥æ ˆæ—¶ï¼Œæ˜¯ä»å³å¾€å·¦ä¾æ¬¡é¡ºåºå…¥æ ˆçš„ã€‚ å…¶å®ƒè°ƒç”¨çº¦å®šè‡ªè¡Œ Googel å…³é”®è¯ï¼šå‡½æ•°è°ƒç”¨çº¦å®š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token number">1</span> #define CALLBACK __stdcall<span class="token number">2</span> #define WINAPI __stdcall<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><br><h2 id="ç³»åˆ—åœ°å€"><a href="#ç³»åˆ—åœ°å€" class="headerlink" title="ç³»åˆ—åœ°å€"></a>ç³»åˆ—åœ°å€</h2><p><a href="https://github.com/XMuli/QtExamples">QtExamples</a></p><p>æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”<strong>æ°¸ä¹…å…è´¹</strong>ï¼â€</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºäºŒ ç»éªŒ </category>
          
          <category> å­¦ä¹  - Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows ç¼–ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ›å»º QKeySequenceEdit() åï¼Œæ˜¾ç¤ºæ–¹å—â– â—†ä¹±ç </title>
      <link href="/posts/17760087/"/>
      <url>/posts/17760087/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong> åˆ›å»ºçš„ <strong>Qt QKeySequenceEdit</strong> å¿«æ·é”®ç¼–è¾‘æ¡†ï¼Œæ˜¾ç¤ºæ–¹å—â– â—†ä¹±ç ã€‚</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202207132322385.png" width="40%"/ loading="lazy"><span id="more"></span><p>[TOC]</p><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>ã€€ã€€ğŸ’»  <code>win10 21H2</code> ğŸ“ <code>Qt 5.12.11</code> ğŸ“  <code>Visual Studio 2019</code> </p><p>ã€€ã€€äº§ç”Ÿå£å­—çš„æ–¹å—ä¹±ç åŸå› ï¼Œé€šå¸¸æ˜¯ä»¥ UTF-8 æ–¹å¼è¯»å– GBK ç¼–ç çš„ä¸­æ–‡ã€‚å¯¹äºæ­¤ç±»ç¼–ç é—®é¢˜ï¼Œæˆ‘æ—©å·²æ²¡æœ‰é—®é¢˜ã€‚æ•…ï¼Œä¸”å†æ¬¡æ£€éªŒè¿‡æ‰€æœ‰ç¼–ç ç›¸å…³ï¼Œæ ¹æœ¬ä¸æ˜¯æˆ‘çš„åŸå› ï¼šå¾ˆæ˜æ˜¾ï¼Œæ˜¯ <code>new QKeySequenceEdit()</code> å‡ºç°äº†é—®é¢˜ã€‚</p><br><p>PSï¼š å¦‚æœä¸æ‡‚ä¹±ç åŸå› å’Œå¦‚ä½•è§£å†³ï¼Œè¯·å‚è€ƒå¦‚ä¸‹ <a href="https://github.com/XMuli/QtExamples">QtExamples</a> çš„ç¬¬å…­éƒ¨åˆ†ç« èŠ‚ï¼Œæ‘˜å–å…¶ä¸­ä¸¤ç¯‡ï¼šæç®€å’Œæ ¹å› æ¢ç©¶</p><ul><li><a href="https://blog.csdn.net/qq_33154343/article/details/99617767">å¤æ–‡ç ã€å£å­—ç ã€ç¬¦å·ç ã€é—®å·ç ã€æ£æ‹·ç </a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/120661967">æ„¿ç¼–ç¨‹ä¸å†ä¹±ç (å«Qt)-æ ¹å› æ·±ç©¶</a></li></ul><br><h2 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p>ã€€ã€€æœ€åå‘ç°æ˜¯å› ä¸ºæ··ç”¨äº†ï¼Œå¯¼è‡´çš„</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">new</span> <span class="token function">QKeySequence</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>CTRL <span class="token operator">+</span> Qt<span class="token double-colon punctuation">::</span>Key_Shift <span class="token operator">+</span> Qt<span class="token double-colon punctuation">::</span>Key_Y<span class="token punctuation">)</span>  <span class="token comment">// error æ··ç”¨äº†</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br><p>æ­£ç¡®çš„ç”¨æ³•ï¼Œå‚è€ƒ Qt Assistant</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token function">QKeySequence</span><span class="token punctuation">(</span>QKeySequence<span class="token double-colon punctuation">::</span>Print<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">QKeySequence</span><span class="token punctuation">(</span><span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"Ctrl+P"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// "+" çš„å·¦å³ä¸èƒ½æœ‰ "ç©ºæ ¼"</span><span class="token function">QKeySequence</span><span class="token punctuation">(</span><span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"Ctrl+p"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">QKeySequence</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>CTRL <span class="token operator">+</span> Qt<span class="token double-colon punctuation">::</span>Key_P<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºäºŒ ç»éªŒ </category>
          
          <category> å­¦ä¹  - Windows </category>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LPSTR/LPCSTR/LPTSTR/HWND/HANDLE/HMODULE/HINSTANCE ç­‰å«ä¹‰å’ŒåŒºåˆ«</title>
      <link href="/posts/5020c5e7/"/>
      <url>/posts/5020c5e7/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong>  <code>Windows</code> ç¼–ç¨‹ä¸­å¸¸è§çš„ä¸€äº›ç±»å‹æ„ä¹‰ã€åŒºåˆ«å’Œè®²è§£å®šä¹‰</p><ol><li><strong>PVOID å’Œ LPVOID</strong></li><li><strong>LPSTR &#x2F; LPCSTR &#x2F; LPTSTR &#x2F; LPCTSTR &#x2F; LPWSTR &#x2F; LPCWSTR</strong></li><li><strong>HWND &#x2F; HANDLE &#x2F; HMODULE &#x2F; HINSTANCE</strong></li></ol><br><h3 id="è¾¨åˆ«åŒºåˆ†æ ‡å¿—"><a href="#è¾¨åˆ«åŒºåˆ†æ ‡å¿—" class="headerlink" title="è¾¨åˆ«åŒºåˆ†æ ‡å¿—"></a><font color=#FF0000>è¾¨åˆ«åŒºåˆ†æ ‡å¿—</font></h3><ul><li>L  â€“&gt; longï¼›WIN32 ä¸‹ long å’Œ int é•¿åº¦ä¸€æ ·ã€‚ <strong>æ•… L å’Œ LP æ— åŒºåˆ«</strong>ã€‚</li><li>C  â€“&gt; const</li><li>T  â€“&gt; é€šç”¨ç‰ˆæœ¬ï¼Œä¾æ® UNICODE æ—¶å€™è¢«å®šä¹‰ï¼Œç¡®å®šä½¿ç”¨ A è¿˜æ˜¯ W ç‰ˆæœ¬çš„å‡½æ•°ã€æˆ–å­—ç¬¦é›†ã€‚</li><li>STR  â€“&gt; string å­—ç¬¦ä¸²</li><li>PTR  â€“&gt; ptr  æŒ‡é’ˆ</li></ul><br><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="Windows-Data-Types"><a href="#Windows-Data-Types" class="headerlink" title="Windows Data Types"></a>Windows Data Types</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">typedef</span> <span class="token keyword">void</span> <span class="token operator">*</span>PVOID<span class="token punctuation">;</span>       <span class="token comment">// PVOID  - void *</span><span class="token keyword">typedef</span> <span class="token keyword">void</span> <span class="token operator">*</span>LPVOID<span class="token punctuation">;</span>       <span class="token comment">// LPVOID     - void *</span><span class="token keyword">typedef</span> CHAR <span class="token operator">*</span>LPSTR<span class="token punctuation">;</span>       <span class="token comment">// LPSTR      - ANSI, æ¯ä¸ªå­—ç¬¦å  1 å­—èŠ‚(8 bit)</span><span class="token keyword">typedef</span> __nullterminated CONST CHAR <span class="token operator">*</span>LPCSTR<span class="token punctuation">;</span>        <span class="token comment">// LPCSTR     - ANSI,  æ¯ä¸ªå­—ç¬¦å  1 å­—èŠ‚</span><span class="token keyword">typedef</span> WCHAR <span class="token operator">*</span>LPWSTR<span class="token punctuation">;</span>  <span class="token comment">// LPWSTR     - UNICODE, æ¯ä¸ªå­—ç¬¦å  2 å­—èŠ‚(16 bit)</span><span class="token keyword">typedef</span> CONST WCHAR <span class="token operator">*</span>LPCWSTR<span class="token punctuation">;</span>                       <span class="token comment">// LPCWSTR    - UNICODE,  æ¯ä¸ªå­—ç¬¦å  2 å­—èŠ‚</span><span class="token keyword">typedef</span> LPWSTR LPTSTR<span class="token punctuation">;</span>   <span class="token punctuation">[</span>OR<span class="token punctuation">]</span> <span class="token keyword">typedef</span> LPSTR LPTSTR<span class="token punctuation">;</span>   <span class="token comment">// LPTSTR     - ANSI/UNICODE, æ¯ä¸ªå­—ç¬¦å  1 å­—èŠ‚æˆ– 2 å­—èŠ‚</span><span class="token keyword">typedef</span> LPCWSTR LPCTSTR<span class="token punctuation">;</span> <span class="token punctuation">[</span>OR<span class="token punctuation">]</span> <span class="token keyword">typedef</span> LPCSTR LPCTSTR<span class="token punctuation">;</span>   <span class="token comment">// LPCTSTR    - ANSI/UNICODE, æ¯ä¸ªå­—ç¬¦å  1 å­—èŠ‚æˆ– 2 å­—èŠ‚</span><span class="token keyword">typedef</span> PVOID HANDLE<span class="token punctuation">;</span>                    <span class="token comment">// HANDLE     - void *</span><span class="token keyword">typedef</span> HANDLE HWND<span class="token punctuation">;</span>       <span class="token comment">// HWND       - void *</span><span class="token keyword">typedef</span> HINSTANCE HMODULE<span class="token punctuation">;</span> <span class="token comment">// HMODULE    - void *   æ­¤ä¸¤ä¸ªäº’ç›¸ç­‰ä»·ï¼Œ äº &lt;wtypes.h></span><span class="token keyword">typedef</span> HANDLE HINSTANCE<span class="token punctuation">;</span>  <span class="token comment">// HINSTANCE  - void *</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><table><thead><tr><th>Data type</th><th>Description</th><th>declared</th></tr></thead><tbody><tr><td>PVOID</td><td>A pointer to any type.</td><td>WinNT.h</td></tr><tr><td>LPVOID</td><td>A pointer to any type.</td><td>WinDef.h</td></tr><tr><td></td><td></td><td></td></tr><tr><td>LPSTR</td><td>A pointer to a null-terminated string of 8-bit Windows (ANSI) characters. For more information, see <em><strong>Character Sets Used By Fonts</strong></em></td><td>WinNT.h</td></tr><tr><td>LPCSTR</td><td>A pointer to a constant null-terminated string of 8-bit Windows (ANSI) characters. For more information, see <em><strong>Character Sets Used By Fonts</strong></em></td><td>WinNT.h</td></tr><tr><td>LPWSTR</td><td>A pointer to a null-terminated string of 16-bit Unicode characters. For more information, see <em><strong>Character Sets Used By Fonts</strong></em></td><td>WinNT.h</td></tr><tr><td>LPCWSTR</td><td>A pointer to a constant null-terminated string of 16-bit Unicode characters. For more information, see <em><strong>Character Sets Used By Fonts</strong></em></td><td>WinNT.h</td></tr><tr><td>LPTSTR</td><td>An <a href="https://docs.microsoft.com/en-us/windows/win32/winprog/windows-data-types#lpwstr"><strong>LPWSTR</strong></a> if <strong>UNICODE</strong> is defined, an <a href="https://docs.microsoft.com/en-us/windows/win32/winprog/windows-data-types#lpstr"><strong>LPSTR</strong></a> otherwise. For more information, see <em><strong>Windows Data Types for Strings</strong></em></td><td>WinNT.h</td></tr><tr><td>LPCTSTR</td><td>An <a href="https://docs.microsoft.com/en-us/windows/win32/winprog/windows-data-types#lpcwstr"><strong>LPCWSTR</strong></a> if <strong>UNICODE</strong> is defined, an <a href="https://docs.microsoft.com/en-us/windows/win32/winprog/windows-data-types#lpcstr"><strong>LPCSTR</strong></a> otherwise. For more information, see <em><strong>Windows Data Types for Strings</strong></em></td><td>WinNT.h</td></tr><tr><td></td><td></td><td></td></tr><tr><td>HWND</td><td>A handle to a window.</td><td>WinDef.h</td></tr><tr><td>HANDLE</td><td>A handle to an object.</td><td>WinNT.h</td></tr><tr><td>HMODULE</td><td>A handle to a module. The is the base address of the module in memory. <strong>HMODULE</strong> and <strong>HINSTANCE</strong> are the same in current versions of Windows, but represented different things in 16-bit Windows.</td><td>WinDef.h</td></tr><tr><td>HINSTANCE</td><td>A handle to an instance. This is the base address of the module in memory.</td><td>WinDef.h</td></tr></tbody></table><br><h3 id="å«ä¹‰"><a href="#å«ä¹‰" class="headerlink" title="å«ä¹‰"></a>å«ä¹‰</h3><ul><li><p><strong>PVOID å’Œ LPVOID</strong> </p><ul><li>éƒ½æ˜¯ <code>void *</code>ï¼Œ å¯æŒ‡å‘ä¸€åˆ‡ï¼Œä¸è§£é‡Šã€‚</li></ul></li><li><p><strong>LPSTR &#x2F; LPCSTR &#x2F; LPTSTR &#x2F; LPCTSTR &#x2F; LPWSTR &#x2F; LPCWSTR</strong></p><ol><li>LPSTRï¼š     32bit æŒ‡é’ˆï¼ŒæŒ‡å‘ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ¯ä¸ªå­—ç¬¦å  1 å­—èŠ‚ã€‚ ç›¸å½“äºã€€char *ã€€ã€€</li><li>LPCSTR:     32-bit æŒ‡é’ˆï¼ŒæŒ‡å‘ä¸€ä¸ªå¸¸å­—ç¬¦ä¸²ï¼Œæ¯ä¸ªå­—ç¬¦å  1 å­—èŠ‚ã€‚ã€€ç›¸å½“äºã€€const char *</li><li>LPWSTR:    32-bit æŒ‡é’ˆï¼ŒæŒ‡å‘ä¸€ä¸ª unicode å­—ç¬¦ä¸²çš„æŒ‡é’ˆï¼Œæ¯ä¸ªå­—ç¬¦å  2 å­—èŠ‚ã€‚ã€€</li><li>LPCWSTR:  32-bit æŒ‡é’ˆï¼ŒæŒ‡å‘ä¸€ä¸ª unicode å­—ç¬¦ä¸²å¸¸é‡çš„æŒ‡é’ˆï¼Œæ¯ä¸ªå­—ç¬¦å  2 å­—èŠ‚ã€‚</li><li>LPTSTR:     32-bit æŒ‡é’ˆï¼ŒæŒ‡å‘ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œ    æ¯å­—ç¬¦å¯èƒ½å  1 å­—èŠ‚æˆ– 2 å­—èŠ‚ï¼Œå–å†³äº Unicode æ˜¯å¦å®šä¹‰ã€€ã€€</li><li>LPCTSTR:   32-bit æŒ‡é’ˆï¼ŒæŒ‡å‘ä¸€ä¸ªå¸¸å­—ç¬¦ä¸²ï¼Œæ¯å­—ç¬¦å¯èƒ½å  1 å­—èŠ‚æˆ– 2 å­—èŠ‚ï¼Œå–å†³äº Unicode æ˜¯å¦å®šä¹‰</li></ol></li><li><p><strong>HWND &#x2F; HANDLE &#x2F; HMODULE &#x2F; HINSTANCE</strong></p><p>éƒ½æ˜¯ <code>void *</code> ç±»å‹ï¼Œæ²¡æœ‰åŒºåˆ«ï¼Œåªæ˜¯å…¶ä½¿ç”¨æ—¶å€™ä»£è¡¨çš„å«ä¹‰ç”¨ä½œåŒºåˆ†</p><ol><li>HWNDï¼šçª—å£å¥æŸ„ï¼Œå¦‚çº¿ç¨‹ç›¸å…³çš„</li><li>HANDLE ï¼šç³»ç»Ÿå†…æ ¸å¯¹è±¡ï¼Œå¦‚æ–‡ä»¶å¥æŸ„ï¼Œçº¿ç¨‹å¥æŸ„ï¼Œè¿›ç¨‹å¥æŸ„</li><li>HMODULE ï¼šæ¨¡å—åŸºåœ°å€ï¼Œå¦‚ exeã€dll è¢«è½½å…¥å†…å­˜æ—¶åˆ»çš„åœ°å€</li><li>HINSTANCEï¼šåŒ HMODULEï¼ˆä»…åœ¨ 16 ä½ Windows ä¸Šæœ‰æ‰€ä¸åŒï¼‰</li></ol></li></ul><br><h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><ul><li><a href="https://docs.microsoft.com/en-us/windows/win32/winprog/windows-data-types">docs.microsoft.comï¼šwindows-data-types</a></li><li><a href="https://blog.csdn.net/wangshubo1989/article/details/53203718">Windowså®¢æˆ·ç«¯å¼€å‘â€“å¿…é¡»æ¸…æ¥šHWNDã€HANDLEã€HMODULEã€HINSTANCEçš„åŒºåˆ«</a></li><li><a href="https://blog.csdn.net/u011392772/article/details/52510524">LPSTRã€LPCSTRã€LPTSTRå’ŒLPCTSTRçš„æ„ä¹‰åŠåŒºåˆ«</a></li><li><a href="https://blog.csdn.net/weixin_30797199/article/details/95368790">å¼•ç”¨ LPSTRã€LPCSTRã€LPTSTRã€LPCTSTRã€LPWSTRåŠLPCWSTRçš„æ„ä¹‰åŠåŒºåˆ«</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºäºŒ ç»éªŒ </category>
          
          <category> å­¦ä¹  - Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows ç¼–ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Lambda è¡¨è¾¾å¼è¯¦è§£</title>
      <link href="/posts/9ece64cc/"/>
      <url>/posts/9ece64cc/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong>  è¯¦è§£  <code>Lambda</code> è¡¨è¾¾å¼çš„åŸºç¡€ä½¿ç”¨ï¼ŒåŸç†ï¼Œå’Œä½¿ç”¨åœºæ™¯ã€‚</p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202203241724748.png" width="30%"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="Lambda-è¡¨è¾¾å¼"><a href="#Lambda-è¡¨è¾¾å¼" class="headerlink" title="Lambda è¡¨è¾¾å¼"></a>Lambda è¡¨è¾¾å¼</h2><h3 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><p><code>[captures](params) mutable exception -&gt; ret &#123;body&#125;</code></p><p>â€¢ æ•è·è¡¨åˆ—ï¼Œæ•è·å½“å‰ä½œç”¨åŸŸå†…çš„å˜é‡ï¼Œç”¨é€—å·åˆ†éš”</p><p>â€¢ å‚æ•°åˆ—è¡¨</p><p>â€¢ å¯é€‰é™å®šç¬¦ï¼Œå¯é€‰ï¼Œmutableå…è®¸åœ¨å‡½æ•°ä½“å†…æ”¹å˜æŒ‰å€¼æ•è·çš„å˜é‡</p><p>â€¢ å¼‚å¸¸è¯´æ˜ç¬¦ï¼Œå¯é€‰ï¼Œnoexcept</p><p>â€¢ è¿”å›å€¼ç±»å‹ï¼Œå¯é€‰ï¼Œå¤šæ•°æƒ…å†µå¯ç”±ç¼–è¯‘å™¨è‡ªåŠ¨æ¨å¯¼</p><p>â€¢ å‡½æ•°ä½“</p><br><h3 id="æ•è·åˆ—è¡¨"><a href="#æ•è·åˆ—è¡¨" class="headerlink" title="æ•è·åˆ—è¡¨"></a>æ•è·åˆ—è¡¨</h3><ul><li><p>[var] æŒ‰å€¼æ•è·ï¼Œå°† var æŒ‰å€¼å¤åˆ¶åˆ°  Lambda  ä½œç”¨åŸŸï¼Œé»˜è®¤ä¸èƒ½ä¿®æ”¹</p></li><li><p>[&amp;var] æŒ‰å¼•ç”¨æ•è·ï¼Œå°† var çš„å¼•ç”¨æ•è·åˆ°  Lambda  ä½œç”¨åŸŸ</p></li><li><p>[&#x3D;] æ•è·æ‰€åœ¨ä½œç”¨åŸŸå†…å…¨éƒ¨å˜é‡çš„å€¼</p></li><li><p>[&amp;] æ•è·æ‰€åœ¨ä½œç”¨åŸŸå†…å…¨éƒ¨å˜é‡çš„å¼•ç”¨</p></li><li><p>[this] åœ¨ç±»çš„æˆå‘˜å‡½æ•°ä¸­ï¼Œæ•è·å½“å‰çš„ this æŒ‡é’ˆ</p></li></ul><hr><h3 id="åˆå§‹åŒ–æ•è·"><a href="#åˆå§‹åŒ–æ•è·" class="headerlink" title="åˆå§‹åŒ–æ•è·"></a>åˆå§‹åŒ–æ•è·</h3><p>åˆå§‹åŒ–æ•è·ï¼šC++14 æ”¯æŒï¼Œåœ¨æ•è·å˜é‡æ—¶ï¼Œå¯ä»¥</p><p>â€¢ æŒ‡å®šé—­åŒ…ç±»ä¸­æ•°æ®æˆå‘˜çš„åå­—</p><p>â€¢ ç›´æ¥æ•è·è¡¨è¾¾å¼çš„ç»“æœ</p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202203241729927.png" width="30%"/ loading="lazy"><hr><h3 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h3><p>â€¢ Lambda è¡¨è¾¾å¼ï¼š</p><p>â€‹å³å€¼è¡¨è¾¾å¼ï¼Œæ˜¯æºç çš„ä¸€éƒ¨åˆ†ï¼ŒæŒ‡ç¤ºç¼–è¯‘å™¨ç”Ÿæˆå¯¹åº”çš„é—­åŒ…ç±»å’Œé—­åŒ…å¯¹è±¡</p><p>â€¢ é—­åŒ…ç±»(clousure class)ï¼š</p><p>â€‹ç”±ç¼–è¯‘å™¨æ ¹æ® Lambda è¡¨è¾¾å¼åœ¨ç¼–è¯‘æ—¶ç”Ÿæˆï¼Œæ¯ä¸ª Lambda è¡¨è¾¾å¼éƒ½æœ‰å¯¹åº”çš„å”¯ä¸€é—­åŒ…ç±»</p><p>â€¢ é—­åŒ…(clousure)ï¼š</p><p>â€‹åœ¨è¿è¡Œæ—¶åˆ›å»ºçš„é—­åŒ…ç±»å®ä¾‹ï¼Œå¯¹ Lambda è¡¨è¾¾å¼çš„è°ƒç”¨ä¹Ÿå°±æ˜¯è°ƒç”¨è¿™ä¸ªå®ä¾‹çš„æˆå‘˜å‡½æ•°</p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202203241756896.svg" width="80%"/ loading="lazy"><br><p>åˆ†ä¸º <code>é—­åŒ…ç±» â€“ æ•è·å˜é‡</code> å’Œ <code>é—­åŒ…ç±» â€“ ä¸æ•è·å˜é‡</code> ä¸¤ç§ï¼›</p><hr><h3 id="Lambda-è¡¨è¾¾å¼çš„ä½¿ç”¨åœºæ™¯"><a href="#Lambda-è¡¨è¾¾å¼çš„ä½¿ç”¨åœºæ™¯" class="headerlink" title="Lambda è¡¨è¾¾å¼çš„ä½¿ç”¨åœºæ™¯"></a>Lambda è¡¨è¾¾å¼çš„ä½¿ç”¨åœºæ™¯</h3><p>â€¢ åˆ›å»ºå˜é‡å­˜å‚¨ Lambda è¡¨è¾¾å¼</p><p>â€¢  Lambda è¡¨è¾¾å¼ä½œä¸ºå‡½æ•°å‚æ•°</p><p>â€¢  Lambda è¡¨è¾¾å¼ä½œä¸ºç±»æ•°æ®æˆå‘˜</p><p>â€¢ ä½¿ç”¨å®¹å™¨å­˜å‚¨ Lambda è¡¨è¾¾å¼</p><br><h4 id="ä½¿ç”¨-auto-å’Œ-decltype-å®šä¹‰-Lambda-è¡¨è¾¾å¼å˜é‡"><a href="#ä½¿ç”¨-auto-å’Œ-decltype-å®šä¹‰-Lambda-è¡¨è¾¾å¼å˜é‡" class="headerlink" title="ä½¿ç”¨ auto å’Œ decltype å®šä¹‰ Lambda è¡¨è¾¾å¼å˜é‡"></a>ä½¿ç”¨ auto å’Œ decltype å®šä¹‰ Lambda è¡¨è¾¾å¼å˜é‡</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">auto</span> f <span class="token operator">=</span> <span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> x <span class="token operator">*</span> y<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span class="token comment">//å³å€¼åˆå§‹åŒ–</span><span class="token keyword">auto</span> f2 <span class="token operator">=</span> f<span class="token punctuation">;</span> <span class="token comment">//æ‹·è´</span><span class="token keyword">decltype</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span> f3 <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">move</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ç§»åŠ¨</span><span class="token keyword">auto</span><span class="token operator">&amp;&amp;</span> f4 <span class="token operator">=</span> <span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> x <span class="token operator">*</span> y<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span class="token comment">//å³å€¼å¼•ç”¨ç»‘å®šå³å€¼</span><span class="token keyword">const</span> <span class="token keyword">auto</span><span class="token operator">&amp;</span> f5 <span class="token operator">=</span> f4<span class="token punctuation">;</span> <span class="token comment">//å¸¸é‡å·¦å€¼ç»‘å®š</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h4 id="ä½¿ç”¨æ¨¡æ¿å°†-Lambda-è¡¨è¾¾å¼ç±»å‹å‚æ•°åŒ–"><a href="#ä½¿ç”¨æ¨¡æ¿å°†-Lambda-è¡¨è¾¾å¼ç±»å‹å‚æ•°åŒ–" class="headerlink" title="ä½¿ç”¨æ¨¡æ¿å°† Lambda è¡¨è¾¾å¼ç±»å‹å‚æ•°åŒ–"></a>ä½¿ç”¨æ¨¡æ¿å°† Lambda è¡¨è¾¾å¼ç±»å‹å‚æ•°åŒ–</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">typename</span> <span class="token class-name">F</span><span class="token operator">></span><span class="token keyword">void</span> <span class="token function">fn1</span><span class="token punctuation">(</span>F fn<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">typename</span> <span class="token class-name">F</span><span class="token operator">></span><span class="token keyword">void</span> <span class="token function">fn2</span><span class="token punctuation">(</span>F<span class="token operator">&amp;&amp;</span> fn<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">fn</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">forward</span><span class="token generic class-name"><span class="token operator">&lt;</span>F<span class="token operator">></span></span></span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h4 id="std-function-å‡½æ•°å¯¹è±¡åŒ…è£…å™¨"><a href="#std-function-å‡½æ•°å¯¹è±¡åŒ…è£…å™¨" class="headerlink" title="std::function å‡½æ•°å¯¹è±¡åŒ…è£…å™¨"></a>std::function å‡½æ•°å¯¹è±¡åŒ…è£…å™¨</h4><ul><li><p>å¯ä»¥åŒ…è£…ä»»æ„ç±»å‹å‡½æ•°å¯¹è±¡</p></li><li><p>å‡½æ•°ç­¾åç›¸åŒçš„å¯¹è±¡å¯ä»¥å­˜å‚¨ä¸ºåŒä¸€ç±»å‹</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">std<span class="token double-colon punctuation">::</span>function<span class="token operator">&lt;</span><span class="token keyword">float</span><span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">,</span> <span class="token keyword">float</span><span class="token punctuation">)</span><span class="token operator">></span> fn<span class="token punctuation">;</span>fn <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>fmaxf<span class="token punctuation">;</span> <span class="token comment">//æ™®é€šå‡½æ•°</span>fn <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">multiplies</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">float</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ä»¿å‡½æ•°</span>fn <span class="token operator">=</span> <span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">float</span> a<span class="token punctuation">,</span> <span class="token keyword">float</span> b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> a<span class="token operator">*</span>b<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span class="token comment">// Lambda </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li></ul><br><h4 id="æ€§èƒ½é—®é¢˜"><a href="#æ€§èƒ½é—®é¢˜" class="headerlink" title="æ€§èƒ½é—®é¢˜"></a>æ€§èƒ½é—®é¢˜</h4><ul><li><p>åŠ¨æ€åˆ†é…å†…å­˜</p></li><li><p>è™šå‡½æ•°è°ƒç”¨</p></li></ul><br><h4 id="æŒ‡é’ˆ"><a href="#æŒ‡é’ˆ" class="headerlink" title="æŒ‡é’ˆ"></a>æŒ‡é’ˆ</h4><ul><li><p>æ‚¬æŒ‚å¼•ç”¨</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">auto</span> <span class="token function">make_lambda</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">&amp;</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> v <span class="token operator">+</span> i<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">auto</span> l <span class="token operator">=</span> <span class="token function">make_lambda</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">l</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>æ‚¬æŒ‚æŒ‡é’ˆ</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token class-name">Object</span><span class="token double-colon punctuation">::</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span><span class="token function">thread</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span>        <span class="token function">print</span><span class="token punctuation">(</span>i <span class="token operator">+</span> m_value<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">detach</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><p>â€‹</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºäºŒ ç»éªŒ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++11/17/20 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Telegram Download Default Chat Wallpaper</title>
      <link href="/posts/21ff118a/"/>
      <url>/posts/21ff118a/</url>
      
        <content type="html"><![CDATA[<p><strong>Summary:</strong> Telegram Download Default Chat Wallpaper</p><img src="https://raw.githubusercontent.com/XMuli/xmuliPic/pic/2022/202205181320386.jpg" width="30%"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p>â€‹    I gave it a research yesterday, happy ğŸ‰ğŸ‰ğŸ‰. With this method, you can download any of all the default self-contained wallpapers, including custom fine-tuned background images.</p><br><p><strong>The steps are as follows:</strong></p><ol><li>openã€telegram - settings - Chat Settings - Chat background - Choose from galleryã€</li><li>Open this link using chrome (desktop)</li><li><code>F12</code> to enter developer mode and hide the corresponding window element</li><li>Open the input terminal with <code>Ctrl + Shift + P</code> and run <code>Capture full size screenshot</code> (4K monitor recommended) to get a high quality â€œ.pngâ€ wallpaper</li><li>Enjoy it and set it as desktop wallpaper</li></ol><img src="https://raw.githubusercontent.com/XMuli/xmuliPic/pic/2022/202205181312729.png" width="100%"/ loading="lazy">]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´» - é—²æš‡çš„è¶£é—» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Wallpaper </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®è½¯ SDK å¯¼è‡´çš„é¡¹ç›®ç¼–è¯‘å¤±è´¥å“¦ï¼</title>
      <link href="/posts/38f2679b/"/>
      <url>/posts/38f2679b/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong> å“‡å¡å¡å¡ï¼Œè¿™æ¬¡åˆæŠ“åˆ°äº† <code>Microsoft</code> <code>win10</code> çš„ ğŸ›ï¼Œè¿™æ¬¡è¿˜å½±å“åˆ°äº†æˆ‘å†™ä»£ç å“¦ğŸ™„ã€‚é¡¹ç›®ä½¿ç”¨ <code>Release X86</code> ç¼–è¯‘ä¼šæˆåŠŸï¼Œè€Œåˆ‡æ¢åˆ° <code>Release X64</code> ç¼–è¯‘ä¼šå¤±è´¥ã€‚</p><blockquote><p>Error (active)E0147declaration is incompatible with â€œBOOLEAN _BitScanForwardâ€ (declared at line 2825 of â€œC:\Program Files (x86)\Windows Kits\10\Include\10.0.19041.0\um\winnt.hâ€)C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\include\intrin0.inl.h123</p><p>â€¦ </p><p>ErrorC2007#define syntaxC:\Program Files (x86)\Windows Kits\10\Include\10.0.19041.0\shared\minwindef.h38<br>ErrorC2144syntax error: â€˜intâ€™ should be preceded by â€˜;â€™C:\Program Files (x86)\Windows Kits\10\Include\10.0.19041.0\shared\minwindef.h43<br>ErrorC4430missing type specifier - int assumed. Note: C++ does not support default-intC:\Program Files (x86)\Windows Kits\10\Include\10.0.19041.0\shared\minwindef.h43</p></blockquote><span id="more"></span><p>[TOC]</p><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>ã€€ã€€å¯¹äºå•†ä¸šé¡¹ç›®ï¼Œç´ æ¥ç”¨ <code>Release X86</code> æ¨¡å¼ç¼–è¯‘ï¼Œéœ€è¦è°ƒè¯•å°±å…³é—­ä¼˜åŒ–ï¼Œæ•´ä¸ªè§£å†³æ–¹æ¡ˆéƒ½æ˜¯å¯ä»¥ç¼–è¯‘é€šè¿‡çš„ã€‚ä½†è¿™æ¬¡éœ€è¦ç¼–è¯‘ä¸€ä¸ª x64 çš„ dllï¼Œæ¥è°ƒè¯•ï¼›åœ¨æœ¬æœº VS 2019 ç›´æ¥åˆ‡æ¢ä¸º Release X64 ï¼ŒæŠ¥é”™å¦‚ä¸‹ï¼ï¼ï¼      ğŸ’»  <code>win10 21H2</code> ğŸ“ <code>Qt 5.12.11</code> ğŸ“  <code>Visual Studio 2019</code> </p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202205121649010.png" width="100%"/ loading="lazy"><br><p>ã€€ã€€JKS ä¸Šæ˜æ˜æ˜¯æœ‰æä¾›çš„ X64 çš„ dllï¼Œä»£ç å³ä½¿ä¸€è¡Œä¸æ”¹ï¼Œä½ è¿˜æŠ¥é”™è¿™ä¹ˆå¤šï¼Ÿä½ æ˜¯è®¤çœŸçš„éº½ï¼ï¼ï¼ å¤§å£°å“”å“”ã€‚</p><br><h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>ã€€ã€€çœ‹é”™éƒ½æ˜¯ä»å¤´çš„ç¬¬ä¸€ä¸ªå¼€å§‹çœ‹ã€å¼€å§‹è§£ï¼Œä½†è¿™æ¬¡è¿™ä¸ªé”™çœ‹çš„å¾ˆé¢“ç„¶ï¼ï¼ï¼</p><p>äºæ˜¯å¼€å§‹ <strong>ä»æœ€åº•éƒ¨çš„é”™å¼€å§‹çœ‹ï¼ˆæ²¡é”™ï¼Œä½ æ˜¯é‡ç‚¹ğŸŒˆï¼‰</strong></p><ul><li>ä»€ä¹ˆé”™æ¥ç€ï¼Œè¯­æ³•é”™è¯¯ï¼Ÿï¼Ÿï¼Ÿ </li><li>è¿˜æ˜¯å¾®è½¯çš„ <code>minwindef.h</code> çš„é—®é¢˜ï¼Ÿï¼Ÿï¼Ÿï¼Ÿä½ ç¡®å®šä¸æ˜¯æˆ‘ä»¬çš„é—®é¢˜ï¼Ÿï¼Ÿï¼Ÿ ï¼ˆä½ ç›¸ä¿¡è‡ªå·±ä»£ç å†™é”™çš„ï¼Œè¿˜æ˜¯ç›¸ä¿¡ Microsoft çš„ä»£ç å†™é”™äº†ï¼Ÿï¼Ÿï¼Ÿï¼‰æ€€ç–‘äººç”Ÿä¸­ğŸ™„</li></ul><br><p>ã€€ã€€å¸¸è§çš„åŸºæœ¬è®¾ç½®éƒ½æ£€æŸ¥ä¸€éåï¼Œï¼ˆåŒ…å«çš„å¤´æ–‡ä»¶è·¯å¾„ã€åº“æ–‡ä»¶é“¾æ¥ã€C++ 17 åŠä»¥ä¸Šã€Unicode ç¼–ç ã€ä¼˜åŒ–å…³é—­ã€å¤šæ ¸ç¼–è¯‘å¼€å¯ï¼‰ï¼Œè¿˜æ˜¯ä¸€ç›´æŠ¥è¿™ä¸ªé”™ã€‚é—®äº†ä¸€åœˆï¼Œå¤§å®¶éƒ½æ²¡æœ‰ç¼–è¯‘è¿‡ x64 çš„ã€‚ </p><p>ã€‚ã€‚ã€‚è›‹ç–¼ä¸­ã€‚ã€‚ã€‚</p><p>ã€‚ã€‚ã€‚ç»§ç»­è›‹ç–¼ä¸­ã€‚ã€‚ã€‚</p><p>ã€‚ã€‚ã€‚æŒç»­è›‹ç–¼ä¸­ã€‚ã€‚ã€‚</p><p>éš¾é“çœŸçš„æ˜¯ Microsoft çš„é”™ï¼Ÿï¼Ÿï¼Ÿï¼Œæ€æ¥æƒ³å»ï¼Œå†çœ‹çœ‹æ­¤æ–‡ä»¶ï¼Œå†ç»“åˆ <a href="https://docs.microsoft.com/en-us/cpp/error-messages/compiler-errors-1/compiler-error-c2007?view=msvc-170">Compiler Error C2007</a> ï¼Œç›®å…‰åˆæŠ•æŠ•å‘äº† <code>minwindef.h</code> æ–‡ä»¶ã€‚</p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202205121705712.png" width="40%"/ loading="lazy"><br><p>ã€€ã€€å¥½å§ï¼Ÿæ­¤åˆ»æˆ‘è§‰å¾—é‡Œçš„æ–‡ä»¶çš„æ¦‚ç‡ä¸º 30%ï¼Œä½†è®¤ä¸ºå¯èƒ½æ˜¯ä½ çš„é”™å´æ˜¯ 10% çš„æ¦‚ç‡ï¼›å»æ§åˆ¶ä¸­å¿ƒæ‰¾åˆ° <code>Microsoft Visual Stdio Installer</code> å•ç‹¬å‡çº§äº†ä¸€ä¸‹ sdk ï¼ˆé€‰æ‹©äº†ä¸€ä¸ªæœ€æ–°çš„ win10ï¼Œé win11ï¼‰ï¼›ç„¶åé‡æ–°ç¼–è¯‘ä¸€ä¸‹ï¼Œä¸€æŠŠè¿‡ï¼Œæ˜¾ç¤ºæˆåŠŸäº†ã€‚ğŸ¤¦â€â™‚ï¸ğŸš€,ç‹‚å–œ</p><br><h2 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p>ã€€ã€€<strong>æœ€åçš„è§£å†³æ–¹æ¡ˆæ˜¯å°†ã€€SDK ç”± 10.0.19041.0 æå‡åˆ°äº† 10.0.20348.0ã€‚å‘µ~</strong></p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202205121732843.png" width="50%"/ loading="lazy"><br><p>ã€€ã€€äº‹åï¼Œbc æ¯”è¾ƒä¸‹ä¸¤ä¸ªæ–‡ä»¶ï¼Œå®é”¤äº†ï¼Œä¸”é”™çš„å¾ˆæ˜æ˜¾å’Œç²—ç³™ï¼Œè¿™ä¸‹ä¸æ˜¯çŒœæµ‹äº†ï¼Œæ™šä¸Šå¯ä»¥ç¡ä¸ªå®‰å¿ƒè§‰äº†ã€‚ç»ˆç©¶è¿˜æ˜¯ Microsoft æä¾›çš„åº“æœ‰é”™ã€‚</p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202205131457931.png" width="85%"/ loading="lazy"><br><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ã€€ã€€æœ€å¤§çš„æ”¶è·ï¼Œæ˜¯æœ¬æ¬¡å¿ƒè·¯å†ç¨‹ï¼Œè§‰å¾—ä¸å¯ä¸€ä¸–çš„ã€€Microsoft SDK ä¸å¯èƒ½å‡ºé”™ï¼Œåªå¯èƒ½æ˜¯æˆ‘ä»¬çš„ä»£ç å†™çš„æœ‰é—®é¢˜ã€‚ä½†è¿™æ¬¡ç ´é™¤äº†å¿ƒé‡Œçš„è¿™ç§â€œå°å»ºè¿·ä¿¡â€ï¼Œäº²èº«ä½“éªŒè¿‡ï¼Œæ‰çŸ¥é“æ²¡æœ‰ä»€ä¹ˆä¸å¯èƒ½ï¼Œè¿™ç§æ„Ÿè§‰å¾ˆå¥‡å¦™ã€‚å¹¿æ³›ç‚¹è¯´è¿™ä¹Ÿç®—æ˜¯ç¬¬ä¸‰æ¬¡é‡åˆ°å¾®è½¯çš„é”™è¯¯äº†å§<sup>[1]</sup>ï¼Œåªæ˜¯å‰ä¸¤æ¬¡éƒ½æ²¡æœ‰è¿™ä¹ˆæ˜æ˜¾å’Œç›´æ¥ã€‚</p><br><h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><p><a href="https://github.com/XMuli/QtExamples">QtExamples</a> </p><p>æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”<strong>æ°¸ä¹…å…è´¹</strong>ï¼â€</p><br><hr><p><sup>[1]</sup>  æ³¨é‡Šï¼ŒæŒ‡ä»£ï¼š</p><ul><li>ç¬¬ä¸€æ¬¡ <a href="https://blog.csdn.net/qq_33154343/article/details/116244656">win10çš„20H2ä½¿ç”¨VS2019ï¼Œæ‹–æ›³çª—å£ä¼šå´©æºƒ</a>; </li><li>ç¬¬äºŒæ¬¡ <a href="https://blog.csdn.net/qq_33154343/article/details/123508220">ä¸€ä¸ªå¾®è½¯è‡ªå¸¦çš„ notepad æ‰€å¯¼è‡´çš„é—®é¢˜</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºäºŒ ç»éªŒ </category>
          
          <category> å­¦ä¹  - Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Visual Studio </tag>
            
            <tag> è°ƒè¯• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Visual Studio æ–­ç‚¹è°ƒè¯•ä¹‹ç®­å¤´åç§»è¿›é”™å‡½æ•°ï¼Œæ€ªå¼‚æ‰ğŸ›è®°</title>
      <link href="/posts/83002d8f/"/>
      <url>/posts/83002d8f/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong> <code>Visual Studio</code> æ–­ç‚¹è°ƒè¯•ä¹‹ç®­å¤´åç§»è¿›é”™å‡½æ•°ï¼Œæ€ªå¼‚ç°è±¡ä¹‹æ‰ğŸ›è®°ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>ã€€ã€€å¥½ä¹…æ²¡æœ‰é‡åˆ°è¿™ä¹ˆæœ‰è¶£çš„ Bug äº†ï¼Œæ¥æŠ“ä¸€ä¸ªè°ƒè¯•æŒ‡é’ˆå‡ºç°åç§»é”™è¯¯âŒçš„ğŸ›ã€‚ã€€</p><p>ã€€ã€€åœ¨ C++ å®ç°çš„æ´¾ç”Ÿç±»å’Œç±»ä¸­é‡å†™çš„ä¸¤ä¸ªè™šå‡½æ•° Aã€B åï¼Œä»£ç å®å†™è°ƒç”¨ A å‡½æ•°ï¼Œæ–­ç‚¹ Debug è°ƒè¯•å´å‘½ä¸­ B å‡½æ•°ã€‚ğŸ’»  <code>win10 21H2</code> ğŸ“  <code>Visual Studio 2019</code> </p><br><p>ã€€ã€€<code>MyCollectLogImpl</code> ä¸º <code>IMyCollectLog</code> çš„ä¸€ä¸ªæ´¾ç”Ÿç±»ï¼Œç„¶åä»£ç ä¸­è°ƒç”¨æ´¾ç”Ÿç±»çš„ <code>OnCollectLogOne</code> å‡½æ•°ï¼Œä½†è°ƒè¯•çš„ç®­å¤´å’Œæ–­ç‚¹å´è¿›å…¥äº†å¦ä¸€ <code>OnCollectLogArray</code> å‡½æ•°ï¼›ååˆ†æ€ªå¼‚ä¹‹ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">IMyCollectLog</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token class-name">IMyUnknown</span></span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">virtual</span> <span class="token keyword">long</span> STDCALLTYPE <span class="token function">OnCollectLogOne</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> sKey<span class="token punctuation">,</span> IMyBundle<span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">virtual</span> <span class="token keyword">long</span> STDCALLTYPE <span class="token function">OnCollectLogArray</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> sKey<span class="token punctuation">,</span> IMyBundleArray<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">MyCollectLogImpl</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> CloudService<span class="token double-colon punctuation">::</span><span class="token class-name">IMyCollectLog</span></span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">long</span> STDCALLTYPE <span class="token function">OnCollectLogOne</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> sKey<span class="token punctuation">,</span> IMyBundle<span class="token operator">*</span> pBundle<span class="token punctuation">)</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>sKey <span class="token operator">||</span> <span class="token operator">!</span>pBundle<span class="token punctuation">)</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>         <span class="token comment">// TODO: do something</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">long</span> STDCALLTYPE <span class="token function">OnCollectLogArray</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> sKey<span class="token punctuation">,</span> IMyBundleArray<span class="token operator">*</span> pBundleArray<span class="token punctuation">)</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>sKey <span class="token operator">||</span> <span class="token operator">!</span>pBundleArray<span class="token punctuation">)</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>                <span class="token comment">// TODO: do something</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// ... å®šä¹‰å…¶å®ƒæˆå‘˜å‡½æ•°å’Œæˆå‘˜</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è°ƒç”¨å¤„çš„å‡½æ•°ä¸º</p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">void onInnerQueryEnd(const char* sKey, IMyBundle* pBundle) &#123;    if (m_setCollLogPtr.empty())        return;    for (auto it : m_setCollLogPtr)        it-&gt;OnCollectLogOne(sKey, pBundle);   &#x2F;&#x2F; *** å†™çš„æ˜¯æ‰§è¡Œ OnCollectLogOneï¼Œ è€Œéæ˜¯ OnCollectLogArray, è™½ç„¶ä¸¤è€…è¡Œå‚é•¿å¾—å¾ˆåƒ ***&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><p>ã€€ã€€ç”¨ä¸€å¼ å›¾æ¥è§£é‡Šå°±æ˜¯ï¼š</p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202204281834584.png" width="100%"/ loading="lazy"><br><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><ol><li>æ–­ç‚¹è°ƒè¯•çš„ç®­å¤´å‘ç”Ÿåç§»åˆ°å…¶å®ƒå‡½æ•°ã€‚æœ¬æ¬¡é‡åˆ°</li><li>æ–­ç‚¹è°ƒè¯•æ—¶ï¼Œæ–­ç‚¹å’Œç®­å¤´å‡æ— æ³•è¿›å…¥æŸä¸€å‡½æ•°å†…éƒ¨ã€‚ä»¥å‰é‡è¿‡</li></ol><br><p><strong>ä¸¤è€…å®é™…ä¸ºåŒä¸€æ ¹å› ï¼š</strong></p><p>ã€æ ¹å› 1ã€Release ç¼–è¯‘æ¨¡å¼ä¸‹å…³é—­ä¼˜åŒ–ä»æœ‰ä¼˜åŒ–ï¼Œç©ºå®ç°çš„å‡½æ•°æ²¡æœ‰å¯¹åº”æ±‡ç¼–</p><p>ã€æ ¹å› 2ã€è·¨æ¨¡å—åŠ è½½ã€åˆ›å»ºå¯¹è±¡ï¼Œå…¶ .dll æ¥å£å’Œ .pdb ä¸å¯¹åº”</p><p>ã€æ ¹å› 3ã€.dll å’Œ .pdb æ‹·è´é”™äº†æºå¯¹è±¡ã€ç§»åŠ¨åˆ°äº†é”™çš„ç›®æ ‡è·¯å¾„ä¸‹</p><p>ã€æ ¹å› 4ã€.dll å’Œ .pdb æ‹·è´åˆ°æ­£ç¡®çš„ç›®æ ‡è·¯å¾„ï¼Œè¢«è°ƒè¯•çš„ç¨‹åºæœªé‡å¯åŠ è½½æ­¤æ’ä»¶ï¼ˆå¤§éƒ¨åˆ†éœ€è¦ï¼‰</p><br><h2 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><blockquote><p>ã€€ã€€<strong>Release æ¨¡å¼ä¸‹ç¼–è¯‘ï¼Œå³ä½¿å…³é—­ä¼˜åŒ–<sup>[1]</sup>ï¼Œå®é™…ä»æœ‰ä¼˜åŒ–ã€‚</strong> å¦‚å®ç°ä¸€ä¸ªç©ºçš„å‡½æ•°ï¼Œå°±ä¼šè¢«ä¼˜åŒ–æ‰ï¼Œåæ±‡ç¼–çª—å£ä¸­å¯æŸ¥çœ‹æ— å¯¹åº”æ­¤å‡½æ•°çš„æ±‡ç¼–è¯­å¥ã€‚ã€ç®€ç›´æ˜¯å¤§å‘ã€ã€‚</p></blockquote><br><ul><li><font color=#FF0000 face="STFangsong"><strong>Release ç¼–è¯‘æ¨¡å¼ä¸‹å…³é—­ä¼˜åŒ–</strong> </font></li><li>å®ç°æŸä¸€å‡½æ•°æ—¶å´æš‚ä¸å®ç°ç»†èŠ‚ï¼ˆä»…æœ‰ if åˆ¤æ–­æŒ‡é’ˆä¸ºç©ºå’Œ return è¯­å¥ï¼Œç»†èŠ‚æœªå†™ï¼‰ï¼Œä»…æƒ³è°ƒè¯•ä¸€ä¸‹æ¡†æ¶æ—¶ï¼Œ<font color=#FF0000 face="STFangsong"><strong>å¯åœ¨å‡½æ•°ä¸­æ·»åŠ ä¸€å¥ <code>int a = 0</code> æˆ– <code>ä¾‹å­æ‰“å°è¯­å¥</code> é¿å…è¢«ç¼–è¯‘å™¨ä¼˜åŒ–ã€‚</strong> </font></li><li>å…ˆåˆ‡æ¢ Debug æ¨¡å¼ä¸‹ç¼–è¯‘ï¼Œæ›¿æ¢æ–‡ä»¶éªŒè¯ä»£ç ï¼Œåœ¨åˆ‡å› Release æ¨¡å¼å®šä½</li></ul><br><p><strong>æ³¨ï¼š</strong></p><p><sup>[1]</sup> Visual Studio 2019 é¡¹ç›®å±æ€§é¡µï¼Œâ€Configuration Properties - C&#x2F;C++ - Optimizationâ€ ä¸­ <code>Optimization</code> è®¾ç½®ä¸º <code>Disabled (/Od)</code>ï¼›ä½¿ Release æ¨¡å¼çš„ç¼–è¯‘å…³é—­æ‰€æœ‰ä¼˜åŒ–ã€‚</p><br><h2 id="ç³»åˆ—åœ°å€"><a href="#ç³»åˆ—åœ°å€" class="headerlink" title="ç³»åˆ—åœ°å€"></a>ç³»åˆ—åœ°å€</h2><p><a href="https://github.com/XMuli/QtExamples">QtExamples</a> </p><p>æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”<strong>æ°¸ä¹…å…è´¹</strong>ï¼â€</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºäºŒ ç»éªŒ </category>
          
          <category> å­¦ä¹  - Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Visual Studio </tag>
            
            <tag> è°ƒè¯• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qtæ–°å¼¹çª—ä¸å“åº”é”®ç›˜æŒ‰é”®ï¼Œéš¾é“ä¹Ÿæ˜¯æ— ç„¦ç‚¹ï¼Ÿ</title>
      <link href="/posts/44eabb4d/"/>
      <url>/posts/44eabb4d/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong> å…¨å±€çƒ­é”®å¬å”¤çš„æ–°çª—å£åï¼ŒğŸ–±ä¸ç‚¹å‡»æ­¤ç¨‹åºçš„æ‰˜ç›˜å›¾æ ‡å’Œç›¸å…³çª—å£ï¼ˆä½†æ˜¯å¯ä»¥ç§»åŠ¨ï¼Œå¼€å¯å…‰æ ‡è·Ÿè¸ªï¼‰ï¼Œåªç‚¹å‡»é”®ç›˜æŒ‰é”®å´æ— å“åº”ã€‚ä½†ğŸ–±ç‚¹å‡»è¿‡åï¼Œå´å¯ä»¥å“åº”âŒ¨æŒ‰é”®äº†ã€‚è§£å†³æ­¤æ€ªå¼‚é—®é¢˜ã€‚</p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202205072001464.jpg" width="100%"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p>ã€€ã€€ğŸ’»  <code>win10 21H2</code> ğŸ“ <code>Qt 5.12.11</code> </p><br><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>â€‹    å†™æˆªå›¾æ—¶ï¼Œå½“æºç åœ¨ IDE ä¸­ï¼Œé€šè¿‡ç¼–è¯‘å’Œè¿è¡Œåï¼Œå³ä¸‹åŠ å‡ºç°ä¸€ä¸ª<code>æ‰˜ç›˜å›¾æ ‡</code>ï¼Œè¡¨ç¤ºç¨‹åºåœ¨è¿è¡Œä¸­ï¼Œæ­¤æ—¶é€šè¿‡å¿«æ·é”® <code>F6</code> å¯é¡ºåˆ©å¬å”¤å‡º<code>æˆªå›¾çª—å£</code>ï¼ˆæ— æ ‡é¢˜æ  + æœ€å¤§åŒ– + ç½®é¡¶ï¼‰ã€‚</p><br><p>â€‹    <strong>æ“ä½œå¦‚ä¸‹ï¼š</strong> æ­¤æ—¶é¼ æ ‡æ•…æ„ä¸ç‚¹å‡»æ­¤<code>æˆªå›¾çª—å£</code>å’Œ<code>æ‰˜ç›˜å›¾æ ‡</code>ï¼Œä»…ç§»åŠ¨ï¼Œå¯ä»¥çœ‹åˆ°å®æ—¶æ˜¾ç¤ºå…¶ä¸­å…‰æ ‡çš„ç»å¯¹åæ ‡çš„å˜åŒ–ã€‚<strong>æ­¤æ—¶æŒ‰ä¸‹å¿«æ·é”® <code>Esc</code> ï¼Œ<code>æˆªå›¾çª—å£</code> å¹¶ä¸ä¼šæ¶ˆå¤±ã€‚ç”šæ˜¯å¥‡æ€ªï¼Ÿï¼Ÿï¼Ÿ</strong>  ä½†å€˜è‹¥æ˜¯é€šè¿‡å³é”®ç‚¹å‡»æ‰˜ç›˜èœå•ï¼Œå¬å”¤çš„ <code>æˆªå›¾çª—å£</code>ï¼ŒæŒ‰ä¸‹ <code>Esc</code> åˆ™æœ‰å…³é—­å“åº”ã€‚åç»­å†å¿«æ·é”®å¬å”¤ <code>æˆªå›¾çª—å£</code> å’Œ <code>Esc</code> åˆ™æ€»æ˜¯æ­£å¸¸çš„ã€‚</p><br><h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>â€‹    ä¸€å¼€å§‹æ˜¯è®¤ä¸ºç¨‹åºç¼ºå°‘ç„¦ç‚¹å¯¼è‡´ï¼Œå°è¯• <a href="https://blog.csdn.net/y7u8t6/article/details/83415229">ã€QTã€‘æ–°å¼¹çª—é»˜è®¤æ— ç„¦ç‚¹</a> ä¸­ä¸¤ç§è®¾ç½®ç„¦ç‚¹æ–¹æ³•ï¼Œå‡æ— æ•ˆã€‚</p><p>ç´¢æ€§å†™äº†ä¸€ä¸ª <a href="https://github.com/XMuli/QtExamples/tree/master/TestHotKey">TestHotKey</a> æ¥éªŒè¯è¿™ä¸ªå…¨å±€çƒ­é”®åŠŸèƒ½ï¼ŒåŸå› ä¸ºä½•ï¼Ÿ</p><h3 id="æ‰˜ç›˜ç›¸å…³ä»£ç å¦‚ä¸‹"><a href="#æ‰˜ç›˜ç›¸å…³ä»£ç å¦‚ä¸‹" class="headerlink" title="æ‰˜ç›˜ç›¸å…³ä»£ç å¦‚ä¸‹"></a>æ‰˜ç›˜ç›¸å…³ä»£ç å¦‚ä¸‹</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// -------------------- tray.h --------------------</span><span class="token keyword">class</span> <span class="token class-name">Tray</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QObject</span></span><span class="token punctuation">&#123;</span>    Q_OBJECT<span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">explicit</span> <span class="token function">Tray</span><span class="token punctuation">(</span>QObject <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">public</span> slots<span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">onScreenShot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">private</span><span class="token operator">:</span>    QAction<span class="token operator">*</span> m_screenShot<span class="token punctuation">;</span>    QAction<span class="token operator">*</span> m_quit<span class="token punctuation">;</span>    QMenu<span class="token operator">*</span> m_menuTary<span class="token punctuation">;</span>    QSystemTrayIcon<span class="token operator">*</span> m_sysTary<span class="token punctuation">;</span>    QHotkey<span class="token operator">*</span> m_hkScrnShot<span class="token punctuation">;</span>  <span class="token comment">// çƒ­é”®</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">// -------------------- tray.cpp --------------------</span><span class="token class-name">Tray</span><span class="token double-colon punctuation">::</span><span class="token function">Tray</span><span class="token punctuation">(</span>QObject <span class="token operator">*</span>parent<span class="token punctuation">)</span>    <span class="token operator">:</span> <span class="token function">QObject</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span>    <span class="token punctuation">,</span> <span class="token function">m_screenShot</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>    <span class="token punctuation">,</span> <span class="token function">m_quit</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>    <span class="token punctuation">,</span> <span class="token function">m_menuTary</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>    <span class="token punctuation">,</span> <span class="token function">m_sysTary</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>    <span class="token punctuation">,</span> <span class="token function">m_hkScrnShot</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token function">QHotkey</span><span class="token punctuation">(</span><span class="token function">QKeySequence</span><span class="token punctuation">(</span><span class="token string">"f2"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> qApp<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    m_screenShot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QAction</span><span class="token punctuation">(</span><span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"ScreenShot"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_quit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QAction</span><span class="token punctuation">(</span><span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"Quit"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_menuTary <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_menuTary<span class="token operator">-></span><span class="token function">addAction</span><span class="token punctuation">(</span>m_screenShot<span class="token punctuation">)</span><span class="token punctuation">;</span>    m_menuTary<span class="token operator">-></span><span class="token function">addSeparator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_menuTary<span class="token operator">-></span><span class="token function">addAction</span><span class="token punctuation">(</span>m_quit<span class="token punctuation">)</span><span class="token punctuation">;</span>    m_sysTary <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QSystemTrayIcon</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_sysTary<span class="token operator">-></span><span class="token function">setIcon</span><span class="token punctuation">(</span><span class="token function">QIcon</span><span class="token punctuation">(</span><span class="token string">":/resources/PicShot_32.svg"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_sysTary<span class="token operator">-></span><span class="token function">setToolTip</span><span class="token punctuation">(</span><span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"PicShot Test"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_sysTary<span class="token operator">-></span><span class="token function">setContextMenu</span><span class="token punctuation">(</span>m_menuTary<span class="token punctuation">)</span><span class="token punctuation">;</span>    m_sysTary<span class="token operator">-></span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// å¿«æ·é”®å“åº”</span>    <span class="token function">connect</span><span class="token punctuation">(</span>m_hkScrnShot<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QHotkey<span class="token double-colon punctuation">::</span>activated<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>Tray<span class="token double-colon punctuation">::</span>onScreenShot<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// å³é”®èœå•è§¦å‘</span>    <span class="token function">connect</span><span class="token punctuation">(</span>m_screenShot<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QAction<span class="token double-colon punctuation">::</span>triggered<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>Tray<span class="token double-colon punctuation">::</span>onScreenShot<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">connect</span><span class="token punctuation">(</span>m_quit<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QAction<span class="token double-colon punctuation">::</span>triggered<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>qApp<span class="token operator">-></span><span class="token function">quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">Tray</span><span class="token double-colon punctuation">::</span><span class="token function">onScreenShot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">auto</span><span class="token operator">&amp;</span> ins <span class="token operator">=</span> <span class="token class-name">Widget</span><span class="token double-colon punctuation">::</span><span class="token function">instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ins<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="æˆªå›¾çª—å£ä»£ç å¦‚ä¸‹ï¼š"><a href="#æˆªå›¾çª—å£ä»£ç å¦‚ä¸‹ï¼š" class="headerlink" title="æˆªå›¾çª—å£ä»£ç å¦‚ä¸‹ï¼š"></a>æˆªå›¾çª—å£ä»£ç å¦‚ä¸‹ï¼š</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// -------------------- tray.cpp --------------------</span><span class="token class-name">Widget</span><span class="token double-colon punctuation">::</span><span class="token function">Widget</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span>    <span class="token operator">:</span> <span class="token function">QWidget</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">setFocusPolicy</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>StrongFocus<span class="token punctuation">)</span><span class="token punctuation">;</span>    QDesktopWidget <span class="token operator">*</span>desktop <span class="token operator">=</span> <span class="token class-name">QApplication</span><span class="token double-colon punctuation">::</span><span class="token function">desktop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è·å–æ¡Œé¢çš„çª—ä½“å¯¹è±¡</span>    <span class="token keyword">const</span> QRect geom <span class="token operator">=</span> desktop<span class="token operator">-></span><span class="token function">geometry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// å¤šå±çš„çŸ©å½¢å–å¹¶é›†</span>    <span class="token function">setWindowFlags</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>FramelessWindowHint <span class="token comment">/*| Qt::WindowStaysOnTopHint */</span><span class="token operator">|</span> <span class="token function">windowFlags</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å»æ‰æ ‡é¢˜æ  + ç½®é¡¶</span><span class="token comment">//    setAttribute(Qt::WA_ShowWithoutActivating,true);</span><span class="token comment">//    setFocusPolicy(Qt::StrongFocus);</span><span class="token comment">//    setFixedSize(QSize(geom.size().width() / 4, geom.size().height()));</span>    <span class="token function">setFixedSize</span><span class="token punctuation">(</span><span class="token function">QSize</span><span class="token punctuation">(</span><span class="token number">512</span><span class="token punctuation">,</span> geom<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setMouseTracking</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">Widget</span><span class="token double-colon punctuation">::</span><span class="token function">keyPressEvent</span><span class="token punctuation">(</span>QKeyEvent <span class="token operator">*</span>event<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token operator">-></span><span class="token function">key</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Qt<span class="token double-colon punctuation">::</span>Key_Escape<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"Key_Escape"</span><span class="token punctuation">;</span>        <span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token operator">-></span><span class="token function">key</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Qt<span class="token double-colon punctuation">::</span>Key_A<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"Key_A"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">Widget</span><span class="token double-colon punctuation">::</span><span class="token function">paintEvent</span><span class="token punctuation">(</span>QPaintEvent <span class="token operator">*</span>event<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QPainter <span class="token function">pa</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    pa<span class="token punctuation">.</span><span class="token function">drawText</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"m_pos(%1, %2)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>m_pos<span class="token punctuation">.</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>m_pos<span class="token punctuation">.</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><p>çªç ´ç‚¹åœ¨ <code>Widget::keyPressEvent()</code>ï¼Œæƒ³çŸ¥é“åˆ°åº•å¯¹åº”çŠ¶æ€æ˜¯å¦ä¼šå“åº”é”®ç›˜æŒ‰é”®ï¼Œç¡®è®¤æ­¤ä¾¿å¯ä»¥æ‰¾åˆ°åŸå› ã€‚</p><br><h2 id="æ ¹å› è§£å†³"><a href="#æ ¹å› è§£å†³" class="headerlink" title="æ ¹å› è§£å†³"></a>æ ¹å› è§£å†³</h2><p>â€‹    æ­¤æ¬¡æ€è·¯æ„Ÿè§‰æœ‰ç‚¹æ¬§äº¨åˆ©å¼ï¼š</p><p><a href="https://zhuanlan.zhihu.com/p/28901592">çŸ¥ä¹æ­¤ç¯‡</a> â€”&gt; tab åˆ‡æ¢çª—å£ â€”&gt; è”æƒ³åˆ° æ¿€æ´»çª—å£ â€”&gt; google key: focus å˜æˆ çª—å£æ¿€æ´»ï¼Œ â€”&gt; å»æ‰ç½®é¡¶åå°è¯•ï¼ˆå»æ‰å¹²æ‰°å› ç´ ï¼‰ â€”&gt; ok</p><br><p>â€‹    <strong>ä½¿ç”¨å…¨å±€çƒ­é”®å¬å”¤å‡ºæ¥çš„æˆªå›¾çª—å£ï¼Œæ­¤æ—¶ä¸å±äºæ¿€æ´»çª—å£ã€‚</strong> è§£å†³æ–¹æ³•ï¼Œå† show() åï¼Œå°†æ­¤çª—å£è®¾ç½®ä¸ºæ¿€æ´»çª—å£å³å¯ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token class-name">Tray</span><span class="token double-colon punctuation">::</span><span class="token function">onScreenShot</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">auto</span><span class="token operator">&amp;</span> ins <span class="token operator">=</span> <span class="token class-name">Widget</span><span class="token double-colon punctuation">::</span><span class="token function">instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ins<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è§£å†³æ–¹æ¡ˆ: show() ä¹‹åï¼Œè®¾ç½®ä¸ºæ¿€æ´»çª—å£å³å¯</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>ins<span class="token punctuation">.</span><span class="token function">isActiveWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        ins<span class="token punctuation">.</span><span class="token function">activateWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="ç³»åˆ—åœ°å€"><a href="#ç³»åˆ—åœ°å€" class="headerlink" title="ç³»åˆ—åœ°å€"></a>ç³»åˆ—åœ°å€</h2><p><a href="https://github.com/XMuli/QtExamples">QtExamples</a> ã€TestHotKeyã€</p><p>æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”<strong>æ°¸ä¹…å…è´¹</strong>ï¼â€</p><br><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ol><li><a href="https://zhuanlan.zhihu.com/p/28901592">Qtç»˜å›¾ï¼šKeyboard Focus in Widgets</a> ç»™äºˆå¯å‘ï¼Œçµå…‰ä¹ç°</li><li><a href="https://blog.csdn.net/hp_cpp/article/details/105847810">Qtç•Œé¢focusç„¦ç‚¹è®¾ç½®çš„ä¸€äº›ä½“ä¼š</a>  è™½ç„¶ä¸æ˜¯åŸå› ä¸åŒï¼Œå…¶ä¸­å‚è€ƒæ–‡ç« å´æœ‰å…³äºç„¦ç‚¹ç†è§£çš„ä»·å€¼</li><li><a href="https://blog.csdn.net/Horsdy123/article/details/54581776">QT æ¿€æ´»çª—å£</a>  æœªå°è¯•ï¼Œè‹¥æ˜¯æœ¬æ–‡æœªè§£å†³ï¼Œå¯ä»¥è¯•è¯•è¿™ç§æ–¹æ³•</li><li>é™„: è€ƒè™‘è·¨å¹³å°æˆ–éœ€å‚è€ƒ <a href="https://zhuanlan.zhihu.com/p/161299504">Qtæ¿€æ´»çª—å£</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºäºŒ ç»éªŒ </category>
          
          <category> å­¦ä¹  - Windows </category>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> å·¥ç¨‹ç»éªŒ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows æ‰“é€ é¢œå€¼å’Œå®ç”¨å¯åª²ç¾ Linux çš„ç»ˆç«¯ï¼šPwsh7 + OhMyPosh</title>
      <link href="/posts/5b69dcad/"/>
      <url>/posts/5b69dcad/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong>  ç¾åŒ– <code>Windows-Terminal + OhMyPosh + PowerShell 7</code>  æ¥ä½œä¸º windows ä¸‹çš„ä¸»åŠ›ç»ˆç«¯ã€‚</p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202204282335555.png" width="100%"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>ã€€ã€€åŠå¹´å‰ï¼Œåœ¨ <a href="https://blog.csdn.net/qq_33154343/article/details/120661945">ä¸Šä¸€ç¯‡</a> ä¸­è¯¦ç»†ä»‹ç»äº† <code>Windows-Terminal + OhMyPosh + GitBash</code>ã€€çš„ç¾åŒ– ï¼Œwin10 ä¸‹ç»ˆç«¯ç®—æ˜¯å‹‰å¼ºå¯ä»¥ä½¿ç”¨äº†ï¼Œé¢œå€¼å…³å‹‰å¼ºè¿‡äº†ã€‚</p><p>ã€€ã€€ä½†æ˜¯æ¯æ¬¡å¯åŠ¨é€Ÿåº¦æ„Ÿè§‰å¾ˆæ…¢ï¼Œä½¿ç”¨ <code>git</code> å‘½ä»¤äº¦æ˜æ˜¾å¾ˆæ˜¯å¡é¡¿çš„æ„Ÿè§‰ã€‚è‡ªå·±çš„ç¬”è®°æœ¬å¯åŠ¨éœ€ 1-2 sï¼Œè€Œå…¬å¸ç”µè„‘é€šå¸¸ 5-6sï¼Œå‰é¢äº†è§£åˆ° pwoshell åï¼Œä»Šå¤©å†³å®šä¸èƒ½å¿ï¼›é‚åˆ‡ PowerShell 7 + Windows-Terminalï¼Œæœ€åæ•ˆæœæ¥çœ‹ï¼Œé¢œå€¼å’Œé€Ÿåº¦éƒ½æœ‰äº†âœ¨ã€‚å‰æï¼šè‹¥ä¸‹è½½ç½‘ç»œä¸ç•…ï¼Œéœ€è‡ªè¡Œè§£å†³ä¸‹ã€‚</p><br><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p>ã€€ã€€win10 21H2 é»˜è®¤é…ç½®çš„æ˜¯ PowerShell 5ï¼Œçº¦ 2016 å¹´ï¼›æ¨èç”¨ PowerShell 7 ï¼Œå¯¹åº” 2022 å¹´ã€‚æ­¤ä¸¤ç‰ˆæœ¬å·®å¼‚å¾ˆå¤§ï¼Œç–‘æƒ‘è‡ªè¡Œç¿»é˜…èµ„æ–™ã€‚å¯¹äºæœªæ›¾æ¥è§¦è¿‡æ­¤å·¥å…·çš„ï¼Œå¯å‚è€ƒä¹‹å‰å†™çš„è¿™ä¸€ç¯‡ <a href="https://blog.csdn.net/qq_33154343/article/details/123366377">shellã€bashã€cmdã€PowerShellçš„åŒºåˆ«</a>ã€‚</p><br><h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p><strong>TIMEï¼šæ›´æ–° 2024.07.12</strong></p><ol><li><p>ä¸‹è½½ <a href="https://github.com/microsoft/terminal/releases">Windows Terminal</a>ï¼Œ<a href="https://github.com/PowerShell/PowerShell/releases">PowerShell 7</a>, <a href="https://github.com/ryanoasis/nerd-fonts/releases/download/v2.1.0/FiraCode.zip">Fira Code Nerd Font</a> å°±è¿™ä¸ª  v2.1 tag çœ‹ç€å¾ˆé¡ºçœ¼ï¼Œv2.2 å­—ä½“æœ‰ç‚¹ä¸ä¹ æƒ¯</p></li><li><p>æ‰“å¼€ pwsh7 ï¼Œå‘½ä»¤å®‰è£… <a href="https://github.com/ScoopInstaller/Scoop">scoop</a> ã€<a href="https://ohmyposh.dev/docs/installation/windows">ohmyposh</a></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å®˜ç½‘æ–¹å¼å®‰è£… scoop</span>Set-ExecutionPolicy <span class="token parameter variable">-ExecutionPolicy</span> RemoteSigned <span class="token parameter variable">-Scope</span> CurrentUserInvoke-RestMethod <span class="token parameter variable">-Uri</span> https://get.scoop.sh <span class="token operator">|</span> Invoke-Expressionscoop <span class="token function">install</span> winfetch neofetch<span class="token comment"># å®‰è£… OhMyPosh</span>winget <span class="token function">install</span> JanDeDobbeleer.OhMyPosh <span class="token parameter variable">-s</span> winget<span class="token comment"># æ­¤æ¡æ˜¯ä»¥å‰çš„ç»éªŒï¼Œä¿ç•™æä¾›å‚è€ƒ iwr -useb get.scoop.sh | iex     // æŒ‚ä»£ç†æœ‰æ—¶å€™ä¾æ—§ï¼Œå®‰è£… scoop ç½‘ç»œé—®é¢˜ï¼Œæ“ï¼ï¼ï¼ï¼›åˆ™ä½¿</span>ç”¨ https://gitee.com/RubyKids/scoop-cn ï¼Œäº²æµ‹å¯ç”¨Set-ExecutionPolicy RemoteSigned <span class="token parameter variable">-scope</span> CurrentUseriwr <span class="token parameter variable">-useb</span> https://gitee.com/RubyKids/scoop-cn/raw/main/install.ps1 <span class="token operator">|</span> iex    // å¯ç”¨<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>pwsh æ‰§è¡Œ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Set-ExecutionPolicy RemoteSigned <span class="token parameter variable">-scope</span> CurrentUser  <span class="token comment"># å¼€å¯æ‰©å±•</span>Install-Module <span class="token parameter variable">-Name</span> PSReadLine  <span class="token parameter variable">-Scope</span> CurrentUser  <span class="token comment"># å®‰è£…PSReadlineåŒ…ï¼Œè®©å‘½ä»¤è¡Œå¾ˆå¥½ç”¨</span>Install-Module posh-git  <span class="token parameter variable">-Scope</span> CurrentUser          <span class="token comment"># Git å‘½ä»¤è¡¥å…¨ï¼Œé‡å®‰è£…å¤±è´¥çœ‹è¿™ä¸ª https://github.com/dahlbyk/posh-git#installationï¼Œè¯•ä¸€ä¸‹å…¶å®ƒå‘½ä»¤</span><span class="token comment">#Install-Module oh-my-posh -Scope CurrentUser         # oh-my-posh ä¸å†æ”¯æŒæ­¤ç§</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>é€‰æ‹©ä¸»é¢˜  â€œjandedobbeleer.omp.jsonâ€</p><p>å°† <code>&quot;C:\Users\ç”¨æˆ·å\AppData\Local\Programs\oh-my-posh\themes\jandedobbeleer.omp.json&quot;</code> æ–‡ä»¶æ‹·è´åˆ° $HOME ç›®å½•ä¸‹ï¼›</p><p>å†åœ¨ <code>~/.profile</code> æ–‡ä»¶ï¼ˆæ²¡æœ‰åˆ™åˆ›å»ºï¼‰æ·»åŠ å‘½ä»¤ï¼Œåæ‰§è¡Œ <code>. ~/.profile</code> åˆ·æ–°ï¼Œé‡å¯ç»ˆç«¯å³å¯ç”Ÿæ•ˆã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">eval</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span>oh-my-posh <span class="token parameter variable">--init</span> <span class="token parameter variable">--shell</span> <span class="token function">bash</span> <span class="token parameter variable">--config</span> ~/jandedobbeleer.omp.json<span class="token variable">)</span></span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>å®‰è£… Meslo LGM NF å­—ä½“ï¼Œé¿å…ä¹±ç ã€‚</p><p>æ‰“å¼€ç»ˆç«¯ï¼ŒæƒŠå–œçš„å‘ç°ä¹±ç ï¼Œç¬¦å·æ˜¾ç¤ºä¸å‡ºæ¥ï¼›å®‰è£…å­—ä½“  <a href="https://github.com/ryanoasis/nerd-fonts/releases/download/v2.1.0/FiraCode.zip">Fira Code Nerd Font</a> å°±è¿™ä¸ª  v2.1 tag </p></li><li><p>ä¿®æ”¹é…ç½®æ–‡ä»¶ <code>settings.json</code>ï¼Œå°†å¦‚ä¸‹ä»£ç æ·»åŠ åˆ°å¯¹åº”çš„åœ°æ–¹</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">// ---------------------æ·»åŠ æ–°çš„æ ‡ç­¾é¡µï¼Œæ·»åŠ åˆ° <span class="token string">"profiles - list"</span> ä¸‹---------------------<span class="token punctuation">&#123;</span>    <span class="token string">"guid"</span><span class="token builtin class-name">:</span> <span class="token string">"&#123;574e775e-4f2a-5b96-ac1e-a2962a402336&#125;"</span>,    <span class="token string">"hidden"</span><span class="token builtin class-name">:</span> false,    <span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"pwsh7"</span>,    <span class="token string">"source"</span><span class="token builtin class-name">:</span> <span class="token string">"Windows.Terminal.PowershellCore"</span>,    <span class="token string">"backgroundImageOpacity"</span><span class="token builtin class-name">:</span> <span class="token number">0.72</span>,    <span class="token string">"closeOnExit"</span><span class="token builtin class-name">:</span> <span class="token string">"graceful"</span>,    <span class="token string">"colorScheme"</span><span class="token builtin class-name">:</span> <span class="token string">"HomebrewCus"</span>,    <span class="token string">"cursorColor"</span><span class="token builtin class-name">:</span> <span class="token string">"#FFFFFF"</span>,    <span class="token string">"cursorShape"</span><span class="token builtin class-name">:</span> <span class="token string">"bar"</span>,    <span class="token string">"font"</span><span class="token builtin class-name">:</span> <span class="token punctuation">&#123;</span>        <span class="token string">"face"</span><span class="token builtin class-name">:</span> <span class="token string">"FiraCode Nerd Font"</span>    <span class="token punctuation">&#125;</span>, // Fira Codeã€FiraCode Nerd Fontã€MesloLGM  NF    <span class="token string">"historySize"</span><span class="token builtin class-name">:</span> <span class="token number">9001</span>,    <span class="token string">"opacity"</span><span class="token builtin class-name">:</span> <span class="token number">89</span>,    <span class="token string">"padding"</span><span class="token builtin class-name">:</span> <span class="token string">"25"</span>,    <span class="token string">"snapOnInput"</span><span class="token builtin class-name">:</span> true,    <span class="token string">"startingDirectory"</span><span class="token builtin class-name">:</span> <span class="token string">"."</span>,    <span class="token string">"useAcrylic"</span><span class="token builtin class-name">:</span> <span class="token boolean">true</span><span class="token punctuation">&#125;</span>,  // ps: å…ˆç»ˆç«¯-è®¾ç½®-é€‰å®šé»˜è®¤ä¸»é¢˜ï¼Œé»˜è®¤çš„å¯åŠ¨åç§°ã€‚ä¸”å®‰è£… pwsh7 åå¥½åƒä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªè¿™ä¸ªé¡¹ï¼Œå¯¹å…¶è¿›è¡Œæ‰©å†™å³å¯ï¼›å…¶å®‰è£…paè·¯å¾„ä¸º <span class="token string">"commandline"</span><span class="token builtin class-name">:</span> <span class="token string">"C:/Program Files/PowerShell/7/pwsh.exe"</span>,// ---------------------æ–°å¢ä¸»é¢˜é…è‰²ï¼Œæ·»åŠ åˆ° <span class="token string">"schemes"</span> ä¸‹--------------------- <span class="token punctuation">&#123;</span>    <span class="token string">"background"</span><span class="token builtin class-name">:</span> <span class="token string">"#283033"</span>,    <span class="token string">"black"</span><span class="token builtin class-name">:</span> <span class="token string">"#000000"</span>,    <span class="token string">"blue"</span><span class="token builtin class-name">:</span> <span class="token string">"#6666E9"</span>,    <span class="token string">"brightBlack"</span><span class="token builtin class-name">:</span> <span class="token string">"#666666"</span>,    <span class="token string">"brightBlue"</span><span class="token builtin class-name">:</span> <span class="token string">"#0E5CEE"</span>,    <span class="token string">"brightCyan"</span><span class="token builtin class-name">:</span> <span class="token string">"#00E5E5"</span>,    <span class="token string">"brightGreen"</span><span class="token builtin class-name">:</span> <span class="token string">"#00D900"</span>,    <span class="token string">"brightPurple"</span><span class="token builtin class-name">:</span> <span class="token string">"#E500E5"</span>,    <span class="token string">"brightRed"</span><span class="token builtin class-name">:</span> <span class="token string">"#E50000"</span>,    <span class="token string">"brightWhite"</span><span class="token builtin class-name">:</span> <span class="token string">"#E5E5E5"</span>,    <span class="token string">"brightYellow"</span><span class="token builtin class-name">:</span> <span class="token string">"#E5E500"</span>,    <span class="token string">"cursorColor"</span><span class="token builtin class-name">:</span> <span class="token string">"#FFFFFF"</span>,    <span class="token string">"cyan"</span><span class="token builtin class-name">:</span> <span class="token string">"#00A6B2"</span>,    <span class="token string">"foreground"</span><span class="token builtin class-name">:</span> <span class="token string">"#00FF00"</span>,    <span class="token string">"green"</span><span class="token builtin class-name">:</span> <span class="token string">"#00A600"</span>,    <span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"HomebrewCus"</span>,    <span class="token string">"purple"</span><span class="token builtin class-name">:</span> <span class="token string">"#B200B2"</span>,    <span class="token string">"red"</span><span class="token builtin class-name">:</span> <span class="token string">"#FC5275"</span>,    <span class="token string">"selectionBackground"</span><span class="token builtin class-name">:</span> <span class="token string">"#FFFFFF"</span>,    <span class="token string">"white"</span><span class="token builtin class-name">:</span> <span class="token string">"#BFBFBF"</span>,    <span class="token string">"yellow"</span><span class="token builtin class-name">:</span> <span class="token string">"#999900"</span><span class="token punctuation">&#125;</span>,<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>æ·»åŠ  PowerShell çš„å¯åŠ¨å‚æ•°  <code>notepad.exe $Profile</code></p><p>æç¤ºæ–‡ä»¶ä¸å­˜åœ¨åˆ™æ–°å»ºï¼Œç„¶åå°†æ­¤è„šæœ¬æ‹·è´åä¿å­˜æ–‡æœ¬ <code>FileName: Microsoft.PowerShell_profile.ps1</code>  å³å¯ï¼›å…¶é»˜è®¤çš„è·¯å¾„ <code>$Profile</code> å¯æŸ¥çœ‹åˆ°</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å¼•å…¥ posh-git</span>Import-Module posh-git<span class="token comment"># å¼•å…¥ ps-read-line</span>Import-Module PSReadLine<span class="token comment"># è®¾ç½®ä¸»é¢˜</span>oh-my-posh init pwsh <span class="token parameter variable">--config</span> <span class="token string">"<span class="token variable">$env</span>:POSH_THEMES_PATH\paradox.omp.json"</span> <span class="token operator">|</span> Invoke-Expression<span class="token comment">#-------------------------------  Set Hot-keys BEGIN  -------------------------------</span><span class="token comment"># è®¾ç½®é¢„æµ‹æ–‡æœ¬æ¥æºä¸ºå†å²è®°å½•</span>Set-PSReadLineOption <span class="token parameter variable">-PredictionSource</span> History<span class="token comment"># æ¯æ¬¡å›æº¯è¾“å…¥å†å²ï¼Œå…‰æ ‡å®šä½äºè¾“å…¥å†…å®¹æœ«å°¾</span>Set-PSReadLineOption <span class="token parameter variable">-HistorySearchCursorMovesToEnd</span><span class="token comment"># è®¾ç½® Tab ä¸ºèœå•è¡¥å…¨å’Œ Intellisense</span>Set-PSReadLineKeyHandler <span class="token parameter variable">-Key</span> <span class="token string">"Tab"</span> <span class="token parameter variable">-Function</span> MenuComplete<span class="token comment"># è®¾ç½® Ctrl+d ä¸ºé€€å‡º PowerShell</span>Set-PSReadlineKeyHandler <span class="token parameter variable">-Key</span> <span class="token string">"Ctrl+d"</span> <span class="token parameter variable">-Function</span> ViExit<span class="token comment"># è®¾ç½® Ctrl+z ä¸ºæ’¤é”€</span>Set-PSReadLineKeyHandler <span class="token parameter variable">-Key</span> <span class="token string">"Ctrl+z"</span> <span class="token parameter variable">-Function</span> Undo<span class="token comment"># è®¾ç½®å‘ä¸Šé”®ä¸ºåå‘æœç´¢å†å²è®°å½•</span>Set-PSReadLineKeyHandler <span class="token parameter variable">-Key</span> UpArrow <span class="token parameter variable">-Function</span> HistorySearchBackward<span class="token comment"># è®¾ç½®å‘ä¸‹é”®ä¸ºå‰å‘æœç´¢å†å²çºªå½•</span>Set-PSReadLineKeyHandler <span class="token parameter variable">-Key</span> DownArrow <span class="token parameter variable">-Function</span> HistorySearchForward<span class="token comment">#-------------------------------  Set Hot-keys END    -------------------------------</span><span class="token comment">#-------------------------------   Set Alias BEGIN    -------------------------------</span><span class="token comment"># 1. ç¼–è¯‘å‡½æ•° make</span><span class="token keyword">function</span> <span class="token function-name function">MakeThings</span> <span class="token punctuation">&#123;</span>    nmake.exe <span class="token variable">$args</span> <span class="token parameter variable">-nologo</span><span class="token punctuation">&#125;</span>Set-Alias <span class="token parameter variable">-Name</span> <span class="token function">make</span> <span class="token parameter variable">-Value</span> MakeThings<span class="token comment"># 2. æ›´æ–°ç³»ç»Ÿ os-update</span>Set-Alias <span class="token parameter variable">-Name</span> os-update <span class="token parameter variable">-Value</span> Update-Packages<span class="token comment"># 3. æŸ¥çœ‹ç›®å½• ls &amp; ll</span><span class="token keyword">function</span> <span class="token function-name function">ListDirectory</span> <span class="token punctuation">&#123;</span>    <span class="token punctuation">(</span>Get-ChildItem<span class="token punctuation">)</span>.Name    Write-Host<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token comment">#Set-Alias -Name ls -Value ListDirectory</span><span class="token comment">#Set-Alias -Name ll -Value Get-ChildItem</span><span class="token comment"># 4. æ‰“å¼€å½“å‰å·¥ä½œç›®å½•</span><span class="token keyword">function</span> <span class="token function-name function">OpenCurrentFolder</span> <span class="token punctuation">&#123;</span>    param    <span class="token punctuation">(</span>        <span class="token comment"># è¾“å…¥è¦æ‰“å¼€çš„è·¯å¾„</span>        <span class="token comment"># ç”¨æ³•ç¤ºä¾‹ï¼šopen C:\</span>        <span class="token comment"># é»˜è®¤è·¯å¾„ï¼šå½“å‰å·¥ä½œæ–‡ä»¶å¤¹</span>        <span class="token variable">$Path</span> <span class="token operator">=</span> <span class="token string">'.'</span>    <span class="token punctuation">)</span>    Invoke-Item <span class="token variable">$Path</span><span class="token punctuation">&#125;</span>Set-Alias <span class="token parameter variable">-Name</span> <span class="token function">open</span> <span class="token parameter variable">-Value</span> OpenCurrentFolder<span class="token comment">#-------------------------------    Set Alias END     -------------------------------</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>åˆ›å»ºå¿«æ·æ–¹å¼åï¼Œå±æ€§æ ä¸­çš„ â€œShortcut Keyâ€ æ·»åŠ å¿«æ·é”® â€œCtrl + Alt + Tâ€</p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202304130205038.png" width="30%"/ loading="lazy"></li><li><p>pwsh æç¤ºæ›´æ–°</p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202204282326712.png" width="40%"/ loading="lazy"><p>ä»Šå¤©ä¸€æ‰“å¼€ç»ˆç«¯ï¼Œæç¤ºæ›´æ–°ï¼Œå¯æ²¡æœ‰é¡ºæ»‘çš„æ›´æ–°å‘½ä»¤ï¼›è§ <a href="https://github.com/PowerShell/PowerShell/issues/8663">#8663</a> ï¼› æ•…ä¸æ›´æ–°è§£å†³æ–¹æ¡ˆï¼š</p><blockquote><p>You can set environment variable POWERSHELL_UPDATECHECK&#x3D;LTS (or &#x3D;Off).</p></blockquote></li></ol>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PowerShell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ”¶åˆ°æ¥ä¿¡ï¼Œç”šæ˜¯å¼€å¿ƒè‰¯ä¹…ğŸ’Œ</title>
      <link href="/posts/b9c83f62/"/>
      <url>/posts/b9c83f62/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="å¯†ç ç”Ÿæ—¥ "MMdd"" data-whm="è‹¥æ˜¯æ— èŠï¼Œæ‰«ä¸€ä¸‹åº•éƒ¨äºŒç»´ç ï¼Œæ˜¯å¯ä»¥è¯·æˆ‘å–ä¸€æ¯å†°å¯ä¹å“’ï¼Ÿ">  <script id="hbeData" type="hbeData" data-hmacdigest="7eae75781a2dbd647fb85319580cfdfe63d78d55d56661958bb74e2be4bcc7b0">97ae0a00ab199bf47327710be5a670fab43e509520f226cfd64076fc4a4971010459fa5bd95bd4b600d2b7db7030125a6661fdab61c9957d94a13dd7fd184dd095b41f5475ae2b93e32ab1132d9d85a79bce4fd492ee53ba7ca0b4835ed3aaddef72773f18d3f88cdd42b26c4c1c412509d79b7405ec4c0048bf296cae72a03b9e9b98140299aba6e4037238bb20838dcb3347a062d463f94cf5033c834d8a03f6726180a6d37ebc33d6799cbafc26edebcd05f55719177bce6ce0362e9d902b163fb8d71484e5ce7769caf2446af1e2eb0fd59be91e70c5bfd30e4cd3b12ef1a0243fc035e9b8a4689025af5825ff5f5cd1f462ebdbdcc9b8daa7f6525ce06dd34f9c12a41ce7b9a816c1ca58a57f11bb267bf0d54b5ea1295b340aa0b0714f17859074fd52752e94a0214f8bc47b18ff56646147c95d59b071ca9210b17de837dc91a2e67d9917b2e4e358b6e412835497096faf7d0d1b4811f641c2a3975708bfd1f4629ae254d022eaf83f68d1cd26c03ad3e08a3f5497a6e933ee285f81cb1a81ecede16f57632646b387f032ccfc392e84d90ee2bf784db1cbd78140b76adc278e0cdaffbf9fa23506073471eec7341bbacb806165aff31972dbf3c2abb77aeb7a0fc7c1cb5e0b79da7daf4f87cd71a78e327bf5184d3b015a19df4df0328f52b088a19584c916b71bb8b20ae1d3c8d0c29ebeec006703e096cd44ba8cfd5f59233d04042898feaa251d7119743ca7babdab72948bbb8d9f1f593ee852c6694a74340f526e3a2f2417093ba138e88baa7ab89b9f1514398fb9a7bc83774890b0f4c229a1d86502663114b23f31ea9816f7f4efb5f980832a7e8b03785622275a4331a5071194d1e99ce8fa1fde78372b6ed05fa0d9e64870a0387e1eea64041b964f13fc5852af11818bd31504c0c5eb9450c5e4750ebc31268cce86dcd73ae716e4c73b1a31edd6206fbb90007b11f5b31cbc1ddfcab5cd976be7cee4611986a0aa390e894d0631996751b544507b7a46c20b80b7367884fa291a707b63ff886d062b2c3a5b1041e262e9175de8d59ee18005fce2a7ef5ee063243fc43a9bd307f549d10bd389c6e904e351700774ba8bc715b10ea27e51735fa3b20794ee38bdc294330694429312dde459ddf8e08aa352ef52c47e004d96d19933d33607c70dd41f8f4348cb0c1fb22ffcf5df53953026a04f824c24e54360ef5231d6272545342850e0b4aeac9a007f8b288d22b5fd1e45011f7089c758955514e8253be4093d8e5e924401f5db134ac90a9b4c6fd8b61675f994c9c7106546428cc7a78add8ad73a4efe18bc70cc1e69f43ae6b510ff2a430dc4049d3cd4c0d6e2021d11f364f9f8a7d2878ab5fb8c0786043038863cbfb5ed7a7debd87657c9e08f5be019ce3dd5544af5e09342101e1402ac790172544f8aed6f98ed5490c6b3810afc339f2e8c62702373cc47e4ae4e21ed7f2605d458c20d8e76ff28e2b3c051252b773d22c6574924adea868690e739896437734a567d99ef62b7a6d11170146f5f3dde238c8aec88a01c615cc1dd325f93cbd19756189944b4d8ef7ca5696b720f20370ffc28babeab017d8e7506dd10e450bab45b9f45904eb373a613bbcd9f0b0ffbc2c23def046bff7353e4148f3551932381bb6f5306b3cc0c06f0274f0566c63939f616e570704532d4f8d911f017f3b942cabd8c6afc4837ce299916445bc2b2bd0372c8060ad9d6d9613c79cc9e12a3088db56b75e6f73a5e2caf06f6eec3fbf7b60cb994a71dfe6d2ed7ebfbbb6605dde78c2da7fb9f528b2cce3083e0406ca7ea6ec9c62c2dc790d20e9d0e360a5c7fb3836a03f936fe286d5bb4e64bdf5a7f1944935fa55e5c7c51b8d04ec744f5d839b0b4740117d1fe8d5dc27377b0382da6b7514658d6c1e25797c8d32b13a3cc8d7dc0c3d5489cb7769e36054b46a2b73a78f20aabf1074e4f0796734211e588ed7c7fa21da7ecba894ef520644f6b8f7c31a1a9347f209553bc6e47669394ef3ffc1a61043df3f68a601cd9b40184870e6e76c6eb8d0c6b7a2d2cdfbd1b451465bcb6df38e805c10e6262033a752c31e2274ab68a91974952174780496c1e76531ea3769a7f4a2032d46428938f0a0b7789b87fe0f3ddf521cdbfeb8a3533e4671935d9d4c95bb7904659889ae8fef2dce9644acee60884b86a0decfbb47ab2bff7cba79c3bdc56263ccf26860ef22889918afa607653ee9a2732cbcb5e540163bc15b67ef80d8eb40cf95ec9208ae0ba68c053ce5be247f9940e44e3faa88ca7857e6f74c5ab1cac75a5dcacdfd903ab439dd8840eb9768cfc5adc20c15b55d9e39faf78076d638e06536f4a940c29dbfde1f7a2837917e262218936a8ad6bed19886d813dacc4ec30cb136466ce88e4e8e1a4ee817a545b0fc58ad58d13ff9cfa64803725703f2916c3d60da2fa5040b49fbb7ee7c81d2cea8b4fdc5debe2a81afd93cca380d379739ad064204abdcd1642e7c75089648c2fc7be6cfa16501a7054e6946c7e59e6617551749080a849d414936d26fb9c71395741c07751b9c0c1b71d4111131e6d6011c67dc3c476d38023b82683f568a954e673a6828a94276e3cc25fc40a1573b04ed44a90430caa3bf92437892b471fa0f5b139eff209df5f0da3f8549d78b0c2f0fef1f1ad53be5518809e8693c4bd29900c7fa72aed9dac6b5b06969a4edc53631a8c55192fc4d94695e5749ea9b15a2bc4a04b12f586c58332c2a572fac6aa584a4c759b84cceec9bc098fa7d7d95babb673905357adc0941079887f3d9a093de4179bbc10e1ced79ee644f5c5797cbb650aae42540ad12818ad2a5dd901da2de3ec331725420729b4c4c0e9042e479c76f5f6b2274304dca505f757e5ecbb861d66bedd75246c25e5eff91c4ec5ab73a6cee1bc96964238cbe821c9097b98ad9d03f3789fead7d5cd54cfd48a7e6b1ff84c6a05cb7d082edd8d72a9e722d79ca9e982a6cc49b51ea52e8ba573e40e28dd5adc6b3bcb3a3a77057c3a0bd9de99fb6bf71c863bb5711427bd9caf347a7ad45b36fa73e73a526546cd7dfdf7685b36d3b9315ec2391f4fbfd0bed97c02c23e8fcf2e6d75e4fe7718ccb0256a5746d9adc1f9de8decb195096ca48297d45a991633eaa86c9399dcbcb65a12789956575f790516380440b0f891a681101885689af87c6f85786a2f7a14c09c2066dd681023ca9887fc53b2daeff5e43ba30aa2c2a7cdcb662bd45a106d953366c7de9b456886c4c65c1e9af7fe6107e9601f68e1e9e8ff65b0a5a7b863e1592a1b5930f25cb0e9033cb75afd2562daa39eb73f4a8194342414d7cfef591af40ffc244aae749686bc351243bc2d253e6ebb9be5113f7fe123f863f3db934822920eb18f033c4a84843ca8996b54e773b697481323b1a5a12709abc2966cf007867c94f3762cd185958e29d1ac358aacf694a4292e846c5f840c7035ebc91e1220ce5e62a7caf6286230022e255c0101539d07f1a3e72d0c0017ffb69ec3d76a8517279e58b0687e0428706884f3951ba173e013caeb14d1503a97b3f574439297dbc93b675ea4afa7aba498dbea4afa2dd393bb2695ff71cbad05ac35430945ce460e5fadace7487e7e2c2831fa581326690f0a148d59a55335814b2e5d954882dbe860a54035d1e1886c7ca625db93aa0946e94693a104fa05910366a735a8e969fdb2855db68349cf097b95bb0010ec56bd06838b50847d2c403db68e554bf4856bf4a0b4ad55a30d9edac5a386563acf42c4caaddba768b4217c21bc96ec63a04629b492b33286fd239d523d843b7a726aac2412bfda480239207b7ddf480779019918554230ee7e481ffa0d84f825f43b33f0767b1edd52eeb3905249a83c053039332ae51fc32cb4de99b9c3cc02f3d5e8e16b655486a369f1a18d064a3413b2f3c318c46109d35094ea767fa0ad84489e18b4243f2282b59b2f49517ef94f41a651eb80a89fcdc51ab8b07d400d07682ea328ed366251e4f6de1725a5adc58420094e792b0539a1519131ab24e6882ccb998c3aecfb847c9c9a0c8998a2b692efb0fbbc9a2517940291777c89fd01d976a5527be286b5648dc8d8a74b0bb6489f82ec9610dc6f6bbd13c7f4da9e7b8968c9223875678e7e8869a25801d921d68d117997ac4181c17a8c81f256f9ad120cb2219d9a4d6bea0f7a51ebd5e54bf16dece0b0904d661dc5e13dc3a7eb838453e84662749829c307adf0b0aaffe900f9732fa7a93c045b0df89699d4758f1b38d6b689eeee55fe75bdf16e3604c000424504b23eb6fd0738f50030f2092800eaa3001bf790a3764ea95c8b92283434901776125803681cc7230075844e5c780457803582b6ee8e7015fb06f5601dcb3686f480b9958171d3c54ebe5749ff6ca01fa15e5225cb534507a7b868b1e6b2e6daa55a9d20ee0259a408955ea3a8caae3136df32642980083736c0123a5acb3e43c20c4ddd6ef4226b69edcd89b81a8ae2798e32f7f7f2df386cf889cbd605c79e769838d8feffece164fb988759e8f9027af9454a7eaf1c0bbfc18198c8a3a67b4e2b3fa7f74db1f425bd79df911d9b1531b2af7d81e5b8dce203abb33caf8580f9df7814d156968cbf6c0babcbb437b7058e65569df8901c5adc8f1e1433b0a437191de9d6415865a10ae729c4f5b5f26bb3c438debf286136622221db34b01908f113b12ffe44ec742ef9eccc7ad733854f6305f2c0f66b0a7435cbc5f9230b058234bf3cb95bca7c3e72c2975808c71dd505f20bc1bb399eaf0e709628e6b79fbcb592ebc1e62d074b32eda906ba3fe8f153a9ec7940a4a6ebc6872607bc1b3f1b9caf57e6b6e459f8b85d313a21743f45f031bad74563c4fc21572d6d674abffa5daaff2eaf6b768325fbff35fb101b497f0b7a03cb579cdb00c0a7179a275fb0ad87766e96fb065296271960d7671dd4800ba3fd58569b9cdda3e2b4e8e0a0b0a9b60f63db87ceb77415b0f53a0f260dfd0cacebb42af5d0852de4004b21a727f90cd029c550c3be1bf76a86caf53b62ae2bc6be5a5c096f8e5a593bea97060602514fdee8025f260fd3ddaf07db3913b30b658f37f6d6cc7c7b428d2c5780cbf0d22728efcbec132a37118350fbfceda666b7b2f6b66c7e0354443470cab81f971d4699f0c9729b3e59ed20c7751829127f3173c1a5e55ab63f107bceb161f89bcc44cad2ed9600b432dcfdfc73958b09f98a16d6f125b53f4feb8585857b9f91d00dd74e29263932f8a7ff9b9149a817bb914c16e16f8cc94808decbce69132427f863044657d10f0a640e268a26827e4f9b8b3834b1c180e76c0a8cbcfa18524211b7a0064f38f482f58fa0a38c637d8a21e957ad8bae04257a821f9f792d319a97b0bfe1a31233701635b3f55c974e9f36faa0409cd443a334a38bd7969945d6a4f3b644194668ca63ce370abd3b8f2a535828da8d7d7ea654209cd738a0a16d8623a51e7f514d03d1a9219d1d7a0aac66ebab83b044ab7f9d2c1622745afc6ede29e99647ef365a7e584d56c523bea6916ba222917276c7bc2a3f9c16e3f8f25860370b0cb20c244eae892ec5d9a88fc4417bf1a6e14cbf03b5988aaf6a62563fb36977458176d0a2b95fe9494db5f4785a18af655c0019f00b864b35acd77884099e39793c3477d5c197b745e957d2aafd30daa0bac779b46e3dbbfa8221ed31bd22fcf1aa8dc3a823bb614f896ec54b8fd7f02a0e03b81f6d42c68e9fc1cb1bd59a7cada0ef622624f28090093202c7da8f0bcd7acc91b2025f7425ccf085d741fbaf3346508b248913489486ef3092886199fef139d0e3774064845652b203d879327a956a398f39454f7b25b7c04871ea7fe1c29cdb8d9a0298745ff5705faf94aeec61adfa9d0dcba410ed3337fd61cea93551681334511aea2b394e1a28722765329dc9091af405af4e34d23f42e9b87ab7fdf2c9f76d23688fcf7a18c68285eea59bd0d8c809e3f8631d9313fa27befbe8d069a628f5f98bc1f492e80dc42caa137a580fb02b4dd8f76ad2ade5d314ebba1fe9365c269ee22de66f967bde52f6caae2b7025b4429f7ca6e683708607e43a2426ceaa31b2dc4c8dd0cf393c692652b64451fda5a4c1e6678f30c42153f4b1904b5d9506830de72ff2fe58d72acd40d158e798ebba174707ee208b599f52e60ea1495e8fce322fd2739ea3f92664cb37d6a2d3ef27be40a63b95c868a51a5d1eebb9ddd674a992413af105c1dec0ebad1bf913047357f5677075fd6b41e84cde5eb1432a4be3c52ddbb7b1c0d811fc4a98ffab484989fc3488839bf9bba22f23c8df1af060f2f3ac0507505734829717401b5839f00ebbf7397ddae8153d2a9d9a30d7e73e1ee66125a032306b6247baa1973dfa427a1d48909c84a4474771dfd83ad1636c99363bd46b3be188304e842249a000f6c07915d99ee28278b6172fa01f4b75cb5821de6b640b8816a123eaf11cf6543119dc6ba6a3f3c4c871964728c1773c67ec305fb93c1c973d15cce4efe5d4911adca701807f794f7d82160238f766ffe7cec50bccac1ae23ace7f2814e51a2786ce4e1359596e266862ffe6a96f0cb780a82cdd291c1fc086943423675da1a128780befb9157f4d345d67091c010d2a63ddd4028408b263b50a3c6026b5c1a2b0cd5839d0d775a847fcea05a9ba0d6de88737a59430a24bcfd4ff8ea632b0438d1942e36bf3e6754c314be19de152c303864da62f76fcc4081648bc81a1bc9fee07fc8988133cba8413931b07ee713600268a1eaac59108a647caf149714b680371e58c8c6efb0e1143b082873f10e4575cf18ccacf1741227f41c3a103582e8ac9a29e38bed60666f2513446a06fc5d673fcdb4651686ca04341364368190045c177d06d122553520f4a9e03fd00ffb2ef7d2f8ebfb513dde86434ef55b2df8e4ee1daa8a4da244d0219eb73ecc4117d9ef70c8c1262699c8fbfbf83827825bc9549e6bc612a95e549f83b79f3015d91270f14e06c273d4bfb6f4e3560a1e131166f7a85b5b1e1b6bef1048e7f6261821b21cbc89a81322f8daec85feef63353c5d09d6eec0aedb26c343a9c3e780bd7cb90bcf7115d60bd44f6793e489903ad5f2d03d3bc133be03b9e3a0a488c0be61050ebb604385716ae6550fcc8907fa9beca1b797dcdf7a9cc111dacfd6517eabddadcb275c39c5aacf35520bb86b4ac71bc6446103d2c6b24344ad209f7dd97c31a33fc0fb19c980d69cc1f1a2a792a95e922c8a6b30bcf172e3d5d2e3980c1cd4c469ca3e96f754da0e52b6baad6afd6684da812082bca8984dc51ae9ec570e0ec494f266c9dee345a01e673f54da3dc40eea9eb593226d489f304b452b4f94f3c013fb82e6f7cf253f8a6f5dc57081fd7067c337d05411cdb654c83d676afa7485a854f5755153f579487aae0abd86cc8a515022649597d8bc10e84705057b249263da440f5342b4b9f7a0e81c337369002f1b08dfacd51dc90c4253a1d1fb264f6d8872af162113810c3eaf2a06132527e58f2c0ac17b7497d08cd897aca2194905356d2b8ed0423a2ba8daa58623acfddec3291537ffe40a6f635cbf9bc313bd162b29cd2f11cae168d7bc2ba3063abc47b16128ddd386f685af08464de87f5f5bd18c88492abc512a7f3a3eebb8f624ff14b346a658d906b272bca</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">ä¹¦ä¿¡ä¸€å°ï¼Œå¾…å¿äº²å¯~ ï¼ˆç‚¹å‡»å¯é˜…ï¼‰</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´» - é—²æš‡çš„è¶£é—» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä¿¡ç¬º </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è·å–å½“å‰æ¨¡å— EXE / DLL çš„ç‰ˆæœ¬å·ä¿¡æ¯</title>
      <link href="/posts/f7b60695/"/>
      <url>/posts/f7b60695/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong>  è·å– <code>windows</code> ä¸‹å½“å‰ä»£ç æ¨¡å—çš„ <code>dll</code> çš„ç‰ˆæœ¬å·ä¿¡æ¯ï¼›æˆ–è€…æŒ‡å®šè·¯å¾„ä¸‹çš„ <code>exe</code> &#x2F; <code>dll</code> çš„ç‰ˆæœ¬å·ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>win10 21H2</code> ğŸ“  <code>Visual Studio 2019</code> </p><br><h2 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h2><p>ã€€ã€€ä½¿ç”¨ <code>GetFileVersionInfoSize</code>ã€<code>GetFileVersionInfo</code>ã€<code>VerQueryValue</code> ä¸‰ä¸ªå‡½æ•°æ¥è·å–ç‰ˆæœ¬ä¿¡æ¯ã€‚é€šè¿‡å‚è€ƒå…¶å®ƒæ€è·¯ï¼Œåæ•´åˆæ‰‹å†™ä¸€ä»½è‡ªå·±æ‰€éœ€è¦çš„ä»£ç ï¼Œ<strong>ä¸è¿‡è¿™æ–¹å¼ç¼ºé™·æ˜¯è·å–çš„ä¸ºå½“å‰ exe çš„å®‰è£…è·¯å¾„ï¼Œéœ€è¦æ˜¯å·²çŸ¥ï¼Œæ‰‹åŠ¨ä¼ å…¥æ­¤å‚æ•°ã€‚</strong> </p><ul><li><a href="https://blog.csdn.net/zb774095236/article/details/100886114">è·å–EXEç‰ˆæœ¬ä¿¡æ¯ GetFileVersionInfo</a></li><li><a href="https://blog.csdn.net/divmedia/article/details/6906690">å¦‚ä½•ä½¿ç”¨APIå‡½æ•°GetFileVersionInfoï¼Œè·å¾—ç‰ˆæœ¬ä¿¡æ¯</a></li></ul><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;tchar.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">comment</span><span class="token punctuation">(</span>lib<span class="token punctuation">,</span> </span><span class="token string">"version.lib"</span><span class="token expression"><span class="token punctuation">)</span></span></span><span class="token comment">// è·å–å½“å‰é¡¹ç›®çš„ç‰ˆæœ¬å·</span><span class="token keyword">inline</span> std<span class="token double-colon punctuation">::</span>string <span class="token function">getVersion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>std<span class="token double-colon punctuation">::</span>string ret<span class="token punctuation">;</span><span class="token comment">// è·å–ç¨‹åºçš„è‡ªèº«è·¯å¾„</span>TCHAR productPath<span class="token punctuation">[</span>MAX_PATH<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">0</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">GetModuleFileName</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">,</span> productPath<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>productPath<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token keyword">return</span> ret<span class="token punctuation">;</span><span class="token comment">// èƒ½å¦è·å–ç‰ˆæœ¬å·</span><span class="token keyword">uint32_t</span> size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>size <span class="token operator">=</span> <span class="token function">GetFileVersionInfoSize</span><span class="token punctuation">(</span>productPath<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token keyword">return</span> ret<span class="token punctuation">;</span><span class="token comment">// åŠ è½½ç‰ˆæœ¬ä¿¡æ¯</span>BYTE<span class="token operator">*</span> pData <span class="token operator">=</span> <span class="token keyword">new</span> BYTE<span class="token punctuation">[</span>size<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">GetFileVersionInfo</span><span class="token punctuation">(</span>productPath<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> size<span class="token punctuation">,</span> <span class="token punctuation">(</span>LPVOID<span class="token punctuation">)</span>pData<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//TRACE("GetFileVersionInfo failed with error %d\n", GetLastError());</span><span class="token keyword">return</span> ret<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// è·å–äº§å“åå’Œç‰ˆæœ¬</span>LPVOID lpBuffer<span class="token punctuation">;</span>UINT uLength<span class="token punctuation">;</span>DWORD dwVerMS<span class="token punctuation">;</span>DWORD dwVerLS<span class="token punctuation">;</span><span class="token comment">// "040904b0" æ˜¯å¯¹åº” rc ä¸­è¯­è¨€çš„ ID</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">VerQueryValue</span><span class="token punctuation">(</span><span class="token punctuation">(</span>LPVOID<span class="token punctuation">)</span>pData<span class="token punctuation">,</span> <span class="token function">_T</span><span class="token punctuation">(</span><span class="token string">"\\"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>lpBuffer<span class="token punctuation">,</span> <span class="token operator">&amp;</span>uLength<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>dwVerMS <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>VS_FIXEDFILEINFO<span class="token operator">*</span><span class="token punctuation">)</span>lpBuffer<span class="token punctuation">)</span><span class="token operator">-></span>dwProductVersionMS<span class="token punctuation">;</span>dwVerLS <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>VS_FIXEDFILEINFO<span class="token operator">*</span><span class="token punctuation">)</span>lpBuffer<span class="token punctuation">)</span><span class="token operator">-></span>dwProductVersionLS<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span><span class="token comment">//TRACE("Can't obtain ProductName and ProductVersion from resources\n");</span><span class="token keyword">return</span> ret<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token double-colon punctuation">::</span><span class="token function">VerQueryValue</span><span class="token punctuation">(</span><span class="token punctuation">(</span>LPCVOID<span class="token punctuation">)</span>pData<span class="token punctuation">,</span> <span class="token function">_T</span><span class="token punctuation">(</span><span class="token string">"\\StringFileInfo\\040904b0\\ProductName"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>lpBuffer<span class="token punctuation">,</span> <span class="token operator">&amp;</span>uLength<span class="token punctuation">)</span><span class="token punctuation">;</span>std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"================>"</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>LPCTSTR<span class="token punctuation">)</span>lpBuffer <span class="token operator">&lt;&lt;</span> <span class="token string">"   "</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>uLength <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>ret <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">to_string</span><span class="token punctuation">(</span>dwVerMS <span class="token operator">>></span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"."</span> <span class="token operator">+</span> std<span class="token double-colon punctuation">::</span><span class="token function">to_string</span><span class="token punctuation">(</span>dwVerMS <span class="token operator">&amp;</span> <span class="token number">0xFFFF</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"."</span><span class="token operator">+</span> std<span class="token double-colon punctuation">::</span><span class="token function">to_string</span><span class="token punctuation">(</span>dwVerLS <span class="token operator">>></span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"."</span> <span class="token operator">+</span> std<span class="token double-colon punctuation">::</span><span class="token function">to_string</span><span class="token punctuation">(</span>dwVerLS <span class="token operator">&amp;</span> <span class="token number">0xFFFF</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> ret<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><p>ã€€ã€€å…³äºæœ€åæ‰“å°æœ¬ç‰ˆä¿¡æ¯ä¸¤è¡Œä»£ç ï¼Œè¿›è¡Œä½è¿ç®—å¯è§ä¸‹å›¾ï¼Œæœ€åæ‰“å°ä¸º <code>10.1.0.2001</code>ï¼ŒåŸºç¡€çŸ¥è¯†é—å¿˜å¯å›é¡¾ <a href="https://zh.wikipedia.org/wiki/%E4%BD%8D%E6%93%8D%E4%BD%9C">ä½æ“ä½œ</a> ã€‚</p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202203181421074.png" width="100%"/ loading="lazy"><br><h2 id="æ–¹æ³•äºŒã€èã€"><a href="#æ–¹æ³•äºŒã€èã€" class="headerlink" title="æ–¹æ³•äºŒã€èã€"></a>æ–¹æ³•äºŒã€èã€</h2><p>ã€€ã€€è€ƒè™‘åˆ°å®‰è£…ç¨‹åºæ—¶å¯èƒ½ä¸ºè‡ªå®šä¹‰å®‰è£…è·¯å¾„ï¼Œé‚£ä¹ˆè·¯å¾„å°±æœªçŸ¥äº†ï¼›æ–¹å¼ä¸€å°±ä¸å¯ç”¨äº†ã€‚</p><p>ã€€ã€€æ­¤æ—¶é‡‡ç”¨ <code>VirtualQuery(GetSelfModuleHandle, &amp;mbi, sizeof(mbi))</code> åˆ™å¯ä»¥å¾ˆç¡®ä¿è·å–å½“å‰ä»£ç è¿è¡Œçš„ <code>dll</code> çš„ç›¸å…³å¥æŸ„ï¼Œç„¶åè¿›è€Œè·å–æœŸè·¯å¾„ã€æ¨¡å—åç­‰ä¿¡æ¯ï¼›æ•…è€Œæ›´æ¨èæ­¤æ–¹æ³•ï¼›æœ€åå¯æ·»åŠ  <code>_WIN32</code> å®åˆ¤æ–­ç¡®ä¿ä»…åœ¨ windows ä¸‹è¿è¡Œã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//-------------------------.h å£°æ˜--------------------------</span><span class="token comment">// è·å–å½“å‰è°ƒç”¨ dll ç‰ˆæœ¬å·</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;mutex></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifdef</span> <span class="token expression">_WIN32</span></span><span class="token keyword">inline</span> std<span class="token double-colon punctuation">::</span>once_flag g_dllFlag<span class="token punctuation">;</span><span class="token keyword">inline</span> <span class="token keyword">bool</span> <span class="token function">LogGetModVer</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>wstring<span class="token operator">&amp;</span> sv<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>wstring<span class="token operator">&amp;</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><span class="token comment">//-------------------------.cpp å®šä¹‰--------------------------</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifdef</span> <span class="token expression">_WIN32</span></span><span class="token keyword">inline</span> HMODULE <span class="token function">GetSelfModuleHandle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// è·å–è‡ªèº«æ¨¡å—å¥æŸ„</span><span class="token punctuation">&#123;</span>MEMORY_BASIC_INFORMATION mbi<span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token double-colon punctuation">::</span><span class="token function">VirtualQuery</span><span class="token punctuation">(</span>GetSelfModuleHandle<span class="token punctuation">,</span> <span class="token operator">&amp;</span>mbi<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>mbi<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span>HMODULE<span class="token punctuation">)</span>mbi<span class="token punctuation">.</span>AllocationBase <span class="token operator">:</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å–å½“å‰å‡½æ•°çš„å‡½æ•°åœ°å€ï¼Œç”¨åœ°å€æ‰¾æ¨¡å—</span><span class="token punctuation">&#125;</span><span class="token keyword">bool</span> <span class="token function">LogGetModVer</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>wstring<span class="token operator">&amp;</span> sv<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>wstring<span class="token operator">&amp;</span> error<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">wchar_t</span> DllDir<span class="token punctuation">[</span><span class="token number">512</span><span class="token punctuation">]</span><span class="token punctuation">;</span>HMODULE hModule <span class="token operator">=</span> <span class="token function">GetSelfModuleHandle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>hModule <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>error <span class="token operator">=</span> L<span class="token string">"GetSelfModuleHandle() failed! Not found self module handle."</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>    <span class="token comment">// è·å–æ¨¡å—åç§°å’Œè·¯å¾„</span><span class="token function">GetModuleFileName</span><span class="token punctuation">(</span>hModule<span class="token punctuation">,</span> DllDir<span class="token punctuation">,</span> <span class="token number">512</span><span class="token punctuation">)</span><span class="token punctuation">;</span>std<span class="token double-colon punctuation">::</span>wstring <span class="token function">sFilePath</span><span class="token punctuation">(</span>DllDir<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>sFilePath<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>error <span class="token operator">=</span> L<span class="token string">"sFilePath is empty."</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token comment">// dllPtr = åŠ è½½çš„ dll æ¨¡å—æŒ‡é’ˆ</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">nullptr</span> <span class="token operator">!=</span> dllPtr<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>dllPtr<span class="token operator">-></span><span class="token function">OpenFile</span><span class="token punctuation">(</span>sFilePath<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>error <span class="token operator">=</span> L<span class="token string">"dllPtr open failed."</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>                <span class="token comment">// é€šè¿‡è‡ªå·±å°è£…çš„ dllPtr ç±»å‹æ¥è·å–å½“å‰å…·ä½“ç‰ˆæœ¬</span><span class="token punctuation">&#125;</span>error <span class="token operator">=</span> L<span class="token string">"__GetModVer faild."</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><span class="token comment">//-------------------------è°ƒç”¨ç¤ºä¾‹--------------------------</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifdef</span> <span class="token expression">_WIN32</span></span>std<span class="token double-colon punctuation">::</span><span class="token function">call_once</span><span class="token punctuation">(</span>g_dllFlag<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// èƒŒæ™¯å¯èƒ½æ˜¯å¤šçº¿ç¨‹ä¸‹ï¼Œä»…è¿è¡Œä¸€æ¬¡å³å¯</span>std<span class="token double-colon punctuation">::</span>wstring sv<span class="token punctuation">;</span>std<span class="token double-colon punctuation">::</span>wstring error<span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">LogGetModVer</span><span class="token punctuation">(</span>sv<span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>std<span class="token double-colon punctuation">::</span>wstring sVer<span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>sv<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>sVer <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">wstring</span><span class="token punctuation">(</span>L<span class="token string">"æ¨¡å—ç‰ˆæœ¬å·: "</span><span class="token punctuation">)</span> <span class="token operator">+</span> sv<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>sVer <span class="token operator">=</span> error<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>                                <span class="token comment">// ... sVer è¾“å‡ºåˆ°æ—¥å¿—</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="ç³»åˆ—åœ°å€"><a href="#ç³»åˆ—åœ°å€" class="headerlink" title="ç³»åˆ—åœ°å€"></a>ç³»åˆ—åœ°å€</h2><p><a href="https://github.com/XMuli/QtExamples">QtExamples</a> </p><p>æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”<strong>æ°¸ä¹…å…è´¹</strong>ï¼â€</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºäºŒ ç»éªŒ </category>
          
          <category> å­¦ä¹  - Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å·¥ç¨‹ç»éªŒ </tag>
            
            <tag> Windows ç¼–ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Visual Studio 2019 è¿›è¡Œè¿œç¨‹è°ƒè¯•</title>
      <link href="/posts/d74cfa6e/"/>
      <url>/posts/d74cfa6e/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong> çºªå½•ä¸€ä¸‹ç”¨ <code>Visual Studio 2019</code> è¿›è¡Œè¿œç¨‹è°ƒè¯•ï¼›æœ‰æ„ŸäºæŸäº› ğŸ” çš„æ–‡ç« æ€ä¹ˆå†™çš„åˆè‡­åˆé•¿ï¼Œçœ‹åŠå¤©è¿˜ä¸æ˜æ‰€ä»¥ï¼ï¼ï¼</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><p><strong>ç¯å¢ƒï¼š</strong> ğŸ’»  <code>win10 21H2</code>  ğŸ“  <code>Visual Studio 2019</code> ğŸ“ <code>è°ƒè¯• x86 çš„dll</code></p><ol><li><p>å°†æœ¬æœºçš„ <code>x86</code> æ–‡ä»¶å¤¹æ‹·è´åˆ°è™šæ‹Ÿæœºä¸­ï¼›</p><p>è·¯å¾„ä¸º <code>C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\Common7\IDE\Remote Debugger\x86</code> </p></li><li><p>åœ¨è™šæ‹Ÿæœºä¸­ <strong>ç®¡ç†å‘˜è¿è¡Œ</strong> æ‹·è´çš„æ ¹ç›®å½•ä¸‹çš„  <code>msvsmon.exe</code> ç¨‹åºï¼Œé€‰ä¸­ â€œå·¥å…·-é€‰é¡¹â€ é…ç½®å¦‚ä¸‹ï¼Œæ—¶é—´è®¾ç½®ä¸º 90000 é¿å…æ—¶é—´è¿‡çŸ­æ— å“åº”æ–­å¼€è¿æ¥äº†ï¼Œæ–¹ä¾¿</p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202203301711906.png" width="70%"/ loading="lazy"></li><li><p>å°†æœ¬æœºç¼–è¯‘çš„å¸¦è°ƒè¯•ä¿¡æ¯çš„ dll æ‹·è´åˆ°è™šæ‹Ÿæœºå¯¹åº”çš„è°ƒè¯•ç¨‹åºåï¼›è¿è¡Œå°†è¦è°ƒè¯•ç¨‹åºæ¨¡å—ï¼Œç¨‹åºè·‘èµ·æ¥åšå‡†å¤‡</p></li><li><p>åœ¨æœ¬æœºä¸­ <strong>ç®¡ç†å‘˜è¿è¡Œ VS2019</strong> ï¼Œé™„åŠ è™šæ‹Ÿæœºä¸­æ­¤ dll è¿›ç¨‹</p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202203301715873.png" width="70%"/ loading="lazy"><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202203301717726.png" width="90%"/ loading="lazy"></li><li><p>çœ‹åˆ°è¿œç¨‹è°ƒè¯•æˆåŠŸ</p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202203301717607.png" width="100%"/ loading="lazy"></li></ol><br><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æ­¤ä¸ºåœ¨è™šæ‹Ÿæœºæˆ–è€…å±€åŸŸç½‘ä¸­æ–¹æ³•ï¼Œäº’è”ç½‘ä¸‹è¿œç¨‹è°ƒè¯•æš‚æœªå°è¯•è¿‡ã€‚</p><p><code>msvsmon.exe</code> æœ‰å¯¹åº” x86 å’Œ x64 ä¸¤ä¸ªç‰ˆæœ¬ï¼Œå…¶åˆ†åˆ«è°ƒè¯•å¯¹åº”çš„ç‰ˆæœ¬ dll æˆ– exeã€‚</p><blockquote><p>C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\Common7\IDE\Remote Debugger\x86\msvsmon.exe</p><p>C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\Common7\IDE\Remote Debugger\x64\msvsmon.exe</p></blockquote><br><p><strong>ä¾æ—§æ— æ³•è°ƒè¯•çš„å¯èƒ½åŸå› ï¼š</strong></p><ol><li>æœªå…³é—­ç¨‹åºè‡ªä¿ï¼Œæˆ–è€…æœ‰éœ€è¦çš„æ³¨å†Œè¡¨ï¼Œå–å†³äºä½ çš„è°ƒè¯•ç¨‹åºã€å¹¶éæ‰€æœ‰ç¨‹åºéƒ½æœ‰ã€</li><li>msvsmon.exe çš„å’Œ dll è°ƒè¯•ç‰ˆæœ¬ä¸å¯¹ï¼›è‹¥è°ƒè¯• explorer.exe æ’ä»¶ï¼Œé€šå¸¸æ˜¯ x64 ä½çš„dllã€‚</li><li>æƒé™ä¸å¤Ÿï¼Œæœªä»¥ç®¡ç†å‘˜è¿è¡Œã€‚</li><li>é™„åŠ çš„ dll é”™è¯¯å—ï¼ŒæœªåŠ è½½æ­£ç¡®çš„ pdb ï¼Œå‰è€…å¯ç”¨ procexp64 æŸ¥çœ‹ç¡®è®¤ï¼Œåè€…åœ¨ vs åº•éƒ¨æ¨¡å—çª—å£å¯ä»¥ç¡®è®¤ã€‚</li><li>å…¶ dll çš„ pdb å…¶å®æ˜¯è°ƒç”¨çš„ä¸ºæœ¬æœºè·¯å¾„ä¸­ï¼Œè™šæ‹Ÿæœºä¸­ä¸å¿…æ‹·è´ä¸€ä»½ï¼›åœ¨ä¸Šå›¾ä¸­æ ‡å¿—å‡ºæ¥äº†ï¼Œå¯ä»¥ä»”ç»†çœ‹ä¸‹ã€‚</li></ol><br><h3 id="ç³»åˆ—åœ°å€"><a href="#ç³»åˆ—åœ°å€" class="headerlink" title="ç³»åˆ—åœ°å€"></a>ç³»åˆ—åœ°å€</h3><p><a href="https://github.com/XMuli/QtExamples">QtExamples</a> </p><p>æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”<strong>æ°¸ä¹…å…è´¹</strong>ï¼â€</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºäºŒ ç»éªŒ </category>
          
          <category> å­¦ä¹  - Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Visual Studio </tag>
            
            <tag> è°ƒè¯• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux ä¸­ç”¨ dh_make å°† Qt + CMake é¡¹ç›®æ‰“åŒ…ä¸º deb æ–‡ä»¶</title>
      <link href="/posts/607854c8/"/>
      <url>/posts/607854c8/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong> åœ¨ <code>Ubuntu 20.04</code> ä¸­ï¼Œå°†åŸºäº <code>Qt5</code> + <code>CMake</code> çš„ä¸ªäººé¡¹ç›® <a href="https://github.com/XMuli/PicShot">PicShot</a> ï¼Œé€šè¿‡ <code>dh_make</code> åˆ¶ä½œä¸€ä¸ª<code>.deb</code> å®‰è£…åŒ…ã€‚</p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202203271752132.png" width="20%"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="æ­¥éª¤æµç¨‹"><a href="#æ­¥éª¤æµç¨‹" class="headerlink" title="æ­¥éª¤æµç¨‹"></a>æ­¥éª¤æµç¨‹</h3><p>åœ¨ <strong>ğŸ’»ï¼š</strong>  <code>Ubuntu 20.04</code>  ä¸­ï¼Œä»æºç åŒ…æ„å»ºä¸€ä¸ª <code>deb</code> æ–‡ä»¶ï¼Œä¾æ¬¡æ‰§è¡Œå¦‚ä¸‹å³å¯ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token function">wget</span> <span class="token function">tar</span> dh-make debmake lintian <span class="token comment"># ä¸‹è½½å·¥å…·åŒ…</span>$ <span class="token builtin class-name">cd</span> ~/Desktop                                 $ <span class="token function">mkdir</span> DebExample <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> DebExample                 <span class="token comment"># åˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶å¤¹å¹¶ä¸”è¿›å…¥</span>$ <span class="token function">git</span> clone <span class="token parameter variable">--recursive</span> https://github.com/xmuli/PicShot.git  <span class="token comment"># ä¸‹è½½ä»“åº“å’Œå­æ¨¡å—ä»“åº“</span>$ <span class="token function">cp</span> <span class="token parameter variable">-r</span> PicShot/ picshot-0.1.2                      <span class="token comment"># å¤åˆ¶é‡å‘½åæ ¼å¼&lt;name>-&lt;version></span>$ <span class="token function">tar</span> <span class="token parameter variable">-cvzf</span> picshot-0.1.2.tar.gz picshot-0.1.2      <span class="token comment"># åˆ¶ä½œ .tar.gz çš„å‹ç¼©åŒ…</span>$ <span class="token function">cat</span> <span class="token operator">>></span> ~/.bashrc <span class="token operator">&lt;&lt;</span><span class="token string">EOF<span class="token bash punctuation">                            <span class="token comment"># é…ç½®ç¯å¢ƒå˜é‡ï¼Œç”¨äºæ¨¡æ¿å¡«å……ä½œè€…åå’Œé‚®ç®±</span></span>DEBEMAIL="xmulitech@gmail.com"                      # ç»´æŠ¤è€…çš„é‚®ç®±DEBFULLNAME="XMuli"                                 # ç»´æŠ¤è€…çš„å§“åexport DEBEMAIL DEBFULLNAMEexport PATH=~/Qt5.12.11/5.12.11/gcc_64/bin:<span class="token environment constant">$PATH</span>    # ä»£æ›¿ QT5_DIR ä½œç”¨ï¼Œç¼–è¯‘ç”¨ï¼›å¯çœç•¥EOF</span>$ <span class="token builtin class-name">.</span> ~/.bashrc                                       <span class="token comment"># æ›´æ–°ä½¿ä¿®æ”¹åçš„é…ç½®æ–‡ä»¶ç«‹åˆ»ç”Ÿæ•ˆï¼›é‡å¯ç”Ÿæ•ˆå¤ª low äº†</span>$ <span class="token builtin class-name">cd</span> picshot-0.1.2                                  <span class="token comment"># *** åç»­æ‰€æœ‰å‘½ä»¤å‡åœ¨æ­¤ä¸‹æ“ä½œã€æç¤ºã€‘ ***</span>$ dh_make <span class="token parameter variable">-f</span> <span class="token punctuation">..</span>/picshot-0.1.2.tar.gz <span class="token parameter variable">-s</span> <span class="token parameter variable">-c</span> mit <span class="token parameter variable">-y</span>   <span class="token comment"># æºç æ ¹ç›®å½•ä¸‹ï¼Œç”Ÿæˆ debian æ¨¡æ¿ç›®å½•</span>$ <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> devscripts$ <span class="token function">vim</span> debian/changelog                              <span class="token comment"># ç”¨ dch -i æˆ– dch -v version-revision</span>$ <span class="token function">vim</span> debian/control                                <span class="token comment"># ä¿®æ”¹æ–‡ä»¶</span>$ <span class="token function">vim</span> debian/copyright                              <span class="token comment"># ä¿®æ”¹ç‰ˆæƒä¿¡æ¯</span>$ dpkg-buildpackage <span class="token parameter variable">-us</span> <span class="token parameter variable">-uc</span>                         <span class="token comment"># åˆ¶ä½œ deb åŒ…ï¼Œé€šè¿‡æºç ç¼–è¯‘</span>$ <span class="token function">ls</span> <span class="token parameter variable">-al</span> <span class="token punctuation">..</span>/                                        <span class="token comment"># ç¡®è®¤ deb åŒ…ç”Ÿæˆ</span>$ lintian <span class="token punctuation">..</span>/picshot_0.1.2-1_amd64.deb              <span class="token comment"># lintian æ£€æŸ¥è§„èŒƒï¼›è‹¥æƒ³è¿›å®˜æ–¹ apt å¿…é¡»å…¨éƒ¨é€šè¿‡ï¼›å¯çœç•¥</span>$ dpkg-deb <span class="token parameter variable">-c</span> <span class="token punctuation">..</span>/picshot_0.1.2-1_amd64.deb          <span class="token comment"># æŸ¥çœ‹ deb æ–‡ä»¶çš„å®‰è£…ç›®å½•ï¼›å¯çœç•¥</span><span class="token comment"># PS è¡¥å……ï¼š-------------------------------</span><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> devscripts       <span class="token comment"># ä½¿ç”¨ dch -i æˆ–ç”¨ dch -v version-revision æ¥æŒ‡å®šç‰ˆæœ¬</span>Linux å¯¹åº”ï¼š /opt/Qt/5.15.2/gcc_64/bin    æˆ–    ~/Qt5.12.11/5.12.11/gcc_64/binMacOS å¯¹åº”ï¼š /Users/winks/Qt/5.15.2/clang_64/bin<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="è¯¦ç»†è¯´æ˜"><a href="#è¯¦ç»†è¯´æ˜" class="headerlink" title="è¯¦ç»†è¯´æ˜"></a>è¯¦ç»†è¯´æ˜</h3><h4 id="æºç åŒ…åæœ‰ä¸ªæ ¼å¼è§„å®š"><a href="#æºç åŒ…åæœ‰ä¸ªæ ¼å¼è§„å®š" class="headerlink" title="æºç åŒ…åæœ‰ä¸ªæ ¼å¼è§„å®š"></a>æºç åŒ…åæœ‰ä¸ªæ ¼å¼è§„å®š</h4><p><code>$ cp -r PicShot/ picshot-0.1.2</code></p><p> ä¸‹è½½ <code>PicShot</code> æºç åŒ…åï¼Œè‹¥æƒ³ç”¨ dh_make æ‰“åŒ…ä¸º deb ï¼Œåˆ™éœ€å°† ã€æ–‡ä»¶å¤¹ã€ é‡å‘½åä¸ºæŒ‡å®šæ ¼å¼ <code>&lt;package&gt;-&lt;version&gt;</code> ï¼Œè¿™æ˜¯å®˜æ–¹å¼ºåˆ¶çš„è¦æ±‚çš„ <sup><a href="https://manpages.debian.org/testing/dh-make/dh_make.1.en.html">DESCRIPTION</a></sup>ï¼›ä¾‹ä¸­æˆ‘å°±ç›´æ¥ cp ä¸€ä»½æ”¹åã€‚</p><blockquote><p><strong>dh_make</strong> is a tool that adds necessary files for making Debian source package from upstream source according to the requirements of the Debian Policy. <strong>dh_make</strong> must be invoked within a directory containing the source code, which must be named <packagename>-<version>. The <packagename> must be all lowercase, The <packagename> and <version> must be all lowercase, digits and dashes. The <version> can also contain digits, and the symbols plus, dot, tilde. The <version> must start with a digit. If the directory name does not conform to this scheme, you must rename it before using <strong>dh_make.</strong> Alternatively, you may be able to use the <strong>â€“packagename</strong> option to force the package name.</p></blockquote><br><h4 id="é…ç½®ç¯å¢ƒå˜é‡"><a href="#é…ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="é…ç½®ç¯å¢ƒå˜é‡"></a>é…ç½®ç¯å¢ƒå˜é‡</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">cat</span> <span class="token operator">>></span> ~/.bashrc <span class="token operator">&lt;&lt;</span><span class="token string">EOF<span class="token bash punctuation">                            <span class="token comment"># é…ç½®ç¯å¢ƒå˜é‡ï¼Œç”¨äºæ¨¡æ¿å¡«å……ä½œè€…åå’Œé‚®ç®±</span></span>DEBEMAIL="xmulitech@gmail.com"                      # ç»´æŠ¤è€…çš„é‚®ç®±DEBFULLNAME="XMuli"                                 # ç»´æŠ¤è€…çš„å§“åexport DEBEMAIL DEBFULLNAMEexport PATH=~/Qt5.12.11/5.12.11/gcc_64/bin:<span class="token environment constant">$PATH</span>    # ä»£æ›¿ QT5_DIR ä½œç”¨ï¼Œç¼–è¯‘ç”¨ï¼›å¯çœç•¥EOF</span>$ <span class="token builtin class-name">.</span> ~/.bashrc                                       <span class="token comment"># æ›´æ–°ä½¿ä¿®æ”¹åçš„é…ç½®æ–‡ä»¶ç«‹åˆ»ç”Ÿæ•ˆï¼›</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> å‘½ä»¤å«ä¹‰ä¸ºï¼Œç›´æ¥å°† ã€DEBEMAIL&#x3D;â€<a href="mailto:&#120;&#109;&#x75;&#108;&#x69;&#x74;&#101;&#99;&#104;&#x40;&#103;&#x6d;&#x61;&#105;&#x6c;&#x2e;&#99;&#x6f;&#x6d;">&#120;&#109;&#x75;&#108;&#x69;&#x74;&#101;&#99;&#104;&#x40;&#103;&#x6d;&#x61;&#105;&#x6c;&#x2e;&#99;&#x6f;&#x6d;</a>â€œ  ..çœç•¥..   :$PATHã€   è¿™æ®µæ–‡æœ¬ï¼Œè¿½åŠ åœ¨  <code>~/.bashrc</code> æ–‡ä»¶çš„å°¾éƒ¨ï¼Œç„¶åæ›´æ–°ä½¿æ­¤æ–°åŠ çš„ç¯å¢ƒå˜é‡ <strong>ç«‹åˆ»</strong> ç”Ÿæ•ˆã€‚<code>DEBEMAIL</code> å’Œ <code>DEBFULLNAME</code> ä¸¤ä¸ªå˜é‡ï¼Œæ˜¯å¡«å……è‡ªåŠ¨ç”Ÿæˆæ¨¡æ¿ä½¿ç”¨çš„ã€‚</p><br><h4 id="dh-make-ç”Ÿæˆ-debian-ç›®å½•"><a href="#dh-make-ç”Ÿæˆ-debian-ç›®å½•" class="headerlink" title="dh_make ç”Ÿæˆ debian ç›®å½•"></a>dh_make ç”Ÿæˆ debian ç›®å½•</h4><p><code>$ dh_make -f ../picshot-0.1.2.tar.gz -s -c mit -y</code> </p><p><code>dh_make</code>  å‘½ä»¤ç”¨æ¥åœ¨æºç æ ¹ç›®å½•ä¸‹ <code>debian</code> çš„ï¼›é—®äº†ä¸‹ debian çš„å®˜æ–¹æŸç»´æŠ¤è€…ï¼Œä»–ä¹Ÿæ˜¯æ•™æˆ‘ç”¨è¿™ä¸ªå‘½ä»¤ã€‚æˆ‘è¿™å„¿ç›´æ¥æŒ‡å®šäº†å‡ ä¸ªå‚æ•°ï¼š å‹ç¼©åŒ… è·¯å¾„å’Œ packageclass ä¸º singleï¼Œå’Œ  copyright ä¸º mit è®¸å¯è¯ã€‚</p><p>é»˜è®¤ç”Ÿæˆçš„ <code>debian</code> æ–‡ä»¶å¤¹ä¸‹åˆå¦‚æ­¤æ–‡ä»¶ï¼Œä»¥ <code>.ex</code>  ç»“å°¾ä»£è¡¨æ¨¡æ¿çš„å«ä¹‰ï¼Œ<font color=#FF0000 size=4 face="STFangsong">é™¤äº†æ ‡è®°å‡ºæ¥çš„å‡ ä¸ªå¿…é¡» <sup><a href="https://www.debian.org/doc/manuals/maint-guide/dreq.zh-tw.html">ç«  4. <code>debian</code> ç›®éŒ„ä¸­çš„å¿…é ˆå…§å®¹</a></sup> ï¼Œå…¶ä½™éƒ½æ˜¯å¯åˆ é™¤çš„ï¼Œ</font>æ”¾å¿ƒå¤§èƒ†çš„åˆ ï¼Œå±¡è¯•ä¸çˆ½ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">xmuli@xmuli-virtual-machine:~/Desktop/DebExample/picshot-0.1.2$ tree debiandebianâ”œâ”€â”€ changelog                <span class="token comment"># å¿…é¡»</span>â”œâ”€â”€ control                  <span class="token comment"># å¿…é¡»</span>â”œâ”€â”€ copyright                <span class="token comment"># å¿…é¡»</span>â”œâ”€â”€ manpage.1.exâ”œâ”€â”€ manpage.sgml.exâ”œâ”€â”€ manpage.xml.exâ”œâ”€â”€ picshot.cron.d.exâ”œâ”€â”€ picshot.doc-base.EXâ”œâ”€â”€ picshot-docs.docsâ”œâ”€â”€ postinst.exâ”œâ”€â”€ postrm.exâ”œâ”€â”€ preinst.exâ”œâ”€â”€ prerm.exâ”œâ”€â”€ README.Debianâ”œâ”€â”€ README.sourceâ”œâ”€â”€ rules                    <span class="token comment"># å¿…é¡»</span>â”œâ”€â”€ salsa-ci.yml.exâ”œâ”€â”€ <span class="token builtin class-name">source</span>                   <span class="token comment"># å¿…é¡»</span>â”‚   â””â”€â”€ <span class="token function">format</span>â””â”€â”€ watch.ex<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬åªéœ€è¦ç®€å•ä¿®æ”¹ <code>changelog</code> ã€<code>control</code>ã€<code>copyright</code>  è¿™ä¸‰ä¸ªæ–‡ä»¶å³å¯ï¼›<code>rules</code> ä¸ºæ„å»ºè„šæœ¬ï¼Œé€šå¸¸é‡‡ç”¨é»˜è®¤å³å¯ã€‚ä¸‹é¢å°†æˆ‘ä¿®æ”¹çš„æä¾›å¤§å®¶å‚è€ƒã€‚</p><br><h5 id="ä¿®æ”¹-debian-changelog"><a href="#ä¿®æ”¹-debian-changelog" class="headerlink" title="ä¿®æ”¹ debian/changelog"></a>ä¿®æ”¹ <code>debian/changelog</code></h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">xmuli@xmuli-virtual-machine:~/Desktop/DebExample/picshot-0.1.2$ <span class="token function">cat</span> debian/changelog   <span class="token comment"># ä¿®æ”¹åçš„å‚è€ƒ</span>picshot <span class="token punctuation">(</span><span class="token number">0.1</span>.2-1<span class="token punctuation">)</span> unstable<span class="token punctuation">;</span> <span class="token assign-left variable">urgency</span><span class="token operator">=</span>medium  * try build .deb on Linux<span class="token punctuation">(</span>ubuntu <span class="token number">20.04</span><span class="token punctuation">)</span>                     <span class="token comment">#ã€æ”¹å†™ã€éšä¾¿å†™ä¸€å¥æ›¿æ¢é»˜è®¤çš„</span> -- XMuli <span class="token operator">&lt;</span>xmulitech@gmail.com<span class="token operator">></span>  Sun, <span class="token number">27</span> Mar <span class="token number">2022</span> <span class="token number">16</span>:16:38 +0800   //---------------------------------------------------- <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> devscripts       <span class="token comment"># ä½¿ç”¨ dch -i æˆ–ç”¨ dch -v version-revision æ¥æŒ‡å®šç‰ˆæœ¬</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h5 id="ä¿®æ”¹-debian-control"><a href="#ä¿®æ”¹-debian-control" class="headerlink" title="ä¿®æ”¹ debian/control "></a>ä¿®æ”¹ <code>debian/control </code></h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">xmuli@xmuli-virtual-machine:~/Desktop/DebExample/picshot-0.1.2$ <span class="token function">cat</span> debian/control   <span class="token comment"># ä¿®æ”¹åçš„å‚è€ƒ</span>Source: picshotSection: unknownPriority: optionalMaintainer: XMuli <span class="token operator">&lt;</span>xmulitech@gmail.com<span class="token operator">></span>                    <span class="token comment">#ã€å·²ä¿®æ”¹ã€ç»´æŠ¤è€…å§“åå’Œè”ç³»æ–¹å¼</span>Build-Depends: debhelper-compat <span class="token punctuation">(</span><span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">)</span>                     <span class="token comment">#ã€æœªä¿®æ”¹ã€æ„å»ºä¾èµ–</span>Standards-Version: <span class="token number">4.4</span>.1Homepage: https://github.com/XMuli                         <span class="token comment">#ã€å·²ä¿®æ”¹ã€é¦–é¡µç½‘ç«™</span><span class="token comment">#Vcs-Browser: https://salsa.debian.org/debian/picshot</span><span class="token comment">#Vcs-Git: https://salsa.debian.org/debian/picshot.git</span>Package: picshot                                           <span class="token comment">#ã€æœªä¿®æ”¹ã€åŒ…åç§°</span>Architecture: any                                          <span class="token comment">#ã€æœªä¿®æ”¹ã€å¹³å°</span>Depends: <span class="token variable">$&#123;shlibs<span class="token operator">:</span>Depends&#125;</span>, <span class="token variable">$&#123;misc<span class="token operator">:</span>Depends&#125;</span>                <span class="token comment">#ã€æœªä¿®æ”¹ã€ä¾èµ–</span>Description: Open <span class="token builtin class-name">source</span> cross-platform screenshots        <span class="token comment">#ã€å·²ä¿®æ”¹ã€ç®€çŸ­çš„ä¸€å¥æè¿°</span> Qt5-based <span class="token function">open</span> <span class="token builtin class-name">source</span> cross-platform screenshot tool      <span class="token comment">#ã€å·²ä¿®æ”¹ã€å¯ä»¥ä¹¦å†™è¯¦ç»†çš„æè¿°</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æ³¨æ„ï¼š</strong> å…³é”®è¯åç´§è´´ç€å†’å·ï¼Œå¡«å†™çš„å†…å®¹éœ€è¦å…ˆå¡«ä¸€ä¸ªç©ºæ ¼ï¼Œæ ¼å¼æ­£ç¡®ï¼Œå¦åˆ™åé¢ä¼šå¤±è´¥ã€‚</p><br><h5 id="ä¿®æ”¹-debian-copyright"><a href="#ä¿®æ”¹-debian-copyright" class="headerlink" title="ä¿®æ”¹ debian/copyright"></a>ä¿®æ”¹ <code>debian/copyright</code></h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">xmuli@xmuli-virtual-machine:~/Desktop/DebExample/picshot-0.1.2$ <span class="token function">cat</span> debian/copyright  <span class="token comment"># ä¿®æ”¹åçš„å‚è€ƒ</span>Format: https://www.debian.org/doc/packaging-manuals/copyright-format/1.0/Upstream-Name: picshotUpstream-Contact: https://github.com/XMuli/PicShot         <span class="token comment">#ã€å·²ä¿®æ”¹ã€</span>Source: https://github.com/XMuli/PicShot                   <span class="token comment">#ã€å·²ä¿®æ”¹ã€</span>Files: *Copyright: <span class="token number">2022</span> XMuli <span class="token operator">&lt;</span>xmulitech@gmail.com<span class="token operator">></span>License: MITFiles: debian/*Copyright: <span class="token number">2022</span> XMuli <span class="token operator">&lt;</span>xmulitech@gmail.com<span class="token operator">></span>License: MITLicense: MIT Permission is hereby granted, <span class="token function">free</span> of charge, to any person obtaining a copy of this software and associated documentation files <span class="token punctuation">(</span>the <span class="token string">"Software"</span><span class="token punctuation">)</span>, to deal <span class="token keyword">in</span> the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to <span class="token keyword">do</span> so, subject to the following conditions: <span class="token builtin class-name">.</span> The above copyright notice and this permission notice shall be included <span class="token keyword">in</span> all copies or substantial portions of the Software. <span class="token builtin class-name">.</span> THE SOFTWARE IS PROVIDED <span class="token string">"AS IS"</span>, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.<span class="token comment"># Please also look if there are files or directories which have a</span><span class="token comment"># different copyright/license attached and list them here.</span><span class="token comment"># Please avoid picking licenses with terms that are more restrictive than the</span><span class="token comment"># packaged work, as it may make Debian's contributions unacceptable upstream.</span><span class="token comment">#</span><span class="token comment"># If you need, there are some extra license texts available in two places:</span><span class="token comment">#   /usr/share/debhelper/dh_make/licenses/</span><span class="token comment">#   /usr/share/common-licenses/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨æ„å¼€æºè½¯ä»¶çš„è®¸å¯è¯ï¼Œå¯¹äºæƒ³è¦è¿›å…¥ debian å®˜æ–¹ä¸Šæ¸¸ apt ä»“åº“ï¼Œå¯¹äºè¿™äº›éƒ½ç®¡æ§å¾ˆä¸¥æ ¼ï¼Œæäº¤ä¸æ­£ç¡®æˆ–è€…é”™è¯¯ï¼Œæ˜¯ä¼šå‘é‚®ä»¶å‘ŠçŸ¥ä¸ié€šè¿‡åŸå› ï¼ŒæŒ‰è¦æ±‚ä¿®æ”¹å³å¯ã€‚</p><br><h4 id="dh-make-çš„å‚æ•°å«ä¹‰"><a href="#dh-make-çš„å‚æ•°å«ä¹‰" class="headerlink" title="dh_make çš„å‚æ•°å«ä¹‰"></a>dh_make çš„å‚æ•°å«ä¹‰</h4><p>æ„Ÿè§‰æœ‰å¿…è¦åˆ—ä¸¾å‡ºæ¥ï¼Œå«ä¹‰è‡ªå·±çœ‹ï¼›å‡ ä¸ªå…³é”®çš„å‚æ•°ï¼š<code>-c</code>ã€<code>-f</code> ã€<code>s|i|l|p</code> ï¼Œæ²¡å¿…è¦å…¨éƒ¨éƒ½ç†Ÿè®°ï¼ŒäºŒå…«åŸåˆ™ã€‚ <code>-y</code> å‚æ•°çš„æœ€å¤§ä¼˜ç‚¹å°±æ˜¯åé¢å†™ yml æ„å»º CI&#x2F;CD çš„æ—¶å€™ä¼˜åŠ¿å°±å‡ºæ¥äº†ï¼Œå±Šæ—¶åœ¨å†™ä¸€ç¯‡æ•™ç¨‹ï¼›</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">xmuli@xmuli-virtual-machine:~/Desktop/DebExample/PicShot$ dh_make <span class="token parameter variable">--help</span>usage: dh_make <span class="token punctuation">[</span>-h<span class="token punctuation">]</span> <span class="token punctuation">[</span>-a<span class="token punctuation">]</span> <span class="token punctuation">[</span>-c <span class="token operator">&lt;</span>type<span class="token operator">></span><span class="token punctuation">]</span> <span class="token punctuation">[</span>--copyrightfile <span class="token operator">&lt;</span>file<span class="token operator">></span><span class="token punctuation">]</span> <span class="token punctuation">[</span>-d<span class="token punctuation">]</span> <span class="token punctuation">[</span>--docs<span class="token punctuation">]</span> <span class="token punctuation">[</span>-e <span class="token operator">&lt;</span>address<span class="token operator">></span><span class="token punctuation">]</span> <span class="token punctuation">[</span>-f <span class="token operator">&lt;</span>file<span class="token operator">></span><span class="token punctuation">]</span>               <span class="token punctuation">[</span>-n<span class="token punctuation">]</span> <span class="token punctuation">[</span>-o <span class="token operator">&lt;</span>dir<span class="token operator">></span><span class="token punctuation">]</span> <span class="token punctuation">[</span>-p <span class="token operator">&lt;</span>name<span class="token operator">></span><span class="token punctuation">]</span> <span class="token punctuation">[</span>-t <span class="token operator">&lt;</span>dir<span class="token operator">></span><span class="token punctuation">]</span> <span class="token punctuation">[</span>-y<span class="token punctuation">]</span> <span class="token punctuation">[</span>--createorig<span class="token punctuation">]</span> <span class="token punctuation">[</span>--with-emacs<span class="token punctuation">]</span>               <span class="token punctuation">[</span>-C <span class="token operator">&lt;</span>cls<span class="token operator">></span> <span class="token operator">|</span> <span class="token parameter variable">-s</span> <span class="token operator">|</span> <span class="token parameter variable">-i</span> <span class="token operator">|</span> <span class="token parameter variable">-l</span> <span class="token operator">|</span> --python<span class="token punctuation">]</span> <span class="token punctuation">[</span>-v<span class="token punctuation">]</span>prepare Debian packaging from an original <span class="token builtin class-name">source</span> archiveoptional arguments:  -h, <span class="token parameter variable">--help</span>            show this <span class="token builtin class-name">help</span> message and <span class="token builtin class-name">exit</span>  -a, <span class="token parameter variable">--addmissing</span>      reprocess package and <span class="token function">add</span> missing files  <span class="token parameter variable">-c</span> <span class="token operator">&lt;</span>type<span class="token operator">></span>, <span class="token parameter variable">--copyright</span> <span class="token operator">&lt;</span>type<span class="token operator">></span>                        use <span class="token operator">&lt;</span>type<span class="token operator">></span> of license <span class="token keyword">in</span> copyright <span class="token function">file</span> <span class="token punctuation">(</span>apache<span class="token operator">|</span>artistic<span class="token operator">|</span>bsd<span class="token operator">|</span>gpl<span class="token operator">|</span>gpl2<span class="token operator">|</span>gpl3<span class="token operator">|</span>isc<span class="token operator">|</span>lgpl<span class="token operator">|</span>lgpl2<span class="token operator">|</span>lgpl3<span class="token operator">|</span>mit<span class="token operator">|</span>custom<span class="token punctuation">)</span>  <span class="token parameter variable">--copyrightfile</span> <span class="token operator">&lt;</span>file<span class="token operator">></span>                        Template to use <span class="token keyword">for</span> custom copyright  -d, <span class="token parameter variable">--defaultless</span>     skip the default Debian and package class templates  <span class="token parameter variable">--docs</span>                create a separate docs package  <span class="token parameter variable">-e</span> <span class="token operator">&lt;</span>address<span class="token operator">></span>, <span class="token parameter variable">--email</span> <span class="token operator">&lt;</span>address<span class="token operator">></span>                        use <span class="token operator">&lt;</span>address<span class="token operator">></span> as the maintainer e-mail address  <span class="token parameter variable">-f</span> <span class="token operator">&lt;</span>file<span class="token operator">></span>, <span class="token parameter variable">--file</span> <span class="token operator">&lt;</span>file<span class="token operator">></span>                        use <span class="token operator">&lt;</span>file<span class="token operator">></span> as the original <span class="token builtin class-name">source</span> archive  -n, <span class="token parameter variable">--native</span>          the program is Debian native, don<span class="token string">'t generate .orig  -o &lt;dir>, --overlay &lt;dir>                        reprocess package using templates in &lt;dir>  -p &lt;name>, --packagename &lt;name>                        force package name to be &lt;name>  -t &lt;dir>, --templates &lt;dir>                        apply customizing templates from &lt;dir>  -y, --yes             automatic yes to prompts and run non-interactively  --createorig          create orig.tar.xz file  --with-emacs          add files for emacsen  -C &lt;cls>, --packageclass &lt;cls>                        set package class (s|i|l|p)  -s, --single          set package class to single  -i, --indep           set package class to arch-independent  -l, --library         set package class to library  --python              set package class to python  -v, --version         show program'</span>s version number and <span class="token builtin class-name">exit</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h4 id="dpkg-buildpackage-ç”Ÿæˆ-deb-åŒ…"><a href="#dpkg-buildpackage-ç”Ÿæˆ-deb-åŒ…" class="headerlink" title="dpkg-buildpackage ç”Ÿæˆ deb åŒ…"></a>dpkg-buildpackage ç”Ÿæˆ deb åŒ…</h4><p><code>$ dpkg-buildpackage -us -uc</code></p><p>ä¼šè‡ªåŠ¨ç”Ÿæˆå¦‚ä¸‹ä¸­é—´è¿‡ç¨‹å’Œæœ€åçš„ <code>picshot_0.1.2-1_amd64.deb</code> åŒ…ï¼›å·²ç„¶æˆåŠŸï¼ŒåŒå‡»å®‰è£…å³å¯ã€‚</p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202203271631591.png" width="100%"/ loading="lazy"><p>åŒå‡»å³å¯å®‰è£…ï¼›</p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202203271633515.png" width="70%"/ loading="lazy"><br><h4 id="lintian-æ£€æŸ¥åŒ…"><a href="#lintian-æ£€æŸ¥åŒ…" class="headerlink" title="lintian æ£€æŸ¥åŒ…"></a>lintian æ£€æŸ¥åŒ…</h4><p><code>$ lintian ../picshot_0.1.2-1_amd64.deb</code></p><p>æ­¤æ­¥éª¤é€šè¿‡ <code>lintian </code> å¯¹ <code>deb</code> è¿›è¡Œä¸€ä¸ªæ ‡å‡†çš„æ ¼å¼æ£€æŸ¥ï¼Œå¦‚æœæƒ³è¦è¿›å…¥ä¸Šæ¸¸ apt ä»“åº“ï¼Œå°±å¿…é¡»å…¨éƒ¨é€šè¿‡ã€‚æ ‡è®°æœ‰ E åªè¦ä¸ apt éƒ½æ˜¯æ— æ‰€è°“çš„ï¼Œå°±å¦‚åŒç¼–è¯‘çš„ è­¦å‘Šä¸€æ ·ã€‚</p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202203271803363.png" width="80%"/ loading="lazy"><p>å½“æ—¶å€˜è‹¥ä½ æœ‰å¿ƒèµ°çš„æ›´è¿œï¼Œé‚£ä¹ˆæ€ä¹ˆä¹Ÿä¸èƒ½è€½è¯¯äº†æ­¦å­¦å¥‡æ‰ï¼Œç»™å‡ºä¸€ä¸ªå…·ä½“æ¡ˆä¾‹è®²è§£ <a href="https://blog.csdn.net/qq_33154343/article/details/106366582">Linuxä¸Šé¢ä½¿ç”¨lintianæ£€æµ‹debåŒ…æŠ¥é”™çš„è§£å†³æ–¹æ¡ˆ</a>ã€‚</p><br><h4 id="dpkg-deb-æŸ¥çœ‹-deb-çš„å®‰è£…è·¯å¾„"><a href="#dpkg-deb-æŸ¥çœ‹-deb-çš„å®‰è£…è·¯å¾„" class="headerlink" title="dpkg-deb æŸ¥çœ‹ deb çš„å®‰è£…è·¯å¾„"></a>dpkg-deb æŸ¥çœ‹ deb çš„å®‰è£…è·¯å¾„</h4><p><code>$ dpkg-deb -c ../picshot_0.1.2-1_amd64.deb</code></p><p>æ‰§è¡Œä¸€ä¸‹ä¼šçœ‹åˆ°ä½ æƒ³è¦çš„ä¿¡æ¯â™¥ã€‚</p><br><h3 id="å…¶å®ƒæœ‰ç”¨å‘½ä»¤"><a href="#å…¶å®ƒæœ‰ç”¨å‘½ä»¤" class="headerlink" title="å…¶å®ƒæœ‰ç”¨å‘½ä»¤"></a>å…¶å®ƒæœ‰ç”¨å‘½ä»¤</h3><p>å†è¡¥å……ä¸¤ä¸ªå‘½ä»¤</p><ul><li><p><code>ldd</code>  å¯ä»¥æŸ¥çœ‹ä¾èµ–</p></li><li><p><code>locate</code>   å‘½ä»¤ç”¨äºæŸ¥æ‰¾ç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> mlocate                 <span class="token comment"># æ‰€åœ¨åŒ…</span><span class="token function">locate</span> Qt5X11Extras.so.5                 <span class="token comment"># ç”¨  ä¾‹</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ul><br><h3 id="ç³»åˆ—åœ°å€"><a href="#ç³»åˆ—åœ°å€" class="headerlink" title="ç³»åˆ—åœ°å€"></a>ç³»åˆ—åœ°å€</h3><p><a href="https://github.com/XMuli/QtExamples">QtExamples</a> </p><p>æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”<strong>æ°¸ä¹…å…è´¹</strong>ï¼â€</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€ä¸ªå¾®è½¯è‡ªå¸¦çš„ notepad æ‰€å¯¼è‡´çš„é—®é¢˜</title>
      <link href="/posts/463a4b4e/"/>
      <url>/posts/463a4b4e/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong> çºªå½•ä¸€ä¸ª Microsoft è‡ªå¸¦çš„ notepad æ‰€å¯¼è‡´çš„é—®é¢˜ï¼Œå…³äºå¯¹ <strong>å›è½¦</strong> å’Œ <strong>æ¢è¡Œ</strong> çš„è§£æã€‚ </p><p>ã€€ã€€æµ‹è¯•å°å§å§ï¼ŒæŠ¥ä¸€ä¸ª bug è®©åº·åº·å…ˆï¼Œè¯´è½¯ä»¶çš„æ—¥å¿—åœ¨ Win10 x64 ä¸Šï¼Œè¾“å‡ºæ˜¾ç¤ºä¼šå¤šä¸€è¡Œç©ºæ ¼ï¼Œè€Œ Win7 x86 ä¸‹åˆ™ä¸ä¼šå¤šæ­¤ç©ºè¡Œã€‚æˆ‘å¬åï¼Ÿï¼Ÿï¼ŸåŒä¸€ä¸ª .dll è¿˜èƒ½è·‘å‡ºä¸åŒæ•ˆæœæ¥ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ</p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202203151520508.png" width="20%"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>ã€€ã€€æœ¬æƒ³å»æ•åæˆªå›¾ï¼Œä½†æƒ³äº†ä¸‹è¿˜æ˜¯ç›´æ¥å†™äº†ä¾‹å­æ¼”ç¤ºï¼Œå¤§æ¦‚å¦‚å›¾çš„ bugï¼›ğŸ’»ä¸º  <code>win10 21H2</code> ğŸ“ <code>win7 sp1</code>ã€‚</p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202203151518139.png" width="80%"/ loading="lazy"><br><p>ã€€ã€€éªŒè¯ä¸€ç•ªï¼Œç¡®å®å¯ä»¥å¤ç°ï¼Œåè€Œæ›´åŠ è¿·æƒ‘äº†ã€‚éš¾é“æ˜¯å¯¹è¡Œå°¾ç»“æŸæ ‡å¿—ï¼Œå‘ç”Ÿäº†å†å²æ¼”å˜ï¼Ÿï¼Ÿï¼Ÿè€Œæ°å‰å‡ å¤©æœ‰å†™ä¸€ç¯‡å¦‚ä½•ä¿®æ”¹ <code>Visual Studio</code> è¡Œå°¾æ ‡å¿—çš„æ–‡ç«  <a href="https://blog.csdn.net/qq_33154343/article/details/123366419">ã€Visual Studioå®é™…ä»…å¢åˆ æ•°è¡Œï¼Œå´æ˜¾ç¤ºæ–‡ä»¶æ‰€æœ‰è¡Œå‡å‘ç”Ÿå˜æ›´ã€</a>ã€‚</p><p>ã€€ã€€èµ¶ç´§å»æŸ¥æŸ¥ã€€â€œå›è½¦â€ã€â€œæ¢è¡Œâ€ wiki å†å²çš„åŒºåˆ«ã€‚å†è°ƒè¯•ä¸€ä¸‹ä»£ç è¾“å‡ºï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯å†å²çš„æ¼”å˜åŸå› ï¼Ÿ</p><br><h3 id="å›è½¦æ¢è¡ŒCRLF"><a href="#å›è½¦æ¢è¡ŒCRLF" class="headerlink" title="å›è½¦æ¢è¡ŒCRLF"></a>å›è½¦æ¢è¡ŒCRLF</h3><p>ã€€ã€€å‰è¾ˆä»¬åˆ›å»ºäº†æ–‡å­—ï¼Œä¹¦å†™äº†ä¸€è¡Œæ–‡å­—ï¼›æƒ³è¦æ¢è¡Œç»§ç»­å†™ï¼Œå°±åˆ›å»ºäº†ä¸€ä¸ªã€æ¢è¡Œçš„ <strong>æ ‡è®°</strong>ã€ï¼Œè‡ªç„¶å°±éœ€è¦ä½¿ç”¨æŸä¸ªç¬¦å·æ¥è¡¨ç¤ºæ­¤æ¢è¡Œçš„æ ‡è®°ã€‚</p><br><h4 id="æ‰“å°æœºæ—¶ä»£"><a href="#æ‰“å°æœºæ—¶ä»£" class="headerlink" title="æ‰“å°æœºæ—¶ä»£"></a>æ‰“å°æœºæ—¶ä»£</h4><p>ã€€ã€€æ­¤æ—¶è¿˜ç”µè„‘è¿˜æ²¡æœ‰å‡ºç°ï¼Œæ‰“å°æœºå®Œæˆä¸€ä¸ªã€æ¢è¡Œçš„ <strong>æ“ä½œ</strong>ã€æ“ä½œï¼Œéœ€è¦æ‰§è¡Œ <code>å›è½¦</code> + <code>æ¢è¡Œ</code> ä¸¤ä¸ªåŠ¨ä½œã€‚</p><ul><li>ã€å›è½¦ã€ï¼šå°†æ¸¸æ ‡ç§»åŠ¨åˆ°å½“å‰è¡Œçš„è¡Œé¦–</li><li>ã€æ¢è¡Œã€ï¼šå°†æ¸¸æ ‡ç§»åŠ¨åˆ°å½“å‰è¡Œçš„ä¸‹ä¸€è¡Œ</li></ul><p>ç”¨ä¸ªè§†é¢‘æ„Ÿå—ä¸€ä¸‹ï¼š <a href="https://www.youtube.com/watch?v=FkUXn5bOwzk">How to Use a Typewriter</a> </p><iframe width="760" height="427" src="https://www.youtube.com/watch?v=FkUXn5bOwzk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><br><h4 id="è®¡ç®—æœºæ—¶ä»£"><a href="#è®¡ç®—æœºæ—¶ä»£" class="headerlink" title="è®¡ç®—æœºæ—¶ä»£"></a>è®¡ç®—æœºæ—¶ä»£</h4><p>ã€€ã€€è®¡ç®—æœºå‡ºç°äº†ï¼Œç…§æ¬ä¸€äº›æ‰“å°æœºçš„ä¹ æƒ¯ï¼Œåˆ™ä¸¤ä¸ªåŠ¨ä½œè¢«ä¿ç•™ä¸‹æ¥äº†ã€‚</p><br><p>å›è½¦ç¬¦ï¼ˆCRï¼‰å’Œæ¢è¡Œç¬¦ï¼ˆLFï¼‰æ˜¯æ–‡æœ¬æ–‡ä»¶ç”¨äºæ ‡è®°æ¢è¡Œçš„æ§åˆ¶å­—ç¬¦ï¼ˆ<a href="https://en.wikipedia.org/wiki/Control_character">control characters</a>ï¼‰æˆ–å­—èŠ‚ç ï¼ˆ<a href="https://en.wikipedia.org/wiki/Bytecode">bytecode</a>ï¼‰ã€‚</p><ul><li>CR &#x3D; <strong>Carriage Return</strong>ï¼Œå›è½¦ç¬¦å·ï¼ˆ<code>\r</code>ï¼Œåå…­è¿›åˆ¶ ascii ç ä¸º<code>0x0D</code>ï¼Œåè¿›åˆ¶ ascii ç ä¸º13ï¼‰ï¼Œç”¨äºå°†é¼ æ ‡ç§»åŠ¨åˆ°è¡Œé¦–ï¼Œå¹¶ä¸å‰è¿›è‡³ä¸‹ä¸€è¡Œã€‚</li><li>LF &#x3D; <strong>Line Feed</strong>ï¼Œæ¢è¡Œç¬¦å·ï¼ˆ <code>\n</code>, åå…­è¿›åˆ¶ ascii ç ä¸º <code>0x0A</code>ï¼Œåè¿›åˆ¶ ascii ç ä¸º10ï¼‰ã€‚</li></ul><p>ç´§é‚»çš„ CR å’Œ LFï¼ˆç»„æˆ CRLFï¼Œ<code>\r\n</code>ï¼Œæˆ–åå…­è¿›åˆ¶ <code>0x0D0A</code>ï¼‰å°†é¼ æ ‡ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œè¡Œé¦–ã€‚ï¼ˆWindows æ“ä½œç³»ç»Ÿé»˜è®¤çš„æ–‡æœ¬æ¢è¡Œç¬¦ä¸º CRLFï¼›Linux ä»¥åŠ macOS ç³»ç»Ÿé»˜è®¤ä½¿ç”¨ LFï¼Œæ—©æœŸçš„ mac os ç³»ç»Ÿä½¿ç”¨ CR æ¢è¡Œã€‚ï¼‰</p><br><p>ã€€ã€€éœ€è¦ç”¨ä¸€ä¸ªå­—ç¬¦æ¥è¡¨ç¤ºã€æ¢è¡Œçš„ <strong>æ ‡è®°</strong>ã€ã€‚è‡³äºå†å²åŸå› å’Œæƒ³æ³•çš„äº‰è®®ï¼ŒWindows ä½¿ç”¨äº†ä¸¤ä¸ªå­—ç¬¦è¡¨ç¤ºï¼ŒLinux å’Œ MacOS å‡æ˜¯ä¸€ä¸ªå­—ç¬¦è¡¨ç¤ºï¼Œå…¶ç°åœ¨çš„è§„åˆ™å¦‚ä¸‹ï¼š</p><ul><li><p>windowsï¼š<code>CR+LF</code> è¡¨ç¤ºæ­¤æ ‡è®°ã€‚ä¸¤ä¸ªæ ‡è®°æŒ‰ç…§æ­¤é¡ºåºä¸”åŒæ—¶å‡ºç°æ‰è¢«è®¤ä¸ºæ˜¯</p></li><li><p>Linux &#x2F; MacOSï¼š<code>LF</code>  è¡¨ç¤ºæ­¤æ ‡è®°ã€‚</p></li><li><p>æ—©æœŸçš„ MacOS ï¼š<code>CR</code> è¡¨ç¤ºæ­¤æ ‡è®°ã€‚   MacOS 9 ç‰ˆæœ¬åŠä¹‹å‰ã€‚</p></li></ul><br><p>æ„Ÿå…´è¶£æ›´è¯¦ç»†ï¼Œå¯å‚è€ƒ mozilla.org å’Œ notepad++ çš„è¿™ä¸¤ç¯‡æ–‡æ¡£ï¼š</p><ul><li><p><a href="https://developer.mozilla.org/zh-CN/docs/Glossary/CRLF">mozilla.org&#x2F;CRLF</a></p></li><li><p><a href="https://www.crifan.com/detailed_carriage_return_0x0d_0x0a_cr_lf__r__n_the_context/">ã€è¯¦è§£ã€‘å›è½¦ æ¢è¡Œ 0x0D 0x0A CR LF \r \nçš„æ¥é¾™å»è„‰</a></p></li></ul><br><h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>ã€€ã€€æœ‰äº†ä¸Šè¿°çŸ¥è¯†å‚¨å¤‡ï¼Œè°ƒè¯•ä¸€ä¸‹æºç ï¼Œå‘ç°æ‰“å°æ¯ä¸ªæ–‡ä»¶è·¯å¾„æ—¶ï¼Œä¼šæ‹¼æ¥å­—ç¬¦ä¸²ï¼Œæ¯æ¬¡éƒ½ä¼šæ·»åŠ  <code>\r\n</code> å­—ç¬¦ä¸²æ¥è¡¨ç¤ºæ¢è¡Œã€‚</p><p>å†™ä¸€ä¸ªå°ä¾‹å­éªŒè¯ä¸‹åŒºåˆ«ï¼Œåˆ†åˆ«æ‹¿åˆ° win10 å’Œ win 7 ä¸‹å»è·‘ä¸€ä¸‹ï¼Œä½¿ç”¨ notepad++ æ‰“å¼€ï¼Œä¸¤æ¬¡æ•ˆæœéƒ½æ˜¯ä¸€æ ·çš„ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">QFile <span class="token function">file</span><span class="token punctuation">(</span><span class="token string">"D:/ExCRLF.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>file<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>QIODevice<span class="token double-colon punctuation">::</span>WriteOnly <span class="token operator">|</span> QIODevice<span class="token double-colon punctuation">::</span>Text<span class="token punctuation">)</span><span class="token punctuation">;</span>file<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"(abcdefg1234hijk)\r[FOXES]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>file<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"(abcdefg1234hijk)\n[FOXES]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>file<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"(abcdefg1234hijk)\r\n[FOXES]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>file<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"(abcdefg1234hijk)\n\r[FOXES]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>file<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨ Win10 21H2 ä¸­è¿è¡Œæ•ˆæœ</p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202203151620790.png" width="100%"/ loading="lazy"><br><p>ã€€ã€€<strong>ç»“è®ºï¼š</strong> åœ¨ win ç³»ç»Ÿä¸­ï¼Œä¸€ä¸ª<code>&quot;\n&quot;</code> çš„ C++ å­—ç¬¦ä¼šè¢«æ ‡è®°ä¸ºä¸€ä¸ª <code>&quot;CRLF&quot;</code> å­˜å‚¨åˆ°æ–‡æœ¬æ–‡ä»¶ä¸­ï¼›ä¸€ä¸ª<code>&quot;\r&quot;</code>  çš„ C++ å­—ç¬¦ä¼šè¢«æ ‡è®°ä¸ºä¸€ä¸ª <code>&quot;CR&quot;</code>   å­˜å‚¨åˆ°æ–‡æœ¬æ–‡ä»¶ä¸­ã€‚<strong>è€Œåœ¨ notepad++ ä¸­ï¼Œæ— è®ºæ˜¯ <code>&quot;LR&quot;</code> ã€<code>&quot;CR&quot;</code>ã€<code>&quot;CRLF&quot;</code> éƒ½ä¼šè¢«è§£æä¸ºæ¢è¡Œæ“ä½œåæ˜¾ç¤ºå‡ºæ¥ï¼›ä½†æ˜¯æ—©æœŸçš„ win ä¸‹çš„ notepad è®°äº‹æœ¬ä¸æ˜¯ï¼Œåªèƒ½å¤Ÿè§£æ <code>&quot;CRLF&quot;</code> ï¼›è€Œè¿™ä¸ª bug ä¸€ç›´åˆ° 2018.05 åœ¨ win10 ä¸­æ‰è¢«ä¿®å¤ï¼›</strong> è¿™æ˜¯åœ¨å¾®è½¯ç»´æŠ¤ notepad é‚£ä¸ªè€å“¥å†™çš„ blogï¼š <a href="https://devblogs.microsoft.com/commandline/extended-eol-in-notepad/">Introducing extended line endings support in Notepad</a> ã€‚</p><p>æœ€ç»ˆå°±æ˜¯å±•ç¤ºåˆ°çœ¼ç›çœ‹åˆ°çš„æ•ˆæœã€‚</p><ul><li><code>&quot;\r&quot;</code> â†” <code>&quot;CR&quot;</code>                     è¢« notepad++ è§£æä¸ºæ¢è¡Œï¼›æ—©æœŸ notepad ä¸åšæ¢è¡Œè§£æ</li><li><code>&quot;\n&quot;</code> â†” <code>&quot;CRLF&quot;</code>                 è¢«  notepad++ è§£æä¸ºæ¢è¡Œï¼›æ—©æœŸ notepad ä¸åšæ¢è¡Œè§£æ</li><li><code>&quot;\r\n&quot;</code> â†” <code>&quot;CR  CRLF&quot;</code>     è¢«  notepad++ è§£æä¸ºæ¢è¡Œï¼›æ—©æœŸ notepad åšæ¢è¡Œè§£æ</li></ul><br><p>ã€€ã€€<strong>çœŸç›¸å›¾ï¼ŒåŒä¸€ä¸ª txt åœ¨ win7 ä¸‹çš„æ—©æœŸè®°äº‹æœ¬ä¸­è§£æé”™è¯¯ï¼Œè€Œ notepad++ è§£ææ­£ç¡®ã€‚</strong></p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202203151721210.png" width="100%"/ loading="lazy"><br><h3 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h3><p>ã€€ã€€ä¸Šé¢åˆ†æå¯çŸ¥ï¼Œä¿®æ”¹æ­¤ bug çš„æœ€å¥½æ–¹å¼å°±æ˜¯ä¸ä½œä¸ºä¿®æ”¹ï¼Œè°è®©è½¯ä»¶ç”Ÿæˆçš„æ—¥å¿— .txtï¼Œä½¿ç”¨é»˜è®¤ä½¿ç”¨ windows æ‰“å¼€ï¼Œä¸”ç³»ç»Ÿä¿æŒå‘ä¸Šå…¼å®¹åˆ° win7ã€å’Œ win xpã€‚ä¹Ÿç®—æ˜¯ä¸€ç§å¦¥åï¼</p><p>è‹¥æ˜¯æƒ³è¦è§£å†³è·¨å¹³å°ï¼Œè§£ææ¥è‡ªä¸åŒçš„ç³»ç»Ÿçš„æ–‡ä»¶ï¼Œåˆ¤å®šæ”¶å–çš„æ–‡ä»¶çš„æ¢è¡Œæ˜¯å“ªä¸€ä¸ªï¼Ÿå¯å‚è€ƒ <a href="https://stackoverflow.com/questions/10348292/qstringsplit-and-r-n-and-r-n-convention">QString::split() and â€œ\râ€, â€œ\nâ€ and â€œ\r\nâ€ convention</a></p><br><h3 id="ç³»åˆ—åœ°å€"><a href="#ç³»åˆ—åœ°å€" class="headerlink" title="ç³»åˆ—åœ°å€"></a>ç³»åˆ—åœ°å€</h3><p> <a href="https://github.com/XMuli/QtExamples">QtExamples</a> ã€ExCRLFã€‘ï¼Œæµ‹è¯•ä¾‹å­å’Œæ‰“åŒ…äºŒè¿›åˆ¶è§æ­¤æ–‡ä»¶å¤¹ï¼Œè‡ªè¡ŒæŸ¥çœ‹ä½“éªŒ</p><p>æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”<strong>æ°¸ä¹…å…è´¹</strong>ï¼â€</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºäºŒ ç»éªŒ </category>
          
          <category> å­¦ä¹  - Windows </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Logï¼šæ—¥å¿—ä¹‹ Spdlog æ ¸å¿ƒæ„æˆã€ä¸‰ã€</title>
      <link href="/posts/cdc43b87/"/>
      <url>/posts/cdc43b87/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong> é€šè¿‡<a href="https://xmuli.blog.csdn.net/article/details/123488323">ä¸Šä¸€ç¯‡</a>å·²ç»è®© spdlog è·‘äº†èµ·æ¥ï¼Œç°åœ¨æ¥è®¤è¯†ä¸€ä¸‹è¿™ä¸ªåº“çš„æ ¸å¿ƒç›¸å…³çŸ¥è¯†ã€‚æ­¤æ‘˜æ‹©ä¸€äº›æ ¸å¿ƒç»„æˆçš„çŸ¥è¯†ï¼Œé™ä½æ–°æ‰‹é—¨æ§›ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="å…³è”"><a href="#å…³è”" class="headerlink" title="å…³è”"></a>å…³è”</h3><p>ã€€ã€€é™„å…³è”ç›®å½•ç›´è¾¾ï¼Œéšç€åç»­ä½¿ç”¨ï¼ŒæŒç»­æ›´æ–°</p><ol><li><a href="https://xmuli.blog.csdn.net/article/details/123457938">Logï¼šæ—¥å¿—é€‰å‹è°ƒç ”ã€ä¸€ã€</a></li><li><a href="https://xmuli.blog.csdn.net/article/details/123488323">Logï¼šæ—¥å¿—ä¹‹ Spdlog æç®€ç”¨æ³•ç¤ºèŒƒã€äºŒã€</a></li><li><a href="https://xmuli.blog.csdn.net/article/details/123489094">Logï¼šæ—¥å¿—ä¹‹ Spdlog æ ¸å¿ƒæ„æˆã€ä¸‰ã€</a></li></ol><br><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p>ã€€ã€€spdlog ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šã€Sinks + Loggersã€ã€‚å…¶ä¸­ Loggers  å’Œ Sinks  çš„å¯¹åº”å…³ç³»ï¼Œæ—¢å¯ä»¥â€1å¯¹1â€œï¼Œä¹Ÿå¯ä»¥â€1å¯¹å¤šâ€œã€‚</p><h4 id="Loggers"><a href="#Loggers" class="headerlink" title="Loggers"></a>Loggers</h4><p>ã€€ã€€ä¸€ä¸ª logger å¯ä»¥å¯¹åº”å¤šä¸ª sinkã€‚</p><p><strong>ç‰¹å¾</strong></p><ul><li>æ¯ä¸ª Logger éƒ½åŒ…å«ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„é‡Œæ˜¯ std::shared_ptrï¼Œæ¯æ¬¡è°ƒç”¨ log æ—¶ï¼Œlogger ä¼šåœ¨æ¯ä¸ª sink ä¸Šè°ƒç”¨ sink(log_msg) ã€‚sink åˆ†ä¸ºå¤šçº¿ç¨‹å’Œå•çº¿ç¨‹ç‰ˆæœ¬ï¼Œå•çº¿ç¨‹ç‰ˆæœ¬çš„ sink ä¸å…è®¸åœ¨å¤šçº¿ç¨‹é‡Œè°ƒç”¨</li></ul><br><h4 id="Sinks"><a href="#Sinks" class="headerlink" title="Sinks"></a>Sinks</h4><p>ã€€ã€€sink å¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªæ“ä½œæ–‡ä»¶çš„å¥æŸ„,ä¸€ä¸ª sink å¯¹åº”ä¸€ä¸ªæ–‡ä»¶ã€‚æ—¥å¿—æŒ‰ç­‰çº§åˆ†å‰²ï¼›åˆ›å»ºå¤šä¸ªï¼Œæ¯ä¸ªå¯¹åº”ä¸€ä¸ªç­‰çº§ã€‚<sup><a href="https://github.com/gabime/spdlog/wiki/4.-Sinks">wiki</a></sup></p><p><strong>ç‰¹å¾</strong></p><ul><li>sink æ˜¯å®é™…å†™å…¥æ—¥å¿—çš„å¯¹è±¡ï¼Œæ¯ä¸ª sink åº”è¯¥åªè´Ÿè´£ä¸€ä¸ªæ—¥å¿—è¾“å‡ºåœ°ï¼ˆä¾‹å¦‚æ–‡ä»¶ã€æ§åˆ¶å°ã€æ•°æ®åº“ï¼‰ï¼Œå¹¶ä¸”æ¯ä¸ª Sinks  éƒ½æœ‰è‡ªå·±çš„ formatter å¯¹è±¡çš„ç§æœ‰å®ä¾‹ã€‚</li><li>æ¯ä¸ª logger åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ª <code>std::shared_ptr&lt;sink&gt;</code> çš„å‘é‡ã€‚æ¯æ¬¡è°ƒç”¨ log æ—¶ï¼ˆå¦‚æœæ—¥å¿—çº§åˆ«æ­£ç¡®ï¼‰ï¼Œlogger ä¼šè°ƒç”¨ <code>&quot;sink(log_msg)&quot;</code>æ–¹æ³•</li><li>sink æœ‰ <code>_mt</code> å¤šçº¿ç¨‹ å’Œ <code>_st</code>  å•çº¿ç¨‹ä¹‹åˆ†ï¼›å•çº¿ç¨‹ä¸èƒ½åœ¨å¤šçº¿ç¨‹ä¸­ä½¿ç”¨ã€‚</li></ul><br><h3 id="æ—¥å¿—çº§åˆ«"><a href="#æ—¥å¿—çº§åˆ«" class="headerlink" title="æ—¥å¿—çº§åˆ«"></a>æ—¥å¿—çº§åˆ«</h3><p>ã€€ã€€æ—¥å¿—çº§åˆ« <code>Log Level</code> ç›¸å…³ï¼Œé€šå¸¸åªç”¨åˆ° <code>debug</code>ã€<code>info</code>ã€<code>err</code>  è¿™ä¸‰ä¸ªçº§åˆ«æ¯”è¾ƒå¤šã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">enum</span> <span class="token class-name">level_enum</span><span class="token punctuation">&#123;</span>    trace <span class="token operator">=</span> SPDLOG_LEVEL_TRACE<span class="token punctuation">,</span>         <span class="token comment">// æè¿°äº‹ä»¶çš„æ—¥å¿—çº§åˆ«ï¼Œæ˜¾ç¤ºä»£ç çš„é€æ­¥æ‰§è¡Œï¼Œåœ¨æ ‡å‡†æ“ä½œæœŸé—´å¯ä»¥å¿½ç•¥ã€‚ã€æœ€ä½çº§ã€</span>    debug <span class="token operator">=</span> SPDLOG_LEVEL_DEBUG<span class="token punctuation">,</span>         <span class="token comment">// å½“éœ€è¦æ›´è¯¦ç»†çš„ä¿¡æ¯æ—¶ï¼Œä½¿ç”¨æ­¤è°ƒè¯•ä¿¡æ¯</span>    info <span class="token operator">=</span> SPDLOG_LEVEL_INFO<span class="token punctuation">,</span>           <span class="token comment">// çªå‡ºå¼ºè°ƒåº”ç”¨ç¨‹åºçš„è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œè¾“å‡ºä¸€äº›æç¤ºä¿¡æ¯</span>    warn <span class="token operator">=</span> SPDLOG_LEVEL_WARN<span class="token punctuation">,</span>           <span class="token comment">// åº”ç”¨ç¨‹åºå†…éƒ¨å‘ç”Ÿäº†æ„å¤–è¡Œä¸ºï¼Œä½†å®ƒä»åœ¨ç»§ç»­å·¥ä½œï¼Œå…³é”®ä¸šåŠ¡åŠŸèƒ½æŒ‰é¢„æœŸè¿è¡Œã€‚</span>    err <span class="token operator">=</span> SPDLOG_LEVEL_ERROR<span class="token punctuation">,</span>           <span class="token comment">// ä¸€é¡¹æˆ–å¤šé¡¹åŠŸèƒ½æ— æ³•æ­£å¸¸å·¥ä½œï¼Œå¯¼è‡´æŸäº›åŠŸèƒ½æ— æ³•æ­£å¸¸å·¥ä½œã€‚</span>    critical <span class="token operator">=</span> SPDLOG_LEVEL_CRITICAL<span class="token punctuation">,</span>   <span class="token comment">// ä¸€é¡¹æˆ–å¤šé¡¹å…³é”®ä¸šåŠ¡åŠŸèƒ½ä¸èµ·ä½œç”¨ï¼Œæ•´ä¸ªç³»ç»Ÿæ— æ³•å®ç°ä¸šåŠ¡åŠŸèƒ½ã€‚</span>    off <span class="token operator">=</span> SPDLOG_LEVEL_OFF<span class="token punctuation">,</span>             <span class="token comment">// ç”¨äºå…³é—­æ‰€æœ‰æ—¥å¿—è®°å½•ã€‚ã€æœ€é«˜çº§ã€</span>    n_levels<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><p><strong>ä¸€äº›å»ºè®®ï¼š</strong></p><p>1ã€  <code>err</code> ä¿¡æ¯å¿…é¡»åŒæ—¶æ‰“å°æ—¥å¿—å’Œå †æ ˆä¿¡æ¯ã€‚</p><p>2ã€  çº¿ä¸Šæ—¥å¿—ç»Ÿä¸€è®¾ç½®ä¸º <code>info</code> çº§åˆ«ã€‚</p><p>3ã€  çº¿ä¸Šæ—¥å¿—æŒ‰ç…§å¤©æˆ–è€…å°æ—¶æ‹†åˆ†ã€‚</p><p>4ã€  æ—¥å¿—å­˜æ”¾ç›®å½•é‡‡ç”¨ç›¸å¯¹è·¯å¾„ã€‚</p><p>5ã€  æ—¥å¿—æ‰“å°è¾“å‡ºæ–‡ä»¶çš„å¤§å°ã€‚</p><br><h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><p>   ã€€ã€€æœ¬æ¥å‡†å¤‡ç»§ç»­å†™çš„ï¼Œçªç„¶æœåˆ°å‡ ç¯‡è¿™éƒ¨åˆ†å†™çš„æ¯”è¾ƒå¥½çš„ï¼›å°±ä¸æ¬è¿äº†å’Œé‡å¤å†™è½®å­äº†ï¼Œè‡ªè¡Œå‚è€ƒã€‚è¿™é‡Œå°±åˆ—ä¸¾ä¸€ç‚¹éœ€è¦æ³¨æ„çš„åœ°æ–¹ã€‚<strong>åé¢å®é™…ä½¿ç”¨ä¸­ï¼Œä½¿ç”¨æ¯”è¾ƒæ·±å…¥æ—¶å€™ï¼Œå†æ¥ç»­å†™å…¶ä»–äººæ²¡æœ‰æ¶‰åŠçš„éƒ¨åˆ†ã€‚</strong></p><br><ul><li><a href="http://www.manongjc.com/detail/25-prunqgufocxbyji.html">spdlogç®€ä»‹</a> ã€èã€</li><li><a href="https://blog.csdn.net/bandaoyu/article/details/110730431">ã€C++ã€‘spdlogâ€“log4cxxæœ‰ç‚¹ç¬¨é‡ï¼Œè¯•ä¸€è¯•spdlog</a> ã€èã€</li><li><a href="https://blog.csdn.net/irving512/article/details/118472146">C++ æ—¥å¿—å·¥å…· spdlog ç®€å•å®ç”¨</a></li><li><a href="https://www.404bugs.com/index.php/details/911687741972729856">Cpp(åäºŒ) logæ—¥å¿—åŸºæœ¬ä½¿ç”¨spdlog</a></li></ul><br><ol><li><p><strong>é‡åˆ°æ—¥å¿—æ²¡æœ‰è¾“å‡ºæˆ–è€…æ˜¾ç¤ºå‡ºæ¥ï¼Ÿ</strong></p><p>   å›  spdlog è€ƒè™‘åˆ°æ•ˆç‡ï¼Œå†…å®¹éƒ½åœ¨ç¼“å†²åŒºä¸­ï¼Œå¯é€šè¿‡è®¾ç½®ç¡®ä¿æœ‰è¾“å‡ºå†…å®¹ã€‚æ§åˆ¶å°çœ‹ä¸åˆ°å†…å®¹åŒç†ã€‚</p>   <pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">logger<span class="token operator">-></span><span class="token function">flush_on</span><span class="token punctuation">(</span>spdlog<span class="token double-colon punctuation">::</span>level<span class="token double-colon punctuation">::</span>warn<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// é‡åˆ° warn çº§åˆ«ï¼Œå°±ç«‹å³ flush åˆ°æ–‡ä»¶ </span>spdlog<span class="token double-colon punctuation">::</span><span class="token function">flush_every</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>chrono<span class="token double-colon punctuation">::</span><span class="token function">seconds</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// æ¯ 10 ç§’åˆ·æ–°ä¸€æ¬¡</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p><strong>æ›´æ”¹è¾“å‡ºæ—¥å¿—æ ¼å¼ï¼Ÿ</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token function">set_pattern</span><span class="token punctuation">(</span>pattern_string<span class="token punctuation">)</span>å®ç° formatter çš„æ¥å£ï¼Œç„¶åè°ƒç”¨ <span class="token function">set_formatter</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span><span class="token function">make_unique</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p><strong>å¯¹äºæ ¼å¼ flag æ ‡è¯†ï¼Ÿ</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">spdlog<span class="token double-colon punctuation">::</span><span class="token function">set_pattern</span><span class="token punctuation">(</span><span class="token string">"*** [%H:%M:%S %z] [thread %t] %v ***"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¯¹äº ç±»ä¼¼ <code>%t</code> ã€<code>%v</code> çš„è¿™äº›å‚æ•°ï¼Œå¯ä»¥åœ¨è¿™å„¿æŸ¥çœ‹ <a href="https://github.com/gabime/spdlog/wiki/3.-Custom-formatting">wiki</a></p></li></ol><br><h3 id="ç³»åˆ—åœ°å€"><a href="#ç³»åˆ—åœ°å€" class="headerlink" title="ç³»åˆ—åœ°å€"></a>ç³»åˆ—åœ°å€</h3><p> <a href="https://github.com/XMuli/QtExamples">QtExamples</a> </p><p>æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”<strong>æ°¸ä¹…å…è´¹</strong>ï¼â€</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºäºŒ ç»éªŒ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spdlog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Logï¼šæ—¥å¿—ä¹‹ Spdlog æç®€ç”¨æ³•ç¤ºèŒƒã€äºŒã€</title>
      <link href="/posts/8063f88c/"/>
      <url>/posts/8063f88c/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong> æœ‰<a href="https://xmuli.blog.csdn.net/article/details/123457938">ä¸Šä¸€ç¯‡</a>ä¸­é€šè¿‡æ—¥å¿—è°ƒç ”é€‰å‹ï¼Œå†³å®šé‡‡ç”¨ <a href="https://github.com/gabime/spdlog">Spdlog</a>  åï¼Œæ­¤ç¯‡å¼€å§‹ä»‹ç»ä¸€äº›åŸºç¡€å…¥é—¨ï¼Œå…ˆè®©ä»£ç èƒ½å¤Ÿè·‘èµ·æ¥ï¼Œæ”¾ä¸Šç”¨æ³•ç¤ºèŒƒï¼Œå†å»ç ”ç©¶ç»†èŠ‚ç”¨æ³•ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="å…³è”"><a href="#å…³è”" class="headerlink" title="å…³è”"></a>å…³è”</h3><p>ã€€ã€€é™„å…³è”ç›®å½•ç›´è¾¾ï¼Œéšç€åç»­ä½¿ç”¨ï¼ŒæŒç»­æ›´æ–°</p><ol><li><a href="https://xmuli.blog.csdn.net/article/details/123457938">Logï¼šæ—¥å¿—é€‰å‹è°ƒç ”ã€ä¸€ã€</a></li><li><a href="https://xmuli.blog.csdn.net/article/details/123488323">Logï¼šæ—¥å¿—ä¹‹ Spdlog æç®€ç”¨æ³•ç¤ºèŒƒã€äºŒã€</a></li><li><a href="https://xmuli.blog.csdn.net/article/details/123489094">Logï¼šæ—¥å¿—ä¹‹ Spdlog æ ¸å¿ƒæ„æˆã€ä¸‰ã€</a></li></ol><br><h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>ã€€ã€€å…ˆç®€å•çœ‹ä¸‹ spdlog çš„å®˜æ–¹ä»‹ç»ï¼š</p><p>Very fast, header-only&#x2F;compiled, C++ logging libraryã€‚</p><br><p><strong>æˆ‘ä½¿ç”¨å®ƒçš„ç†ç”±ï¼š</strong></p><ul><li><p><input checked="" disabled="" type="checkbox"> GitHub é«˜è¾¾ 14K â­</p></li><li><p><input checked="" disabled="" type="checkbox"> ç¨³å®šè‡³ä»Šçš„ç»´æŠ¤ä¸”æ›´æ–°</p></li><li><p><input checked="" disabled="" type="checkbox"> è·¨å¹³å°æ”¯æŒï¼ˆLinux &#x2F; Windows  &#x2F; MacOS &#x2F; Android &#x2F; ç­‰ ï¼‰</p></li><li><p><input checked="" disabled="" type="checkbox"> é‡‡ç”¨ç°ä»£çš„ C++ 11 è¯­æ³•ï¼Œç®€å•æ˜“ç”¨ï¼›åªéœ€åŒ…å«å…¶å¤´æ–‡ä»¶å³å¯</p></li><li><p><input checked="" disabled="" type="checkbox"> å®½æ¾çš„ MIT è®¸å¯è¯ï¼Œå°±è¿å…¶ä¾èµ–çš„ fmt lib åº“äº¦æ˜¯é‡‡ç”¨ MIT è®¸å¯è¯ï¼›</p></li><li><p><input checked="" disabled="" type="checkbox"> å®Œæ•´çš„ <a href="https://github.com/gabime/spdlog/wiki/1.-QuickStart">wiki</a> ç”¨æ³•æ–‡æ¡£</p></li><li><p><input checked="" disabled="" type="checkbox"> æ”¯æŒå¤šç§æ—¥å¿—ï¼šæ»šåŠ¨æ–‡æœ¬ã€å¤šæ–‡æœ¬ã€å¸¦é¢œè‰²çš„ç»ˆç«¯è¾“å‡º</p></li><li><p><input checked="" disabled="" type="checkbox"> ä½¿ç”¨ç®€å•ï¼Œä¸”æ€§èƒ½é«˜ï¼›å¯åœ¨è¿è¡Œã€ç¼–è¯‘æ—¶åˆ»ä¿®æ”¹æ—¥å¿—ç­‰çº§</p></li></ul><br><h3 id="ç”¨æ³•ç¤ºèŒƒ"><a href="#ç”¨æ³•ç¤ºèŒƒ" class="headerlink" title="ç”¨æ³•ç¤ºèŒƒ"></a>ç”¨æ³•ç¤ºèŒƒ</h3><p>ã€€ã€€æ¼”ç¤ºä¸€ä¸‹åœ¨ CMake ä½¿ç”¨ spdlog  ï¼Œ<strong>ä¸ªäººçš„ä»…åŒ…å«å¤´æ–‡ä»¶ç”¨æ³•</strong> ï¼Œåˆ†åˆ«é»˜è®¤è¾“å‡ºåˆ°åœ¨ç»ˆç«¯å’Œæ–‡æœ¬æ–‡ä»¶çš„ç”¨æ³•ã€‚æ­¤æ–¹å¼ä¸éœ€è¦ç¼–è¯‘å®‰è£… spdlog   åˆ°æœ¬æœºã€‚</p><p>ã€€ã€€å…ˆæ–°å»ºä¸€ä¸ª Qt GUI çš„ CMake é¡¹ç›®ï¼Œä½¿ç”¨ MSVC å¥—ä»¶ç¼–è¯‘è¿è¡Œæ˜¾ç¤ºä¸€ä¸ªçª—å£ï¼Œå‡†å¤‡å·¥ä½œåšå¥½äº† <sup><a href="https://github.com/XMuli/QtExamples/commit/8914ebf03d1998e0297c0cae5a26b0bf31ecf28d">è§æäº¤ #8914eb</a></sup>ã€‚</p><br><h4 id="spdlog-è¾“å‡ºåˆ°ç»ˆç«¯"><a href="#spdlog-è¾“å‡ºåˆ°ç»ˆç«¯" class="headerlink" title="spdlog  è¾“å‡ºåˆ°ç»ˆç«¯"></a>spdlog  è¾“å‡ºåˆ°ç»ˆç«¯</h4><p>åœ¨ <code>ExPicShot</code> æ ¹ç›®ä¸‹æ‰§è¡Œä¸‹è½½ spdlog  åº“</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> submodule <span class="token function">add</span> https://github.com/gabime/spdlog.git ./3rdparty/spdlog<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åœ¨ <code>CMakeLists.txt</code> ä¸­æ·»åŠ ä¸€è¡Œ</p><pre class="line-numbers language-cmake" data-language="cmake"><code class="language-cmake"><span class="token keyword">include_directories</span><span class="token punctuation">(</span>3rdparty/spdlog/include<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å†åœ¨ <code>main.cpp</code>  æ·»åŠ æµ‹è¯•ä»£ç </p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"widget.h"</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QApplication></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"spdlog/spdlog.h"</span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        QApplication <span class="token function">a</span><span class="token punctuation">(</span>argc<span class="token punctuation">,</span> argv<span class="token punctuation">)</span><span class="token punctuation">;</span>    spdlog<span class="token double-colon punctuation">::</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"Welcome to spdlog!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    spdlog<span class="token double-colon punctuation">::</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Some error message with arg: &#123;&#125;"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    spdlog<span class="token double-colon punctuation">::</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"Easy padding in numbers like &#123;:08d&#125;"</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    spdlog<span class="token double-colon punctuation">::</span><span class="token function">critical</span><span class="token punctuation">(</span><span class="token string">"Support for int: &#123;0:d&#125;;  hex: &#123;0:x&#125;;  oct: &#123;0:o&#125;; bin: &#123;0:b&#125;"</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    spdlog<span class="token double-colon punctuation">::</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"Support for floats &#123;:03.2f&#125;"</span><span class="token punctuation">,</span> <span class="token number">1.23456</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    spdlog<span class="token double-colon punctuation">::</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"Positional args are &#123;1&#125; &#123;0&#125;.."</span><span class="token punctuation">,</span> <span class="token string">"too"</span><span class="token punctuation">,</span> <span class="token string">"supported"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    spdlog<span class="token double-colon punctuation">::</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"&#123;:&lt;30&#125;"</span><span class="token punctuation">,</span> <span class="token string">"left aligned"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    Widget w<span class="token punctuation">;</span>    w<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> a<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œï¼Œå³å¯çœ‹åˆ°ä½¿ç”¨é»˜è®¤çš„å½©è‰²æ ¼å¼ï¼Œé»˜è®¤è¾“å‡ºåˆ°æ§åˆ¶å°ä¸­  <sup><a href="https://github.com/XMuli/QtExamples/commit/6542643310ca7e9f9330219c0acacf64eb2e0a2c">è§æäº¤#654264331</a></sup>ã€‚ã€‚</p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/111.png" width="60%"/ loading="lazy"><br><h4 id="spdlog-è¾“å‡ºåˆ°æ–‡ä»¶"><a href="#spdlog-è¾“å‡ºåˆ°æ–‡ä»¶" class="headerlink" title="spdlog  è¾“å‡ºåˆ°æ–‡ä»¶"></a>spdlog  è¾“å‡ºåˆ°æ–‡ä»¶</h4><p>è‹¥æ˜¯æ›´æ”¹ä¸ºå†™å…¥ .txt ä¸­ï¼Œå¯æ”¹å†™ä¸º</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"widget.h"</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QApplication></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"spdlog/spdlog.h"</span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        QApplication <span class="token function">a</span><span class="token punctuation">(</span>argc<span class="token punctuation">,</span> argv<span class="token punctuation">)</span><span class="token punctuation">;</span>    spdlog<span class="token double-colon punctuation">::</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"Welcome to spdlog!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    spdlog<span class="token double-colon punctuation">::</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Some error message with arg: &#123;&#125;"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    spdlog<span class="token double-colon punctuation">::</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"Easy padding in numbers like &#123;:08d&#125;"</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    spdlog<span class="token double-colon punctuation">::</span><span class="token function">critical</span><span class="token punctuation">(</span><span class="token string">"Support for int: &#123;0:d&#125;;  hex: &#123;0:x&#125;;  oct: &#123;0:o&#125;; bin: &#123;0:b&#125;"</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    spdlog<span class="token double-colon punctuation">::</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"Support for floats &#123;:03.2f&#125;"</span><span class="token punctuation">,</span> <span class="token number">1.23456</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    spdlog<span class="token double-colon punctuation">::</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"Positional args are &#123;1&#125; &#123;0&#125;.."</span><span class="token punctuation">,</span> <span class="token string">"too"</span><span class="token punctuation">,</span> <span class="token string">"supported"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    spdlog<span class="token double-colon punctuation">::</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"&#123;:&lt;30&#125;"</span><span class="token punctuation">,</span> <span class="token string">"left aligned"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    Widget w<span class="token punctuation">;</span>    w<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> a<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œåæ˜¾ç¤º <sup><a href="https://github.com/XMuli/QtExamples/commit/3e203c345cb5bfdae2855a6459a2d80f9c727bfe">è§æäº¤ #3e203c345cb5</a></sup>ã€‚</p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/20220314203615.png" width="70%"/ loading="lazy"><br><hr><h3 id="å…¶å®ƒç”¨æ³•"><a href="#å…¶å®ƒç”¨æ³•" class="headerlink" title="å…¶å®ƒç”¨æ³•"></a>å…¶å®ƒç”¨æ³•</h3><p>ã€€ã€€åœ¨ <a href="https://github.com/gabime/spdlog">å®˜ç½‘æ–‡æ¡£</a> è¯´çš„å¾ˆæ¸…æ¥š é“¾æ¥äºŒè¿›åˆ¶ æ–¹å¼å’ŒåŒ…å«å¤´æ–‡ä»¶è·¯å¾„æ–¹å¼å¦‚ä¸‹ï¼›<strong>ç•¥éº»çƒ¦æ˜¯éœ€è¦å¯¹ spdlog é¡¹ç›®è¿›è¡Œç¼–è¯‘å®‰è£…ä½œä¸ºå‰æã€‚</strong> è¿˜æ˜¯çœ‹ä¸ªäººå®é™…ä½¿ç”¨å»éœ€æ±‚ã€‚</p><pre class="line-numbers language-cmake" data-language="cmake"><code class="language-cmake"><span class="token comment"># Copyright(c) 2019 spdlog authors Distributed under the MIT License (http://opensource.org/licenses/MIT)</span><span class="token keyword">cmake_minimum_required</span><span class="token punctuation">(</span><span class="token property">VERSION</span> <span class="token number">3.10</span><span class="token punctuation">)</span><span class="token keyword">project</span><span class="token punctuation">(</span>spdlog_examples CXX<span class="token punctuation">)</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">NOT</span> TARGET spdlog<span class="token punctuation">)</span>    <span class="token comment"># Stand-alone build</span>    <span class="token keyword">find_package</span><span class="token punctuation">(</span>spdlog REQUIRED<span class="token punctuation">)</span><span class="token keyword">endif</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># ---------------------------------------------------------------------------------------</span><span class="token comment"># Example of using pre-compiled library</span><span class="token comment"># ---------------------------------------------------------------------------------------</span><span class="token keyword">add_executable</span><span class="token punctuation">(</span>example example.cpp<span class="token punctuation">)</span><span class="token keyword">target_link_libraries</span><span class="token punctuation">(</span>example <span class="token namespace">PRIVATE</span> <span class="token inserted class-name">spdlog::spdlog</span><span class="token punctuation">)</span><span class="token comment"># ---------------------------------------------------------------------------------------</span><span class="token comment"># Example of using header-only library</span><span class="token comment"># ---------------------------------------------------------------------------------------</span><span class="token keyword">if</span><span class="token punctuation">(</span>SPDLOG_BUILD_EXAMPLE_HO<span class="token punctuation">)</span>    <span class="token keyword">add_executable</span><span class="token punctuation">(</span>example_header_only example.cpp<span class="token punctuation">)</span>    <span class="token keyword">target_link_libraries</span><span class="token punctuation">(</span>example_header_only <span class="token namespace">PRIVATE</span> <span class="token inserted class-name">spdlog::spdlog_header_only</span><span class="token punctuation">)</span><span class="token keyword">endif</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="æˆç³»åˆ—åœ°å€"><a href="#æˆç³»åˆ—åœ°å€" class="headerlink" title="æˆç³»åˆ—åœ°å€"></a>æˆç³»åˆ—åœ°å€</h3><p> <a href="https://github.com/XMuli/QtExamples">QtExamples</a> </p><p>æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”<strong>æ°¸ä¹…å…è´¹</strong>ï¼â€</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºäºŒ ç»éªŒ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spdlog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Logï¼šæ—¥å¿—é€‰å‹è°ƒç ”ã€ä¸€ã€</title>
      <link href="/posts/6c8be188/"/>
      <url>/posts/6c8be188/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong> å‡†å¤‡åœ¨ä¸ªäººçš„é¡¹ç›®ä¸­æ·»åŠ  Log æ—¥å¿—æ¨¡å—ï¼Œä¾¿äºé¡¹ç›®æ—¥åå®šä½å’Œè°ƒè¯•ã€‚å› å‰é¢æ•°æœˆï¼Œæœ‰æ„Ÿå—åˆ°äº†æ—¥å¿—çš„å¨åŠ›ï¼Œæ•…å†³å®šè°ƒç ”åé€‰å–ä¸€ä¸ªåˆé€‚çš„æ—¥å¿—æ¨¡å—  <a href="https://github.com/gabime/spdlog">spdlog</a>  ã€‚æœ€åæ„å¤–çš„æƒŠå–œå‘ç°ï¼Œæ£€ç´¢éœ€è¦ä¸€ç‚¹æŠ€å·§ï¼Œå¯é‡æ‘å¤–æœ‰æ‘ï¼Œå¥½é£å‡­å€ŸåŠ›ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="å…³è”"><a href="#å…³è”" class="headerlink" title="å…³è”"></a>å…³è”</h3><p>ã€€ã€€é™„å…³è”ç›®å½•ç›´è¾¾ï¼Œéšç€åç»­ä½¿ç”¨ï¼ŒæŒç»­æ›´æ–°</p><ol><li><a href="https://xmuli.blog.csdn.net/article/details/123457938">Logï¼šæ—¥å¿—é€‰å‹è°ƒç ”ã€ä¸€ã€</a></li><li><a href="https://xmuli.blog.csdn.net/article/details/123488323">Logï¼šæ—¥å¿—ä¹‹ Spdlog æç®€ç”¨æ³•ç¤ºèŒƒã€äºŒã€</a></li><li><a href="https://xmuli.blog.csdn.net/article/details/123489094">Logï¼šæ—¥å¿—ä¹‹ Spdlog æ ¸å¿ƒæ„æˆã€ä¸‰ã€</a></li></ol><br><h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>ã€€ã€€æ­¤å‰çš„å·¥ä½œä¸»è¦å·¥ä½œï¼Œä¸»è¦ä¸ºå¼€å‘ Deepin å’Œ WPS çš„ UI æ ·å¼å¼€å‘ï¼Œå§‘å½’ç±»ä¸ºå®¢æˆ·ç«¯å¼€å‘ï¼Œä¸»è¦ä½¿ç”¨è°ƒè¯•æ–¹æ³•å¦‚ä¸‹ï¼Œå¯¹äºå½“æ—¶åŸºæœ¬å¤Ÿç”¨</p><ol><li><code>qDebug()</code> ç»ˆç«¯æ‰“å°è°ƒè¯•</li><li><code>MessageBox</code> å¼¹å‡ºæ¶ˆæ¯æ¡†æ˜¾ç¤ºè°ƒè¯•</li><li><code>Visual Studio</code> &#x2F; <code>Qt Creator</code> ä¸­æºç è°ƒè¯•ï¼Œç›´æ¥æŸ¥çœ‹å½“å‰å˜é‡æ•°å€¼æ˜¾ç¤º</li></ol><br><p>ã€€ã€€ä»Šå¹´ä¸»è¦ä½¿ç”¨ C++ çš„è¿›è¡Œéåº”ç”¨ç•Œé¢å¼€å‘ï¼Œè¿ç”¨å’Œè§è¯†è¿‡äº† Log æ—¥å¿—æ¨¡å—çš„å¨åŠ›ï¼Œç®€ç›´å°±æ˜¯ <strong>â€œå¤§é“è‡³ç®€ï¼Œæœ´å®æ— åï¼Œç”šæ˜¯æœ‰ç”¨â€</strong> ã€‚ä¸”å‡†å¤‡å°†å…¶å¼•å…¥è‡ªå·±çš„é¡¹ç›®ã€‚å› ä¸€æ—¦é€‰å®šå…·ä½“çš„åº“ä½œä¸ºï¼Œåé¢å°±ä¸å‡†å¤‡æ›´æ”¹äº†ï¼Œæ…é‡è°ƒç ”ä¸€ç•ªï¼Œåšå¥½é€‰å‹ï¼Œäº¦ç»™åæ¥è€…å‚è€ƒ</p><br><h3 id="æ—¥å¿—åº“è°ƒç ”"><a href="#æ—¥å¿—åº“è°ƒç ”" class="headerlink" title="æ—¥å¿—åº“è°ƒç ”"></a>æ—¥å¿—åº“è°ƒç ”</h3><p>ã€€ã€€æˆ‘çš„éœ€æ±‚ï¼Œèƒ½å¤Ÿéƒ½æ»¡è¶³æœ€ä½³ï¼š</p><ul><li><input checked="" disabled="" type="checkbox"> èƒ½å¤Ÿæ”¯æŒè·¨å¹³å°ï¼ˆWin &#x2F; Mac &#x2F; Linuxï¼‰</li><li><input checked="" disabled="" type="checkbox"> å¯æ»šåŠ¨æ—¥å¿—ï¼Œä¿å­˜å¤šä»½æ—¥å¿—ï¼Œå¯è‡ªå®šä¹‰æ—¥å¿—çº§åˆ«</li><li><input checked="" disabled="" type="checkbox"> è¯»å†™å¿«é€Ÿï¼Œæ€§èƒ½è¾ƒå¥½å³å¯</li><li><input checked="" disabled="" type="checkbox"> æœ€å¥½æ˜¯çŸ¥åã€æ˜“ç”¨ã€ä¸”æœ‰äººç»´æŠ¤çš„å¼€æºåº“</li><li><input checked="" disabled="" type="checkbox"> è®¸å¯è¯æ¯”è¾ƒå®½æ¾</li></ul><br><p>ã€€ã€€éœ€æ±‚å·²ç»æ˜ç¡®ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œåˆå¦‚ä½•å»å¯»æ‰¾è‡ªå·±æ‰€éœ€å‘¢ï¼Ÿä¸–ç•Œé‚£ä¹ˆå¤§ï¼Œèµ„æºé‚£ä¹ˆå¤šï¼Œå¦‚ä½•å¿«é€ŸğŸ”è‡ªå·±æ‰€éœ€çš„æœ‰æ•ˆä¿¡æ¯ï¼Ÿ</p><p>â‘  Google æœç´¢æ¡†è¾“å…¥ç¬¬ä¸€ååº”å…³é”®è¯ï¼›â‘¡ GitHub è¾“å…¥å…³é”®è¯ï¼›â‘¢ Google + GitHub å¯»æ‰¾ç°æœ‰çš„æ¡†æ¶æ¦œå•ï¼Œç²¾é€‰é›†å’Œï¼Œå­¦ä¼šå€ŸåŠ›ã€‚</p><br><h4 id="Google-å…³é”®è¯"><a href="#Google-å…³é”®è¯" class="headerlink" title="Google å…³é”®è¯"></a>Google å…³é”®è¯</h4><p>ã€€ã€€ç¬¬ä¸€ååº”ï¼Œåœ¨ Google æœç´¢æ¡†ä¸­ï¼Œè¾“å…¥â€C++ Log æ¨èâ€ åå›è½¦ï¼Œçœ‹ä»–äººæ–‡ç« æ¨èåï¼Œé€ä¸ªäº†è§£å’Œå…¶åº“çš„ç°æœ‰çŠ¶æ€å»æ ¸å¯¹ã€‚ä¼šé‡åˆ°ï¼Œæ•°å¹´å‰æ–‡ç« ï¼Œæ—¶æ•ˆæ€§å¯èƒ½å·²æœ‰è¾ƒå¤§å˜åŒ–ã€‚ <strong>äº‹åæ€»ç»“ï¼š</strong> æ­¤ç±»æ–‡ç« å¿«é€Ÿæµè§ˆæ‰«æä¸€éå³å¯ï¼Œè·å–ä¿¡æ¯è€—æ—¶æ¯”è¾ƒé«˜ã€‚</p><br><h5 id="è¡¨æ ¼æ€»ç»“"><a href="#è¡¨æ ¼æ€»ç»“" class="headerlink" title="è¡¨æ ¼æ€»ç»“"></a>è¡¨æ ¼æ€»ç»“</h5><table><thead><tr><th>Log åº“</th><th>Star</th><th>License</th><th>Last  Commit (æˆªè‡³ 2022.03.10)</th><th>é‡‡çº³æ ‡è®°</th></tr></thead><tbody><tr><td><a href="https://github.com/apache/logging-log4cxx">log4cxx</a></td><td>163</td><td>Apache-2.0</td><td>5 å¤©å‰</td><td></td></tr><tr><td><a href="http://log4c.sourceforge.net/">log4c</a></td><td></td><td>LGPL</td><td>2016.01.20</td><td>âœ˜</td></tr><tr><td><a href="https://github.com/HardySimpson/zlog">z-log </a></td><td>1.6k</td><td>LGPL2.1</td><td>2021.12.28</td><td></td></tr><tr><td><a href="https://github.com/0xmalloc/c-log">c-log</a></td><td>226</td><td>Apache 2.0</td><td></td><td></td></tr><tr><td><a href="https://github.com/syslog-ng/syslog-ng">syslog-ng</a></td><td>1.6k</td><td>GPL + LGPL</td><td>æ˜¨å¤©</td><td></td></tr><tr><td><a href="https://github.com/synesissoftware/Pantheios">Pantheios</a></td><td>35</td><td></td><td>2020.07.05</td><td>âœ˜</td></tr><tr><td><a href="https://github.com/MEONMedical/Log4Qt">Log4Qt</a></td><td>388</td><td>Apache-2.0</td><td>2022.01.09</td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr><tr><td><a href="https://github.com/3Hren/blackhole">blackhole</a></td><td>184</td><td>MIT</td><td>2018.12.12</td><td>âœ˜</td></tr><tr><td><a href="https://github.com/boostorg/log">Boost.Log v2</a></td><td>142</td><td><a href="https://www.boost.org/LICENSE_1_0.txt">LICENSE</a></td><td>11 å¤©å‰</td><td></td></tr><tr><td><a href="https://github.com/amrayn/easyloggingpp">easyloggingpp</a></td><td>3.1K</td><td>MIT</td><td>2021.02.03</td><td></td></tr><tr><td><a href="https://github.com/MengRao/fmtlog">fmtlog</a></td><td>291</td><td>MIT</td><td>19 å¤©å‰</td><td></td></tr><tr><td><a href="https://github.com/KjellKod/g3log">g3log</a></td><td>735</td><td>The Unlicense</td><td>æ˜¨å¤©</td><td></td></tr><tr><td><a href="https://github.com/google/glog">google glog</a></td><td>5.1k</td><td><a href="https://github.com/google/glog/blob/master/COPYING">COPYING</a></td><td>2 å¤©å‰</td><td></td></tr><tr><td><a href="http://log4cpp.sourceforge.net/">log4cpp</a></td><td></td><td>LGPL</td><td>2017.04.18</td><td>âœ˜</td></tr><tr><td><a href="https://github.com/log4cplus/log4cplus">log4cplus</a></td><td>1.3k</td><td>Log4cplus license</td><td>2021.12.30</td><td>âœ˜</td></tr><tr><td><a href="https://github.com/emilk/loguru">loguru</a></td><td>1.3k</td><td>public domain</td><td>17 å¤©å‰</td><td></td></tr><tr><td><a href="https://github.com/SergiusTheBest/plog">plog</a></td><td>1.3k</td><td>MPL2.0</td><td>2022.02.07</td><td></td></tr><tr><td><a href="https://github.com/mattiasflodin/reckless">reckless</a></td><td>412</td><td><a href="https://github.com/mattiasflodin/reckless/blob/master/LICENSE.txt">LICENSE</a></td><td>2021.04.10</td><td>âœ˜</td></tr><tr><td><a href="https://github.com/gabime/spdlog">spdlog</a></td><td>14k</td><td>MIT</td><td>4 å¤©å‰</td><td>âœ”</td></tr><tr><td><a href="http://www.templog.org/"><em>templog</em> </a></td><td></td><td><a href="https://www.boost.org/LICENSE_1_0.txt">boost 1.0</a></td><td>2013.04.24</td><td>âœ˜</td></tr><tr><td><a href="https://github.com/odygrd/quill">quill</a></td><td>573</td><td>MIT</td><td>2021.08.31</td><td></td></tr></tbody></table><br><h5 id="log4cxx"><a href="#log4cxx" class="headerlink" title="log4cxx"></a>log4cxx</h5><p><a href="https://github.com/apache/logging-log4cxx">https://github.com/apache/logging-log4cxx</a></p><p>Log4cxx æ˜¯å¼€æ”¾æºä»£ç é¡¹ç›® Apache Logging Service çš„å­é¡¹ç›®ä¹‹ä¸€ï¼Œæ˜¯ Java ç¤¾åŒºè‘—åçš„ log4j çš„ c++ ç§»æ¤ç‰ˆï¼Œç”¨äºä¸º C++ ç¨‹åºæä¾›æ—¥å¿—åŠŸèƒ½ï¼Œä»¥ä¾¿å¼€å‘è€…å¯¹ç›®æ ‡ç¨‹åºè¿›è¡Œè°ƒè¯•å’Œå®¡è®¡ã€‚ </p><br><h5 id="Log4cpp"><a href="#Log4cpp" class="headerlink" title="Log4cpp"></a>Log4cpp</h5><p><a href="http://log4cpp.sourceforge.net/">http://log4cpp.sourceforge.net</a></p><p>Log4cpp æ˜¯ç”¨äºçµæ´»è®°å½•æ–‡ä»¶ã€ç³»ç»Ÿæ—¥å¿—ã€IDSA å’Œå…¶ä»–ç›®æ ‡çš„ C++ ç±»åº“ã€‚å®ƒä»¥<a href="http://jakarta.apache.org/log4j">Log4j</a> Java åº“ä¸ºæ¨¡å‹ï¼Œå°½å¯èƒ½æ¥è¿‘å…¶ APIã€‚</p><br><h5 id="log4c"><a href="#log4c" class="headerlink" title="log4c"></a>log4c</h5><p><a href="http://log4c.sourceforge.net/">http://log4c.sourceforge.net</a></p><p> log4c ç°å·²ä¸å†æœ‰äººç»´æŠ¤äº†ã€‚ä¸æ˜¯é¢å‘å¯¹è±¡çš„ï¼Œä¸æ”¯æŒæµå¼logè¾“å…¥ã€‚æœ‰é…ç½®æ–‡ä»¶ã€‚æœ€æ–°ç‰ˆæœ¬ï¼ˆlog4c-1.2.4.tar.gzï¼‰å­˜åœ¨å†…å­˜æ³„éœ²ã€‚ä¸å»ºè®®ä½¿ç”¨</p><br><h5 id="log4cplus"><a href="#log4cplus" class="headerlink" title="log4cplus"></a>log4cplus</h5><p><a href="https://github.com/log4cplus/log4cplus">https://github.com/log4cplus/log4cplus</a></p><p>log4cplus æ˜¯ C++ ç¼–å†™çš„å¼€æºçš„æ—¥å¿—ç³»ç»Ÿï¼Œå‰èº«æ˜¯ java ç¼–å†™çš„ log4j ç³»ç»Ÿï¼Œå— Apache Software License ä¿æŠ¤ã€‚ </p><p>ä½œè€…æ˜¯Tad E. Smithã€‚log4cpluså…·æœ‰çº¿ç¨‹å®‰å…¨ã€çµæ´»ã€ä»¥åŠå¤šç²’åº¦æ§åˆ¶çš„ç‰¹ç‚¹ï¼Œé€šè¿‡å°†ä¿¡æ¯åˆ’åˆ†ä¼˜å…ˆçº§ä½¿å…¶å¯ä»¥é¢å‘ç¨‹åºè°ƒè¯•ã€è¿è¡Œã€æµ‹è¯•ã€å’Œç»´æŠ¤ç­‰å…¨ç”Ÿå‘½å‘¨æœŸï¼› ä½ å¯ä»¥é€‰æ‹©å°†ä¿¡æ¯è¾“å‡ºåˆ°å±å¹•ã€æ–‡ä»¶ã€ NT event logã€ç”šè‡³æ˜¯è¿œç¨‹æœåŠ¡å™¨ï¼›é€šè¿‡æŒ‡å®šç­–ç•¥å¯¹æ—¥å¿—è¿›è¡Œå®šæœŸå¤‡ä»½ç­‰ç­‰ã€‚ </p><p>è¡¥å……ï¼šlog4cplus é»˜è®¤ 8 å­—èŠ‚å¯¹é½ç»“æ„ï¼Œå…¶ä»–å¯¹é½ç»“æ„ä¼šå†…å­˜æ³„æ¼</p><br><h5 id="google-glog"><a href="#google-glog" class="headerlink" title="google glog"></a>google glog</h5><p><a href="https://github.com/google/glog">https://github.com/google/glog</a></p><p>Google Logging (glog) æ˜¯ä¸€ä¸ªå®ç°åº”ç”¨ç¨‹åºçº§æ—¥å¿—è®°å½•çš„ C++98 åº“ã€‚è¯¥åº“æä¾›åŸºäº C++ é£æ ¼çš„æµå’Œå„ç§å¸®åŠ©å®çš„æ—¥å¿—è®°å½• APIï¼Œç¼–ç¨‹ä½¿ç”¨æ–¹å¼ä¸ c++ çš„ stream æ“ä½œç±»ä¼¼ï¼Œä¾‹ï¼š</p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">LOG(INFO) &lt;&lt; &quot;Found &quot; &lt;&lt; num_cookies &lt;&lt; &quot; cookies&quot;;  &#x2F;&#x2F; LOGâ€å®ä¸ºæ—¥å¿—è¾“å‡ºå…³é”®å­—ï¼Œâ€œINFOâ€ä¸ºä¸¥é‡æ€§ç¨‹åº¦ã€‚ ä¸»è¦æ”¯æŒåŠŸèƒ½ï¼š <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p> 1ï¼Œ å‚æ•°è®¾ç½®ï¼Œä»¥å‘½ä»¤è¡Œå‚æ•°çš„æ–¹å¼è®¾ç½®æ ‡å¿—å‚æ•°æ¥æ§åˆ¶æ—¥å¿—è®°å½•è¡Œä¸ºï¼› 2ï¼Œ ä¸¥é‡æ€§åˆ†çº§ï¼Œæ ¹æ®æ—¥å¿—ä¸¥é‡æ€§åˆ†çº§è®°å½•æ—¥å¿—ï¼› 3ï¼Œ å¯æœ‰æ¡ä»¶åœ°è®°å½•æ—¥å¿—ä¿¡æ¯ï¼› 4ï¼Œ æ¡ä»¶ä¸­æ­¢ç¨‹åºã€‚ä¸°å¯Œçš„æ¡ä»¶åˆ¤å®šå®ï¼Œå¯é¢„è®¾ç¨‹åºç»ˆæ­¢æ¡ä»¶ï¼› 5ï¼Œ å¼‚å¸¸ä¿¡å·å¤„ç†ã€‚ç¨‹åºå¼‚å¸¸æƒ…å†µï¼Œå¯è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†è¿‡ç¨‹ï¼› 6ï¼Œ æ”¯æŒdebugåŠŸèƒ½ã€‚å¯åªç”¨äºdebugæ¨¡å¼ï¼› 7ï¼Œ è‡ªå®šä¹‰æ—¥å¿—ä¿¡æ¯ï¼› 8ï¼Œ çº¿ç¨‹å®‰å…¨æ—¥å¿—è®°å½•æ–¹å¼ï¼› 9ï¼Œ ç³»ç»Ÿçº§æ—¥å¿—è®°å½•ï¼› 10ï¼Œ google perroré£æ ¼æ—¥å¿—ä¿¡æ¯ï¼› 11ï¼Œ ç²¾ç®€æ—¥å¿—å­—ç¬¦ä¸²ä¿¡æ¯ã€‚ </p><p>è¡¥å……ï¼šè™½å¤§å‚å‡ºå“ï¼Œä½† google log ä¸èƒ½æ¯å¤©äº§ç”Ÿä¸€ä¸ªlogæˆ–è€…éœ€è¦ä¿®æ”¹é‡Œé¢æºç  </p><br><h5 id="z-log"><a href="#z-log" class="headerlink" title="z-log"></a>z-log</h5><p><a href="https://github.com/HardySimpson/zlog">https://github.com/HardySimpson/zlog</a></p><p>zlog æ˜¯ä¸€ä¸ªå¯é ã€é«˜æ€§èƒ½ã€çº¿ç¨‹å®‰å…¨ã€çµæ´»ã€æ¨¡å‹æ¸…æ™°çš„çº¯ C æ—¥å¿—åº“ã€‚</p><p>å®é™…ä¸Šï¼Œåœ¨ C ä¸–ç•Œä¸­ï¼Œå¯¹äºåƒ java ä¸­çš„ logback æˆ– c++ ä¸­çš„ log4cxx è¿™æ ·çš„åº”ç”¨ç¨‹åºï¼Œæ²¡æœ‰å¥½çš„æ—¥å¿—åº“ã€‚ä½¿ç”¨ printf å¯ä»¥å·¥ä½œï¼Œä½†ä¸èƒ½è½»æ˜“é‡å®šå‘æˆ–é‡æ–°æ ¼å¼åŒ–ã€‚syslog å¾ˆæ…¢ï¼Œä¸“ä¸ºç³»ç»Ÿä½¿ç”¨è€Œè®¾è®¡ã€‚æ‰€ä»¥æˆ‘å†™äº†zlogã€‚å®ƒæ¯” log4c æ›´å¿«ã€æ›´å®‰å…¨ã€æ›´å¼ºå¤§ã€‚æ‰€ä»¥å¯ä»¥å¹¿æ³›ä½¿ç”¨ã€‚</p><br><h5 id="spdlog"><a href="#spdlog" class="headerlink" title="spdlog"></a>spdlog</h5><p><a href="https://github.com/gabime/spdlog">https://github.com/gabime/spdlog</a></p><p>spdlog æ˜¯ä¸€ä¸ªå¿«é€Ÿçš„ C++ æ—¥å¿—åº“ï¼ŒåªåŒ…å«å¤´æ–‡ä»¶ï¼Œå…¼å®¹ C++11ã€‚ </p><p>ç‰¹æ€§ï¼š </p><p>éå¸¸å¿«åªåŒ…å«å¤´æ–‡ä»¶æ— éœ€ä¾èµ–ç¬¬ä¸‰æ–¹åº“æ”¯æŒè·¨å¹³å° - Linux &#x2F; Windows on 32&#x2F;64 bitsæ”¯æŒå¤šçº¿ç¨‹å¯å¯¹æ—¥å¿—æ–‡ä»¶è¿›è¡Œå¾ªç¯è¾“å‡ºå¯æ¯æ—¥ç”Ÿæˆæ—¥å¿—æ–‡ä»¶æ”¯æŒæ§åˆ¶å°æ—¥å¿—è¾“å‡ºå¯é€‰çš„å¼‚æ­¥æ—¥å¿—æ”¯æŒæ—¥å¿—è¾“å‡ºçº§åˆ«å¯è‡ªå®šä¹‰æ—¥å¿—æ ¼å¼ </p><br><h5 id="c-log"><a href="#c-log" class="headerlink" title="c-log"></a>c-log</h5><p><a href="https://github.com/0xmalloc/c-log">https://github.com/0xmalloc/c-log</a></p><p>c-logæ˜¯ä¸€ä¸ªç¨³å®šï¼Œé«˜æ•ˆï¼Œå¤šçº¿ç¨‹å®‰å…¨ï¼Œæ˜“ç”¨ï¼Œç®€å•çš„C&#x2F;C++ æ—¥å¿—åº“ï¼Œåœ¨githubä¸»é¡µä¸Šæœ‰ä¸°å¯Œçš„æµ‹è¯•caseï¼Œåç»­å°†ä¼šæ¨è¿Ÿç›´æ¥è¾“å‡ºåˆ°scribeç­‰é›†ä¸­å¼æ—¥å¿—æ”¶é›†<a href="https://cloud.tencent.com/product/tdmq?from=10680">ä¸­é—´ä»¶</a>ä¸Šï¼Œå¸®åŠ©ç”¨æˆ·æ›´å¥½çš„æ”¶é›†ï¼Œåˆ†ææ—¥å¿— ã€‚2017 åœæ­¢æ›´æ–°ã€‚</p><br><h5 id="syslog-ng"><a href="#syslog-ng" class="headerlink" title="syslog-ng"></a>syslog-ng</h5><p><a href="https://github.com/syslog-ng/syslog-ng">https://github.com/syslog-ng/syslog-ng</a></p><p>syslog-ng æ˜¯ä¸€ä¸ªå¢å¼ºçš„æ—¥å¿—å®ˆæŠ¤ç¨‹åºï¼Œæ”¯æŒå¹¿æ³›çš„è¾“å…¥å’Œè¾“å‡ºæ–¹æ³•ï¼šsyslogã€éç»“æ„åŒ–æ–‡æœ¬ã€æ¶ˆæ¯é˜Ÿåˆ—ã€æ•°æ®åº“ï¼ˆSQL å’Œ NoSQL ç­‰ï¼‰ç­‰ç­‰ã€‚</p><p>ç‰¹å¾ï¼š</p><p>æ¥æ”¶å’Œå‘é€ RFC3164 å’Œ RFC5424 æ ·å¼çš„ç³»ç»Ÿæ—¥å¿—æ¶ˆæ¯</p><p>æ¥æ”¶å’Œå‘é€ JSON æ ¼å¼çš„æ¶ˆæ¯</p><p>å¤„ç†ä»»ä½•ç±»å‹çš„éç»“æ„åŒ–æ•°æ®</p><p>ä½¿ç”¨å†…ç½®è§£æå™¨ï¼ˆcsv-parser()ã€db-parser()ã€kv-parser() ç­‰ï¼‰å¯¹æ—¥å¿—è¿›è¡Œåˆ†ç±»å’Œç»“æ„åŒ–</p><p>è§„èŒƒåŒ–ã€å¤„ç†å’Œå¤„ç†æµç»ç³»ç»Ÿçš„æ—¥å¿—</p><p>ä½¿ç”¨æ–‡ä»¶ã€æ¶ˆæ¯é˜Ÿåˆ— ï¼ˆå¦‚AMQPï¼‰æˆ–æ•°æ®åº“ï¼ˆå¦‚ PostgreSQL æˆ– MongoDBï¼‰ç§»äº¤æ—¥å¿—ä»¥è¿›è¡Œè¿›ä¸€æ­¥å¤„ç†</p><p>å°†æ—¥å¿—è½¬å‘åˆ°å¤§æ•°æ®å·¥å…·ï¼ˆå¦‚ Elasticsearchã€Apache Kafka æˆ– Apache Hadoopï¼‰</p><br><p>ã€€ã€€<strong>æ€»ç»“ï¼š</strong> å¤šå¹´æ— äººç»´æŠ¤çš„ä¸é‡‡çº³ï¼Œä¼˜å…ˆé‡‡ç”¨æ¥è¿‘äºç°ä»£ C++ è®¾è®¡ç†å¿µï¼Œä½¿ç”¨äººæ•°æ¯”è¾ƒå¤šï¼Œæ–‡æ¡£é½å…¨ï¼Œï¼Œä½¿ç”¨æ–¹ä¾¿ï¼Œè®¸å¯è¯å®½æ¾çš„çš„æ¥æ—¥å¿—åº“æ¥ä½¿ç”¨ã€‚æ­¤å‰æ˜¯ä½¿ç”¨ <a href="https://github.com/MEONMedical/Log4Qt">Log4Qt</a> ä½œä¸ºä¸‰æ–¹åº“ï¼Œæ—©æœŸçœ‹é‡å¯ä»¥èåˆäº Qt ï¼Œåº”è¯¥ä¼šæ¯”è¾ƒä¾¿äºå¼€å‘ï¼›åæ¥å‘æ›´æ–°æ¯”æ…¢ã€ä½¿ç”¨ä¹Ÿæ¯”è¾ƒéº»çƒ¦ï¼Œè¿˜éœ€è¦é…ç½®æ–‡ä»¶ï¼Œæ˜¨æ—¥å·²ç»ç§»é™¤äº†æ­¤æ¨¡å—ã€‚æ”¹ä¸ºæŠ•å…¥ <a href="https://github.com/gabime/spdlog">spdlog</a> çš„æ€€æŠ±ï¼Œä¸”åªéœ€è¦æ·»åŠ å¤´æ–‡ä»¶ä½¿ç”¨ï¼Œæå¤§çš„æå‡äº†å¼€å‘çš„æ»¡è¶³æ„Ÿã€‚</p><br><h4 id="GitHub-æœç´¢"><a href="#GitHub-æœç´¢" class="headerlink" title="GitHub æœç´¢"></a>GitHub æœç´¢</h4><p>ã€€ã€€è¿™ä¹Ÿæ˜¯ä¸€ä¸ª<strong>å¤§é“è‡³ç®€</strong> çš„æ–¹å¼ï¼Œæ•ˆç‡ä¹‹é«˜ã€æ—¶æ•ˆæ€§ä¹‹å¼ºï¼Œä½¿ç”¨äººæ•°ä¹‹å¤šçš„ä¸€ä¸ªå¯é æ¦œå•ï¼›ä¼˜å…ˆé€‰æ‹© â­ æœ€å¤šçš„  <a href="https://github.com/gabime/spdlog">spdlog</a> ã€‚ä¸”ç»“æœæ¥çœ‹ä¹Ÿå’Œä¸Šé¢æ–¹å¼äº¤å‰éªŒè¯ï¼Œç»“è®ºä¸€è‡´ã€‚ä¸ºå•¥è¦ä½¿ç”¨ä¸Šé¢é‚£ç§æ„šç¬¨çš„æ–¹å¼è·å–ä¿¡æ¯å‘¢ï¼Ÿæ°ªï¼ï¼ï¼</p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202203131043603.png" width="50%"/ loading="lazy"><br><h4 id="GItHub-æ‘å¤–æœ‰æ‘"><a href="#GItHub-æ‘å¤–æœ‰æ‘" class="headerlink" title="GItHub æ‘å¤–æœ‰æ‘"></a>GItHub æ‘å¤–æœ‰æ‘</h4><p>ã€€ã€€è¿˜æœ‰ä¸€ç§æ–¹å¼æœç´¢ï¼Œé‡åˆ°ç½‘å‹å‰è¾ˆæŒ‡ç‚¹ï¼Œç»“åˆ <code>Google å…³é”®è¯ + GitHub</code> æœç´¢ï¼Œä¼šå‘ç°è¿™ä¹ˆä¸€ä¸ªä¸œè¥¿ï¼š</p><br><blockquote><p><a href="https://github.com/fffaraz/awesome-cpp#debugger">https://github.com/fffaraz/awesome-cpp</a>   ã€36.3 K â­ã€ </p><p>A curated list of awesome C++ (or C) frameworks, libraries, resources, and shiny things. Inspired by awesome-â€¦ stuff.</p><p>ä¸€ä¸ªå¾ˆæ£’çš„ c++(æˆ–C) æ¡†æ¶ã€åº“ã€èµ„æºå’Œé—ªäº®çš„ä¸œè¥¿çš„åˆ—è¡¨ã€‚çµæ„Ÿæ¥è‡ªæ£’-â€¦çš„ä¸œè¥¿ã€‚ </p></blockquote><br><p>å“‡å¡(oã‚œâ–½ã‚œ)oâ˜†ï¼Œä¸æ„§æ˜¯æ‘å¤–æœ‰æ‘ï¼Œè¿è¿™ç§æ¦œå•éƒ½æœ‰ï¼Œä¸‹æ‹‰åˆ° <a href="https://github.com/fffaraz/awesome-cpp#Logging">#Logging</a> ç« èŠ‚ï¼Œçœæ—¶çœåŠ›ï¼Œä»ç²¾é€‰ä¸­ç‚¹è¿›å»çœ‹ä¸€ä¸‹å³å¯ï¼Œå¿«é€Ÿæ‰¾åˆ°ç¬¦åˆè‡ªå·±çš„åº“ã€‚ç®€ç›´ç‚¹ç‡ƒäº†ã€‚</p><br><br><blockquote><p><a href="https://github.com/sindresorhus/awesome">https://github.com/sindresorhus/awesome</a>   ã€193 K â­ã€ </p><p>ğŸ˜ Awesome lists about all kinds of interesting topics</p><p>ğŸ˜å…³äºå„ç§æœ‰è¶£ä¸»é¢˜çš„ç²¾å½©åˆ—è¡¨ï¼ˆå’Œè®¡ç®—æœ‰å…³çš„ä¸»é¢˜åˆ†ç±»å­¦ä¹ èµ„æ–™ï¼‰</p></blockquote><br><p>æ›´åƒæ˜¯ä¸€ä¸ªå®å¤§çš„çŸ¥è¯†é¢ï¼Œæ¯ä¸€ä¸ªä½ æ‰€æƒ³çš„èµ„æ–™æˆ–è€…å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°ç›¸å…³æˆ–è€…å¯å‘ã€ä½†å¯¹äºæˆ‘è¿™ä¸ª C++ æ¥è¯´ï¼Œä½†è¿˜æ˜¯ä¸Šé¢è¿™ä¸ª C++ æ¡†æ¶ç²¾é€‰ç›®å½•æ›´é€‚åˆè‡ªå·±ã€‚</p><br><hr><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>ã€€ã€€æ­¤æ¬¡æœç´¢æ€»ç»“ï¼Œé™¤äº†æ”¶è·æ‰¾åˆ°äº† <a href="https://github.com/gabime/spdlog">spdlog</a> æ—¥å¿—åº“ï¼Œè¿˜æ„Ÿè§‰åˆ°äº†è·å–æ£€ç´¢æ–¹å¼ä¸åŒï¼Œå…¶èƒ½åŠ›çš„æ‰€å¸¦æ¥çš„è€—æ—¶å æ¯”å·®å¼‚å·¨å¤§ï¼Œè™½ç„¶æ­¤ç•ªå¶ç„¶å‘ç°äº†ï¼Œä½†æ˜¯æ—¥ååº”è¯¥åˆ»æ„ç»ƒä¹ ï¼Œä½¿ä¹‹æˆæ€ç»´æƒ¯æ€§ï¼Œæ­¤ç¯‡æ–‡ç« åšå®Œï¼Œäºæˆ‘ç”šæ˜¯æ¬¢å¿ƒã€‚äº¦å…±äº«ä¹‹ã€‚</p><br><h3 id="æˆç³»åˆ—åœ°å€"><a href="#æˆç³»åˆ—åœ°å€" class="headerlink" title="æˆç³»åˆ—åœ°å€"></a>æˆç³»åˆ—åœ°å€</h3><p> <a href="https://github.com/XMuli/QtExamples">QtExamples</a> </p><p>æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”<strong>æ°¸ä¹…å…è´¹</strong>ï¼â€</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºäºŒ ç»éªŒ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spdlog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git submodule åŸºæœ¬ç”¨æ³•</title>
      <link href="/posts/43ae19e5/"/>
      <url>/posts/43ae19e5/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€è®°å½•å‡ ä¸ª <code>git submodule</code> å¸¸ç”¨çš„åŸºæœ¬å‘½ä»¤ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="æŠ‰æ‹©"><a href="#æŠ‰æ‹©" class="headerlink" title="æŠ‰æ‹©"></a>æŠ‰æ‹©</h2><p>â€‹æœ€è¿‘åœ¨ä¸ªäººé¡¹ç›®ä¸­å¼•å…¥ç¬¬ä¸‰æ–¹åº“ï¼Œé€šå¸¸ä¼šä½¿ç”¨åˆ° <code>git submodule</code> æˆ– <code>git treemodule</code> å‘½ä»¤ï¼Œå„æœ‰ä¼˜ç•¥ï¼Œä¸å­˜åœ¨è°æ˜¯å½“å‰æµè¡Œçš„è¶‹åŠ¿ã€‚é€‚åˆè‡ªå·±ä½¿ç”¨çš„ï¼Œæ‰æ˜¯æœ€å¥½çš„ã€‚<code>git submodule</code> çš„ç±»ä¼¼ **â€é“¾æ¥å¼•ç”¨â€**ï¼Œè€Œ <code>git treemodule</code> åˆ™æ›´æ¥è¿‘ <strong>â€œæ‹·è´å¤åˆ¶â€</strong> ä¸‹æ¥ä½¿ç”¨ã€‚å¯¹æœ¬äººè€Œè¨€ï¼Œæ›´å–œæ¬¢å‰è€…å½¢å¼ã€‚</p><br><h2 id="git-submodule"><a href="#git-submodule" class="headerlink" title="git submodule"></a>git submodule</h2><h3 id="æ·»åŠ å­æ¨¡å—"><a href="#æ·»åŠ å­æ¨¡å—" class="headerlink" title="æ·»åŠ å­æ¨¡å—"></a>æ·»åŠ å­æ¨¡å—</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å¼•å…¥ç¬¬ä¸‰æ–¹åº“åˆ°æœ¬åœ°æŒ‡å®šè·¯å¾„</span><span class="token function">git</span> submodule <span class="token function">add</span> <span class="token punctuation">[</span>-b master<span class="token punctuation">]</span> <span class="token punctuation">[</span>remote_repo<span class="token punctuation">]</span> <span class="token punctuation">[</span>dest_dir<span class="token punctuation">]</span>eg:<span class="token function">git</span> submodule <span class="token function">add</span> https://github.com/gabime/spdlog.git ./3rdparty/spdlog<span class="token function">git</span> submodule <span class="token function">add</span> https://github.com/Skycoder42/QHotkey.git ./3rdparty/QHotkey<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="clone-repositories"><a href="#clone-repositories" class="headerlink" title="clone repositories"></a>clone repositories</h3><p>ä¸¤ç§æ–¹å¼å‡ä¼š <strong>ä¼šè‡ªåŠ¨åˆå§‹åŒ–å¹¶æ›´æ–°æ¯ä¸€ä¸ªå­æ¨¡å—ä»“åº“ä»£ç </strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ–¹å¼ä¸€</span><span class="token function">git</span> clone <span class="token parameter variable">--recursive</span> https://github.com/XMuli/Flipped.git   // åˆå§‹åŒ–å¹¶æ›´æ–°æ‰€æœ‰å­æ¨¡å—<span class="token comment"># æ–¹å¼äºŒ</span><span class="token function">git</span> clone https://github.com/XMuli/Flipped.git<span class="token function">git</span> submodule init<span class="token function">git</span> submodule update<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="åˆ é™¤å­æ¨¡å—"><a href="#åˆ é™¤å­æ¨¡å—" class="headerlink" title="åˆ é™¤å­æ¨¡å—"></a>åˆ é™¤å­æ¨¡å—</h3><p>æœ‰æ—¶å­æ¨¡å—çš„é¡¹ç›®ç»´æŠ¤åœ°å€å‘ç”Ÿäº†å˜åŒ–ï¼Œæˆ–è€…éœ€è¦æ›¿æ¢å­æ¨¡å—ï¼Œå°±éœ€è¦åˆ é™¤åŸæœ‰çš„å­æ¨¡å—ã€‚</p><p>åˆ é™¤å­æ¨¡å—è¾ƒå¤æ‚ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li><code>rm -rf</code> å­æ¨¡å—ç›®å½• åˆ é™¤å­æ¨¡å—ç›®å½•åŠæºç </li><li><code>vi .gitmodules</code> åˆ é™¤é¡¹ç›®ç›®å½•ä¸‹ <code>.gitmodules</code> æ–‡ä»¶ä¸­å­æ¨¡å—ç›¸å…³æ¡ç›®</li><li><code>vi .git/config</code> åˆ é™¤é…ç½®é¡¹ä¸­å­æ¨¡å—ç›¸å…³æ¡ç›®</li><li><code>rm .git/module/*</code> åˆ é™¤æ¨¡å—ä¸‹çš„å­æ¨¡å—ç›®å½•ï¼Œæ¯ä¸ªå­æ¨¡å—å¯¹åº”ä¸€ä¸ªç›®å½•ï¼Œæ³¨æ„åªåˆ é™¤å¯¹åº”çš„å­æ¨¡å—ç›®å½•å³å¯</li></ol><p>æ‰§è¡Œå®Œæˆåï¼Œå†æ‰§è¡Œæ·»åŠ å­æ¨¡å—å‘½ä»¤å³å¯ï¼Œå¦‚æœä»ç„¶æŠ¥é”™ï¼Œæ‰§è¡Œå¦‚ä¸‹ï¼š</p><p><code>git rm --cached å­æ¨¡å—åç§°</code></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Git </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Visual Studioå®é™…ä»…å¢åˆ æ•°è¡Œï¼Œå´æ˜¾ç¤ºæ–‡ä»¶æ‰€æœ‰è¡Œå‡å‘ç”Ÿå˜æ›´</title>
      <link href="/posts/b3881498/"/>
      <url>/posts/b3881498/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong> ä½¿ç”¨ Visual Studio 2019 å¼€å‘ C++ å·¥ç¨‹ï¼Œç»å¸¸é‡åˆ°ä»…ä¿®æ”¹å‡ è¡Œä»£ç ï¼Œä½†æ•´ä¸ªæ–‡ä»¶æ‰€æœ‰è¡Œéƒ½æ˜¾ç¤ºè¢«ä¿®æ”¹ï¼›ç”šæ˜¯å¥‡æ€ªæ•°æœˆä¹‹ä¹…ï¼Œäºè¿‘æ—¥å½»åº•è§£å†³ä¹‹ï¼Œå…±äº«åŒå›°æƒ‘äºæ­¤è€…ã€‚<strong>Visual Studio å¼€å‘å·¥ç¨‹é¡¹ç›®ï¼Œè®¾ç½®é»˜è®¤è¡Œå°¾å’Œæ–‡ä»¶ç¼–ç ã€‚</strong></p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>win10 21H2</code>  ğŸ“  <code>Visual Studio 2019</code> ğŸ“  <code>Git Extensions</code> ğŸ“ <code>GitLab</code></p><p>ã€€ã€€ä½¿ç”¨ VS 2019 åœ¨é¡¹ç›®ä¸Šå¼€å‘ï¼Œå¸¸é‡åˆ°ä¿®æ”¹ <code>.h</code> &#x2F; <code>.cpp</code> æ–‡ä»¶ï¼Œæ˜æ˜ä»…å¢åˆ å‡ è¡Œåï¼Œä½†ç”¨ <code>git diff</code> &#x2F; <code>git gui</code> å·¥å…· &#x2F;  <code>GitLab</code> ç½‘é¡µç«¯ï¼ŒæŸ¥çœ‹ push çš„æäº¤å·®å¼‚ï¼Œå´æ˜¾ç¤ºæ•´ä¸ªæ–‡ä»¶æ‰€æœ‰è¡Œéƒ½æœ‰å¢åˆ ä¿®æ”¹äº†ã€‚å¿§æ„ï¼Œç”šæ˜¯ä¸è§£ï¼Œæ— å¥ˆæç½®è®¸ä¹…ã€‚</p><br><h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>ã€€ã€€ä¸€æ—¥ï¼Œåæ— æ„æƒ³åˆ°å¯èƒ½ä¸€ç§åŸå› ï¼ŒåéªŒè¯ï¼Œæœç„¶å¯è¡Œï¼Œé‚çºªå½•æ­¤æ–¹æ¡ˆä¾›åæ¥è€…æŸ¥é˜…ä¹‹ã€‚</p><p>**ä¸¤ä¸ªåŸå› : ** åœ¨ VS 2019 ä¸­ç¼–è¾‘æ–‡ä»¶åï¼Œ<code>ctrl + s</code> ä¿å­˜æ—¶ï¼Œ</p><p>â€‹â…°æ”¹å˜äº†æ–‡ä»¶ç¼–ç ï¼Œå¦‚ GBK â†” UTF8 ï¼›</p><p>â€‹â…± æ–‡ä»¶è¡Œå°¾å‘ç”Ÿäº†æ”¹å˜ï¼Œå¦‚ CRLR â†” LF ï¼›</p><br><p>ã€€ã€€åŸå› ä¸ºå•†ä¸šé¡¹ç›®ä¸­ï¼Œå›¢é˜Ÿå¼€å‘åˆä½œï¼Œé€šå¸¸ä¼šè¿›è¡Œè·¨å¹³å°æ”¯æŒï¼Œå¦‚å‰ K å¸çš„ WPSï¼Œå¤§å®¶ä½¿ç”¨ä¸åŒçš„ IDE å’Œé»˜è®¤ç¯å¢ƒé…ç½®é€ æˆçš„ã€‚</p><p>ã€€ã€€å¦‚ï¼šA åœ¨ Mac &#x2F; Linux ä¸‹ä¿®æ”¹ xxx.cpp æ–‡ä»¶åä¿å­˜ï¼Œä¼šå°†ä¸€äº›è‡ªå·±æ“ä½œç³»ç»Ÿä¸‹çš„é»˜è®¤ç¬¦å·ï¼Œä¹Ÿä¿å­˜ä¸‹æ¥åæäº¤åˆ° Git ä»“åº“ï¼›åé¢ B åœ¨ Windows ä¸‹ä» Pull æ­¤æ›´æ–°ï¼Œäº¦ä¿®æ”¹æ­¤ xxx.cpp æ–‡ä»¶åä¿å­˜æ—¶ï¼Œä¹Ÿä¼šå°†è‡ªå·±çš„ç³»ç»Ÿä¸‹çš„é»˜è®¤ç¬¦å·ä¿å­˜è¿›æ–‡ä»¶ã€‚æ­¤æ—¶ B æŸ¥çœ‹ git</p><p> diff å°±åŠå®¹æ˜“çœ‹åˆ°æ•´ä¸ªæ–‡ä»¶æ‰€æœ‰è¡Œéƒ½è¢«ä¿®æ”¹ã€‚</p><br><h3 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h3><h4 id="æ–¹æ¡ˆä¸€"><a href="#æ–¹æ¡ˆä¸€" class="headerlink" title="æ–¹æ¡ˆä¸€"></a>æ–¹æ¡ˆä¸€</h4><p>ã€€ã€€æ¯æ¬¡æ‰‹åŠ¨åœ¨ notepad++ ä¸­å¯¹å•ä¸ªæ–‡ä»¶ä¿®æ”¹â€è¡Œå°¾â€ã€â€æ–‡ä»¶ç¼–ç â€ï¼›å¯è¡Œï¼Œä½†å¾ˆéº»çƒ¦ã€‚ä¸”ä¸è¶³åœ¨äºä¸çŸ¥é“ä¸‹ä¸€ä¸ªæ–‡ä»¶ä¼šæ˜¯å“ªä¸€ä¸ªæ–‡ä»¶ä¼šæœ‰æ­¤äº›é—®é¢˜ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2022/20220225180310.png" width="35%"/ loading="lazy"><p>ã€€ã€€å½“ç„¶å¸Œæœ›ä¾æ‰˜äº Visual Studio æœ‰æ¯”è¾ƒå¥½çš„çš„è§£å†³æ–¹æ¡ˆï¼Œä¸”æœ€ä¼˜é›…å’Œæ–¹ä¾¿çš„ã€‚æœå¯»ä¹‹åï¼Œæ”¾ä¸Šæˆ‘çš„é…ç½®ï¼›</p><br><p><strong>æˆ‘çš„éœ€æ±‚ä¸ºï¼š</strong></p><ul><li>æ¯æ¬¡ä¿®æ”¹ .cpp æ–‡ä»¶åï¼Œä¿å­˜æ—¶å€™ï¼Œè‡ªåŠ¨ä½¿ç”¨çš„ä¸ºå½“å‰æ–‡ä»¶çš„ **â€è¡Œå°¾â€**ï¼›ä¸ä¼šé»˜è®¤å¼ºåˆ¶ä¿å­˜ä¸º CRLR æˆ– LR ç¼–ç ã€‚</li><li>æ¯æ¬¡ä¿®æ”¹ .cpp æ–‡ä»¶åï¼Œä¿å­˜æ—¶å€™ï¼Œè‡ªåŠ¨ä½¿ç”¨çš„ä¸ºå½“å‰æ–‡ä»¶çš„ <strong>â€œç¼–ç æ ¼å¼â€</strong> ï¼›ä¸ä¼šé»˜è®¤å¼ºåˆ¶ä¿å­˜ä¸º GBK æˆ– UTF8 ç¼–ç ã€‚</li><li>èƒ½å¤Ÿåœ¨  Visual Studio ç¼–è¾‘åŒºåŸŸï¼Œèƒ½å¤Ÿè½»æ¾æŸ¥çœ‹åˆ°å½“å‰æ–‡ä»¶çš„ <strong>â€œç¼–ç æ ¼å¼â€</strong> å’Œ <strong>â€œè¡Œå°¾â€</strong> ï¼›æœ€å¥½è¿˜èƒ½ç‚¹å‡»ä¸€ä¸‹å°±èƒ½åœ¨ä¸åŒç¼–ç æ ¼å¼ã€ä¸åŒè¡Œå°¾ä¹‹é—´åˆ‡æ¢ï¼Œè€ä¹…å¥¶æ€äº†ã€‚</li></ul><br><h4 id="æ–¹æ¡ˆäºŒã€èã€"><a href="#æ–¹æ¡ˆäºŒã€èã€" class="headerlink" title="æ–¹æ¡ˆäºŒã€èã€"></a>æ–¹æ¡ˆäºŒã€èã€</h4><p>ã€€ã€€è¿™ä¸ªä¸‰ä¸ªéœ€æ±‚ä½¿ç”¨ä¸‹é¢ã€æ’ä»¶1ã€å’Œã€æ’ä»¶2ã€å®Œç¾è§£å†³ã€‚</p><br><p><strong>åœ¨çº¿æ’ä»¶å¯å®‰è£…</strong></p><p>ã€æ’ä»¶1ã€ <a href="https://marketplace.visualstudio.com/items?itemName=JakubBielawa.LineEndingsUnifier">LineEndingsUnifier</a> æ–‡ä»¶è¡Œå°¾è®¾ç½®ï¼›ä½¿ç”¨å½“å‰æ–‡æ¡£çš„è¡Œå°¾ï¼ˆCRLRã€LRã€LFï¼‰</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2022/20220225183937.png" width="100%"/ loading="lazy"><br><p>ã€æ’ä»¶2ã€<a href="https://marketplace.visualstudio.com/items?itemName=genrwoody.FileEncoding">FileEncoding </a> å®¢æˆ·ç¼–è¾‘åŒºåŸŸå³ä¸‹è§’æ˜¾ç¤ºå½“å‰æ–‡ä»¶ç¼–ç </p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2022/20220225183806.png" width="100%"/ loading="lazy"><br><p>è¿˜æœ‰ä¸€ä¸ªç±»ä¼¼ã€æ’ä»¶3ã€ <a href="https://grebulon.com/software/stripem.php">Stripâ€™em Add-in for Visual Studio</a> æ–‡ä»¶è¡Œå°¾è®¾ç½®ï¼›ä½¿ç”¨å½“å‰æ–‡æ¡£çš„è¡Œå°¾ï¼ˆCRLRã€LRã€LFï¼‰ï¼Œä¸è¿‡ä»…æ”¯æŒ VS 2008-2017ï¼›</p><br><h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><p><a href="https://github.com/XMuli/QtExamples">QtExamples</a> </p><p>æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”<strong>æ°¸ä¹…å…è´¹</strong>ï¼â€</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Windows </category>
          
          <category> å­¦ä¹  - Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Visual Studio </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Visual Studioç”Ÿæˆ.vséšè—æ–‡ä»¶å¤¹ï¼Œå¯¼è‡´Gitå‘½ä»¤é”™è¯¯</title>
      <link href="/posts/afbb1e78/"/>
      <url>/posts/afbb1e78/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€ä½¿ç”¨ Visual Studio 2019 ä¿®æ”¹ C++ å·¥ç¨‹ï¼Œç¼–è¯‘åæ ¹ç›®å½•ä¸‹å¤šäº† <code>.vs</code> éšè—æ–‡ä»¶å¤¹ï¼Œåç»­ä½¿ç”¨ Git å‘½ä»¤æŠ¥é”™ï¼Œè§£å†³ä¹‹ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>ã€€ã€€æ‹‰å–æŸä»“åº“ <code>AVxxxugin</code> æ—¶ï¼›ä½¿ç”¨ Visual Studio 2019 æ‰“å¼€ <code>.sln</code> ä¿®æ”¹ä»£ç å®Œæˆåï¼Œç¼–è¯‘é¡¹ç›®æˆåŠŸï¼ŒåŒæ—¶ä¼šå‘ç°ç›®å½•ä¸‹å¤šäº†ä¸€ä¸ª <code>.vs</code> çš„éšè—æ–‡ä»¶å¤¹ï¼›æ­¤æ—¶ä½¿ç”¨ <code>git add</code> å‘½ä»¤æäº¤ï¼Œé‡åˆ°æŠ¥é”™å¦‚ä¸‹ï¼Œå¯¼è‡´ push é˜»å¡ï¼Œæ„Ÿè§‰ä½¿ç”¨çš„ Git å‘½ä»¤ä¹Ÿæ²¡æœ‰é‚£ä¹ˆé¡ºæ»‘äº†~~</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">â¯ <span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>error: open<span class="token punctuation">(</span><span class="token string">".vs/AVxxxugin/v16/Browse.VC.opendb"</span><span class="token punctuation">)</span>: Permission deniederror: unable to index <span class="token function">file</span> <span class="token string">'.vs/AVxxxugin/v16/Browse.VC.opendb'</span>fatal: adding files failed<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>ã€€ã€€å·¥å…·æŸ¥çœ‹ä¸€ç•ªï¼ŒåŸæ¥æ˜¯ä½ å°å­é˜»ç¢äº†æˆ‘ä½¿ç”¨å¦‚ä¸é¡ºæ»‘èˆ¬çš„ Git å‘½ä»¤ï¼Œå¯¼è‡´åé¢ Push é˜»å¡ï¼›å¾—æƒ³ä¸ªåŠæ³•å¹²æ‰ï¼ˆåˆ’ï¼Œè§£å†³ä¹‹ï¼‰</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2022/20220308114913.png" width="40%"/ loading="lazy"><br><h3 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h3><h4 id="æ–¹æ¡ˆä¸€"><a href="#æ–¹æ¡ˆä¸€" class="headerlink" title="æ–¹æ¡ˆä¸€"></a>æ–¹æ¡ˆä¸€</h4><p>ã€€ã€€åœ¨èµ„æºç®¡ç†å™¨ä¸­ï¼Œæ‰‹åŠ¨åˆ é™¤ <code>.vs</code> éšè—æ–‡ä»¶å¤¹ï¼›åç»­åœ¨ Git Bash ä¸­å°±å¯ä»¥é¡ºåˆ©è¿›è¡Œ git åç»­çš„å‘½ä»¤äº†ã€‚è§£å†³ä¸é‚£ä¹ˆä¼˜é›…ï¼Œä¸”éœ€è¦æ¯æ¬¡æäº¤éƒ½æ‰‹åŠ¨åˆ é™¤ä¸€æ¬¡ã€‚</p><br><h4 id="æ–¹æ¡ˆäºŒã€èã€"><a href="#æ–¹æ¡ˆäºŒã€èã€" class="headerlink" title="æ–¹æ¡ˆäºŒã€èã€"></a>æ–¹æ¡ˆäºŒã€èã€</h4><p>ã€€ã€€<del>äººç”Ÿæ²¡æœ‰è¿½æ±‚ï¼Œå’Œå’¸é±¼æœ‰ä»€ä¹ˆåŒºåˆ«ï¼ˆè™½ç„¶æˆ‘çš„æ¢¦æƒ³å°±æ˜¯å½“ä¸€æ¡å’¸é±¼ï¼‰ã€‚</del> ã€€å½“ç„¶å¸Œæœ›æœ‰æ›´ä¼˜é›…çš„è§£å†³æ–¹å¼ï¼š</p><p>å°† <code>AVxxxugin</code> ç›®å½•ä¸‹çš„ <code>.gitignore</code> æ–‡ä»¶ä¸­ï¼ˆæ²¡æœ‰åˆ™æ–°å»ºï¼‰ï¼Œæ·»åŠ ä¸€è¡Œ <code>.vs</code> åä¿å­˜ï¼Œè¡¨ç¤ºä½¿ç”¨ Git å‘½ä»¤æ—¶ï¼Œå¿½ç•¥æ­¤æ–‡ä»¶å¤¹ï¼›åç»­ä½¿ç”¨ä¹Ÿä¸ä¼šå†æœ‰æ­¤æŠ¥é”™äº†ã€‚ <a href="https://git-scm.com/docs/gitignore">#å®˜æ–¹æ–‡æ¡£</a></p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2022/20220308142106.png" width="90%"/ loading="lazy">]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Visual Studio </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Shellã€Bashã€CMDã€PowerShell çš„åŒºåˆ«</title>
      <link href="/posts/d0c4daee/"/>
      <url>/posts/d0c4daee/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€<font color=#D0087E face="STFangsong"><strong>ã€Shellã€ &#x3D;ã€å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGUIï¼‰shellã€ +  ã€å‘½ä»¤è¡Œç•Œé¢ï¼ˆCLIï¼‰çš„ shellã€</strong></font> ï¼Œæ‹ä¸€ä¸‹ Mac &#x2F; Linux &#x2F; Windows ä¸‹å¸¸è§çš„ <code>shell</code>ã€‚è®²è§£ <code>shell</code>ã€<code>bash</code>ã€<code>cmd</code>ã€<code>zsh</code>ã€<code>PowerShell</code> ç­‰çš„åŒºåˆ«ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="é¢„å¤‡çŸ¥è¯†"><a href="#é¢„å¤‡çŸ¥è¯†" class="headerlink" title="é¢„å¤‡çŸ¥è¯†"></a>é¢„å¤‡çŸ¥è¯†</h2><p><font color=#FF0000 size=4 face="STFangsong"><strong>ã€DOSã€</strong></font>ï¼šæ˜¯<strong>ç£ç›˜æ“ä½œç³»ç»Ÿ</strong>ï¼ˆè‹±æ–‡ï¼šDisk Operating Systemï¼‰çš„ç¼©å†™ï¼Œæ˜¯ä¸ªäººè®¡ç®—æœºä¸Šçš„ä¸€ç±»æ“ä½œç³»ç»Ÿã€‚DOS å®¶æ—åŒ…æ‹¬ MS-DOSã€PC-DOSã€DR-DOSã€FreeDOSã€PTS-DOSã€ROM-DOSã€JM-OSç­‰ï¼Œå…¶ä¸­ä»¥ <a href="https://zh.wikipedia.org/wiki/MS-DOS">MS-DOS</a> æœ€ä¸ºè‘—åã€‚è™½ç„¶è¿™äº›ç³»ç»Ÿå¸¸è¢«ç®€ç§°ä¸ºâ€DOSâ€ï¼Œä½†æ²¡æœ‰ä»»ä½•ä¸€ä¸ªç³»ç»Ÿå•çº¯ä»¥â€DOSâ€å‘½åã€‚<sup><a href="https://zh.wikipedia.org/wiki/DOS">æ³¨é‡Š</a></sup> </p><br><h2 id="Shell-ä»‹ç»"><a href="#Shell-ä»‹ç»" class="headerlink" title="Shell ä»‹ç»"></a>Shell ä»‹ç»</h2><p><font color=#FF0000 size=4 face="STFangsong"><strong>ã€Shell &#x2F; å£³å±‚ã€</strong></font>ï¼šå‘½ä»¤è¡Œç•Œé¢çš„è§£é‡Šå™¨ï¼Œç”¨æˆ·å’Œç³»ç»Ÿå†…æ ¸çš„æ²Ÿé€šæ¡¥æ¢ã€‚åˆ†ä¸ºï¼šâ‘ å‘½ä»¤è¡Œç•Œé¢ï¼ˆCLIï¼‰ ï¼›â‘¡  å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGUIï¼‰ã€‚<sup><a href="https://zh.wikipedia.org/wiki/%E6%AE%BC%E5%B1%A4">æ³¨é‡Š</a></sup> </p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/æ®¼å±¤shell.png" width="20%"/ loading="lazy"><br><h2 id="å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGUIï¼‰shell"><a href="#å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGUIï¼‰shell" class="headerlink" title="å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGUIï¼‰shell"></a>å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGUIï¼‰shell</h2><h3 id="MacOS-çš„-shell"><a href="#MacOS-çš„-shell" class="headerlink" title="MacOS çš„ shell"></a>MacOS çš„ shell</h3><p><font color=#FF0000 size=4 face="STFangsong"><strong>ã€Finder &#x2F; è®¿è¾¾ã€</strong></font>: åœ¨ MacOS ä¸­ï¼Œèƒ½è®©ç”¨æˆ·ç®¡ç†æ–‡ä»¶ã€æ–‡ä»¶ã€ç£ç›˜ã€ç½‘ç»œï¼Œä»¥åŠå¯åŠ¨å…¶ä»–çš„åº”ç”¨ç¨‹åºçš„å¼•ç”¨ç¨‹åºã€‚<sup><a href="https://zh.wikipedia.org/wiki/Finder">æ³¨é‡Š</a></sup></p><br><h3 id="Linux-çš„-shell"><a href="#Linux-çš„-shell" class="headerlink" title="Linux çš„ shell"></a>Linux çš„ shell</h3><p><font color=#FF0000 size=4 face="STFangsong"><strong>ã€Xçª—å£ç®¡ç†å™¨ã€</strong></font>: ç‹¬ç«‹çš„ <code>Xçª—å£ç®¡ç†å™¨</code>ï¼Œä¾‹å¦‚ <a href="https://zh.wikipedia.org/wiki/Blackbox">Blackbox</a> ä¸ <a href="https://zh.wikipedia.org/wiki/Fluxbox">Fluxbox</a> ã€‚<sup><a href="https://en.wikipedia.org/wiki/X_window_manager">æ³¨é‡Š</a></sup></p><p><font color=#FF0000 size=4 face="STFangsong"><strong>ã€Desktop Environment &#x2F; æ¡Œé¢ç¯å¢ƒã€</strong></font>: æ¡Œé¢ç¯å¢ƒæ˜¯ä¾é äºçª—å£ç®¡ç†å™¨çš„çš„æ‰©å±•å®ç°ã€‚å¦‚ <a href="https://zh.wikipedia.org/wiki/KDE">KDE</a>ã€<a href="https://zh.wikipedia.org/wiki/GNOME">GNOME</a>ã€<a href="https://zh.wikipedia.org/wiki/Xfce">Xfce</a>ã€<a href="https://en.wikipedia.org/wiki/Deepin">DDE</a>  ã€‚<sup><a href="https://en.wikipedia.org/wiki/Desktop_environment">æ³¨é‡Š</a></sup></p><br><h3 id="Windows-çš„-shell"><a href="#Windows-çš„-shell" class="headerlink" title="Windows çš„ shell"></a>Windows çš„ shell</h3><p><font color=#FF0000 size=4 face="STFangsong"><strong>ã€Explorer &#x2F; æ–‡ä»¶èµ„æºç®¡ç†å™¨ã€</strong></font>: æ­¤æ“ä½œç³»ç»Ÿä¸­æµè§ˆç”µè„‘ä¸­æ–‡ä»¶ä¸æ–‡ä»¶å¤¹ç»“æ„çš„åŸºæœ¬å·¥å…·ï¼Œ<code>win + E</code> å¿«æ·é”®å‘¼å‡ºã€‚<sup><a href="https://zh.wikipedia.org/wiki/%E6%AA%94%E6%A1%88%E7%B8%BD%E7%AE%A1">æ³¨é‡Š</a></sup></p><p><font color=#FF0000 size=4 face="STFangsong"><strong>ã€å¼€å§‹èœå•ã€</strong></font>:  å±å¹•çš„å·¦ä¸‹è§’èœå•ï¼Œ <code>win</code> é”®å‘¼å‡ºã€‚<sup><a href="https://zh.wikipedia.org/wiki/%E9%96%8B%E5%A7%8B%E5%8A%9F%E8%83%BD%E8%A1%A8">æ³¨é‡Š</a></sup></p><p><font color=#FF0000 size=4 face="STFangsong"><strong>ã€DOS Shellã€</strong></font>:  1998 å¹´å‘å¸ƒäº MS-DOS çš„æ–‡ä»¶ç®¡ç†å™¨ï¼Œæ˜¯ç»ˆç«¯é‡Œé¢ç”Ÿæˆçš„å¯è§†åŒ–ç•Œé¢ã€‚<sup><a href="https://en.wikipedia.org/wiki/DOS_Shell">æ³¨é‡Š</a></sup></p><br><h2 id="å‘½ä»¤è¡Œç•Œé¢ï¼ˆCLIï¼‰çš„-shell"><a href="#å‘½ä»¤è¡Œç•Œé¢ï¼ˆCLIï¼‰çš„-shell" class="headerlink" title="å‘½ä»¤è¡Œç•Œé¢ï¼ˆCLIï¼‰çš„ shell"></a>å‘½ä»¤è¡Œç•Œé¢ï¼ˆCLIï¼‰çš„ shell</h2><h3 id="MacOS-x2F-Linux-çš„-shell"><a href="#MacOS-x2F-Linux-çš„-shell" class="headerlink" title="MacOS &#x2F; Linux  çš„ shell"></a>MacOS &#x2F; Linux  çš„ shell</h3><p><font color=#FF0000 size=4 face="STFangsong"><strong>ã€sh &#x2F; Bourne shellã€</strong></font>: 1977 åœ¨ Version 7 Unix ä¸Šçš„é»˜è®¤ shellã€‚<sup><a href="https://zh.wikipedia.org/wiki/Bourne_shell">æ³¨é‡Š</a></sup></p><p><font color=#FF0000 size=4 face="STFangsong"><strong>ã€Bashã€</strong></font>: åç§°ç”±æ¥ Bourne-Again SHellï¼Œåœ¨ GNU è®¡åˆ’ä¸­ï¼Œäº 1989 å‘å¸ƒäºç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼Œæ˜¯ sh çš„å…¼å®¹çš„å¼€æºçš„ç»­ä½œã€‚äº¦æ˜¯ Linux å’Œ MacOS ï¼ˆå«10.14ä¹‹å‰ï¼‰çš„é»˜è®¤ shellã€‚<sup><a href="https://zh.wikipedia.org/wiki/Bash">æ³¨é‡Š</a></sup>  </p><p><font color=#FF0000 size=4 face="STFangsong"><strong>ã€Z shell &#x2F; Zshã€</strong></font>: æ˜¯ sh + bash + æ‰©å±•åŠŸèƒ½ã€‚è‡ª2019 å¹´èµ·ï¼ŒMacOS çš„é»˜è®¤ Shell å·²ä» ã€Bash ã€æ”¹ä¸ºã€Zshã€ã€‚<sup><a href="https://zh.wikipedia.org/wiki/Z_shell">æ³¨é‡Š</a></sup></p><br><h3 id="Windows-çš„-shell-1"><a href="#Windows-çš„-shell-1" class="headerlink" title="Windows çš„ shell"></a>Windows çš„ shell</h3><p><font color=#FF0000 size=4 face="STFangsong"><strong>ã€å‘½ä»¤æç¤ºç¬¦ &#x2F; cmd.exeã€</strong></font>ï¼šæ˜¯ Win32 åº”ç”¨ç¨‹åºï¼Œå–ä»£ã€COMMAND.COMã€ã€‚<strong>Windowså‘½ä»¤æç¤ºç¬¦ï¼ˆcmd.exeï¼‰</strong> æ˜¯ Windows NT ä¸‹çš„ä¸€ä¸ªç”¨äºè¿è¡Œ Windows æ§åˆ¶å°ç¨‹åºæˆ–æŸäº› DOS ç¨‹åºçš„å£³å±‚ç¨‹åºï¼›<sup><a href="https://zh.wikipedia.org/wiki/%E5%91%BD%E4%BB%A4%E6%8F%90%E7%A4%BA%E5%AD%97%E5%85%83">æ³¨é‡Š</a></sup> </p><p><font color=#FF0000 size=4 face="STFangsong"><strong>ã€PowerShellã€</strong> </font>: åŒ…æ‹¬ â‘ <code>Windows PowerShel</code> + â‘¡<code>PowerShell Core</code> ï¼ŒåŸºäº .NET æ¡†æ¶å¼€å‘ï¼Œè‡ª 2016 å¹´åå¼€æºä¸”è·¨å¹³å°ã€‚â‘  ä¸ºå‰å››å¹´çš„ç‰ˆæœ¬ï¼Œä»…æ”¯æŒ Win å¹³å°ï¼›â‘¡ åˆ™æ˜¯å…¶æ¼”è¿›ï¼Œæ”¯æŒè·¨å¹³å° Linux å’Œ Macã€‚<sup><a href="https://zh.wikipedia.org/wiki/PowerShell">æ³¨é‡Š</a></sup> </p><p><font color=#FF0000 size=4 face="STFangsong"><strong>ã€COMMAND.COMã€</strong></font>:  æ˜¯ä¸€ä¸ª16ä½çš„ DOS åº”ç”¨ç¨‹åºã€‚å·²ç»è¢« <code>å‘½ä»¤æç¤ºç¬¦(cmd.exe)</code> å–ä»£åœ¨ MS-DOSã€Windows 95ã€Windows 98ã€Windows 98SE å’Œ Windows Me ä¸Šçš„é»˜è®¤å‘½ä»¤è¡Œç•Œé¢ã€‚<sup><a href="https://en.wikipedia.org/wiki/COMMAND.COM">æ³¨é‡Š</a></sup> </p><br><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p><font color=#D0087E size=4 face="STFangsong"><strong>ã€Shellã€ &#x3D;ã€å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGUIï¼‰shellã€ +  ã€å‘½ä»¤è¡Œç•Œé¢ï¼ˆCLIï¼‰çš„ shellã€</strong></font></p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/Shell_GUI_CLI.svg" width="100%"/ loading="lazy"><br><hr><h2 id="ã€PowerShellã€å’Œå…¶å®ƒå‘½ä»¤è§£é‡Šå™¨æ¯”è¾ƒ"><a href="#ã€PowerShellã€å’Œå…¶å®ƒå‘½ä»¤è§£é‡Šå™¨æ¯”è¾ƒ" class="headerlink" title="ã€PowerShellã€å’Œå…¶å®ƒå‘½ä»¤è§£é‡Šå™¨æ¯”è¾ƒ"></a>ã€PowerShellã€å’Œå…¶å®ƒå‘½ä»¤è§£é‡Šå™¨æ¯”è¾ƒ</h2><p>é‡ç‚¹å…³å¿ƒä¸€ä¸‹ <font color=#FF0000 size=4 face="STFangsong"><strong>ã€PowerShellã€</strong> </font> çš„ä¸€äº›å‘½ä»¤ï¼Œçœ‹ä¸€ä¸‹ **PowerShellå‘½ä»¤è¡Œä¸å…¶ä»–å‘½ä»¤è¡Œè§£é‡Šå™¨çš„å†…éƒ¨å’Œå¤–éƒ¨å‘½ä»¤çš„æ¯”è¾ƒã€‚<sup><a href="https://zh.wikipedia.org/wiki/PowerShell">æ³¨é‡Š</a></sup>  **  </p><table><thead><tr><th align="left">PowerShellï¼ˆå‘½ä»¤è¡Œï¼‰</th><th align="center">PowerShellï¼ˆåˆ«åï¼‰</th><th align="center"><a href="https://zh.wikipedia.org/wiki/%E5%91%BD%E4%BB%A4%E6%8F%90%E7%A4%BA%E7%AC%A6">å‘½ä»¤æç¤ºç¬¦</a></th><th align="center"><a href="https://zh.wikipedia.org/wiki/Unix_shell">Unix shell</a></th><th align="center">æè¿°</th></tr></thead><tbody><tr><td align="left">Get-ChildItem</td><td align="center">gci, dir, ls</td><td align="center"><a href="https://zh.wikipedia.org/wiki/Dir_(%E5%91%BD%E4%BB%A4)">dir</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/Ls">ls</a></td><td align="center">åˆ—å‡ºç›®å‰æˆ–æŒ‡å®šæ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹</td></tr><tr><td align="left">Test-Connection[<a href="https://zh.wikipedia.org/wiki/PowerShell#cite_note-8">a]</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/Ping">ping</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/Ping">ping</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/Ping">ping</a></td><td align="center">ä»ç›®å‰ç”µè„‘å‘æŒ‡å®šç”µè„‘å‘é€<a href="https://zh.wikipedia.org/wiki/Ping">Ping</a>ï¼Œæˆ–æŒ‡ç¤ºå¦ä¸€å°ç”µè„‘è¿™æ ·åš</td></tr><tr><td align="left">Get-Content</td><td align="center">gc, type, cat</td><td align="center"><a href="https://zh.wikipedia.org/w/index.php?title=TYPE_(DOS_command)&action=edit&redlink=1">type</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/Cat_(Unix)">cat</a></td><td align="center">è·å–æ–‡ä»¶å†…å®¹</td></tr><tr><td align="left">Get-Command</td><td align="center">gcm</td><td align="center"><a href="https://zh.wikipedia.org/w/index.php?title=Help_(command)&action=edit&redlink=1">help</a></td><td align="center"><a href="https://zh.wikipedia.org/w/index.php?title=Type_(Unix)&action=edit&redlink=1">type</a>, <a href="https://zh.wikipedia.org/w/index.php?title=Which_(command)&action=edit&redlink=1">which</a>, <a href="https://zh.wikipedia.org/w/index.php?title=Compgen_(Unix)&action=edit&redlink=1">compgen</a></td><td align="center">åˆ—å‡ºå¯ç”¨çš„å‘½ä»¤</td></tr><tr><td align="left">Get-Help</td><td align="center">help, man</td><td align="center"><a href="https://zh.wikipedia.org/w/index.php?title=Help_(command)&action=edit&redlink=1">help</a></td><td align="center"><a href="https://zh.wikipedia.org/w/index.php?title=Apropos_(Unix)&action=edit&redlink=1">apropos</a>, <a href="https://zh.wikipedia.org/wiki/%E6%89%8B%E5%86%8C%E9%A1%B5">man</a></td><td align="center">åœ¨æ§åˆ¶å°ä¸Šæ‰“å°å‘½ä»¤çš„æ–‡æ¡£</td></tr><tr><td align="left">Clear-Host</td><td align="center">cls, clear</td><td align="center"><a href="https://zh.wikipedia.org/w/index.php?title=Cls_(computing)&action=edit&redlink=1">cls</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/Clear_(Unix)">clear</a></td><td align="center">æ¸…é™¤å±å¹•[<a href="https://zh.wikipedia.org/wiki/PowerShell#cite_note-9">b]</a></td></tr><tr><td align="left">Copy-Item</td><td align="center">cpi, copy, cp</td><td align="center"><a href="https://zh.wikipedia.org/wiki/Copy_(%E5%91%BD%E4%BB%A4)">copy</a>, <a href="https://zh.wikipedia.org/w/index.php?title=Xcopy&action=edit&redlink=1">xcopy</a>, <a href="https://zh.wikipedia.org/w/index.php?title=Robocopy&action=edit&redlink=1">robocopy</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/Cp_(Unix)">cp</a></td><td align="center">å°†æ–‡ä»¶å’Œæ–‡ä»¶å¤¹å¤åˆ¶åˆ°å¦ä¸€ä¸ªä½ç½®</td></tr><tr><td align="left">Move-Item</td><td align="center">mi, move, mv</td><td align="center"><a href="https://zh.wikipedia.org/w/index.php?title=Move_(command)&action=edit&redlink=1">move</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/Mv_(Unix)">mv</a></td><td align="center">å°†æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ç§»åŠ¨åˆ°æ–°ä½ç½®</td></tr><tr><td align="left">Remove-Item</td><td align="center">ri, del, erase, rmdir, rd, rm</td><td align="center"><a href="https://zh.wikipedia.org/w/index.php?title=Del_(command)&action=edit&redlink=1">del</a>, <a href="https://zh.wikipedia.org/w/index.php?title=Del_(command)&action=edit&redlink=1">erase</a>, <a href="https://zh.wikipedia.org/wiki/Rmdir">rmdir</a>, <a href="https://zh.wikipedia.org/wiki/Rmdir">rd</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/Rm_(Unix)">rm</a>, rmdir</td><td align="center">åˆ é™¤æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹</td></tr><tr><td align="left">Rename-Item</td><td align="center">rni, ren, mv</td><td align="center"><a href="https://zh.wikipedia.org/w/index.php?title=Ren_(command)&action=edit&redlink=1">ren</a>, rename</td><td align="center"><a href="https://zh.wikipedia.org/wiki/Mv_(Unix)">mv</a></td><td align="center">é‡å‘½åå•ä¸ªæ–‡ä»¶ã€æ–‡ä»¶å¤¹ã€ç¡¬é“¾æ¥æˆ–ç¬¦å·é“¾æ¥</td></tr><tr><td align="left">Get-Location</td><td align="center">gl, cd, pwd</td><td align="center"><a href="https://zh.wikipedia.org/wiki/Cd_(%E5%91%BD%E4%BB%A4)">cd</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/Pwd">pwd</a></td><td align="center">æ˜¾ç¤ºå·¥ä½œè·¯å¾„ï¼ˆç›®å‰æ–‡ä»¶å¤¹ï¼‰</td></tr><tr><td align="left">Pop-Location</td><td align="center">popd</td><td align="center"><a href="https://zh.wikipedia.org/w/index.php?title=Pushd_and_popd&action=edit&redlink=1">popd</a></td><td align="center">popd</td><td align="center">å°†å·¥ä½œè·¯å¾„æ›´æ”¹ä¸ºæœ€è¿‘æ¨é€åˆ°å †æ ˆä¸Šçš„ä½ç½®</td></tr><tr><td align="left">Push-Location</td><td align="center">pushd</td><td align="center"><a href="https://zh.wikipedia.org/w/index.php?title=Pushd_and_popd&action=edit&redlink=1">pushd</a></td><td align="center">pushd</td><td align="center">å°†å·¥ä½œè·¯å¾„å­˜å‚¨åˆ°å †æ ˆä¸­</td></tr><tr><td align="left">Set-Location</td><td align="center">sl, cd, chdir</td><td align="center"><a href="https://zh.wikipedia.org/wiki/Cd_(%E5%91%BD%E4%BB%A4)">cd</a>, <a href="https://zh.wikipedia.org/wiki/Cd_(%E5%91%BD%E4%BB%A4)">chdir</a></td><td align="center">cd</td><td align="center">æ”¹å˜å·¥ä½œè·¯å¾„</td></tr><tr><td align="left">Tee-Object</td><td align="center">tee</td><td align="center">ä¸é€‚ç”¨</td><td align="center"><a href="https://zh.wikipedia.org/wiki/Tee">tee</a></td><td align="center">å°†è¾“å…¥ç®¡é“ä¼ è¾“åˆ°æ–‡ä»¶æˆ–å˜é‡ï¼Œå¹¶æ²¿ç®¡é“ä¼ é€’è¾“å…¥</td></tr><tr><td align="left">Write-Output</td><td align="center">echo, write</td><td align="center"><a href="https://zh.wikipedia.org/wiki/Echo_(%E5%91%BD%E4%BB%A4)">echo</a></td><td align="center">echo</td><td align="center">å°†å­—ç¬¦ä¸²æˆ–å…¶ä»–å¯¹åƒæ‰“å°åˆ°<a href="https://zh.wikipedia.org/wiki/%E6%A8%99%E6%BA%96%E4%B8%B2%E6%B5%81">æ ‡å‡†æµ</a></td></tr><tr><td align="left">Get-Process</td><td align="center">gps, ps</td><td align="center">tlist,[<a href="https://zh.wikipedia.org/wiki/PowerShell#cite_note-Available_tlist_kill-10">c]</a> <a href="https://zh.wikipedia.org/w/index.php?title=Tasklist&action=edit&redlink=1">tasklist</a>[<a href="https://zh.wikipedia.org/wiki/PowerShell#cite_note-Available_tasklist_taskkill-11">d]</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/Ps_(Unix)">ps</a></td><td align="center">åˆ—å‡ºæ‰€æœ‰æ­£åœ¨æ‰§è¡Œçš„è¿›ç¨‹</td></tr><tr><td align="left">Stop-Process</td><td align="center">spps, kill</td><td align="center"><a href="https://zh.wikipedia.org/w/index.php?title=Kill_(command)&action=edit&redlink=1">kill</a>,[<a href="https://zh.wikipedia.org/wiki/PowerShell#cite_note-Available_tlist_kill-10">c]</a> <a href="https://zh.wikipedia.org/wiki/Kill_(%E5%91%BD%E4%BB%A4)">taskkill</a>[<a href="https://zh.wikipedia.org/wiki/PowerShell#cite_note-Available_tasklist_taskkill-11">d]</a></td><td align="center">kill[<a href="https://zh.wikipedia.org/wiki/PowerShell#cite_note-UNIX_kill_misnomer-12">e]</a></td><td align="center">åœæ­¢æ­£åœ¨æ‰§è¡Œçš„è¿›ç¨‹</td></tr><tr><td align="left">Select-String</td><td align="center">sls</td><td align="center"><a href="https://zh.wikipedia.org/wiki/Findstr">findstr</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/Find">find</a>, <a href="https://zh.wikipedia.org/wiki/Grep">grep</a></td><td align="center">æ‰“å°ä¸æ¨¡å¼åŒ¹é…çš„è¡Œ</td></tr><tr><td align="left">Set-Variable</td><td align="center">sv, set</td><td align="center"><a href="https://zh.wikipedia.org/w/index.php?title=Environment_variable&action=edit&redlink=1">set</a></td><td align="center">env, export, set, setenv</td><td align="center">åˆ›å»ºæˆ–æ›´æ”¹<a href="https://zh.wikipedia.org/wiki/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F">ç¯å¢ƒå˜é‡</a>çš„å†…å®¹</td></tr><tr><td align="left">Invoke-WebRequest</td><td align="center">iwr, curl, wget[<a href="https://zh.wikipedia.org/wiki/PowerShell#cite_note-13">f]</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/CURL">curl</a></td><td align="center"><a href="https://zh.wikipedia.org/wiki/Wget">wget</a>, curl</td><td align="center">è·å–äº’è”ç½‘ä¸Šçš„ç½‘é¡µå†…å®¹</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
          <category> å­¦ä¹  - MacOS </category>
          
          <category> å­¦ä¹  - Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç»ˆç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WinDbgï¼šå…¥é—¨åˆ†æ dmp æ–‡ä»¶ã€ä¸€ã€</title>
      <link href="/posts/3ab2f8b0/"/>
      <url>/posts/3ab2f8b0/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong> åˆæ¬¡åœ¨ Win 10 ä½¿ç”¨ WinDbg åˆ†æ .dmp æ–‡ä»¶ï¼Œå®šä½å’Œåˆ†æåŸå› ï¼Œä½œä¸ºåŸºç¡€å…¥é—¨æ•™ç¨‹å¸®åŠ©åæ¥è€…ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="å…³è”"><a href="#å…³è”" class="headerlink" title="å…³è”"></a>å…³è”</h3><p>é™„ç›¸å…³ç›®å½•ï¼Œéšç€åç»­ä½¿ç”¨æ›´æ–°</p><ol><li><a href="https://xmuli.blog.csdn.net/article/details/123563647">WinDbgï¼šå…¥é—¨åˆ†æ dmp æ–‡ä»¶ã€ä¸€ã€</a></li><li><a href="https://xmuli.blog.csdn.net/article/details/123563753">WinDbgï¼šè°ƒè¯•ä¹‹é™„åŠ è¿›ç¨‹ç”Ÿæˆ dmpã€äºŒã€</a></li></ol><br><h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>ã€€ã€€æ­¤å‰æœªæ›¾æ¥è§¦è¿‡ WinDbg ï¼Œäº¦æœªæ›¾åˆ†æè¿‡ dmp ã€‚ç°å¦‚ä»Šä¸Šæ‰‹æ•°æœˆåï¼Œå›å¤´æ¥å†™ä¸€ä¸‹æ­¤å·¥å…·åœ¨ Win 10 ä¸‹çš„åŸºæœ¬ç”¨æ³•ï¼›å¸Œæœ›å¸®åŠ©åæ¥è€…å…ˆå…¥ä¸ªé—¨ã€‚å¤§é“æ¼«æ¼«å…®~ï¼Œé“é˜»ä¸”é•¿ï¼›</p><br><h3 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h3><h4 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h4><p><font color=#D0087E face="STFangsong"><strong>ã€.dmpã€</strong></font> æ˜¯å­˜å‚¨ç€è½¯ä»¶è¿è¡Œå´©æºƒæ—¶åˆ»çš„ä¸€äº› â€œåœºæ™¯â€ å’Œè°ƒè¯•ç¬¦å·çš„æ–‡ä»¶ï¼›å¯çœ‹ä½œå´©æºƒåŸå› çš„ â€œåœºæ™¯å†ç°â€ã€‚</p><p><font color=#D0087E face="STFangsong"><strong>ã€WinDbgã€</strong></font> æ˜¯ä¸€æ¬¾åˆ†æ dmp å´©æºƒæ–‡ä»¶çš„å¼€æºå·¥å…·ï¼ŒåŠŸèƒ½å¾ˆå¼ºï¼Œç”± Microsoft å‡ºå“ <sup><a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/debugger/debugger-download-tools">å®˜ç½‘</a> </sup>ã€‚</p><ul><li><a href="https://www.microsoft.com/store/p/windbg/9pgjgd53tn86">WinDbg Preview</a> å¯ç›´æ¥åœ¨ Microsoft Store ä¸­ä¸‹è½½ï¼›</li><li><a href="https://developer.microsoft.com/zh-cn/windows/downloads/windows-sdk/">WinDbg</a> æ­£å¼ç‰ˆåœ¨é›†æˆåœ¨ windows-sdk ä¸­ï¼Œå¯é€‰ä¸ºä»…å®‰è£… Windbgï¼›</li></ul><br><h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><p>ã€€ã€€ä½¿ç”¨ WinDbg åˆ†æå´©æºƒåœºæ™¯ï¼Œéœ€è¦ä¿¡æ¯ã€‚ä¸‹è½½ç‰ˆæœ¬å»ºè®®å’Œä½ çš„å‘¨å›´åŒäº‹ä¿æŒä¸€è‡´ï¼Œä¸æ‡‚æ–¹ä¾¿è¯·æ•™ï¼Œæ¯•ç«Ÿç•Œé¢ç•¥æœ‰å·®å¼‚ã€‚</p><ol><li><code>.dmp</code> æ–‡ä»¶ï¼Œç®€ä¸­è¯‘å â€œè½¬å‚¨æ–‡ä»¶â€</li><li><code>.pdb</code> ç¬¦å·æ–‡ä»¶</li><li><del>æºç  [å¯é€‰]ï¼›é«˜é˜¶ç”¨æ³•ï¼Œæš‚ä¸å±•å¼€</del></li></ol><br><p><strong>æ­¥éª¤</strong> </p><p>ã€€ã€€<font color=#FF0000><strong>æš‚æ—¶è®°ä½ WinDbg x86 æ¥è°ƒè¯• x86 åº”ç”¨ç¨‹åºï¼›ä½¿ç”¨ WinDbg x64 æ¥è°ƒè¯• x64 åº”ç”¨ç¨‹åºï¼›</strong></font>ï¼ˆè™½ç„¶å¯ä»¥ x64 è°ƒè¯• x86 åº”ç”¨ç¨‹åºï¼Œä½†éœ€è¦ä¸€äº›å‘½ä»¤è®¾ç½®ä¸€ç•ªï¼‰ã€‚</p><p>ã€€ã€€<font color=#0000FF><strong>å‘½ä»¤åœ¨åº•éƒ¨è¾“å…¥æ¡†è¾“å…¥ï¼Œå¯ä¾æ¬¡æ‰§è¡Œå‘½ä»¤å¦‚ä¸‹ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åœ¨ç•Œé¢ç‚¹å‡»è“è‰²å‘½ä»¤ï¼Œçœç•¥æ‰‹åŠ¨è¾“å…¥å‘½ä»¤ã€‚</strong></font></p><br><p>ã€€ã€€å¼€å§‹è°ƒè¯•ï¼Œä¾æ¬¡æ‰§è¡Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token operator">!</span>analyze <span class="token parameter variable">-v</span>   // åˆ†æ.ecxr         // æŸ¥çœ‹å½“å‰å¼‚å¸¸çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€å’Œéƒ¨åˆ†å¯„å­˜å™¨ä¿¡æ¯  lmvm <span class="token string">"æ¨¡å—å"</span>    // ä¸‹è½½å¯¹åº” .pdbkb            // æ˜¾ç¤ºå †æ ˆå´©æºƒï¼Œå…·ä½“åˆ°è¡Œ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><br><h4 id="è¯¦ç»†ä¾‹å­"><a href="#è¯¦ç»†ä¾‹å­" class="headerlink" title="è¯¦ç»†ä¾‹å­"></a>è¯¦ç»†ä¾‹å­</h4><ol><li><p><code>File-Symbol File Path </code> è¾“å…¥ç¬¦å·è·¯å¾„çª—å£ï¼›å¯ä»¥éšä¾¿è¾“å…¥ä¸€ä¸ªè·¯å¾„ï¼Œè¿™é‡Œæˆ‘è¾“å…¥ .dmp çš„å­˜æ”¾è·¯å¾„ <code>D:\dmp</code>ã€‚ <strong>å› è‹¥é»˜è®¤ä¸ºç©ºï¼Œåé¢ WinDbg åŠ è½½ .dmp æ–‡ä»¶åä¼šé•¿æ—¶é—´æ— å“åº”ï¼Œ</strong> åªæœ‰èµ„æºç®¡ç†å™¨æ€æ­»é‡å¼€ã€‚</p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202203172252049.png" width="50%"/ loading="lazy"><br></li><li><p><code>File - Open Crash Dump</code> é€‰ä¸­å½“å‰ .dmp æ‰“å¼€</p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202203172253144.png" width="50%"/ loading="lazy"><br></li><li><p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ <code>!analyze -v</code> å¼€å§‹åˆ†æï¼Œç¨ç­‰ç‰‡åˆ»ï¼Œæœ‰æ—¶æ­¤è¿‡ç¨‹å¾ˆæ…¢ï¼Œæ ‡å¿—æ˜¯å·¦ä¸‹è§’ä¼šæ˜¾ç¤º BUSYï¼ ç¹å¿™æç¤º</p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202203172254229.png" width="90%"/ loading="lazy"></li><li><p>æ‰§è¡Œ <code>.ecxr</code> æŸ¥çœ‹çš„ç›¸å…³ä¿¡æ¯ï¼ŒæŸ¥çœ‹å½“å‰å¼‚å¸¸çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€å’Œéƒ¨åˆ†å¯„å­˜å™¨ä¿¡æ¯</p><img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202203172255693.png" width="90%"/ loading="lazy"></li><li><p>æ‰§è¡Œåï¼Œå¯ä»¥çœ‹åˆ°å´©æºƒå †æ ˆæ‰“å°çš„ dll æ¨¡å—åä¸º <code>cloudservice</code> ï¼›æ‰§è¡Œ <code>lmvm cloudservice</code> è·å–æ­¤ dll çš„è¯¦ç»†ä¿¡æ¯ï¼ŒæŒ‰ç…§æ—¶é—´å» Jenkins æ„å»ºä¸Šï¼Œä¸‹è½½ä¸æ­¤æ—¶é—´æœ€è¿‘çš„ .dll åŒæ—¶ç”Ÿæˆçš„ <code>cloudservice.pdb</code> ç¬¦å·æ–‡ä»¶ï¼›</p><img src="https://raw.githubusercontent.com/XMuli/xmuliPic/pic/2022/202203172310140.png" width="90%"/ loading="lazy"></li><li><p>å°†åˆšæ‰¾åˆ°çš„ <code>cloudservice.pdb</code> æ–‡ä»¶æ”¾å…¥åˆšæ‰çš„ <code>D:\dmp</code> è·¯å¾„ä¸‹ï¼›é‡æ–°æ‰“å¼€ 1 æ­¥éª¤çª—å£ï¼Œè¿™æ¬¡å‹¾é€‰å·¦ä¸‹è§’ <code>Reload</code> é‡æ–°åŠ è½½ã€‚å†æŒ‰ä¸Šé¢å‘½ä»¤é¡ºåºæ¥ä¸€éï¼Œä¾æ¬¡æ‰§è¡Œ</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token operator">!</span>analyze <span class="token operator">-</span>v   <span class="token comment">// åˆ†æ</span><span class="token punctuation">.</span>ecxr         <span class="token comment">// æŸ¥çœ‹å¯„å­˜å™¨å’Œæ¨¡å—ä¿¡æ¯</span>kb            <span class="token comment">// æŸ¥çœ‹å´©æºƒå †æ ˆ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><img src="https://raw.githubusercontent.com/XMuli/xmuliPic/pic/2022/202203172330104.png" width="100%"/ loading="lazy"><p>ä¿¡æ¯å¦‚å›¾ï¼Œå®šä½åˆ°äº†å…·ä½“è¡Œï¼Œé‚£ä¹ˆå°±å» VS é‡Œé¢ä¿®æ”¹ä»£ç ã€‚</p></li></ol><br><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>ã€€ã€€è‹¥æ˜¯å½“å‰ä»£ç çš„ç‰ˆæœ¬æ¢å¤åˆ°å’Œ WinDbg æç¤ºçš„ dll ç‰ˆæœ¬ä¸€è‡´ï¼ˆå¯é€šè¿‡ Jenkins æŸ¥çœ‹ç¼–è¯‘æ—¶é—´å’Œæäº¤çš„å“ˆå¸Œç¡®å®šï¼‰ï¼Œåˆ™åŸºæœ¬æ˜¯å‡†çš„ã€‚è‹¥æ˜¯ä»£ç ç‰ˆæœ¬é¢†å…ˆäº dll ç‰ˆæœ¬ï¼Œé‚£ä¹ˆä¹Ÿæœ‰å…·ä½“å´©æºƒçš„å‡½æ•°ï¼Œå´©æºƒä½ç½®ä¹Ÿæ˜¯åœ¨æç¤ºè¡Œæ•°é™„è¿‘åç§»ä¸€ç‚¹ã€‚</p><p>ã€€ã€€å…¶å®åœ¨ 6 æ­¥éª¤ä¸­ï¼Œè¿˜å¯ä»¥ç‚¹å‡»å‰é¢çš„åºå·ï¼ŒæŸ¥çœ‹å´©æºƒæ­¤å‡½æ•°æ—¶ï¼Œé‡Œé¢çš„ä¸€äº›å±€éƒ¨å˜é‡çš„ä¿¡æ¯ã€‚</p><br><p><strong>é™„ä¸Šå‡ ä¸ªå¸¸è§å´©æºƒçš„åŸå› ï¼š</strong></p><ul><li>æŒ‡é’ˆä¸ºç©ºï¼Œéœ€æ ¡éªŒ ï¼ˆ90%ï¼‰</li><li>å­˜åœ¨å¤šçº¿ç¨‹å¹¶å‘ï¼Œéœ€è¦ä½¿ç”¨åŸå­æˆ–é” ï¼ˆ5%ï¼‰</li><li>ä½¿ç”¨ STL çš„æ¸¸æ ‡ä¸­è¿­ä»£å™¨å¤±æ•ˆï¼Œéå†è¿‡ç¨‹ä¸­åˆ é™¤å…ƒç´ äº†</li><li>å†…å­˜æ³„æ¼ &#x2F; ä¸è¶³ </li><li>â€¦</li></ul><br><h3 id="ç³»åˆ—åœ°å€"><a href="#ç³»åˆ—åœ°å€" class="headerlink" title="ç³»åˆ—åœ°å€"></a>ç³»åˆ—åœ°å€</h3><p><a href="https://github.com/XMuli/QtExamples">QtExamples</a> </p><p>æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”<strong>æ°¸ä¹…å…è´¹</strong>ï¼â€</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºäºŒ ç»éªŒ </category>
          
          <category> å­¦ä¹  - Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è°ƒè¯• </tag>
            
            <tag> WinDbg </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WinDbgï¼šè°ƒè¯•ä¹‹é™„åŠ è¿›ç¨‹ç”Ÿæˆ dmpã€äºŒã€</title>
      <link href="/posts/b2a92409/"/>
      <url>/posts/b2a92409/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong> ä¸Šä¸€ç¯‡æœ‰äº› WinDbg çš„åŸºç¡€ç”¨æ³•ï¼Œæœ¬ç¯‡å¼€å§‹ä½¿ç”¨ WinDbg é™„åŠ è¿›ç¨‹è°ƒè¯•ï¼Œå¡ä½å´©æºƒåç”Ÿæˆ dmp æ–‡ä»¶ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="å…³è”"><a href="#å…³è”" class="headerlink" title="å…³è”"></a>å…³è”</h3><p>é™„ç›¸å…³ç›®å½•ï¼Œéšç€åç»­ä½¿ç”¨æ›´æ–°</p><ol><li><a href="https://xmuli.blog.csdn.net/article/details/123563647">WinDbgï¼šå…¥é—¨åˆ†æ dmp æ–‡ä»¶ã€ä¸€ã€</a></li><li><a href="https://xmuli.blog.csdn.net/article/details/123563753">WinDbgï¼šè°ƒè¯•ä¹‹é™„åŠ è¿›ç¨‹ç”Ÿæˆ dmpã€äºŒã€</a></li></ol><br><h3 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h3><p>ğŸ’»: <code>win10 21H2</code> ğŸ“ <code>WinDbg 10.0.22000.194</code></p><br><p><strong>æ­¥éª¤å¦‚ä¸‹</strong></p><ol><li><p>ç®¡ç†å‘˜è¿è¡Œ <code>windbg.exe</code></p></li><li><p>â€œFile - Attach to a processâ€¦â€ é™„åŠ è¿›ç¨‹</p><img src="https://raw.githubusercontent.com/XMuli/xmuliPic/pic/2022/202203172333738.png" width="25%"/ loading="lazy"></li><li><p>æ­¤æ—¶æŒ‰ä¸‹ F5 å¼€å¯è°ƒè¯•</p><img src="https://raw.githubusercontent.com/XMuli/xmuliPic/pic/2022/202203172333169.png" width="80%"/ loading="lazy"></li><li><p>åœ¨é™„åŠ çš„ç¨‹åºè¿›è¡Œ UI æ“ä½œï¼Œç­‰å¾…å´©æºƒä¸­æ–­ï¼Œæ­¤æ—¶ WinDbug ç•Œé¢ä¹Ÿä¼šå¡ä½</p></li><li><p>è¾“å…¥å‘½ä»¤ <code>.dump /ma åŒ…å«æ–‡ä»¶åçš„å…¨è·¯å¾„</code> ç”Ÿæˆ mini dmp åˆ°æœ¬åœ°ï¼›å¦‚æ‰§è¡Œ <code> .dump /ma D:/example.dmp</code> å‘½ä»¤</p> <img src="https://raw.githubusercontent.com/XMuli/xmuliPic/pic/2022/202203172333554.png" width="70%"/ loading="lazy"></li><li><p>å¸¸è§„ WinDbg çš„ä½¿ç”¨è°ƒè¯•ï¼Œè¯¦ç»†å¯å¸¸è§<a href="https://xmuli.blog.csdn.net/article/details/123563647">ä¸Šä¸€ç¯‡</a></p></li></ol><br><h3 id="ç³»åˆ—åœ°å€"><a href="#ç³»åˆ—åœ°å€" class="headerlink" title="ç³»åˆ—åœ°å€"></a>ç³»åˆ—åœ°å€</h3><p><a href="https://github.com/XMuli/QtExamples">QtExamples</a> </p><p>æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”<strong>æ°¸ä¹…å…è´¹</strong>ï¼â€</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºäºŒ ç»éªŒ </category>
          
          <category> å­¦ä¹  - Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è°ƒè¯• </tag>
            
            <tag> WinDbg </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…¥é—¨åˆ†æï¼Œå¤šçº¿ç¨‹ç«äº‰ä¸ºä½•ä¸å®‰å…¨ï¼Ÿ</title>
      <link href="/posts/8d66635b/"/>
      <url>/posts/8d66635b/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong> å…¥é—¨çº§åˆ«è®²è§£ï¼Œåˆ†æå¤šçº¿ç¨‹ç«äº‰åŒä¸€å…±äº«èµ„æºï¼Œè¿è¡Œç»“æœä¸ç¬¦é¢„æœŸçš„åŸå› ï¼›æ•…ä¹¦ä¸€ç®€ä¾‹ï¼Œè®²è§£ä½•è°“ <strong>éçº¿ç¨‹å®‰å…¨</strong> ï¼Ÿä»¥åŠä½¿ç”¨ atomic  å’Œ mutex æ¥è§£å†³æ­¤ç¼ºé™·åœºæ™¯ï¼Œæœ€ç»ˆ <strong>çº¿ç¨‹å®‰å…¨</strong> è·å¾—é¢„æœŸç»“æœã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="å—ä¼—"><a href="#å—ä¼—" class="headerlink" title="å—ä¼—"></a>å—ä¼—</h3><p>ã€€ã€€æœ‰åŸºæœ¬çš„å¤šçº¿ç¨‹ç†è®ºçŸ¥è¯†ï¼Œä½†æœªæ›¾æ·±å…¥ç ”ç©¶ â€œè¿è¡Œä¸ç¬¦é¢„æœŸç»“æœâ€ çš„èŒæ–°ï¼Ÿäº¦æˆ–å¯¹å¤šçº¿ç¨‹æœªæ›¾äº†è§£ï¼Œé“å¬é€”è¯´ã€çŸ¥è¯†ç‚¹æ¨¡ç³Šï¼Œå®é™…ä¸ç”šç†è§£åŸç†çš„è¯»è€…ã€‚éƒ½æ˜¯æœ¬æ–‡çš„æœ€ä½³è¯»è€…ã€‚è‹¥å·²æ—©ç†Ÿç»ƒå’Œç²¾é€šäºå¤šçº¿ç¨‹é¡¹ç›®ï¼Œå¯ç›´æ¥å…³é—­æœ¬æ–‡ï¼Œçæƒœæ—¶é—´ï¼Œå¯ä»¥ç”¨æ¥å¹²ç‚¹å…¶å®ƒçš„ä»€ä¹ˆï¼Œæ‘¸ä¸ªğŸŸï¼Œå–æ¯è‚¥å®…å¿«ä¹æ°´ï¼ˆåŠ å†°ï¼‰ã€‚</p><br><h3 id="åœºæ™¯"><a href="#åœºæ™¯" class="headerlink" title="åœºæ™¯"></a>åœºæ™¯</h3><p>ã€€ã€€åœ¨  <code>win10 21H1</code> ğŸ“  <code>Visual Studio 2019</code> çš„ç¯å¢ƒä¸­ï¼Œå†™äº†ä¸€ä¸ªæœ€ç®€å•çš„å¤šçº¿ç¨‹ä¾‹å­ï¼Œä¸‹é¢æ¥åˆ†æä¸€æ³¢ï¼š</p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &lt;thread&gt;#include &lt;iostream&gt;using namespace std;int g_num &#x3D; 0;void addition()&#123;    for (int i &#x3D; 0; i &lt; 5000; ++i) &#123;        g_num++;    &#125;&#125;int main()&#123;    thread th1(addition);    thread th2(addition);    th1.join();    th2.join();    cout &lt;&lt; &quot;g_num:&quot; &lt;&lt; g_num &lt;&lt; endl;    return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ã€€ã€€åŒæ—¶èµ·ä¸¤ä¸ªçº¿ç¨‹ th1ï¼Œth2ï¼›ä¸åšä»»ä½•é™åˆ¶ï¼›å¯¹åŒä¸€å…¨å±€å˜é‡ g_num è¿›è¡Œå†™å¢åŠ æ“ä½œï¼›<strong>é¢„æœŸ</strong> è¿è¡Œç»“æœ<u>ä¸€å®š</u>ä¸º 10000ã€‚<strong>ç†ç”±ä¸º</strong> å³ä½¿æ˜¯ä¸¤ä¸ªçº¿ç¨‹ç»è¿‡ CPU æ—¶é—´ç‰‡è½®è½¬ã€äº’ç›¸äº‰å¤ºæ­¤ g_num å˜é‡çš„å†™å¢åŠ ï¼›ä½†æ˜¯æ€»çš„æ˜¯æ¬¡æ•°æ¥çœ‹ï¼ŒLine 7-12 å³ä½¿äº’ç›¸å’¬åˆäº¤æ›¿æ‰§è¡Œï¼ˆçº¿ç¨‹ç«äº‰ï¼‰ï¼Œä½†æœ€ç»ˆæ­¤å‡½æ•° addition()ï¼ˆæ­¤æ®µä»£ç ç‰‡ï¼‰éƒ½ä¸€å®šè¢«è¿è¡Œäº† 5000 + 5000 &#x3D; 10000 æ¬¡ï¼›å¹¶ä¸”æ­¤å¤„åªæœ‰ä¸€è¡Œè‡ªå¢ä»£ç ï¼Œæ˜¯ä¸åº”è¯¥ä¼šæœ‰é—®é¢˜çš„ã€‚</p><br><p><strong>å®é™…è¿è¡Œç»“æœ</strong> ä¸ºï¼šæœ‰æ—¶å€™èƒ½æ•°æ®ä¸º 10000ï¼Œ æœ‰æ—¶å€™ä½äº 10000ï¼Œä¸¤è€…æ¦‚ç‡éƒ½å¾ˆå¤§ã€‚å’Œé¢„æœŸçš„ä¸ç¬¦åˆï¼Œè¢«æ‰“è„¸äº†ğŸ˜°ï¼›</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2022/20220112160258.png" width="50%"/ loading="lazy"><p>ã€€ã€€æ•…ç–¯ç‹‚åæ§½ CPU ä¸è®²æ­¦å¾·ï¼Œæ˜æ˜ä»£ç ç‰‡ä¼šè¿è¡Œ 10000 æ¬¡ï¼Œä½†æ˜¯æœ€ç»ˆç»“æœç»å¸¸ä¸ç¬¦åˆé¢„æœŸï¼ˆå¶å°”ä¼šç¬¦åˆé¢„æœŸï¼‰ï¼Œå®Œå…¨ä¸å¯æ§ã€‚æ­¤è¢«ç§°ä¸º <strong>çº¿ç¨‹ä¸å®‰å…¨</strong>ï¼Œå‡ºç°äº†å¤šçº¿ç¨‹ç«äº‰æƒ…å†µï¼Œå¯¼è‡´ç»“æœæœªèƒ½ç¬¦åˆé¢„æœŸã€‚</p><br><p>é€ æˆå·®å¼‚çš„ <strong>æ ¹å› åˆ†æ</strong> ï¼š</p><p>ã€€ã€€å³ä½¿æ˜¯ä»…ä¸€è¡Œ <code>g_num++;</code>  ä»£ç ï¼Œä¹Ÿå±äºé«˜çº§è¯­è¨€ï¼Œè¢«ç¼–è¯‘å™¨ç¿»è¯‘ä¸ºæ±‡ç¼–ï¼ˆä½çº§è¯­è¨€ï¼‰åï¼Œæ˜¯è¢«è§£é‡Šä¸ºå¤šè¡Œæ±‡ç¼–è¯­è¨€æ‰§è¡Œçš„; è€Œ CPU æ¯æ¬¡æ‰§è¡Œçš„æœ€å°å•ä½å¯çœ‹ä½œæ˜¯ä¸€æ¡ç²¾ç®€çš„æŒ‡ä»¤ï¼ˆæ­¤å¤„å§‘ä¸”ç†è§£ä¸ºä¸€è¡Œæ±‡ç¼–ä»£ç ï¼‰ã€‚ä½ ä»¥ä¸ºåªæ‰§è¡Œä¸€è¡Œä»£ç  C++ ä»£ç ï¼Œå®é™…åˆ™æ˜¯æ‰§è¡Œä¸‰è¡Œæ±‡ç¼–ä»£ç ã€‚æ­¤å±äºéåŸå­æ“ä½œã€æˆ–éæœ€å°æ‰§è¡Œå•ä½çš„æœºå™¨æŒ‡ä»¤ã€‚æ­¤æ—¶å¤šçº¿ç¨‹åˆ‡æ¢å‡ºå»ï¼ŒæŸç§å·§åˆæƒ…å†µä¸‹ä¼šå¾—å‡ºé”™è¯¯ç»“æœï¼ˆä¸‹æ–‡æœ‰è¯¦ç»†åˆ†æï¼‰ã€‚</p><br><hr><h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>ã€€ã€€ä»¥ä¸Šä¹Ÿä»…ä»…æ˜¯æ£æµ‹ï¼Œä¸‹é¢ä¸€å—çœ‹å®é”¤ã€‚åœ¨ VS 2019 ä¸­ <code>Line 9ï¼š  g_num++;</code>  å¤„è¡Œæ‰“ä¸Š F9  æ–­ç‚¹ï¼ŒDebug æ¨¡å¼ä¸‹ F5 è°ƒè¯•å¡ä½æ­¤è¡Œï¼Œå³é”®èœå•é€‰ä¸­ â€œè½¬åˆ°åæ±‡ç¼–(T) â€ï¼Œå¯çœ‹åˆ°å¦‚ä¸‹ä»£ç ç‰‡ï¼Œè¿›è¡Œ C++ çš„å¯¹åº”çš„æ±‡ç¼–åˆ†æã€‚</p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">        g_num++;00C310EF  mov         ecx,dword ptr [g_num (0C353F8h)]          &#x2F;&#x2F; å°† g_num çš„å†…å®¹å†™å…¥åˆ° ecx00C310F5  add         ecx,1                                     &#x2F;&#x2F; è®¡æ•°å™¨ ecx æ•°å€¼åŠ  100C310F8  mov         dword ptr [g_num (0C353F8h)],ecx          &#x2F;&#x2F; å°† ecx çš„å†…å®¹å†™å…¥åˆ° g_num ä¸­<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ­¤ä¸‰è¡Œæ±‡ç¼–åˆ†æè‡³æ­¤ï¼Œåªèƒ½è¯´çœŸçš„å·²åˆ°äº†æœ€åº•å±‚ï¼Œæ— æ³•å†å¾€ä¸‹ç»™ä½ åˆ¨æ›´åº•å±‚äº†<del>ï¼ˆ 01010101 äºŒè¿›åˆ¶å¯ä¸ç®—ï¼‰</del>ã€‚</p><br><p><strong>æ±‡ç¼–è¯­è¨€å‚¨å¤‡ï¼š</strong></p><ul><li>mov æŒ‡ä»¤ï¼šæ®ä¼ é€æŒ‡ä»¤ï¼Œç”¨äºå°†ä¸€ä¸ªæ•°æ®ä»æºåœ°å€ä¼ é€åˆ°ç›®æ ‡åœ°å€ï¼ˆå¯„å­˜å™¨é—´çš„æ•°æ®ä¼ é€æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€æ ·çš„ï¼‰ã€‚å…¶ç‰¹ç‚¹æ˜¯ä¸ç ´åæºåœ°å€å•å…ƒçš„å†…å®¹ã€‚</li><li>add æŒ‡ä»¤: åŠ æ³•æŒ‡ä»¤, ä¸¤æ•°ç›¸åŠ ã€‚</li><li>ecxï¼šè®¡æ•°å™¨(counter), æ˜¯é‡å¤(REP)å‰ç¼€æŒ‡ä»¤å’ŒLOOPæŒ‡ä»¤çš„å†…å®šè®¡æ•°å™¨ã€‚</li></ul><br><p>ã€€ã€€ç»“åˆä»£ç åˆ†æå¤šçº¿ç¨‹è¿è¡Œï¼š</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2022/20220112_154750.png" width="90%"/ loading="lazy"><p>å¯¹äºå‡ºç°å¤šçº¿ç¨‹ç«äº‰æƒ…å†µï¼Œå®é™…è¿è¡Œç»“æœä¸º 5000 å¤šï¼ŒåŒ–æŠ½è±¡ä¸ºä¸€å…·ä½“ç†è§£ã€‚æ¯æ¬¡æ‰§è¡Œ <code>g_num++;</code> ä¸‰è¡Œæ±‡ç¼–ä»£ç æ—¶ï¼Œçº¿ç¨‹ th1 ã€th2 æ¯æ¬¡éƒ½æŒ‰ç…§å¦‚ä¸‹å¾ªåºäº¤æ›¿è¿è¡Œï¼›</p><ul><li>ã€1æ­¥éª¤ã€‘th1:  A</li><li>ã€2æ­¥éª¤ã€‘th2: â‘ </li><li>ã€3æ­¥éª¤ã€‘th1:  B</li><li>ã€4æ­¥éª¤ã€‘th2: â‘¡</li></ul><br><p>ã€€ã€€æŒ‰ç…§æ­¤é¡ºåºæ¥æ¨¡æ‹Ÿæ‰§è¡Œä¸€éï¼Œæ¯ä¸€æ­¥éª¤ç»“æœå¦‚ä¸‹ï¼š</p><table><thead><tr><th align="center">&#x2F;&#x2F; ç¬¬ä¸€æ¬¡è¿›æ¥ g_num &#x3D; 0</th><th></th><th align="center">ecxçš„å€¼</th><th align="center">ptr[g_num (0C353F8h)]çš„æ•°å€¼</th></tr></thead><tbody><tr><td align="center">æ‰§è¡Œã€1æ­¥éª¤ã€‘th1:  A</td><td></td><td align="center">0</td><td align="center">0</td></tr><tr><td align="center"></td><td></td><td align="center">1</td><td align="center">0</td></tr><tr><td align="center"></td><td></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">æ‰§è¡Œã€2æ­¥éª¤ã€‘th2: â‘ </td><td></td><td align="center">0ï¼ˆéå¸Œæœ›çš„ç»“æœï¼Œçº¿ç¨‹ç«äº‰é”™è¯¯æ ¹å› ï¼‰</td><td align="center">0( æ­¤æ—¶æœªè¢«æ”¹å˜)</td></tr><tr><td align="center"></td><td></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">æ‰§è¡Œã€3æ­¥éª¤ã€‘th1:  B</td><td></td><td align="center">0</td><td align="center">0</td></tr><tr><td align="center"></td><td></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">æ‰§è¡Œã€4æ­¥éª¤ã€‘th2: â‘¡</td><td></td><td align="center">1</td><td align="center">0</td></tr><tr><td align="center"></td><td></td><td align="center">1</td><td align="center">1(è™½å…±è¿è¡Œä¸¤æ¬¡åŠ 1ï¼Œå¯æœ€ç»ˆç»“æœå´ä¸º1)</td></tr></tbody></table><p>ã€€ã€€å¯å‘ç°ï¼Œçº¿ç¨‹ th1 å’Œ th2 å„è‡ª<strong>äº¤æ›¿</strong> çš„æ‰§è¡Œä¸€éå®Œæ•´çš„  addition() å‡½æ•°åï¼Œå…±æ‰§è¡Œäº†ä¸¤éå¯¹ <code>g_num++</code>  çš„æ“ä½œï¼Œä½†æ˜¯å…¶ç»“æœåªä¼šå¢åŠ ä¸€éã€‚æ¯æ¬¡æŒ‰ç…§æ­¤é¡ºåºçº¿ç¨‹äº¤æ›¿æ­Œæ‰§è¡Œ 5000 æ¬¡åï¼Œæœ€ç»ˆçš„ç»“æœå°±æ˜¯ 5000ã€‚ä½†å®é™…æ€»æœ‰é‚£ä¹ˆå‡ æ¬¡æ˜¯è¢« th1 æ‰§è¡Œå®Œæˆäº†åï¼Œæ‰åˆ‡æ¢åˆ° th2 æ‰§è¡Œï¼Œæ•…è€Œå®é™…è¿è¡Œç»“æœä¸º 5000å‡ºç‚¹å¤´å·¦å³ï¼›ä¹Ÿç®—æ˜¯å°è¯äº†æ— é™åˆ¶çš„å¤šçº¿ç¨‹ç«äº‰è¯»å†™åŒä¸€èµ„æºï¼Œä¼šå‡ºç°ä¸ç¬¦åˆé¢„æœŸçš„æƒ…å†µã€‚</p><br><hr><h3 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h3><p>ã€€ã€€é—®é¢˜äº§ç”Ÿäº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥å¦‚ä½•ä¿®æ­£ã€æˆ–é¿å…æ­¤æƒ…å†µå‘¢ï¼Ÿå®é™…çš„è§£å†³çš„æ–¹å¼å°±æœ‰å¾ˆå¤šç§äº†ï¼Œè¿™é‡Œæä¸¤ç§æ–¹æ¡ˆï¼Œæœ€ç»ˆä»£ç å¦‚ä¸‹</p><ul><li>å®šä¹‰ä¸º <a href="https://en.cppreference.com/w/cpp/atomic/atomic">åŸå­å˜é‡æ“ä½œ atomic</a> ï¼›</li><li>å¯¹å¤šçº¿ç¨‹è®¿é—®çš„å…±äº«èµ„æºè¿›è¡Œ<a href="https://en.cppreference.com/w/cpp/thread/mutex">åŠ é” mutex</a></li></ul><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &lt;atomic&gt;#include &lt;mutex&gt;#include &lt;thread&gt;#include &lt;iostream&gt;using namespace std;&#x2F;&#x2F; æ–¹æ¡ˆä¸€ï¼šå®šä¹‰ä¸ºåŸå­å˜é‡ atomic&#x2F;&#x2F;atomic&lt;int&gt; g_num &#x3D; 0;&#x2F;&#x2F; æ–¹æ¡ˆäºŒï¼šåŠ é” mutexint g_num &#x3D; 0;mutex g_mutex;void addition()&#123;for (int i &#x3D; 0; i &lt; 5000; ++i) &#123;        g_mutex.lock();        g_num++;        g_mutex.unlock();    &#125;&#125;int main()&#123;    thread th1(addition);    thread th2(addition);    th1.join();    th2.join();    cout &lt;&lt; &quot;g_num:&quot; &lt;&lt; g_num &lt;&lt; endl;    return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h4 id="æ–¹æ¡ˆä¸€ï¼ˆatomicï¼‰"><a href="#æ–¹æ¡ˆä¸€ï¼ˆatomicï¼‰" class="headerlink" title="æ–¹æ¡ˆä¸€ï¼ˆatomicï¼‰"></a>æ–¹æ¡ˆä¸€ï¼ˆatomicï¼‰</h4><p>ã€€ã€€å¦‚æœæ¯æ¬¡èƒ½å¤Ÿå°† <code>g_num++;</code> çš„ä¸‰è¡Œæ±‡ç¼–æ†ç»‘æ‰“åŒ…ï¼Œæ‰§è¡Œå®Œè¿™ä¸€å¨ä¹‹åï¼Œ CPU æ‰ä¼šåˆ‡åˆ°å…¶å®ƒçº¿ç¨‹ï¼Œé‚£ä¹ˆæ­¤é—®é¢˜ä¾¿è¿åˆƒè€Œè§£ã€‚å·§äº†ï¼›å‰è¾ˆä»¬æ—©æä¾›å·¥å…·å®ç°æ­¤æ„¿æœ›  â€“ åŸå­æ“ä½œ atomicï¼›</p><p>åªéœ€è¦ä¿®æ”¹ä¸€è¡Œä»£ç å³å¯ï¼Œå³å¯ä¿è¯æ­¤è‡ªå¢ä»£ç ä¸€å®šæ˜¯åŸå­æ“ä½œçš„ã€‚</p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">&#x2F;&#x2F; atomicatomic&lt;int&gt; g_num &#x3D; 0;   &#x2F;&#x2F; æ›¿æ¢ int g_num &#x3D; 0;  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ã€€ã€€å†çœ‹ä¸€çœ¼æ±‡ç¼–ä¹Ÿå‘ç”Ÿäº†å˜åŒ–ï¼Œä»è€Œç¡®ä¿äº†æ­¤è¡Œå¯¹  g_num çš„è‡ªå¢ä¸€å®šæ˜¯åŸå­æ“ä½œçº§åˆ«çš„ï¼ˆå§‘ä¸”ç†è§£ä¸ºï¼šæ­¤åŸå­è¡Œä¸ºä¸å¯å†åˆ†å‰²å¤šä¸ªæ­¥éª¤ï¼›æˆ– CPU ä¸€å®šæ˜¯è¿è¡Œæ­¤æ†ç»‘çš„å‡ è¡Œåï¼Œæ‰ä¼šåˆ‡ç»™å…¶å®ƒçº¿ç¨‹ï¼‰ï¼›</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2022/20220112171733.png" width="70%"/ loading="lazy"><p>æ— è®ºè¿è¡Œå¤šå°‘æ¬¡ï¼Œæ­¤ç»“æœä¸€å®šæ˜¯ç¬¦åˆé¢„æœŸçš„ 10000ï¼›æ­¤ä¹Ÿè¢«ç§°ä½œä¸º <strong>çº¿ç¨‹å®‰å…¨</strong> ã€‚å’Œä½¿ç”¨å•çº¿ç¨‹è¿è¡Œå’Œç»“æœæ˜¯ä¸€è‡´çš„ã€‚</p><br><h4 id="æ–¹æ¡ˆäºŒï¼ˆmutexï¼‰"><a href="#æ–¹æ¡ˆäºŒï¼ˆmutexï¼‰" class="headerlink" title="æ–¹æ¡ˆäºŒï¼ˆmutexï¼‰"></a>æ–¹æ¡ˆäºŒï¼ˆmutexï¼‰</h4><p>ã€€ã€€åœ¨ <code>g_num++;</code> çš„ä¸Šé¢ä½¿ç”¨åŒä¸€æŠŠäº’æ–¥é” <code>mutex g_mutex;</code> å¯¹å…±äº«èµ„æºè¿›è¡ŒåŠ é”å’Œè§£é”ï¼Œç¡®ä¿å…±äº«å…¨å±€å˜é‡çš„å†™æ“ä½œï¼Œæ¯æ¬¡<strong>ä»…</strong> åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹å¯¹å…¶å†™æ“ä½œï¼Œä½¿ç”¨æœŸé—´å…¶å®ƒçº¿ç¨‹ä¸èƒ½å¯¹æ­¤å†™æ“ä½œï¼Œè‹¥å…¶å®ƒçº¿ç¨‹ä»£ç æ‰§è¡Œåˆ°åŠ é”å¤„ï¼Œåˆ™å˜æ›´ä¸ºç­‰å¾…çŠ¶æ€ï¼›åªæœ‰è¢«å½“å‰çº¿ç¨‹ä½¿ç”¨å®Œæ¯•è§£é”åï¼Œå…¶å®ƒçº¿ç¨‹æ‰å¯ä»¥å»åŠ é”ï¼Œè¿›è¡Œæ•°å€¼ä¿®æ”¹ï¼Œä¿®æ”¹å®Œæˆåä¹Ÿä¼šå¯¹åº”çš„è§£é”ã€‚å¦‚æ­¤å¾ªç¯å¾€å¤ã€‚æœ€ç»ˆä¹Ÿæ˜¯å¾—åˆ°ç¬¦åˆé¢„æœŸçš„ç»“æœï¼ŒåŠ é”åä¹Ÿå±äº <strong>çº¿ç¨‹å®‰å…¨</strong> çš„ã€‚<strong>åŠ é”çš„åŸç†</strong> å¯¹åº”ç°å®ç”Ÿæ´»ï¼Œå°±æ˜¯å¤šäººä¸Šå•æ‰€ï¼Œå…ˆè¿›å»çš„æŠŠå•æ‰€é—¨å…³äº†ï¼Œåæ¥çš„äººåªèƒ½é—¨å¤–ç­‰ç€ï¼Œä¸Šä¸€ä¸ªäººç”¨å®Œåå¼€é—¨åï¼Œå…¶ä»–äººæ‰èƒ½è¿›å»ï¼›å¾ªç¯å¾€å¤ï¼ˆå°±åƒå†å²æ€»æ˜¯å¾ªç¯äº¤æ›¿ä¸€æ ·ï¼‰ã€‚</p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">&#x2F;&#x2F; åŠ é” mutexint g_num &#x3D; 0;mutex g_mutex;void addition()&#123;for (int i &#x3D; 0; i &lt; 5000; ++i) &#123;        g_mutex.lock();        g_num++;        g_mutex.unlock();    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h5 id="é¢å¤–æ¢ç´¢"><a href="#é¢å¤–æ¢ç´¢" class="headerlink" title="é¢å¤–æ¢ç´¢"></a>é¢å¤–æ¢ç´¢</h5><p>ã€€ã€€ä½¿ç”¨åŠ é”çš„ç›®çš„å’Œé¢„æœŸæˆ‘ä»¬å·²ç»è¾¾åˆ°äº†ï¼Œä½†æ˜¯å¯ä»¥å†æ›´è¿›ä¸€æ­¥æ¢ç´¢ï¼›æ•…æ„å†™ä¸€è¡Œ cout &lt;&lt; æ‰“å°è¯­å¥ï¼Œå†æ‰§è¡ŒåŠ é”ï¼›</p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">&#x2F;&#x2F;  mutexint g_num &#x3D; 0;mutex g_mutex;void addition()&#123;for (int i &#x3D; 0; i &lt; 5000; ++i) &#123;        cout &lt;&lt; &quot;threadId:&quot; &lt;&lt; this_thread::get_id() &lt;&lt; &quot;  g_num:&quot; &lt;&lt; g_num &lt;&lt; endl;        g_mutex.lock();  &#x2F;&#x2F; å°è¯•å’Œä¸Šä¸€è¡Œçš„ cout è¡Œäº’æ¢ä½ç½®        g_num++;        g_mutex.unlock();    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ã€€ã€€å‘ç° g_num çš„æœ€ç»ˆç»“æœ <strong>æ€»</strong> æ˜¯ç¬¦åˆé¢„æœŸçš„ï¼Œä½†æ˜¯ cout &lt;&lt; è¾“å‡ºè¯­å¥å‡ºç°äº†é”™ä¹±ï¼ï¼ï¼ æ˜¯ä¸æ˜¯æœ‰ä¸€ç§æ—¶æ›¾ç›¸è¯†çš„æ„Ÿè§‰ï¼Œç”šæ˜¯çœ¼ç†Ÿï¼›ä½ çœ‹åƒä¸åƒâ€œè¿™ä¸€è¡Œè¢«ç¿»è¯‘ä¸ºäº†å¤šè¡Œæ±‡ç¼–æŒ‡ä»¤ï¼Œä½†æ˜¯è¿™ä¸€æ¨æ±‡ç¼–æŒ‡ä»¤è¿˜æ²¡æ‰§è¡Œå®Œæ¯•ï¼Œå°±è¢« CPU é€šè¿‡æ—¶é—´ç‰‡è½®è½¬ï¼Œåˆ‡æ¢åˆ°å…¶ä»–çº¿ç¨‹äº†ã€‚â€ ï¼Ÿï¼Ÿï¼Ÿ</p><p>ã€€ã€€cout&lt;&lt;  çš„åº•å±‚æ˜¯ä¼šè°ƒç”¨ç³»ç»Ÿçº§çš„è¾“å‡ºå‡½æ•°çš„ï¼Œæ­¤æ—¶ä¼šç”±ç”¨æˆ·æ€åˆ‡æ¢ä¸ºå†…æ ¸æ€ï¼›ä¸”æ‰“å°è¯­å¥ä¸€èˆ¬ä¹Ÿè€—æ—¶ï¼ˆç›¸å¯¹ï¼‰ï¼Œç»“åˆä¸¤è€…æƒ…å†µï¼Œæ˜¯å¾ˆå®¹æ˜“å‡ºç°ä¸‹å›¾çš„æ­¤æƒ…å†µçš„ï¼Œè¾“å‡ºè¯­å¥è¢«äº¤æ›¿æ‰§è¡Œã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2022/20220112181103.png" width="80%"/ loading="lazy"><p>è€Œå°† <code>g_mutex.lock();</code> å’Œ <code>cout &lt;&lt; xxx</code> è¡Œäº’æ¢æ—¶ï¼Œè¿è¡Œçš„ç»“æœæ¯ä¸€è¡Œéƒ½æ˜¯ç¬¦åˆé¢„æœŸçš„ã€‚è¿è¡Œç»“æœå…¨æ˜¯è¿™ç§ï¼Œæ•´æ•´é½é½çš„ï¼š</p><pre class="line-numbers language-none"><code class="language-none">threadId:21496  g_num:9994threadId:21496  g_num:9995threadId:21496  g_num:9996threadId:21496  g_num:9997threadId:21496  g_num:9998threadId:21496  g_num:9999g_num:10000<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="æºç "><a href="#æºç " class="headerlink" title="æºç "></a>æºç </h3><p><a href="https://github.com/xmuli/QtExamples">https://github.com/xmuli/QtExamples</a>ã€ExThreadSafetyã€‘</p><br><hr><h3 id="æç¤º"><a href="#æç¤º" class="headerlink" title="æç¤º"></a>æç¤º</h3><p>ã€€ã€€è‹¥æ˜¯è‡ªå·±å†™ä¾‹å­çš„è¯ï¼Œæ¨èåœ¨ for å¾ªç¯ä¸­ çš„æ¬¡æ•°å†™å¤§ä¸€ç‚¹ï¼›åŠ å†™ä¸€å¥ printf() æˆ– cout&lt;&lt; è¾“å‡ºï¼Œéƒ½æ˜¯å¾ˆå®¹æ˜“å¾—åˆ°çº¿ç¨‹ä¸å®‰å…¨çš„è¿è¡Œç»“æœã€‚å¦å¤–è‹¥æ˜¯å†™åœ¨ main() ä¸­ï¼Œåˆ™ç”¨ <code>th1.join();</code> å‡½æ•°ï¼Œç”¨æ¥é˜»å¡ç­‰å¾…çº¿ç¨‹é€€å‡ºï¼Œè·å–çº¿ç¨‹é€€å‡ºçš„çŠ¶æ€ï¼›è€Œåœ¨ç±»æˆ–è€…å‡½æ•°ä¸­ï¼Œåˆ™ä½¿ç”¨ <code>.detach()</code> æ¥è®¾ç½®è®¾ç½®çº¿ç¨‹åˆ†ç¦»çš„å±æ€§ã€‚å…³äºå·®å¼‚å·®å¼‚å¯å‚è€ƒ <a href="https://xmuli.blog.csdn.net/article/details/105620043">æ­¤æ–‡</a> ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºäºŒ ç»éªŒ </category>
          
          <category> å­¦ä¹  - Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¤šçº¿ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>â€œ.inlâ€æ–‡ä»¶åœ¨C++å·¥ç¨‹çš„æ„ä¹‰</title>
      <link href="/posts/bbc9c22/"/>
      <url>/posts/bbc9c22/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€<code>.inl</code> åœ¨ C++ å¤§å‹å·¥ç¨‹é¡¹ç›®ä¸­çš„ä½œç”¨ï¼Ÿ</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>ã€€ã€€æœ€è¿‘çœ‹å®‰å…¨é¡¹ç›®ä»£ç ï¼Œå‘ç°åŸºç¡€å…¬å…±åº“é‡Œé¢ä½¿ç”¨åˆ°äº†å¤§é‡çš„</p><ol><li>å†…è” <code>__inline</code> ã€</li><li>å­—ç¬¦ä¸² <code>typedef</code> æ›¿æ¢</li><li>æ¨¡æ¿ <code>template &lt; typename TYPE&gt;</code> ç­‰ï¼›</li></ol><p>åœ¨å…¬å…± <code>src</code> æ–‡ä»¶å¤¹ä¸­ï¼Œä»…æœ‰ <code>.h</code> å’Œ <code>.inl</code> æ–‡ä»¶ï¼Œè€Œæ— ä¸€ <code>.cpp</code> æ–‡ä»¶ï¼Ÿ</p><br><h3 id="ç†è§£"><a href="#ç†è§£" class="headerlink" title="ç†è§£"></a>ç†è§£</h3><p><strong>.inl æ–‡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p><p>å¯ä»¥ç†è§£ä¸º .cpp æ–‡ä»¶</p><ol><li>æ–‡ä»¶åç¼€åæ˜¯æ¯«æ— æ„ä¹‰çš„ï¼Œæœ€å¥½çš„ä¾‹å­å°±æ˜¯æ— ä»»ä½•æ‰©å±•åçš„ STL å¤´æ–‡ä»¶ã€‚å¯¹ç¼–è¯‘å™¨ä¹Ÿæ²¡æœ‰ç‰¹æ®Šå«ä¹‰ï¼›</li><li>ä»…ä¸€ç§çº¦å®šçš„è§„åˆ™ï¼Œè¡¨æ˜è¿™é‡Œè¿™é‡Œé¢æ˜¯ä¸€äº›å†…è”å‡½æ•°å’Œæ¨¡æ¿çš„å®ç°ã€‚</li><li>æŸç§æç«¯ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œå¯ä»¥è§£å†³äº’ç›¸åŒ…å«å’Œå‰ç½®å£°æ˜æ— æ³•ç¼–è¯‘é€šè¿‡çš„åœºæ™¯ã€‚</li></ol><br><p><strong>ä½•æ—¶ä½¿ç”¨ï¼Ÿ</strong></p><ol><li>ç”¨äºå†…è”å‡½æ•°çš„å®šä¹‰</li><li>ç”¨äºåŠŸèƒ½æ¨¡æ¿çš„å®šä¹‰</li></ol><p>ä¸”é€šå¸¸ä¼šåœ¨ .h æ–‡ä»¶çš„å°¾éƒ¨ï¼Œä½¿ç”¨ #include åŒ…å«æ­¤æ–‡ä»¶ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºäºŒ ç»éªŒ </category>
          
          <category> å­¦ä¹  - Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å·¥ç¨‹ç»éªŒ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çœ ` å¿†å¿</title>
      <link href="/posts/231ad227/"/>
      <url>/posts/231ad227/</url>
      
        <content type="html"><![CDATA[<span id="more"></span><center>    <div class="heti heti--poetry">        <h3>çœ `   å¿†å¿            <br>            <span class="heti-meta heti-small">[ä»Š]                <abbr title="https://github.com/XMuli">å•è‡§</abbr></span>        </h2>        <br>        <p class="heti-verse heti-x-large">ç¡å‰ä¾æœªçœ ï¼Œæ€ç»ªä¹±é£            <span class="heti-hang">ã€‚</span>            <br>å¿½å¿†èµ·ä½ è²Œï¼Œå”‡ç¬‘ç”šç”œ            <span class="heti-hang">ã€‚</span>            <br>èµ°é©¬èŠ±ç¯èµ·ï¼Œç›¸è¯†å‡ è½½            <span class="heti-hang">ã€‚</span>            <br>æ¬£æ¬£ç„¶å•æ¸¸ï¼Œå‹æ‘„ä½ æˆ‘            <span class="heti-hang">ã€‚</span>            <br>ç­å¿™æœ‰å·é—²ï¼Œä¸¤åœ°äº’å¾€            <span class="heti-hang">ã€‚</span>            <br>æŒ½æ‰‹å…±èµæ™¯ï¼Œåƒå–åŒä¹            <span class="heti-hang">ã€‚</span>            <br>å¤œæ·±çªƒç§è¯­ï¼Œäº’å€¾æ€å¿µ            <span class="heti-hang">ã€‚</span>            <br>äº’é€è½¦ç«™ç¦»ï¼Œè®¸äº›ç‰µæŒ‚            <span class="heti-hang">ã€‚</span>            <br>ä¸€ç¬è¿‡æ•°è½½ï¼Œçš†å¤šæ„‰æ‚¦            <span class="heti-hang">ã€‚</span>            <br>å¶æ„¤ä¸è¨€æˆ‘ï¼Œæˆ‘äº¦ä¸æ‚¦            <span class="heti-hang">ã€‚</span>            <br>å¾å¿ƒå¸¸ç‰µæŒ‚ï¼Œæ„¿å€¾å¬ä¹‹            <span class="heti-hang">ã€‚</span>            <br>æˆ–ä¸€æ—¶æ— è§£ï¼Œä¸å¿åˆ†å¿§            <span class="heti-hang">ã€‚</span>            <br>çœ¼è½å‡ æ»´æ³ªï¼Œæ¹¿äº†æ•å¸­            <span class="heti-hang">ã€‚</span>            <br>ç„¶éæ„Ÿè‹¦æ¥šï¼Œçš†ä¸ºç”œå¿†            <span class="heti-hang">ã€‚</span>            <br>æ„Ÿé‚‚é€…ç›¸é‡ï¼Œä¸å­å•è‡§            <span class="heti-hang">ã€‚</span>            <br>æ„¿æºæ‰‹ä½™ç”Ÿï¼Œè¯·å¤šæŒ‡æ•™            <span class="heti-hang">ã€‚</span>            <br>æ‚²æƒ…ä¸€å£°å¹ï¼Œä¸€è§‰æ¢¦é†’            <span class="heti-hang">ã€‚</span>            <br></p>    </div></center><br><br><div align=center>    <img src="https://cdn.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202205031537136.jpg" width="35%"/ loading="lazy"></div><br><blockquote><p>äºŒé›¶äºŒäºŒï¼Œä¸€æœˆï¼Œäºå¸éƒ½</p></blockquote><br>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´» - é—²æš‡çš„è¶£é—» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> äººé—´çƒŸç« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”±äºæ‰¾ä¸åˆ°VCRUNTIME140D.dllï¼Œæ— æ³•ç»§ç»­æ‰§è¡Œä»£ç </title>
      <link href="/posts/bcdc71c/"/>
      <url>/posts/bcdc71c/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€è®°å½•ä¸€ä¸ªæ–°å»ºç©ºé¡¹ç›®ï¼Œåœ¨MSVC2017 ä¸­ï¼Œ <strong>Debugç¼–è¯‘æˆåŠŸï¼Œè¿è¡Œå¤±è´¥ï¼›ä½† Releaseç¼–è¯‘å’Œè¿è¡Œå‡æˆåŠŸ</strong> çš„åœºæ™¯è§£å†³ï¼›æ¯•ç«Ÿä¸èƒ½å¤Ÿè°ƒè¯•å¾ˆç—›è‹¦ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>ã€€ã€€</p><p>ã€€ã€€åˆï¼Œå†™çš„ CMake é¡¹ç›®è½¬æ¢ä¸º VS 2017 è§£å†³æ–¹æ¡ˆï¼Œæ‰“å¼€ .sln åï¼Œ**åœ¨ Debug æ¨¡å¼ä¸‹ç¼–è¯‘æˆåŠŸï¼Œè¿è¡Œå¤±è´¥ä¸”æŠ¥é”™ï¼›ä½† Release ä¸‹ç¼–è¯‘å’Œè¿è¡ŒæˆåŠŸã€‚å›°æƒ‘ä¸€æœˆæœ‰ä½™ã€‚ **ğŸ’» ä¸º  <code>win10 21H1</code>  ğŸ“  <code>Visual Studio 2017</code> </p><p>â€‹æ˜¨ï¼Œå¿½ç„¶æƒ³åœ¨ VS 2017 åˆ›å»ºä¸€ä¸ªç©ºçš„ C++ ç¨‹åºï¼Œå‘ç°åŒæ ·æƒ…å†µã€‚é‚£å°±æ˜¯ VS çš„é”…äº†ã€‚å‘å‘å‘ï¼ï¼ï¼</p><br><h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>  ã€€ã€€åœ¨ debug ç¼–è¯‘æˆåŠŸåï¼Œè¿è¡Œå¤±è´¥åˆ™ä¼šæŠ¥é”™å¦‚ä¸‹ï¼š<code>ç”±äºæ‰¾ä¸åˆ° VCRUNTIME140D.dllï¼Œæ— æ³•ç»§ç»­æ‰§è¡Œä»£ç ã€‚é‡æ–°å®‰è£…ç¨‹åºå¯èƒ½ä¼šè§£å†³æ­¤é—®é¢˜ã€‚</code></p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2022/Snipaste_2022-01-07_00-49-14.png" width="50%"/ loading="lazy"><br><h3 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h3><p>ä¾æ¬¡å°è¯•è¿‡ä»¥ä¸‹è§£å†³æ–¹æ¡ˆï¼Œ<font color=#FF0000>æœ€ç»ˆæ˜¯ç¬¬äºŒæ­¥å’Œç¬¬ä¸‰æ­¥è§£å†³çš„ã€‚</font></p><ul><li><p>ä¸‹è½½ <code>VCRUNTIME140D.dll</code> æ‹·è´åˆ° <code>C:\Windows\System32</code> ã€ <code>C:\Windows\SysWOW64</code> åï¼Œè™½ç„¶ä¸å†æŠ¥æ­¤é”™ï¼Œä½†æ˜¯æŠ¥å…¶ä»–é”™ï¼Œä¸”æ— æœ‰æ•ˆæç¤ºä¿¡æ¯ã€‚ é‚åˆ é™¤æ‹·è´çš„ .dll ä½œç½¢ã€‚</p></li><li><p>å°è¯•ç½‘ä¸Šæœ€å¤šè§£å†³æ•™ç¨‹ä¸ºä¸‹è½½ <a href="https://www.microsoft.com/en-US/download/details.aspx?id=48145">Visual C++ Redistributable for Visual Studio 2015</a>ï¼Œ<strong>å½“ x86 å’Œ x64 éƒ½å®‰è£…</strong> åï¼Œä¾æ—§æ— æ•ˆï¼›å†åæ¥æƒ³åˆ°éš¾é“æ˜¯æ”¯æŒåˆ° VS 2015ï¼Œè€Œæˆ‘æ˜¯ VS 2017ï¼Œé‚å¸è½½æ—§çš„ï¼Œä¸‹è½½æ›´æ–°çš„ç‰ˆæœ¬é‡æ–°å®‰è£…ï¼Œä¾æ—§æ— æ•ˆã€‚äº‹ååœ¨æš´é›¨ä¸­å“­æ³£ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2022/20220109181257.png" width="100%"/ loading="lazy"><br><p>PSï¼šRedistributable å®é™…æ˜¯æ”¯æŒåˆ° 2015-2019 çš„ï¼Œç†è®ºæ˜¯å®Œå…¨æ²¡é—®é¢˜çš„ã€‚åæ¥è¿˜æ˜¯æ”¹ä¸ºä¸‹è½½ä¸€ä¸ªæ›´æ–°çš„ 2015-2022 éƒ½æ”¯æŒçš„</p><ul><li><a href="https://www.microsoft.com/zh-CN/download/details.aspx?id=48145">Visual C++ Redistributable for Visual Studio 2015</a>ï¼šMicrosoft Visual C++ 2015-2019 Redistributable </li><li><a href="https://docs.microsoft.com/zh-cn/cpp/windows/latest-supported-vc-redist?view=msvc-170"> Redistributable 2015-2022</a>ï¼šMicrosoft Visual C++ 2015-2022 Redistributable</li></ul></li><li><p>æ§åˆ¶é¢æ¿æ‰“å¼€ <code>Visual Studio Installer</code> å³é”®ä¿®å¤ï¼›é€‰æ‹©ä¿®æ”¹ï¼Œåœ¨ç•Œé¢é»˜è®¤åªé€‰æ‹© â€œä½¿ç”¨ C++ çš„æ¡Œé¢å¼€å‘â€ å’Œ â€œä½¿ç”¨ C++ çš„ Linux å¼€å‘â€ çš„ä¸¤ä¸ªé»˜è®¤çš„å‹¾ï¼Œä¸é¢å¤–å‹¾é€‰å…¶å®ƒï¼Œä¸€åˆ‡çš†é»˜è®¤å³å¯ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2022/20220109180600.png" width="80%"/ loading="lazy"><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2022/20220109180643.png" width="80%"/ loading="lazy"><br><p>ç‚¹å‡»å³ä¸‹ â€œå…³é—­â€ åè¿”å›ä¸Šä¸€å±‚ï¼Œåœ¨ â€œæ›´å¤š-ä¿®å¤-ç¡®å®šâ€ ç­‰å¾…é‡ç½®ç¯å¢ƒå³å¯ã€‚å½“æˆåŠŸä¹‹åï¼Œé‡å¯ç”µè„‘ï¼Œå‘ç°æ­¤é—®é¢˜è¢«è§£å†³ã€‚</p></li></ul><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2022/20220109181000.png" width="70%"/ loading="lazy"><br><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>ã€€ã€€è¿™ä¼šäº‹åï¼Œæœäº†ä¸‹ä¼šå­˜æ”¾çš„è·¯å¾„ï¼Œæ”¾ä¸€ä¸ªè¿è¡Œæ²¡é—®é¢˜çš„ç¯å¢ƒå›¾æä¾›åæ¥è€…å¯¹ç…§å‚è€ƒã€‚<strong>å½“åŸºæœ¬ç¡®å®šæ˜¯ MSVC çš„ç¯å¢ƒé—®é¢˜åï¼Œè¯•è¯• VS çš„ä¿®å¤é‡æ–°å®‰è£…ã€‚æˆ–è®¸ä¼šæœ‰æƒŠå–œï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªå¾ˆæŒ«ä½†æ˜¯æœ‰æ•ˆçš„æ–¹æ¡ˆã€‚</strong></p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2022/20220109182316.png" width="100%"/ loading="lazy"><p>ã€€ã€€</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Visual Studio </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¯»ã€Šå¦‚ä½•é˜…è¯»ä¸€æœ¬ä¹¦ã€‹</title>
      <link href="/posts/ed9cd36e/"/>
      <url>/posts/ed9cd36e/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong>ã€€<u>æœ¬ä¹¦å†™äºä¸€ç™¾å¹´å‰</u>ï¼Œä½†å…¶å†…å®¹å®ç”¨æ€§è‡³ä»Šä¸å‡ï¼Œåˆçœ‹äº¢å¥‹ã€æƒŠå¹å’Œæ„Ÿæ…¨ï¼Œæ”¶è·æé¢‡ä¸°ã€‚</p><p>æ­¤æ–‡æ˜¯æˆ‘è¯»ã€Šå¦‚ä½•é˜…è¯»ä¸€æœ¬ä¹¦ã€‹åçš„å†…å®¹æ¦‚ç•¥ï¼Œå…±è¯»äº†å¥½å‡ éï¼Œåˆçœ‹æƒŠå¹å’Œæ„Ÿæ…¨ï¼Œæ”¶è·é¢‡ä¸°ã€‚è§£å†³äº†æ—©æœŸä¸çŸ¥å¦‚ä½•çœ‹ä¹¦ã€å’Œæå‡é˜…è¯»ç†è§£åŠ›çš„çª˜è¿«å›°å¢ƒã€‚è®°æ–‡äºæ­¤ï¼Œå»ºè®®æœ‰åŒå›°æƒ‘è€…è‡ªè¡Œé€šè¯»ä¸€éå…¨ä¹¦ã€‚  </p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202212021804294.png" width="50%"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/">å•è‡§çš„å°ç«™</a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p>æ‚”æ¨åˆ°ç°åœ¨æ‰è¯»åˆ°æ­¤ä¹¦ï¼Œåªå¹æœªæ›¾æ—©è¯»åˆ°æ­¤ä¹¦ï¼›åº†å¹¸ç°åœ¨æ‰è¯»åˆ°æ­¤ä¹¦ï¼Œå¾—ä»¥ç»“åˆè‡ªå·±å¤šå¹´è¯»ä¹¦ç»å†ï¼Œä¸ä¹‹å‚ç…§ï¼Œä½“ä¼šä¹‹æ·±åˆ»ï¼Œä»è€Œå‘å‡ºå‰åŠå¥çš„æ„Ÿå¹ã€‚</p> <br><h4 id="1-åŸºç¡€é˜…è¯»"><a href="#1-åŸºç¡€é˜…è¯»" class="headerlink" title="1. åŸºç¡€é˜…è¯»"></a><font color=#008000>1. åŸºç¡€é˜…è¯»</font></h4><ul><li>é˜…è¯»å‰å‡†å¤‡é˜¶æ®µï¼šè§†ã€å¬ã€å‘éŸ³èƒ½åŠ›ã€åŸºç¡€æ™ºåŠ›å’Œæ³¨æ„åŠ›ç­‰ï¼ˆå¹¼ç¨šå›­é˜¶æ®µï¼‰</li><li>è®¤å­—ï¼šæœ‰åˆçº§çš„è¯»å†™èƒ½åŠ›ï¼ˆçº¦ä¸€å¹´çº§ï¼‰</li><li>å­—æ±‡çš„å¢é•¿åŠå¯¹è¯¾æ–‡çš„è¿ç”¨ï¼šè¯»æ‡‚æ ‡è®°ã€å›¾ç‰‡ã€ç®€å•è¡¨æ ¼ç­‰ï¼ˆçº¦å››å¹´çº§ï¼‰</li><li>â€œæˆç†Ÿâ€çš„é˜…è¯»è€…ï¼šèƒ½çœ‹æ‡‚æ‰€æœ‰è¯»ç‰©ï¼Œä½†å´ä¸çŸ¥é“æ›´è¿›ä¸€æ­¥ï¼ˆé¢„ä¸Šé«˜ä¸­è¯¾ç¨‹ï¼‰</li></ul><br/><h4 id="2-æ£€è§†é˜…è¯»"><a href="#2-æ£€è§†é˜…è¯»" class="headerlink" title="2. æ£€è§†é˜…è¯»"></a><font color=#008000>2. æ£€è§†é˜…è¯»</font></h4><h5 id="æœ‰ç³»ç»Ÿæ€§çš„ç•¥è¯»æˆ–ç²—åº¦"><a href="#æœ‰ç³»ç»Ÿæ€§çš„ç•¥è¯»æˆ–ç²—åº¦" class="headerlink" title="æœ‰ç³»ç»Ÿæ€§çš„ç•¥è¯»æˆ–ç²—åº¦"></a>æœ‰ç³»ç»Ÿæ€§çš„ç•¥è¯»æˆ–ç²—åº¦</h5><p>â€‹(1) æƒ³çœ‹ä¹¦åé¡µï¼Œåæœ‰åºå°±å…ˆçœ‹åº</p><p>â€‹(2) ç ”ç©¶ç›®å½•é¡µ</p><p>â€‹(3) è‹¥æœ‰ç´¢å¼•ï¼Œä¹Ÿæ£€é˜…ä¸€ç•ª</p><p>â€‹(4) ä¹¦çš„è¡£åŒ…ï¼Œçœ‹ä¸‹å‡ºç‰ˆç¤¾ä»‹ç»</p><p>â€‹(5) çœ‹å®Œç›®å½•åçš„æ¨¡ç³Šå°è±¡ä¸­ï¼Œå¼€å§‹æŒ‘å‡ ä¸ªçœ‹èµ·æ¥è·Ÿä¸»é¢˜æ¯æ¯ç›¸å…³çš„é‡è¦ç¯‡ç« æ¥çœ‹ã€‚é€šå¸¸åœ¨ç¯‡ç« å¼€å¤´ç»“å°¾çš„æ‘˜è¦æ˜¯æ€»ç»“ï¼Œä¸å¯é”™è¿‡</p><p>â€‹(6) éšæ„ç¿»ç¿»ï¼Œå¿µä¸ªä¸€ä¸¤ä¸ªæ®µï¼Œæœ‰æ—¶å€™è¿ç»­è¯»å‡ é¡µï¼Œä½†ä¸è¦å¤ªå¤šã€‚ä¹¦çš„æœ€åä¸¤ä¸‰é¡µé€šå¸¸æ˜¯æ€»ç»“ï¼Œå°‘æ•°è¿˜æœ‰åè®°éƒ½ä¸å¯å¿½ç•¥ã€‚ç”¨æ­¤æ–¹æ³•å°†å…¨ä¹¦è¿‡ä¸€éï¼Œéšæ„å¯»æ‰¾ä¸»è¦è®ºç‚¹çš„è®¯å·ï¼Œç•™æ„ä¸»é¢˜çš„åŸºæœ¬è„‰ç»œã€‚  </p><br/><h5 id="ç²—æµ…çš„é˜…è¯»"><a href="#ç²—æµ…çš„é˜…è¯»" class="headerlink" title="ç²—æµ…çš„é˜…è¯»"></a>ç²—æµ…çš„é˜…è¯»</h5><p>â€‹å…ˆå®Œæ•´çš„ï¼ˆå›«å›µåæ£ï¼‰çš„è¯»ä¸€éï¼Œä¸çº ç»“äºç»†èŠ‚ã€‚  </p><br/><h4 id="3-åˆ†æé˜…è¯»"><a href="#3-åˆ†æé˜…è¯»" class="headerlink" title="3. åˆ†æé˜…è¯»"></a><font color=#008000>3. åˆ†æé˜…è¯»</font></h4><h5 id="æ‰¾å‡ºä¸€æœ¬ä¹¦åœ¨è°ˆè®ºä»€ä¹ˆè§„åˆ™"><a href="#æ‰¾å‡ºä¸€æœ¬ä¹¦åœ¨è°ˆè®ºä»€ä¹ˆè§„åˆ™" class="headerlink" title="æ‰¾å‡ºä¸€æœ¬ä¹¦åœ¨è°ˆè®ºä»€ä¹ˆè§„åˆ™"></a>æ‰¾å‡ºä¸€æœ¬ä¹¦åœ¨è°ˆè®ºä»€ä¹ˆè§„åˆ™</h5><p>â€‹(1) ä¾ç…§ä¹¦çš„ç§ç±»å’Œä¸»é¢˜æ¥åˆ†</p><p>â€‹(2) ç”¨æœ€ç®€çŸ­çš„å¥å­ï¼ˆä¸€å°æ®µæ–‡å­—ï¼‰æ¦‚è¿°æ•´æœ¬ä¹¦çš„å†…å®¹</p><p>â€‹(3) æŒ‰ç…§é¡ºåºå’Œå…³ç³»ï¼Œåˆ—ä¸¾å‡ºä¹¦çš„ä¸»è¦éƒ¨åˆ†ã€‚å°†å…¨ä¹¦çš„å¤§çº²åˆ—ä¸¾å‡ºæ¥åï¼Œå†åˆ—ä¸¾å„è‡ªéƒ¨åˆ†çš„å¤§çº²ä¹Ÿä¸€ä¸€åˆ—ä¸¾å‡ºæ¥ï¼ˆä¹¦å¿…æœ‰ç‘•ç–µï¼Œæ•…å¤§çº²ä¸å¿…å…¨è€Œç¾ï¼Œäº¦ä¸å¿…è‡ªè¡Œæ·»åŠ è¡¥å……ç¯‡ç« ï¼‰ã€‚</p><p>â€‹(4) æ‰¾å‡ºä½œè€…è¦é—®çš„é—®é¢˜ï¼Œæˆ–ä½œè€…æƒ³è¦è§£å†³çš„é—®é¢˜  </p><br/><h5 id="è¯ é‡Šä¸€æœ¬ä¹¦çš„å†…å®¹è§„åˆ™"><a href="#è¯ é‡Šä¸€æœ¬ä¹¦çš„å†…å®¹è§„åˆ™" class="headerlink" title="è¯ é‡Šä¸€æœ¬ä¹¦çš„å†…å®¹è§„åˆ™"></a>è¯ é‡Šä¸€æœ¬ä¹¦çš„å†…å®¹è§„åˆ™</h5><p>â€‹(5) è¯ é‡Šä½œè€…çš„å…³é”®å­—ï¼Œå’Œä»–è¾¾æˆå…±è¯†</p><p>â€‹(6) ç”±æœ€é‡è¦çš„å¥å­ï¼ŒæŠ“ä½ä½œè€…çš„ä¸»æ—¨</p><p>â€‹(7) çŸ¥é“ä½œè€…çš„è®ºè¿°æ˜¯ä»€ä¹ˆï¼Œä»å†…å®¹ä¸­æ‰¾å‡ºç›¸å…³å¥å­ï¼Œåœ¨é‡æ–°æ¶æ„å‡ºæ¥</p><p>â€‹(8) å“ªäº›æ˜¯ä½œè€…å·²è§£å†³çš„é—®é¢˜ï¼Ÿå“ªäº›æ˜¯æœªè§£å†³çš„ï¼Ÿæœªè§£å†³ä¸­çš„é—®é¢˜ï¼Œé‚£äº›äº‹ä½œè€…ä¹Ÿæ— æ³•è§£å†³çš„  </p><br/><h5 id="è¯„è®ºä¸€æœ¬ä¹¦çš„å†…å®¹è§„åˆ™"><a href="#è¯„è®ºä¸€æœ¬ä¹¦çš„å†…å®¹è§„åˆ™" class="headerlink" title="è¯„è®ºä¸€æœ¬ä¹¦çš„å†…å®¹è§„åˆ™"></a>è¯„è®ºä¸€æœ¬ä¹¦çš„å†…å®¹è§„åˆ™</h5><p>â€‹A. æ™ºæ…§ç¤¼èŠ‚çš„ä¸€èˆ¬è§„åˆ™</p><p>â€‹(9) æ²¡æ‡‚ä¹‹å‰ä¸è½»æ˜“è¯„è®ºï¼ˆå®Œæˆå¤§çº²æ¶æ„ã€ä¹Ÿèƒ½è¯ é‡Šå…¨ä¹¦ï¼‰</p><p>â€‹(10) ä¸å¢å¼ºå¼ºå¥½è¾©ï¼Œéè¾©ä¸å¯</p><p>â€‹(11) å°Šé‡çŸ¥è¯†å’Œä¸ªäººè§‚ç‚¹ä¸åŒï¼Œåœ¨è¯„è®ºä¹‹å‰ï¼Œè¦æœ‰ç†è®ºåŸºç¡€ä½œä¸ºæ”¯æ’‘  </p><br/><p>â€‹B. æ‰¹è¯„è§‚ç‚¹å’Œç‰¹åˆ«æ ‡å‡† </p><p>â€‹(12) è¯æ˜ä½œè€…çš„çŸ¥è¯†ä¸è¶³</p><p>â€‹(13) è¯æ˜ä½œè€…çš„çŸ¥è¯†é”™è¯¯</p><p>â€‹(14) è¯æ˜ä½œè€…çš„é€»è¾‘æ¨å¯¼é”™è¯¯</p><p>â€‹(15) è¯æ˜ä½œè€…çš„åˆ†æå’Œç†ç”±ä¸å®Œå¤‡ï¼ˆå‰ææ˜¯è‡³å°‘åŒæ„ä½œè€…çš„éƒ¨åˆ†è§‚ç‚¹ï¼‰  </p><br/><h4 id="4-ä¸»é¢˜é˜…è¯»"><a href="#4-ä¸»é¢˜é˜…è¯»" class="headerlink" title="4. ä¸»é¢˜é˜…è¯»"></a><font color=#008000>4. ä¸»é¢˜é˜…è¯»</font></h4><h5 id="å‡†å¤‡é˜¶æ®µ"><a href="#å‡†å¤‡é˜¶æ®µ" class="headerlink" title="å‡†å¤‡é˜¶æ®µ"></a>å‡†å¤‡é˜¶æ®µ</h5><p>â€‹(1) é’ˆå¯¹è¦ç ”ç©¶çš„ä¸»é¢˜ï¼Œè®¾è®¡ä¸€ä»½å®éªŒæ€§çš„ä¹¦ç›®ã€‚å¯å‚è€ƒå›¾ä¹¦é¦†ç›®å½•ï¼Œä¸“å®¶å»ºè®®å’Œä¹¦çš„æ•°ç›®ç´¢å¼•</p><p>â€‹(2) æµæµªæ•°ç›®ä¸Šçš„æ‰€æœ‰ä¹¦ï¼Œç¡®å®šå’Œä¸»æ—¨ç›¸å…³çš„ï¼Œåˆ’æ‰æ— ç”¨çš„  </p><br/><h5 id="é˜…è¯»æ‰€æ”¶é›†çš„æ‰€æœ‰ä¹¦"><a href="#é˜…è¯»æ‰€æ”¶é›†çš„æ‰€æœ‰ä¹¦" class="headerlink" title="é˜…è¯»æ‰€æ”¶é›†çš„æ‰€æœ‰ä¹¦"></a>é˜…è¯»æ‰€æ”¶é›†çš„æ‰€æœ‰ä¹¦</h5><p>â€‹(1) ä»é€‰å®šçš„æœ‰å…³ä¹¦ç±ä¸­ï¼Œæ‰¾å‡ºæœ€ç›¸å…³çš„ç« èŠ‚</p><p>â€‹(2) æ ¹æ®ä¸»é¢˜è‡ªå·±åˆ›å»ºä¸€å¥—ä¸­ç«‹çš„è¯æ±‡ï¼Œå¼•é¢†ä½œè€…è¾¾æˆå…±è¯†ï¼›é€šå¸¸å¤§éƒ¨åˆ†ä½œè€…çš„éƒ½å¯ä»¥ç”¨è¿™å¥—è¯æ±‡æ¥è¯ é‡Š</p><p>â€‹(3) åˆ›å»ºä¸€ä¸ªä¸­ç«‹çš„ä¸»æ—¨ï¼Œåˆ—å‡ºä¸€è¿ä¸²çš„é—®é¢˜ï¼›å¤§å¤šæ•°æˆ–è€…å¯¹æ­¤åšå‡ºè¿‡å›ç­”</p><p>â€‹(4) ç•Œå®šä¸»è¦å’Œæ¬¡è¦è®®é¢˜ï¼›å°†ä½œè€…é’ˆå¯¹å„ä¸ªé—®é¢˜çš„ä¸åŒæ„è§æ•´ç†é™ˆåˆ—åœ¨å„ä¸ªè®®é¢˜æ—è¾¹ã€‚</p><p>â€‹(5) åˆ†æå’Œè®¨è®ºã€‚é—®é¢˜å’Œè®®é¢˜æŒ‰ç…§å’Œä¸»é¢˜ç›¸å…³æˆéƒ½æ’åˆ—ï¼Œä¸”æœ‰å…±é€šæ€§çš„è®®é¢˜æ”¾é å‰ã€‚</p><br/><hr><p><strong>ç”Ÿå‘½å’Œå¿ƒæ™ºæˆé•¿</strong></p><p>â€‹èº«ä½“æˆé•¿æœ‰ä¸Šé™ï¼Œå¿ƒæ™ºæˆé•¿æ— ä¸Šé™ã€‚ä½†å¿ƒæ™ºå¦‚åŒè‚Œè‚‰ï¼Œå¦‚æœä¸å¸¸ç”¨ä¾¿ä¼šèç¼©ã€‚  </p><br/><p>â€‹ä»æ„Ÿå…´è¶£çš„ä¹¦ç±å¼€å§‹è¯»ï¼›ä¸»è¦ç›®æ ‡æ˜¯è¯»çš„å¥½è€Œéè¯»çš„å¹¿ã€‚  </p><br/><p>â€‹è¯»ä¸€æœ¬ä¹¦ï¼Œè‹¥è§‰å¾—æœ‰é“ç†ï¼Œå°±åº”è¯¥æŒ‰ç…§ä¹¦ä¸­é“ç†å»åšï¼Œå¦åˆ™å°±æ˜¯ç™½è¯»äº†ã€‚  </p><br/><p>â€‹é˜…è¯»çš„ç›®çš„ï¼šä¸ºè·å–èµ„è®¯è€Œè¯»ï¼›äº¦æˆ–ä¸ºå¢è¿›ç†è§£åŠ›è€Œè¯»ã€‚</p><p>â€‹é˜…è¯»çš„ç§ç±»ï¼šä»–äººæŒ‡å¯¼å‹çš„å­¦ä¹ ï¼›å’Œè‡ªæˆ‘å‘ç°å‹çš„å­¦ä¹ ï¼ˆä»…ä¾é è‡ªå·±å’Œä¹¦æœ¬ï¼‰ã€‚</p><p>â€‹æ€è€ƒåªæ˜¯ä¸»åŠ¨é˜…è¯»çš„ä¸€éƒ¨åˆ†ã€‚é˜…è¯»çš„è‰ºæœ¯åŒ…æ‹¬äº†æ‰€æœ‰çš„è‡ªæˆ‘å‘ç°å‹çš„å­¦ä¹ çš„æŠ€å·§ï¼šæ•é”çš„è§‚å¯Ÿã€çµæ•å¯é çš„è®°å¿†ã€æƒ³è±¡çš„ç©ºé—´ã€è®­ç»ƒæœ‰ç´ çš„åˆ†æã€çœæ€çš„èƒ½åŠ›ã€‚  </p><br/><p><strong>é˜…è¯»çš„é€Ÿåº¦</strong></p><p>â€‹é˜…è¯»çš„é€Ÿåº¦åº”è¯¥æ˜¯ä¾ç…§è¯»ç‰©çš„æ€§è´¨å’Œå¤æ‚ç¨‹åº¦ï¼Œä½¿ç”¨ä¸åŒçš„é€Ÿåº¦æ¥é˜…è¯»ã€‚æ— è®ºè¯»çš„å¿«æˆ–è¯»çš„æ…¢ï¼Œéƒ½ä¸èƒ½ä¸¢æ‰å¯¹å…¶æŒæ¡çš„ç¨‹åº¦å’Œæ˜¯å¦èƒ½ç†è§£ã€‚  </p><br/><p><strong>ä¸»åŠ¨é˜…è¯»çš„åŸºç¡€ï¼šä¸€ä¸ªé˜…è¯»è€…è¦æå‡ºçš„å››ä¸ªåŸºæœ¬é—®é¢˜</strong></p><p>â€‹<strong>â‘´ æ•´ä½“æ¥è¯´ï¼Œè¿™æœ¬ä¹¦åˆ°åº•åœ¨è°ˆä»€ä¹ˆï¼Ÿ</strong> ä½ ä¸€å®šè¦æƒ³åŠæ³•æ‰¾å‡ºè¿™æœ¬ä¹¦çš„ä¸»é¢˜ï¼Œä½œè€…å¦‚ä½•ä¸€æ¬¡å‘å±•è¿™ä¸ªä¸»é¢˜ï¼Œå¦‚ä½•é€æ­¥ä»æ ¸å¿ƒé—®é¢˜åˆ†è§£å‡ºä»å±çš„å…³é”®è®®é¢˜æ¥ã€‚</p><p>â€‹<strong>â‘µ ä½œè€…ç»†éƒ¨è¯´äº†ä»€ä¹ˆï¼Œæ€ä¹ˆè¯´çš„ï¼Ÿ</strong> ä½ ä¸€å®šè¦æƒ³åŠæ³•æ‰¾å‡ºä¸»è¦çš„æƒ³æ³•ã€å£°æ˜å’Œè®ºç‚¹ã€‚è¿™äº›ç»„åˆæˆä½œè€…æƒ³è¦ä¼ è¾¾çš„ç‰¹æ®Šè®¯æ¯ã€‚</p><p>â€‹<strong>â‘¶ è¿™æœ¬ä¹¦ä¹¦è¯´çš„æœ‰é“ç†å—ï¼Ÿæ˜¯å…¨éƒ¨æœ‰é“ç†ï¼Œè¿˜æ˜¯éƒ¨åˆ†æœ‰é“ç†ã€‚</strong> åªæœ‰å…ˆå›ç­”å‰ä¸ªä¸¤é—®é¢˜ï¼Œæ‰èƒ½å›ç­”æ­¤é—®é¢˜ã€‚åªæœ‰äº†è§£æ•´æœ¬ä¹¦ä¹¦çš„ä»€ä¹ˆï¼Œä¸”æœ‰è´£ä»»ä¸ºæœ¬ä¹¦åšè‡ªå·±çš„åˆ¤æ–­ã€‚å…‰æ˜¯çŸ¥é“ä½œè€…çš„æƒ³æ³•æ˜¯ä¸å¤Ÿçš„ã€‚</p><p>â€‹<strong>â‘· è¿™æœ¬ä¹¦è·Ÿä½ æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ</strong> å¦‚æœè¿™æœ¬ä¹¦ç»™ä½ èµ„è®¯ï¼Œä¸€å®šè¦é—®é—®è¿™äº›èµ„è®¯æœ‰ä»€ä¹ˆæ„ä¹‰ã€‚ä¸ºä»€ä¹ˆè¿™ä½ä½œè€…è®¤ä¸ºçŸ¥é“è¿™ä»¶äº‹å¾ˆé‡è¦ï¼Ÿä½ çœŸçš„æœ‰å¿…è¦å»äº†è§£å—ï¼Ÿå¦‚æœä¸ä»…æä¾›äº†èµ„è®¯ï¼Œè¿˜æä¾›äº†å¯å‘ä½ ï¼Œé‚£ä¹ˆå°±æ›´è¦å¿…è¦æ‰¾å‡ºå…¶ä»–ç›¸å…³çš„ã€æ›´æ·±çš„å«ä¹‰æˆ–å»ºè®®ï¼Œä»¥è·å¾—æ›´å¤šçš„å¯ç¤ºã€‚  </p><br/><p>â€‹è¿™å››ä¸ªé—®é¢˜æ˜¯é˜…è¯»çš„åŸºæœ¬è§„åˆ™ï¼ˆç»ä¸å¯å¿˜è®°çš„ï¼‰ã€‚è¿™ä¹Ÿæ˜¯æœ‰è‡ªæˆ‘è¦æ±‚çš„é˜…è¯»è€…ï¼Œå’Œæ— è‡ªæˆ‘è¦æ±‚çš„è¯»è€…çš„ä¹‹é—´ï¼Œæœ‰å¤©å£¤ä¹‹åˆ«çš„åŸå› ã€‚ååˆ™è€…æä¸å‡ºé—®é¢˜ï¼Œä¹Ÿå¾—ä¸åˆ°ç­”æ¡ˆã€‚  </p><br/><p>â€‹äººä»¬åœ¨è¯»ä¸€æœ¬å¥½ä¹¦çš„æ—¶å€™ä¼šæ‰“çŒç¡ï¼Œå¹¶ä¸æ˜¯ä»–ä»¬ä¸æƒ³åŠªåŠ›ï¼Œè€Œæ˜¯å› ä¸ºä»–ä»¬ä¸çŸ¥é“å¦‚ä½•åŠªåŠ›ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´» - é˜…è¯» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å­¦ä¹ æ–¹æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äººé—´çƒŸç«-è—•æ±¤ç¯‡</title>
      <link href="/posts/5a16a940/"/>
      <url>/posts/5a16a940/</url>
      
        <content type="html"><![CDATA[<p>â€‹è—•æ±¤ï¼Œæ˜¯å°æ—¶å€™çš„è®°å¿†é‡Œçš„ä¸‹é›ªå¤©çš„ç«ç‚‰å­ï¼Œé»‘æ¼†æ¼†çš„èœ‚çªç…¤ä¸Šè·³è·ƒç€çº¢çº¢çš„ğŸ”¥ï¼›ä¸Šé¢å‹ç€ä¸€åšé‡çš„å¤§ç“¦ç½ï¼Œéšç€å¥¶å¥¶ä¸€å †æ’éª¨å’Œè—•å—åŠ å…¥åˆ°é‡Œé¢ï¼Œå†æ·»æ°´ï¼Œç›–ä¸Šç›–ï¼›åœ°ä¸‹çš„é€šé£å£é¡µä»…ç•™å¯¹å‡†å¡å£çš„å°ç¼éš™ï¼›ä»¥ä¿è¯é•¿æ—¶é—´çš„ä¸ç†„ï¼Œè¿‡äº†ä¸€å¤œåï¼Œç«¯ç€å†’ç€ç™½æ°”çš„ä¸€ç¢—ç»™æˆ‘~ã€‚  </p><p>â€‹äºæ˜¯ä¹æ­¤è®°å¿†å°±æ°¸è¿œè¢«å®šæ ¼åˆ°äº†è¿™é‡Œï¼Œä¸æ¶ˆæ•£ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><strong>æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/">å•è‡§çš„å°ç«™</a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</strong></p></blockquote><br><p>â€‹åªè®°å¾—é‚£ä¸€å¹´çš„å¤§é›ªï¼Œè½å¾—å±‹å­åº­é™¢å’Œå››å‘¨éƒ½æ˜¯ç™½èŒ«èŒ«çš„ä¸€ç‰‡ï¼Œå…´å¥‹çš„è¶´ç€çœ‹å‘çª—å¤–ï¼Œå¤§é›ªé£˜é›¶ï¼Œä¸€ç›´æŒç»­ç€ï¼›å¨æˆ¿çš„ç“¦ç½è—•æ±¤åœ¨ç«ç‚‰å­ä¸Šå‘å‡ºå˜¶å˜¶çš„å£°éŸ³~~ã€‚ä»¥åŠå¥¶å¥¶å¤šæ¬¡å‰å»æ¢ç…¤å’ŒåŠ æ°´çš„èƒŒå½±ï¼Œæ„æˆäº†å°æ—¶å€™å®¶çš„éƒ¨åˆ†å›å¿†ã€‚</p><p>â€‹åç•¥å¹´é•¿ï¼Œä¸€ç›´ä¸åå¥½å–œæ¬¢å–æ±¤ï¼Œå³ä½¿è—•æ±¤äº¦æ˜¯å¦‚æ­¤ã€‚å¯æ¯•ä¸šå·¥ä½œä¸€å¹´åï¼Œå¤©é€æ¸å†·ã€å“ˆç€æ°”ï¼Œç”Ÿå‡ºç™½é›¾~ã€‚</p><p>â€‹å¿½ç„¶ä¸€æ—¥å¼€å§‹æƒ³å’Œè—•æ±¤äº†ï¼Œå¼€å§‹æƒ³å¿µæˆ‘çš„å¥¶å¥¶äº†ã€‚å†åæ¥åç»­çš„ä¸€æ®µæ—¶é—´ï¼Œæ„ˆåŠ çš„ç‰¹åˆ«çš„æƒ³è¦å»å–è—•æ±¤ï¼Œæˆ–æ˜¯æƒ³è¦å°ä¸€ä¸‹å…¶ä¸­æ»‹å‘³ã€æ»‹è¡¥ä¸€ä¸‹èº«ä½“ï¼›äº¦æˆ–è®¸æ˜¯åœ¨æƒ³å®¶å’Œå®¶äººã€‚</p><p>â€‹ç‹¬ä¸€ä»½çš„è—•æ±¤ä¹¡æ„ï¼Œæ˜¯å›å¿†å°æ—¶å€™å¥¶å¥¶çš„è—•æ±¤ï¼Œäº¦æ˜¯å›å¿†å°æ—¶å€™çš„æ— å¿§æ— è™‘ã€‚é‚å‘¨æœ«æŠ½ç©ºå°±æ»¡å¤§æ­¦æ±‰çš„çš„å»æ¢åº—â€“ä¸“èŒå»å¯»æ‰¾è—•æ±¤ï¼Œå½“ç„¶ï¼Œä¹Ÿæœ‰å…¶å®ƒç¾é£Ÿï¼Œä½†åœ¨å…¶å®ƒç¯‡ä¸­å†ä¹¦å†™ã€‚</p><br><hr><p><font color=#008000><strong>ç‡•å­ç…¨æ±¤é¦†</strong></font></p><p>â€‹æ­¦æ±‰çš„ä¸€å®¶å°åº—ï¼Œåœ¨æ­¦æ±‰çš„ä¸­å¿ƒè€åŸåŒºï¼Œä¾ç¨€è®°å¾—è€æ¿æœ‰ä¸¤å®¶åº—é“ºï¼Œç›¸è·ä¸è¿œã€‚ä½†å»çš„æœ€å¤šã€ä¹Ÿæ˜¯æœ€é¢‘ç¹çš„æ˜¯ä¸‹é¢åº—é“ºï¼Œå¾—å•ç‹¬å¼€è½¦ä¸€ä¸ªå¤šå°æ—¶ï¼Œåªä¸ºäº†ä¸€ç¢—åå‡ å…ƒçš„è—•æ±¤ã€‚</p><p>â€‹è¿ç»­çš„ä¸¤ä¸ªæœˆï¼Œå»äº†çº¦å››ã€äº”æ¬¡ï¼Œä¸­é—´æ²¡å»çš„å°±æ˜¯ç©¿æ’å»æ¢å…¶å®ƒåº—é“ºçš„è—•æ±¤äº†ã€‚å·§åˆçš„æ˜¯ï¼Œæ¯æ¬¡å»éƒ½æ˜¯å®‰åˆ©ä¸€ä¸ªäººé™ªåŒæˆ‘å»ï¼ˆå¤šå¹´çš„å‘å°åŒå­¦ã€ç†Ÿè¯†çš„æ¼‚äº®çš„å°ä»™å¥³ã€å·¥ä½æ—çš„å¥½åŸºå‹ç­‰ï¼‰ï¼Œåªä¸ºåˆ†äº«ç¾é£Ÿä¸è¿™ä»½å¿«ä¹ã€‚</p><p>â€‹ä½¿ç”¨å°æ—¶å€™å°è±¡ä¸­çš„ç«ç‚‰å­å’Œèœ‚çªç…¤æ…¢æ…¢ç†¬å‡ºæ¥çš„æ±¤ï¼Œéšç€æ±¤å¹²å†åŠ æ°´ï¼›æœ€åå‡ºæ¥çš„æ±¤æ¸…æ·¡ã€å…¥å£æ¶¦åã€å¸¦ç€æ·¡æ·¡è‘±èŠ±é¦™ã€ä»¥åŠå…¥å‘³çš„æ’éª¨å‘³ã€æ¯ä¸€å£éƒ½æ˜¯å›å‘³æ— ç©·ï¼ˆ<strong>æ¸…ã€é¦™ã€æ·¡ã€æš–</strong>ï¼‰ï¼›æœ€åè½»å’¬ä¸€å£ç²‰è—•ï¼Œç‰™é½¿è¿˜æœªç›¸ç¢°ï¼Œå£ä¸­è—•å—ä¾¿å·²æˆä¸¤ç“£ï¼›ç»†ç»†å’€åš¼å…¥å–‰ï¼Œä¸€è‚¡ä¸æ»‘çš„æ¸©æš–å…¥èƒƒã€‚é™¤äº†èˆ’é€‚æƒ¬æ„ä¹‹å¤–ï¼Œå°±ä¾¿æ˜¯å›å‘³æ— ç©·ã€‚è™½ç„¶å»é€”è¿œã€ä½†å±å®å€¼å¾—ã€‚ä¸”å› ä¸ªäººå–œå¥½æ­¤æ¸…æ·¡ä½†å…¥å‘³çš„æ±¤ã€æ•…ç”šæ˜¯æ¨èï¼Œæ­¤æ±¤å…¥å£æä½³ï¼Œæ„Ÿè§‰çµé­‚éƒ½ä¼šæ±¤ï¼ˆæ°´ï¼‰ç»™æ»‹è¡¥ä¿®å¤äº†ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/QQ%E5%9B%BE%E7%89%8720210928013457.gif" width="45%"/ loading="lazy"><br><hr><p><font color=#008000><strong>çˆ±å–æ±¤</strong></font></p><p>â€‹æ­¤åº—é“ºç›¸è·å•†å®¶ä¸è¿œã€ç›¸éš”å‡ ç«™å³åˆ°ï¼›è®°å¾—ä¹Ÿæ˜¯åœ¨è€åŸåŒºä¸­é—´çªœæ¢­ã€æœ€åèµ°è¿‡ä¸€è½¬è§’è½ã€å³è½¬åå¾„å‰è¡Œç›´æ•°åä½™æ­¥ï¼Œå³å¯åˆ°é—¨å£ã€‚</p><p>â€‹å…¶è€æ¿ï¼ˆäº¦æ˜¯å¨å¸ˆï¼Œè®°å¾—å¥½åƒå¸ˆæ‰¿å°æ¡ƒå›­ï¼‰ä¸€æ‰‹é¸¡æ±¤å·²ç»ç‚‰ç«çº¯é’ï¼Œå…¶è—•æ±¤ä¹Ÿç‹¬å…·ä¸€æ ¼ã€æ„æ–™ä¹‹å¤–çš„æ˜¯å¯ä»¥å…¶å®ƒé…æ–™ç­‰ï¼ˆå¦‚ç²‰æ¡ã€å¹´ç³•ç­‰ï¼Œè®°å¾—æ­¤ç±»æœ‰å¾ˆå¤šï¼‰ï¼Œéšå–œå¥½æ·»åŠ ï¼Œç”šæ˜¯æƒŠå–œã€‚å’Œä¸Šä¸€å®¶å¯¹æ¯”ï¼Œå…¶å‘³é“æ˜æ˜¾æœ‰ä¸åŒé£æ ¼ã€‚</p><p>â€‹æ­¤å¤„è—•æ±¤ã€è‰²æ³½åå‘ä¹³ç™½ï¼Œå¸¦æœ‰æ²¹æ˜Ÿç‚¹ç¼€ï¼Œä¸”ä¹…ç½®ä¸€ä¼šï¼Œå…¶ä¸Šä¾¿ä¼šæµ®ä¸Šè–„è–„ä¸€å±‚é»„æ²¹ã€‚æ•´ä½“å‘³é“ç•¥åå‘ç”œï¼Œè®°å¿†ä¸­é‡Œé¢è¿˜æœ‰ä¸€ä¸é¸¡æ±¤çš„å‘³é“ï¼ˆè€æ¿å¶å°”ä¹Ÿä¼šå°†é¸¡éª¨æ±¤ä½œä¸ºè—•æ±¤çš„æ±¤åº•ï¼‰ã€‚å…¶è—•ä¹Ÿæ˜¯ç²‰è—•ã€ä½†æµ“æ±¤å¸¦å¾®æ²¹ï¼Œå…¥å–‰çš„æ„Ÿè§‰ä¸º <strong>ç”œã€é²œã€æ²¹é¦™</strong>ã€‚æœ€åä»·æ ¼ä¹Ÿä¸è´µï¼Œè¶Š 20 å‡ºå¤´ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/%E8%97%95%E6%B1%A4IMG_0830.JPG" width="43%"/ loading="lazy"><br><hr><p><font color=#008000><strong>è‘£å¨ç…¨æ±¤é¦†</strong></font></p><p>â€‹æ­¤åº—é“ºäº¦æ˜¯ç›¸éš”ä¸€æ¡è¡—ï¼Œæ¯æ¬¡éƒ½æ˜¯å…ˆé‡åˆ°æ­¤åº—é“ºï¼Œå†å‰è¡Œï¼Œæ‰åˆ°ä¸Šé¢ä¸¤å®¶ã€‚ä¹Ÿæ˜¯å»è¿‡çš„è—•æ±¤æ•°å®¶ä¸­åº—é“ºé¢ä¸­æœ€å¤§çš„ä¸€å®¶ã€‚è®°å¾—ç¬¬ä¸€æ¬¡å»çš„æ—¶å€™ï¼Œä¸­åˆ 12 ç‚¹æ‰å‡ºå‘ï¼Œæœ€åæŠµè¾¾å·²è¿‘ 14 ç‚¹ï¼Œè¿›åº—ï¼Œå‘Šç¤ºæ–¹çŸ¥è¥ä¸šæ—¶é—´ 11ï¼š00-14ï¼š00 å’Œ 16ï¼š00-å¿˜äº†ã€‚åˆšå¥½è¿‡ç‚¹ï¼Œä½†å´æ˜¯ä¸€è·¯é¥¿ç€è‚šå­å’Œä¸“ç¨‹å‰æ¥æ¥çš„ï¼Œéš¾å¿ï¼Œæ•…å»å…¶å…¶ä»–å®¶ã€‚</p><p>â€‹åå†æ¬¡å•ç‹¬å‰æ¥ï¼Œæç€é¥­ç‚¹æ¥çš„ï¼Œå¾—ä»¥æ»¡è¶³ã€‚è®°å¾—ç”Ÿæ„å¾ˆå¥½ï¼Œäººå¤šä¸”æ²¡ä½ç½®ï¼Œä¸æ„¿ä¹…ç­‰ï¼›æ¨èä¸‹ä¸ä¸€é˜¿å§¨ç­‰äººæ‹¼æ¡Œä¹‹ï¼Œåæ„å¤–çš„ä¸ä¹‹äº¤è°ˆç”šæ¬¢ã€åŒæ˜¯ä¸“é—¨ä¸ºæ¢åº—è—•æ±¤ã€ä¹ŸåŒæ˜¯å¸Œæœ›æƒ³è¦æ‰¾åˆ°ä¸€ä»½è„†è—•çš„è—•æ±¤ã€‚æ¯ä¸ªåº—æœ‰æ¯ä¸ªåº—çš„ç‰¹è‰²ï¼Œè®°å¾—è¿™é‡Œçš„çš„ä»·æ ¼ç•¥è´µä¸ƒåå¤šï¼›ç‚¹çš„æ˜¯æ‹›ç‰Œçš„è—•æ±¤ï¼Œç­‰å¾…ï¼Œä¸Šæ±¤ï¼ŒæœŸå¾…çš„æ“æ“æ‰‹ï¼Œæœ€åä¸Šæ¥çš„åˆ†é‡ç¡®å®å¾ˆè¶³ï¼ˆå½“æ—¶ä¸¤äººéƒ½æ²¡åƒå®Œä¸€ä»½ï¼Œæ‰åƒäº† 1&#x2F;2ï¼‰ã€‚</p><p>â€‹å°è±¡é‡Œé¢ï¼Œæ²¹å¾ˆé‡ã€ä¸”æœ‰å¤§éª¨å¤´ï¼Œæœ‰å®å¸éª¨å¤´ä¹‹å¿«æ„Ÿã€‚æ•´ä½“å½±å“æ¯”è¾ƒåå‘æ²¹è…»ï¼Œåº”è¯¥æ˜¯é€‚åˆå¤šäººä¸€èµ·æ¥ï¼Œå†ç‚¹æ•°ä¸ªé’èœã€å’Œç‚¹å¿ƒä¹‹ç±»ï¼Œæ±¤ä¸ºä¸»èœã€‚ä¸€ç¾¤äººå…±åŒé£Ÿä¹‹ï¼Œåº”è¯¥ä¼šå¾ˆä½³ã€‚å…¶è—•äº¦æ˜¯ç²‰è—•ï¼Œæ±¤çš„å‘³é“å’Œæ•´ä½“æ„Ÿè§‰ä¸º <strong>åšæ²¹ã€é‡å¤§ã€é¼¾ã€ç•¥ç”œã€å¤§éª¨å¤´å®å¸çš„å¿«ä¹</strong> ã€‚åƒæœ¬æ¬¡ç‹¬ç‚¹ä¸€è—•æ±¤ï¼ˆé‡ä¹Ÿå¤§ï¼‰ï¼Œé‡æ²¹ä¹‹ä¸‹ç¼ºé’èœæ¥å‹æ²¹è…»æ„Ÿï¼Œå‡ å‹ºèˆ€ä¸‹å»ä¾¿å·²ç»é¥±äº†ï¼›äº¦æˆ–æ˜¯ä¸æˆ‘é£Ÿåå¥½æ¸…æ·¡ï¼ˆä½†å…¥å‘³ï¼‰æœ‰å…³ã€‚ä½†åº—é“ºå…¶é£Ÿå®¢ä¼—å¤šï¼Œç›¸æ¯”äº¦æ˜¯æœ‰å…¶å‡ºå½©ä¹‹å¤„ï¼Œåªæ˜¯æ­¤æ¥åŒ†åŒ†ä¸€å°ï¼Œè¿˜æœªæ›¾è¢«æˆ‘å‘ç°ç½¢äº†ã€‚åæ‰“åŒ…å›å»ï¼Œå‘ç°æ­¤è—•æ±¤ç”¨æ¥æ³¡é¥­ï¼Œå‘³é“å€’æ˜¯ä¸é”™ã€‚å¼€å¿ƒ~~</p><p>â€‹è‡³äºå¯¹åº”çš„æ±¤å›¾æš‚æ²¡æ‰¾åˆ°ï¼Œå¥½åƒè¢«è¯¯åˆ äº†<del>ï¼ˆç›¸å†Œç¿»æ‰¾äº†ä¸¤éæœªå‘ç°ï¼‰</del>ã€‚</p><br><hr><p>â€‹åœ¨æ­¦æ±‰æ¢åº—ï¼ˆè—•æ±¤ç³»ç±»ï¼‰ä¸­ï¼Œå‘ç°å‡ä¸ºç²‰è—•ã€å¯å¹¼æ—¶çš„è®°å¿†å’ŒèˆŒå¤´çš„å‘³è•¾å‘Šè¯‰æˆ‘ï¼Œè‡ªå·±æ›´æƒ³åƒåˆ°è„†è—•çš„è—•æ±¤ï¼Œåç»­äº¦ä¼šæŒç»­æ¢åº—ï¼Œå¸Œæœ›ä¼šæœ‰æ‰€å‘ç°ï¼Œä½†ä¼°è®¡è„†è—•è¿™ç±»åªæœ‰å®¶é‡Œæ‰èƒ½åƒåˆ°å§ï¼Œè™½ç„¶ç•¥æœ‰ç¼ºæ†¾ã€ä½†ç°æœ‰ç²‰è—•å£æ„Ÿäº¦æ˜¯ä¹Ÿå¾ˆæ»¡è¶³ã€‚åç»­è‹¥æœ‰æ¯”è¾ƒé€‚åˆçš„è—•æ±¤åº—é“ºï¼Œå†æ¥æ›´æ–°æ­¤æ–‡ã€‚ </p><p>â€‹äººå„æœ‰é¥®é£Ÿçš„åå¥½ã€è‹¥æ˜¯æ°å¥½æ‰¾åˆ°ä¸€å®¶å’Œå‘³è•¾å…±éœ‡ï¼Œå¶å°”å»ä¹‹ï¼Œæ¯ä¸€å£ä¾¿éƒ½æ˜¯æ»¡æ»¡çš„å¹¸ç¦ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´» - é—²æš‡çš„è¶£é—» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> äººé—´çƒŸç« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ„¿ç¼–ç¨‹ä¸å†ä¹±ç (å«Qt)-æ ¹å› æ·±ç©¶</title>
      <link href="/posts/c0862e62/"/>
      <url>/posts/c0862e62/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€æœ¬ç¯‡é‡ç‚¹è®²è¿°å¦‚ä¸‹ï¼š</p><ol><li>ä¹±ç çŸ¥è¯†æ‰€æ¶‰åŠçš„å¤§é‡çŸ¥è¯†ç‚¹</li><li>MinGW&#x2F;MSVC å¯¹äº <code>&quot;ä¸­æ–‡123&quot;</code> çš„ <strong>ANSI å­—ç¬¦ä¸²</strong>çš„å­—ç¬¦ä¸²çš„é»˜è®¤ç¼–ç ç†è§£</li><li>MSVC ä¸­ä¸€äº›å¼ºåˆ¶è½¬æ¢ä¸º GBK&#x2F;UTF-8 çš„å¤§å‘è¯´æ˜</li><li>ä½¿ç”¨ä»£ç ç‰‡å¯¹ä¸Šé¢ç†è®ºçš„éªŒè¯</li><li>å®Œæˆå¿ƒæ„¿ï¼šä»¥ä¸€ç§ä¼˜é›…çš„æ–¹å¼åœ¨ MSVC ä¸Šä½¿ç”¨ UTF-8 å’Œ Qt è·¨å¹³å°ä¸ä¹±ç ï¼›åŒæ ·æºç äº¦å¯ä½¿ç”¨ WinGW ç¼–è¯‘ä¸ä¹±ç </li></ol><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/D2398C0216260B6C9109633018677015.png" width="30%"/ loading="lazy"><p>â€‹<strong>æœ¬æ–‡ä»…é€‚åˆæƒ³è¦æ·±ç©¶å’Œå­¦ä¹ ä¹±ç çš„åŸå› ã€ä»¥åŠäº†è§£ç¼–ç ç­‰çŸ¥è¯†çš„è¯»è€…</strong> ï¼Œæœ€åç†è§£é€å½»å‡åï¼Œæ¬²è‡ªè¡Œè§£å†³åšæ‰‹ä¸­å®é™…çš„ä¹±ç é—®é¢˜ï¼›è‹¥ä½ ä»…æƒ³æ‰¾åˆ°ä¸€ä¸¤è¡Œä»£ç ï¼Œä¸´æ—¶è§£å†³å½“å‰æ‰€å›§å¢ƒï¼Œæœ¬æ–‡å¯èƒ½ä¸é€‚åˆä½ ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ç¼–ç¨‹ç¯å¢ƒ"><a href="#ç¼–ç¨‹ç¯å¢ƒ" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒ"></a>ç¼–ç¨‹ç¯å¢ƒ</h2><p>ã€€ã€€æœ¬æ–‡çš„æ‰€æœ‰ä»£ç æµ‹è¯•ç¯å¢ƒï¼Œå‡ä¸º <strong>ğŸ’»ï¼š</strong>  <code>win10 21H1</code>  ğŸ“  <code>Visual Studio 2017</code> ğŸ“ <code>Qt Creator 4.15.0</code> </p><br><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>â€‹ç¼–ç¨‹æ—©æ™šçš†ä¼šé‡ä¹±ç ï¼Œç»å¸¸ä¸€äº›é‡åˆ°â€æ‹¿æ¥ä¸»ä¹‰â€ï¼Œç»è¿‡ C + Vï¼Œä¸å‡æ€ç´¢çœ‹æ•ˆæœï¼Œæˆ–è¡Œæˆ–ä¸è¡Œã€‚å¿½è§‰ï¼Œä¸åº”å¦‚æ­¤ï¼Œç»†ä¸€ç¼•åˆ†æä¹‹ï¼Œçœ‹å…¶ç¼˜ç”±ï¼Œè§£æƒ‘ä¹‹ï¼Œè®°è½½äºæ­¤ã€‚</p><p>â€‹</p><p>â€‹emmmï¼Œè‹¥æ˜¯æ²¡é‡åˆ°è¿‡ä¹±ç ï¼Œå»ºè®®å¯ç›´æ¥å…³é—­æœ¬æ–‡ï¼›é¡ºä¾¿æˆ‘ç”±è¡·æƒ³è¯´ä¸€å¥ï¼š</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/5020AFF3B8B11646230518EED2E06DEA.png" width="20%"/ loading="lazy"><br><h2 id="åŸºç¡€å…±è¯†"><a href="#åŸºç¡€å…±è¯†" class="headerlink" title="åŸºç¡€å…±è¯†"></a>åŸºç¡€å…±è¯†</h2><p>â€‹åœ¨è®²è§£ç¼–ç¨‹ä¹±ç ä¹‹å‰ï¼Œå…ˆå‡å®šè¯»è€…å’Œæˆ‘å·²æœ‰åŸºæœ¬çš„ <font color=#FF0000 face="STFangsong"><strong>â€œå­—ç¬¦ï¼Œå­—èŠ‚ï¼Œå­—ç¬¦ä¸²å’Œç¼–ç â€</strong></font> ç†è§£å…±è¯†ï¼Œè‹¥æ˜¯ç†è§£ä¸å¤Ÿè¯¦ç»†ï¼Œå¯è‡ªè¡Œå‰å¾€<a href="http://www.regexlab.com/zh/encoding.htm">å­—ç¬¦ï¼Œå­—èŠ‚å’Œç¼–ç </a>è¾¾æˆå…±è¯†ã€‚</p><p>ä½†å…¶ä¸­ä¸€éƒ¨åˆ†ä¾æ—§å¼ºè°ƒä¸€éï¼š</p><ol><li><strong>ANSI ç¼–ç </strong> è¡¨ç¤ºæœ¬åœ°åŒ–çš„ä¸€ç§ç¼–ç ï¼Œä¸åŒå›½å®¶ã€åœ°åŒºçš„å…¶ç¼–ç æ–¹å¼ä¸åŒï¼Œä¸”ä¹‹é—´äº’ç›¸ä¸å…¼å®¹ã€‚ä¹Ÿè¢«ç§°ä¹‹ä¸º <strong>å¤šå­—èŠ‚ç¼–ç </strong> ï¼šæ¯ä¸ªå­—ç¬¦ä½¿ç”¨ä¸€ä¸ªå­—èŠ‚æˆ–å¤šä¸ªå­—èŠ‚ï¼ˆå¹¶éæ˜¯å›ºå®šçš„ 2 å­—èŠ‚ï¼‰ã€‚</li><li><strong>å­—ç¬¦</strong> æ˜¯ä¸€ä¸ªæŠ½è±¡çš„ç¬¦å·ï¼Œäººä»¬è¾¾æˆçš„ä¸€çº¦å®šå…±è¯†ã€‚å¦‚çœ‹åˆ° â€˜$â€™, â€˜ï¿¥â€™ å³çŸ¥å…¶å«ä¹‰ã€‚</li><li><strong>å­—èŠ‚</strong> æ˜¯è®¡ç®—æœºä¸­çš„ä¸€æ®µå­˜å‚¨ç©ºé—´ï¼Œæ˜¯ä¸€ä¸ª 8 ä½çš„äºŒè¿›åˆ¶æ•°ã€‚</li><li><font color=#D0087E><strong>ANSI å­—ç¬¦ä¸²</strong></font> æ˜¯å½¢å¦‚ <code>&quot;ä¸­æ–‡123&quot;</code> è¿™ç§æ ¼å¼çš„å¤šä¸ªå­—ç¬¦ï¼Œå…¶å…±å  7 å­—èŠ‚ï¼Œå…± 5 ä¸ªå­—ç¬¦ã€‚</li></ol><br><h2 id="ä¹±ç ç§ç±»"><a href="#ä¹±ç ç§ç±»" class="headerlink" title="ä¹±ç ç§ç±»"></a>ä¹±ç ç§ç±»</h2><p>â€‹åœ¨è¿™é‡Œï¼Œæˆ‘å°†ä¹±ç å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼Œæˆ–è®¸å…¶â€œç§°å‘¼â€ä¸å¤Ÿå‡†ç¡®ï¼ˆä¸å¿…çº ç»“ï¼‰ï¼Œä½†å€˜è‹¥è¯»è€…ç”±å…¶æ–‡å­—è‡ªè¡Œç†è§£è¿™ä¸¤ç§çš„å·®å¼‚ï¼Œå’Œæˆ‘è¾¾æˆå…±è¯†äº†, å³ä¸ºç›®çš„è¾¾åˆ°äº†<del>ï¼ˆæ˜¯è¯­è¨€çš„å±€é™æ€§ï¼Ÿï¼Ÿï¼‰</del>ã€‚</p><p><font color=#FF0000><strong>â“µå¼</strong></font> <strong>æ–‡ä»¶è¯»å–å½¢å¼çš„ä¹±ç ï¼š</strong> A è½¯ä»¶ç¼–å†™äº†ä¸€ä¸ª test.txt æ–‡ä»¶ï¼Œé‡Œé¢åŒ…å«ä¸­è‹±æ–‡å’Œç¬¦å·ã€‚ç„¶ååœ¨æœ¬æœºä½¿ç”¨ B è½¯ä»¶ç›´æ¥æ‰“å¼€ï¼Œå‘ç°ä¹±ç äº†ï¼›äº¦æˆ–æ˜¯å°†æ­¤æ–‡ä»¶ï¼Œå‘é€å¦å¤–ä¸€ä¸ªå¤–å›½çš„ç½‘å‹ï¼Œç„¶ååŒæ ·ä½¿ç”¨ A è½¯ä»¶æ‰“å¼€ï¼Œå´å‘ç°ä¹Ÿä¹±ç äº†ã€‚ï¼ˆæ­¤å¤„ â€œå‘ç°ä¹±ç äº†â€ å«ä¹‰ä¸ºäººçœ‹ä¸æ‡‚ï¼Œå‡ºç°æ–¹å—ç¬¦å·ã€æˆ–è€…å¤ç”Ÿåƒ»æ±‰å­—ã€è±å½¢?ç­‰ï¼‰</p><p><font color=#FF0000><strong>â“¶å¼</strong></font> <strong>å«ç¼–ç¨‹å½¢å¼çš„ä¹±ç ï¼š</strong> åœ¨ IDE ä¸­ï¼Œè¾“å‡ºä¸€ä¸ª â€œANSI å­—ç¬¦ä¸²â€ æˆ–è€…å°†å…¶ä¿å­˜åˆ°å­—ç¬¦ä¸²å¯¹è±¡ string ã€QString ç­‰ä¸­ï¼Œå†ç»ˆç«¯è¾“å‡ºï¼Œå‘ç°ä¹Ÿä¹±ç äº†ã€‚</p><br><p>â€‹å…¶ä¸­<font color=#FF0000><strong>â“µå¼</strong></font>çš„éå¸¸å®¹æ˜“è§£å†³ï¼Œå…¶ä»…å’Œ<strong>â€œæºç å­—ç¬¦é›†â€</strong> æœ‰å…³ï¼Œæœ€å¸¸è§çš„è§£å†³æ–¹å¼ä¸ºæ¢ä¸€ä¸ªç¼–ç æ ¼å¼è§£æå³å¯ï¼ˆè¿‡äºç®€å•ä¸å†è®¨è®ºï¼‰ã€‚è€Œ<font color=#FF0000><strong>â“¶å¼</strong></font>çš„åˆ™å’Œ<strong>â€œæ‰§è¡Œå­—ç¬¦é›†â€</strong> ç›¸å…³ï¼Œæ¯”è¾ƒå¤æ‚ã€æ¶‰åŠçš„çŸ¥è¯†ç‚¹ä¹Ÿæ¯”è¾ƒå¤šï¼Œä¹Ÿæ˜¯å·¥ç¨‹å¸ˆå¸¸é‡åˆ°å´éš¾ä»¥è§£å†³ã€ä¹Ÿæ˜¯ä½™æ–‡çš„ç¯‡å¹…å†…å®¹ã€‚å…¶å·®å¼‚è§å›¾ç¤º:</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/Encoding2.svg" width="60%"/ loading="lazy"><br><h2 id="åˆ†æä¸¤ç§ä¹±ç "><a href="#åˆ†æä¸¤ç§ä¹±ç " class="headerlink" title="åˆ†æä¸¤ç§ä¹±ç "></a>åˆ†æä¸¤ç§ä¹±ç </h2><p>â€‹å¯¹äº<font color=#FF0000><strong>â“¶å¼</strong></font>çš„ä¹±ç ï¼Œä¸€å…±æ¶‰åŠåˆ°å¦‚ä¸‹ç¯èŠ‚ï¼ˆæŒ‰é¡ºåºï¼‰ï¼Œå¦‚æœæœ‰ä¸€ä¸ªç¯èŠ‚å‡ºç°äº†é—®é¢˜ï¼Œåˆ™ä¼šé€ æˆæœ€ç»ˆçš„ç»ˆç«¯æ‰“å°å‡ºç°ä¹±ç ã€‚</p><blockquote><p>ä»¥æ–‡æœ¬ â€œæˆ‘æ˜¯æ±‰å­—å¥‡â€ ä¸ºä¾‹ï¼š</p></blockquote><ol><li>ç¡®å®šæœ¬æœºçš„å­—ç¬¦ç¼–ç </li><li>åœ¨ .cpp ä¸­ï¼Œ å†™å…¥ <code>æˆ‘æ˜¯æ±‰å­—å¥‡</code> çš„<em>â€œANSIå­—ç¬¦ä¸²â€</em>æ—¶ï¼ŒæŒ‰ä¸‹ä¿å­˜æ—¶ï¼Œé€‰æ‹©çš„ç¼–ç æ ¼å¼ä¸ºï¼Ÿ</li><li>å°†æ­¤<em>â€œANSIå­—ç¬¦ä¸²â€</em>å½“å‚æ•°ï¼Œä¼ é€’ç»™ QString æ—¶å€™ï¼Œå…¶å­—ç¬¦ç¼–ç ä¸ºï¼Ÿ</li><li>IDE ç¼–è¯‘ .cpp æ—¶å€™ï¼Œå…¶æ‰§è¡Œå­—ç¬¦é›†ä¸ºï¼Ÿå°†å…¶æ‹·è´åˆ°å†…å­˜ä¸­æ—¶å€™ä¸ºï¼Ÿ</li><li>è¾“å‡ºåˆ°ç»ˆç«¯çš„æ—¶å€™ï¼Œç»ˆç«¯çš„å­—ç¬¦é›†ä¸ºï¼Ÿ</li></ol><br><p><strong>è¡¥å……è¯´æ˜ï¼ˆå·¨å‘ï¼‰ï¼š</strong></p><ul><li><p>MSVC çš„ç¼–ç å­—ç¬¦é›†å’Œæ‰§è¡Œå­—ç¬¦é›†éƒ½é»˜è®¤ä¸º GBKï¼›è€Œ QtCretor ç¼–ç å­—ç¬¦é›†å’Œæ‰§è¡Œå­—ç¬¦é›†éƒ½é»˜è®¤ä¸º UTF-8ã€‚</p></li><li><p>MSVC æ‰§è¡Œç¼–è¯‘æ—¶å€™ï¼Œå‘ç°è¿‘ä»…åªèƒ½å¤Ÿå°† â€œUFT-8 å¸¦ BOMâ€ æ ¼å¼çš„æ–‡ä»¶æ­£ç¡®è¯†åˆ«ã€‚è€Œä¸å¸¦ BOM çš„ UTF-8 å®é™…ä¹Ÿæ˜¯è¢«è¯†åˆ«ä¸º GBK æ ¼å¼ã€‚</p></li><li><p>MSVC åœ¨ç¼–è¯‘æ—¶ï¼Œæ— è®º .cpp æ–‡ä»¶æºç å­—ç¬¦é›†æ˜¯ <code>UTF-8</code>ã€<code>UTF-8 BOM</code>ã€<code>GBK</code> ä¸­çš„å“ªä¸€ç§ï¼›åªè¦æ²¡æœ‰å£°æ˜ä¸ºæ‰§è¡Œç å­—ç¬¦é›†ä¸º UFT-8ï¼Œåˆ™æœ€ç»ˆåœ¨å†…å­˜ä¸­ï¼Œéƒ½ä¼šè¢«<strong>å¼ºåˆ¶è½¬æ¢ GBK</strong> å¤„ç†ï¼›è‹¥ä¸€æ—¦å£°æ˜ï¼Œåˆ™ä¹Ÿä¼šè¢«<strong>å¼ºåˆ¶è½¬æ¢ä¸º UTF-8 æ ¼å¼</strong> ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// è‹¥æƒ³å£°æ˜æ‰§è¡Œå­—ç¬¦é›†ä¸º UFT-8ï¼Œæ·»åŠ å¦‚ä¸‹</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">execution_character_set</span><span class="token punctuation">(</span></span><span class="token string">"utf-8"</span><span class="token expression"><span class="token punctuation">)</span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p>è‹¥æµ‹è¯•çš„å­—ç¬¦ä¸² <code>&quot;xxxxxxx&quot;</code> ä¸ºå¶æ•°ï¼Œæ°å¥½ä¼šæœ‰â€œé”™é”™å¾—å¯¹â€å·§åˆï¼›æ•…ç‰¹åœ°é€‰æ‹© <code>æˆ‘æ˜¯æ±‰å­—å¥‡</code> è¿™å¥‡æ•°ä¸ªçš„ä¸­æ–‡æ¥æµ‹è¯•</p></li><li><p>win10 ç»ˆç«¯é»˜è®¤çš„ç¼–ç æ˜¯ GBKï¼Œæœ‰æ—¶å€™è¿˜æ˜¯å¾ˆå‘</p></li><li><p><strong>å­—ç¬¦ä¸²äºŒè¿›åˆ¶çš„è¡¨ç¤ºå½¢å¼ä¸éœ€è¦ç¼–è¯‘ï¼Œç›´æ¥æ‹·è´åˆ°æ‰§è¡Œç¨‹åºçš„äºŒè¿›åˆ¶ä¸­ã€‚</strong></p></li></ul><br><h2 id="æ¶‰åŠçš„çŸ¥è¯†ç‚¹"><a href="#æ¶‰åŠçš„çŸ¥è¯†ç‚¹" class="headerlink" title="æ¶‰åŠçš„çŸ¥è¯†ç‚¹"></a>æ¶‰åŠçš„çŸ¥è¯†ç‚¹</h2><p>â€‹ç”±ä¸Šé¢çš„åˆ†æå¯ä»¥ï¼Œç‰µæ¶‰çš„éƒ¨åˆ†çŸ¥è¯†ç‚¹å¤§è‡´åŒ…å«å¦‚ä¸‹ï¼›</p><ol><li>æºç å­—ç¬¦é›† å’Œ æ‰§è¡Œå­—ç¬¦é›†</li><li>å­—ç¬¦ç¼–ç  ANSIï¼ŒGBKï¼ŒUTF-8ï¼ŒUTF-16ï¼ŒLatin-1</li><li>ç»Ÿä¸€ç å¸¦ BOM å’Œä¸å¸¦åŒºåˆ«ï¼Ÿ</li><li>ä»£ç é¡µï¼Œæœ¬åœ°ç¼–ç ï¼ŒANSI ç¼–ç </li><li>MinGW&#x2F;MSVC ä¸­é»˜è®¤çš„ç¼–ç </li><li>MSVC çš„ç‰¹æ®Šæƒ…å†µï¼ˆè§åˆ†æçš„è¡¥å……è¯´æ˜ï¼‰</li><li>Qt&#x2F;C++ ç¼–ç è½¬æ¢ä½¿ç”¨ </li><li>QStringã€QByteArraryã€QCharã€stringã€char *ã€char []ã€char</li></ol><p>ä¸‹é¢é€ä¸€è§£é‡Šå…¶å†…å®¹ï¼Œå†…å®¹è¾ƒå¤šã€æœ›å›è€å¿ƒã€‚è°è®©å†å²çš„ç§¯ç´¯å’ŒåŒ…è¢±æœ‰è¿™ä¹ˆå¤šå‘¢ï¼Ÿå·²å°†å…³è”ä¸å¤§éƒ¨åˆ†ï¼Œä¸€ç¬”å¸¦è¿‡ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/IMG_2484(20210407-004402).JPG" width="20%"/ loading="lazy"><br><h3 id="æºç å­—ç¬¦é›†-å’Œ-æ‰§è¡Œå­—ç¬¦é›†"><a href="#æºç å­—ç¬¦é›†-å’Œ-æ‰§è¡Œå­—ç¬¦é›†" class="headerlink" title="æºç å­—ç¬¦é›† å’Œ æ‰§è¡Œå­—ç¬¦é›†"></a>æºç å­—ç¬¦é›† å’Œ æ‰§è¡Œå­—ç¬¦é›†</h3><table><thead><tr><th>åç§°</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>æºç å­—ç¬¦é›†(the source character set)</td><td>æºç æ–‡ä»¶æ˜¯ä½¿ç”¨ä½•ç§ç¼–ç ä¿å­˜çš„</td></tr><tr><td>æ‰§è¡Œå­—ç¬¦é›†(the execution character set)</td><td>å¯æ‰§è¡Œç¨‹åºå†…ä¿å­˜çš„æ˜¯ä½•ç§ç¼–ç (ç¨‹åºæ‰§è¡Œæ—¶å†…å­˜ä¸­å­—ç¬¦ä¸²ç¼–ç )</td></tr></tbody></table><p>C++98 çš„é—®é¢˜ï¼š <strong>æ—¢æ²¡æœ‰è§„å®šæºç å­—ç¬¦é›†ï¼Œä¹Ÿæ²¡æœ‰è§„å®šæ‰§è¡Œå­—ç¬¦é›†</strong>ã€‚ å¯å‚è§<a href="https://www.cnblogs.com/victor-ma/articles/3836243.html">ã€è½¬ã€‘æºç å­—ç¬¦é›†(the source character set) ä¸ æ‰§è¡Œå­—ç¬¦é›†(the execution character set)</a>ã€‚</p><br><h3 id="å­—ç¬¦é›†-x2F-ç¼–ç -x2F-ASCII-x2F-ANSI-x2F-UNICODE"><a href="#å­—ç¬¦é›†-x2F-ç¼–ç -x2F-ASCII-x2F-ANSI-x2F-UNICODE" class="headerlink" title="å­—ç¬¦é›†&#x2F;ç¼–ç &#x2F;ASCII&#x2F;ANSI&#x2F;UNICODE"></a>å­—ç¬¦é›†&#x2F;ç¼–ç &#x2F;ASCII&#x2F;ANSI&#x2F;UNICODE</h3><blockquote><p>æŒ‰ç…§æƒ¯ä¾‹ï¼Œäººä»¬è®¤ä¸º<strong>å­—ç¬¦é›†</strong> å’Œ<strong>å­—ç¬¦ç¼–ç </strong> æ˜¯åŒä¹‰è¯ï¼Œå› ä¸ºä½¿ç”¨åŒæ ·çš„æ ‡å‡†æ¥å®šä¹‰æä¾›ä»€ä¹ˆå­—ç¬¦å¹¶ä¸”è¿™äº›å­—ç¬¦å¦‚ä½•ç¼–ç åˆ°ä¸€ç³»åˆ—çš„ä»£ç å•å…ƒï¼ˆé€šå¸¸ä¸€ä¸ªå­—ç¬¦ä¸€ä¸ªå•å…ƒï¼‰ã€‚ç”±äºå†å²çš„åŸå› ï¼ŒMIMEå’Œä½¿ç”¨è¿™ç§ç¼–ç çš„ç³»ç»Ÿä½¿ç”¨æœ¯è¯­<strong>å­—ç¬¦é›†</strong> æ¥è¡¨ç¤ºç”¨äºå°†ä¸€ç»„å­—ç¬¦ç¼–ç æˆä¸€ç³»åˆ—å…«ä½å­—èŠ‚æ•°æ®çš„æ•´ä¸ªç³»ç»Ÿã€‚</p></blockquote><p><strong>å­—ç¬¦é›†ï¼ˆå³ å­—ç¬¦ç¼–ç ï¼‰ï¼š</strong> è¢«æ”¶çº³è¿›å…¥æ ‡å‡†çš„ å­—ç¬¦å’Œç¬¦å·çš„é›†åˆã€‚</p><p><strong>ç¼–ç ï¼š</strong> è§„å®šâ€œå­—ç¬¦é›†â€ä¸­å…·ä½“çš„æŸä¸€å­—ç¬¦å­˜å‚¨çš„æ–¹å¼ï¼ˆå­—èŠ‚æ•°ã€å“ªäº›å­—èŠ‚ï¼‰ã€‚</p><p>ä½†é€šå¸¸æ‰€è¯´çš„ â€œå­—ç¬¦é›†â€ ã€ â€œç¼–ç â€ ä¸ â€œGB2312, GBK, JIS, Big5â€  å¸¸æœ‰æ··ç”¨ï¼Œåº”ç»“åˆä¸Šä¸‹æ–‡ç†è§£åˆ°åº•è¯´çš„å“ªä¸€ä¸ªå«ä¹‰ã€‚å¦‚ notepad++ ä¸­é›†ä¸­å¸¸è§çš„ç¼–ç ï¼›</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210921005259.png" width="30%"/ loading="lazy"><p>å…¶åˆ†ç±»ä¸ºå¦‚ä¸‹</p><table><thead><tr><th align="left">åˆ†ç±»</th><th>ç¼–ç æ ‡å‡†</th></tr></thead><tbody><tr><td align="left">å•å­—èŠ‚å­—ç¬¦ç¼–ç </td><td>ISO-8859-1ï¼ŒASCII</td></tr><tr><td align="left">ANSI ç¼–ç ï¼ˆå¤šå­—èŠ‚ï¼‰</td><td>GB2312(ç®€ä½“ä¸­æ–‡)ï¼ŒBIG5(ç¹ä½“ä¸­æ–‡)ï¼ŒShift_JIS(æ—¥æœ¬)</td></tr><tr><td align="left">UNICODE ç¼–ç </td><td>UTF-8ï¼ŒUTF-8-BOMï¼ŒUTF-16ï¼ˆUCS-2 Bigã€UCS-2 Littleï¼‰</td></tr></tbody></table><br><p><strong>ASCII</strong> ï¼šåªæ”¯æŒåŸºæœ¬çš„æ‹‰ä¸å­—ç¬¦çš„å­—ç¬¦ç¼–ç </p><p><strong>ISO&#x2F;IEC 8859</strong> ï¼šåœ¨ ASCII åŸºç¡€ä¸ŠåŠ ä¸Šä¸€äº›æ‰©å±•å­—ç¬¦ï¼Œæ˜¯ 15 ç§å­—ç¬¦é›†ã€‚<font color=#FF0000 ><strong>Latin-1</strong></font> æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210718191313.png" width="100%"/ loading="lazy"><br><p>â€‹ä¸è®ºæ˜¯ ASCII çš„ 7 ä½çš„ç¼–ç ï¼Œè¿˜æ˜¯åæœŸæ¼”åŒ–å‡ºæ¥çš„ ISO&#x2F;IEC 8859 çš„ 8 ä½çš„ç¼–ç ï¼Œéƒ½è¿˜æ˜¯ç”¨å•ä¸ªå­—èŠ‚å°±å¯ä»¥è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œå«åš<strong>å•å­—èŠ‚ç¼–ç </strong>ã€‚å„ç§å•å­—èŠ‚ç¼–ç ä¹‹é—´çš„å…³ç³»ï¼Œå¯ä»¥ç”¨ä¸‹é¢å›¾è¡¨æ¥è§£é‡Šï¼š</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210718202242.png" width="70%"/ loading="lazy"><br><p><strong>Unicode</strong> ï¼šåªæ˜¯ä¸€ä¸ªç¬¦å·é›†ï¼Œå®ƒåªè§„å®šäº†ç¬¦å·çš„äºŒè¿›åˆ¶ä»£ç ï¼Œå´æ²¡æœ‰è§„å®šè¿™ä¸ªäºŒè¿›åˆ¶ä»£ç åº”è¯¥å¦‚ä½•å­˜å‚¨ã€‚å®ƒçš„å®ç°æ–¹å¼æœ‰å¦‚ä¸‹ï¼š</p><ul><li><strong>UTF-8</strong> æ˜¯ä¸€ç§å˜é•¿çš„ç¼–ç æ–¹å¼ã€‚å®ƒå¯ä»¥ä½¿ç”¨1~4ä¸ªå­—èŠ‚è¡¨ç¤ºä¸€ä¸ªç¬¦å·ï¼Œæ ¹æ®ä¸åŒçš„ç¬¦å·è€Œå˜åŒ–å­—èŠ‚é•¿åº¦ã€‚</li><li><strong>UTF-16</strong> ç”¨äºŒä¸ªå­—èŠ‚å­˜å‚¨ä¸€ä¸ªå­—ç¬¦ã€‚</li><li><strong>UTF32</strong> ç”¨å››ä¸ªå­—èŠ‚å­˜å‚¨ä¸€ä¸ªå­—ç¬¦ã€‚</li></ul><br><h3 id="å¤§ç«¯å’Œå°ç«¯ï¼ˆå­—èŠ‚åºï¼‰"><a href="#å¤§ç«¯å’Œå°ç«¯ï¼ˆå­—èŠ‚åºï¼‰" class="headerlink" title="å¤§ç«¯å’Œå°ç«¯ï¼ˆå­—èŠ‚åºï¼‰"></a>å¤§ç«¯å’Œå°ç«¯ï¼ˆå­—èŠ‚åºï¼‰</h3><p>â€‹<strong>å¤§ç«¯(Big Endian)</strong> è®¤ä¸ºç¬¬ä¸€ä¸ªå­—èŠ‚æ˜¯æœ€é«˜ä½å­—èŠ‚ï¼ˆæŒ‰ç…§ä»ä½åœ°å€åˆ°é«˜åœ°å€çš„é¡ºåºå­˜æ”¾æ•°æ®çš„é«˜ä½å­—èŠ‚åˆ°ä½ä½å­—èŠ‚ï¼‰ï¼›</p><p>â€‹<strong>å°ç«¯ï¼ˆLittle Endianï¼‰</strong> åˆ™ç›¸åï¼Œå®ƒè®¤ä¸ºç¬¬ä¸€ä¸ªå­—èŠ‚æ˜¯æœ€ä½ä½å­—èŠ‚ï¼ˆæŒ‰ç…§ä»ä½åœ°å€åˆ°é«˜åœ°å€çš„é¡ºåºå­˜æ”¾æ®çš„ä½ä½å­—èŠ‚åˆ°é«˜ä½å­—èŠ‚ï¼‰ã€‚</p><br><p><strong>ä¾‹å­ï¼š</strong> å¦‚ 0x1234abcd å†™å…¥åˆ°ä»¥ 0x0000 å¼€å§‹çš„å†…å­˜ä¸­ï¼Œåˆ™ Little endian å’Œ Big endian æ¨¡å¼çš„å­˜æ”¾ç»“æœå¦‚ä¸‹ï¼š<br>åœ°å€            0x0000    0x0001    0x0002    0x0003<br>big-endian      0x12      0x34      0xab      0xcd<br>little-endian   0xcd      0xab      0x34      0x12</p> <br><h3 id="UTF-8-å¸¦-BOM-ä¸ä¸å¸¦åŒºåˆ«"><a href="#UTF-8-å¸¦-BOM-ä¸ä¸å¸¦åŒºåˆ«" class="headerlink" title="UTF-8 å¸¦ BOM ä¸ä¸å¸¦åŒºåˆ«"></a>UTF-8 å¸¦ BOM ä¸ä¸å¸¦åŒºåˆ«</h3><p>BOM å°±æ˜¯ä¸€ä¸ªæ ‡è®°ï¼Œç”¨äºæ”¾åœ¨æ•°æ®æœ€å¼€å§‹çš„å‡ ä¸ªé¢„å®šçš„ç‰¹æ®Šç¬¦å·ï¼Œ<strong>å¹¶æ— ç‰¹æ®Šçš„å«ä¹‰</strong>ã€‚ç ”ç©¶ä¸€é€šï¼Œæœ€åå‘ç°å°±æ˜¯æœ¬æ®µç¬¬ä¸€è¡Œè¯ã€‚å—å¢™åœ¨ <a href="https://www.cnblogs.com/flyingeagle/articles/9825302.html">UTF-8ä¸UTF-8 BOM</a> &amp;&amp; <a href="http://www.crifan.com/files/doc/docbook/char_encoding/release/html/char_encoding.html">å…³äºUTF-8çš„BOMï¼šâ€œEF BB BFâ€</a>ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">BOM EncodingEF BB BF UTF-8FE FF UTF-16 <span class="token punctuation">(</span>big-endian<span class="token punctuation">)</span>FF FE UTF-16 <span class="token punctuation">(</span>little-endian<span class="token punctuation">)</span>00 00 FE FF UTF-32 <span class="token punctuation">(</span>big-endian<span class="token punctuation">)</span>FF FE 00 00 UTF-32 <span class="token punctuation">(</span>little-endian<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre> <br><h3 id="ä»£ç é¡µï¼Œæœ¬åœ°ç¼–ç ï¼ŒANSIç¼–ç "><a href="#ä»£ç é¡µï¼Œæœ¬åœ°ç¼–ç ï¼ŒANSIç¼–ç " class="headerlink" title="ä»£ç é¡µï¼Œæœ¬åœ°ç¼–ç ï¼ŒANSIç¼–ç "></a>ä»£ç é¡µï¼Œæœ¬åœ°ç¼–ç ï¼ŒANSIç¼–ç </h3><p>ç®€å•ç†è§£ï¼šä»…åœ¨ Windows ç³»ç»Ÿä¸­æ‰æœ‰ä»£ç é¡µé¢ï¼Œåœ¨ç»ˆç«¯ <code>chcp</code> å¯æŸ¥çœ‹ã€‚ä¸€ä¸ªä»£ç é¡µçš„æ•°å­—ï¼Œå¯¹åº”è¿™ä¸€ä¸ªå­—ç¬¦ç¼–ç ã€‚è€Œ ANSIç¼–ç  å°±æ˜¯ä½¿ç”¨çš„æœ¬æœºå™¨é»˜è®¤çš„å­—ç¬¦ç¼–ç ï¼Œæœ¬æœºçš„ç®€ä½“ä¸­æ–‡ä¸­ä¸º GB2312 ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210921012137.png" width="50%"/ loading="lazy"><br><p><strong>æœ¬åœ°ç¼–ç </strong> ï¼šå½“å‰Windowsä¸­çš„äºŒè¿›åˆ¶çš„å€¼ï¼Œç”¨ä½•ç§ç¼–ç å»è§£æï¼Œç„¶åæ˜¾ç¤ºå‡ºå¯¹åº”çš„è¯¥ç¼–ç ä¸­çš„å­—ç¬¦ã€‚é€šå¸¸æ˜¯æŒ‡ ANSI ç¼–ç ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210718200015.png" width="80%"/ loading="lazy"><br><p><strong>ANSI ç¼–ç </strong> ï¼šä½¿ç”¨2ä¸ªå­—èŠ‚ï¼ˆé€šå¸¸ä½¿ç”¨ 0x80~0xFF èŒƒå›´çš„2ä¸ªå­—èŠ‚æ¥è¡¨ç¤º1ä¸ªå­—ç¬¦ï¼‰æ¥ä»£è¡¨ä¸€ä¸ªå­—ç¬¦çš„å„ç§æ±‰å­—å»¶ä¼¸ç¼–ç æ–¹å¼ã€‚ä¸åŒçš„å›½å®¶å’Œåœ°åŒºåˆ¶å®šäº†ä¸åŒçš„æ ‡å‡†ï¼Œç”±æ­¤äº§ç”Ÿäº† GB2312, BIG5, JIS ç­‰å„è‡ªçš„ç¼–ç æ ‡å‡†ã€‚ä½†æ˜¯ä¸åŒ ANSI ç¼–ç ä¹‹é—´äº’ä¸å…¼å®¹ï¼Œå½“ä¿¡æ¯åœ¨å›½é™…é—´äº¤æµæ—¶ï¼Œæ— æ³•å°†å±äºä¸¤ç§è¯­è¨€çš„æ–‡å­—ï¼Œå­˜å‚¨åœ¨åŒä¸€æ®µ ANSI ç¼–ç çš„æ–‡æœ¬ä¸­ã€‚</p><ul><li>ç®€ä½“ä¸­æ–‡ç³»ç»Ÿï¼šANSI ç¼–ç ä»£è¡¨ GB2312 ç¼–ç </li><li>ç¹ä½“ä¸­æ–‡ç³»ç»Ÿï¼šANSI ç¼–ç ä»£è¡¨ BIG ç¼–ç </li><li>æ—¥æ–‡æ“ä½œç³»ç»Ÿï¼šANSI ç¼–ç ä»£è¡¨ JIS ç¼–ç </li></ul> <br><h3 id="MinGW-x2F-MSVC-ä¸­é»˜è®¤çš„ç¼–ç "><a href="#MinGW-x2F-MSVC-ä¸­é»˜è®¤çš„ç¼–ç " class="headerlink" title="MinGW&#x2F;MSVC ä¸­é»˜è®¤çš„ç¼–ç "></a>MinGW&#x2F;MSVC ä¸­é»˜è®¤çš„ç¼–ç </h3><p>â€‹è¿™ä¸ªé‡Œé¢å±å®æœ‰å¤§å‘ï¼Œå¦‚ä¸‹ã€‚</p><ul><li><p>MSVC çš„ç¼–ç å­—ç¬¦é›†å’Œæ‰§è¡Œå­—ç¬¦é›†éƒ½é»˜è®¤ä¸º GBKï¼›è€Œ QtCretor ç¼–ç å­—ç¬¦é›†å’Œæ‰§è¡Œå­—ç¬¦é›†éƒ½é»˜è®¤ä¸º UTF-8ã€‚</p></li><li><p>MSVC æ‰§è¡Œç¼–è¯‘æ—¶å€™ï¼Œå‘ç°è¿‘ä»…åªèƒ½å¤Ÿå°† â€œUFT-8 å¸¦ BOMâ€ æ ¼å¼çš„æ–‡ä»¶æ­£ç¡®è¯†åˆ«ã€‚è€Œä¸å¸¦ BOM çš„ UTF-8 å®é™…ä¹Ÿæ˜¯è¢«è¯†åˆ«ä¸º GBK æ ¼å¼ã€‚</p></li><li><p>MSVC åœ¨ç¼–è¯‘æ—¶ï¼Œæ— è®º .cpp æ–‡ä»¶æºç å­—ç¬¦é›†æ˜¯ <code>UTF-8</code>ã€<code>UTF-8 BOM</code>ã€<code>GBK</code> ä¸­çš„å“ªä¸€ç§ï¼›åªè¦æ²¡æœ‰å£°æ˜ä¸ºæ‰§è¡Œç å­—ç¬¦é›†ä¸º UFT-8ï¼Œåˆ™æœ€ç»ˆåœ¨å†…å­˜ä¸­ï¼Œéƒ½ä¼šè¢«<strong>å¼ºåˆ¶è½¬æ¢ GBK</strong> å¤„ç†ï¼›è‹¥ä¸€æ—¦å£°æ˜ï¼Œåˆ™ä¹Ÿéƒ½ä¼šè¢«<strong>å¼ºåˆ¶è½¬æ¢ä¸º UTF-8 æ ¼å¼</strong> ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">// è‹¥æƒ³å£°æ˜æ‰§è¡Œå­—ç¬¦é›†ä¸º UFT-8ï¼Œæ·»åŠ å¦‚ä¸‹<span class="token comment">#pragma execution_character_set("utf-8")</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p>è‹¥æµ‹è¯•çš„å­—ç¬¦ä¸² <code>&quot;xxxxxxx&quot;</code> ä¸ºå¶æ•°ï¼Œæ°å¥½ä¼šæœ‰â€œé”™é”™å¾—å¯¹â€å·§åˆï¼›æ•…ç‰¹åœ°é€‰æ‹© <code>æˆ‘æ˜¯æ±‰å­—å¥‡</code> è¿™å¥‡æ•°ä¸ªçš„ä¸­æ–‡æ¥æµ‹è¯•</p></li><li><p>win10 ç»ˆç«¯é»˜è®¤çš„ç¼–ç æ˜¯ GBKï¼Œæœ‰æ—¶å€™è¿˜æ˜¯å¾ˆå‘</p></li><li><p><strong>å­—ç¬¦ä¸²äºŒè¿›åˆ¶çš„è¡¨ç¤ºå½¢å¼ä¸éœ€è¦ç¼–è¯‘ï¼Œç›´æ¥æ‹·è´åˆ°æ‰§è¡Œç¨‹åºçš„äºŒè¿›åˆ¶ä¸­ã€‚</strong></p></li></ul> <br><hr><h2 id="C-x2F-Qt-ä¸­å­—ç¬¦ä¸²å’Œç¼–ç "><a href="#C-x2F-Qt-ä¸­å­—ç¬¦ä¸²å’Œç¼–ç " class="headerlink" title="C++&#x2F;Qt ä¸­å­—ç¬¦ä¸²å’Œç¼–ç "></a>C++&#x2F;Qt ä¸­å­—ç¬¦ä¸²å’Œç¼–ç </h2><p>â€‹å¼€å‘è€…è‡ªç„¶é‡ç‚¹å…³äº Qt å’Œ C++ çš„å­—ç¬¦ä¸²ï¼Œä»¥åŠæ¶‰åŠåˆ°çš„æœ‰å…³å‡½æ•°ï¼Œä»¥åŠé‡Œé¢å†…éƒ¨çš„å­˜å‚¨æ–¹å¼ã€‚</p><h3 id="QString"><a href="#QString" class="headerlink" title="QString"></a>QString</h3><blockquote><p>QString stores a string of 16-bit <a href="https://doc.qt.io/qt-5/qchar.html">QChar</a>s, where each <a href="https://doc.qt.io/qt-5/qchar.html">QChar</a> corresponds to one UTF-16 code unit. (Unicode characters with code values above 65535 are stored using surrogate pairs, i.e., two consecutive <a href="https://doc.qt.io/qt-5/qchar.html">QChar</a>s.)</p></blockquote><p>æ–‡æ¡£è§£é‡Šå¾ˆæ¸…æ¥šï¼šQString å†…éƒ¨æ˜¯ä»¥ 16 ä½çš„ QChar æ¥å­˜å‚¨ï¼ˆUnicode çš„ä¸€ç§ï¼Œä½†ä¸æ˜¯ utf-8ï¼‰ã€‚</p><br><h3 id="QByteArray"><a href="#QByteArray" class="headerlink" title="QByteArray"></a>QByteArray</h3><blockquote><p>QByteArray can be used to store both raw bytes (including â€˜\0â€™s) and traditional 8-bit â€˜\0â€™-terminated strings. Using QByteArray is much more convenient than using <code>const char *</code>.</p></blockquote><p>QByteArray æ—¢å¯ä»¥ç”¨æ¥å­˜å‚¨åŸå§‹çš„å­—èŠ‚ï¼ŒåŒ…æ‹¬<code>&#39;\0&#39;</code>ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å­˜å‚¨ä¼ ç»Ÿçš„ 8-bit çš„ä»¥<code>&#39;\0&#39;</code>ç»“å°¾çš„å­—ç¬¦ä¸²ã€‚ä½¿ç”¨QByteArrayæ¯”ä½¿ç”¨æ™®é€šçš„const char* æ›´æ–¹ä¾¿ã€‚</p><br><h3 id="QChar"><a href="#QChar" class="headerlink" title="QChar"></a>QChar</h3><blockquote><p>In Qt, Unicode characters are 16-bit entities without any markup or structure. This class represents such an entity. It is lightweight, so it can be used everywhere. Most compilers treat it like an <code>unsigned short</code>.</p></blockquote><p><font color=#D0087E><strong>åœ¨ Qt ä¸­ï¼ŒUnicode å­—ç¬¦æ˜¯æ²¡æœ‰ä»»ä½•æ ‡è®°æˆ–ç»“æ„çš„ 16 ä½å®ä½“ã€‚</strong></font> è¿™ä¸ªç±»ä»£è¡¨äº†è¿™æ ·ä¸€ä¸ªå®ä½“ã€‚å®ƒæ˜¯è½»é‡çº§çš„ï¼Œæ‰€ä»¥å®ƒå¯ä»¥è¢«åˆ°å¤„ä½¿ç”¨ã€‚å¤§å¤šæ•°ç¼–è¯‘å™¨æŠŠå®ƒå½“ä½œä¸€ä¸ª unsigned shortã€‚</p><br><table><thead><tr><th>è½¬å…¥å‡½æ•°</th><th>è½¬å‡ºå‡½æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>fromLocal8Bit</td><td>toLocal8Bit</td><td>ä¸æ“ä½œç³»ç»ŸåŠæœ¬åœ°åŒ–è¯­è¨€ç›¸å…³ï¼ŒLinux ä¸€èˆ¬æ˜¯ UTF-8 å­—ç¬¦ä¸²ï¼ŒWindows ä¸€èˆ¬æ˜¯ ANSI å¤šå­—èŠ‚ç¼–ç å­—ç¬¦ä¸²ã€‚</td></tr><tr><td>fromUtf8</td><td>toUtf8</td><td>ä¸ UTF-8 ç¼–ç çš„å­—ç¬¦ä¸²ç›¸äº’è½¬æ¢ã€‚</td></tr><tr><td>fromUtf16</td><td>utf16 å’Œ unicode</td><td>ä¸ UTF-16ï¼ˆUCS2ï¼‰ç¼–ç çš„å­—ç¬¦ä¸²äº’ç›¸è½¬æ¢ï¼Œutf16 å‡½æ•°ä¸ unicode å‡½æ•°åŠŸèƒ½ä¸€æ ·ï¼Œ æ³¨æ„æ²¡æœ‰ to å‰ç¼€ï¼Œå› ä¸º QString è¿è¡Œæ—¶çš„å†…ç å°±æ˜¯ UTF-16ï¼Œå­—ç¬¦çš„åŒå­—èŠ‚é‡‡ç”¨ä¸»æœºå­—èŠ‚åºã€‚</td></tr><tr><td>fromUcs4</td><td>toUcs4</td><td>ä¸ UTF-32ï¼ˆUCS4ï¼‰ç¼–ç çš„å­—ç¬¦ä¸²äº’ç›¸è½¬æ¢ï¼Œä¸€ä¸ªå­—ç¬¦ç”¨å››ä¸ªå­—èŠ‚ç¼–ç ï¼Œå ç©ºé—´å¤šï¼Œåº”ç”¨è¾ƒå°‘ã€‚</td></tr><tr><td>fromStdString</td><td>toStdString</td><td>ä¸ std::string å¯¹è±¡äº’ç›¸è½¬æ¢ï¼Œå› ä¸º C++11 è§„å®šæ ‡å‡†å­—ç¬¦ä¸² std::string ä½¿ç”¨ UTF-8 ç¼–ç ï¼Œè¿™å¯¹å‡½æ•°åŠŸèƒ½ä¸ä¸Šé¢ **Utf8 è½¬ç å‡½æ•°ç›¸åŒã€‚</td></tr><tr><td>fromStdWString</td><td>toStdWString</td><td>ä¸ std::wstring å¯¹è±¡ç›¸äº’è½¬æ¢ï¼Œåœ¨ Linux ç³»ç»Ÿé‡Œå®½å­—ç¬¦æ˜¯å››å­—èŠ‚çš„ UTF-32ï¼Œåœ¨ Windows ç³»ç»Ÿé‡Œå®½å­—ç¬¦æ˜¯ä¸¤å­—èŠ‚çš„ UTF-16ã€‚å› ä¸ºä¸åŒå¹³å°æœ‰æ­§ä¹‰ï¼Œä¸å»ºè®®ä½¿ç”¨ã€‚</td></tr><tr><td>fromCFString fromNSString</td><td>toCFString toNSString</td><td>ä»…å­˜åœ¨äºè‹¹æœ Mac OS X å’Œ iOS ç³»ç»Ÿã€‚</td></tr></tbody></table><p>QTextCodecï¼šä»…æ”¯æŒåœ¨é Unicode æ ¼å¼å’Œ Unicode ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚ä¸èƒ½ä¸åŒçš„é Unicode ä¹‹é—´ç›´æ¥è½¬æ¢ï¼ˆå¦‚ï¼š Shift_JIS å’Œ GBK ä¹‹é—´ä¸å¯ç›´æ¥è½¬æ¢ã€å¿…é¡»ä½¿ç”¨ Unicode ä¸­è½¬ä¸€æ¬¡ï¼‰</p><br><hr><h3 id="C-ä½¿ç”¨çš„å­—ç¬¦ä¸²"><a href="#C-ä½¿ç”¨çš„å­—ç¬¦ä¸²" class="headerlink" title="C++ ä½¿ç”¨çš„å­—ç¬¦ä¸²"></a>C++ ä½¿ç”¨çš„å­—ç¬¦ä¸²</h3><p>â€‹åœ¨ C++ ä¸­ï¼Œä»¥å‰é€šå¸¸ä½¿ç”¨ char è¡¨ç¤ºå•å­—èŠ‚çš„å­—ç¬¦ï¼Œä½¿ç”¨ wchar_t è¡¨ç¤ºå®½å­—ç¬¦ï¼Œå¯¹å›½é™…ç æä¾›ä¸€å®šç¨‹åº¦çš„æ”¯æŒã€‚ char * å­—ç¬¦ä¸²æœ‰ä¸“é—¨çš„å°è£…ç±» std::string æ¥å¤„ç†ï¼Œæ ‡å‡†è¾“å…¥è¾“å‡ºæµæ˜¯ std::cin å’Œ std::cout ã€‚å¯¹äº wchar_t * å­—ç¬¦ä¸²ï¼Œå…¶å°è£…ç±»æ˜¯ std::wstringï¼Œæ ‡å‡†è¾“å…¥è¾“å‡ºæµæ˜¯ wcin å’Œ wcoutã€‚</p><p>â€‹è™½ç„¶è§„å®šäº†å®½å­—ç¬¦ï¼Œä½†æ˜¯æ²¡æœ‰æ˜ç¡®ä¸€ä¸ªå®½å­—ç¬¦æ˜¯å ç”¨å‡ ä¸ªå­—èŠ‚ï¼ŒWindows ç³»ç»Ÿé‡Œçš„å®½å­—ç¬¦æ˜¯ä¸¤ä¸ªå­—èŠ‚ï¼Œå°±æ˜¯ UTF-16ï¼›è€Œ Unix&#x2F;Linux ç³»ç»Ÿé‡Œä¸ºäº†æ›´å…¨é¢çš„å›½é™…ç æ”¯æŒï¼Œå…¶å®½å­—ç¬¦æ˜¯å››ä¸ªå­—èŠ‚ï¼Œå³ UTF-32 ç¼–ç ã€‚è¿™ä¸ºç¨‹åºçš„è·¨å¹³å°å¸¦æ¥ä¸€å®šçš„æ··ä¹±ï¼Œé™¤äº† Windows ç¨‹åºå¼€å‘å¸¸ç”¨ wchar_t* å­—ç¬¦ä¸²è¡¨ç¤º UTF-16 ï¼Œå…¶ä»–æƒ…å†µä¸‹ wchar_t* éƒ½ç”¨å¾—æ¯”è¾ƒå°‘ã€‚</p><p>â€‹MFC ä¸€èˆ¬ç”¨è‡ªå®¶çš„ TCHAR å’Œ CString ç±»æ”¯æŒå›½é™…åŒ–ï¼Œå½“æ²¡æœ‰å®šä¹‰ _UNICODE å®æ—¶ï¼ŒTCHAR &#x3D; charï¼Œå½“å®šä¹‰äº† _UNICODEå® æ—¶ï¼ŒTCHAR &#x3D; wchar_tï¼ŒCString å†…éƒ¨ä¹Ÿæ˜¯ç±»ä¼¼çš„ã€‚<a href="http://c.biancheng.net/qt/">Qt</a> åˆ™ç”¨ QChar å’Œ QString ç±»ï¼ˆå†…éƒ¨æ’å®šä¸º UTF-16ï¼‰ï¼Œä¸€èˆ¬çš„å›¾å½¢å¼€å‘åº“éƒ½ç”¨è‡ªå®¶çš„å­—ç¬¦ä¸²ç±»åº“ã€‚</p><p>åœ¨æ–°æ ‡å‡† C++11 ä¸­ï¼Œå¯¹å›½é™…ç çš„æ”¯æŒåšäº†æ˜ç¡®çš„è§„å®šï¼š</p><ul><li>char * å¯¹åº” UTF-8 ç¼–ç å­—ç¬¦ä¸²ï¼ˆä»£ç è¡¨ç¤ºå¦‚ u8â€å¤šç§æ–‡å­—â€ï¼‰ï¼Œå°è£…ç±»ä¸º std::stringï¼›</li><li>æ–°å¢ char16_t * å¯¹åº” UTF-16 ç¼–ç å­—ç¬¦ä¸²ï¼ˆä»£ç è¡¨ç¤ºå¦‚ uâ€å¤šç§æ–‡å­—â€ï¼‰ï¼Œå°è£…ç±»ä¸º std::u16string ï¼›</li><li>æ–°å¢ char32_t * å¯¹åº” UTF-32 ç¼–ç å­—ç¬¦ä¸²ï¼ˆä»£ç è¡¨ç¤ºå¦‚ Uâ€å¤šç§æ–‡å­—â€ï¼‰ï¼Œå°è£…ç±»ä¸º std::u32string ã€‚</li></ul><p>å› ä¸º Qt æœ‰å°è£…å¥½çš„ QStringï¼Œæ‰€ä»¥ä¸å¤ªéœ€è¦è¿™äº›æ–°å¢çš„å­—ç¬¦ä¸²æ ¼å¼ã€‚</p><br><h3 id="char"><a href="#char" class="headerlink" title="char *"></a>char *</h3><ol><li>å¦‚æœæ˜¯â€œçª„å­—ç¬¦&#x2F;å­—ç¬¦ä¸²â€(ä»¥charä¸ºå•ä½)ï¼Œé‚£ä¹ˆä¸åŒçš„ç¼–è¯‘å™¨å¯èƒ½ä¸ä¸€æ ·ã€‚ä»¥ VC++ ä¸ºä¾‹ï¼Œå®ƒæ˜¯ç”±ç³»ç»Ÿä»£ç é¡µå†³å®šçš„ï¼Œæ¯”å¦‚åœ¨ä¸­æ–‡ windows ç³»ç»Ÿä¸‹å°±é‡‡ç”¨ GBK ç¼–ç ã€‚ï¼ˆç®—æ˜¯ <font color=#FF0000><strong>â“¶å¼</strong></font>çš„ä¹±ç çš„æœ€å¼€å§‹åŸå› ï¼‰</li><li>å¦‚æœå­—ç¬¦&#x2F;å­—ç¬¦ä¸²å‰æœ‰æŒ‡å®šç¼–ç æ–¹å¼ï¼Œé‚£æ²¡ä»€ä¹ˆå¥½è¯´çš„äº†ï¼Œå°±é‡‡ç”¨æŒ‡å®šçš„ç¼–ç æ–¹å¼ï¼Œå¦‚ä¸‹ï¼š</li></ol><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">char</span><span class="token operator">*</span> s1 <span class="token operator">=</span> u8<span class="token string">"hello"</span><span class="token punctuation">;</span>     <span class="token comment">//çª„å­—ç¬¦ä¸²ï¼Œutf-8ç¼–ç  (C++11)</span><span class="token keyword">wchar_t</span><span class="token operator">*</span> s2 <span class="token operator">=</span>  L<span class="token string">"hello"</span><span class="token punctuation">;</span>  <span class="token comment">//å®½å­—ç¬¦ä¸²ï¼Œutf-16ç¼–ç </span><span class="token keyword">char16_t</span><span class="token operator">*</span> s3 <span class="token operator">=</span>  u<span class="token string">"hello"</span><span class="token punctuation">;</span> <span class="token comment">//å®½å­—ç¬¦ä¸²ï¼Œutf-16ç¼–ç  (C++11)</span><span class="token keyword">char32_t</span><span class="token operator">*</span> s4 <span class="token operator">=</span>  U<span class="token string">"hello"</span><span class="token punctuation">;</span> <span class="token comment">//utf-32ç¼–ç  (C++11)</span><span class="token comment">//'\x12' : \xåé¢æ¥2ä¸ª16è¿›åˆ¶æ•°å­—ï¼Œå¯è¡¨ç¤ºä¸€ä¸ªçª„å­—ç¬¦charï¼Œå¤šä¸ª\xè¿èµ·æ¥å¯è¡¨ç¤ºä¸€ä¸ªutf-8å­—ç¬¦ï¼Œå¦‚"\xE4\xBD\xA0"</span><span class="token comment">//L'\u1234' : \uåé¢æ¥4ä¸ª16è¿›åˆ¶æ•°å­—ï¼Œå¯è¡¨ç¤ºä¸€ä¸ªutf-16å®½å­—ç¬¦</span><span class="token comment">//U'\U12345678' : \Uåé¢æ¥8ä¸ª16è¿›åˆ¶æ•°å­—ï¼Œå¯è¡¨ç¤ºä¸€ä¸ªUtf-32</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="char-1"><a href="#char-1" class="headerlink" title="char []"></a>char []</h3><p>é€šå¸¸æƒ…å†µä¸‹å’Œå¯ä»¥ <code>char []</code> å’Œ <code>char *</code> è¿›è¡Œæ··ç”¨ï¼Œä¸€ä¸ªä¸ºå½¢å‚ï¼Œå¦ä¸€ä¸ªä¸ºå®å‚ã€‚</p><p>ä¸åŒç‚¹ä¸ºï¼Œè¯¦ç»†å¯è§ <a href="https://blog.csdn.net/u012611878/article/details/78291036">ã€C&#x2F;C++ã€‘å¯¹char* å’Œ char[]åŒºåˆ«çš„ä¸€äº›ç†è§£</a>ï¼š</p><ol><li>char*æ˜¯å˜é‡ï¼Œå€¼å¯ä»¥æ”¹å˜ï¼Œ char[]æ˜¯å¸¸é‡ï¼Œå€¼ä¸èƒ½æ”¹å˜ã€‚</li><li>char[]å¯¹åº”çš„å†…å­˜åŒºåŸŸæ€»æ˜¯å¯å†™ï¼Œchar*æŒ‡å‘çš„åŒºåŸŸæœ‰æ—¶å¯å†™ï¼Œæœ‰æ—¶åªè¯»</li><li>char * å’Œchar[]çš„åˆå§‹åŒ–æ“ä½œæœ‰ç€æ ¹æœ¬åŒºåˆ«ï¼ˆæŒ‡å‘å¸¸é‡åŒºå’Œèµ‹å€¼å˜é‡çš„æ ˆåŒºï¼‰</li></ol><br><h3 id="string"><a href="#string" class="headerlink" title="string"></a>string</h3><blockquote><p>typedef basic_string<char> string;</p><p>String class</p><p>Strings are objects that represent sequences of characters.</p><p>The standard <code>string</code> class provides support for such objects with an interface similar to that of a <a href="https://www.cplusplus.com/stl">standard container</a> of bytes, but adding features specifically designed to operate with strings of single-byte characters.</p><p>The <code>string</code> class is an instantiation of the <a href="https://www.cplusplus.com/basic_string">basic_string</a> class template that uses <code>char</code> (i.e., bytes) as its <em>character type</em>, with its default <a href="https://www.cplusplus.com/char_traits">char_traits</a> and <a href="https://www.cplusplus.com/allocator">allocator</a> types (see <a href="https://www.cplusplus.com/basic_string">basic_string</a> for more info on the template).</p><p>Note that this class handles bytes independently of the encoding used: If used to handle sequences of multi-byte or variable-length characters (such as UTF-8), all members of this class (such as <a href="https://www.cplusplus.com/string::length">length</a> or <a href="https://www.cplusplus.com/string::size">size</a>), as well as its iterators, will still operate in terms of bytes (not actual encoded characters).</p></blockquote><p>å­—ç¬¦ä¸²ç±»æ˜¯ basic_string ç±»æ¨¡æ¿çš„å®ä¾‹ï¼Œå®ƒä½¿ç”¨ charï¼ˆå³å­—èŠ‚ï¼‰ä½œä¸ºå…¶å­—ç¬¦ç±»å‹ï¼Œå¹¶å…·æœ‰é»˜è®¤çš„char_traits å’Œåˆ†é…å™¨ç±»å‹ï¼ˆå…³äºæ¨¡æ¿çš„æ›´å¤šä¿¡æ¯è¯·å‚è§ basic_string ï¼‰ã€‚</p><p>è¯·æ³¨æ„ï¼Œè¯¥ç±»å¤„ç†å­—èŠ‚çš„æ–¹å¼ä¸ä½¿ç”¨çš„ç¼–ç æ— å…³ã€‚å¦‚æœç”¨äºå¤„ç†å¤šå­—èŠ‚æˆ–å¯å˜é•¿åº¦çš„å­—ç¬¦åºåˆ—ï¼ˆå¦‚ UTF-8ï¼‰ï¼Œè¿™ä¸ªç±»çš„æ‰€æœ‰æˆå‘˜ï¼ˆå¦‚ length æˆ– size ï¼‰ï¼Œä»¥åŠå®ƒçš„è¿­ä»£å™¨ï¼Œä»å°†ä»¥å­—èŠ‚ä¸ºå•ä½è¿›è¡Œæ“ä½œï¼ˆè€Œä¸æ˜¯å®é™…ç¼–ç çš„å­—ç¬¦ï¼‰ã€‚</p><p>see: <a href="https://www.cplusplus.com/reference/string/string"> https://www.cplusplus.com/reference/string/string</a></p><br><h3 id="char-2"><a href="#char-2" class="headerlink" title="char"></a>char</h3><p><strong>char</strong> - èƒ½åœ¨ç›®æ ‡ç³»ç»Ÿä¸Šæœ€æœ‰æ•ˆåœ°å¤„ç†çš„å­—ç¬¦è¡¨ç¤ºçš„ç±»å‹ï¼ˆæ‹¥æœ‰ä¸ signed char æˆ– unsigned char ä¹‹ä¸€ç›¸åŒçš„è¡¨ç¤ºå’Œå¯¹é½ï¼Œä½†å§‹ç»ˆæ˜¯ç‹¬ç«‹çš„ç±»å‹ï¼‰ã€‚<a href="https://zh.cppreference.com/w/cpp/string/multibyte">å¤šå­—èŠ‚å­—ç¬¦ä¸²</a>ç”¨æ­¤ç±»å‹è¡¨ç¤ºç¼–ç å•å…ƒã€‚å¯¹äºæ¯ä¸ªèŒƒå›´ [0, 255] ä¸­çš„ unsigned char ç±»å‹å€¼ï¼Œå°†è¯¥å€¼è½¬æ¢æˆ char å†è½¬æ¢å› unsigned char äº§ç”ŸåŸå€¼ã€‚ (C++11 èµ·) char çš„ç¬¦å·æ€§å–å†³äºç¼–è¯‘å™¨å’Œç›®æ ‡å¹³å°ï¼š ARM å’Œ PowerPC çš„é»˜è®¤è®¾ç½®å¸¸ä¸ºæ— ç¬¦å·ï¼Œè€Œ x86 ä¸ x64 çš„é»˜è®¤è®¾ç½®å¸¸ä¸ºæœ‰ç¬¦å·ã€‚</p><p><strong>wchar_t</strong> - å®½å­—ç¬¦è¡¨ç¤ºçš„ç±»å‹ï¼ˆè§<a href="https://zh.cppreference.com/w/cpp/string/wide">å®½å­—ç¬¦ä¸²</a>ï¼‰ã€‚è¦æ±‚å¤§åˆ°è¶³ä»¥è¡¨ç¤ºä»»ä½•å—æ”¯æŒçš„å­—ç¬¦ç¼–ç ä½ç‚¹ï¼ˆæ”¯æŒ Unicode çš„ç³»ç»Ÿä¸Šä¸º 32 ä½ã€‚å€¼å¾—æ³¨æ„çš„ä¾‹å¤–æ˜¯ Windowsï¼Œå…¶ä¸­ wchar_t ä¸º 16 ä½å¹¶ä¿æœ‰ UTF-16 ç¼–ç å•å…ƒï¼‰ã€‚å®ƒä¸ä¸Šè¿°æ•´æ•°ç±»å‹ä¹‹ä¸€å…·æœ‰ç›¸åŒçš„å¤§å°ã€ç¬¦å·æ€§å’Œå¯¹é½ï¼Œä½†å®ƒæ˜¯ç‹¬ç«‹çš„ç±»å‹ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210927150126.png" width="80%"/ loading="lazy"><p>see: <a href="https://en.cppreference.com/w/cpp/language/types">https://en.cppreference.com/w/cpp/language/types</a></p><br><hr><h2 id="ä»£ç éªŒè¯"><a href="#ä»£ç éªŒè¯" class="headerlink" title="ä»£ç éªŒè¯"></a>ä»£ç éªŒè¯</h2><p>å…‰è¯´ä¸ç»ƒå¯ä¸è¡Œï¼Œæ•…è‡ªè¡ŒéªŒè¯ä¸Šé¢ç†è®ºçš„ä»£ç ç‰‡å¦‚ä¸‹ï¼›</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QDebug></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">//#pragma execution_character_set("utf-8")</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> cc <span class="token operator">=</span> <span class="token string">"\xce\xd2\xca\xc7\xba\xba\xd7\xd6\xc6\xe6"</span><span class="token punctuation">;</span>  <span class="token comment">// GBK</span>    <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> cc1 <span class="token operator">=</span> <span class="token string">"\xe6\x88\x91\xe6\x98\xaf\xe6\xb1\x89\xe5\xad\x97\xe5\xa5\x87"</span><span class="token punctuation">;</span> <span class="token comment">// UTF-8</span>    <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> cc2 <span class="token operator">=</span> <span class="token string">"æˆ‘æ˜¯æ±‰å­—å¥‡"</span><span class="token punctuation">;</span>    <span class="token comment">// æ˜¯ 10 æˆ– 15 å­—èŠ‚ï¼Œä½†ä¸€å®šæ˜¯ 5 ä¸ªå­—ç¬¦</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"cout    ==>  cc:   "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>cc <span class="token operator">&lt;&lt;</span> <span class="token string">"    "</span> <span class="token operator">&lt;&lt;</span> cc <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"cout    ==>  cc1:  "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>cc1 <span class="token operator">&lt;&lt;</span> <span class="token string">"    "</span> <span class="token operator">&lt;&lt;</span> cc1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"cout    ==>  cc2:  "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>cc2 <span class="token operator">&lt;&lt;</span> <span class="token string">"    "</span> <span class="token operator">&lt;&lt;</span> cc2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"qDebug  ==>  cc:  "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>cc <span class="token operator">&lt;&lt;</span> <span class="token string">"  "</span> <span class="token operator">&lt;&lt;</span> cc<span class="token punctuation">;</span>    <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"qDebug  ==>  cc1: "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>cc1 <span class="token operator">&lt;&lt;</span> <span class="token string">"  "</span> <span class="token operator">&lt;&lt;</span> cc1<span class="token punctuation">;</span>    <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"qDebug  ==>  cc2: "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>cc2 <span class="token operator">&lt;&lt;</span> <span class="token string">"  "</span> <span class="token operator">&lt;&lt;</span> cc2<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹å°†ä¸Šé¢ä»£ç åˆ†åˆ«åœ¨ VS2017 å’Œ QtCreator ä¸­éªŒè¯ï¼›ï¼ˆå–æ¶ˆï¼‰æ³¨é‡Š<code>//#pragma execution_character_set(&quot;utf-8&quot;)</code> æ¥éªŒè¯ï¼›æœ€åæµ‹è¯•çš„éªŒè¯ç»“æœå¦‚å›¾ <a href="https://kdocs.cn/l/slqOBPQmfajc">https://kdocs.cn/l/slqOBPQmfajc</a>ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210927162018.png" width="90%"/ loading="lazy"><br><h2 id="ä¼˜é›…åœ¨-Win-ä¸Šä½¿ç”¨-UTF-8-Qt-è·¨å¹³å°"><a href="#ä¼˜é›…åœ¨-Win-ä¸Šä½¿ç”¨-UTF-8-Qt-è·¨å¹³å°" class="headerlink" title="ä¼˜é›…åœ¨ Win ä¸Šä½¿ç”¨ UTF-8 + Qt è·¨å¹³å°"></a>ä¼˜é›…åœ¨ Win ä¸Šä½¿ç”¨ UTF-8 + Qt è·¨å¹³å°</h2><p>â€‹æœ€åˆçš„æ„¿æœ›å’Œå…¶ç®€å•ï¼Œåªä¸è¿‡æ˜¯æƒ³ä½¿ç”¨ä¸€å¥—ä»£ç ï¼Œæ—¢å¯ä»¥ä½¿ç”¨ MSVC + Qt + UTF-8 ç¼–è¯‘è¿è¡Œä¸ä¹±ç ï¼›ä¹Ÿå¯ä»¥åœ¨ Linux + gcc + UTF-8 ä¹Ÿä¸ä¹±ç ã€‚</p><p>â€‹ç»¼ä¸Šçš„è§£å†³æ–¹æ¡ˆä¸ºåŒè¿è¡Œä¸€ä¸‹å³å¯ï¼š</p><ol><li><p>åœ¨ CMakeLists.txt ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç </p><pre class="line-numbers language-cmake" data-language="cmake"><code class="language-cmake"><span class="token comment"># æ­¤å¤„é…åˆ VMSVC çš„ UTF8-BOM æ’ä»¶ï¼Œè¾¾åˆ°è·¨å¹³å°</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"<span class="token interpolation"><span class="token punctuation">$&#123;</span><span class="token variable">CMAKE_CXX_COMPILER_ID</span><span class="token punctuation">&#125;</span></span>"</span> <span class="token operator">STREQUAL</span> <span class="token string">"Clang"</span><span class="token punctuation">)</span>  <span class="token keyword">message</span><span class="token punctuation">(</span><span class="token string">"---using Clang---"</span><span class="token punctuation">)</span><span class="token keyword">elseif</span> <span class="token punctuation">(</span><span class="token string">"<span class="token interpolation"><span class="token punctuation">$&#123;</span><span class="token variable">CMAKE_CXX_COMPILER_ID</span><span class="token punctuation">&#125;</span></span>"</span> <span class="token operator">STREQUAL</span> <span class="token string">"GNU"</span><span class="token punctuation">)</span>  <span class="token keyword">message</span><span class="token punctuation">(</span><span class="token string">"---using GCC---"</span><span class="token punctuation">)</span><span class="token keyword">elseif</span> <span class="token punctuation">(</span><span class="token string">"<span class="token interpolation"><span class="token punctuation">$&#123;</span><span class="token variable">CMAKE_CXX_COMPILER_ID</span><span class="token punctuation">&#125;</span></span>"</span> <span class="token operator">STREQUAL</span> <span class="token string">"Intel"</span><span class="token punctuation">)</span>  <span class="token keyword">message</span><span class="token punctuation">(</span><span class="token string">"---using Intel C++---"</span><span class="token punctuation">)</span><span class="token keyword">elseif</span> <span class="token punctuation">(</span><span class="token string">"<span class="token interpolation"><span class="token punctuation">$&#123;</span><span class="token variable">CMAKE_CXX_COMPILER_ID</span><span class="token punctuation">&#125;</span></span>"</span> <span class="token operator">STREQUAL</span> <span class="token string">"MSVC"</span><span class="token punctuation">)</span><span class="token keyword">message</span><span class="token punctuation">(</span><span class="token string">"---sing Visual Studio C++---"</span><span class="token punctuation">)</span><span class="token keyword">add_compile_options</span><span class="token punctuation">(</span><span class="token string">"$&lt;$&lt;C_COMPILER_ID:MSVC>:/utf-8>"</span><span class="token punctuation">)</span><span class="token keyword">add_compile_options</span><span class="token punctuation">(</span><span class="token string">"$&lt;$&lt;CXX_COMPILER_ID:MSVC>:/utf-8>"</span><span class="token punctuation">)</span><span class="token keyword">endif</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>Visual Studio ä¸­å¼€å‘æ—¶å€™ï¼Œæ‰€æœ‰ .h .cpp æ–‡ä»¶éƒ½ä½¿ç”¨ <code>UTF-8-BOM</code> æ ¼å¼ï¼Œå¯ä»¥å®‰è£… <code>ForceUTF8ï¼ˆwithBOMï¼‰</code> æ‰©å±•</p></li></ol><p>â€‹æ„Ÿè§‰è¿™æ ·å­ä½¿ç”¨ utf-8 è·¨å¹³å°æ¸…çˆ½äº†å¾ˆå¤šã€‚ å¯¹äºç½‘ä¸Šçš„æ·»åŠ  <code>//#pragma execution_character_set(&quot;utf-8&quot;)</code> æ–¹å¼ï¼Œåˆ™éœ€è¦åœ¨æ¯ä¸€ä¸ª .h&#x2F;.cpp ä¸­éƒ½åŠ ä¸Šè¿™å‡ è¡Œï¼Œç›¸æ¯”ä¹‹ä¸‹åªç”¨åœ¨ cmake ä¸­æ·»åŠ ä¸¤è¡Œï¼Œåˆ™æ˜¯ä¼˜é›…äº†å¾ˆå¤šã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#if _MSC_VER >= 1600 </span><span class="token comment">#pragma execution_character_set("utf-8") </span><span class="token comment">#endif</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><br><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>â€‹å…³äºä½¿ç”¨ Visual Studioã€Qt Crator ä¸­å®¹æ˜“å‡ºç°çš„å­—ç¬¦ä¹±ç é—®é¢˜ï¼›ä¸€èˆ¬å¯é‡å¦‚ä¸‹ä¸‰ä¸ªæ–¹é¢å…¥æ‰‹ï¼šâ‘´æ–‡ä»¶ç¼–ç ã€â‘µä»£ç ç¼–ç ã€â‘¶è¾“å‡ºç»“æœæ˜¾ç¤ºçš„ç¼–ç ã€‚æˆ‘ä»¬åªè¦ä»¥æ­¤æ¥æ£€æŸ¥è¿™ä¸‰éƒ¨åˆ†ï¼Œå°±å¯ä»¥æ‰¾åˆ°ä¹±ç çš„åŸå› ï¼Œç»“åˆä¸Šé¢çš„æ¯ä¸€ä¸ªçŸ¥è¯†ç‚¹çš„ç†è§£ï¼Œå³å¯æ›´æ­£ã€‚<strong>æ¯•ç«Ÿä¹±ç çš„é—®é¢˜æ˜¯ç”±ç¼–ç å’Œè§£ç æ–¹å¼ä¸å¯¹å¼•èµ·çš„</strong>ã€‚</p><p>â€‹å¸Œæœ›æœ¬ç¯‡èƒ½å¤ŸååŠ©è¯»è€…å½»åº•ç†è§£ä¹±ç åŸå› åï¼Œæœ€åå‡èƒ½å¯è‡ªè¡Œè§£å†³è‡ªå·±å¹³å°æ‰€å¯¹åº”çš„å®é™…ä¹±ç é—®é¢˜ï¼Œæœ€ç»ˆæˆäººä»¥æ¸”ã€‚æœ€åï¼Œè‹¥æ²¡å•¥ç–‘é—®å’Œé—®é¢˜çš„è¯ï¼Ÿé‚£æˆ‘å°±è¦å»å‡†å¤‡å–æ±¤äº†~~</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/DD42DD73D9D89EB12D560D3A1C2D1102.png" width="25%"/ loading="lazy"><br><p>å›é¡¾æœ¬æ–‡ä¸€äº›é‡ç‚¹ keyï¼š</p><ul><li>å½¢å¦‚ <code>&quot;ä¸­æ–‡123&quot;</code> è¿™ç§æ ¼å¼çš„ <strong>ANSI å­—ç¬¦ä¸²</strong>ï¼Œå…¶åœ¨ä¸åŒç¼–ç ä¸‹æ‰€å å­—èŠ‚å’Œå­—ç¬¦ä¸ªæ•°ï¼Ÿ</li><li>ä¸åŒç³»ç»Ÿï¼ˆé»˜è®¤çš„ç¼–ç ï¼‰å¯¹ <code>&quot;ä¸­æ–‡123&quot;</code> å­—ç¬¦ä¸²æ˜¯å¦‚ä½•å¤„ç†çš„ï¼Ÿ</li><li>MSVC çš„ä¸€äº›å¤§å‘ã€ä»¥åŠå¼ºåˆ¶è½¬æ¢ GBK&#x2F;UTF-8</li><li>ç»ˆç«¯çš„ç¼–ç æ˜¯å¦ä¼šå½±å“è¾“å‡ºæ•ˆæœï¼Ÿ</li></ul><br><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="http://shouce.jb51.net/notepad_book/reference.html#ref.old_rec_npp">shouce.jb51.net</a>  æˆ– <a href="https://www.crifan.com/files/doc/docbook/rec_soft_npp/release/html/rec_soft_npp.html">crifan.com</a> </li><li><a href="https://www.cnblogs.com/lsgxeva/p/12161743.html">Qtå¼€å‘ä¸­æ–‡æ˜¾ç¤ºä¹±ç </a></li><li><a href="https://link.jianshu.com/?t=http://blog.csdn.net/brave_heart_lxl/article/details/7186631">qtä¸­æ–‡ä¹±ç é—®é¢˜</a></li><li><a href="https://link.jianshu.com/?t=http://blog.csdn.net/dbzhang800/article/details/7540905">QStringä¹±è°ˆ(2)</a></li><li><a href="https://www.pianshen.com/article/4432655164/">QTã€VSï¼ˆäºŒï¼‰â€”â€”VSæ§åˆ¶å°ç¨‹åºæ˜¾ç¤ºä¸­æ–‡ä¸ºä¹±ç çš„é—®é¢˜è§£å†³åŠæ³•</a></li><li><a href="https://blog.csdn.net/libaineu2004/article/details/19245205">å½»åº•è§£å†³Qtä¸­æ–‡ä¹±ç ä»¥åŠæ±‰å­—ç¼–ç çš„é—®é¢˜(UTF-8&#x2F;GBK)</a></li><li><a href="https://blog.csdn.net/a10929/article/details/78235793">æºæ–‡ä»¶å­—ç¬¦é›†ï¼Œç¼–è¯‘å™¨å†…éƒ¨å­—ç¬¦é›†ï¼Œæ‰§è¡Œå­—ç¬¦é›†ï¼Œæ§åˆ¶å°ä¹±ç é—®é¢˜ï¼ŒQtä¸­æ–‡é—®é¢˜</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Windows </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> Visual Studio </tag>
            
            <tag> ä¹±ç  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows-Terminal é…ç½® OhMyPosh ç¾åŒ– GitBash</title>
      <link href="/posts/7bcfb552/"/>
      <url>/posts/7bcfb552/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€æ—§æ—¶ Win10 ä¸€ç›´æ— æ¼‚äº®çš„ç»ˆç«¯ï¼Œæ•…æ—¥å¸¸ç”¨ Git Bash éƒ½æ–°å»ºä¸€æ–°çª—å£ï¼Œä¹…ä¹‹ï¼ŒåŒå€¦ã€‚ä»Šï¼Œé…ç½® Git Bash åˆ° Windows Terminal çš„æ ‡ç­¾é¡µæ‰“å¼€ï¼Œæœ€ç»ˆæ•ˆæœå›¾ç¤ºå¦‚ä¸‹ã€‚æ­¤ä¸­é‡å‡ å¤„ç¼ºé™·ï¼Œè®°è½½å…¶è§£å†³æ–¹æ¡ˆ:</p><ol><li>Terminal ä¸­ä½¿ç”¨ Git Bash ä¼šé—ªå±</li><li>Terminal ä¸­ä½¿ç”¨ winget æ‰¾ä¸åˆ°å‘½ä»¤</li><li>ä¸‹è½½å’Œé…ç½® OhMyPosh ä¸»é¢˜ï¼Œè°ƒæ•´å­—ä½“</li></ol><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210920172005.png" width="80%"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>ã€€ã€€è‡ªåˆ‡æ¢å› Win10 åï¼Œä¸€ç›´ç®€å•ä½¿ç”¨ Git Bash ç»ˆç«¯ï¼Œç®€å•è‡ªå®šä¹‰äº†ä¸€ä¸ªé€æ˜ä¸»é¢˜ä½¿ç”¨ï¼Œæ„Ÿå…´è¶£å‚è€ƒ<a href="https://xmuli.blog.csdn.net/article/details/100065477">æ­¤æ–‡</a>ï¼›ä½†æ¯æ¬¡æ–°å¼€ä¸€ä¸ªçª—å£ï¼Œå¤šäº†é¡µå¾ˆçƒ¦ã€‚ä»Šå¤©æŠ½ç©ºæ•´åˆä»¥ä¸‹åˆ° Windows-Terminalï¼Œæ¯æ¬¡å¼€å¯ä¸€ä¸ªä»“åº“ï¼Œä¹Ÿåªæ˜¯å¤šä¸€ä¸ª Tabï¼Œæƒ¬æ„ã€‚</p><p>â€‹</p><p>â€‹PSï¼šğŸ’» <code>win10 21H1</code> ğŸ“ <code>Windows Terminal  1.10.2383.0</code></p><br><h2 id="ç¾åŒ–-Terminal-x2F-Git-Bash-æ­¥éª¤"><a href="#ç¾åŒ–-Terminal-x2F-Git-Bash-æ­¥éª¤" class="headerlink" title="ç¾åŒ– Terminal&#x2F;Git Bash æ­¥éª¤"></a>ç¾åŒ– Terminal&#x2F;Git Bash æ­¥éª¤</h2><ol><li><p>å®‰è£… <a href="https://github.com/microsoft/terminal">Windows Terminal</a>ã€Git</p><br></li><li><p>æ·»åŠ  Git Bash åˆ° Windows Terminal çš„é…ç½®æ–‡ä»¶ï¼Œä½¿å…¶å¯ç”¨ Tab é¡µæ‰“å¼€</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token string">"profiles"</span><span class="token builtin class-name">:</span> <span class="token punctuation">&#123;</span>    <span class="token string">"defaults"</span><span class="token builtin class-name">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>,    <span class="token string">"list"</span><span class="token builtin class-name">:</span>     <span class="token punctuation">[</span>              <span class="token comment"># æ‰¾åˆ°æ­¤ list ,åœ¨é‡Œé¢æ·»åŠ å¦‚ä¸‹</span>        <span class="token punctuation">&#123;</span>            <span class="token string">"guid"</span><span class="token builtin class-name">:</span> <span class="token string">"&#123;1cb09cbb-0365-91bf-c98f-d8d03c510274&#125;"</span>,            <span class="token string">"commandline"</span><span class="token builtin class-name">:</span> <span class="token string">"%PROGRAMFILES%/git/usr/bin/bash.exe -i -l"</span>,            <span class="token string">"icon"</span><span class="token builtin class-name">:</span> <span class="token string">"%PROGRAMFILES%/Git/mingw64/share/git/git-for-windows.ico"</span>,            <span class="token string">"name"</span> <span class="token builtin class-name">:</span> <span class="token string">"Bash"</span>,            <span class="token string">"startingDirectory"</span> <span class="token builtin class-name">:</span> <span class="token string">"%USERPROFILE%"</span>,            <span class="token string">"acrylicOpacity"</span> <span class="token builtin class-name">:</span> <span class="token number">0.75</span>,            <span class="token string">"closeOnExit"</span> <span class="token builtin class-name">:</span> true,            <span class="token string">"colorScheme"</span> <span class="token builtin class-name">:</span> <span class="token string">"Campbell"</span>,            <span class="token string">"cursorColor"</span> <span class="token builtin class-name">:</span> <span class="token string">"#FFFFFF"</span>,            <span class="token string">"cursorShape"</span> <span class="token builtin class-name">:</span> <span class="token string">"bar"</span>,            <span class="token string">"fontFace"</span> <span class="token builtin class-name">:</span> <span class="token string">"Consolas"</span>,            <span class="token string">"fontSize"</span> <span class="token builtin class-name">:</span> <span class="token number">12</span>,            <span class="token string">"historySize"</span> <span class="token builtin class-name">:</span> <span class="token number">9001</span>,            <span class="token string">"padding"</span> <span class="token builtin class-name">:</span> <span class="token string">"0, 0, 0, 0"</span>,            <span class="token string">"snapOnInput"</span> <span class="token builtin class-name">:</span> true,            <span class="token string">"useAcrylic"</span> <span class="token builtin class-name">:</span> <span class="token boolean">true</span>        <span class="token punctuation">&#125;</span>,<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è§£å†³ä½¿ç”¨é‡åˆ°çš„é—ªå±ï¼Œå…¶å®æ­¤ä¸æ˜¯ä¸€ä¸ª BUGï¼Œè€Œæ˜¯è¾“å…¥é”™è¯¯æ—¶æç¤ºï¼›<strong>è§£å†³æ–¹æ¡ˆ</strong> ï¼šåœ¨ <code>~/.inputrc</code> (å¦‚æœä¸å­˜åœ¨å°±åˆ›å»º) é‡Œé¢æ·»åŠ è¿™æ ·ä¸€è¡Œ:<code>set bell-style none</code></p><br></li><li><p>åœ¨ GitHub çš„  <a href="https://github.com/microsoft/winget-cli/releases">winget-cli</a> ä¸­ï¼Œä¸‹è½½åå®‰è£… <code>.msixbundle</code> æ ¼å¼ï¼›å³å¯ä½¿ç”¨ winget å‘½ä»¤æ¥å®‰è£… ohmyposhã€‚</p><br></li><li><p>å®‰è£… oh-my-posh ç±»ä¼¼äº oh-my-zsh</p><blockquote><p><font color=#FF0000><strong>å®˜æ–¹æ–‡æ¡£ï¼š</strong> </font><a href="https://ohmyposh.dev/docs/windows">https://ohmyposh.dev/docs/windows</a> </p></blockquote><ul><li>æ‰“å¼€ Windows Terminal ä¸­çš„ Git Bash æ‰§è¡Œå¦‚ä¸‹ <code>winget install JanDeDobbeleer.OhMyPosh</code></li></ul><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210920163442.png" width="60%"/ loading="lazy"><ul><li>å°†åˆšå®‰è£…è·¯å¾„ <code>C:\Users\xmuli\AppData\Local\Programs\oh-my-posh\bin</code> æ·»åŠ  PATH</li></ul><br></li><li><p>ä½¿ç”¨æŸä¸€ä¸»é¢˜ â€œjandedobbeleer.omp.jsonâ€ï¼Œå…¶å®ƒä¸»é¢˜åŒç†</p><p>å°† â€œ~\AppData\Local\Programs\oh-my-posh\themes\jandedobbeleer.omp.jsonâ€ æ–‡ä»¶æ‹·è´åˆ° $HOME ç›®å½•ä¸‹ï¼›</p><p>å†åœ¨ <code>~/.profile</code> æ–‡ä»¶ï¼ˆæ²¡æœ‰åˆ™åˆ›å»ºï¼‰æ·»åŠ å‘½ä»¤ï¼Œåæ‰§è¡Œ <code>. ~/.profile</code> åˆ·æ–°ï¼Œé‡å¯ç»ˆç«¯å³å¯ç”Ÿæ•ˆã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">eval</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span>oh-my-posh <span class="token parameter variable">--init</span> <span class="token parameter variable">--shell</span> <span class="token function">bash</span> <span class="token parameter variable">--config</span> ~/jandedobbeleer.omp.json<span class="token variable">)</span></span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br></li><li><p>å®‰è£… Meslo LGM NF å­—ä½“ï¼Œé¿å…ä¹±ç ã€‚</p><p>æ‰“å¼€ç»ˆç«¯ï¼ŒæƒŠå–œçš„å‘ç°ä¹±ç ï¼Œç¬¦å·æ˜¾ç¤ºä¸å‡ºæ¥ï¼›éœ€å®‰è£… Oh my Posh å®˜æ–¹æ¨èä½¿ç”¨çš„å­— <a href="https://github.com/ryanoasis/nerd-fonts/releases/download/v2.1.0/Meslo.zip"><strong>Meslo LGM NF</strong></a> å­—ä½“ï¼ˆå³ <a href="https://www.nerdfonts.com/"><a href="https://www.nerdfonts.com/">Nerd Fonts</a></a>ï¼‰ã€‚æ¥ç€åœ¨é…ç½®æ–‡ä»¶ä¸­å°†å­—ä½“ä¿®æ”¹;</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token string">"fontFace"</span><span class="token builtin class-name">:</span> <span class="token string">"MesloLGM NF"</span>,<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å†æ¬¡é‡å¯ï¼ŒæˆåŠŸ</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210920171005.png" width="70%"/ loading="lazy"><br></li><li><p>åˆ‡æ¢è‡ªå·±å–œæ¬¢çš„ä¸»é¢˜ï¼ˆä¿®æ”¹ç¬¬ 5 æ­¥éª¤å³å¯ï¼‰</p><p>åœ¨ <a href="https://ohmyposh.dev/docs/themes">https://ohmyposh.dev/docs/themes</a> å¯ç›´æ¥é¢„è§ˆæ‰€æœ‰ä¸»é¢˜æ ·å¼ï¼›ä¸ªäººé€‰æ‹©äº† <a href="https://github.com/JanDeDobbeleer/oh-my-posh/blob/main/themes/paradox.omp.json">paradox</a> ï¼Œæœ€ç»ˆæ•ˆæœå›¾è§æœ¬æ–‡ç¬¬ä¸€å¼ å›¾ã€‚</p></li></ol><br><h2 id="é…ç½®-Power-Shell"><a href="#é…ç½®-Power-Shell" class="headerlink" title="é…ç½® Power Shell"></a>é…ç½® Power Shell</h2><p>â€‹å‰é¢æ­¥éª¤ï¼Œä»…é…ç½® GitBash ä¸»é¢˜ï¼ˆè‡ªå·±ç”¨å¤Ÿäº†ï¼‰ï¼›è‹¥æ˜¯è¿˜æƒ³é…ç½® PowerShell ä¸»é¢˜ï¼Œåˆ™éœ€è¦é¢å¤–é…ç½®å‡ è¡Œï¼Œå‰é¢æ“ä½œå¤§éƒ¨åˆ†éƒ½å¯å¤ç”¨ï¼Œåœ¨ç»ˆç«¯ä¸­é…ç½® <strong>PowerShell</strong> ä¸»é¢˜ï¼ŒåŒç†å‚è€ƒ <a href="https://ohmyposh.dev/docs/windows">https://ohmyposh.dev/docs/windows</a> çš„ Customize-powershell çš„ç¯‡ç« å³å¯ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Windows </category>
          
          <category> å­¦ä¹  - Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OhMyPosh </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VS2017è°ƒè¯•Qtæºç </title>
      <link href="/posts/134fdafb/"/>
      <url>/posts/134fdafb/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€å‰é¢ç”¨äº†ä¸¤å¹´ Linuxï¼Œç°åˆ‡å›æ¥ win10 ç³»ç»Ÿï¼Œç•¥ä¸ä¹ æƒ¯ï¼›æ„Ÿè§‰ç”¨ MSVCï¼ˆVS2017ï¼‰ å’Œ win10 è¿˜æœ‰ç‚¹ä¸å¤Ÿåˆ©ç´¢ï¼Œè®°ä¸€ä¸‹è§£å†³æ–¹å¼ã€‚</p><ul><li><p>MSVC å®‰è£… pdb ç¬¦å·åŒ…ï¼Œè°ƒè¯• Qt æºç </p></li><li><p>Qt ç¨‹åºå¢ã€åˆ ç»„ä»¶ã€å¸è½½æ—¶å¤±è´¥ï¼Œæç¤º <code>&quot;At least one valid and enabled repository required for this action to succeed.&quot;</code></p></li></ul><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>â€‹ç¯å¢ƒ <code>win10 21H1</code> ğŸ“ <code>Qt 5.12.11</code> ğŸ“  <code>Visual Studio 2017</code> ï¼Œåˆ›å»ºä¸€ä¸ªç©ºçš„ CMake + Qt é¡¹ç›®ï¼Œç”¨ VS æ‰“å¼€ï¼Œè°ƒè¯•è¿›å…¥ Qt æºç å¤±è´¥ã€‚</p><br><h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>ä½¿ç”¨ VS2017 è°ƒè¯•è¿› Qt æºç ï¼Œè°ƒè¯•åˆ° qwidget.cpp çš„ .show() çš„å®šä¹‰ï¼›ä¸€ç›´è¿›ä¸å»ï¼ŒæŸ¥è¯¢ä¹‹åè°ƒè¯•ç¬¦å¦‚ä¸‹ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210916224001.png" width="90%"/ loading="lazy"><br><h2 id="è§£å†³æ–¹å¼"><a href="#è§£å†³æ–¹å¼" class="headerlink" title="è§£å†³æ–¹å¼"></a>è§£å†³æ–¹å¼</h2><p>ç”¨ MSVC æˆåŠŸè°ƒè¯• Qt å¤±è´¥ï¼Œå¯æ£€æŸ¥å¦‚ä¸‹ï¼š</p><ol><li>Qt5Gui<font color=#FF0000>d</font> .dll (Debug æ¨¡å¼ä¸‹ dll åç§°å« d)</li><li>åŠ è½½äº† pdb (ç¡®å®šç‰ˆæœ¬æ²¡ä¸‹é”™)</li><li>è§£å†³æ–¹æ¡ˆåŠ è½½äº† srcæºç </li><li>åŠ è½½äº†ç¬¦å·è°ƒè¯•åŒ…è·¯å¾„</li></ol><br><h3 id="æ–¹å¼ä¸€"><a href="#æ–¹å¼ä¸€" class="headerlink" title="æ–¹å¼ä¸€"></a>æ–¹å¼ä¸€</h3><p>ä¸‹è½½å¯¹åº”çš„ pdb å‹ç¼©åŒ…ï¼Œä¸‹è½½é“¾æ¥ <a href="https://download.qt.io/online/qtsdkrepository/windows_x86/desktop/qt5_51211/qt.qt5.51211.debug_info.win32_msvc2017/">download.qt.io</a>ï¼Œä¸‹è½½å¯¹åº”ç‰ˆæœ¬åè§£å‹</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210916225745.png" width="80%"/ loading="lazy"><p>å¯¹æ­¤è§£å†³æ–¹æ¡ˆï¼Œæ·»åŠ  Qt æºç è·¯åŠ²ï¼Œä¾¿äºæ‰¾åˆ° .cpp æ–‡ä»¶</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210916223653.png" width="80%"/ loading="lazy"><p>æ·»åŠ ç¬¦å·è°ƒè¯•åŒ…</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210916223417.png" width="90%"/ loading="lazy"><p>æ–­ç‚¹è°ƒè¯•ï¼Œ F11 è¿›å…¥ show() å‡½æ•°å®šä¹‰æˆåŠŸï¼›æ­¤æ—¶å¯ä»¥çœ‹åˆ°æœ€åº•éƒ¨ï¼Œ *d.dllã€.pdb éƒ½è¢«åŠ è½½æ­£ç¡®ï¼Œå¾—ä»¥éªŒè¯ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210916223100.png" width="90%"/ loading="lazy"><br><h3 id="è§£å†³äºŒ"><a href="#è§£å†³äºŒ" class="headerlink" title="è§£å†³äºŒ"></a>è§£å†³äºŒ</h3><p>æ§åˆ¶é¢æ¿-Qté¡¹é€‰å³é”®èœå•æ›´æ”¹æ—¶ï¼Œ è‹¥æŠ¥é”™æç¤º <code>At least one valid and enabled repository required for this action to succeed.</code> è§£å†³æ–¹æ¡ˆä¸ºæ·»åŠ å¦‚ä¸‹è‡ªå®šä¹‰ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">https://download.qt.io/online/qtsdkrepository/windows_x86/desktop/qt5_51211/https://download.qt.io/online/qtsdkrepository/windows_x86/desktop/tools_mingw/https://download.qt.io/online/qtsdkrepository/windows_x86/desktop/qt5_51211/<span class="token comment"># 51211 è¡¨ç¤º 5.12.11 ç‰ˆæœ¬ï¼Œå¯è‡ªè¡Œå®é™…æ›¿æ¢</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210916231159.png" width="90%"/ loading="lazy"><p>ç‚¹å‡»æ·»åŠ ç»„ä»¶ï¼Œå‹¾é€‰ â€œQt Debug Information Filesâ€ï¼Œå®‰è£…å³å¯ã€‚å…¶å®ƒæ­¥éª¤åŒæ–¹å¼ä¸€ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210916231458.png" width="80%"/ loading="lazy"><br><h2 id="å§Šå¦¹ç¯‡"><a href="#å§Šå¦¹ç¯‡" class="headerlink" title="å§Šå¦¹ç¯‡"></a>å§Šå¦¹ç¯‡</h2><ul><li><a href="https://blog.csdn.net/qq_33154343/article/details/120339797">VS2017 è°ƒè¯• Qt æºç ï¼Œå®‰è£… PDB</a></li><li><a href="https://xmuli.blog.csdn.net/article/details/116244865">VS2019 è°ƒè¯• Qt5 æ—¶ QString æ˜¾ç¤ºä¸ºå†…å­˜åœ°å€è€Œéå­—ç¬¦ä¸²</a> </li><li><a href="https://blog.csdn.net/qq_33154343/article/details/131491715">VS2022 And QtCreator10è°ƒè¯•Qtæºç æ•™ç¨‹</a> ï¼ˆæ¨è 2023.07ï¼‰</li></ul><p>è‹¥æ˜¯ IDE è°ƒè¯•æ—¶å‘ç°æ²¡æœ‰ Qt çš„ç¬¦å·è°ƒè¯•åŒ…ï¼Œæ•™ç¨‹å¯å‚è€ƒå§Šå¦¹ç¯‡ä¸€ï¼›ä»¥åŠå­¦ä¼šå¦‚ä½•æŸ¥çœ‹ å¯¹åº”æ¨¡å—æ˜¯å¦åŠ è½½</p><br><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://stackoverflow.com/questions/22775906/how-to-update-component-in-qt-5-2-1">How to update component in Qt 5.2.1+?</a> </li><li><a href="https://blog.csdn.net/dfy1407/article/details/108719016">VS2017+Qt5.12 æºç è°ƒè¯• PDBæ–‡ä»¶å®‰è£…</a></li><li><a href="https://blog.csdn.net/wxz879526/article/details/104929657">windows-QTä¸‹è½½æºç åŒ¹é…çš„pdbæ–‡ä»¶çš„æ–¹æ³•</a></li></ul><br><h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><p><a href="https://github.com/XMuli/QtExamples">QtExamples</a> </p><p>æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”<strong>æ°¸ä¹…å…è´¹</strong>ï¼â€</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Windows </category>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> Visual Studio </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>dot ç»˜å›¾è¯­è¨€</title>
      <link href="/posts/2cec9c6a/"/>
      <url>/posts/2cec9c6a/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€è®²è§£ dot ç»˜å›¾è¯­è¨€çš„ç®€è¦ä½¿ç”¨ï¼ˆgraphviz å·¥å…·åŒ…ï¼‰ï¼Œè½¬è½½äº <a href="https://frapples.github.io/articles/2016-11-16-1f70.html">dot ç»˜å›¾è¯­è¨€</a> ä¸€æ–‡ï¼ˆå·²æ²Ÿé€šï¼Œè·å¾—è½¬è½½è®¸å¯ï¼‰ã€‚</p><span id="more"></span><p>[TOC]</p><br><h1 id="dot-ç»˜å›¾è¯­è¨€"><a href="#dot-ç»˜å›¾è¯­è¨€" class="headerlink" title="dot ç»˜å›¾è¯­è¨€"></a>dot ç»˜å›¾è¯­è¨€</h1><p>graphviz æ˜¯ä¸€ä¸ªå¾ˆå¤è€çš„å¼€æºè½¯ä»¶åŒ…äº†ï¼Œç”¨æ¥ç»˜åˆ¶ç»“æ„åŒ–çš„å›¾å½¢ã€‚</p><p>é€šè¿‡å®ƒï¼Œä½ åªéœ€è¦ç¼–å†™ç®€å•çš„è„šæœ¬ï¼ˆdot è¯­è¨€ï¼‰ï¼Œæè¿°å›¾çš„é€»è¾‘å’Œå…³ç³»ï¼Œ å®ƒå°±èƒ½å¤Ÿè‡ªåŠ¨å¸®ä½ æå®šå¸ƒå±€ä¹‹ç±»çš„çç¢äº‹æƒ…ï¼Œç”Ÿæˆä½ éœ€è¦çš„å›¾ã€‚</p><p>åœ¨ç¼–ç¨‹å½“ä¸­ï¼Œå…¶å®å¾ˆå¤šæ—¶å€™å¹¶ä¸å¤ªåœ¨ä¹å›¾çš„ç¾è§‚å’Œå¸ƒå±€ï¼Œå¾€å¾€æˆ‘ä»¬éœ€è¦çš„æ˜¯ä¸€ç§ç›´è§‚çš„å›¾å½¢æ–¹å¼æ¥è¡¨è¾¾æˆ‘ä»¬å†…åœ¨çš„å¤æ‚é€»è¾‘ã€‚ è¿™æ—¶ï¼Œgraphviz çš„å¨åŠ›å°±å‘æŒ¥å‡ºæ¥äº†ã€‚åªéœ€è¦ä½¿ç”¨ dot è„šæœ¬ç®€å•æè¿°ä¸‹é€»è¾‘ï¼Œå°±èƒ½å¾ˆå¥½çš„å¾—åˆ°éœ€è¦çš„ç›´è§‚å›¾å½¢ã€‚</p><p>è¿™ç¯‡åšæ–‡æ€»ç»“äº†ä¸‹ dot çš„å¸¸ç”¨è¯­æ³•å’Œå‡ ä¸ªç¤ºä¾‹ä»¥è®©æˆ‘æ›´å¥½çš„ä½¿ç”¨ dotã€‚ æˆ‘æœ¬äººå–œæ¬¢åœ¨ org-mode ä¸­ä½¿ç”¨ org-babel æ’å…¥æ‰€éœ€è¦çš„å›¾ï¼Œå…³äºè¿™æ–¹é¢çš„é…ç½®ç•™åˆ°ä¸‹ç¯‡åšæ–‡å†è®²ã€‚ğŸ˜€</p><p>é¦–å…ˆä¸Šä¸€ä¸ªå¾ˆå‰å®³ä¹Ÿå¾ˆå®ç”¨çš„ç¤ºä¾‹ï¼Œæœ‰äººç”¨ dot è½»æ¾çš„ç»˜åˆ¶å‡ºäº†ç¦»æ•£æ•°å­¦çš„æ€ç»´å¯¼å›¾ï¼š <a href="https://zhuanlan.zhihu.com/p/20450190">https://zhuanlan.zhihu.com/p/20450190</a></p><br><h1 id="1-æœ‰å‘å›¾å’Œæ— å‘å›¾"><a href="#1-æœ‰å‘å›¾å’Œæ— å‘å›¾" class="headerlink" title="1. æœ‰å‘å›¾å’Œæ— å‘å›¾"></a>1. æœ‰å‘å›¾å’Œæ— å‘å›¾</h1><pre class="line-numbers language-none"><code class="language-none">digraph G&#123;a -&gt; b;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20211003140759.png" width="10%"/ loading="lazy"><p>ä½¿ç”¨ digraph å®šä¹‰æœ‰å‘å›¾ã€‚ä¸Šé¢çš„ä»£ç å®šä¹‰äº†æœ‰å‘å›¾ Gã€‚ æœ‰å‘å›¾ä¸­ï¼Œä½¿ç”¨ -&gt; ç¬¦å·è¡¨ç¤ºè¾¹ã€‚ä¸Šé¢çš„ä»£ç ä¸­ï¼Œä»èŠ‚ç‚¹ a æŒ‡å‘èŠ‚ç‚¹ b æœ‰ä¸€æ¡è¾¹ã€‚</p><pre class="line-numbers language-none"><code class="language-none">graph G&#123;a -- b;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20211003140843.png" width="10%"/ loading="lazy"> <p>ä½¿ç”¨ graph å®šä¹‰æ— å‘å›¾ã€‚ä¸Šé¢çš„ä»£ç å®šä¹‰äº†æ— å‘å›¾ Gã€‚ æ— å‘å›¾ä¸­ï¼Œä½¿ç”¨ â€“ ç¬¦å·è¡¨ç¤ºè¾¹ã€‚ä¸Šé¢çš„ä»£ç ä¸­ï¼ŒèŠ‚ç‚¹ a å’ŒèŠ‚ç‚¹ b ä¹‹é—´æœ‰ä¸€æ¡è¾¹ã€‚</p><br><h1 id="2-è¾¹å’ŒèŠ‚ç‚¹"><a href="#2-è¾¹å’ŒèŠ‚ç‚¹" class="headerlink" title="2. è¾¹å’ŒèŠ‚ç‚¹"></a>2. è¾¹å’ŒèŠ‚ç‚¹</h1><p>å¦‚ä¸‹å®šä¹‰äº†èŠ‚ç‚¹ a å’Œ bï¼š</p><pre class="line-numbers language-none"><code class="language-none">digraph G&#123;a;b;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20211003140942.png" width="30%"/ loading="lazy"><p>å¦‚ä¸‹å®šä¹‰äº†èŠ‚ç‚¹ a åˆ° b çš„è¾¹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">digraph G&#123;a -&gt; b;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20211003141024.png" width="15%"/ loading="lazy"><p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨å®šä¹‰è¾¹çš„æ—¶å€™éœ€è¦è¯´æ˜èŠ‚ç‚¹ã€‚å¦‚æœè¿™äº›èŠ‚ç‚¹ä¹‹å‰æ²¡æœ‰å®šä¹‰è¿‡ï¼Œåœ¨è¿™é‡Œä¹Ÿä¼šè¢«å®šä¹‰ã€‚</p><p>å¦‚æœä¸€ä¸ªèŠ‚ç‚¹åˆ°å¤šä¸ªèŠ‚ç‚¹éƒ½æœ‰è¾¹ï¼Œè¿˜æœ‰ä¸€ç§ç®€å†™æ³•ï¼š</p><pre class="line-numbers language-none"><code class="language-none">digraph G&#123;a -&gt; &#123;b c&#125;;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20211003141048.png" width="20%"/ loading="lazy"><p>ç”šè‡³ï¼Œå¤šä¸ªèŠ‚ç‚¹åˆ°å¤šä¸ªèŠ‚ç‚¹éƒ½æœ‰è¾¹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">digraph G&#123;&#123;a b c&#125; -&gt; &#123;d e f&#125;;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20211003141113.png" width="30%"/ loading="lazy"><p>è¿ç€å†™ä¹Ÿæ˜¯å¯ä»¥çš„ï¼š</p><pre class="line-numbers language-none"><code class="language-none">digraph G&#123;a -&gt; b -&gt; &#123;c d&#125;;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20211003141129.png" width="20%"/ loading="lazy"><p>å®é™…ä¸Šï¼Œæœ«å°¾çš„åˆ†å·æ˜¯å¯å†™å¯ä¸å†™çš„ã€‚è€Œä¸”æ— è®ºä½ å†™ä¸å†™åˆ†å·ï¼Œæ¢ä¸æ¢è¡Œéƒ½ä¸å½±å“è¯­ä¹‰ã€‚ è¿™ä¸ªçœ‹ä¸ªäººä¹ æƒ¯ï¼Œdot çš„è¯­æ³•å¹¶æ²¡æœ‰å¼ºåˆ¶è§„å®šè¿™ä¸ªã€‚</p><br><h1 id="3-è®¾ç½®å±æ€§"><a href="#3-è®¾ç½®å±æ€§" class="headerlink" title="3. è®¾ç½®å±æ€§"></a>3. è®¾ç½®å±æ€§</h1><h2 id="3-1-å¯¹å•ä¸ªèŠ‚ç‚¹æˆ–è¾¹è®¾ç½®å±æ€§"><a href="#3-1-å¯¹å•ä¸ªèŠ‚ç‚¹æˆ–è¾¹è®¾ç½®å±æ€§" class="headerlink" title="3.1. å¯¹å•ä¸ªèŠ‚ç‚¹æˆ–è¾¹è®¾ç½®å±æ€§"></a>3.1. å¯¹å•ä¸ªèŠ‚ç‚¹æˆ–è¾¹è®¾ç½®å±æ€§</h2><p>åœ¨è¾¹æˆ–èŠ‚ç‚¹çš„åé¢åŠ ä¸Šä¸€å¯¹æ–¹æ‹¬å·ï¼Œé‡Œé¢ä½¿ç”¨ key&#x3D;value çš„å½¢å¼è®¾ç½®å®ƒçš„å±æ€§ã€‚</p><p>è¾¹å’ŒèŠ‚ç‚¹éƒ½æœ‰ä¸ª label å±æ€§ï¼Œè¡¨ç¤ºå®ƒå®é™…æ˜¾ç¤ºçš„æ–‡å­—ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¾¹æ˜¯ä¸æ˜¾ç¤ºæ–‡å­—çš„ï¼ŒèŠ‚ç‚¹çš„æ–‡å­—å°±æ˜¯èŠ‚ç‚¹çš„åç§°ã€‚ ä¸‹é¢ç»™èŠ‚ç‚¹å’Œè¾¹æ‰‹åŠ¨è®¾ç½® label å±æ€§ï¼š</p><pre class="line-numbers language-none"><code class="language-none">digraph G&#123;  a [label&#x3D;&quot;èŠ‚ç‚¹ A&quot;];  b [label&#x3D;&quot;èŠ‚ç‚¹ B&quot;];  a -&gt; b [label&#x3D;&quot;ä» A åˆ° B&quot;];&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20211003141154.png" width="20%"/ loading="lazy"><p>èŠ‚ç‚¹çš„ shape å±æ€§è¡¨ç¤ºèŠ‚ç‚¹çš„å½¢çŠ¶ï¼Œè¾¹çš„ arrowhead è¡¨ç¤ºç®­å¤´çš„å½¢çŠ¶ï¼š</p><pre class="line-numbers language-none"><code class="language-none">digraph G&#123;  a [label&#x3D;&quot;èŠ‚ç‚¹ A&quot;, shape&#x3D;circle];  b [label&#x3D;&quot;èŠ‚ç‚¹ B&quot;, shape&#x3D;doublecircle];  a -&gt; b [label&#x3D;&quot;ä» A åˆ° B&quot;, arrowhead&#x3D;vee];&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20211003141206.png" width="15%"/ loading="lazy"><p>å¯ä»¥çœ‹åˆ°ï¼Œè¦è®¾ç½®è¿™ä¸ªè¾¹æˆ–è¿™ä¸ªèŠ‚ç‚¹çš„å¤šä¸ªå±æ€§ï¼Œä¹‹é—´ç”¨é€—å·éš”å¼€ã€‚</p><p>æ›´å¤šå…³äºè¾¹å’ŒèŠ‚ç‚¹çš„å½¢çŠ¶ï¼Œå‚è€ƒè¿™é‡Œï¼š èŠ‚ç‚¹çš„å½¢çŠ¶ï¼š<a href="http://graphviz.org/content/node-shapes">http://graphviz.org/content/node-shapes</a> è¾¹çš„å½¢çŠ¶ï¼š<a href="http://graphviz.org/content/arrow-shapes">http://graphviz.org/content/arrow-shapes</a></p><br><h2 id="3-2-å¯¹æ‰€æœ‰çš„èŠ‚ç‚¹æˆ–è¾¹è®¾ç½®å±æ€§"><a href="#3-2-å¯¹æ‰€æœ‰çš„èŠ‚ç‚¹æˆ–è¾¹è®¾ç½®å±æ€§" class="headerlink" title="3.2. å¯¹æ‰€æœ‰çš„èŠ‚ç‚¹æˆ–è¾¹è®¾ç½®å±æ€§"></a>3.2. å¯¹æ‰€æœ‰çš„èŠ‚ç‚¹æˆ–è¾¹è®¾ç½®å±æ€§</h2><p>å¦‚æœä½ æƒ³ä¸€æ¬¡è®¾ç½®å¯¹å¤šä¸ªèŠ‚ç‚¹ç”Ÿæ•ˆï¼Œè¿™æ ·ï¼š</p><pre class="line-numbers language-none"><code class="language-none">digraph G&#123;node[shape&#x3D;circle];edge[arrowhead&#x3D;vee];  a [label&#x3D;&quot;èŠ‚ç‚¹ A&quot;];  b [label&#x3D;&quot;èŠ‚ç‚¹ B&quot;];  a -&gt; b [label&#x3D;&quot;ä» A åˆ° B&quot;];&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20211003141240.png" width="15%"/ loading="lazy"><p>åœ¨ node åæ¥ä¸­æ‹¬å·ï¼Œé‡Œé¢å†™ä¸Šå±æ€§è®¾ç½®ï¼Œæ¥ä¸‹æ¥å®šä¹‰çš„æ‰€æœ‰èŠ‚ç‚¹ä¼šé»˜è®¤ä½¿ç”¨è¿™é‡Œçš„å±æ€§è®¾ç½®ã€‚</p><p>å¯¹å¤šä¸ªè¾¹è®¾ç½®å±æ€§ä¹Ÿç±»ä¼¼èŠ‚ç‚¹ã€‚åœ¨ edge åæ¥ä¸­æ‹¬å·è®¾ç½®å±æ€§ã€‚</p><br><h2 id="3-3-è®¾ç½®å›¾çš„å±æ€§"><a href="#3-3-è®¾ç½®å›¾çš„å±æ€§" class="headerlink" title="3.3. è®¾ç½®å›¾çš„å±æ€§"></a>3.3. è®¾ç½®å›¾çš„å±æ€§</h2><p>å›¾æœ¬èº«ä¹Ÿèƒ½è®¾ç½®ä¸€äº›å±æ€§ï¼Œæ¯”å¦‚å¸ƒå±€æ–¹å¼ï¼Œå›¾æœ¬èº«çš„è¯´æ˜æ ‡ç­¾ï¼š</p><pre class="line-numbers language-none"><code class="language-none">digraph G&#123;rankdir &#x3D; LR;label &#x3D; &quot;ç¤ºä¾‹å›¾&quot;;a -&gt; b;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20211003141257.png" width="25%"/ loading="lazy"><p>rankdir è®¾ç½®äº†å›¾çš„å¸ƒå±€ä¸º LRï¼Œå³ä»å·¦å‘å³ï¼›é»˜è®¤å›¾çš„å¸ƒå±€æ˜¯ TBï¼Œå³ä»ä¸Šå‘ä¸‹ã€‚ label è®¾ç½®äº†å¯¹å›¾æœ¬èº«çš„è¯´æ˜æ ‡ç­¾ã€‚</p><br><h2 id="3-4-å¸¸ç”¨å±æ€§"><a href="#3-4-å¸¸ç”¨å±æ€§" class="headerlink" title="3.4. å¸¸ç”¨å±æ€§"></a>3.4. å¸¸ç”¨å±æ€§</h2><p>è¿™ç¯‡æ–‡ç« é‡Œå¯¹å¸¸ç”¨çš„å›¾ï¼Œè¾¹å’ŒèŠ‚ç‚¹çš„å±æ€§åšäº†ä¸€ä¸ªè¾ƒå¥½çš„æ€»ç»“ï¼š <a href="http://www.jianshu.com/p/5b02445eca1d">http://www.jianshu.com/p/5b02445eca1d</a></p><br><h1 id="4-æ³¨é‡Š"><a href="#4-æ³¨é‡Š" class="headerlink" title="4. æ³¨é‡Š"></a>4. æ³¨é‡Š</h1><p>dot æ”¯æŒ C å’Œ C++é£æ ¼çš„æ³¨é‡Šï¼Œ&#x2F;&#x2F;å’Œ&#x2F;* *&#x2F;ä¸¤ç§ã€‚</p><br><h1 id="5-å¤æ‚çš„èŠ‚ç‚¹ç»“æ„"><a href="#5-å¤æ‚çš„èŠ‚ç‚¹ç»“æ„" class="headerlink" title="5. å¤æ‚çš„èŠ‚ç‚¹ç»“æ„"></a>5. å¤æ‚çš„èŠ‚ç‚¹ç»“æ„</h1><p>é€šè¿‡å¯¹ label è¿›è¡Œä¸€å®šæ ¼å¼çš„ç¼–å†™ï¼Œå°±èƒ½å¤Ÿåœ¨ label ä¸­å‘ˆç°å‡ºå¦‚ä¸‹è¿™æ ·çš„ç»“æ„ï¼š</p><pre class="line-numbers language-none"><code class="language-none">digraph structs &#123;    node [shape&#x3D;record];    struct1 [shape&#x3D;record,label&#x3D;&quot;&lt;f0&gt; left|&lt;f1&gt; mid\ dle|&lt;f2&gt; right&quot;];    struct2 [shape&#x3D;record,label&#x3D;&quot;&lt;f0&gt; one|&lt;f1&gt; two&quot;];    struct3 [shape&#x3D;record,label&#x3D;&quot;hello\nworld |&#123; b |&#123;c|&lt;here&gt; d|e&#125;| f&#125;| g | h&quot;];    struct1 -&gt; struct2;    struct1 -&gt; struct3;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20211003141341.png" width="45%"/ loading="lazy"><p>æ³¨æ„åˆ°èŠ‚ç‚¹è¢«åˆ†æˆäº†å‡ ä¸ªå°æ–¹æ¡†ï¼Œè€Œä¸”æ¯ä¸€ä¸ªæ–¹æ¡†éƒ½å¯ä»¥æŒ‡å®šä¸€ä¸ªåç§°ã€‚</p><p>åœ¨è¿æ¥èŠ‚ç‚¹æ—¶ï¼Œé€šè¿‡è¿™ä¸ªåç§°å°±èƒ½æ›´ç»†çš„æŒ‡å®šå…·ä½“è¿æ¥åˆ°å“ªä¸€ä¸ªå°æ–¹æ¡†ä¸Šï¼š</p><pre class="line-numbers language-none"><code class="language-none">digraph structs &#123;node [shape&#x3D;record];struct1 [shape&#x3D;record,label&#x3D;&quot;&lt;f0&gt; left|&lt;f1&gt; middle|&lt;f2&gt; right&quot;];struct2 [shape&#x3D;record,label&#x3D;&quot;&lt;f0&gt; one|&lt;f1&gt; two&quot;];struct3 [shape&#x3D;record,label&#x3D;&quot;hello\nworld |&#123; b |&#123;c|&lt;here&gt; d|e&#125;| f&#125;| g | h&quot;];struct1:f1 -&gt; struct2:f0;struct1:f2 -&gt; struct3:here;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20211003141407.png" width="45%"/ loading="lazy"><p>ä½¿ç”¨è¿™ä¸ªç‰¹ç‚¹ï¼Œèƒ½å¤Ÿä½¿ç”¨ dot å¾ˆæ–¹ä¾¿çš„ç”»å‡ºæ•°æ®ç»“æ„çš„å›¾ã€‚</p><br><h1 id="6-å­å›¾"><a href="#6-å­å›¾" class="headerlink" title="6. å­å›¾"></a>6. å­å›¾</h1><p>é€šè¿‡å­å›¾ï¼Œå¯ä»¥å¯¹è¾¹å’ŒèŠ‚ç‚¹è¿›è¡Œåˆ†ç»„ã€‚</p><p>å¦‚æœå­å›¾åä»¥ cluster å¼€å¤´ï¼Œè¿™ä¸ªå­å›¾ä¼šç”¨ä¸€ä¸ªæ–¹æ¡†æ¡†èµ·æ¥ã€‚ è€Œä¸” cluster ä¼šè¢«å½“æˆä¸€ä¸ªæ–°çš„å¸ƒå±€æ¥å¤„ç†ã€‚ ä½ è¿˜å¯ä»¥å¯¹ cluster è®¾ç½®æŸäº›å±æ€§ï¼Œæ¯”å¦‚èƒŒæ™¯è‰²ï¼Œæ ‡ç­¾ä¹‹ç±»çš„ã€‚</p><pre class="line-numbers language-none"><code class="language-none">digraph graphname&#123;  a -&gt; &#123;b c&#125;;  c -&gt; b;  subgraph cluster_bc  &#123;    bgcolor&#x3D;red;    label&#x3D;&quot;cluster&quot;;    b;    c;  &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>  <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20211003141428.png" width="20%"/ loading="lazy"><br><h1 id="7-å‡ ä¸ªç¤ºä¾‹"><a href="#7-å‡ ä¸ªç¤ºä¾‹" class="headerlink" title="7. å‡ ä¸ªç¤ºä¾‹"></a>7. å‡ ä¸ªç¤ºä¾‹</h1><p>é€šè¿‡ä¸‹é¢å‡ ä¸ªç¤ºä¾‹å¯ä»¥çœ‹åˆ°ï¼Œç”¨ dot ç»˜åˆ¶æ ‡å‡†åŒ–çš„å›¾å½¢ï¼Œå¾ˆç®€å•ç›´è§‚ã€‚</p><p>æ‚„æ‚„çš„è¯´ä¸€å¥ï¼Œè¿™äº›å›¾ï¼Œæ˜¯æˆ‘ä»å®˜æ–¹çš„ã€Šdotguideã€‹é‡Œé¢å‰½çªƒæ¥çš„ï¼Œå˜˜ã€‚ã€‚ã€‚</p><br><h2 id="7-1-å‡½æ•°è°ƒç”¨å›¾"><a href="#7-1-å‡½æ•°è°ƒç”¨å›¾" class="headerlink" title="7.1. å‡½æ•°è°ƒç”¨å›¾"></a>7.1. å‡½æ•°è°ƒç”¨å›¾</h2><pre class="line-numbers language-none"><code class="language-none">digraph G &#123;size &#x3D;&quot;4,4&quot;;main [shape&#x3D;box]; &#x2F;* this is a comment *&#x2F;main -&gt; parse [weight&#x3D;8];parse -&gt; execute;main -&gt; init [style&#x3D;dotted];main -&gt; cleanup;execute -&gt; &#123; make_string; printf&#125;init -&gt; make_string;edge [color&#x3D;red]; &#x2F;&#x2F; so is thismain -&gt; printf [style&#x3D;bold,label&#x3D;&quot;100 times&quot;];make_string [label&#x3D;&quot;make a\nstring&quot;];node [shape&#x3D;box,style&#x3D;filled,color&#x3D;&quot;.7 .3 1.0&quot;];execute -&gt; compare;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20211003141458.png" width="40%"/ loading="lazy"><h2 id="7-2-æ•°æ®ç»“æ„äºŒå‰æ ‘"><a href="#7-2-æ•°æ®ç»“æ„äºŒå‰æ ‘" class="headerlink" title="7.2. æ•°æ®ç»“æ„äºŒå‰æ ‘"></a>7.2. æ•°æ®ç»“æ„äºŒå‰æ ‘</h2><pre class="line-numbers language-none"><code class="language-none">digraph g &#123;node [shape &#x3D; record,height&#x3D;.1];node0[label &#x3D;&quot;&lt;f0&gt; |&lt;f1&gt; G|&lt;f2&gt;&quot;];node1[label &#x3D;&quot;&lt;f0&gt; |&lt;f1&gt; E|&lt;f2&gt;&quot;];node2[label &#x3D;&quot;&lt;f0&gt; |&lt;f1&gt; B|&lt;f2&gt;&quot;];node3[label &#x3D;&quot;&lt;f0&gt; |&lt;f1&gt; F|&lt;f2&gt;&quot;];node4[label &#x3D;&quot;&lt;f0&gt; |&lt;f1&gt; R|&lt;f2&gt;&quot;];node5[label &#x3D;&quot;&lt;f0&gt; |&lt;f1&gt; H|&lt;f2&gt;&quot;];node6[label &#x3D;&quot;&lt;f0&gt; |&lt;f1&gt; Y|&lt;f2&gt;&quot;];node7[label &#x3D;&quot;&lt;f0&gt; |&lt;f1&gt; A|&lt;f2&gt;&quot;];node8[label &#x3D;&quot;&lt;f0&gt; |&lt;f1&gt; C|&lt;f2&gt;&quot;];&quot;node0&quot;:f2 -&gt;&quot;node4&quot;:f1;&quot;node0&quot;:f0 -&gt;&quot;node1&quot;:f1;&quot;node1&quot;:f0 -&gt;&quot;node2&quot;:f1;&quot;node1&quot;:f2 -&gt;&quot;node3&quot;:f1;&quot;node2&quot;:f2 -&gt;&quot;node8&quot;:f1;&quot;node2&quot;:f0 -&gt;&quot;node7&quot;:f1;&quot;node4&quot;:f2 -&gt;&quot;node6&quot;:f1;&quot;node4&quot;:f0 -&gt;&quot;node5&quot;:f1;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20211003141514.png" width="50%"/ loading="lazy"><h2 id="7-3-æ•°æ®ç»“æ„-hash-è¡¨"><a href="#7-3-æ•°æ®ç»“æ„-hash-è¡¨" class="headerlink" title="7.3. æ•°æ®ç»“æ„ hash è¡¨"></a>7.3. æ•°æ®ç»“æ„ hash è¡¨</h2><pre class="line-numbers language-none"><code class="language-none">digraph G &#123;  nodesep&#x3D;.05;  rankdir&#x3D;LR;  node [shape&#x3D;record,width&#x3D;.1,height&#x3D;.1];  node0 [label &#x3D; &quot;&lt;f0&gt; |&lt;f1&gt; |&lt;f2&gt; |&lt;f3&gt; |&lt;f4&gt; |&lt;f5&gt; |&lt;f6&gt; | &quot;,height&#x3D;2.5];  node [width &#x3D; 1.5];  node1 [label &#x3D; &quot;&#123;&lt;n&gt; n14 | 719 |&lt;p&gt; &#125;&quot;];  node2 [label &#x3D; &quot;&#123;&lt;n&gt; a1  | 805 |&lt;p&gt; &#125;&quot;];   node3 [label &#x3D; &quot;&#123;&lt;n&gt; i9  | 718 |&lt;p&gt; &#125;&quot;];   node4 [label &#x3D; &quot;&#123;&lt;n&gt; e5  | 989 |&lt;p&gt; &#125;&quot;];   node5 [label &#x3D; &quot;&#123;&lt;n&gt; t20 | 959 |&lt;p&gt; &#125;&quot;] ;   node6 [label &#x3D; &quot;&#123;&lt;n&gt; o15 | 794 |&lt;p&gt; &#125;&quot;] ;   node7 [label &#x3D; &quot;&#123;&lt;n&gt; s19 | 659 |&lt;p&gt; &#125;&quot;] ;   node0:f0 -&gt; node1:n;   node0:f1 -&gt; node2:n;   node0:f2 -&gt; node3:n;   node0:f5 -&gt; node4:n;   node0:f6 -&gt; node5:n;   node2:p -&gt; node6:n;   node4:p -&gt; node7:n;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>  <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20211003141640.png" width="50%"/ loading="lazy"><br><h1 id="8-æœ€ååŠå…¶å®ƒèµ„æ–™"><a href="#8-æœ€ååŠå…¶å®ƒèµ„æ–™" class="headerlink" title="8. æœ€ååŠå…¶å®ƒèµ„æ–™"></a>8. æœ€ååŠå…¶å®ƒèµ„æ–™</h1><p>å¯ä»¥çœ‹åˆ°ï¼Œdot è¿™ç§è¯­è¨€è¯­æ³•ç®€å•ï¼Œç¨å¾®å­¦ä¹ å°±èƒ½ç¼–è¾‘ç®€å•çš„è„šæœ¬æ¥æè¿°å¤æ‚çš„å›¾å½¢ã€‚ å¯¹äºè¿™ç§æ–¹å¼ç”Ÿæˆå›¾å½¢ï¼Œåˆå§‹ç”¨æ—¶å¯èƒ½æœ‰äº›ä¸ä¹ æƒ¯ï¼Œæ¯•ç«Ÿä½¿ç”¨è¿™ç§â€œå†™ä»£ç â€çš„æ–¹å¼æ¥ç”Ÿæˆå›¾å½¢æ˜¯å¾ˆåç›´è§‰çš„ã€‚</p><p>ä½†æ˜¯ç†Ÿæ‚‰ä¹‹åå°±ä¼šå‘ç°ï¼Œä½¿ç”¨ dot åœ¨ç”»æŸäº›å›¾å½¢ï¼Œç‰¹åˆ«æ˜¯æ€ç»´å¯¼å›¾ç±»æ—¶ï¼Œ dot èƒ½å¸®åŠ©æˆ‘ä»¬ä»çƒ¦ççš„å¸ƒå±€ä¸­è§£è„±å‡ºæ¥ï¼Œè®©æˆ‘ä»¬çš„æ€ç»ªå’Œæ³¨æ„åŠ›é›†ä¸­åœ¨çœŸæ­£çš„é€»è¾‘ä¸Šã€‚ ä¸“å¿ƒæ€è€ƒä¸€ä»¶äº‹æƒ…æ—¶ï¼Œä»»ä½•ä¸€ä¸ªåˆ†å¿ƒç‚¹ï¼Œéƒ½æœ‰å¯èƒ½è®©æ€ç»´å¤§æ‰“æŠ˜æ‰£ã€‚</p><p>åœ¨å­¦ä¹ ä½¿ç”¨ dot çš„è¿‡ç¨‹ä¸­å‚è€ƒäº†ä»¥ä¸‹èµ„æ–™ï¼Œç‰¹æ­¤æ„Ÿè°¢ï¼š</p><ul><li><a href="http://www.graphviz.org/pdf/dotguide.pdf">http://www.graphviz.org/pdf/dotguide.pdf</a> ï¼ˆå®˜æ–¹çš„æ•™ç¨‹ï¼‰</li><li><a href="http://graphviz.org/Gallery.php">http://graphviz.org/Gallery.php</a> ï¼ˆç‚¹å‡»å›¾å°±èƒ½çœ‹åˆ°å¯¹åº”çš„ dot ä»£ç ï¼‰</li><li><a href="http://www.jianshu.com/p/5b02445eca1d">http://www.jianshu.com/p/5b02445eca1d</a></li><li><a href="https://zhuanlan.zhihu.com/p/19900327">https://zhuanlan.zhihu.com/p/19900327</a></li><li><a href="https://zhuanlan.zhihu.com/p/21993254">https://zhuanlan.zhihu.com/p/21993254</a></li><li><a href="http://liyanrui.is-programmer.com/posts/6261.html">http://liyanrui.is-programmer.com/posts/6261.html</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> graphviz </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Win10 å®‰è£… CLion + CMake + MSVC / MinGW ä½œ QT å¼€å‘</title>
      <link href="/posts/5783d3ec/"/>
      <url>/posts/5783d3ec/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€éšç¬”è®°ä¸€ä¸‹åœ¨ Win10 ä¸Šä½¿ç”¨ CLion + CMake å¼€å‘ Qt é…ç½®ï¼›</p><ol><li>Win10 + CLion + CMake + MSVCï¼ˆVisual Studioï¼‰+ Qt</li><li>Win10 + CLion + CMake + GCCï¼ˆMinGWï¼‰+ Qt</li></ol><span id="more"></span><p>[TOC]</p><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="å…³è”åšæ–‡"><a href="#å…³è”åšæ–‡" class="headerlink" title="å…³è”åšæ–‡"></a>å…³è”åšæ–‡</h2><p><strong>Windows ç³»ç»Ÿ</strong></p><ul><li><a href="https://blog.csdn.net/qq_33154343/article/details/103674579">åœ¨ Win10 ç¯å¢ƒä¸‹å®‰è£… QtCreator 5.9.8 ä½œ C++ çš„ IDE å¼€å‘å·¥å…·</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/98779698">QtCreator å®‰è£… SDKï¼Œåœ¨ MSVC ç¼–è¯‘æ¨¡å¼ä¸‹ä½¿ç”¨ CDB è°ƒè¯•å™¨</a> </li><li><a href="https://blog.csdn.net/qq_33154343/article/details/103755569">Win10 å®‰è£… QtCreator + Visual Studio 2015 ä½œä¸º C++ çš„ IDE å¼€å‘å·¥å…·</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/78587699">Visual Studio 2017 ä¸“ä¸šç‰ˆä½¿ç”¨æœ€æ–°ç‰ˆ Qt 5.9.2 æ•™ç¨‹</a>  </li><li><a href="https://blog.csdn.net/qq_33154343/article/details/120070828">Win10 å®‰è£… CLion + CMake + MSVC &#x2F; MinGW ä½œ QT å¼€å‘</a></li></ul><br><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>â€‹é¢„å…ˆå®‰è£… Win10ã€QtCratorã€CMake ä»¥åŠ CLionã€‚è‹¥æƒ³ä½¿ç”¨ CLion å¼€å‘ Qt å°±å¿…é¡»å‘ŠçŸ¥ Clion å’Œå‡†å¤‡ç¼–è¯‘æ„å»ºçš„é¡¹ç›®ï¼Œä¸€äº›å¿…è¦çš„å‚æ•°é…ç½®ã€‚</p><p>â€‹<strong>ğŸ’»ï¼š</strong>  <code>win10 21H1</code> ğŸ“ <code>Qt 5.12.11</code> ğŸ“  <code>Visual Studio 2017</code> ğŸ“ <code>Qt Creator 4.15.0</code></p><br><h2 id="é¢„å…ˆé…ç½®é¡¹"><a href="#é¢„å…ˆé…ç½®é¡¹" class="headerlink" title="é¢„å…ˆé…ç½®é¡¹"></a>é¢„å…ˆé…ç½®é¡¹</h2><h3 id="é…ç½®-CMAKE-PREFIX-PATHï¼ˆQt-è·¯å¾„ï¼‰"><a href="#é…ç½®-CMAKE-PREFIX-PATHï¼ˆQt-è·¯å¾„ï¼‰" class="headerlink" title="é…ç½® CMAKE_PREFIX_PATHï¼ˆQt è·¯å¾„ï¼‰"></a>é…ç½® CMAKE_PREFIX_PATHï¼ˆQt è·¯å¾„ï¼‰</h3><p>â€‹<code>CMAKE_PREFIX_PATH</code> çš„å€¼ä¸ºå‘ŠçŸ¥æ­¤é¡¹ç›®ä½¿ç”¨çš„ Qt çš„ç‰ˆæœ¬ï¼›å³ Qt å®‰è£…è·¯å¾„ã€‚ä»¥ä¸‹ä¸‰ç§æ–¹å¼ä»»é€‰å…¶ä¸€å³å¯ã€‚</p><ul><li><p>æ–°å»ºé¡¹ç›®æ—¶å¡«å†™</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210821001446.png" width="80%"/ loading="lazy"></li></ul><br><ul><li><p>æ‰‹åŠ¨å†™åœ¨ CMakeLists.txt ä¸­</p><pre class="line-numbers language-cmake" data-language="cmake"><code class="language-cmake"><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token variable">CMAKE_PREFIX_PATH</span> <span class="token string">"C:/Qt/Qt5.12.11/5.12.11/msvc2017"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul><br><ul><li><p>åœ¨è®¾ç½®ä¸­çš„ CMake é…ç½®ä¸­çš„ <em>CMake option:</em>  ä¸­å†™å‚æ•°</p><pre class="line-numbers language-cmake" data-language="cmake"><code class="language-cmake">-DCMAKE_PREFIX_PATH=C:/Qt/Qt5.<span class="token number">12.11</span>/<span class="token number">5.12.11</span>/msvc2017<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210821010944.png" width="80%"/ loading="lazy"></li></ul><br><h3 id="é…ç½®-ToolChiansï¼ˆå·¥å…·é“¾ï¼‰"><a href="#é…ç½®-ToolChiansï¼ˆå·¥å…·é“¾ï¼‰" class="headerlink" title="é…ç½® ToolChiansï¼ˆå·¥å…·é“¾ï¼‰"></a>é…ç½® ToolChiansï¼ˆå·¥å…·é“¾ï¼‰</h3><p>å½“é€‰ä¸­æ­£ç¡®çš„ Environment æ—¶ï¼Œåé¢ç³»ç±»ä¼šè‡ªåŠ¨æ£€æµ‹å‡ºæ¥æ­£ç¡®çš„é…ç½®ã€‚å¯å‚è€ƒä¸‹å›¾</p><ul><li><p>é…ç½® MSVCï¼ˆVisual Studioï¼‰ æ¨¡å¼</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210821002137.png" width="80%"/ loading="lazy"></li><li><p>é…ç½® gccï¼ˆMinGWï¼‰æ¨¡å¼</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210821002353.png" width="80%"/ loading="lazy"></li></ul><br><h3 id="é…ç½®æ„å»º-CMake-ç¯å¢ƒ"><a href="#é…ç½®æ„å»º-CMake-ç¯å¢ƒ" class="headerlink" title="é…ç½®æ„å»º CMake ç¯å¢ƒ"></a>é…ç½®æ„å»º CMake ç¯å¢ƒ</h3><p>â€‹å‘ŠçŸ¥ç³»ç»Ÿä½¿ç”¨å“ªä¸€ä¸ª ToolChinas (å·¥å…·é›†åˆ)æ¥å¤„ç†æ­¤é¡¹ç›®æ–‡ä»¶ã€‚æ˜¯ MSCVC è¿˜æ˜¯ gcc ç›¸å…³ç³»çš„ï¼Ÿ</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210821003230.png" width="80%"/ loading="lazy"><br><h2 id="CLion-ä¸­è¿è¡Œ-Qt-é¡¹ç›®"><a href="#CLion-ä¸­è¿è¡Œ-Qt-é¡¹ç›®" class="headerlink" title="CLion ä¸­è¿è¡Œ Qt é¡¹ç›®"></a>CLion ä¸­è¿è¡Œ Qt é¡¹ç›®</h2><p>â€‹ç»è¿‡ä¸Šé¢çš„å‡†å¤‡å·¥ä½œï¼Œæœ€ååœ¨è¿è¡Œ CLionï¼ŒæŒ‰ç…§æ­¥éª¤å¯çœ‹åˆ°æœ€åæˆåŠŸè¿è¡Œã€‚</p><ol><li>é…ç½® ToolChiansã€CMake</li><li>åˆ‡æ¢æƒ³è¦æ„å»ºç”Ÿæˆçš„é…ç½®æ–¹æ¡ˆï¼ˆDebug&#x2F;Relase&#x2F;RelWithDebInfo&#x2F;MinSizeRelã€MSVC&#x2F;MinGWï¼‰</li><li>æ‰§è¡Œç¼–è¯‘ CMakeLists.txt æ–‡ä»¶ï¼Œç”Ÿæˆ Makefile æ–‡ä»¶ï¼›</li><li>ç¼–è¯‘ä¸Šä¸€æ­¥ç”Ÿæˆçš„ Makefile æ–‡ä»¶ï¼Œç¼–è¯‘æºæ–‡ä»¶ã€é“¾æ¥ç³»ç»Ÿæ–‡ä»¶ã€ç”Ÿæˆç›®æ ‡äºŒè¿›åˆ¶ç¨‹åº</li><li>åŠ è½½æ‰€éœ€è¦çš„ç³»ç»Ÿå’Œä¸‰æ–¹åŠ¨æ€åº“ç­‰ã€è¿è¡Œç”Ÿæˆçš„ç›®æ ‡äºŒè¿›åˆ¶ç¨‹åº</li><li>çœ‹åˆ°çª—å£è¿è¡ŒæˆåŠŸ</li><li>ä¸ªäººé…ç½®çš„é›†ä¸­ç”Ÿæˆç›®æ ‡æ–‡ä»¶çš„é›†ä¸­æ¨¡å¼ï¼ˆå¯å¿½ç•¥æ­¤ï¼‰</li></ol><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210821003909.png" width="80%"/ loading="lazy"><br><h2 id="CMake-è°ƒç”¨-Qt-è¯­æ³•"><a href="#CMake-è°ƒç”¨-Qt-è¯­æ³•" class="headerlink" title="CMake è°ƒç”¨ Qt è¯­æ³•"></a>CMake è°ƒç”¨ Qt è¯­æ³•</h2><p>â€‹CLion è‡ªåŠ¨ç”Ÿæˆçš„ CMakeLists.txt æ–‡ä»¶é…ç½®å†…å®¹ï¼Œå¦‚ä¸‹ï¼Œç®€å•ä»‹ç» CMake è¯­æ³•ã€‚æ›´è¯¦ç»†çš„æ³¨é‡Šï¼Œå¯å‚è€ƒå¦ä¸€é¡¹ç›®çš„<a href="https://github.com/xmuli/lfxSpeed/blob/master/CMakeLists.txt">æ­¤æ–‡ä»¶</a>ã€‚</p><pre class="line-numbers language-cmake" data-language="cmake"><code class="language-cmake"><span class="token keyword">cmake_minimum_required</span><span class="token punctuation">(</span><span class="token property">VERSION</span> <span class="token number">3.20</span><span class="token punctuation">)</span>         <span class="token comment"># æœ€ä½ cmake ç‰ˆæœ¬</span><span class="token keyword">project</span><span class="token punctuation">(</span>XTest<span class="token punctuation">)</span>                               <span class="token comment"># æ­¤é¡¹ç›®åç§°</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token variable">CMAKE_CXX_STANDARD</span> <span class="token number">17</span><span class="token punctuation">)</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token variable">CMAKE_AUTOMOC</span> <span class="token boolean">ON</span><span class="token punctuation">)</span>                        <span class="token comment"># å¯ç”¨ qt moc çš„æ”¯æŒ</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token variable">CMAKE_AUTORCC</span> <span class="token boolean">ON</span><span class="token punctuation">)</span>                        <span class="token comment"># å¯ç”¨ qrc èµ„æºæ–‡ä»¶çš„æ”¯æŒ</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token variable">CMAKE_AUTOUIC</span> <span class="token boolean">ON</span><span class="token punctuation">)</span>                        <span class="token comment"># å¯ç”¨ qt uic çš„æ”¯æŒ</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token variable">CMAKE_PREFIX_PATH</span> <span class="token string">"C:/Qt/Qt5.12.11/5.12.11/msvc2017"</span><span class="token punctuation">)</span>  <span class="token comment"># Qt çš„å®‰è£…è·¯å¾„</span><span class="token keyword">find_package</span><span class="token punctuation">(</span>Qt5 COMPONENTS                  <span class="token comment"># æŸ¥æ‰¾ Qt5 çš„å¦‚ä¸‹åº“</span>        Core        Gui        Widgets        REQUIRED<span class="token punctuation">)</span><span class="token keyword">add_executable</span><span class="token punctuation">(</span>XTest main.cpp<span class="token punctuation">)</span>               <span class="token comment"># ç”Ÿæˆç›®æ ‡æ–‡ä»¶ XTest</span><span class="token keyword">target_link_libraries</span><span class="token punctuation">(</span>XTest                  <span class="token comment"># é“¾æ¥ Qt5 çš„å¦‚ä¸‹äºŒè¿›åˆ¶åº“</span>        <span class="token inserted class-name">Qt5::Core</span>        <span class="token inserted class-name">Qt5::Gui</span>        <span class="token inserted class-name">Qt5::Widgets</span>        <span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">WIN32</span><span class="token punctuation">)</span>                             <span class="token comment"># å¯å¿½ç•¥ï¼Œå¤§æ„ä¸ºæœªé…ç½®æˆ–å°è¯•æ‰¾ä¸åˆ° Qt å®‰è£…ç›®å½•ï¼Œåˆ™è­¦å‘Š</span>    <span class="token keyword">set</span><span class="token punctuation">(</span>DEBUG_SUFFIX<span class="token punctuation">)</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">CMAKE_BUILD_TYPE</span> <span class="token operator">MATCHES</span> <span class="token string">"Debug"</span><span class="token punctuation">)</span>        <span class="token keyword">set</span><span class="token punctuation">(</span>DEBUG_SUFFIX <span class="token string">"d"</span><span class="token punctuation">)</span>    <span class="token keyword">endif</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">set</span><span class="token punctuation">(</span>QT_INSTALL_PATH <span class="token string">"<span class="token interpolation"><span class="token punctuation">$&#123;</span><span class="token variable">CMAKE_PREFIX_PATH</span><span class="token punctuation">&#125;</span></span>"</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">NOT</span> EXISTS <span class="token string">"<span class="token interpolation"><span class="token punctuation">$&#123;</span><span class="token variable">QT_INSTALL_PATH</span><span class="token punctuation">&#125;</span></span>/bin"</span><span class="token punctuation">)</span>        <span class="token keyword">set</span><span class="token punctuation">(</span>QT_INSTALL_PATH <span class="token string">"<span class="token interpolation"><span class="token punctuation">$&#123;</span><span class="token variable">QT_INSTALL_PATH</span><span class="token punctuation">&#125;</span></span>/.."</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">NOT</span> EXISTS <span class="token string">"<span class="token interpolation"><span class="token punctuation">$&#123;</span><span class="token variable">QT_INSTALL_PATH</span><span class="token punctuation">&#125;</span></span>/bin"</span><span class="token punctuation">)</span>            <span class="token keyword">set</span><span class="token punctuation">(</span>QT_INSTALL_PATH <span class="token string">"<span class="token interpolation"><span class="token punctuation">$&#123;</span><span class="token variable">QT_INSTALL_PATH</span><span class="token punctuation">&#125;</span></span>/.."</span><span class="token punctuation">)</span>        <span class="token keyword">endif</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">endif</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>EXISTS <span class="token string">"<span class="token interpolation"><span class="token punctuation">$&#123;</span><span class="token variable">QT_INSTALL_PATH</span><span class="token punctuation">&#125;</span></span>/plugins/platforms/qwindows<span class="token interpolation"><span class="token punctuation">$&#123;</span><span class="token variable">DEBUG_SUFFIX</span><span class="token punctuation">&#125;</span></span>.dll"</span><span class="token punctuation">)</span>        <span class="token keyword">add_custom_command</span><span class="token punctuation">(</span>TARGET <span class="token punctuation">$&#123;</span><span class="token variable">PROJECT_NAME</span><span class="token punctuation">&#125;</span> POST_BUILD                COMMAND <span class="token punctuation">$&#123;</span><span class="token variable">CMAKE_COMMAND</span><span class="token punctuation">&#125;</span> -E make_directory                <span class="token string">"$&lt;TARGET_FILE_DIR:<span class="token interpolation"><span class="token punctuation">$&#123;</span><span class="token variable">PROJECT_NAME</span><span class="token punctuation">&#125;</span></span>>/plugins/platforms/"</span><span class="token punctuation">)</span>        <span class="token keyword">add_custom_command</span><span class="token punctuation">(</span>TARGET <span class="token punctuation">$&#123;</span><span class="token variable">PROJECT_NAME</span><span class="token punctuation">&#125;</span> POST_BUILD                COMMAND <span class="token punctuation">$&#123;</span><span class="token variable">CMAKE_COMMAND</span><span class="token punctuation">&#125;</span> -E copy                <span class="token string">"<span class="token interpolation"><span class="token punctuation">$&#123;</span><span class="token variable">QT_INSTALL_PATH</span><span class="token punctuation">&#125;</span></span>/plugins/platforms/qwindows<span class="token interpolation"><span class="token punctuation">$&#123;</span><span class="token variable">DEBUG_SUFFIX</span><span class="token punctuation">&#125;</span></span>.dll"</span>                <span class="token string">"$&lt;TARGET_FILE_DIR:<span class="token interpolation"><span class="token punctuation">$&#123;</span><span class="token variable">PROJECT_NAME</span><span class="token punctuation">&#125;</span></span>>/plugins/platforms/"</span><span class="token punctuation">)</span>    <span class="token keyword">endif</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">foreach</span> <span class="token punctuation">(</span>QT_LIB Core Gui Widgets<span class="token punctuation">)</span>        <span class="token keyword">add_custom_command</span><span class="token punctuation">(</span>TARGET <span class="token punctuation">$&#123;</span><span class="token variable">PROJECT_NAME</span><span class="token punctuation">&#125;</span> POST_BUILD                COMMAND <span class="token punctuation">$&#123;</span><span class="token variable">CMAKE_COMMAND</span><span class="token punctuation">&#125;</span> -E copy                <span class="token string">"<span class="token interpolation"><span class="token punctuation">$&#123;</span><span class="token variable">QT_INSTALL_PATH</span><span class="token punctuation">&#125;</span></span>/bin/Qt5<span class="token interpolation"><span class="token punctuation">$&#123;</span><span class="token variable">QT_LIB</span><span class="token punctuation">&#125;</span></span><span class="token interpolation"><span class="token punctuation">$&#123;</span><span class="token variable">DEBUG_SUFFIX</span><span class="token punctuation">&#125;</span></span>.dll"</span>                <span class="token string">"$&lt;TARGET_FILE_DIR:<span class="token interpolation"><span class="token punctuation">$&#123;</span><span class="token variable">PROJECT_NAME</span><span class="token punctuation">&#125;</span></span>>"</span><span class="token punctuation">)</span>    <span class="token keyword">endforeach</span> <span class="token punctuation">(</span>QT_LIB<span class="token punctuation">)</span><span class="token keyword">endif</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Windows </category>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> Visual Studio </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qt4å’ŒQt5çš„ä¿¡å·å’Œæ§½çš„ä½¿ç”¨å·®å¼‚</title>
      <link href="/posts/4b6d9382/"/>
      <url>/posts/4b6d9382/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€<code>Qt4</code> å’Œ <code>Qt5</code> çš„ä¿¡å·å’Œæ§½çš„è¿æ¥ <code>connect</code> ä¸æ–­å¼€ <code>disconnect</code> åŒºåˆ«</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210629231342.png" width="100%"/ loading="lazy"><br><p><code>Qt5</code> å¯¹äºé‡è½½çš„ä¿¡å·ï¼Œä½¿ç”¨ç¤ºä¾‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token function">connect</span><span class="token punctuation">(</span>cbLanuage<span class="token punctuation">,</span> <span class="token class-name">QOverload</span><span class="token operator">&lt;</span><span class="token keyword">const</span> QString<span class="token operator">&amp;</span><span class="token operator">></span><span class="token double-colon punctuation">::</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>QComboBox<span class="token double-colon punctuation">::</span>currentTextChanged<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>Preference<span class="token double-colon punctuation">::</span>onLanuageChange<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">connect</span><span class="token punctuation">(</span>cbLanuage<span class="token punctuation">,</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token punctuation">(</span>QComboBox<span class="token double-colon punctuation">::</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> QString<span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token operator">&amp;</span>QComboBox<span class="token double-colon punctuation">::</span>currentTextChanged<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>Preference<span class="token double-colon punctuation">::</span>onLanuageChange<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº   <a href="https://xmuli.tech/">â€œå•è‡§çš„å°ç«™â€</a>ï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ä¿¡å·å’Œæ§½çš„-connect"><a href="#ä¿¡å·å’Œæ§½çš„-connect" class="headerlink" title="ä¿¡å·å’Œæ§½çš„ connect"></a>ä¿¡å·å’Œæ§½çš„ connect</h2><h3 id="Qt4-æ–¹å¼-å®"><a href="#Qt4-æ–¹å¼-å®" class="headerlink" title="Qt4 æ–¹å¼: å®"></a>Qt4 æ–¹å¼: å®</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//Qt4: å®</span><span class="token comment">/*å¼1*/</span>  <span class="token keyword">static</span> QMetaObject<span class="token double-colon punctuation">::</span>Connection <span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">const</span> QObject <span class="token operator">*</span>sender<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>signal<span class="token punctuation">,</span> <span class="token keyword">const</span> QObject <span class="token operator">*</span>receiver<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>method<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>ConnectionType type <span class="token operator">=</span> Qt<span class="token double-colon punctuation">::</span>AutoConnection<span class="token punctuation">)</span><span class="token comment">/*å¼2*/</span>         QMetaObject<span class="token double-colon punctuation">::</span>Connection <span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">const</span> QObject <span class="token operator">*</span>sender<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>signal<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>method<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>ConnectionType type <span class="token operator">=</span> Qt<span class="token double-colon punctuation">::</span>AutoConnection<span class="token punctuation">)</span> <span class="token keyword">const</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><br><h3 id="Qt5-æ–¹å¼-å‡½æ•°æŒ‡é’ˆ"><a href="#Qt5-æ–¹å¼-å‡½æ•°æŒ‡é’ˆ" class="headerlink" title="Qt5 æ–¹å¼: å‡½æ•°æŒ‡é’ˆ"></a>Qt5 æ–¹å¼: å‡½æ•°æŒ‡é’ˆ</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// Qt5: å‡½æ•°æŒ‡é’ˆ</span><span class="token comment">/*å¼3*/</span>  <span class="token keyword">static</span> QMetaObject<span class="token double-colon punctuation">::</span>Connection <span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">const</span> QObject <span class="token operator">*</span>sender<span class="token punctuation">,</span> PointerToMemberFunction signal<span class="token punctuation">,</span> <span class="token keyword">const</span> QObject <span class="token operator">*</span>receiver<span class="token punctuation">,</span> PointerToMemberFunction method<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>ConnectionType type <span class="token operator">=</span> Qt<span class="token double-colon punctuation">::</span>AutoConnection<span class="token punctuation">)</span><span class="token comment">/*å¼4*/</span>  <span class="token keyword">static</span> QMetaObject<span class="token double-colon punctuation">::</span>Connection <span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">const</span> QObject <span class="token operator">*</span>sender<span class="token punctuation">,</span> PointerToMemberFunction signal<span class="token punctuation">,</span> Functor functor<span class="token punctuation">)</span>   <span class="token comment">/*å¼5*/</span>  <span class="token keyword">static</span> QMetaObject <span class="token double-colon punctuation">::</span> Connection <span class="token class-name">QObject</span> <span class="token double-colon punctuation">::</span> <span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">const</span> QObject <span class="token operator">*</span> senderï¼Œ <span class="token keyword">const</span> QMetaMethodï¼†signalï¼Œ<span class="token keyword">const</span> QObject <span class="token operator">*</span> receiverï¼Œ <span class="token keyword">const</span> QMetaMethodï¼† methodï¼ŒQt <span class="token double-colon punctuation">::</span> ConnectionType type <span class="token operator">=</span> Qt <span class="token double-colon punctuation">::</span> AutoConnectionï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="connect-ç¬¬äº”ä¸ªå‚æ•°"><a href="#connect-ç¬¬äº”ä¸ªå‚æ•°" class="headerlink" title="connect ç¬¬äº”ä¸ªå‚æ•°"></a>connect ç¬¬äº”ä¸ªå‚æ•°</h3><p>typeï¼šç”¨äºæŒ‡æ˜ä¿¡å·å’Œæ§½çš„å…³è”æ–¹å¼ï¼Œå®ƒå†³å®šäº†ä¿¡å·æ˜¯ç«‹å³ä¼ é€åˆ°ä¸€ä¸ªæ§½è¿˜æ˜¯åœ¨ç¨åæ—¶é—´æ’é˜Ÿç­‰å¾…ä¼ é€ã€‚å…³è”æ–¹å¼ä½¿ç”¨æšä¸¾ Qt::ConnectionType è¿›è¡Œæè¿°ï¼Œä¸‹è¡¨ä¸ºå…¶å–å€¼åŠæ„ä¹‰</p><table><thead><tr><th>æšä¸¾</th><th>å€¼</th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>Qt::AutoConnection</td><td>0</td><td><strong>ï¼ˆè‡ªåŠ¨å…³è”ï¼Œé»˜è®¤å€¼ï¼‰ã€‚</strong>è‹¥æ¥æ”¶è€…é©»ç•™åœ¨å‘å°„ä¿¡å·çš„çº¿ç¨‹ä¸­(å³ä¿¡å·å’Œæ§½åœ¨åŒä¸€çº¿ç¨‹ä¸­)ï¼Œåˆ™ä½¿ç”¨ Qt::DirectConnectionï¼Œå¦åˆ™ï¼Œä½¿ç”¨ Qt::QueuedConnectionã€‚å½“ä¿¡å·å‘å°„æ—¶ç¡®å®šä½¿ç”¨å“ªç§å…³è”ç±»å‹ã€‚</td></tr><tr><td>Qt::DirectConnection</td><td>1</td><td>ç›´æ¥å…³è”ã€‚å½“ä¿¡å·å‘å°„åï¼Œç«‹å³è°ƒç”¨æ§½ã€‚åœ¨æ§½æ‰§è¡Œå®Œä¹‹åï¼Œæ‰ä¼šæ‰§è¡Œå‘å°„ä¿¡å·ä¹‹åçš„ä»£ç (å³ emit å…³é”®å­—ä¹‹åçš„ä»£ç )ã€‚è¯¥æ§½åœ¨ä¿¡å·çº¿ç¨‹ä¸­æ‰§è¡Œã€‚</td></tr><tr><td>Qt::QueuedConnection</td><td>2</td><td>é˜Ÿåˆ—å…³è”ã€‚<strong>å½“æ§åˆ¶æƒè¿”å›åˆ°æ¥æ”¶è€…çº¿ç¨‹çš„äº‹ä»¶å¾ªç¯åï¼Œæ§½æ‰ä¼šè¢«è°ƒç”¨</strong> ï¼Œä¹Ÿå°±æ˜¯è¯´ emit å…³é”®å­—åé¢çš„ä»£ç å°†ç«‹å³æ‰§è¡Œï¼Œæ§½å°†åœ¨ç¨åæ‰§è¡Œï¼Œè¯¥æ§½åœ¨æ¥æ”¶è€…çš„çº¿ç¨‹ä¸­æ‰§è¡Œã€‚</td></tr><tr><td>Qt::BlockingQueuedConnection</td><td>3</td><td>é˜»å¡é˜Ÿåˆ—å…³è”ã€‚å’Œ Qt::QueuedConnection ä¸€æ ·ï¼Œåªæ˜¯ä¿¡å·çº¿ç¨‹ä¼šä¸€ç›´é˜»å¡ï¼Œç›´åˆ°æ§½è¿”å›ã€‚å¦‚æœæ¥æ”¶è€…é©»ç•™åœ¨ä¿¡å·çº¿ç¨‹ä¸­ï¼Œåˆ™ä¸èƒ½ä½¿ç”¨æ­¤è¿æ¥ï¼Œå¦åˆ™åº”ç”¨ç¨‹åºå°†ä¼šæ­»é”ã€‚</td></tr><tr><td>Qt::UniqueConnection</td><td>0x80</td><td>å”¯ä¸€å…³è”ã€‚è¿™æ˜¯ä¸€ä¸ªæ ‡å¿—ï¼Œå¯ä½¿ç”¨æŒ‰ä½æˆ–ä¸ä¸Šè¿°ä»»ä½•è¿æ¥ç±»å‹ç»„åˆã€‚å½“è®¾ç½® Qt::UniqueConnection æ—¶ï¼Œåˆ™åªæœ‰åœ¨ä¸é‡å¤çš„æƒ…å†µä¸‹æ‰ä¼šè¿›è¡Œè¿æ¥ï¼Œå¦‚æœå·²ç»å­˜åœ¨é‡å¤è¿æ¥(å³ï¼Œç›¸åŒçš„ä¿¡å·æŒ‡åŒä¸€å¯¹è±¡ä¸Šçš„å®Œå…¨ç›¸åŒçš„æ§½)ï¼Œåˆ™è¿æ¥å°†å¤±è´¥ï¼Œæ­¤æ—¶å°†è¿”å›æ— æ•ˆçš„ QMetaObject::Connection</td></tr></tbody></table><br><h3 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// å¼1</span>A ma<span class="token punctuation">;</span> B mb<span class="token punctuation">;</span> <span class="token class-name">QObject</span><span class="token double-colon punctuation">::</span><span class="token function">connect</span> <span class="token punctuation">(</span><span class="token operator">&amp;</span>ma<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span> <span class="token function">s</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>mb<span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å¼2</span>A ma<span class="token punctuation">;</span> B mb<span class="token punctuation">;</span> mb<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>ma<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">s</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å¼3</span>A ma<span class="token punctuation">;</span> B mb<span class="token punctuation">;</span> <span class="token class-name">QObject</span><span class="token double-colon punctuation">::</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>ma<span class="token punctuation">,</span> <span class="token operator">&amp;</span>A<span class="token double-colon punctuation">::</span>s<span class="token punctuation">,</span> <span class="token operator">&amp;</span>mb<span class="token punctuation">,</span> <span class="token operator">&amp;</span>B<span class="token double-colon punctuation">::</span>x <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å¼4</span>A ma<span class="token punctuation">;</span> <span class="token class-name">QObject</span><span class="token double-colon punctuation">::</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>ma<span class="token punctuation">,</span> <span class="token operator">&amp;</span>A<span class="token double-colon punctuation">::</span>s<span class="token punctuation">,</span> <span class="token operator">&amp;</span>B<span class="token double-colon punctuation">::</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// void x(int i)æ˜¯ç±» B ä¸­å®šä¹‰çš„é™æ€æ§½</span><span class="token comment">// å¼5</span>A ma<span class="token punctuation">;</span> B mb<span class="token punctuation">;</span><span class="token keyword">int</span> indexSig <span class="token operator">=</span> ma<span class="token punctuation">.</span><span class="token function">metaObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">indexOfSignal</span><span class="token punctuation">(</span><span class="token string">"clicked(bool)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> indexSlot <span class="token operator">=</span> mb<span class="token punctuation">.</span><span class="token function">metaObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">indexOfSlot</span><span class="token punctuation">(</span><span class="token string">"close()"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>ma<span class="token punctuation">,</span> ma<span class="token punctuation">.</span><span class="token function">metaObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">method</span><span class="token punctuation">(</span>indexSig<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>mb<span class="token punctuation">,</span> mb<span class="token punctuation">.</span><span class="token function">metaObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">method</span><span class="token punctuation">(</span>indexSlot<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><p><strong>è¡¥å……ï¼š</strong></p><ul><li>å½¢å¼ 3 çš„æ§½å‡½æ•°å¯ä»¥ä¸ä½¿ç”¨ <code>slots</code> å…³é”®å­—å£°æ˜ï¼Œä»»æ„çš„æˆå‘˜å‡½æ•°éƒ½å¯ä»¥æ˜¯æ§½å‡½æ•°ã€‚å½¢å¼ 1 çš„æ§½å‡½æ•°å¿…é¡»ä½¿ç”¨ <code>slots</code> ä¿®é¥°</li><li>å½¢å¼ 1 çš„æ§½å‡½æ•°ä¸å— <code>private</code> çš„é™åˆ¶ï¼Œä¹Ÿå°±æ˜¯è¯´å³ä½¿æ§½æ˜¯ <code>private</code> çš„ï¼Œä»å¯é€šè¿‡ä¿¡å·è°ƒç”¨è¯¥æ§½å‡½æ•°ï¼Œè€Œå½¢å¼ 3 åˆ™åœ¨ä½¿ç”¨ <code>connect</code> æ—¶å°±ä¼šå‘ç”Ÿé”™è¯¯ã€‚</li></ul><br><h2 id="ä¿¡å·å’Œæ§½çš„-disconnect"><a href="#ä¿¡å·å’Œæ§½çš„-disconnect" class="headerlink" title="ä¿¡å·å’Œæ§½çš„ disconnect"></a>ä¿¡å·å’Œæ§½çš„ disconnect</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">/*å¼1*/</span>  <span class="token keyword">static</span> <span class="token keyword">bool</span> <span class="token class-name">QObject</span><span class="token double-colon punctuation">::</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token keyword">const</span> QObject <span class="token operator">*</span>sender<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>signal<span class="token punctuation">,</span> <span class="token keyword">const</span> QObject <span class="token operator">*</span>receiver<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>method<span class="token punctuation">)</span><span class="token comment">/*å¼2*/</span>  <span class="token keyword">static</span> <span class="token keyword">bool</span> <span class="token class-name">QObject</span><span class="token double-colon punctuation">::</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token keyword">const</span> QMetaObject<span class="token double-colon punctuation">::</span>Connection <span class="token operator">&amp;</span>connection<span class="token punctuation">)</span><span class="token comment">/*å¼3*/</span>  <span class="token keyword">static</span> <span class="token keyword">bool</span> <span class="token class-name">QObject</span><span class="token double-colon punctuation">::</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token keyword">const</span> QObject <span class="token operator">*</span>sender<span class="token punctuation">,</span> PointerToMemberFunction signal<span class="token punctuation">,</span> <span class="token keyword">const</span> QObject<span class="token operator">*</span>receiver<span class="token punctuation">,</span> PointerToMemberFunction method<span class="token punctuation">)</span><span class="token comment">/*å¼4*/</span>  <span class="token keyword">static</span> <span class="token keyword">bool</span> <span class="token class-name">QObject</span><span class="token double-colon punctuation">::</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token keyword">const</span> QObject <span class="token operator">*</span>sender<span class="token punctuation">,</span> <span class="token keyword">const</span> QMetaMethod <span class="token operator">&amp;</span>signal<span class="token punctuation">,</span> <span class="token keyword">const</span> QObject<span class="token operator">*</span>receiver<span class="token punctuation">,</span> <span class="token keyword">const</span> QMetaMethod <span class="token operator">&amp;</span>method<span class="token punctuation">)</span><span class="token comment">/*å¼5*/</span>         <span class="token keyword">bool</span> <span class="token class-name">QObject</span><span class="token double-colon punctuation">::</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>signal <span class="token operator">=</span> Q_NULLPTR<span class="token punctuation">,</span> <span class="token keyword">const</span> QObject <span class="token operator">*</span>receiver <span class="token operator">=</span> Q_NULLPTR<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>method <span class="token operator">=</span> Q_NULLPTR<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token comment">/*å¼6*/</span>         <span class="token keyword">bool</span> <span class="token class-name">QObject</span><span class="token double-colon punctuation">::</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token keyword">const</span> QObject <span class="token operator">*</span>receiver<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>method <span class="token operator">=</span> Q_NULLPTR<span class="token punctuation">)</span> <span class="token keyword">const</span>                                                       <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è¡¥å……ï¼š</strong></p><ul><li><p>å½¢å¼ 3 çš„æ§½å‡½æ•°å¯ä»¥ä¸ä½¿ç”¨ slots å…³é”®å­—å£°æ˜ï¼Œä»»æ„çš„æˆå‘˜å‡½æ•°éƒ½å¯ä»¥æ˜¯æ§½å‡½æ•°ã€‚å½¢å¼ 1 çš„æ§½å‡½æ•°å¿…é¡»ä½¿ç”¨ slots ä¿®é¥°</p></li><li><p>å½¢å¼ 1 çš„æ§½å‡½æ•°ä¸å— private çš„é™åˆ¶ï¼Œä¹Ÿå°±æ˜¯è¯´å³ä½¿æ§½æ˜¯ private çš„ï¼Œä»å¯é€šè¿‡ä¿¡å·è°ƒç”¨è¯¥æ§½å‡½æ•°ï¼Œè€Œå½¢å¼ 3 åˆ™åœ¨ä½¿ç”¨ connect æ—¶å°±ä¼šå‘ç”Ÿé”™è¯¯ã€‚</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WPS çš„ç¼©å†™å«ä¹‰</title>
      <link href="/posts/3564a0da/"/>
      <url>/posts/3564a0da/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€<code>WPS</code> çš„è¿™å‡ ä¸ªçš„å«ä¹‰ç¼©å†™æ˜¯ï¼Ÿæœ‰æ—¶å€™ä¼šæƒ³ä¸€ä¸‹ï¼Œå°±å¦‚ä¹‹å§‹å¥½å¥‡ <code>DTK</code> çš„å«ä¹‰ä¸€æ ·ï¼›</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/24b61ef9b2f671a2f8d0e0600aca8576.png" width="50%"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p>â€‹ä»¥å‰æ€»ä»¥ä¸ºä¸€äº›è€³ç†Ÿèƒ½è¯¦çš„ LOGO çš„å«ä¹‰æ˜¯ç”±ç‰¹æ®Šå«ä¹‰çš„ç¼©å†™ï¼Œä¸ä¼šè¢«æ”¹å˜ï¼Œä½†æ˜¯ç°åœ¨è¿™ä¸ªè®¤çŸ¥åœ¨è¿™æ¬¡çš„åŸ¹è®­ä¸­å‘ç”Ÿäº†è½¬å˜ï¼›</p><p>WPS æœ€æ—©çš„å«ä¹‰æ˜¯ <strong>Word Processing System</strong> (æ–‡å­—å¤„ç†ç³»ç»Ÿï¼‰ï¼›è€Œç°åœ¨è¢«èµ‹äºˆäº†æ–°çš„å«ä¹‰ <strong>WorkSpace Platform Service</strong> ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/IMG_5064(20210626-224838).JPG" width="50%"/ loading="lazy"><br><p>ç„¶åå¦ä¸€ä¸ªæ˜¯ DTKï¼Œæ¯”è¾ƒæ—©çš„å«ä¹‰æ˜¯ <strong>Deepin Tool Kit</strong> ï¼›ç°åœ¨ä¹Ÿè¢«èµ‹äºˆäº†æ–°çš„å«ä¹‰ <strong>Development Tool Kit</strong> ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210626224801.png" width="70%"/ loading="lazy"><br><p>â€‹æ—¶é—´åœ¨æµé€ï¼Œä¸€åˆ‡éƒ½åœ¨å‘å±•å˜åŒ–ï¼Œå¤§å®¶ä¹Ÿéƒ½ä¸ºå…¶å¸¦æ¥äº†æ–°çš„å¯“æ„å’Œå¯„æ‰˜ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´» - é—²æš‡çš„è¶£é—» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¶ç„¶ä¹è¶£ </tag>
            
            <tag> WPS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸Šç­ä¸¤å¹´å¹²äº†äº›å•¥ï¼Ÿè¯¥æ€è€ƒäººç”Ÿ</title>
      <link href="/posts/f5f1bb34/"/>
      <url>/posts/f5f1bb34/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  ç¬¬ä¸€æ¬¡ä¸Šç­ï¼Œç¬¬ä¸€ä»½å·¥ä½œï¼Œå·¥ä½œäº†ä¸¤å¹´ï¼Œå›æƒ³ä¸€ä¸‹è¿™ä¸¤å¹´æˆ‘éƒ½å¹²äº†äº›å•¥ï¼Ÿå­¦åˆ°äº†ä¸€äº›å•¥ï¼Ÿä»¥åŠæ€è€ƒä¸€ä¸‹ä»¥åæˆ‘æƒ³å¹²å•¥ï¼Ÿç•¥å›°æƒ‘ï¼Œéœ€è¦æ€è€ƒä¸‹äººç”Ÿã€‚äº¦æ˜¯è¿™ä¸¤å¹´çš„ä¸€ä»½å¹´åº¦æ€»ç»“ã€‚äº¦æ˜¯åˆæ¬¡å†™çš„ä¸€ç¯‡ä¸æˆç†Ÿçš„ 2019-2020 çš„å¹´åº¦æ€»ç»“ã€‚</p><p><strong>1. æˆ‘æ˜¯è°ï¼Ÿ</strong></p><p><strong>2. æˆ‘æƒ³åšä»€ä¹ˆï¼Ÿ</strong></p><p><strong>3. æˆ‘åœ¨åšä»€ä¹ˆï¼Ÿ</strong></p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/065fb0ef38cb2a733ec131e239889c2b.gif" width="60%"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼˜åˆ†"><a href="#ç¼˜åˆ†" class="headerlink" title="ç¼˜åˆ†"></a>ç¼˜åˆ†</h3><p>â€‹ä¸ƒæœˆä»½çš„æ­¦æ±‰ï¼Œé…·æš‘éš¾è€ï¼Œåˆšå‡ºè±¡ç‰™å¡”ï¼Œæ‰‹æŒç®€å†ï¼Œå››å¤„å¥”èµ°ã€‚å¯èƒ½ç¬¬ä¸€æ¬¡çš„è®°å¿†éƒ½ä¼šæ¯”è¾ƒæ·±åˆ»ï¼Ÿé‚£æ˜¯ä¸€æ¬¡æ„‰å¿«çš„é¢è¯•ï¼Œä¾ç¨€è®°å¾—é¢è¯•æˆ¿é—´ç©ºè°ƒå¾ˆå‡‰å¿«ï¼Œé¢è¯•å®˜çš„æ‰‹æŒ‡ä¿®é•¿ä¸”å¾ˆç™½ï¼Œé•¿ç›¸æ¸…ç§€ï¼Œçœ‹ç€æ¯”æˆ‘å¤§ä¸€ä¸¤è½½ï¼Œè¿‡ç¨‹å¾ˆèŠå¾—æ¥ï¼Œæœ‰ä¸€ç§æ‰€å­¦å‰é¢æœ‰æ‰€ç›¸ä¼¼ï¼Œå¾ˆå¼€å¿ƒï¼Œå°±è¿™æ ·å·§åˆè¿›åˆ° <code>Deepin</code> ï¼ˆæ­¦æ±‰æ·±ä¹‹åº¦ï¼‰äº†ã€‚</p><br><h3 id="åˆå§‹"><a href="#åˆå§‹" class="headerlink" title="åˆå§‹"></a>åˆå§‹</h3><p>â€‹å…¥èŒç¬¬ä¸€å¤©ï¼Œè€å¤§å³æ˜¯é¢è¯•å®˜ zccrsï¼Œæ„å¤–çš„æƒŠå–œã€‚åˆæ¬¡æ¥è§¦å•†ä¸šä»£ç ï¼Œä½†æ˜¯å´æ²¡æœ‰ä»€ä¹ˆæ–‡æ¡£ï¼Œç”šæ˜¯è¾›è‹¦å¤§ä½¬æ¬ä¸ªå°æ¿å‡³ï¼Œååœ¨æˆ‘æ—è¾¹ï¼Œæ‰‹æŠŠæ‰‹æ•™æˆ‘ï¼Œåˆšå¼€å§‹ä¸€å‘¨ä»£ç éƒ½æ˜¯ä»–å†™çš„å¸®æˆ‘æäº¤çš„ï¼Œäºæ˜¯æäº¤äº†ï¼›è€å¤§ä¹Ÿæ˜¯å¤§ä½¬ï¼Œå´å¾ˆæ˜¯ä¸»åŠ¨å’Œçƒ­æƒ…ï¼ˆå¦‚åŒå¤æ—¥çš„ä¸€ä¸å‡‰é£ï¼Œå¸¦æ¥è®°å¿†ä¸­çš„å‡‰çˆ½ï¼‰ï¼›ä¸€åŒè¿›æ¥çš„å‡ ä¸ªä¸Šå°ä¼™ä¼´ï¼Œä¹Ÿéƒ½äº’ç›¸ä¸€èµ·å­¦ä¹ ï¼Œçº·çº·æƒ³è‡ªå·±æ‰€ä¼šçš„éƒ¨åˆ†ä¸»åŠ¨æ•™äºˆä»–ä»¬ï¼Œäº’ç›¸å­¦ä¹ ï¼Œæ°›å›´å¾ˆæ£’ï¼Œä¹Ÿå¾ˆèˆ’é€‚ã€‚</p><p>â€‹å½“ç¬¬ä¸€çœ¼çœ‹åˆ° <code>Deepin v15</code> æ—¶å€™ï¼Œç”šè‡³æƒŠè‰³ï¼Œç•Œé¢ç«Ÿç„¶å¦‚æ­¤ç¾è§‚ï¼Œå°¤å…¶æ˜¯ç£¨ç ‚ã€é€æ˜ã€ä»»åŠ¡æ ã€å³ä¾§æ§åˆ¶ä¸­å¿ƒã€å…¨å±å¯åŠ¨å™¨ã€ä»¥åŠé”å±æ ·å¼ï¼Œå°±æ˜¯æƒŠè‰³è‡³æã€‚<strong>å¾ˆå¤šç¾å¥½çš„äº‹ç‰©å¯èƒ½å°±æ˜¯åˆæ¬¡çœ‹åˆ°ï¼Œç„¶åä»¥æ„Ÿè§‰æƒŠè‰³ä»¥è‡³è®°å¿†æ·±åˆ»å§ã€‚</strong> è¿™é‡Œå¥½å¥½å¤¸å¤¸æˆ‘ä»¬å¤§è®¾è®¡å¸ˆ shule1987  è€å¸ˆï¼Œä¸”è¿˜å¯ä»¥å®‰è£… <code>QQ</code> å’Œ å¾®ä¿¡ç­‰ï¼ˆå½“æ—¶æ¥æ¶ˆæ¯ç›¯ç€è¿™ä¸ªä»»åŠ¡æ æ‘‡å¤´æ™ƒè„‘çœ‹äº†å¥½ä¹…ï¼‰ï¼Œç”šè‡³å¾ˆå¤šå…¶ä»–è½¯ä»¶éƒ½å¯ä»¥ç›´æ¥åœ¨åº”ç”¨å•†åº—ä¸­å®‰è£…ï¼›</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/Untitled.gif" width="50%"/ loading="lazy"><p>â€‹</p><p>â€‹ä¹‹å‰åœ¨æ ¡åªæµ…æµ…ç”¨è¿‡ Ubuntuï¼Œæœªæ·±å…¥æ¥è§¦è¿‡ Linux å…¶å®ƒå‘è¡Œç‰ˆï¼Œä¹Ÿæœªæ›¾å¬è¯´è¿‡ Deepinï¼Œåæ¥æ‰çŸ¥åŸæ¥åœ¨æ­¤é¢†åŸŸæ—©å·²ç»æœ‰åæ°”ã€‚<br>â€‹<strong>ç•ªå¤–ï¼š</strong> å·¥ä½œä¸€ä¸ªæœˆåï¼Œæ°å¥½å›ç­”è¿‡ä¸€ç¯‡çŸ¥ä¹ï¼Œæ— æ„æˆäº†é¦–ç­” <a href="https://www.zhihu.com/question/344339517/answer/817025546">zhihu.com</a> ï¼Œ</p><br><h3 id="å®Œæˆ-List"><a href="#å®Œæˆ-List" class="headerlink" title="å®Œæˆ List"></a>å®Œæˆ List</h3><h4 id="å·¥ä½œçš„æ”¶è·"><a href="#å·¥ä½œçš„æ”¶è·" class="headerlink" title="å·¥ä½œçš„æ”¶è·"></a>å·¥ä½œçš„æ”¶è·</h4><p>å·²ç»å®Œæˆ Listï¼š</p><ol><li><p>âœ…  ç»´æŠ¤å’Œå¼€å‘ DTK åº“</p></li><li><p>âœ…  å®ç°ç¤¾åŒºç”¨æˆ·æ¸´æœ›çš„å°åŠŸèƒ½</p></li><li><p>âœ…  ç»´æŠ¤å’Œæ›´æ–°ä»“åº“å¯¹å¤–éƒ¨å¼€æºäº‹å®œ</p></li><li><p>âœ…  é¢å¤–å‚ä¸å¼€æºç¤¾åŒºå’Œ GitHub é¡¹ç›®</p></li><li><p>âœ…  å¼€å‘è‡ªå·±çš„å°è½¯ä»¶ï¼šç½‘é€Ÿæ’ä»¶ã€æˆªå›¾ç­‰</p></li><li><p>âœ…  è½¯ä»¶å·²ä¸Šæ¶ Deepin Storeã€Spark Store ç­‰</p></li><li><p>âœ…  æ¨è¿›å’Œæ‰“é€šå¤–éƒ¨è´¡çŒ®è€…ç»™å†…éƒ¨è´¡çŒ®ä»£ç çš„æ¸ é“</p></li><li><p>âœ…  åœ¨ BBS å’Œ TG ä¸Šä¸ºå›½é™…ç”¨æˆ·è§£å†³å›°æƒ‘</p></li><li><p>âœ…  æ­å»ºå’Œå®Œå–„ DTK å®˜ç½‘æ–‡æ¡£</p></li><li><p>âœ…  ä¸»æŒæ¼”è®² â€œæŠ€æœ¯åˆ†äº«ä¼šâ€</p></li><li><p>âœ…  æŠ€æœ¯æ–‡ç« æ”¶åˆ°äº†ç¨¿è´¹</p></li><li><p>âœ…  ä¸ªäºº Qt &#x2F; C++ ç³»åˆ—æ–‡ç« å®Œå–„</p></li><li><p>âœ…  çº‚å†™ä¸“åˆ©åº•ç¨¿ï¼Œä¸”æ˜¯ä¸“åˆ©çš„ç¬¬ä¸€ä½œè€…æ˜¯è‡ªå·±åå­—</p></li><li><p>âœ…  å’Œç¾¤å‹åˆ’æ°´ã€å¹ç‰›ï¼ˆè¿™ä¸ªä¹Ÿç®—ï¼‰</p></li></ol><br><p>â€‹æœ¬èŒå·¥ä½œå¤§è‡´åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼Œå‰æœŸç»´æŠ¤å’Œå¼€å‘ DTK è¿™ä¸ªæ ¸å¿ƒåº“ï¼Œæ˜¯ Deepin &#x2F; UOS å…¨å®¶æ¡¶è½¯ä»¶çš„æ ¸å¿ƒåŸºçŸ³ï¼›å¯¹ Qt çš„æºç çœ‹çš„æ¯”è¾ƒå¤šã€å°¤å…¶æ˜¯åŸç”Ÿæ§ä»¶çš„ç»˜ç”»å®ç°ã€å’Œä½¿ç”¨äº†è§£çš„æ¯”è¾ƒå¤šï¼ŒçŸ¥è¯†æ·±åº¦å‘å±•ã€‚åæœŸå·§åˆä¸‹æˆäº†å…¨èŒè´Ÿè´£ç¤¾åŒºç›¸å…³ï¼Œæå¤§åœ°ä¸°å¯Œäº†å¹¿åº¦å’Œå„ç§æ¥è§¦é¢ï¼Œä¹Ÿæ»¡è¶³äº†å¯¹äºå¼€æºç¤¾åŒºçš„åœ¨è¿ä½œæ–¹å¼å¥½å¥‡å¿ƒã€å¼€æºåè®®ç›¸å…³çš„çŸ¥è¯†ã€æ¥è§¦å¼€æºè¿™ä¸ªåœˆå­ç›¸å…³ï¼›ä¹Ÿä¸ºåé¢æ¨åŠ¨ã€æ‰“é€šå¤–éƒ¨è´¡çŒ®è€…åœ¨ GitHub ç›´æ¥æäº¤è´¡çŒ®åˆ°å†…éƒ¨ä»£ç å®¡æŸ¥å¹³å°ä¸Šçš„æ¸ é“ç•™ä¸‹äº†å¥‘æœºã€‚</p><p>â€‹åæ°å¥½ç”¨å·¥å…·ç»Ÿè®¡è¿‡ï¼Œå‚ä¸ <code>DTK</code> æ ¸å¿ƒåº“çš„å¼€å‘ä¸ç»´æŠ¤ï¼Œå¤§çº¦è´¡çŒ® <a href="https://github.com/linuxdeepin/qt5integration">qt5integration</a>  10% çš„ä»£ç ã€ä»¥åŠç™¾åˆ†ä¹‹å‡ çš„ <a href="https://github.com/linuxdeepin/dtkwidget">dtkwidget</a> çš„ä»£ç ã€‚å½“ç„¶ç°åœ¨ç°åœ¨è¿™ä¸ªæ¯”ä¾‹éšç€è§„æ¨¡åœ¨é€æ¸æ‰©å¤§ï¼Œæ¯”ç‡åé¢ä¼šè¶Šæ¥è¶Šå°ï¼ˆéšç€æ–°äººæ·»ç –åŠ ç“¦ï¼‰ï¼Œå¯¹æ­¤æ˜¯ä¹äºçœ‹è§çš„å’Œæœ‰æ‰€æœŸå¾…ã€‚å½“ç†Ÿæ‚‰å†™å¥½äº† Qt çš„æ§ä»¶æ—¶å€™ï¼Œå°±å¯¹ç¤¾åŒºç”¨æˆ·çš„ä¸€äº›æ„¿æœ›ï¼Œå°±æœ‰ç›¸å¸®ä»–ä»¬å®ç°ã€‚æ¯”å¦‚å®¡ç¾çš„ä¸ªä½“å·®å¼‚ï¼šå¤§åœ†è§’ã€‚æ—¢ç„¶å¤§ä½¬ä»¬æ²¡äº‹æ—¶é—´ï¼Œè€Œæˆ‘æ°å¥½åˆæœ‰ç©ºï¼Œé‚£ä¹ˆå°±æˆ‘æ¥å§ï¼›åä¸»å¯¼å’Œå¼€å‘ â€œåœ†è§’è‡ªå®šä¹‰â€åŠŸèƒ½ï¼Œåœ¨ç¤¾åŒºç‰ˆ Deepin ä¸Šè®¾ç½®äº† UI ä¿®æ”¹å¼€å…³ã€ä»¥åŠå¯ç”¨å‘½ä»¤çš„æ–¹å¼ã€‚ä¸ºäº†å•†ä¸šç‰ˆä¹Ÿå¯ä»¥ä¿®æ”¹ï¼Œæˆ‘ä¹Ÿç»™ç»™ç•™äº†ä¸€ä¸ªå¯å‘½ä»¤ä¿®æ”¹çš„æ–¹å¼ï¼Œåé¢äº§å“å¦‚æœå¯ä»¥æœ‰æƒ³æ³•çš„è¯ã€‚åªéœ€è¦å»æ‰ä¸€è¡Œ if ä»£ç å³å¯ï¼›å¯¹äºå¦‚ä½•ä¿®æ”¹ï¼Œåˆ™å¯ä»¥å‚è€ƒ <a href="https://xmuli.blog.csdn.net/article/details/109232878">æ­¤æ–‡</a>ã€‚</p><p>â€‹ç©ºé—²çš„æ™šä¸Šï¼Œæœ‰å¼€å‘ä¸¤æ¬¾ç½‘é€Ÿæ’ä»¶ï¼Œ1ï¸âƒ£ä¸€ä¸ªç®€ç‰ˆ <a href="https://github.com/xmuli/lfxSpeed">lfxSpeed</a>  ä½œä¸º DDE-DOCK çš„æ’ä»¶å®ç°ï¼Œç”¨çš„ DTK å¼€å‘ï¼Œç²¾ç®€åŠŸèƒ½ä¸”å•ä¸€ï¼Œæˆ‘ç”¨è¿™å°±è§‰ç€æŒºå¥½ï¼Œä¹Ÿå·²ç»ä¸Šæ¶ Deepin å’Œæ˜Ÿç«å•†åº—ã€‚2ï¸âƒ£å†åæ¥æ„Ÿè§‰å¸Œæœ›èƒ½å¤Ÿæ”¯æŒå…¶å®ƒæ¡Œé¢ç¯å¢ƒï¼Œç”šè‡³æ”¯æŒ Win å’Œ Macï¼Œäºæ˜¯å…¨éƒ¨é‡æ„ï¼Œé‡æ–°è®¾è®¡ï¼Œè®¾è®¡æˆäº†æ¡Œé¢æ‚¬æµ®æ¨¡å¼å’ŒåŒæ—¶æ”¯æŒä»»åŠ¡æ æ¨¡å¼ï¼Œå¼€å‘äº† <a href="https://github.com/xmuli/NetSpeed">NetSpeed</a>  ã€‚æœ€åæ—¶é—´æ—¶é—´ç©ºé—²ï¼Œè¶Šå†™è¶Šå¤§ï¼Œä¸å¯æ”¶æ‹¾ï¼Œæƒ³é€šäº†ä¸åº”è¯¥æœ‰ä¸‡èƒ½çš„ç¨‹åºï¼ŒåŠŸèƒ½è¿‡äºå¤æ‚ï¼Œå®¹æ˜“åƒåŠ›ä¸è®¨å¥½ï¼Œä¸”ä»£ç é‡æŒ‡æ•°çº§ä¸Šå‡ã€‚éšåç²¾ç®€å’Œç æ‰äº†å†—ä½™åŠŸèƒ½ï¼Œåšæˆäº† Linux ä¸‹æ‰€æœ‰æ¡Œé¢éƒ½å¯é€šç”¨çš„ï¼Œå“ªä½å¤§ä½¬æœ‰ç©ºå¯ä»¥ç›´æ¥å¸®æˆ‘æ‰“åŒ…åˆ°å…¶ä»–å‘è¡Œç‰ˆä¸­ï¼ˆ2021.12 æ›´æ–° ï¼šé‚£å¤©è“¦ç„¶çš„çœ‹äº†ä¸‹ï¼Œå‘ç°ä¸‹è½½é‡ 1.1K+ ï¼Œ<a href="https://github.com/ClayStan">ClayStan</a> è¯´æœ‰ç©ºç»™æ•´æ‰“åŒ… apt ä¸€ä¸‹ï¼‰ã€‚3ï¸âƒ£å¦å¤–è¿˜å¼€å‘äº†ä¸€ä¸ªå°çš„æœ¬åœ°æˆªå›¾è½¯ä»¶ <a href="https://github.com/xmuli/ShotX">ShotX</a>ï¼Œå“ˆå“ˆå“ˆå“ˆï¼Œ logo ç»§æ‰¿äº† Deepin çš„é£æ ¼ï¼Œæ‰¾çš„æŸè®¾è®¡çš„å°å§å§å¸®å¿™å®ç°çš„ï¼Œä¸€ç›´è§‰å¾—æŒºå¥½çœ‹çš„ã€‚æœ€æ ¸å¿ƒçš„æˆªå›¾åŠŸèƒ½ï¼ˆæ”¯æŒå¤šå±ï¼‰å·²ç»å®ç°ï¼ŒåŸºæœ¬åŠŸèƒ½å®ç°äº†ï¼Œåªæ˜¯æ²¡æ‰“åŒ…ï¼Œåé¢æœ‰ç©ºå†æ•´ğŸ•ŠğŸ•ŠğŸ•Š~~~ å’•å’•å’•å’•ã€‚ï¼ˆ 2021.12 æ›´æ–°ï¼Œç°åœ¨å·²ç»åˆé‡æ„è®¾è®¡å®ç°äº†ä¸€ç‰ˆï¼Œç­‰å¾…å†™æˆå…¬å¼€ä»“åº“ï¼‰</p><p>â€‹æŠ•ç¨¿<a href="https://www.uniontech.com/wp-content/uploads/2020/10/uniontech%E6%BA%90%E7%A0%812020%E5%B9%B49%E6%9C%88%E5%88%8A.pdf">ã€ŠUNIONTECH æºç  â€¢ 2æœŸã€‹</a>ï¼Œæ”¶åˆ°äº†äººç”Ÿçš„ç¬¬ä¸€ç¬”ç¨¿è´¹ï¼Œå’Œå°æœ‰è‡ªå·±æ–‡ç« çš„å®ä½“ä¹¦ã€‚</p><p>ç›®çš„ä¸ºäº†é™ä½åæ¥è€…ä¸Šæ‰‹ <code>DTK</code> çš„é—¨æ§›å’Œä½œä¸ºå†…éƒ¨åŸ¹è®­èµ„æ–™ï¼Œä¹¦å†™äº†ä¸€äº›æ–‡æ¡£å’Œæ­å»ºäº†ä¸€äº›ç½‘ç«™ï¼ˆæ­¤å¤„æ„Ÿè°¢äº¦æ„Ÿè°¢éƒ¨ç½²ä¸­çš„å°ä¼™ä¼´å’Œç¤¾åŒºçš„å¸®åŠ©ï¼‰</p><ul><li><code>DTK</code> çš„ä¸ªäººç§¯ç´¯ç³»åˆ—æ–‡ç« ï¼Œä¹ŸåŒ…å« Qt æ§ä»¶çš„ä½¿ç”¨ï¼š <a href="https://github.com/xmuli/QtExamples">QtExamples</a> </li><li>æ­å»º <code>Deepin / DTK</code> çš„å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.deepin.org/">docs.deepin.org</a> </li><li>åˆ¶ä½œ DTK çš„ç›¸å…³ PPT å’Œä¼šè®®åˆ†äº«ï¼š<a href="https://github.com/linuxdeepin/docs/tree/master/Resources/DTK">ã€ŠDTK æ¡†æ¶åˆ†äº«.pptx ã€‹ç­‰</a> </li><li>åˆ†äº«ä¼š DDE å¦‚ä½•ç§»æ¤åˆ°å…¶ä»– Linux å‘è¡Œç‰ˆï¼š<a href="https://xmuli.tech/posts/78cd25f3/">DDEç§»æ¤Archæµç¨‹</a> </li><li>åˆ¶ä½œè™šåŒ… deepin-sdk å’Œï¼Œæ–¹ä¾¿å®‰è£… DTK çš„å¼€å‘ç¯å¢ƒï¼š</li><li>DTK çš„ä¸­æ–‡ API æ–‡æ¡£èƒ½åœ¨æœ¬åœ° Qt åŠ©æ‰‹ç›´æ¥æ— ç¼æŸ¥çœ‹ï¼š<a href="https://xmuli.tech/posts/3f6b9501/">DTK æ–‡æ¡£åµŒå…¥ Qt  Assistants</a></li></ul><br><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/IMG_3572.JPG" width="100%"/ loading="lazy"><p>â€‹å…¶ä¸­é‡ç‚¹æ„Ÿè°¢å¸®åŠ©æˆ‘æ­å»ºå’Œæ¨åŠ¨è¿‡ç¨‹çš„ä¸€äº›å¤§ä½¬ä»¬çš„ååŠ©ï¼Œå’Œçƒ­æƒ…çš„å¸®åŠ©ï¼Œå¾—ä»¥ä½¿å¾—æœ‰äº›ä¸œè¥¿èƒ½å¤Ÿè¢«é¡ºåˆ©å®Œæˆã€‚</p><br><h4 id="æŠ€æœ¯çš„å­¦ä¹ "><a href="#æŠ€æœ¯çš„å­¦ä¹ " class="headerlink" title="æŠ€æœ¯çš„å­¦ä¹ "></a>æŠ€æœ¯çš„å­¦ä¹ </h4><p>å·²ç»å®Œæˆ Listï¼š</p><ol><li>âœ…  CMake çš„å­¦ä¹ </li><li>âœ…  ä¸º Qt æäº¤ PATH</li><li>âœ…  å®Œå–„åšå®¢æ­å»ºå’Œéƒ¨ç½²</li><li>âœ…  ç†ŸçŸ¥ Linux çš„å‘è¡Œç‰ˆåŒºåˆ«ã€è‡ªç”±è½¯ä»¶å’Œå…è´¹è½¯ä»¶ã€å¼€æºåè®®ä¹‹é—´çš„å…³ç³»</li><li>âœ…  åˆ¶ä½œ <code>dde-dock</code> çš„æ’ä»¶ ã€å®‰è£…é…ç½®æ–‡ä»¶ï¼ˆç”¨æˆ·çº§å’Œç³»ç»Ÿçº§ï¼‰ã€å›½é™…åŒ–ç¿»è¯‘çš„åˆ‡æ¢å’Œå¤„ç†</li><li>âœ…  å­¦ä¹ ï¼š <code>Qt</code> çš„æ§ä»¶ç»˜ç”»å’Œä½¿ç”¨ï¼›<code>Linux</code> ç³»ç»Ÿå­¦ä¹ ä¹‹ â¶åŸºç¡€ç¼–ç¨‹ â·ç³»ç»Ÿç¼–ç¨‹ â¸ç½‘ç»œç¼–ç¨‹  <a href="https://github.com/xmuli/linuxExample">ğŸ”—</a></li><li>âœ…  ä½“éªŒï¼šMacã€Windowã€Linuxï¼ˆUOSã€Deepinã€Ubuntuã€Archï¼‰ä¹‹é—´åå¤æ¨ªè·³ã€ä½“éªŒå„è‡ªçš„ä¼˜ç¼ºç‚¹ã€‚</li></ol><p>â€‹å—·å—·~ï¼Œè®°å¾—ä¸€å¼€å§‹å½“æ—¶æœ‰é‡ç»˜å¥½äº›æ§ä»¶ï¼ŒCode View æ—¶æ¯”è¾ƒä¸¥æ ¼ï¼Œä¸”è®¾è®¡å¸ˆè¦ç²¾ç¡®åˆ°åƒç´ ï¼Œæ”¾å¤§ä¸”ä¸æ¨¡ç³Šå¤±çœŸï¼ˆ5K ğŸ ğŸ–¥çœ‹æ•ˆæœï¼Œå¼€å‘ç”¨çš„ 1080 åˆ†è¾¨ç‡ï¼Œå”‰ï¼Œå½“æ—¶å¥½æƒ³ä¹Ÿç”¨é«˜åˆ†å±å¼€å‘ï¼Œæµä¸‹å£æ°´ï¼‰ï¼›ä¸è¿‡æœ€åæ•ˆæœå°±æ˜¯ï¼Œæ™®é€šå±å¼€å‘ï¼Œä½†åœ¨é«˜åˆ†å±ä¸Šçœ‹ DDE ä¾æ—§å¾ˆæ¸…æ™°ï¼Œå¥¶æ€ï¼›è¦æ±‚ä¸¥æ ¼æ˜¯éå¸¸å€¼å¾—çš„ã€‚</p><br><h4 id="ç”Ÿæ´»çš„ä½“éªŒ"><a href="#ç”Ÿæ´»çš„ä½“éªŒ" class="headerlink" title="ç”Ÿæ´»çš„ä½“éªŒ"></a>ç”Ÿæ´»çš„ä½“éªŒ</h4><p>å·²ç»å®Œæˆ Listï¼š</p><ol><li>âœ…  çœ‹ä¹¦</li><li>âœ…  æ—…æ¸¸</li><li>âœ…  æ‹¿é©¾ç…§</li><li>âœ…  çƒ¹é¥ªç‚’èœ </li><li>âœ…  ç¾é£Ÿæ¢åº—ï¼š<a href="https://blog.csdn.net/qq_33154343/article/details/120661981">è—•æ±¤</a></li><li>âœ…  è‡ªæ›¿æ¢ iPhone ç”µæ± </li><li>âœ…  è¡¥ç•ªå°‘å¹´æ—¶åŠ¨æ¼«å’Œ TVB </li><li>âœ…  æ‰‹æ¸¸ CFM è‹¹æœåŒºç­‰çº§åŒå®‰å“</li><li>âœ…  è´­ä¹° 4K 27 å¯¸æ˜¾ç¤ºå™¨ã€MBP 13 ã€éŸ³å“è´­ä¹°</li></ol><br><p>â€‹å¾—ç›Šäºå…¬å¸çš„ 965 çš„ä¸åŠ ç­ï¼Œä»¥åŠé‡åˆ°å¾ˆå¥½çš„ä¸€ä¸ªæˆ¿ä¸œï¼Œèƒ½å¤Ÿæ¯ä¸ªæœˆä¸è¶³ååˆ†ä¸€çš„å·¥èµ„ç”¨æ¥ç§Ÿæˆ¿ï¼›ä¸”è¿˜æœ‰å¾ˆå¤šçš„æ—¶é—´ï¼Œå¯ä»¥ç”¨æ¥çœ‹ä¸€äº›å“²å­¦ä¹¦ç±ğŸ“šï¼ˆå°¤å…¶å½“æŠ€æœ¯ä¹¦ç±çœ‹ç–²å€¦æ—¶ï¼‰ï¼Œç”šæ˜¯æ€æƒ³ç”šæ˜¯æ»¡è¶³ã€‚é©¾ç…§åœ¨åœ¨å¤§å­¦å°±è€ƒäº†ç§‘ä¸€ã€ç§‘ä¸‰ï¼Œåé‡æ•™ç»ƒè·³æ§½ã€å†ä»–è¢«å¼€äº†çš„å¥‡è‘©é­é‡ã€‚åæ²¡æ—¶é—´ï¼Œä¸‰å¹´è¿‡æœŸé‡ä¸Šç–«æƒ…ï¼Œè¢«å»¶æœŸäº†åŠå¹´ï¼Œå‡ºä¹æ„æ–™å¤–çš„å¹¸è¿ï¼Œé‡æ–°æ‹¿é’±å•å­¦ä¸€ç§‘äºŒï¼Œèµ¶åœ¨æ—¶é—´è¿‡æœŸçš„å‰åŠä¸ªæœˆï¼Œæ‹¿åˆ°é©¾ç…§å°æœ¬ï¼›è€ƒå‰ç»ƒè½¦è¢«æ¯•æ­æ¯•æ•¬ç§°ä¹‹ä¸ºè‘£æ•™ç»ƒã€ç§‘äºŒå…±åå…«äººå…¨ä¸€æŠŠè¿‡ï¼Œå°±ç§°ä¸ºè€è‘£ğŸ¤£ğŸ¤£ï¼Œå¯¹äºèŒæ–°ç¬¬ä¸€æ¬¡å¼€è½¦ä¸Šè·¯çš„æ„Ÿè§‰å¯ä»¥å‚è§ <a href="https://xmuli.blog.csdn.net/article/details/115049769">æ­¤è¯´è¯´</a>ã€‚</p><p>â€‹äººä¸æŒ‘é£Ÿï¼Œå¯æŸ‘æ©˜é™„è¿‘çš„é¥­èœä¸€è¨€éš¾å°½ï¼Œäºæ˜¯é€¼å¾—æˆ‘è‡ªè¡Œä¹°é”…ï¼Œç‚¹äº®æˆ‘çš„çƒ¹é¥ªæŠ€èƒ½æ ‘ï¼Œç°å¦‚ä»Šå®¶å¸¸å°ç‚’åŸºæœ¬ OKï¼Œï¼Œæ°ªæ°ªæ°ªï¼Œæœ¬æ˜¯ä¸æƒ³å­¦è¿™çš„ï¼Œå¨œå¨œçš„æ— å¥ˆğŸ¤·ğŸ»â€â™€ï¸ï¼Œemï¼Œå½“ç„¶ä¹Ÿæœ‰å¶å°”ç¿»è½¦çš„æ—¶å€™ï¼Œå«ç€æ³ªï¼Œå¥½åƒå¥½åƒå¥½åƒã€‚ä¸çŸ¥æ˜¯ç¦»å®¶è®¸ä¹…äº†ï¼Œè¿˜æ˜¯æ€å®¶äº†ã€‚å°½ç„¶å¶æ—¶ä¼šå›å¿†å°å°æ—¶å€™å¥¶å¥¶ç…²çš„è—•æ±¤ã€å‘ç–¯äº†åˆ°å¤„æ¢å¯»æ­¦æ±‰çš„è—•å¡˜åº—ï¼Œå‡ ä¹æ­¦æ±‰æ‰€æœ‰çš„è—•æ±¤åº—éƒ½å»è¿‡äº†ï¼Œæ¸…ä¸€è‰²çš„ç²‰è—•ï¼Œæ±¤éƒ½æ˜¯å¥½å–ï¼›å¯æˆ‘è¿˜æ˜¯æƒ³æ‰¾ä¸€å®¶è„†çš„è—•æ±¤ã€æ— å®ƒã€å–œæ¬¢ç½¢äº†ã€‚ä¹Ÿæœ‰æœ‹å‹å¸¦æˆ‘å»å„ä¸ªå¤§å®¶çš„åº—é“ºå»åƒï¼Œåˆæ¬¡å»åƒæ­¤çƒ¤è‚‰æ—¶å€™ï¼Œå°±ä¸€ä¸ªæ„Ÿè§‰ï¼šçˆ½~~ è¿™æ‰æ˜¯åƒçƒ¤è‚‰åº”è¯¥æ‰“å¼€çš„æ–¹å¼ã€‚</p><p>â€‹ç¬¬ä¸€æ¬¡å°è¯•åšè¥¿é¤ï¼Œæˆ‘çš„è¿™ä¸ªä¸ƒåˆ†ç†Ÿï¼Œå’‹æ ·ï¼Ÿ ç„¶åç‚’èœå‡‰èœå’Œç‚’èœç­‰éƒ½æœ‰å°è¯•ä¸€ç•ªè¿‡ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/IMG_43942.JPG" width="50%"/ loading="lazy"> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/IMG_4395.JPG" width="45%"/ loading="lazy"></p><p>â€‹å¯¹äºç‚’é¥­è¿™ç§ï¼Œæˆ‘æ˜¯å¾ˆæœ‰å¥½å¥‡çš„ï¼Œæ„Ÿè§‰æˆ‘æœ‰æ—¶å€™å¯ä»¥ç‚’çš„å¾ˆå¥½çœ‹ã€‚å¯¹äºç…é”…çš„ä½¿ç”¨ï¼Œå½“ç„¶ï¼Œæœ‰æ—¶å€™ä½¿ç”¨ä¹Ÿä¼šç¿»è½¦æˆäº†ä¸‹å›¾çš„ğŸ¥Ÿï¼Œï¼Œå¤§æ¦‚æ˜¯å¼ºè¡Œå°†ç…®é¥ºå°è¯•åšç…é¥ºï¼Œå—·å‘œ~~~ï¼Œæ²¡é”™ï¼Œæ˜¯å“’ï¼Œæˆ‘å½“æ—¶å°±æ˜¯ç‚’é¸¡æƒ³åƒç…é¥ºã€‚å¯¹äºåƒé¥­æˆ‘å‘æ¥æ˜¯æ¯”è¾ƒä¸æŒ‘é£Ÿçš„ï¼Œå“ªæ€•æ˜¯æœ´ç´ ä¸€é¤ä¹Ÿå¯ä»¥æ¥å—ï¼Œä½†æ˜¯å€˜è‹¥è€å©†é¥¼é‡Œé¢æ²¡æœ‰è€å©†ï¼Œå“ªåˆ™æ˜¯ä¸å¯çš„ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/IMG_4397.JPG" width="45%"/ loading="lazy"> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/IMG_4401.JPG" width="48%"/ loading="lazy"></p><p>â€‹ç»ƒè½¦æ—¶å€™ï¼Œæ‰‹æœºğŸ”‹å¾ˆå¿«å°±æ²¡äº†ï¼ŒåŠ ä¸Šå¶å°”ä¹Ÿä¼šæŠ˜è…¾ä¸‹ç”µå­äº§å“ï¼Œæƒ³ç€è‡ªè¡Œæ‹†æœºæ¢ä¸€ä¸‹æ–°ç”µæ± ï¼Œå°±è¯´å¹²å°±å¹²ï¼Œå¿ƒé‡Œè¿˜æœ‰ç‚¹å°é¢„æœŸï¼Œæ‹†åäº†å°±æ¢ 12ï¼Œå¯çœ‹æ¥æ˜¯æƒ³è®© 8P å†æˆ˜ä¸€å¹´ã€‚å¦ä¸€æ–¹é¢ï¼Œå¸¸ç”¨ç”µè„‘ï¼Œå¯¹äºæ“ä½œç³»ç»Ÿ Linuxã€Windowã€Mac è¿™ä¸‰è€…ä¹‹é—´ç”¨å“ªä¸€ä¸ªï¼Ÿæ€»æ˜¯åå¤æ¨ªè·³ï¼Œå–œæ¬¢å®ƒä»¬å„è‡ªçš„ä¼˜ç‚¹ã€çˆ±ä¸é‡Šæ‰‹ï¼Œä½†æ˜¯å„è‡ªçš„ç¼ºç‚¹åˆç•¥æœ‰éš¾ä»¥å¿å—ï¼Œæœ€åçš„è§£å†³æ–¹æ¡ˆæ˜¯â€œå°å­©å­æ‰åšé€‰æ‹©é¢˜â€ï¼Œä¹°äº†å¿ƒå¿ƒå¿µå¿µçš„ ğŸ MBP å’Œ HUAWEI (Mate Book pr ) åªæœ‰è¿™æ¬¾æ”¯æŒ 4 Kï¼Œé†‰äº†é†‰äº†ï¼Œä¹ŸçŸ¥é“è‡ªå·±æœ€é€‚åˆçš„å°±æ˜¯ä¸€ä¸ª 27 å¯¸çš„ 4K å±å¹•å³å¯ï¼Œä½¿ç”¨æœ€èˆ’æœçš„å§¿åŠ¿ã€‚å¯¹äº PC æ¸¸æˆä¸€ç›´ä¸æ„Ÿå…´è¶£ã€å¤§æ¦‚æ˜¯å°å­¦æ—¶å€™å»è¿‡äº†ï¼Œé•¿å¤§äº†åè€Œæ²¡å…´è¶£ï¼Ÿï¼Ÿï¼Ÿæ‰‹æ¸¸ä¹Ÿåªæœ‰ä¸€ä¸ª CFM ä»å†…æµ‹ç©åˆ°ç°åœ¨ï¼Œè…¾è®¯çš„æ°ªé‡‘æ¸¸æˆç¡¬ç”Ÿç”Ÿçš„å®Œæˆäº†æ‰“å¡å¾—è£…å¤‡çš„æ¸¸æˆã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/1111223.gif" width="70%"/ loading="lazy"><br><h4 id="é¢å¤–ç›¸é‡"><a href="#é¢å¤–ç›¸é‡" class="headerlink" title="é¢å¤–ç›¸é‡"></a>é¢å¤–ç›¸é‡</h4><p>æœŸé—´å·²é‡åˆ° List ï¼ˆè§è¯ï¼‰ï¼š</p><p>â€‹è‡ªæˆ‘ä¸Šç­èµ·ï¼Œæ°å¥½ç»å†ï¼ˆé‡åˆ°ï¼‰çš„å¦‚ä¸‹ï¼š</p><ul><li>å‚ä¸ Deepin V15 å¼€å‘ V20 ç‰ˆæœ¬ï¼ŒUI ç­‰æ ·å¼å…¨æ–°å¤§æ”¹ç‰ˆ</li><li>æ›´æ¢ LOGO ä¸º UOSï¼ˆååŒæ—¶ä¿æŒ Deepin ï¼‰</li><li>æ¢å¤æ–­æ›´æ–°ä¹ä¸ªæœˆçš„å¼€æºä»£ç åœ¨ <a href="https://github.com/linuxdeepin">GitHub</a> ä¸Šï¼Œå¼€å¿ƒğŸ˜„</li><li>æ­¦æ±‰æ·±ä¹‹åº¦è¢«èèµ„ï¼Œæˆç«‹æ›´å¤§è§„æ¨¡çš„å…¬å¸ç»Ÿä¿¡è½¯ä»¶</li><li>èƒŒåçš„æŸè‚¡ç¥¨çŒ›æ¶¨äº† 10 å€ï¼ˆè™½ç„¶è‡³ä»Šéƒ½æ²¡ç©è¿™ä¸œè¥¿ï¼Œä»æˆ‘å…¥èŒé‚£å¤©å°±å¼€å§‹æ¶¨ï¼Œæ¶¨åˆ°äº†å¹´åº•ï¼‰</li><li>å…¬å¸æ¬è¿åˆ°æ›´å¤§çš„ä¸€ä¸ªåœ°æ–¹ï¼Œæ›´å¤šçš„æ¥¼å±‚</li><li>å…¬å¸äººæ•°ç”± 200 ä¸€å¹´å¤šæ¶¨åˆ° 2000+ äººè§„æ¨¡</li><li>ç„¶ååœ¨å…¨å›½å„åœ°å¼€è®¾ç½®å­å…¬å¸ï¼Œè§„æ¨¡æ€¥é€Ÿæ‰©å¼ </li></ul><br><h3 id="æ„Ÿè°¢"><a href="#æ„Ÿè°¢" class="headerlink" title="æ„Ÿè°¢"></a>æ„Ÿè°¢</h3><p>â€‹é‡åˆ°å¸¦æˆ‘çš„æ¶æ„è€å¤§ï¼ˆå¤§ä½¬ zzcrsï¼‰ï¼Œå­¦ä¹ äº†å¾ˆå¤šæŠ€èƒ½å’Œä¸ºäººå“è´¨ï¼Œå¾ˆæ˜¯æ„Ÿæ¿€ã€‚</p><p>â€‹é‡åˆ° Hualet ï¼Œå¾—è§åŸæ¥æ€»ç›‘å¤§ä½¬çš„æ¸©æ–‡å°”é›…å’Œå’Œå–„ï¼Œä¹Ÿæœ‰å¤šè¢«ç…§é¡¾ï¼Œå¾ˆæ˜¯æ„Ÿæ¿€ã€‚</p><p>â€‹    é‡åˆ°èˆ’è€å¸ˆï¼ŒåŸæ¥è®¾è®¡å¤§ä½¬å¯ä»¥è¿™ä¹ˆå¸…è¿˜æœ‰è‰ºæœ¯æ„Ÿï¼Œç”Ÿæ´»çš„ volg ç»™äººç¾æ„Ÿå’Œæ¸©æš–ï¼Œå¾ˆæ˜¯æ„Ÿæ¿€ã€‚</p><p>â€‹é‡åˆ°æ¯å¤©å¼€å¿ƒçš„ç«¹å­ ï¼Œä¸»åŠ¨äº¦çƒ­æƒ…ï¼ŒçŸ¥è¯†å¹¿åº¦ä¸°å¯Œå¸¦æˆ‘æ¥è§¦æ›´å¤šï¼Œå¾ˆæ˜¯æ„Ÿæ¿€ã€‚</p><p>â€‹é‡åˆ°äº§å“ï¼Œæ€§æ ¼å¯æ˜¯æˆ‘æ‰€ç¼ºå°‘çš„é‚£ä¸€é¢ï¼Œæ—¢å‘å¾€ï¼Œä¹Ÿèˆ’ç•…ï¼Œå¾ˆæ˜¯æ„Ÿæ¿€ã€‚</p><p>â€‹é‡åˆ°æ•™ä¼šæˆ‘ç”Ÿæ´»ï¼Œé‡åˆ°å¸¦æˆ‘ä»¬å»åƒçƒ¤è‚‰ï¼Œé‡åˆ°è®¤çœŸè´Ÿè´£ï¼Œé‡åˆ°é™ªæˆ‘èŠå¤©çŒæ°´ï¼Œåˆ†äº«ç”Ÿæ´»ç»å†å’Œäººæƒ…ï¼Œå¾ˆæ˜¯æ„Ÿæ¿€ã€‚</p><p>â€‹é‡åˆ°è¿˜æœ‰å¾ˆå¤šå¾ˆå¤šçš„å°ä¼™ä¼´å’Œå¤§ä½¬ä»¬ï¼Œè¿˜æœ‰å°å§å§ä»¬ï¼Œæ¯ä¸€ä¸ªéƒ½å¾ˆçè´µï¼Œå¾ˆçæƒœï¼Œåœ¨æ­¤ä¸€å¹¶æ„Ÿè°¢ã€‚</p><br><h3 id="ç¦»å¼€"><a href="#ç¦»å¼€" class="headerlink" title="ç¦»å¼€"></a>ç¦»å¼€</h3><p>â€‹2021.04 åˆé€’äº¤äº†ç¦»èŒæŠ¥å‘Šï¼Œç¦»å¼€ â€œç»Ÿä¿¡è½¯ä»¶ï¼ˆäº¦ Deepinï¼‰â€ï¼Œè™½æœ‰ä¸èˆäº¦ä¸åæ‚”ã€‚æ¥çš„åŒ†åŒ†ï¼Œèµ°çš„ä¹ŸåŒ†åŒ†ã€‚æ°›å›´å¾ˆå¥½çš„ä¸€å®¶å…¬å¸ï¼Œä¹Ÿå¯ä»¥å­¦ä¹ åˆ°å¾ˆå¤šçŸ¥è¯†ï¼Œæœ‰å¾ˆå¤šçš„ç©ºé—²æ—¶é—´å»æ€è€ƒä¸€äº›äººç”Ÿï¼Œæƒ³è¦å»æ¨è¿›çš„äº‹æƒ…ï¼Œå¤§ä½¬ä¹Ÿä¼šå¾ˆæ”¯æŒå’Œæä¾›èµ„æºï¼ŒåŒäº‹ä¹‹é—´çš„æ°›å›´ä¹Ÿå¾ˆæ£’ï¼Œè®¾è®¡çš„èˆ’è€å¸ˆåˆå¸…åˆå¥½è¯´è¯ã€è®¾è®¡çš„å¦¹å­äººç¾å£°ç”œï¼Œäº§å“çš„å¤§å§å§ä»¬ä¹Ÿå¥¶æ€ï¼Œç”šè‡³è¿˜å¯ä»¥å¸¦è–ªæ’©æ‹¨æµ‹è¯•çš„å°å¦¹å­ï¼Œå¤§ä½¬å¯¹äºå¼€æºç¤¾åŒºè¿™æ–¹é¢ä¹Ÿæ˜¯å¾ˆæ”¯æŒï¼Œäº¦æ˜¯å¾ˆé€‚åˆæ–°äººæ¨èçš„ï¼Œè™½ç¦»å¼€ï¼Œä½†ç»™äºˆæˆ‘ä¸€æ®µå¾ˆå¥½çš„å›å¿†ã€‚ ä¹Ÿæœ‰æƒ³å»å®Œæˆä¸€äº›å®ƒçš„äº‹æƒ…ï¼Œè®°å½•æ›¾ç»çš„æˆ‘çš„æ¡Œå­å¸ƒå±€ï¼Œç•™ä»¥çºªå¿µè¿™ä¸¤å¹´ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/IMG_2393%202.JPG" width="45%"/ loading="lazy">   <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/IMG_1447%202.JPG" width="45%"/ loading="lazy"></p><br><h3 id="æ–°ç›¸é‡"><a href="#æ–°ç›¸é‡" class="headerlink" title="æ–°ç›¸é‡"></a>æ–°ç›¸é‡</h3><p>â€‹ç¡è¿‡ä¸€è§‰ï¼Œåˆæ˜¯æ–°çš„ä¸€å¤©ï¼Œæ–°çš„ä¸€å¤©ä¹Ÿæ˜¯å…ƒæ°”æ»¡æ»¡çš„ä¸€å¤©ï¼Œè¿æ¥ä»Šæ—¥ä»½çš„æ–°å¼€å§‹ï¼Œè®¤è¯†æ–°çš„æœ‹å‹ï¼Œæ–°çš„ç»å†ï¼Œæ–°çš„æ‡µæ‡‚ä¸æ— çŸ¥ï¼Œæ–°çš„å…¬å¸ï¼Œæ–°çš„è¿›æ­¥ï¼Œæ–°çš„ç›¸é‡ã€‚é‚‚é€…ï¼Œ<strong>çœ‹åˆ°æœ¬æ–‡ä¹Ÿæ˜¯ç¼˜åˆ†ï¼Œè‹¥æ˜¯æƒ³æ¥æˆ‘å‘†è¿‡è¿™ä¸¤å®¶ä¹‹ä¸€ï¼Œå‡å¯å¸®å¿™å†…æ¨è¿™ä¸¤å®¶ã€‚</strong></p><p>â€‹        å†è§ï¼Œç»Ÿä¿¡ï¼ˆDeepinï¼‰ï¼Œæ„Ÿè°¢ç›¸é€¢ã€‚</p><p>â€‹ä½ å¥½ï¼Œé‡‘å±±ï¼Œæœ‰å¹¸èƒ½ä¸º WPS è´¡çŒ®ä»£ç ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/IMG_4404.JPG" width="40%"/ loading="lazy">]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´» - é—²æš‡çš„è¶£é—» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¹´åº¦æ€»ç»“ </tag>
            
            <tag> å¶ç„¶ä¹è¶£ </tag>
            
            <tag> Deepin </tag>
            
            <tag> WPS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸Šæµ·ä¹‹æ—…ï¼Œå†è®©é”®ç›˜é•¿å‡ å¤©è‰</title>
      <link href="/posts/31c5b72/"/>
      <url>/posts/31c5b72/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€å‡ºæ¸¸ï¼Œâœˆï¸âœˆï¸âœˆï¸ï¼Œä¸Šæµ·ã€è¿ªå£«å°¼ï¼ŒèŠœæ¹–~~</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210526224520.png" width="80%"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¢ç¢å¿µ"><a href="#ç¢ç¢å¿µ" class="headerlink" title="ç¢ç¢å¿µ"></a>ç¢ç¢å¿µ</h3><p>â€‹ä¸Šæµ·ä½œä¸ºå¤§åŸå¸‚ï¼Œå¿ƒæ…•å·²ä¹…ã€‚å‰å¾€ï¼Œæ¬£æ¬£ç„¶ï¼Œé¡ºé“å‰å¾€è¿ªå£«å°¼ï¼Œè§è¯†ä¸€ç•ªã€‚</p><br><h3 id="æ¸¸ç©"><a href="#æ¸¸ç©" class="headerlink" title="æ¸¸ç©"></a>æ¸¸ç©</h3><h4 id="ä¸Šæµ·è¿ªå£«å°¼"><a href="#ä¸Šæµ·è¿ªå£«å°¼" class="headerlink" title="ä¸Šæµ·è¿ªå£«å°¼"></a>ä¸Šæµ·è¿ªå£«å°¼</h4><p>â€‹âœˆï¸âœˆï¸âœˆï¸ï¼ŒèŠœæ¹–~ï¼Œçœ‹çœ‹çª—å¤–çš„â˜ï¸ï¼Œåˆ°è¾¾ï¼Œä¹˜è½¦è½¦ï¼Œåˆ°è¾¾ä¸Šæµ·è¿ªå£«å°¼ã€‚ä¸¢ä¹¦åŒ…ä¸é…’åº—ï¼Œå†ä¹˜åä¸“çº¿è½¦é€åˆ°é—¨å£ã€‚</p><p>â€‹æ­¥å…¥å¤§é—¨ï¼Œå°±æ˜¯ä¸€ä¾§å°±æ˜¯å·¨å¤§å”è€é¸­åœ¨æ°´é‡Œé¢æ¸¸ç€ï¼Œä¸‹æ„è¯†çš„å°±æ˜¯è¿™ä¸ª <strong>å†²é¸­</strong>ã€‚å…¥å›­ï¼Œåˆæ˜¯ä¸€é“å¤§é—¨ï¼Œè¿˜éœ€è¡Œæå®‰æ£€ï¼Œå†å¾€å‰è¡Œï¼Œæ•°åæ­¥ï¼Œåˆæ˜¯å°±æ˜¯ä¸‹å›¾çš„æœ€åä¸€é“é—¨ï¼Œå¯ä»¥çœ‹åˆ°ç±³å¥‡çš„æ ‡å¿— LOGOï¼›ä»¥åŠç¡®è®¤æ˜¯çœŸçš„åˆ°äº†è¿ªå£«å°¼ï¼Œå¾€å‰ä¸€æ­¥ï¼Œå°±æ˜¯å¥³ç”Ÿä»¬å¿ƒå¿ƒå¿µå¿µçš„ä¹‹åœ°ï¼ˆå“ªä¸ªå°‘å¥³ä¸æ€€ <del>ç€å¿ƒæ€æƒ³å»ä¸€æ¬¡ï¼Ÿ</del>ï¼‰ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210526223852.png" width="60%"/ loading="lazy"><br><p>â€‹<font color=#FE7207  size=4 face="å¹¼åœ†"><strong>è¿ªå£«å°¼çš„åŸå ¡é‡Œé¢åˆæ˜¯é•¿ä»€ä¹ˆæ ·å­å‘¢ï¼Ÿ</strong></font> ä¹Ÿæ˜¯è‡ªå·±å¥½å¥‡äº†å¾ˆä¹…çš„ä¸€ä¸ªé—®é¢˜ğŸ˜„</p><p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210526235015.png" width="47%"/ loading="lazy">  <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/IMG_3714.JPG" width="47%"/ loading="lazy"></p><br><p>â€‹<font color=#FE7207 size=4 face="å¹¼åœ†"><strong>æƒ³åˆ°å¯èƒ½ä»Šæ—¥ï¼ˆ2021.05.20ï¼‰å¯èƒ½ç›¸é‡ä½†å´ä¸ç›¸è¯†ï¼Ÿ</strong></font> </p><p>â€‹æœ¬æ¬¡å‡ºæ¥ç©ï¼Œæ˜¯æ²¡çœ‹æ—¥æœŸçš„ï¼Œæ¥äº†æ‰çªç„¶å‘ç°ï¼Œé‡ä¸Šäº†ä¸€ä¸ªå¥½æ—¥å­ <code>5.20</code>ï¼›é—²é€›ç€ï¼Œå‘ç°ç»™é€äº†ä¸€æ¡æ¶ˆæ¯ï¼Œæ˜“çƒŠåƒçºä¹Ÿæ¥äº†ï¼Œè¿˜è”åè¿™ä¸ªäº”å‘¨å¹´çš„è¿ªå£«å°¼ç±³å¥‡ï¼Œä»¥åŠåˆšåäº†çš„è¿™ä¸ªæ—‹è½¬æœ¨é©¬ğŸ ğŸ ğŸ ï¼›æ˜¯ä¸æ˜¯æœ‰æ“¦è‚©è€Œè¿‡è¿‡</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/IMG_4461.JPG" width="50%"/ loading="lazy"><br><p>â€‹è¿ªå£«å°¼çš„ä¸¤å¤§æ´»åŠ¨ã€ä»¥åŠè‡ªå®šæ´»åŠ¨å„ç§æ™¯ç‚¹ï¼Œéƒ½éœ€è¦è‡ªè¡Œå»æŒ–æ˜å‘ç°ï¼Œå»è§‚çœ‹ï¼Œä»¥åŠå»æ’é˜Ÿ</p><p>â€‹1ï¸âƒ£ èŠ±è½¦æ¸¸è¡Œï¼Œå¯å„ç§å¡é€šåŠ¨æ¼«äººç‰©ä¸€èµ·ï¼›çœ‹åˆ°æ­¤èˆè¹ˆï¼ŒğŸ‘¸ğŸ»å…¬ä¸»æŠ±ï¼Œå°±æ˜¯èŠ±è½¦é˜Ÿä¼çš„å¼€å§‹äº†ï¼Œè¿˜æœ‰å¹¸è¿è§‚ä¼—åè½¦é¢†é˜Ÿå“¦~</p><p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210526231705.png" width="43%"/ loading="lazy"><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/IMG_4463.GIF" width="57%"/ loading="lazy"> </p><p>â€‹2ï¸âƒ£ æ™¯åŒºè‡ªè¡Œæ¸¸ç©ï¼Œæ€ä¹ˆèƒ½å¤Ÿä¸æ‰“å¡å„å¤„ï¼Œä½“éªŒä¸€ä¸‹å„ä¸ªä¹‹é—´é£æ ¼å‘¢ï¼Ÿåˆä»¥åŠæ€ä¹ˆèƒ½å¤Ÿä¸ç•™å‡ å¼ å›¾ç‰‡å‘¢ï¼Ÿä¸ºäº†è¿™äº›å°å¯çˆ±ä»¬ï¼›å¯¹äº†ï¼Œæ¨èâ€œåŠ å‹’æ¯”æµ·ç›—â€ å’Œ â€œé£è¶Šåœ°å¹³çº¿â€ è¿™ä¸¤é¡¹ç›®ï¼Œå¾ˆæ˜¯éœ‡æ’¼ã€‚çœ‹äº†éƒ½æƒ³äºŒåˆ·ï¼Œä¸è¿‡è¿˜æ˜¯è¦æ’é˜Ÿï¼Œå“ªæ€•æ˜¯å¿«é€Ÿé€šé“ä¸€æ ·</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/IMG_4432.JPG" width="60%"/ loading="lazy"><p>â€‹3ï¸âƒ£ å¤œé—´å¤§å‹çƒŸèŠ±è¡¨æ¼”ç§€ï¼›çƒŸèŠ±å¤©ç©ºçš„ç»½æ”¾è®©äººå¿ƒé†‰ï¼Œä½†å´åªæ˜¯ä¸€ç¬ï¼Œä½†æŸå¹³æ´‹ä¿é™©å´èƒ½èµåŠ©å¥½ä¹…ï¼Œä¸€ç›´æ”¾å¥½ä¹…çš„çƒŸç«ï¼›</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210526230255.png" width="80%"/ loading="lazy"><br><h4 id="ä¸Šæµ·åŸå¸‚"><a href="#ä¸Šæµ·åŸå¸‚" class="headerlink" title="ä¸Šæµ·åŸå¸‚"></a>ä¸Šæµ·åŸå¸‚</h4><p>âœ…  è¿ªå£«å°¼</p><p>âœ…  è±«å›­</p><p>âœ…  å¤–æ»©</p><p>âœ…  å—äº¬è·¯æ­¥è¡Œè¡—</p><p>âœ…  ä¸Šæµ·è‡ªç„¶åšç‰©é¦†</p><p>âœ…  æ€å—å…¬é¦†</p><p>âœ…  åŸéšå–µï¼ˆåˆ’ï¼Œåº™ï¼‰</p><p>âœ…  å¯ç“¶å™¨ï¼ˆç¯çƒé‡‘èï¼‰</p><p>âœ…  ,,,</p><p>å»äº†åŸéšåº™ï¼Œå‘ç°æœˆè€å’Œè´¢ç¥çˆ·æ˜¯éš”å£å®¶çš„å…³ç³»ï¼Œä¸€ç‚·é¦™ï¼Œè®¸ä¸¤ä¸ªæ„¿æœ›ï¼Œè¿˜è¡Œï¼Ÿåˆæˆä¸€ä¸ªå®ç°ä¹Ÿè¡Œï¼šé¥¿ï¼Œé¥­é¥­ï¼Œå°å¯Œå©†</p><blockquote><p>ä¸Šé¦™ï¼š å§»ç¼˜ + è´¢ç¥  &#x3D; æˆ‘çš„ä¸€ä¸ªæ„¿æœ›</p></blockquote><p>è‡³äºå¤–æ»©ï¼Œä¸€ä¾§æ˜¯é’Ÿæ¥¼ï¼ˆæŸé“¶è¡Œï¼‰ï¼Ÿå¦ä¸€ä¾§åˆ™æ˜¯æ±Ÿå²¸è¾¹ï¼Œæ€»æœ‰ç€å¾ˆå¤šçš„äººï¼Œé™¤äº†å®¹æ˜“çœ‹åˆ°å¤–å›½æ–°å¨˜ğŸ‘°ğŸ»ï¼Œè¿˜å¯ä»¥æ¥å­¦è‹±è¯­ï¼ŒçœŸçœŸçš„å‹äººå®æ™¯æ•™å­¦ï¼›ç™»é«˜æ¥¼ï¼Œä¿¯è§†æ•´ä¸ªé™†å®¶å˜´ä»¥åŠé»„æµ¦æ±Ÿï¼Œä¸Šæµ·å¤œæ™¯å°½æ”¶çœ¼åº•ï¼Œç¯ç«ç»šä¸½ï¼Œå‘å¾€ï¼›</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/IMG_4430.JPG" width="80%"/ loading="lazy"><br><h3 id="åƒé¥­"><a href="#åƒé¥­" class="headerlink" title="åƒé¥­"></a>åƒé¥­</h3><p>â€‹æ¥ä¸€åœ°æ–¹ï¼Œè‡ªç„¶éœ€è¦å“ä¸€æ–¹ç¾é£Ÿï¼Œä¸Šæµ·ä½œä¸ºå¤§åŸå¸‚ï¼Œæœ‰ä¸ªç†Ÿæ‚‰çš„åœ°é“çš„ä¸Šæµ·äººå¸¦æˆ‘å»å°å°æœ¬åœ°èœï¼Œå˜¿å˜¿~ã€‚å»äº†å¤§èŒ¶å£¶çš„é‚£ä¸ªæœ€è€çš„åº—é“ºï¼Œç‰¹è‰²ç”Ÿç…ï¼Œå„ç§å£å‘³ä»…æ­¤åº—æ‰æœ‰ï¼Œå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆğŸ˜~~~ï¼Œè¿™å°±ç‚’é¸¡å¼€å¿ƒäº†ï¼›ç„¶åè¿˜æœ‰ç€é€¸æ¡‚ç¦¾çš„é˜³æ˜¥é¢ï¼Œæ¸…æ·¡ï¼Œæ±¤ä¹Ÿå¥½å–ã€‚æƒ³åƒè¿™ç§é¢å¾ˆä¹…äº†ï¼Œä»Šæ—¥å¾—ä»¥ä¸€è§ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/IMG_4431.JPG" width="60%"/ loading="lazy"><p>â€‹å†ç„¶åå…¶ä¹Ÿå°äº†å°å…¶å®ƒåœ°æ–¹çš„ç¾é£Ÿï¼Œå’‹æ„Ÿè§‰åƒæ˜¯ï¼Œæ„Ÿè§‰ä¸Šæµ·æ—©é¤ä»¥è¿™ç§ç”Ÿç…ã€ç”œå“ä¹‹ç±»çš„ä¸ºå¤šï¼Œèœç³»ä¹Ÿå¤šä¸ºåç”œã€‚å½“ç„¶äº†ï¼Œä½œä¸ºåˆæ¥ä¹åˆ°çš„å¼‚åœ°äººï¼ŒåŸºæœ¬å…¨éƒ¨å¸¦æœ‰åç”œçš„ï¼Œç•¥æœ‰åƒä¸ä¹ æƒ¯ã€‚æ™šä¸Šé™„è¿‘ä¸€ä¸ªäººæ‰¾äº†å®¶åœ°é“çš„å·èœé¦†ï¼Œé˜¿è¥¿ï¼Œé˜¿è¥¿ï¼Œé˜¿è¥¿ï¼Œå½“ç„¶è¿˜æ˜¯æ— è¾£ä¸æ¬¢ğŸŒ¶ğŸŒ¶ğŸŒ¶ï¼›ç‰¹æ„ç‚¹çš„ä¸­è¾£ã€ä¸­éº»ï¼›å¤¹äº†ç¬¬ä¸€ç­·å­ğŸ¥¢ï¼Œæ”¾ä¸‹äº†ï¼Œç„¶åå–äº†ä¸€å£æ°´ã€‚å¿ƒæƒ…å¤æ‚ï¼Œå¿ƒæƒ…å¤æ‚ï¼Œå¿ƒæƒ…å¤æ‚ï¼ŒçœŸçš„æ˜¯å¿ƒæƒ…å¤æ‚ï¼›</p><p>â€‹è¿™æ˜¯åƒé¥­åƒäº†å¾ˆä¹…çš„ä¸€æ¬¡ï¼Œä¸€ç­·å­ä¸€ç­·å­çš„æ¼«ä¸ç»å¿ƒã€‚å‰å¤©é—®äº†é—®æ’©æ‹¨äº†å‰å°çš„ä¸¤ä¸ªå°å§å§ã€‚</p><p>ä½ æ˜¯æœ¬åœ°ä¸Šæµ·äººå˜›ï¼Ÿ</p><p>å—¯å—¯ï¼Œæ˜¯å“’ã€‚</p><p>ä½ è§‰å¾—ä½ ä»¬è¿™ä»¬å·èœå¤Ÿè¾£ä¸ï¼Ÿ</p><p>ä¸è¾£ã€‚</p><p>ã€‚ã€‚ã€‚ã€‚  </p><p>æˆ‘ä¸ä»…è§‰å¾—ä¸è¾£ï¼Œä¸éº»ï¼Œç”šæ˜¯è¿˜æœ‰ç‚¹ç”œã€‚</p><p>éšåä»™å¥³æ©é¢ä¸€ç¬‘ï¼ŒåŠ¨äººå¿ƒç¥ã€‚æ‹åŒ…ï¼Œä¸‹ç­</p><br><h3 id="ä½å®¿"><a href="#ä½å®¿" class="headerlink" title="ä½å®¿"></a>ä½å®¿</h3><p>â€‹â€œä¸Šæµ·è¿ªå£«å°¼é…’åº—â€ ä¸ â€œç©å…·æ€»åŠ¨å‘˜é…’åº—â€ æ˜¯æœ€é è¿‘ä¸Šæµ·è¿ªå£«å°¼çš„ä¸¤ä¸ªé…’åº—ï¼Œéƒ½å……æ»¡ç€å¯çˆ±çš„åŠ¨æ¼«äººç‰©ğŸ˜Šï¼›å…¥ä½åçš„é…’åº—å¹¶éæƒ³è±¡ä¸­çš„å¥¢åï¼Œä½†ç»†èŠ‚å´ç”šæ˜¯å¹²å‡€ï¼Œå·²æœ‰ä¸“é—¨çš„å°è½¦è½¦æ¥æ¥é€å»è¿ªå£«å°¼çš„ä¾§é—¨ï¼Œä¸ç”¨å»åƒç¬¬ä¸€å¤©é‚£æ ·å»æ­£é—¨æ’é˜Ÿå…¥å›­ã€‚</p><p>â€‹åå‡ æ—¥ï¼Œæ¢äº†ä½å®¿ä¹‹åœ°ï¼Œä¸´æ±Ÿè€Œæœ›ï¼Œä¸œæ–¹æ˜ç å’Œç¯çƒé‡‘èä¸­å¿ƒå³åœ¨çœ¼å‰ï¼Œç•¥æ„å¤–çš„æ˜¯ï¼Œæ„Ÿè§‰é‚£å¡”æ²¡æœ‰å¼€ç¯ï¼Œæˆ–è®¸æ˜¯å¤ªæ—©äº†ï¼Œè¿˜æ²¡åˆ°ç‚¹ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/IMG_4426.JPG" width="50%"/ loading="lazy"><h3 id="å†é‡"><a href="#å†é‡" class="headerlink" title="å†é‡"></a>å†é‡</h3><p>â€‹ğŸ›«ğŸ›«ğŸ›«ï¼Œå›å®¶ï¼Œæ­¤ç•ªç©çš„å°½å¿ƒï¼Œå“å°äº†ä¸€ç•ªç”œç³»çš„ä¸Šæµ·èœï¼›å›å®¶ï¼Œç»§ç»­åƒåƒä¹ æƒ¯çš„èœå“ï¼Œæ— è¾£ä¸æ¬¢ï¼Œè§£è§£é¦‹</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/IMG_4453.GIF" width="80%"/ loading="lazy"><p><strong>åè®°ï¼š</strong>  åƒä¸‡ä¸è¦åƒæˆ‘ä¸€æ ·ä¸€ä¸ªäººå•ç‹¬å»è¿ªå£«å°¼ï¼Œè¿˜å·§åˆæ˜¯ 5.20 è¿™ä¸€å¤©ï¼Œè¿˜å·§åˆæ˜¯æ˜“çƒŠåƒçºä¹Ÿå»çš„ä¸€å¤©ã€‚ä¸ç„¶ä½ ä¼šçŸ¥é“é‚£äº›æƒ…ä¾£è¯·ä½ å¸®å¥¹ä»¬æ‹ç…§çš„æ—¶å€™ï¼Œå½“çœ‹åˆ°ä½ æ˜¯ä¸€ä¸ªäººç‹¬è¡Œçš„æ—¶å€™ï¼Œå°±å¾ˆ ğŸ¶ğŸ¶ğŸ¶ï¼›åè¿˜é‡åˆ°äº†å•äººé€šé“ï¼Œå¯æƒœé‚£å¤©ä¹Ÿè¢«å…³é—­äº†ï¼Œå‘œå‘œå‘œå‘œ~~~ï¼›ä¸åƒæˆ‘ï¼Œåªèƒ½æƒ³ï¼Œæœ‰ä¸ªå¦¹å¦¹è¯´ï¼Œä¸åƒæˆ‘ï¼Œåªä¼šå¿ƒç–¼ä¸€ä¸‹å“¥å“¥ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´» - é—²æš‡çš„è¶£é—» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ—…æ¸¸ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VS2019è°ƒè¯•Qt5æ—¶QStringæ˜¾ç¤ºä¸ºå†…å­˜åœ°å€è€Œéå­—ç¬¦ä¸²</title>
      <link href="/posts/f7939b53/"/>
      <url>/posts/f7939b53/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€<code>VS 2019</code> è°ƒè¯• <code>Qt5</code> æ—¶ QString  æ˜¾ç¤ºä¸ºå†…å­˜åœ°å€è€Œéå­—ç¬¦ä¸²å†…å®¹ã€‚ä¸æ‚¦ï¼Œè§£å†³ä¹‹ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>â€‹ç”¨çš„ Win10 20H2ï¼Œæœ¬æœºåªå®‰è£…äº† VS 2019ï¼Œæ²¡å®‰è£… Qt ç¨‹åºï¼Œä½¿ç”¨çš„æ˜¯ Qt æºç åˆ†æ”¯ç¼–è¯‘ï¼Œä»¥æ–‡ä»¶å¤¹è·¯å¾„ä¸­æ¥è°ƒç”¨å’Œä½¿ç”¨ã€‚ç»“æœå‘ç° VS 2019 è°ƒè¯• Qt5 æ—¶å€™ï¼Œå…¶ä¸­ QString ä»…æ˜¾ç¤ºå†…å­˜åœ°å€åœ°å€ï¼Œè€Œéå­—ç¬¦ä¸²å†…å®¹ã€‚</p><br><h3 id="è§£å†³ä¸€"><a href="#è§£å†³ä¸€" class="headerlink" title="è§£å†³ä¸€"></a>è§£å†³ä¸€</h3><p>â€‹ç‚¹å‡» <strong>â€œVS2019-æ‰©å±•-è”æœºâ€</strong> ï¼Œå®‰è£… <code>Qt Visual Studio Tools</code> ä¹‹åï¼Œé‡å¯ VS å³æ­£å¸¸æ˜¾ç¤ºä¸ºæ–‡æœ¬å†…å®¹ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210428202203.png" width="80%"/ loading="lazy"><br><h3 id="è§£å†³äºŒ"><a href="#è§£å†³äºŒ" class="headerlink" title="è§£å†³äºŒ"></a>è§£å†³äºŒ</h3><p>â€‹ä¸‹è½½ â€œ<a href="https://github.com/xmuli/QtExamples/blob/master/tools/qt5.natvis">qt5.natvis</a>â€œ æ–‡ä»¶åï¼Œæ‹·è´æ”¾åœ¨å¦‚ä¸‹ä»»æ„ä¸€ä¸ªè·¯å¾„å³å¯ã€‚  â€“&gt; äº¦æˆ–<a href="https://gitee.com/xmuli/QtExamples/blob/master/tools/qt5.natvis">é•œåƒ</a>ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">C:<span class="token punctuation">\</span>Program Files <span class="token punctuation">(</span>x86<span class="token punctuation">)</span><span class="token punctuation">\</span>Microsoft Visual Studio<span class="token punctuation">\</span><span class="token number">2019</span><span class="token punctuation">\</span>Professional<span class="token punctuation">\</span>Common7<span class="token punctuation">\</span>Packages<span class="token punctuation">\</span>Debugger<span class="token punctuation">\</span>VisualizersC:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>ifmet<span class="token punctuation">\</span>Documents<span class="token punctuation">\</span>Visual Studio <span class="token number">2019</span><span class="token punctuation">\</span>Visualizers  <span class="token comment"># è‹¥æ— åˆ™åˆ›å»º</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><br><h2 id="å§Šå¦¹ç¯‡"><a href="#å§Šå¦¹ç¯‡" class="headerlink" title="å§Šå¦¹ç¯‡"></a>å§Šå¦¹ç¯‡</h2><ul><li><a href="https://blog.csdn.net/qq_33154343/article/details/120339797">VS2017 è°ƒè¯• Qt æºç ï¼Œå®‰è£… PDB</a></li><li><a href="https://xmuli.blog.csdn.net/article/details/116244865">VS2019 è°ƒè¯• Qt5 æ—¶ QString æ˜¾ç¤ºä¸ºå†…å­˜åœ°å€è€Œéå­—ç¬¦ä¸²</a> </li><li><a href="https://blog.csdn.net/qq_33154343/article/details/131491715">VS2022 And QtCreator10è°ƒè¯•Qtæºç æ•™ç¨‹</a> ï¼ˆæ¨è 2023.07ï¼‰</li></ul><p>è‹¥æ˜¯ IDE è°ƒè¯•æ—¶å‘ç°æ²¡æœ‰ Qt çš„ç¬¦å·è°ƒè¯•åŒ…ï¼Œæ•™ç¨‹å¯å‚è€ƒå§Šå¦¹ç¯‡ä¸€ï¼›ä»¥åŠå­¦ä¼šå¦‚ä½•æŸ¥çœ‹ å¯¹åº”æ¨¡å—æ˜¯å¦åŠ è½½</p><br><h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><p><a href="https://github.com/XMuli/QtExamples">QtExamples</a> </p><p>æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”<strong>æ°¸ä¹…å…è´¹</strong>ï¼â€</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Windows </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Visual Studio </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Win10çš„20H2ä½¿ç”¨VS2019ï¼Œæ‹–æ›³çª—å£ä¼šå´©æºƒ</title>
      <link href="/posts/f6612e2a/"/>
      <url>/posts/f6612e2a/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€å‘ç° Win10 çš„ 20H2 çš„ä¸€ä¸ª BUGï¼Œä½¿ç”¨ VS 2013ã€2015ã€2017 ã€2019 çš„çª—å£æ‹–æ›³æ‹†åˆ†ã€åˆå¹¶éƒ½ä¼šå´©æºƒã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç°è±¡"><a href="#ç°è±¡" class="headerlink" title="ç°è±¡"></a>ç°è±¡</h3><p>é‡è£…ç³»ç»Ÿ win10ï¼Œä½¿ç”¨æœ€æ–° 20H2 + VS 2019ï¼Œç»“æœå‘ç°æ‹–æ›³ VS çª—å£è¿›è¡Œåˆå¹¶æˆ–æ‹†åˆ†æ—¶å€™ï¼Œæ”¾å®Œæˆæ¾æ‰‹å®Œæˆæ—¶å€™ï¼Œ VS éƒ½ä¼šå´©æºƒé‡å¯ï¼Œç”šæ˜¯ä¸çˆ½ã€‚è¯¦ç»†ç‰ˆæœ¬å¦‚ä¸‹ï¼š</p><blockquote><p>&#x2F;&#x2F; Win10 ç‰ˆæœ¬</p><p>ç‰ˆæœ¬Windows 10 ä¸“ä¸šç‰ˆç‰ˆæœ¬å·20H2<br>å®‰è£…æ—¥æœŸâ€2021&#x2F;â€4&#x2F;â€16æ“ä½œç³»ç»Ÿå†…éƒ¨ç‰ˆæœ¬19042.804<br>ä½“éªŒWindows Feature Experience Pack 120.2212.551.0</p><p>&#x2F;&#x2F; VS ç‰ˆæœ¬</p><p>Visual Studio Professional 2019  ç‰ˆæœ¬ 16.4.12</p></blockquote><br><h3 id="ç—›ç‚¹"><a href="#ç—›ç‚¹" class="headerlink" title="ç—›ç‚¹"></a>ç—›ç‚¹</h3><p><strong>æˆ‘çš„ç”µè„‘ Win10 æ— æ³•æ›´æ–°ç³»ç»Ÿï¼ŒVS 2019 è™½ç„¶å¯è”ç½‘æ›´æ–°ï¼Œä½†æ˜¯å‡çº§ä¹‹åï¼Œå¯èƒ½é¡¹ç›®ä¼šç¼–è¯‘ä¸è¿‡ï¼ˆè¿›é€€ä¸¤éš¾ï¼‰ã€‚</strong></p><blockquote><p>æ— æ³•è¿æ¥åˆ°æ›´æ–°æœåŠ¡ã€‚æˆ‘ä»¬å°†ç¨åå†è¯•ï¼Œä½ ä¹Ÿå¯ä»¥ç«‹å³è¿›è¡Œæ£€æŸ¥ã€‚å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œè¯·ç¡®ä¿ä½ å·²è¿æ¥åˆ° Internetã€‚</p></blockquote><p>â€‹å¾ˆè›‹ç–¼çš„ä¸€ç‚¹æ˜¯ï¼ŒæŸç§åŸå› ï¼Œç½‘ç®¡æŠŠæ‰€æœ‰ç”µè„‘æŠŠ win10 è‡ªåŠ¨æ›´æ–°çš„åŸŸåæ–­äº†ï¼ˆä¸€å¼€å§‹è¿˜ä»¥ä¸ºæ˜¯æ­¤ç‰ˆæœ¬çš„ BUGï¼Œå°è¯•å¤šç§æ–¹æ¡ˆå‡é“¾æ¥ç½‘ç»œå¤±è´¥ï¼‰ã€‚åçµå…‰ä¸€é—ªï¼ŒçŒœæ˜¯ç½‘ç®¡æäº†ã€‚æ°”æ­»äº†ï¼Œæ°”æ­»äº†ï¼Œæ°”æ­»äº†ï¼Œä¸è¿‡ç”µè„‘ä¸æ›´æ–°äº†ï¼Œå¥½åƒä¹ŸæŒºçˆ½ã€‚</p><br><h3 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h3><h4 id="å°†å°±è§£å†³æ–¹æ¡ˆ"><a href="#å°†å°±è§£å†³æ–¹æ¡ˆ" class="headerlink" title="å°†å°±è§£å†³æ–¹æ¡ˆ"></a>å°†å°±è§£å†³æ–¹æ¡ˆ</h4><p>åˆä¸æ˜¯ä¸èƒ½ç”¨ï¼Œä¸æ‹–æ›³çª—å£å°±è¡Œï¼Œä¸ä¼šå¼„é‚£å°±è¿™æ ·å°†å°±ç”¨</p><br><h4 id="ä¸´æ—¶è§£å†³æ–¹æ¡ˆ"><a href="#ä¸´æ—¶è§£å†³æ–¹æ¡ˆ" class="headerlink" title="ä¸´æ—¶è§£å†³æ–¹æ¡ˆ"></a>ä¸´æ—¶è§£å†³æ–¹æ¡ˆ</h4><p>è™½ç„¶æ‹–æ›³çª—å£ä¼šå´©æºƒï¼Œä½†å¯ä»¥é¼ æ ‡å³é”® â€œæ–°å»ºå‚ç›´æ–‡æ¡£ç»„â€ã€‚ä¹Ÿè¾¾åˆ°ç›®çš„ï¼Œä¸è¿‡ä¸å¤Ÿä¼˜é›…</p><br><h4 id="ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆ"><a href="#ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆ" class="headerlink" title="ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆ"></a>ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆ</h4><p>ç¼–è¾‘ <code>%InstallRoot%\Common7\IDE\devenv.exe.config</code>  å’Œ <code>%LocalAppData%\Microsoft\VisualStudio\16.0_xxx\devenv.exe.config</code> ï¼Œå¹¶åœ¨AppContextSwitchOverrides å…ƒç´ çš„ value å±æ€§çš„ç»“å°¾ä¸Šæ·»åŠ ä»¥ä¸‹ä»£ç ã€‚ï¼ˆæ‰¾ä¸åˆ°å°±ç”¨ Everything æœç´¢ï¼Œä¿®æ”¹hiå‰è®°å¾—å…ˆå¤‡ä»½åŸæ–‡ä»¶ï¼‰ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">;</span><span class="token assign-left variable">Switch.System.Windows.Interop.MouseInput.OptOutOfMoveToChromedWindowFix</span><span class="token operator">=</span>true<span class="token punctuation">;</span><span class="token assign-left variable">Switch.System.Windows.Interop.MouseInput.DoNotOptOutOfMoveToChromedWindowFix</span><span class="token operator">=</span>true<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é‡å¯ VS 2019ï¼Œæ‹–æ›³çª—å£åˆå¹¶æ‹†åˆ†ï¼Œå®Œç¾ä¸”ä¸ä¼šå´©æºƒã€‚ </p><br><h4 id="å…¶ä»–è§£å†³æ–¹æ¡ˆ"><a href="#å…¶ä»–è§£å†³æ–¹æ¡ˆ" class="headerlink" title="å…¶ä»–è§£å†³æ–¹æ¡ˆ"></a>å…¶ä»–è§£å†³æ–¹æ¡ˆ</h4><ul><li>å¯¹äº VS 2013ã€2015ï¼Œåªéœ€è¦å‡çº§ win10 è¡¥ä¸å³å¯ï¼Œé‡å¯æ­£å¸¸ã€‚</li><li>å¯¹äº 2019 ã€åªéœ€å‡çº§ VS åˆ°æœ€æ–°ç‰ˆæœ¬å³å¯ï¼ˆ<a href="https://developercommunity2.visualstudio.com/t/Unexpected-VS-crash-when-docking-or-spli/1323017">Microsoft  å·²ä¿®å¤</a>ï¼‰ã€‚</li><li>å¯¹äº VS 2017ï¼Œå¯ä»¥è¯•è¯•å…ˆå‡çº§ç³»ç»Ÿï¼Œåå‡çº§ VS ã€‚</li></ul><br><h2 id="ç³»åˆ—"><a href="#ç³»åˆ—" class="headerlink" title="ç³»åˆ—"></a>ç³»åˆ—</h2><p><a href="https://github.com/XMuli/QtExamples">QtExamples</a> </p><p>æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”<strong>æ°¸ä¹…å…è´¹</strong>ï¼â€</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Visual Studio </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸‰äºšä¹‹æ—…ï¼Œè®©é”®ç›˜å…ˆé•¿å‡ å¤©è‰</title>
      <link href="/posts/3b6c071c/"/>
      <url>/posts/3b6c071c/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€å¿½ç¿»å‡ºäº†å»ä¸‰äºšä¹‹æ—…çš„ç…§ç‰‡ï¼Œä¸€æ¬¡ç¾å¥½çš„çœ‹æµ·,ç©æ°´ä¹‹æ—…è¡Œã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/IMG_8189.JPG" width="100%"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¢ç¢å¿µ"><a href="#ç¢ç¢å¿µ" class="headerlink" title="ç¢ç¢å¿µ"></a>ç¢ç¢å¿µ</h3><p>â€‹        åœ¨ä¸€ä¸ªåœ°æ–¹å‘†ä¹…äº†ï¼Œæ€»ä¼šå¹»æƒ³ç€æœ‰ä¸€æ—¥å»å¦ä¸€ä¸ªå±±æ¸…æ°´ç§€ä¹‹åœ°ï¼Œç•…æ¸¸ä¸€ç•ªï¼Œçœ‹å¦ä¸€æ–¹å±±æ°´ã€ä¸€æ–¹äººæƒ…ã€‚è¿Ÿè¿Ÿæœªå»çš„ç†ç”±ä¹Ÿè®¸å¤§æ¦‚æ˜¯ <strong>â€œæˆ‘ä¹Ÿæ›¾æƒ³ä»—å‰‘èµ°å¤©æ¶¯ï¼Œå¥ˆä½• BUG å¤ªå¤šè€Œæ²¡å»â€</strong> ã€‚æ­¤æ¬¡æœ‰äº†æœºä¼šå’Œæ—¶é—´ï¼Œå¾—ä»¥å‡ºå‘ï¼Œå¢åŠ ä¸€ç‚¹è§è¯†ã€çœ‹çœ‹å±±æ°´ã€äº«å—ä¸€ä¸‹é˜³å…‰ã€æ²™æ»©ã€å¤§æµ·ã€ä»¥åŠâ€¦ğŸ‘«ğŸ»</p><br><h3 id="æ¸¸ç©"><a href="#æ¸¸ç©" class="headerlink" title="æ¸¸ç©"></a>æ¸¸ç©</h3><p>â€‹        è¿˜æ²¡æ¥ä¸€ä¸ªåœ°æ–¹ä¹‹å‰ï¼Œå°±å¯¹å¥¹æœ‰ç€è®¸äº›æœŸå¾…ã€ä¸€å¤´å°é¹¿å››å¤„è·³è·ƒåœ¨å¿ƒä¸­ã€‚å…ˆæƒ³ç€å»å“ªé‡Œç©ã€ç©äº›å•¥ã€ç„¶åä¹å‘µçš„ç¾æ»‹æ»‹éæƒ³ã€‚</p><p>â€‹å¯¹äºæ—…è¡Œï¼Œæˆ‘æ›´å€¾å‘äºæ²¡æœ‰è§„åˆ’ã€èµ°åˆ°å“ªé‡Œå°±ç©åˆ°é‚£å“ªé‡Œã€éšèµ°éšåœï¼Œè¿™æ‰æ˜¯æˆ‘æƒ³çš„ä¸€ç§æ—…è¡Œã€‚ä¹Ÿæ¯•ç«Ÿä¸€åœ°çš„æ‰“å¡æ™¯ç‚¹ä¹‹å¤šï¼Œç«Ÿå¯èƒ½çš„å…¨å»ï¼Œæ€»æœ‰è·¯ä¸ŠåŒ†å¿™ä¹‹æ„Ÿï¼Œä¸¢äº†æ—…æ¸¸çš„æ‚ ç„¶ä¸æƒ¬æ„ã€‚</p><p>â€‹åœ¨è·¯ä¸Šã€ä¹Ÿè®¤è¯†äº†ä¸€äº›æ–°æœ‹å‹ï¼ŒèŠå¾—æŠ•æœºï¼Œç›¸çº¦åŒè¡Œã€‚ä¸”å‘ç°æ˜¯ä¸€è€å¸æœºï¼ˆå­—é¢æ„ï¼‰ï¼Œåç§Ÿä¸€è½¦ï¼Œæƒ³å»å“ªé‡Œï¼Œæˆ‘ä»¬å°±å»å“ªé‡Œã€‚èŠœæ¹–~</p><p>â€‹åˆšåˆ°ï¼Œå°±åˆç¼å¥—è·¯æ·±ï¼›å…ˆå»ä¸€å®¶è·¯è¾¹å°åº—ä¹°äº†ä¸€ä»¶æ¤°æ ‘çš„æ¸¸æ³³è£¤è¡©ã€æ‹–é‹ç­‰ã€‚ååŠè·¯é‡å…¶å¥¹å•†å®¶ã€è¢«å‘ŠçŸ¥æˆäº†è‚¥ç¾Šäº†ã€‚ç•¥æœ‰å°æ°”ï¼Œæ°”ä¸è¿‡ï¼Œè¿”å›åº—å®¶ï¼Œæ€’æ°”å†²å†²ğŸ˜¤ğŸ˜¤ğŸ˜¤ï¼Œåé€€è¿˜å¤šä½™ç°é‡‘ï¼ˆå¤šèµšå¯å¿ï¼Œä½†å–æ•°å€ï¼Œå°±æ°”ä¸è¿‡äº†ï¼‰ã€‚ä¸è¿‡åé¢éƒ½åŸºæœ¬æ­£å¸¸ï¼Œç®—æ˜¯ä¸€ä¸ªå°æ’æ›²ã€‚</p><p>â€‹å½“ç„¶æ˜¯å…ˆå»æµ·è¾¹æ‹‰ï¼Œå…‰ç€å°è„šä¸«ï¼Œè¸©è¸©ğŸ‘£ğŸ‘£ğŸ‘£</p><br><p>â€‹è®°å¾—ï¼Œæœ‰å»æ½œæ°´ğŸ¤¿ã€å»æ‘¸æ‘¸æ°´åº•çš„ğŸŸï¼Œç»™å¥¹ä»¬å–‚ç€ä¸€äº›é±¼é¥²æ–™ï¼Œå¯èƒ½æ˜¯æ¥çœ‹å¥¹ä»¬çš„äººå¤šäº†ï¼Œä¹Ÿä¸è§æ€•äººã€ä½†ä¼¸æ‰‹å»æ‘¸ï¼Œä¾æ—§ä¼šå¿«é€Ÿçš„æ‘‡ç€å°¾éƒ¨éèµ°ï¼›æœ¬ä»¥ä¸ºå–‚é¥µçš„äººä¼šå¾ˆå¤šï¼Œä¸ä¼šæ€ä¹ˆåƒï¼Œå¯æ˜¯å®é™…å‘ç°è¿˜æ˜¯ä¾æ—§å¾ˆè´ªåƒï¼Œåƒçš„ä¸€ä¸ªå¿«é€Ÿå’Œæƒ¬æ„ï¼›æ°´åº•å®é™…ä¹Ÿæ˜¯å¾ˆæµ‘æµŠçš„ï¼Œä»…å‹‰å¼ºçœ‹æ¸…å‘¨å›´å‡ åè·ç¦»ï¼Œå‘¨å›´æ¼†é»‘ï¼Œå’ŒğŸ“ºçš„æ°´åº•ä¸–ç•Œæ‹ç…§ï¼Œç›¸å·®ç”šè¿œäº†ã€‚</p><p>â€‹åé¢è¿˜å»å®Œäº†ä¸€äº›åˆ’æ°´å†²æµªçš„é¡¹ç›®ï¼Œé˜¿è¥¿ï¼ŒçœŸçš„æ˜¯å¤©é»‘æ‰åœæ­¢ã€‚çœŸçš„æ˜¯æ‘©æ‰˜è‰‡å‰é¢è·‘ï¼Œæº…èµ·çš„æµªèŠ±æº…åœ¨è„¸ä¸Šï¼Œæ„Ÿè§‰çœŸçš„æ˜¯åˆç–¼åˆé—²åˆè´µåˆåˆºæ¿€åˆå¥½ç©ã€‚</p><p>â€‹è¸©ç€æµ·æ»©è¾¹çš„æŸ”è½¯ç»†æ²™ï¼Œå…‰ç€è„šï¼Œå¾ˆèˆ’æœï¼Œæ—è¾¹å°±æ˜¯æ‰“ç€æ²™æ»©æ’çƒçš„ä¿Šç”·é“å¥³ã€‚å½“ç„¶å¶å°”ä¹Ÿä¼šé‡åˆ°æœ‰äººè¶ä½ ä¸æ³¨æ„ï¼Œå¡å¼ å°å¡ç‰‡åˆ°ä½ æ‰‹é‡Œã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210423223703.png" width="100%"/ loading="lazy"><br><p>â€‹æœ€åè¿˜å»äº†ä¸‰äºšè´­ç‰©ï¼Œå…ˆå»çš„ Apple åº—é“ºçœ‹çš„ï¼Œä¸è¿‡æ¯”è¾ƒå°ï¼Œé‚£ä¼š ğŸ 12 åº—é“ºæ²¡æœ‰äº†ï¼Œç•¥æ‰«å…´ã€æœ¬æœ‰æ„æ¢ä¸ªæ‰‹æœºçš„ï¼Œé‚£å°±å†æ¥ç€ç”¨ä¸€å¹´ï¼Œåç­‰ IPhone 13 é¦™ <del>ï¼ˆç‹å®ˆä¹‰åä¸‰é¦™æå‰åŠ æŒï¼‰</del>ã€‚åè·¯è¿‡å–ğŸºçš„ï¼Œå¥½å¯æƒœï¼Œæ»´é…’ä¸æ²¾çš„æˆ‘ï¼Œåªæ˜¯çœ‹çœ‹ï¼Œæ²¡å•¥å…´è¶£ã€‚</p><p>â€‹æœ€åï¼Œä¸€ä¸ªç”·ç”Ÿå»é€›å½©å¦†åº—å’ŒæŠ¤è‚¤å“åº—ã€åˆèƒ½æœ‰ä»€ä¹ˆåå¿ƒæ€å‘¢ï¼Ÿåªä¸è¿‡æ˜¯å»ç»™æŸä¸ªğŸ’ƒé€ç‚¹å°ç¤¼ç‰©ç½¢äº†ã€‚å‡ºä¹æ„æ–™ä¹‹å¤–çš„æ˜¯ï¼Œæœ¬ä»¥ä¸ºè¿™é‡Œä¸ä¼šæœ‰ä»€ä¹ˆç”·ç”Ÿï¼Œç»“æœç”·ç”Ÿè‡³å°‘å äº†ä¸‰æˆğŸ¤¦â€â™‚ï¸ï¼Œçœ‹èµ·æ¥éƒ½æ˜¯ä¹°æŠ¤è‚¤é€è€å©†ã€‚èµ¶ç´§é—®äº†ä¸‹å¥½å‹é‡Œçš„å°å§å¦¹ä»¬ ï¼Œé€å°ç¤¼ç‰©åº”è¯¥é€å•¥ã€è®©ç»™å‡ºè°‹åˆ’ç­–ã€‚æ¯å®¶åº—é“ºé˜Ÿä¼éƒ½è¿˜æŒºé•¿çš„ã€‚åªè®°æœ€åæ‹ç€ä¸‰ä¸ªå¤§è¢‹å­ï¼Œæœ‰ä¸€ä¸ªè¿˜è¢‹å­å‹ç ´äº†ï¼›ä¹°å®Œæ‰çŸ¥é“ï¼Œè¿™äº›ä¸èƒ½èµ°æ‰˜è¿ï¼Œå¾—æç€ä¸Šé£æœºï¼Œæ—©çŸ¥é“å°±ï¼Œï¼Œæ°ªï¼Œæ°ªï¼Œæ°ªï¼Œæ°ªï¼Œæ°ªï¼Œï¼Œï¼Œä¸€ç›´åˆ°ç°åœ¨éƒ½è§‰ç€é‡Œé¢çš„å¥³ç”Ÿä¹°ä¸œè¥¿å¤ªå¤¸å¼ äº†ï¼Œç°åœ¨åªè®°å¾—ä¸€äº›ï¼šç¥ä»™æ°´ã€SK-IIã€é›…è¯—å—é»›ã€ä»€ä¹ˆç‚ã€éŸµã€å¨œã€å©·ã€ä»€ä¹ˆçº¢ï¼ˆçœŸçš„æ˜¯è®©äººä¸Šå¤´ï¼‰ã€‚å°è±¡æ·±åˆ»çš„å°±æ˜¯ï¼Œä¸­æ–‡åå’Œè‹±æ–‡åæˆ‘å¯¹ä¸ä¸Šã€æ‰¾ä¸ªåº—é“ºéƒ½æ‰¾äº†å¥½ä¹…ï¼Œå“­æ™•ã€‚</p><br><p>â€‹åä¹Ÿå»è®©è€å¸æœºå¼€è½¦è½¦ï¼Œå¸¦æˆ‘ä»¬å»å…œå…œé£ï¼Œè¿˜å¯ä»¥çœ‹åˆ°ä¸€äº›æ¼‚äº®å¤§å§å§ï¼Œåè§†é•œçš„å¢¨é•œæ‰å‘ç°ï¼Œè½¦è½¦å°±ä¸è®¤è¯†äº†ï¼Œé‚£ä¼šè¿˜æ²¡æ‹¿é©¾ç…§ä¹Ÿä¸è®¤è¯†ã€‚æœ‰æ„æ€æ¥äº†ï¼Œåæ¥å¦ä¸€ä¸ªè½¦çš„å°å§å§ä¹Ÿè¿‡æ¥äº†ï¼Œå¥½åƒè¿˜ç«é€Ÿäº†ä¸€æ®µè·ç¦»ã€‚ä¼˜ç‚¹æ„æ€ã€‚ï¼ˆè€å¸æœºä½ å¼€æ…¢ç‚¹ï¼‰</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/IMG_3564.JPG" width="100%"/ loading="lazy"><br><h3 id="åƒé¥­"><a href="#åƒé¥­" class="headerlink" title="åƒé¥­"></a>åƒé¥­</h3><p>â€‹ä½œä¸ºä¸€ä¸ªä¼šç»å¸¸åœ¨å››å¤„æ¢åº—çš„äººï¼Œå¯»æ‰¾å¥½åƒçš„ï¼Œæ€ä¹ˆä¼šæ”¾è¿‡æ­¤å¤„çš„ç¾å‘³å‘¢ï¼Ÿé¦–é€‰å°±æ˜¯æµ·é²œï¼Œå…¶æ¬¡å°±æ˜¯çƒ§çƒ¤ï¼Œå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆï¼Œè¿™ä¸œè¥¿ï¼ŒçœŸçš„æ˜¯å‡ºæ¥äº†ä¹Ÿè¿˜æƒ³åƒã€‚è·¯é€”ä¹Ÿé‡ä¸€ä¸ªå¤§é”…è¯´å¸¦æˆ‘å»åƒæµ·é²œï¼ŒçŸ¥é“äº†è¿˜æœ‰å¯ä»¥è‡ªè¡Œé€‰è´­æµ·é²œé£Ÿæï¼Œåº—å®¶æ¥çƒ§çƒ¤è¿™ç§æ–¹å¼ã€‚å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆğŸ˜„ğŸ˜„ï¼Œå¯¹äºè¿™ä¸ªï¼Œåšäº†åŠŸè¯¾çš„ï¼Œæ‰¾åˆ°ä¸€å®¶å«ä»€ä¹ˆå°èƒ¡å­çš„åº—é“ºï¼Œä¸¤å®¶åº—é¢ï¼Œåœ¨ä¸€æ¡è¡—ä¸Šé¢å¯¹é¢å¼€çš„ï¼Œå®é™…æ˜¯ä¸€å®¶ï¼Œå¾ˆå€¼å¾—ä¸€å»ï¼Œå°±æ˜¯å¾—å…ˆåœ¨è¿œå¤„åœè½¦å¥½ã€‚é‡Œé¢æµ·é²œéƒ½æ˜¯æ´»çš„ï¼Œéƒ½è®©é¡¾å®¢è‡ªè¡ŒæŒ‘é€‰ä¿è¯æ–°é²œï¼Œä¸€å®¶åº—é¢é€‰å¥½ä¹‹åï¼Œå»å¦ä¸€å®¶ç­‰å¾…åŠ å·¥ï¼Œåç­‰ä¸Šèœå³å¯ã€‚</p><p>â€‹è®°å¾—ç‚¹äº†çš®çš®è™¾ï¼Œå£æ„Ÿå’Œä¸€èˆ¬çš®çš®è™¾ä¸ä¸€èˆ¬ï¼Œå’¬ä¸‹å»çš„æ¯ä¸€å£éƒ½å¾ˆæ¸…è„†ã€å‘³é“ä¸­å¸¦ç‚¹ğŸŒ¶æ„Ÿï¼Œè¿˜æœ‰æµ·é²œçš„æ¹¿æ¶¦ã€é²œå‘³éƒ½å°çš„å‡ºæ¥ã€‚è¿˜æœ‰<strong>æ¸…è’¸çŸ³æ–‘é±¼</strong> ï¼Œè¿™ä¸ªçœŸçš„å¹çˆ†å®ƒï¼Œæ¸…æ·¡å¸¦ç€æ·±æµ·çš„æ„Ÿè§‰ï¼Œè‚‰è´¨çˆ½æ»‘ä¸”é²œç¾ï¼Œç”ŸåŠ¨å½¢è±¡çš„å½¢è±¡ï¼Œè¯ç©·ï¼Œè®©äººå›å‘³æ— ç©·ã€‚å…¨åœºæœ€ä½³ï¼Œè‡³ä»Šä¾ç¨€è®°å¾—å…¶å‘³é“ï¼ˆå¯æƒœå›¾ç‰‡æ²¡æ‰¾åˆ°äº†ï¼‰ï¼Œä¸åƒå°±é”™è¿‡äº†ä¸€ä¸ªè§¦åŠ¨çµé­‚çš„ç¾é£Ÿï¼Œå°±å¯æƒœäº†ã€‚ä¸”ã€‚ä¹Ÿæœ‰æ¤°å­é¥­ï¼Œå¯èƒ½æ˜¯é¥®é£Ÿä¹ æƒ¯çš„é—®é¢˜ï¼Œä¸ä½³ï¼›è¿˜æœ‰æµ·èƒ†è’¸é¸¡è›‹ï¼Œåƒçš„æ²¡æ‰¾åˆ°è‚‰ï¼Œé—®äº†ä¸‹è€æ¿ï¼Œè¯´æµ·èƒ†å°±æ˜¯å£³å­å†…å£è–„è–„çš„ä¸€å±‚è†œï¼Œæˆ‘æ€€ç–‘æˆ‘æ˜¯ç‚¹äº†ä¸€ä¸ªçº¯æ­£çš„é¸½å­æ±¤ï¼Œæµ·èƒ†æ˜¯å•¥å‘³é“å®Œå…¨æ²¡è¯•å‡ºæ¥ï¼Œæˆ‘éƒ½æ€€ç–‘æ˜¯æ²¡æœ‰åƒåˆ°ã€‚ã€‚ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/IMG_3552.JPG" width="100%"/ loading="lazy"><p>â€‹å†åæ¥å°±æ˜¯åƒäº†ä¸€äº›å…¶å®ƒçš„åº—é“ºï¼Œè®°å¾—ç‚¹äº†æ•°åä»½çƒ¤ç‰¡è›ï¼Œç¡®å®å‘³é“ä¹Ÿå¥½åƒï¼Œä¸è¿‡æ„Ÿè§‰æ€ä¹ˆä»·æ ¼å’Œæ­¦æ±‰å·®ä¸å¤šï¼Ÿï¼Ÿï¼Ÿç„¶åè¿˜è®°å¾—è¿˜å»äº†ä¸€å®¶ä¸œåŒ—èœé¦†ï¼Œæ¥äº†æœ‹å‹æ¨èçš„é”…åŒ…è‚‰ï¼Œåƒåƒå–å–ï¼Œé˜”ä¹ã€‚ç„¶åèµ°åœ¨è·¯è¾¹ä¼šä¹°ä¸€äº›æ¤°å­å–å–ï¼Œæ„Ÿè§‰æœ‰ç‚¹ç”œï¼Œéåœ°çš„ğŸŒ´ğŸŒ´ğŸŒ´ğŸŒ´ğŸŒ´ï¼Œåœ¨è·¯ä¸¤æ—éƒ½æ˜¯ï¼Œç„¶åæœ‰ä¸€ç§å†’é™©å²›çš„å›¾æ„Ÿã€‚</p><br><h3 id="ä½å®¿"><a href="#ä½å®¿" class="headerlink" title="ä½å®¿"></a>ä½å®¿</h3><p>â€‹æ¸¸ç©ä¸€å¤©ï¼Œå¤œé—´è‡ªç„¶è¦ç¡è§‰ï¼Œæ·±å…¥æ²‰ç¡çµé­‚ï¼Œè“„åŠ›æ¬¡æ—¥çš„æ¸¸ç©ã€‚è¿™é‡Œçš„è‡ªåŠ©ä¹Ÿæ˜¯å¾ˆå¥½çš„ï¼Œç©¿äº†ä¸€ä¸ªç¡è¢å°±ä¸‹åƒç«é”…ğŸ²ã€å°åƒç­‰è‡ªåŠ©ï¼Œå“ç§å¾ˆå¤šã€‚åƒçš„é¥±é¥±çš„ã€è¦æ­‡ä¸€ä¼šå†èƒ½ç¦»å¼€ã€‚</p><p>â€‹è¿˜æœ‰ä¸€ä¸ªæ¸¸æ± ï¼Œæ°´å¾ˆæ¸…æ¾ˆã€å¯æƒœäº†ï¼Œæˆ‘æ¸¸æ³³æ˜¯ä¸ªåŠç“¢æ°´ã€‚ç„¶ååœ¨é¢ç–¯ç‹‚çš„æ‹æ‰“ç€æµªèŠ±ã€ä¸Šåˆçš„æ°´éƒ½æ˜¯è“ä¸”é€äº®çš„ã€é˜³å…‰ç…§å°„ï¼Œç”šæ˜¯å¥½çœ‹ï¼›è€Œä¸‹åˆåˆå¤ªé˜³ï¼Œæ°´çš„é¢œè‰²ä¼šå˜å¾—æ·±è“é€é‚ä¸€ç‚¹ï¼ŒğŸ‘€çœ‹åˆ°å¾ˆæ¼‚äº®</p><p>â€‹è€Œä¾æ æ†çœ‹æµ·é¢ï¼Œç”šè‡³å¿ƒæ—·ç¥æ€¡ï¼Œæ‹çš„æ¯”è¾ƒå–œæ¬¢ä¸€å¼ å›¾ï¼›ç¡è§‰çš„åœ°æ–¹ï¼Œæ¥¼å±‚æ¯”è¾ƒé«˜ï¼Œè§†çº¿ä¹Ÿçœ‹å¼€é˜”ï¼Œæ—è¾¹è¿˜æœ‰ä¸€é˜³å°ï¼Œæœ‰æ•°æŠŠé«˜æ¤…ï¼Œå¯ä»¥èººç€ï¼›å®¤å†…çš„é£æ ¼æ˜¯åä¸€ç‚¹å¤å¤ï¼Œçœ‹èµ·æ¥ä¹Ÿå¾ˆä¸é”™ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/IMG_3566.JPG" width="100%"/ loading="lazy"><br><h3 id="å†é‡"><a href="#å†é‡" class="headerlink" title="å†é‡"></a>å†é‡</h3><p>â€‹å€˜è‹¥ä¸‹æ¬¡æœ‰æœºä¼šå†å»ï¼Œä¸€å®šè¦å†å»åƒä¸€ä¸‹é‚£å®¶åº—ï¼Œçš„é‚£å®¶çš„æ¸…è’¸çŸ³æ–‘é±¼ï¼Œï¼Œæ˜¯å“’ï¼Œæˆ‘åˆé¦‹äº†ï¼Œå¥½æƒ³å†åƒä¸€æ¬¡ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´» - é—²æš‡çš„è¶£é—» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ—…æ¸¸ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qt ä¿¡å·å’Œæ§½åŸç†åˆ†æ</title>
      <link href="/posts/a74983e0/"/>
      <url>/posts/a74983e0/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€<code>Qt</code> çš„ä¿¡å·å’Œæ§½åŸç†åˆ†æï¼šæ‰‹å†™ä¸€ä¸ª moc é¢„ç¼–è¯‘å™¨æ¨¡æ‹Ÿç”Ÿæˆ mo_xxx.cpp è¿‡ç¨‹</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>ã€€ã€€ æœ€è¿‘æ‰‹å·¥æ¨¡æ‹Ÿäº† Qt çš„ä¿¡å·å’Œæ§½å®ç°åŸç†ï¼Œç”¨çº¯ C++ å®ç°æ¥å®ç°ä¸€ä¸ª connet å‡½æ•°ã€‚æˆ‘çš„ ğŸ’» ç¯å¢ƒä¸ºï¼š  <code>uos20 amd64</code> ğŸ“ <code>Qt 5.11.3</code> ğŸ“ <code>gcc/g++ 9.0</code> ğŸ“ <code>gdb8.0</code> ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token class-name">Object</span><span class="token double-colon punctuation">::</span><span class="token function">db_connet</span><span class="token punctuation">(</span>obj1<span class="token punctuation">,</span> <span class="token string">"sig1()"</span><span class="token punctuation">,</span> obj2<span class="token punctuation">,</span> <span class="token string">"slot1()"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br><h3 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h3><pre><code>     Qt çš„ä¿¡å·å’Œæ§½è§£å†³äº† GUI å¼€å‘è¿‡ç¨‹ä¸­ â€œå¯¹è±¡é—´é€šä¿¡å’Œå…±äº«æ•°æ®â€ é—®é¢˜ã€‚å±äº Qt çš„ä¸€ä¸ªç‹¬åˆ›è§£å†³æ€è·¯ã€‚å…³äºä¸ºå•¥ä¸ç”¨ C++ çš„æ ‡å‡†æ™ºèƒ½æŒ‡é’ˆæˆ–è€…å…¶å®ƒåº“å‘¢ï¼Ÿï¼Ÿé‚£æ—¶å€™ Boost å’Œ stl éƒ½æ²¡è¯ç”Ÿå‘¢ã€‚æ‰€ä»¥ä»£ä»·å°±æ˜¯é€šè¿‡ moc é¢„ç¼–è¯‘å™¨æ¥æ‰©å±• C++ è¯­æ³•ã€‚</code></pre><p>â€‹æ¨¡æ‹Ÿ  object.h é€šè¿‡ moc ç”Ÿæˆ db_object.cpp çš„è¿‡ç¨‹ä¸­ï¼Œè¦æƒ³å®ç°å¦‚ä¸‹çš„ä¸€ä¸ª connet å‡½æ•°ï¼Œå¾ˆé‡è¦å°±æ˜¯è§£å†³ <strong>â€œA å¯¹è±¡çš„ n ä¿¡å·ï¼Œæ˜ å°„å…³è”åˆ° B å¯¹è±¡çš„ m æ§½å‡½æ•°â€</strong> ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">db_connet</span><span class="token punctuation">(</span>Object <span class="token operator">*</span>sender<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>sig<span class="token punctuation">,</span> Object <span class="token operator">*</span>receiver<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>slot<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br><h3 id="object-h"><a href="#object-h" class="headerlink" title="object.h"></a>object.h</h3><p>ä¸‹å›¾ çš„<code>object.h</code> æ¨¡æ‹Ÿ QObject ç±»ï¼›</p><ul><li>è‡ªå®šä¹‰ C++ ä¹‹å¤–çš„å…³é”®å­— <code>db_signals</code>ã€<code>db_slots</code>ã€<code>db_emit</code>ï¼›ç¼–è¯‘å™¨ä¸æŠ¥é”™çš„ï¼Ÿæ·»åŠ ä¸ºå®é¢„å®šä¹‰å¤„ç†å³å¯ã€‚</li><li><code>MetaObject</code> å¯¹è±¡æ¨¡æ‹Ÿæ˜¯å…ƒå¯¹è±¡ï¼Œç”¨æ¥åœ¨ <code>object</code> ä¸­ç”¨æ¥å­˜å‚¨  <code>db_signals</code> å’Œ  <code>db_slots</code> æ ‡è®°ä¸‹é¢çš„å‡½æ•°åï¼›å¯¹äºä¿¡å·ï¼Œåªéœ€è¦å£°æ˜ï¼Œåˆ™ä¸éœ€è¦å®šä¹‰ï¼ˆé€šè¿‡ moc è‡ªåŠ¨åœ¨db_object.cpp ä¸­ç”Ÿæˆ ï¼‰ï¼Œä½†æ˜¯æ§½å‡½æ•°åˆ™éœ€è¦è‡ªå·±åœ¨å…¶å®ƒå‡½æ•°ä¸­å£°æ˜å’Œå®šä¹‰</li><li><code>Connection</code> æ˜¯åšä½œä¸º ConnectionMap çš„ value ä½¿ç”¨çš„ã€‚ä¿å­˜æœ¬å¯¹è±¡æ‰€é“¾æ¥çš„å¯¹è±¡å’Œå¯¹åº”çš„æ§½å‡½æ•°</li><li><code>ConnectionMap</code> â€œå¯¹è±¡ + ä¿¡å· â€”â€”â€“æ˜ å°„â€”â€”&gt; å¯¹è±¡ + æ§½â€ åœ¨ä»£ç ä¸­å­˜å‚¨è¡¨ç°å½¢å¼ã€‚</li><li><code>ConnectionMapIt</code> æ˜¯ ConnectionMap éå†çš„æ¸¸æ ‡ã€‚</li><li><code>static MetaObject meta</code> å…·ä½“çš„å…ƒå¯¹è±¡ã€‚</li><li><code>metacall</code> é€šè¿‡æ§½çš„ç´¢å¼• &#x3D;&#x3D;&gt; æ§½å‡½æ•°ï¼Œç„¶åè°ƒç”¨</li><li><code>static void db_connet()</code> é™æ€å‡½æ•°è®¾è®¡ï¼Œå¯åœ¨ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨ï¼Œè¿æ¥ä¿¡å·å’Œæ§½å‡½æ•°</li><li><code>void testSignal()</code> æµ‹è¯•ä¿¡å·å‡½æ•°ï¼Œçœ‹æ§½å‡½æ•°æ˜¯å¦ä¼šæˆåŠŸè¢«è°ƒç”¨ï¼Œå³ emit signal( )</li></ul><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">OBJECT_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">OBJECT_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;map></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">db_signals</span> <span class="token expression"><span class="token keyword">protected</span></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">db_slots</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">db_emit</span></span><span class="token keyword">class</span> <span class="token class-name">Object</span><span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">MetaObject</span>              <span class="token comment">// å…ƒå¯¹è±¡</span><span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>sig_names<span class="token punctuation">;</span>    <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>slot_names<span class="token punctuation">;</span>    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">active</span><span class="token punctuation">(</span>Object <span class="token operator">*</span>sender<span class="token punctuation">,</span> <span class="token keyword">int</span> idx<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">Connection</span><span class="token punctuation">&#123;</span>    Object <span class="token operator">*</span>recviver<span class="token punctuation">;</span>    <span class="token keyword">int</span> method<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">typedef</span> multimap<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> Connection<span class="token operator">></span> ConnectionMap<span class="token punctuation">;</span><span class="token keyword">typedef</span> multimap<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> Connection<span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator ConnectionMapIt<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Object</span><span class="token punctuation">&#123;</span>    <span class="token keyword">static</span> MetaObject meta<span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">metacall</span><span class="token punctuation">(</span><span class="token keyword">int</span> idx<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">db_connet</span><span class="token punctuation">(</span>Object <span class="token operator">*</span>sender<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>sig<span class="token punctuation">,</span> Object <span class="token operator">*</span>receiver<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>slot<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">testSignal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">virtual</span> <span class="token operator">~</span><span class="token function">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>db_signals<span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">sig1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//    void sig2();</span><span class="token keyword">public</span> db_slots<span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">slot1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//    void slot2();</span><span class="token keyword">friend</span> <span class="token keyword">class</span> <span class="token class-name">MetaObject</span><span class="token punctuation">;</span><span class="token keyword">private</span><span class="token operator">:</span>    ConnectionMap connectionsMap<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// OBJECT_H</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="object-cpp"><a href="#object-cpp" class="headerlink" title="object.cpp"></a>object.cpp</h3><p>object ç±»çš„å®ç°ç»†èŠ‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"object.h"</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstring></span></span><span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">findSignalIndex</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>str<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>subStr<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>str <span class="token operator">||</span> <span class="token operator">!</span>subStr <span class="token operator">||</span> <span class="token function">strlen</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token function">strlen</span><span class="token punctuation">(</span>subStr<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">strcmp</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> subStr<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ret <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> ret<span class="token punctuation">;</span>    <span class="token keyword">else</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">Object</span><span class="token double-colon punctuation">::</span><span class="token function">db_connet</span><span class="token punctuation">(</span>Object <span class="token operator">*</span>sender<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>sig<span class="token punctuation">,</span> Object <span class="token operator">*</span>receiver<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>slot<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> sig_idx <span class="token operator">=</span> <span class="token function">findSignalIndex</span><span class="token punctuation">(</span>sender<span class="token operator">-></span>meta<span class="token punctuation">.</span>sig_names<span class="token punctuation">,</span> sig<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> slot_idx <span class="token operator">=</span> <span class="token function">findSignalIndex</span><span class="token punctuation">(</span>receiver<span class="token operator">-></span>meta<span class="token punctuation">.</span>slot_names<span class="token punctuation">,</span> slot<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>sig_idx <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">||</span> slot_idx <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        cout<span class="token operator">&lt;&lt;</span><span class="token string">"signal or slot not found!"</span><span class="token punctuation">;</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        Connection c <span class="token operator">=</span> <span class="token punctuation">&#123;</span>receiver<span class="token punctuation">,</span> slot_idx<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        sender<span class="token operator">-></span>connectionsMap<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token generic-function"><span class="token function">pair</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> Connection<span class="token operator">></span></span></span><span class="token punctuation">(</span>sig_idx<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// connectionsMap ç§æœ‰æˆå‘˜</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">Object</span><span class="token double-colon punctuation">::</span><span class="token function">testSignal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    db_emit <span class="token function">sig1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">Object</span><span class="token double-colon punctuation">::</span><span class="token function">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token class-name">Object</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token comment">// é€šè¿‡ sender çš„ä¿¡å· idx ==> æ§½å‡½æ•°</span><span class="token keyword">void</span> <span class="token class-name">MetaObject</span><span class="token double-colon punctuation">::</span><span class="token function">active</span><span class="token punctuation">(</span>Object <span class="token operator">*</span>sender<span class="token punctuation">,</span> <span class="token keyword">int</span> idx<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    pair<span class="token operator">&lt;</span>ConnectionMapIt<span class="token punctuation">,</span> ConnectionMapIt<span class="token operator">></span> ret<span class="token punctuation">;</span>    ret <span class="token operator">=</span> sender<span class="token operator">-></span>connectionsMap<span class="token punctuation">.</span><span class="token function">equal_range</span><span class="token punctuation">(</span>idx<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å¯»æ‰¾[idx,  )</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>ConnectionMapIt it <span class="token operator">=</span> ret<span class="token punctuation">.</span>first<span class="token punctuation">;</span> it <span class="token operator">!=</span> ret<span class="token punctuation">.</span>second<span class="token punctuation">;</span> <span class="token operator">++</span>it<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        Connection c <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span><span class="token punctuation">.</span>second<span class="token punctuation">;</span>        c<span class="token punctuation">.</span>recviver<span class="token operator">-></span><span class="token function">metacall</span><span class="token punctuation">(</span>idx<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="db-object-cpp"><a href="#db-object-cpp" class="headerlink" title="db_object.cpp"></a>db_object.cpp</h3><p>  object ç±»é€šè¿‡ moc ç”Ÿæˆ db_object.cppï¼Œä¸€äº› moc æ‰€æ‰§è¡Œçš„ä»£ç æ‰©å±•åœ¨ db_object.cpp é‡Œé¢ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"object.h"</span></span><span class="token comment">//db_object: æ˜¯ç”± moc ç¼–è¯‘å™¨ å°† object.cpp å±•å¼€çš„å†…å®¹(æ­¤å¤„æ‰‹å†™è¡¨ç¤º)</span><span class="token keyword">const</span> <span class="token keyword">char</span> sig_names<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"sig1()"</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">char</span> slot_names<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"slot1()"</span><span class="token punctuation">;</span>MetaObject Object<span class="token double-colon punctuation">::</span>meta <span class="token operator">=</span> <span class="token punctuation">&#123;</span>sig_names<span class="token punctuation">,</span> slot_names<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token class-name">Object</span><span class="token double-colon punctuation">::</span><span class="token function">sig1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">MetaObject</span><span class="token double-colon punctuation">::</span><span class="token function">active</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">Object</span><span class="token double-colon punctuation">::</span><span class="token function">slot1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"-----------> this is slot1()"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// æ§½çš„ç´¢å¼•==> æ§½å‡½æ•°</span><span class="token keyword">void</span> <span class="token class-name">Object</span><span class="token double-colon punctuation">::</span><span class="token function">metacall</span><span class="token punctuation">(</span><span class="token keyword">int</span> idx<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">switch</span> <span class="token punctuation">(</span>idx<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span>        <span class="token function">slot1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">default</span><span class="token operator">:</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="main-cpp"><a href="#main-cpp" class="headerlink" title="main.cpp"></a>main.cpp</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"object.h"</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">// ç›®çš„ï¼šè‡ªè¡Œæ„é€  moc ç¼–è¯‘å™¨ï¼Œæ‰‹åŠ¨å°† object.h --> db_bject.cpp (å® å’Œ moc ç¼–è¯‘å™¨å¤„ç†çš„éƒ¨åˆ†)</span><span class="token comment">// æ—¶é—´ï¼š2021-03-26</span><span class="token comment">// ä¸‹è½½ï¼šhttps://github.com/xmuli/QtExamples</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    Object <span class="token operator">*</span>obj1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    Object <span class="token operator">*</span>obj2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">Object</span><span class="token double-colon punctuation">::</span><span class="token function">db_connet</span><span class="token punctuation">(</span>obj1<span class="token punctuation">,</span> <span class="token string">"sig1()"</span><span class="token punctuation">,</span> obj2<span class="token punctuation">,</span> <span class="token string">"slot1()"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    obj1<span class="token operator">-></span><span class="token function">testSignal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// ç»ˆç«¯è¾“å‡ºæ‰“å°ï¼š</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">></span> <span class="token keyword">this</span> is <span class="token function">slot1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æœ¬æ–‡å‚è€ƒ <a href="https://www.cnblogs.com/swarmbees/p/10816139.html">æ–‡ä¸€</a>ã€ <a href="https://blog.csdn.net/perfectguyipeng/article/details/78082360">æ–‡äºŒ</a> ï¼Œä½†å®é™…å‘ç°å…¶æºç ä¹‹é—´æœ‰å‡ å¤„é”™è¯¯ï¼Œå®é™…è¿è¡Œå¤±è´¥ï¼Œå‚è€ƒæ€è·¯é‡å†™ï¼Œæ–¹ä¾¿åæ¥è€…å­¦ä¹ ï¼Œä¸”æœ¬æ–‡è¿˜æœ‰æ”¹è¿›ä¹‹å¤„ï¼Œæ—¥åæœ‰ç©ºæ”¹è¿›ï¼Œä¿®æ”¹ç‚¹å¦‚ä¸‹ï¼š</p><ul><li><code>findSignalIndex</code> å‡½æ•°é‡å†™ï¼Œä½¿å¾—èƒ½å¤Ÿè¯†åˆ«ä¿¡å·å’Œæ§½å‡½æ•°çš„é‡è½½å‡½</li><li><code>db_connet</code> åœ¨é‡æ„ï¼Œæ”¯æŒå®æ–¹å¼ï¼ˆQt4ï¼‰å’Œ å‡½æ•°æŒ‡é’ˆï¼ˆQt5ï¼‰æ–¹å¼ï¼›ï¼ˆå½“å‰ä¸ºä½¿ç”¨å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼‰</li><li>æ„å»º xxx_p.hï¼Œå°†æˆå‘˜å˜é‡éƒ½æ”¾åœ¨æ­¤æ–‡ä»¶ä¸­ï¼ŒåŠ å¿«é¡¹ç›®çš„ç¼–è¯‘é€Ÿåº¦ã€‚</li></ul><br><h3 id="ç³»åˆ—åœ°å€"><a href="#ç³»åˆ—åœ°å€" class="headerlink" title="ç³»åˆ—åœ°å€"></a>ç³»åˆ—åœ°å€</h3><p><a href="https://github.com/xmuli/QtExamples">QtExamples</a> ã€DbSigSlotã€‘</p><p>æ¬¢è¿ <code>star</code> å’Œ <code>fork</code> è¿™ä¸ªç³»åˆ—çš„ QT &#x2F; DTK å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬ä¸€æ¬¡å¼€è½¦è½¦</title>
      <link href="/posts/cfc539c3/"/>
      <url>/posts/cfc539c3/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€ç¬¬ä¸€æ¬¡å¼€è½¦è½¦ä¸Šè·¯</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p>â€‹å¹´å‰æ‹¿åˆ°äº†æ‹–å»¶äº†ä¸‰å¹´å¤šçš„é©¾ç…§ï¼Œæœ€è¿‘æœ‰ç©ºè¯•ç€ä¸Šäº†ä¸€ä¸‹è·¯ã€‚åˆšå¼€å§‹æ‰¾äº†ä¸€ä¸ªäº”å¹´è€å¸æœºåœ¨å‰¯é©¾çŸ¥é“æŒ‡å¯¼ä¸‹</p><br><p>ç¬¬ä¸€å¤©ï¼šæˆ‘æŸ‘æ©˜å·²ç»å¼€å¾—å¥½å¿«äº†ï¼Œå·²ç»åˆ° 40 Km&#x2F;h äº†ï¼Œå¯¹ç€å‰¯é©¾äº”å¹´è€å¸æœºè¯´</p><p>ç¬¬äºŒå¤©ï¼šè·¯ä¸Šï¼Œæš—æƒ³ï¼Œæ€ä¹ˆ 70Km&#x2F;h è¿™ä¹ˆæ…¢</p><p>ç¬¬ä¸‰å¤©ï¼šä¸Šé«˜é€Ÿäº†ï¼Œå¶å°”æœ‰æœ€é«˜ 110Km&#x2F;hï¼Œä½†ä¸çŸ¥ä¸ºä½•å‰¯é©¾å¤šå¹´è€æ¹¿æœºè¦å³æ‰‹ç´§ç´§æ¡ä½æŠŠæ‰‹</p><p>ç¬¬å››å¤©ï¼šè´´äº†äººç”Ÿä¸­ç¬¬ä¸€å¼ è¿åœç½šå•ï¼Œå®¢æœè¿˜è¯´èƒ½å¤Ÿæ­¤å¤„èƒ½åœçš„ï¼å®³ï¼Œ</p><br><p>â€‹è·¯ä¸Šå¬åˆ°æœ€å¤šçš„ä¸€å¥è¯å°±æ˜¯å°å›¢å›¢ï¼šçœ‹çœ‹æˆ‘çš„å¤§å®è´ï¼Œä½ åˆèµ°é”™è·¯äº†!</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210315230711.png" width="25%"/ loading="lazy">]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´» - é—²æš‡çš„è¶£é—» </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>QtCreator ä¸­è‡ªå®šä¹‰é¡¹ç›®ä¾‹å­ç½®äºâ€œæ¬¢è¿-å®ä¾‹â€ä¸­</title>
      <link href="/posts/60489bc/"/>
      <url>/posts/60489bc/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€å°†è‡ªå®šä¹‰çš„ä»£ç ä¾‹å­ï¼Œæ”¾ç½®åˆ° <code>Qt Creaor</code> ä¸­çš„ â€œæ¬¢è¿-ç¤ºä¾‹â€ ä¸­ï¼Œæä¾›å¤§å®¶å­¦ä¹ ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font>ã€€</p></blockquote><br><h3 id="IDE-ç¼ºå°‘ç¤ºä¾‹"><a href="#IDE-ç¼ºå°‘ç¤ºä¾‹" class="headerlink" title="IDE ç¼ºå°‘ç¤ºä¾‹"></a>IDE ç¼ºå°‘ç¤ºä¾‹</h3><p>â€‹åœ¨ <code>UOS</code> ä¸‹ï¼Œå‘½ä»¤å®‰è£…çš„ <code>Qt Creator</code> æ‰“å¼€ â€œæ¬¢è¿ - ç¤ºä¾‹â€ ä¹‹åï¼Œæ˜¾ç¤ºä¸ºç©ºï¼Œæ˜æ˜¾ <code>Qt</code> è‡ªå¸¦çš„ä¾‹å­æ²¡äº†ã€‚è§£å†³æ–¹æ¡ˆå¦‚ä¸‹ã€‚(<strong>ğŸ’»ï¼š</strong>  <code>uos20 amd64</code> ğŸ“ <code>Qt 5.11.3</code> ğŸ“ <code>Qt Creator 4.8.2</code> )</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> qtbase5-examples qtbase5-doc-html<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><strong>qtbase5-examplesï¼š</strong> æ˜¯ <code>Qt</code> å®˜æ–¹è‡ªå¸¦çš„æºç ä¾‹å­ï¼Œé»˜è®¤å®‰è£…åœ¨ <code>/usr/lib/x86_64-linux-gnu/qt5/examples</code> ä¸‹ã€‚</li><li><strong>qtbase5-doc-htmlï¼š</strong> æ˜¯åœ¨ <code>IDE</code> ä¸­çš„ â€œæ¬¢è¿ - ç¤ºä¾‹â€ ä¸­ï¼Œæ˜¾ç¤ºé¢„è§ˆçš„å°ç½‘é¡µçª—å£ï¼Œé»˜è®¤æ˜¯å®‰è£…åœ¨ <code>/usr/share/qt5/doc</code> ä¸‹ã€‚</li></ul><br><h3 id="è‡ªå®šä¹‰æºç å®‰è£…ç¤ºä¾‹"><a href="#è‡ªå®šä¹‰æºç å®‰è£…ç¤ºä¾‹" class="headerlink" title="è‡ªå®šä¹‰æºç å®‰è£…ç¤ºä¾‹"></a>è‡ªå®šä¹‰æºç å®‰è£…ç¤ºä¾‹</h3><p>â€‹ç›®æ ‡æ˜¯å¸Œæœ›å°† DTK ä¸€äº›è‡ªå¸¦çš„ä¾‹å­ï¼Œèƒ½å¤Ÿå’Œå®˜æ–¹ä¾‹å­ä¸€æ ·ï¼Œç›´æ¥åœ¨ IDE ä¸­æ‰“å¼€å’Œé¢„è§ˆï¼Œè¿›è¡Œç¼–è¯‘å’Œå­¦ä¹ ã€‚å¸®åŠ©æ–°æ‰‹é™ä½å…¥é—¨é—¨æ§›ã€‚</p><p>â€‹å°†è‡ªå·±çš„æºç  <a href="https://github.com/xmuli/QtExamples/tree/master/QtMyStyleEx/QtExample01/QtStyleEx">QtStyleEx</a> ä¸‹è½½æœ¬åœ°ï¼Œé‡å‘½åä¸º qtmystyleï¼Œç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">â””â”€â”€ qtmystyle    â”œâ”€â”€ main.cpp    â”œâ”€â”€ qtmystyle.pro    â”œâ”€â”€ widget.cpp    â””â”€â”€ widget.h<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å°† qtmystyle æ–‡ä»¶å¤¹æ‹·è´åˆ° <code>/usr/lib/x86_64-linux-gnu/qt5/examples/widgets/desktop</code> ä¸‹ï¼Œä¿®æ”¹å…¶ç›®å½•ä¸‹çš„ <code>desktop.pro</code> æ–‡ä»¶ï¼Œå°† <code>qtmystyle</code> åŠ å…¥è¿›å»ã€‚</p><p>å†ä¿®æ”¹ <code>/usr/share/qt5/doc/qtwidgets/examples-manifest.xml</code> æ–‡ä»¶ï¼Œæ‰¾åˆ°å¦‚ä¸‹ Screenshot çš„ä¸€æ®µ</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210429140408.png" width="100%"/ loading="lazy"><p>ç„¶åä»¿å†™ä¸€æ®µæ”¾åˆ°èµ·ä¸‹é¢ï¼Œé‡å¯ Qt Creatorï¼Œå†æ¬¡æ‰“å¼€ï¼Œå³å¯çœ‹åˆ°è‡ªå®šä¹‰çš„é¡¹ç›®ä¾‹å­ã€‚æ•ˆæœå›¾å¦‚ä¸‹ï¼š</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210312_150922.png" width="90%"/ loading="lazy"><br><h3 id="ç³»åˆ—åœ°å€ï¼š"><a href="#ç³»åˆ—åœ°å€ï¼š" class="headerlink" title="ç³»åˆ—åœ°å€ï¼š"></a>ç³»åˆ—åœ°å€ï¼š</h3><p><a href="https://github.com/xmuli/QtExamples">QtExamples</a></p><p>æ¬¢è¿ <code>star</code> å’Œ <code>fork</code> è¿™ä¸ªç³»åˆ—çš„ QT &#x2F; DTK å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¿®æ”¹ Doxygen ä¸»é¢˜ï¼Œç”Ÿæˆ Qt é£æ ¼çš„æ–‡æ¡£</title>
      <link href="/posts/af3370a3/"/>
      <url>/posts/af3370a3/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€åœ¨ <a href="https://xmuli.blog.csdn.net/article/details/114580630">ä¸Šä¸€ç¯‡</a> ä¸­ï¼ŒæˆåŠŸè‡ªå®šä¹‰ <code>.qch</code> æ–‡æ¡£æ‰‹å†Œåœ¨ <code>Qt Assistants</code> ä¸­æŸ¥çœ‹ã€‚ä½† Doxygen é»˜è®¤çš„æ¨¡æ¿ç¾è§‚åº¦è¿˜éœ€æå‡ï¼Œ<font color=#D0087E size=4 face="STFangsong">è¿™é‡Œè®°å½•ä¸€ä¸‹ä¿®æ”¹ doxygen ä¸»é¢˜ï¼Œç”Ÿæˆ Qt é£æ ¼çš„çš„ä¸»é¢˜æ ·å¼ã€‚</font></p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/Peek 2021-03-10 14-52.gif" width="90%"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>â€‹ç³»ç»Ÿç¯å¢ƒï¼š <code>doxygen 1.8.13</code> &amp;&amp; <code>UOS v20</code> &amp;&amp; <code>Qt Assistants 5.11.3</code></p><br><h3 id="åˆ‡æ¢-doxygen-ä¸»é¢˜é£æ ¼-ä¾‹å­"><a href="#åˆ‡æ¢-doxygen-ä¸»é¢˜é£æ ¼-ä¾‹å­" class="headerlink" title="åˆ‡æ¢ doxygen ä¸»é¢˜é£æ ¼(ä¾‹å­)"></a>åˆ‡æ¢ doxygen ä¸»é¢˜é£æ ¼(ä¾‹å­)</h3><p>â€‹æ‰¾åˆ°ä¸€ä¸ªåŸºäº <code>Qt4</code> å®˜æ–¹æ–‡æ¡£çš„æ ·å¼ï¼š<a href="https://github.com/skozlovf/doxygen-qmi-style">doxygen-qmi-style</a> ï¼Œå…‹éš†ä¹‹åï¼Œæ”¾åœ¨ <a href="https://github.com/xmuli/QtExamples/tree/master/CustomQch">CustomQch</a> ä¸‹ï¼Œç„¶åä¿®æ”¹é…ç½®å¦‚ä¸‹ï¼Œå®é™…ä¾‹å­å¯ä»¥å‚è§ï¼š<a href="https://github.com/xmuli/QtExamples/blob/35d524ef6726d502d5da470c7a67270bd7484e2d/CustomQch/Doxyfile#L1166">L1166</a> </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">BRIEF_MEMBER_DESC <span class="token operator">=</span> NO                             <span class="token comment"># Project section</span>HTML_HEADER <span class="token operator">=</span> <span class="token variable">$&#123;path_to_qmi&#125;</span>/header.html           <span class="token comment"># HTML section</span>HTML_FOOTER <span class="token operator">=</span> <span class="token variable">$&#123;path_to_qmi&#125;</span>/footer.htmlHTML_STYLESHEET <span class="token operator">=</span> <span class="token variable">$&#123;path_to_qmi&#125;</span>/qmi.css<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹å†æ¬¡æ‰§è¡Œ <code>doxygen</code> ç”Ÿæˆä¸€éï¼Œæœ¬ä¾‹å­ CustomQch æ–‡ä»¶å¤¹æ–°ä¸»é¢˜æ•ˆæœå¦‚ä¸‹ï¼š</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210309_165602.png" width="70%"/ loading="lazy"><br><h3 id="å¼€æºé¡¹ç›®æäº¤ï¼ˆå®æˆ˜ï¼‰"><a href="#å¼€æºé¡¹ç›®æäº¤ï¼ˆå®æˆ˜ï¼‰" class="headerlink" title="å¼€æºé¡¹ç›®æäº¤ï¼ˆå®æˆ˜ï¼‰"></a>å¼€æºé¡¹ç›®æäº¤ï¼ˆå®æˆ˜ï¼‰</h3><p>â€‹åœ¨å®æˆ˜ä¸­å­¦ä¹ ï¼Œå°† <code>DTK</code> çš„å¼€å‘æ‰‹å†Œé›†æˆåˆ°æœ¬åœ°æœºå™¨çš„ <code>Qt Assistants</code> ä¸­ï¼Œä¿®æ”¹çš®è‚¤æ ·å¼çš„æäº¤å¦‚ä¸‹ï¼š</p><ol><li><a href="https://github.com/linuxdeepin/dtk/commit/77d8402878515ba2a59ac9782059fddf3e49a8ca"># 77d8402</a> ï¼š æ·»åŠ  <code>Qt</code> é£æ ¼æ–‡æ¡£ä¸»é¢˜</li><li><a href="https://github.com/linuxdeepin/dtk/commit/ab94ca8f79fe31768165740cd4c486605c99e5dc"># ab94ca8f</a> ï¼šä¿®æ”¹ <code>Doxygen</code> é…ç½®æ–‡ä»¶ï¼Œä½¿ç”¨ <code>Qt</code> æ–‡æ¡£ä¸»é¢˜</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#################################################################################</span><span class="token comment">##  2020-03-10 é…ç½® Doxygen ç”Ÿæˆ html + latex + .qhp + .qch å››ç§æ ¼å¼ï¼ˆDTK é¡¹ç›®ï¼‰   ##</span><span class="token comment">#################################################################################</span>PROJECT_NAME           <span class="token operator">=</span> <span class="token string">"Deepin Tool Kit"</span>  <span class="token comment"># ç”Ÿæˆæ–‡æ¡£çš„åç§°</span>PROJECT_NUMBER         <span class="token operator">=</span> <span class="token number">2021.03</span>            <span class="token comment"># é¡¹ç›®æ–‡æ¡£çš„ç‰ˆæœ¬å·ç </span>PROJECT_BRIEF          <span class="token operator">=</span> <span class="token string">"Deepin Tool Kit is the toolkit used to built deepin style Apps"</span> <span class="token comment">#ä¸€è¡Œç®€çŸ­çš„æè¿°</span>OUTPUT_DIRECTORY       <span class="token operator">=</span> ./doc              <span class="token comment"># è¾“å‡ºå­˜æ”¾æ–‡æ¡£çš„è·¯å¾„ </span>OUTPUT_LANGUAGE        <span class="token operator">=</span> Chinese            <span class="token comment"># ç”Ÿæˆæ–‡æ¡£ä¸ºä¸­/è‹±æ–‡ English</span>BRIEF_MEMBER_DESC      <span class="token operator">=</span> YES                <span class="token comment"># åœ¨ file å’Œ class æ–‡æ¡£é‡Œé¢ä¼šæœ‰ç®€çŸ­çš„æè¿°</span>SHORT_NAMES            <span class="token operator">=</span> YES                <span class="token comment"># ç”Ÿæˆæ›´çŸ­çš„æ–‡ä»¶å</span>ALIASES                <span class="token operator">=</span> <span class="token assign-left variable">target</span><span class="token operator">=</span><span class="token string">"<span class="token entity" title="\a">\a</span>nchor"</span>   <span class="token comment"># ç•¥å›°æƒ‘çš„ä¸€ä¸ªå‚æ•°</span>ALIASES               <span class="token operator">+=</span> <span class="token assign-left variable">section1</span><span class="token operator">=</span><span class="token string">"\section"</span>ALIASES               <span class="token operator">+=</span> l<span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token operator">=</span><span class="token string">"<span class="token entity" title="\r">\r</span>ef <span class="token entity" title="\1">\1</span>"</span>ALIASES               <span class="token operator">+=</span> b<span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token operator">=</span><span class="token string">"<span class="token entity" title="\b">\b</span> <span class="token entity" title="\1">\1</span>"</span>ALIASES               <span class="token operator">+=</span> color<span class="token punctuation">&#123;</span><span class="token number">2</span><span class="token punctuation">&#125;</span><span class="token operator">=</span><span class="token string">"&lt;span style='border: 1px solid black; width:10px; height:10px; background-color:<span class="token entity" title="\1">\1</span>; display:inline-block;'>&lt;/span> <span class="token entity" title="\2">\2</span>"</span>ALIASES               <span class="token operator">+=</span> href<span class="token punctuation">&#123;</span><span class="token number">2</span><span class="token punctuation">&#125;</span><span class="token operator">=</span><span class="token string">"&lt;a href='<span class="token entity" title="\1">\1</span>'><span class="token entity" title="\2">\2</span>&lt;/a>"</span>EXTENSION_MAPPING      <span class="token operator">=</span> .h <span class="token operator">=</span>C++            <span class="token comment"># è¦†ç›–æˆ–è€…æ‰©å±•è¿™ä¸ªå†…ç½®çš„è¯­è¨€æ˜ å°„</span>CPP_CLI_SUPPORT        <span class="token operator">=</span> YES                <span class="token comment"># å¾®è½¯ C++/CLI è¯­è¨€å¼€å¯</span>CASE_SENSE_NAMES       <span class="token operator">=</span> YES                <span class="token comment"># Noï¼Œåªè§£æå°å†™å­—æ¯çš„æ–‡ä»¶; true è§£æå¯ä»¥å¤§å†™å­—æ¯æ–‡ä»¶</span>INPUT                  <span class="token operator">=</span> ./dtkwidget/ <span class="token punctuation">\</span>     <span class="token comment"># åŒ…å«æŒ‡å®šæ–‡ä»¶æˆ–è€…ç›®å½•</span>                         ./dtkcore/ <span class="token punctuation">\</span>             ./dtkgui/ <span class="token punctuation">\</span>             ./qt5integration/             RECURSIVE              <span class="token operator">=</span> YES                <span class="token comment"># æ–‡ä»¶é€’å½’,åŒ…æ‹¬å­æ–‡ä»¶ä¹Ÿè¦è¾“å‡ºä¸ºæ–‡æ¡£</span>EXCLUDE                <span class="token operator">=</span>  ./dtkcore/tool <span class="token punctuation">\</span>  <span class="token comment"># ä¸è§£æå¦‚ä¸‹æ–‡ä»¶æˆ–è€…ç›®å½•</span>                          ./dtkcore/tools <span class="token punctuation">\</span>                          ./dtkcore/tests <span class="token punctuation">\</span>                          ./dtkwidget/examples <span class="token punctuation">\</span>                          ./dtkwidget/src/widgets/privateEXCLUDE_SYMBOLS        <span class="token operator">=</span>                    <span class="token comment"># æ’é™¤ä¸€äº›æ–‡ä»¶, namespace, clas, fun ç­‰</span>IMAGE_PATH             <span class="token operator">=</span> dtkwidget/doc/images <span class="token punctuation">\</span>   <span class="token comment"># æ–‡æ¡£é‡Œé¢æ’å…¥å›¾ç‰‡çš„å­˜æ”¾è·¯å¾„</span>                         dtkcore/doc/images                         SOURCE_BROWSER         <span class="token operator">=</span> YES                 <span class="token comment"># true æ–‡æ¡£å’Œæºç äº¤å‰å¼•ç”¨</span>HTML_HEADER            <span class="token operator">=</span> ./doxygen-qmi-style/header.html    <span class="token comment"># doxygen ä¸»é¢˜å¤´éƒ¨ç½‘é¡µ</span>HTML_FOOTER            <span class="token operator">=</span> ./doxygen-qmi-style/footer.html    <span class="token comment"># doxygen ä¸»é¢˜åº•éƒ¨ç½‘é¡µ</span>HTML_STYLESHEET        <span class="token operator">=</span> ./doxygen-qmi-style/qmi.css        <span class="token comment"># doxygen ä¸»é¢˜ç½‘é¡µæ ·å¼è¡¨ CSS</span>HTML_TIMESTAMP         <span class="token operator">=</span> YES                <span class="token comment"># ç”Ÿæˆçš„ html åº•éƒ¨é¡µé¢ç”Ÿæˆçš„æ—¥æœŸå’Œæ—¶é—´</span>GENERATE_QHP           <span class="token operator">=</span> YES                <span class="token comment"># ä½¿ç”¨å‘½åç©ºé—´ã€ç”Ÿæˆ .qch ï¼Œæ­¤å¿…é¡»å¼€å¯</span>QCH_FILE               <span class="token operator">=</span> <span class="token punctuation">..</span>/dtk.qch         <span class="token comment"># é€šè¿‡ html ç”Ÿæˆçš„ qch è·¯å¾„</span>QHP_NAMESPACE          <span class="token operator">=</span> <span class="token string">"com.deepin.dtk.5.4"</span>  <span class="token comment"># å‘½åç©ºé—´è¦æ˜¯å”¯ä¸€çš„ï¼Œæ‰èƒ½åœ¨ Qt åŠ©æ‰‹é‡Œé¢æ˜¾ç¤º</span>QHP_CUST_FILTER_NAME   <span class="token operator">=</span> YES                <span class="token comment"># æŒ‡å®šä¸€ä¸ªè‡ªå®šä¹‰çš„è¿‡æ»¤å™¨æ·»åŠ </span>QHG_LOCATION           <span class="token operator">=</span> qhelpgenerator     <span class="token comment"># ä½¿ç”¨ qhelpgenerator å·¥å…·å°† qhp è½¬æ¢ä¸º qch</span>GENERATE_TREEVIEW      <span class="token operator">=</span> YES                <span class="token comment"># ä½¿ç”¨æ ‘çŠ¶çš„ç´¢å¼•åº”ç”Ÿæˆç»“æ„æ¥æ˜¾ç¤ºå±‚æ¬¡ä¿¡æ¯</span>GENERATE_LATEX         <span class="token operator">=</span> YES                <span class="token comment"># è¾“å‡º LaTeX æ–‡ä»¶</span>MACRO_EXPANSION        <span class="token operator">=</span> YES                <span class="token comment"># å±•å¼€æ‰€æœ‰çš„å®å</span>   INCLUDE_PATH           <span class="token operator">=</span> dtkcore <span class="token punctuation">\</span>          <span class="token comment"># é¢„å¤„å™¨ä¼šå¤„çš„æ–‡ä»¶å¤¹</span>                         dtkwidget <span class="token punctuation">\</span>  dtkgui <span class="token punctuation">\</span>  qt5integration  PREDEFINED             <span class="token operator">=</span> <span class="token string">"DTK_NAMESPACE=Dtk"</span> <span class="token punctuation">\</span>                <span class="token comment"># æŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ªå®åç§°</span>                         <span class="token string">"DTK_BEGIN_NAMESPACE=namespace Dtk &#123;"</span> <span class="token punctuation">\</span>                         <span class="token string">"DTK_END_NAMESPACE=&#125;"</span> <span class="token punctuation">\</span>                         <span class="token string">"DTK_USE_NAMESPACE=using namespace Dtk;"</span> <span class="token punctuation">\</span>                         <span class="token string">"DCORE_NAMESPACE=Core"</span> <span class="token punctuation">\</span>                         <span class="token string">"DTK_CORE_NAMESPACE=Dtk::Core"</span> <span class="token punctuation">\</span>                         <span class="token string">"DCORE_BEGIN_NAMESPACE=namespace Dtk &#123; namespace Core &#123;"</span> <span class="token punctuation">\</span>                         <span class="token string">"DCORE_END_NAMESPACE=&#125;&#125;"</span> <span class="token punctuation">\</span>                         <span class="token string">"DCORE_USE_NAMESPACE=using namespace Dtk::Core;"</span> <span class="token punctuation">\</span>                         <span class="token string">"DWIDGET_NAMESPACE=Widget"</span> <span class="token punctuation">\</span>                         <span class="token string">"DTK_WIDGET_NAMESPACE=Dtk::Widget"</span> <span class="token punctuation">\</span>                         <span class="token string">"DWIDGET_BEGIN_NAMESPACE=namespace Dtk &#123; namespace Widget &#123;"</span> <span class="token punctuation">\</span>                         <span class="token string">"DWIDGET_END_NAMESPACE=&#125;&#125;"</span> <span class="token punctuation">\</span>                         <span class="token string">"DWIDGET_USE_NAMESPACE=using namespace Dtk::Widget;"</span>                         EXPAND_AS_DEFINED      <span class="token operator">=</span> YES                 <span class="token comment"># æŒ‡å®šåº”æ‰©å±•çš„å®åç§°åˆ—è¡¨</span>TAGFILES               <span class="token operator">=</span> tags/qtcore.tags<span class="token operator">=</span>https://doc.qt.io/qt-5/ <span class="token punctuation">\</span>  <span class="token comment"># æ·»åŠ å¤–éƒ¨æ–‡æ¡£çš„ä½ç½®</span>  tags/qtgui.tags<span class="token operator">=</span>https://doc.qt.io/qt-5/ <span class="token punctuation">\</span>  tags/qtwidgets.tags<span class="token operator">=</span>https://doc.qt.io/qt-5/   DOT_PATH               <span class="token operator">=</span> /usr/local/bin      <span class="token comment"># å®‰è£… graphvizï¼Œæ­¤è·¯å¾„ç¡®ä¿å¯ä»¥æ‰¾åˆ° dot å·¥å…·</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="æ¨è"><a href="#æ¨è" class="headerlink" title="æ¨è"></a>æ¨è</h3><p>â€‹é™„ï¼Œæ˜¯çœŸçš„å°‘ï¼Œè¿™é‡Œæ¨èå‡ ä¸ªæ ·å¼è¡¨ï¼Œæƒ³è¦ç•¥ä½³çš„ <code>CSS</code> æ ·å¼è¡¨ï¼Œæœ€å®Œç¾çš„å¤§æ¦‚ç‡çš„å¾—è‡ªå·±å†™é¸­ï¼ˆé€ƒè·‘ï¼Œï¼Œï¼Œ</p><ul><li><a href="https://github.com/Velron/doxygen-bootstrapped">doxygen-bootstrapped</a> ï¼šæ•ˆæœè§ <a href="https://biogearsengine.com/documentation/index.html">é¢„è§ˆ</a>  </li><li><a href="https://github.com/skozlovf/doxygen-qmi-style">doxygen-qmi-style</a> ï¼šæ•ˆæœè§ <a href="http://skozlovf.github.io/doxygen-qmi-style/libxmlpp/classxmlpp_1_1CommentNode.html">é¢„è§ˆ1</a>  å’Œ <a href="http://skozlovf.github.io/doxygen-qmi-style/qwt/">é¢„è§ˆ2</a></li><li><a href="https://github.com/Tencent/rapidjson/tree/master/doc/misc">rapidjson</a> ï¼šæ•ˆæœè§ <a href="http://rapidjson.org/">é¢„è§ˆ</a></li></ul><br><h3 id="ç³»åˆ—åœ°å€ï¼š"><a href="#ç³»åˆ—åœ°å€ï¼š" class="headerlink" title="ç³»åˆ—åœ°å€ï¼š"></a>ç³»åˆ—åœ°å€ï¼š</h3><p><a href="https://github.com/xmuli/QtExamples">QtExamples</a>  ã€CustomQchã€‘</p><p>æ¬¢è¿ <code>star</code> å’Œ <code>fork</code> è¿™ä¸ªç³»åˆ—çš„ <code>QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p><p>â€‹</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Qt </category>
          
          <category> å­¦ä¹  - Doxygen </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Qt é¡¹ç›®ç”¨ doxygen ç”Ÿæˆ .qchï¼ŒåµŒå…¥æ–‡æ¡£åˆ° Assistants</title>
      <link href="/posts/3f6b9501/"/>
      <url>/posts/3f6b9501/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€æƒ³ç€ï¼Œå°†é¡¹ç›® <code>API</code> çš„æ–‡æ¡£ï¼Œèƒ½å¤Ÿç”Ÿæˆç¦»çº¿ç‰ˆåµŒå…¥ <code>Qt</code> åŠ©æ‰‹  é‚£æ ·å°±æ–¹ä¾¿å¾ˆå¤šï¼Œæˆ–è€…ç›´æ¥åœ¨ <code>Qt Creator</code> é‡Œé¢ç‚¹å‡»å¸®åŠ©æŸ¥çœ‹ã€‚</p><p>â€‹æœ¬æ–‡è®²è¿°å¦‚ä½•å°† <code>Qt / C++</code> ä»£ç å‡½æ•°æ³¨é‡Šï¼Œè§£æç”Ÿæˆ <code>html</code> ç½‘é¡µï¼Œç”Ÿæˆ <code>.qhp</code> åè½¬æ¢ä¸º <code>.qch</code>ï¼Œç„¶åæ³¨å†Œåˆ°  <code>Qt Assistants</code>  é‡Œé¢æŸ¥çœ‹ã€‚<font color=#D0087E size=4 face="STFangsong">é™„ä¸Šé›†æˆ DTK å¼€å‘æ‰‹å†Œåˆ° Qt Assistants çš„æ“ä½œã€‚</font></p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/Peek%202021-03-09%2013-08.gif" width="100%"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="é›†æˆ-DTK-å¼€å‘æ‰‹å†Œåˆ°-Qt-Assistants"><a href="#é›†æˆ-DTK-å¼€å‘æ‰‹å†Œåˆ°-Qt-Assistants" class="headerlink" title="é›†æˆ DTK å¼€å‘æ‰‹å†Œåˆ° Qt Assistants"></a>é›†æˆ DTK å¼€å‘æ‰‹å†Œåˆ° Qt Assistants</h3><p>â€‹å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆï¼Œå¦‚ä½•å°† <code>DTK</code> å¼€å‘æ‰‹å†Œé›†æˆåˆ° <code>Qt Assistants</code>ï¼Œå‘½åæ‰§è¡Œå®Œæˆåï¼Œæ•ˆæœå°±æ˜¯æ–‡ç« æœ€ä¸Šé¢çš„é¢„è§ˆå›¾ï¼Œä¸”å·²è‡ªåŠ¨åˆ‡æ¢äº†æ–°çš®è‚¤ï¼Œä¹Ÿä¼šæ˜¯ <code>Qt</code> é£æ ¼çš„ï¼Œæ„Ÿå…´è¶£å¯å‚è§ <a href="https://ifmet.cn/posts/af3370a3/">æ­¤æ–‡</a>ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> doxygen graphviz                           <span class="token comment"># å®‰è£…å‡†å¤‡è½¯ä»¶</span><span class="token function">git</span> clone <span class="token parameter variable">--recursive</span> https://github.com/linuxdeepin/dtk.git <span class="token parameter variable">--depth</span><span class="token operator">=</span><span class="token number">1</span> <span class="token comment"># å…‹éš†ä»£ç </span><span class="token builtin class-name">cd</span> dtk                                                      <span class="token comment"># è¿›å…¥é¡¹ç›®æ–‡ä»¶å¤¹</span>doxygen                                                     <span class="token comment"># ç”Ÿæˆ html +  .qhp å’Œ .qch</span><span class="token function">sudo</span> <span class="token function">cp</span> doc/dtk.qch /usr/share/qt5/doc                      <span class="token comment"># ä¸ Qt æ–‡æ¡£å­˜æ”¾åœ¨ä¸€èµ·</span>assistant <span class="token parameter variable">-register</span> /usr/share/qt5/doc/dtk.qch              <span class="token comment"># æ³¨å†Œé›†æˆåˆ° Qt åŠ©æ‰‹</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>æ¶‰åŠåˆ°ç”Ÿæˆè‡ªå®šä¹‰ç¦»çº¿æ–‡æ¡£ï¼Œå®šåˆ¶è¿‡ç¨‹ä¸­ç”¨åˆ° <code>qhp</code>ï¼Œ<code>qch</code>ï¼Œ<code>qhcp</code>ï¼Œ<code>qhc</code> å››ç§ä¸åŒæ ¼å¼çš„æ–‡ä»¶ï¼š</p><table><thead><tr><th>ä¸­æ–‡</th><th>å…¨ç§°</th><th>åç¼€</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><a href="https://doc.qt.io/archives/qt-4.8/qthelpproject.html">Qtå¸®åŠ©é¡¹ç›®</a></td><td>Qt Help Project</td><td>.qhp</td><td>å¸®åŠ©ç”Ÿæˆå™¨çš„è¾“å…¥æ–‡ä»¶ï¼ŒåŒ…æ‹¬ç›®å½•ã€ç´¢å¼•å’Œå¯¹å®é™…æ–‡æ¡£æ–‡ä»¶çš„å¼•ç”¨(*.html)ï¼›å®ƒè¿˜ä¸ºæ–‡æ¡£å®šä¹‰äº†ä¸€ä¸ªç‹¬ç‰¹çš„å‘½åç©ºé—´ã€‚</td></tr><tr><td>Qtå‹ç¼©å¸®åŠ©</td><td>Qt Compressed Help</td><td>.qch</td><td>å¸®åŠ©ç”Ÿæˆå™¨çš„è¾“å‡ºæ–‡ä»¶ã€‚è¿™ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶åŒ…å«äº†å¸®åŠ©é¡¹ç›®æ–‡ä»¶ä¸­æŒ‡å®šçš„æ‰€æœ‰ä¿¡æ¯ï¼Œä»¥åŠæ‰€æœ‰å‹ç¼©çš„æ–‡æ¡£æ–‡ä»¶ã€‚</td></tr><tr><td><a href="https://doc.qt.io/archives/qt-4.8/qthelp-framework.html#qt-help-collection-project">Qtå¸®åŠ©æ”¶é›†é¡¹ç›®</a></td><td>Qt Help Collection Project</td><td>.qhcp</td><td>å¸®åŠ©é›†åˆç”Ÿæˆå™¨çš„è¾“å…¥æ–‡ä»¶ã€‚å®ƒåŒ…å«äº†åº”è¯¥åŒ…å«åœ¨å¸®åŠ©é›†åˆä¸­çš„å‹ç¼©å¸®åŠ©æ–‡ä»¶çš„å¼•ç”¨ï¼›å®ƒä¹Ÿå¯èƒ½åŒ…å«äº†å…¶ä»–ç”¨äºå®šåˆ¶QtåŠ©æ‰‹çš„ä¿¡æ¯ã€‚</td></tr><tr><td>Qtå¸®åŠ©é›†åˆ</td><td>Qt Help Collection</td><td>.qhc</td><td>å¸®åŠ©æ”¶é›†ç”Ÿæˆå™¨çš„è¾“å‡ºæ–‡ä»¶ã€‚è¿™æ˜¯QHelpEngineæ“ä½œçš„æ–‡ä»¶ã€‚å®ƒåŒ…å«å¯¹ä»»ä½•æ•°é‡çš„å‹ç¼©å¸®åŠ©æ–‡ä»¶çš„å¼•ç”¨ï¼Œä»¥åŠé™„åŠ ä¿¡æ¯ï¼Œå¦‚è‡ªå®šä¹‰è¿‡æ»¤å™¨ã€‚</td></tr></tbody></table><br><p>å¤§è‡´åˆ†æˆå¦‚ä¸‹ä¸¤ç±»ï¼š</p><ul><li><p><strong>qhp é€šè¿‡ qhelpgenerator ç”Ÿæˆ  qchã€‚</strong> qhpæ–‡ä»¶è´Ÿè´£ç»„ç»‡å®é™…ç”¨åˆ°çš„å¸®åŠ©æ–‡ä»¶ï¼ˆé€šå¸¸ä¸ºHTML æ–‡ä»¶ï¼Œå³éœ€è¦åœ¨Qt Assistantä¸­æµè§ˆçš„æ–‡ä»¶ï¼‰ï¼Œç„¶åé€šè¿‡ qhelpgenerator æ˜¯å‘½ä»¤ç”Ÿæˆå‹ç¼©çš„qchæ–‡ä»¶ã€‚qchæ–‡ä»¶æ˜¯Qt Assistantèƒ½å¤Ÿè¯†åˆ«çš„æ–‡æ¡£æœ€å°å•å…ƒï¼Œå¯ä»¥é€šè¿‡ Qt Assistant-&gt;ç¼–è¾‘-&gt;é¦–é€‰é¡¹-&gt;æ–‡æ¡£æ ‡ç­¾é¡µ-&gt;æ·»åŠ &#x2F;ç§»é™¤  æ“ä½œæ¥æ³¨å†Œæˆ–è€…æ³¨é”€ä¸€ä¸ªqchæ–‡ä»¶ã€‚ä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤ â€œassistant -register doc.qchâ€ æ¥æ³¨å†Œqchæ–‡ä»¶ã€‚æ³¨å†Œåï¼Œå³å¯åœ¨Assistantç•Œé¢ä¸­æµè§ˆå¸®åŠ©æ–‡æ¡£ã€‚</p></li><li><p><strong>qhcp é€šè¿‡ qcollectiongenerator ç”Ÿæˆ qhcã€‚</strong> qhcp å…¶ä¸»è¦ä½œç”¨æ˜¯å°†qchäºŒè¿›åˆ¶æ–‡ä»¶ç»„ç»‡æˆä¸ºä¸€ä¸ªcollectionï¼Œå®šåˆ¶å®¢æˆ·åŒ–çš„Assistantï¼›è€Œ qhc åˆ™æ˜¯é€šè¿‡ qcollectiongenerator å‘½ä»¤ç”Ÿæˆçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¯åŠ¨ Assistant æ—¶éœ€è¦æŒ‡å®š collection å‚æ•°ï¼Œå³ qhc æ–‡ä»¶ã€‚qhc æ–‡ä»¶ä¸­æ˜¯ qch æ–‡ä»¶çš„é›†åˆï¼Œæ‰“å¼€ Assistant æ—¶ï¼Œé€šè¿‡æŒ‡å®šå½“å‰collection å³å¯æ³¨å†Œå¤šä¸ªå¸®åŠ©æ–‡æ¡£ã€‚</p></li></ul><br><h3 id="ç®€æ´æµç¨‹"><a href="#ç®€æ´æµç¨‹" class="headerlink" title="ç®€æ´æµç¨‹"></a>ç®€æ´æµç¨‹</h3><ol><li>å¯¹ä¸€ä¸ª <code>C++ / Qt</code> é¡¹ç›®æ·»åŠ  <code>API</code> å‡½æ•°çš„æ³¨é‡Šï¼Œæ˜¯ <code>doxygen</code> é£æ ¼</li><li>ä½¿ç”¨ <code>doxygen</code> ä¿®æ”¹é»˜è®¤ç”Ÿæˆæ¨¡æ¿</li><li>è§£æå¾—åˆ° <code>html</code> å’Œ <code>.qhp</code> çš„ä¸¤ç±»æ–‡ä»¶</li><li>è¿è¡Œ <code>qhelpgenerator</code> å°† <code>.qhp</code> è½¬æ¢ä¸º .<code>qch</code> æ ¼å¼</li><li>æ³¨å†Œ <code>.qch</code> åˆ° <code>Qt Assistants</code> ï¼Œç„¶åæ‰“å¼€è§‚çœ‹æ•ˆæœ</li></ol><br><h3 id="å…·ä½“ä¾‹å­"><a href="#å…·ä½“ä¾‹å­" class="headerlink" title="å…·ä½“ä¾‹å­"></a>å…·ä½“ä¾‹å­</h3><h4 id="ç³»ç»Ÿç¯å¢ƒ"><a href="#ç³»ç»Ÿç¯å¢ƒ" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒ"></a>ç³»ç»Ÿç¯å¢ƒ</h4><p>â€‹<code>doxygen 1.8.13</code> &amp;&amp; <code>UOS v20</code> &amp;&amp; <code>Qt Assistants 5.11.3</code></p><br><h4 id="ä¹¦å†™æ³¨é‡Š"><a href="#ä¹¦å†™æ³¨é‡Š" class="headerlink" title="ä¹¦å†™æ³¨é‡Š"></a>ä¹¦å†™æ³¨é‡Š</h4><p>â€‹å¯¹éœ€è¦çš„é¡¹ç›®ï¼ŒæŒ‰ç…§ <code>doxygen</code> é£æ ¼å†™å…¥æ³¨é‡Šã€‚doxygen çš„ç”¨æ³•å¯å‚è€ƒ <a href="https://xmuli.blog.csdn.net/article/details/102809157">æ­¤æ–‡</a> ã€‚æ¨èå¦‚ä¸‹é£æ ¼</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">/*! * \brief main æ‰€æœ‰å‡½æ•°çš„å…¥å£ * \param argc å‚æ•°ä¸ªæ•° * \param argv å‚æ•°åœ°å€ï¼ˆäºŒç»´ï¼‰ * \return ç¨‹åºè¿è¡ŒçŠ¶æ€ */</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QApplication <span class="token function">a</span><span class="token punctuation">(</span>argc<span class="token punctuation">,</span> argv<span class="token punctuation">)</span><span class="token punctuation">;</span>    IfmetWindow w<span class="token punctuation">;</span>    w<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> a<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h4 id="è®¾ç½®-doxygen-å‚æ•°"><a href="#è®¾ç½®-doxygen-å‚æ•°" class="headerlink" title="è®¾ç½® doxygen å‚æ•°"></a>è®¾ç½® doxygen å‚æ•°</h4><p>æ‰§è¡Œ <code>doxygen -g</code> ç”Ÿæˆè¯¦ç»†æ³¨é‡Šçš„ Doxyfile æ–‡ä»¶ï¼Œç„¶åä¿®æ”¹å¦‚ä¸‹åœ°æ–¹å‚æ•°</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#---------------ç”Ÿæˆ .html æ–‡ä»¶---------------</span>PROJECT_NAME           <span class="token operator">=</span> <span class="token string">"My CustomQch"</span>            <span class="token comment"># ç”Ÿæˆæ–‡æ¡£çš„åç§°</span>PROJECT_NUMBER         <span class="token operator">=</span> <span class="token number">1.0</span>.0                     <span class="token comment"># é¡¹ç›®æ–‡æ¡£çš„ç‰ˆæœ¬å·ç </span>OUTPUT_DIRECTORY       <span class="token operator">=</span> ./doc                     <span class="token comment"># è¾“å‡ºå­˜æ”¾æ–‡æ¡£çš„è·¯å¾„</span>OUTPUT_LANGUAGE        <span class="token operator">=</span> Chinese                   <span class="token comment"># ç”Ÿæˆæ–‡æ¡£ä¸ºä¸­/è‹±æ–‡ English</span>RECURSIVE              <span class="token operator">=</span> YES                       <span class="token comment"># æ–‡ä»¶é€’å½’ï¼ŒåŒ…æ‹¬å­æ–‡ä»¶ä¹Ÿè¦è¾“å‡ºä¸ºæ–‡æ¡£</span>IMAGE_PATH             <span class="token operator">=</span> ./doc/images              <span class="token comment"># æ–‡æ¡£é‡Œé¢æ’å…¥å›¾ç‰‡çš„å­˜æ”¾è·¯å¾„</span>DOT_PATH               <span class="token operator">=</span> /usr/local/bin            <span class="token comment"># å®‰è£… graphviz ï¼Œåœ¨æ­¤å¯æ‰¾åˆ° dot</span><span class="token comment">#---------------ç”Ÿæˆ .qhp æ–‡ä»¶---------------</span>SHORT_NAMES            <span class="token operator">=</span> YES                       <span class="token comment"># ç”Ÿæˆæ›´çŸ­çš„æ–‡ä»¶å</span>GENERATE_QHP           <span class="token operator">=</span> YES                       <span class="token comment"># ä½¿ç”¨å‘½åç©ºé—´ã€ç”Ÿæˆ .qch ï¼Œæ­¤å¿…é¡»å¼€å¯</span>QCH_FILE               <span class="token operator">=</span> ./doc/my_custom_qch.qch   <span class="token comment"># é€šè¿‡ html ç”Ÿæˆçš„ qch è·¯å¾„</span>QHP_NAMESPACE          <span class="token operator">=</span> ifmet.cn                  <span class="token comment"># å‘½åç©ºé—´è¦æ˜¯å”¯ä¸€çš„ï¼Œæ‰èƒ½æ˜¾ç¤º</span>QHP_CUST_FILTER_NAME   <span class="token operator">=</span> YES<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨æ„:ã€€å¦‚æœæ²¡æœ‰æŠŠQt binçš„è·¯å¾„åŠ åˆ° pathä¸­, åˆ™ QHG_LOCATION éœ€è¦æŒ‡å®š qhelpgenerator çš„å…¨è·¯å¾„</p><br><h4 id="ç”Ÿæˆ-html-qhp"><a href="#ç”Ÿæˆ-html-qhp" class="headerlink" title="ç”Ÿæˆ html + qhp"></a>ç”Ÿæˆ html + qhp</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">doxygen Doxyfile   <span class="token comment"># ç®€å†™ä¸º doxygen</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€‹æ‰§è¡Œä¸Šé¢å‘½ä»¤ç”Ÿæˆ <code>.html</code> ç½‘é¡µå’Œ <code>.qhp</code> æ–‡ä»¶ã€‚è‹¥æŠ¥ç”Ÿæˆ <code>dot</code>  è½¬æ¢ <code>png</code> å¤±è´¥ï¼Œåˆ™éœ€è¦å®‰è£…  <code>graphviz</code> åŒ…ï¼Œå…¶å®‰è£…è·¯å¾„ä¸º  <code>/usr/local/bin</code></p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210308162516247.png" width="100%"/ loading="lazy"><p>ä¸€èˆ¬ä¼šç›´æ¥ç”Ÿæˆ <code>index.html</code> ã€ <code>index.qhp</code>ï¼›å¦‚å‚æ•°é…ç½®å¯¹äº†ï¼Œä¼šç›´æ¥ç”Ÿæˆ <code>my_custom_qch.qch</code> æ–‡ä»¶ï¼Œè‹¥æ˜¯æ²¡æœ‰ï¼Œä¹Ÿå¯æ‰§è¡Œç”Ÿæˆ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">â˜  CustomQch <span class="token punctuation">[</span>master<span class="token punctuation">]</span> âš¡  qhelpgenerator ./doc/html/index.qhp <span class="token parameter variable">-o</span> ./doc/index.qch<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210308173339.png" width="70%"/ loading="lazy"><br><h4 id="æ³¨å†Œ-qch"><a href="#æ³¨å†Œ-qch" class="headerlink" title="æ³¨å†Œ .qch"></a>æ³¨å†Œ .qch</h4><p>æ³¨å†Œæ‰§è¡ŒæˆåŠŸä¼šå¦‚ä¸‹ï¼Œç‚¹å‡»æŸ¥çœ‹å¦‚å›¾ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">â˜  doc <span class="token punctuation">[</span>master<span class="token punctuation">]</span> âš¡  assistant <span class="token parameter variable">-register</span> my_custom_qch.qchDocumentation successfully registered.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/image-20210308165123417.png" width="90%"/ loading="lazy"><br><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><ul><li><a href="https://doc.qt.io/archives/qt-4.8/qthelp-framework.html">The Qt Help Framework</a></li><li><a href="http://shouce.jb51.net/qt-beginning/52.html">å®šåˆ¶Qtå¸®åŠ©ç³»ç»Ÿ</a> </li><li><a href="https://www.geek-share.com/detail/2515064905.html">åˆ©ç”¨qtåˆ¶ä½œå¸®åŠ©æ–‡æ¡£</a></li><li><a href="https://stackoverflow.com/questions/7951776/sh-dot-command-not-found-doxygen-lion">sh: dot: command not found + doxygen + Lion</a></li></ul><br><h3 id="ç³»åˆ—åœ°å€ï¼š"><a href="#ç³»åˆ—åœ°å€ï¼š" class="headerlink" title="ç³»åˆ—åœ°å€ï¼š"></a>ç³»åˆ—åœ°å€ï¼š</h3><p><a href="https://github.com/xmuli/QtExamples">QtExamples</a>  ã€CustomQchã€‘ï¼Œæ‰€æœ‰æ­¥éª¤ç›´æ¥æŸ¥çœ‹å¯¹åº” commit çš„å“ˆå¸Œå³å¯ã€‚</p><p>æ¬¢è¿ <code>star</code> å’Œ <code>fork</code> è¿™ä¸ªç³»åˆ—çš„ <code>QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
          <category> å­¦ä¹  - Qt </category>
          
          <category> å­¦ä¹  - Doxygen </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo éƒ¨ç½² valine è¯„è®ºçš„ leancloud è®¾ç½®</title>
      <link href="/posts/f8ca040f/"/>
      <url>/posts/f8ca040f/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€å¾ˆä¹…ä¹‹å‰ï¼Œå°±æ˜¯ä½¿ç”¨çš„ <code>valine</code> çš„è¯„è®ºç³»ç»Ÿï¼Œå®é™…æ˜¯åœ¨ <code>leancloud</code> å¹³å°è¿›è¡Œéƒ¨ç½²çš„ã€‚ä¹Ÿç®—æ˜¯ä¹‹å‰æ–‡ç« ä»Šå‘ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="åˆ›å»ºå¯¹è±¡"><a href="#åˆ›å»ºå¯¹è±¡" class="headerlink" title="åˆ›å»ºå¯¹è±¡"></a>åˆ›å»ºå¯¹è±¡</h3><p>ä¸€å¼€å§‹å»ºè®®é€‰æ‹© <strong>å›½é™…ç‰ˆ</strong>ï¼Œåé¢ç»‘å®šåŸŸåå¯ä»¥æ— éœ€å¤‡æ¡ˆã€‚ç‚¹å‡» <code>å­˜å‚¨</code> - <code>åˆ›å»º Class</code>ï¼›åç§°ä¸º Counter åç‚¹å‡»ç¡®è®¤ã€‚</p><p>åœ¨ <code>è®¾ç½®</code> - <code>åº”ç”¨ Keys</code> ä¸­è®°å½•å¯¹åº”çš„ <strong>AppID</strong> ã€<strong>AppKey</strong>  å³å¯ï¼›ç„¶åå¡«å†™è¿› yun ä¸»é¢˜çš„ .yml æ–‡ä»¶ ï¼ˆ å®é™…æ˜¯ <code>hexo/source/_data/yun.yml</code>ï¼Œç”± yun ä¸»é¢˜çº¦å®šçš„ï¼‰ ï¼› å‚è§ <a href="https://hexo-theme-yun.vercel.app/guide/third-party-support.html#valine">yun - valine</a> ã€<a href="https://valine.js.org/quickstart.html#%E8%8E%B7%E5%8F%96APP-ID-%E5%92%8C-APP-Key">valine.js.org</a>  é…ç½®è¯´æ˜</p><br><h3 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h3><p>ç‚¹å‡» <code>äº‘å¼•æ“</code> -  <code>-WEB</code> - <code>éƒ¨ç½²</code> - <code>éƒ¨ç½²é¡¹ç›®</code>  - <code>-o- Gitéƒ¨ç½²</code>ï¼Œç‚¹å‡» <code>é…ç½® Git</code> åï¼Œè¾“å…¥åï¼Œç‚¹å‡»åˆ·æ–°ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">https://github.com/zhaojun1998/Valine-Admin.git   <span class="token comment"># æ–°ç‰ˆï¼Œæ¨èï¼Œé‚®ä»¶é€šçŸ¥å¾ˆæ£’</span>è®¾ç½®æ•™ç¨‹ï¼šhttps://github.com/zhaojun1998/Valine-Admin<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>PS: <del><code>https://github.com/DesertsP/Valine-Admin.git</code>  # æ—§ç‰ˆï¼Œv1.4.0 åæ²¡æœ‰è‡ªå¸¦é‚®ä»¶åŠŸèƒ½ï¼Œä¸æ¨è</del></p><p>å†æ¬¡è¿›å…¥åˆ°éƒ¨ç½²ï¼Œå¦‚ä¸‹å›¾ç‚¹å‡» <code>éƒ¨ç½²</code>ï¼Œ ç•¥åŠ ç­‰å¾…ï¼Œå³å¯éƒ¨ç½²æˆåŠŸã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210306150154.png" width="80%"/ loading="lazy"><br><h3 id="ç»‘å®šåŸŸå"><a href="#ç»‘å®šåŸŸå" class="headerlink" title="ç»‘å®šåŸŸå"></a>ç»‘å®šåŸŸå</h3><p>ç‚¹å‡» <code>è®¾ç½®</code> - <code>åŸŸåç»‘å®š</code> - <code>ç»‘å®šæ–°åŸŸå</code>ï¼Œé€‰æ‹©å¦‚ä¸‹ï¼ŒéšåæŒ‰ç…§æç¤ºï¼Œå»é˜¿é‡Œäº‘é…ç½® DNS è§£æã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210306150753.png" width="45%"/ loading="lazy">  <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210306150831.png" width="45%"/ loading="lazy"></p><p>éšåç­‰å¾…å³å¯æˆåŠŸã€‚å¦‚æœé€‰å– è‡ªåŠ¨ SSL è¯ä¹¦ç®¡ç†ï¼Œç¬¬ä¸€æ¬¡æ˜¾ç¤ºå¤±è´¥ï¼ˆæˆ‘å°±é‡åˆ°äº†ï¼‰ï¼Œé‚£ä¹ˆåªéœ€è¦å†é‡æ–°å°è¯•é…ç½®ä¸€é DNS è§£æï¼Œå®ƒä¹Ÿä¼šæˆåŠŸã€‚</p><br><h3 id="è‡ªå®šä¹‰ç¯å¢ƒå˜é‡"><a href="#è‡ªå®šä¹‰ç¯å¢ƒå˜é‡" class="headerlink" title="è‡ªå®šä¹‰ç¯å¢ƒå˜é‡"></a>è‡ªå®šä¹‰ç¯å¢ƒå˜é‡</h3><p>ç‚¹å‡» <code>äº‘å¼•æ“</code> -  <code>-WEB</code> - <code>è®¾ç½®</code> - <strong>æ·»åŠ </strong>ï¼Œ æ·»åŠ ä¸€äº›å¦‚ä¸‹å˜é‡ï¼Œ å¯ä»¥ç”¨æ¥è‡ªå®šä¹‰ä¸€äº›é‚®ä»¶é€šçŸ¥ã€é€šçŸ¥æ¨¡æ¿ã€æ¶ˆæ¯å›å¤ç­‰ä¸ªæ€§åŒ–çš„è®¾ç½®ã€‚ è¯¦ç»†å‚è€ƒ <a href="https://deserts.io/valine-admin-document/">Valine Admin é…ç½®æ‰‹å†Œ</a> </p><table><thead><tr><th>å˜é‡</th><th>ç¤ºä¾‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>SITE_NAME</td><td>Deserts</td><td>[å¿…å¡«]åšå®¢åç§°</td></tr><tr><td>SITE_URL</td><td><a href="https://panjunwen.com/">https://panjunwen.com</a></td><td>[å¿…å¡«]é¦–é¡µåœ°å€</td></tr><tr><td><strong>SMTP_SERVICE</strong></td><td>QQ</td><td>[æ–°ç‰ˆæ”¯æŒ]é‚®ä»¶æœåŠ¡æä¾›å•†ï¼Œæ”¯æŒ QQã€163ã€126ã€Gmail ä»¥åŠ <a href="https://nodemailer.com/smtp/well-known/#supported-services">æ›´å¤š</a></td></tr><tr><td>SMTP_USER</td><td><a href="mailto:xxxxxx@qq.com">xxxxxx@qq.com</a></td><td>[å¿…å¡«]SMTPç™»å½•ç”¨æˆ·</td></tr><tr><td>SMTP_PASS</td><td>ccxxxxxxxxch</td><td>[å¿…å¡«]SMTPç™»å½•å¯†ç ï¼ˆQQé‚®ç®±éœ€è¦è·å–ç‹¬ç«‹å¯†ç ï¼‰</td></tr><tr><td>SENDER_NAME</td><td>Deserts</td><td>[å¿…å¡«]å‘ä»¶äºº</td></tr><tr><td>SENDER_EMAIL</td><td><a href="mailto:xxxxxx@qq.com">xxxxxx@qq.com</a></td><td>[å¿…å¡«]å‘ä»¶é‚®ç®±</td></tr><tr><td>ADMIN_URL</td><td><a href="https://xxx.leanapp.cn/">https://xxx.leanapp.cn/</a></td><td>[å»ºè®®]Webä¸»æœºäºŒçº§åŸŸåï¼ˆäº‘å¼•æ“åŸŸåï¼‰ï¼Œç”¨äºè‡ªåŠ¨å”¤é†’</td></tr><tr><td>BLOGGER_EMAIL</td><td><a href="mailto:xxxxx@gmail.com">xxxxx@gmail.com</a></td><td>[å¯é€‰]åšä¸»é€šçŸ¥æ”¶ä»¶åœ°å€ï¼Œé»˜è®¤ä½¿ç”¨SENDER_EMAIL</td></tr><tr><td>AKISMET_KEY</td><td>xxxxxxxx</td><td>[å¯é€‰]Akismet Key ç”¨äºåƒåœ¾è¯„è®ºæ£€æµ‹ï¼Œè®¾ä¸ºMANUAL_REVIEWå¼€å¯äººå·¥å®¡æ ¸ï¼Œç•™ç©ºä¸ä½¿ç”¨ååƒåœ¾</td></tr></tbody></table><p><font color=#D0087E size=4 face="å¹¼åœ†">ç„¶åç‚¹å‡»é‡å¯éƒ¨ç½²ï¼Œå³å¯ç”Ÿæ•ˆã€‚</font> </p><br><h3 id="è¯„è®ºç®¡ç†"><a href="#è¯„è®ºç®¡ç†" class="headerlink" title="è¯„è®ºç®¡ç†"></a>è¯„è®ºç®¡ç†</h3><p>çœ‹åˆ°è¿è¡Œä¸­ï¼Œè¾“å…¥æµè§ˆå™¨è¾“å…¥ <code>https://äº‘å¼•æ“åŸŸå/sign-up</code> å¯¹åº”æˆ‘çš„å°±æ˜¯ <code>https://valine.ifmet.cn/sign-up </code>ï¼Œç¬¬ä¸€æ¬¡ç™»å½•è¾“å…¥æ˜¯è®©æ³¨å†Œç®¡ç†å‘˜ç™»å½•ä¿¡æ¯</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210306154824.png" width="50%"/ loading="lazy"><p>Â è¾“å…¥å®Œæˆä¹‹åï¼Œå®ƒä¼šè‡ªåŠ¨è·³è½¬åˆ°  <code>https://äº‘å¼•æ“åŸŸå</code> ç½‘ç«™è®©ç™»å½•ï¼Œè¾“å…¥ç”¨æˆ·åï¼Œåˆšæ‰çš„å¯†ç ï¼Œå³å¯ç™»å½•æˆåŠŸã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210306154958.png" width="50%"/ loading="lazy"><br><h3 id="å®šæ—¶ä»»åŠ¡"><a href="#å®šæ—¶ä»»åŠ¡" class="headerlink" title="å®šæ—¶ä»»åŠ¡"></a>å®šæ—¶ä»»åŠ¡</h3><p>â€‹å…è´¹çš„ leancloud æ˜¯ä¼šè‡ªåŠ¨ä¼‘çœ çš„ï¼Œè¿™é‡Œè®¾ç½®ä¸€ä¸‹ã€‚æ³¨æ„å›½é™…ç‰ˆä½¿ç”¨UTC-0æ—¶é—´ï¼Œæ³¨æ„ä¸å›½å†…æ—¶é—´å¯¹åº”ã€‚æˆ‘çš„é…ç½®å¦‚ä¸‹ï¼š</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210306160110.png" width="90%"/ loading="lazy"><br><h3 id="é‚®ä»¶é€šçŸ¥æ¨¡æ¿"><a href="#é‚®ä»¶é€šçŸ¥æ¨¡æ¿" class="headerlink" title="é‚®ä»¶é€šçŸ¥æ¨¡æ¿"></a>é‚®ä»¶é€šçŸ¥æ¨¡æ¿</h3><p>åœ¨ äº‘å¼•æ“é‡Œé¢ï¼Œæ˜¯å¯ä»¥ä¿®æ”¹è‡ªå®šä¹‰çš„å‚æ•°çš„ï¼Œä»è€Œä¿®æ”¹é‚®ä»¶æ¨¡æ¿çš„æ ·å¼ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Hexo </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Hexo å¼€å¯åŒçº¿ç¨‹è§£æéƒ¨ç½²åˆ° GitHub + Aliyun</title>
      <link href="/posts/e5b4e435/"/>
      <url>/posts/e5b4e435/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  æœ¬ç«™ <a href="https://xmuli.tech/">xmuli.tech</a> è¿ç§»ä¸€ä»½åˆ°å›½å†…æœåŠ¡å™¨åï¼Œåˆ†äº«ä¸€ä¸‹æˆ‘å½“å‰çš„åšå®¢è¿è¡Œè®¾è®¡æ–¹æ¡ˆå®è¡Œï¼Œä»¥åŠæˆ‘å¦‚ä½•åˆ©ç”¨ <code>GitHub</code> çš„ <code>Action</code> è®¾ç½®è„šæœ¬ï¼Œè¿›è¡ŒåŒè§£æï¼š<code>é˜¿é‡Œäº‘æœåŠ¡å™¨</code> + <code>GitHub Pages</code>ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210306.png" width="90%"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="éƒ¨ç½²åŸç†"><a href="#éƒ¨ç½²åŸç†" class="headerlink" title="éƒ¨ç½²åŸç†"></a>éƒ¨ç½²åŸç†</h3><p>â€‹å½“å‰åšå®¢çš„éƒ¨ç½²åŸç†å¦‚ä¸Šå›¾ï¼Œè§£å†³äº†ä¹‹å‰åœ¨å›½å†…è®¿é—®ç•¥æ…¢çš„é—æ†¾ã€‚ç°åœ¨è¿™å¥—æ–¹æ¡ˆï¼Œéå¸¸çš„æ»¡è¶³æˆ‘çš„ä¸ªäººæ‰€éœ€ã€‚</p><p><strong>å›¾è§£æ³¨é‡Šï¼š</strong><br>æœ¬ç”µè„‘ Mï¼šä¸»åŠ›ç¼–ç¨‹æœºå™¨ï¼Œä¹Ÿå¯ä»¥æ˜¯ä»»æ„ä¸€å°è®¾å¤‡<br>æœåŠ¡å™¨ Aï¼šGitHub ä»“åº“ xmuliMarkï¼Œå­˜æ”¾æºæ–‡ä»¶ï¼ˆ*.mdï¼‰ï¼Œåªä½¿ç”¨ master åˆ†æ”¯<br>æœåŠ¡å™¨ Bï¼šGitHub ä»“åº“ xmuli.github.ioï¼Œå­˜æ”¾è§£æåç½‘é¡µï¼ˆ*. htmlï¼‰ï¼Œä½¿ç”¨ master åˆ†æ”¯ (éé»˜è®¤åˆ†æ”¯)<br>æœåŠ¡å™¨ Cï¼šå›½å†…é˜¿é‡Œäº‘çš„è½»é‡çº§æœåŠ¡å™¨ï¼Œå­˜æ”¾è§£æåç½‘é¡µï¼ˆ*. htmlï¼‰ï¼Œä½¿ç”¨ master åˆ†æ”¯</p><p><strong>ä¼˜ç‚¹å¦‚ä¸‹ï¼š</strong></p><ul><li><font color=#D0087E size=4 face="å¹¼åœ†">ä»»æ„ç”µè„‘å†™ <code>Markdown</code> æ–‡ç« ï¼Œç„¶åæ¨é€åˆ° A ä»“åº“å³å¯ï¼ˆä¸ç”¨é…ç½®å…³å¿ƒç¯å¢ƒï¼‰</font></li><li>ä¸éœ€æœ¬åœ°è§£æï¼Œéƒ½æ˜¯è¿œç¨‹æœåŠ¡å™¨è§£æï¼Œåœ¨éƒ¨ç½²åˆ°å¦å¤–ä¸¤å°è¿œç¨‹æœåŠ¡å™¨</li><li>å›½å†… IP è®¿é—®ï¼Œè§£æåˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨</li><li>å›½å¤– IP è®¿é—®ï¼Œè§£æåˆ° <code>GitHub</code> çš„æœåŠ¡å™¨</li><li>ä»…ä¸€ä»½æºæ–‡ä»¶ï¼Œä¸¤ä»½éƒ¨ç½²åçš„è§£ææ–‡ä»¶ï¼Œå„è‡ªéƒ¨ç½²</li><li>æºæ–‡ä»¶ä»…è‡ªå·±å¯è®¿é—®ï¼Œæé«˜å®‰å…¨ï¼ˆå°†æºæ–‡ä»¶ä¸è§£æåçš„ç½‘é¡µæ–‡ä»¶åˆ†å¼€ï¼‰</li><li>å…¨ç¨‹è‡ªå·±æ­å»ºï¼Œå­¦ä¹ åŠ¨æ‰‹éƒ¨ç½²ï¼Œç”šæ˜¯å¿«ä¹</li><li>è´¹ç”¨æä½ï¼ˆé˜¿é‡Œäº‘æœåŠ¡å™¨ + åŸŸåè´¹ç”¨ï¼‰</li><li>è‡ªå·±çš„æœåŠ¡å™¨åˆéƒ¨ç½²ä¸€ä¸ªæœåŠ¡ï¼Œæ„Ÿè§‰æƒ¬æ„</li></ul><br><h3 id="å¦‚ä½•æ­å»º"><a href="#å¦‚ä½•æ­å»º" class="headerlink" title="å¦‚ä½•æ­å»º"></a>å¦‚ä½•æ­å»º</h3><p><strong>å…³äºå¦‚ä½•éƒ¨ç½²ï¼Œè¯¦ç»†å¯ä»¥å‚è€ƒè¿™ä¸¤ç¯‡</strong></p><ul><li><a href="https://ifmet.cn/posts/5490ca44/">é˜¿é‡Œäº‘æœåŠ¡å™¨éƒ¨ç½² Hexo åšå®¢</a> </li><li><a href="https://ifmet.cn/posts/70a6b02f/">é˜¿é‡Œäº‘æœåŠ¡å™¨ nginx ä¸Šéƒ¨ç½² SSL è¯ä¹¦å®ç° https è®¿é—®</a></li></ul><p>å†ä¹‹å‰çš„ï¼Œå¯ä»¥å‚è€ƒ <a href="https://ifmet.cn/categories/%E5%AD%A6%E4%B9%A0-hexo/">æ­¤ç³»åˆ—</a> ï¼Œè®°å½•ç€æˆ‘æ­å»ºåšå®¢çš„ä¸€äº›è®°å½•</p><br><h3 id="é…ç½®-GitHub-Actionï¼š"><a href="#é…ç½®-GitHub-Actionï¼š" class="headerlink" title="é…ç½® GitHub Actionï¼š"></a>é…ç½® GitHub Actionï¼š</h3><p>â€‹éƒ¨ç½²ä¸­çš„ä¸€ä¸ªç—›ç‚¹ï¼šA ä»“åº“å­˜æ”¾ markdown æ–‡ä»¶ï¼Œç„¶åå¯ä»¥åˆ©ç”¨ GitHub çš„ Action æœåŠ¡ï¼Œè‡ªåŠ¨è§£æä¸ºä¸€ä»½ html ç½‘é¡µæ–‡ä»¶ï¼Œä½†æ˜¯å¦‚ä½•ä½¿ç”¨ä¸€ä¸ª .yml éƒ¨ç½²åˆ° é˜¿é‡Œäº‘æœåŠ¡å™¨ + GitHub Pages å‘¢ï¼Ÿ</p><p>â€‹é™„ä¸Šæˆ‘æ¯”è¾ƒä¼˜é›…çš„è§£å†³æ–¹æ¡ˆï¼Œå…¶ä¸­ A ä»“åº“çš„ .yml å¦‚ä¸‹</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># å·¥ä½œæµç¨‹çš„åç§°</span><span class="token key atrule">name</span><span class="token punctuation">:</span> Hexo Deploy GitHub Page + Aliyun<span class="token key atrule">on</span><span class="token punctuation">:</span>  <span class="token key atrule">push</span><span class="token punctuation">:</span>    <span class="token key atrule">branches</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> master<span class="token key atrule">jobs</span><span class="token punctuation">:</span>  <span class="token key atrule">build</span><span class="token punctuation">:</span>    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span><span class="token number">20.04</span>        <span class="token key atrule">steps</span><span class="token punctuation">:</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Checkout      <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v2.3.4          <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Setup Node.js environment      <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v2.1.5      <span class="token key atrule">with</span><span class="token punctuation">:</span>         <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token string">"14.x"</span>        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Hexo deploy      <span class="token key atrule">env</span><span class="token punctuation">:</span>        <span class="token key atrule">HEXO_DEPLOY_KEY</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> secrets.HEXO_DEPLOY_KEY <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>              <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">        mkdir -p ~/.ssh/        echo "$HEXO_DEPLOY_KEY" > ~/.ssh/id_rsa        chmod 600 ~/.ssh/id_rsa        ssh-keyscan github.com >> ~/.ssh/known_hosts        ssh-keyscan ifmet.cn >> ~/.ssh/known_hosts        git config --global user.name "xmuli"        git config --global user.email "xmulitech@gmail.com"        npm i -g hexo-cli        npm i        hexo clean &amp;&amp; hexo generate &amp;&amp; hexo deploy</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹å…¶ä¸­ <code>HEXO_DEPLOY_KEY</code> æ˜¯æœ¬åœ°æœºå™¨ç§˜é’¥ï¼Œä¹Ÿæ˜¯ A ä»“åº“(ä¹¦å†™ *.md æ–‡ç« ) ä¸­çš„ <strong>â€œsettings-Secrets and variablesâ€</strong> ï¼Œè€Œ C æœåŠ¡å™¨æœ‰ç€å¯¹åº”çš„å…¬é’¥ï¼Œå…¶å€¼ä¸ºæœ¬åœ°æœºå™¨çš„ git ç§æœ‰ç§˜é’¥( <code>cat ~/.ssh/id_rsa</code> æ‰€è¾“å‡ºçš„å€¼)ï¼›ä¸”è®¾ç½®äº†å…å¯†ç™»å½•ï¼Œè€Œå…¶ä¸­æœ«å°¾çš„ run: | ä¸­åˆ™ä¸‹é¢ä¸¤è¡Œæ˜¯å…³é”®ï¼ŒåŒæ—¶éƒ¨ç½²ä¸¤ä¸ªæœåŠ¡å™¨çš„é‡ç‚¹</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">ssh<span class="token punctuation">-</span>keyscan github.com <span class="token punctuation">></span><span class="token punctuation">></span> ~/.ssh/known_hostsssh<span class="token punctuation">-</span>keyscan ifmet.cn <span class="token punctuation">></span><span class="token punctuation">></span> ~/.ssh/known_hosts<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><br>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Hexo </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Qt é¡¹ç›®(CMake)è®¾ç½®å›½é™…åŒ–æ”¯æŒ</title>
      <link href="/posts/9644ed82/"/>
      <url>/posts/9644ed82/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€å‡†å¤‡å°†æˆ‘å†™çš„æ‚¬æµ®ç½‘é€Ÿçª—å£ä¸Šé¢æ”¯æŒå›½é™…åŒ–ï¼ˆå¤šè¯­è¨€ï¼‰ï¼›è®°å½•ä¸€ä¸‹é€šè¿‡ <code>CMake</code> + <code>Qt</code> æ¥å¯¹é¡¹ç›®è®¾ç½®å›½é™…åŒ–ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/Peek 2021-03-05 17-58.gif" width="80%"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong> ã€€<strong>ğŸ’»</strong>  <code>uos20 amd64</code> ğŸ“ <code>Qt 5.11.3</code> ğŸ“ <code>cmake 3.13.4</code> ğŸ“ <code>gdb8.0</code> </p><br><h3 id="å›½é™…åŒ–åŸç†"><a href="#å›½é™…åŒ–åŸç†" class="headerlink" title="å›½é™…åŒ–åŸç†"></a>å›½é™…åŒ–åŸç†</h3><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/image-20210305165840537.png" width="90%"/ loading="lazy"><p>â€‹<code>Qt</code> å®ç°å¤šè¯­è¨€çš„å…³é”®åŸç†å¦‚å›¾ï¼Œå…ˆæ‰«ææ‰€æœ‰çš„æºç æ–‡ä»¶ <code>.cpp</code>ã€<code>.ui</code> æ–‡ä»¶ï¼Œæ‰¾åˆ°è¢« <code>tr()</code> åŒ…è£¹çš„å­—ç¬¦ä¸²ï¼ˆå¤šå›½è¯­è¨€æ··åˆä¹Ÿå¯ï¼‰ï¼Œç„¶åäººä½¿ç”¨åˆ° <code>Qt5 Lingust</code> ç¨‹åºæ¥å¯¹æ¯ä¸€ä¸ª <code>.ts</code> æ–‡ä»¶è¿›è¡Œç¿»è¯‘ï¼Œå†æ¬¡ç¼–è¯‘ç”Ÿæˆæ‰€éœ€çš„ <code>.qm</code> æ–‡ä»¶ã€‚</p><br><h3 id="æ“ä½œæ­¥éª¤"><a href="#æ“ä½œæ­¥éª¤" class="headerlink" title="æ“ä½œæ­¥éª¤"></a>æ“ä½œæ­¥éª¤</h3><p>â€‹å› ä¸ºè¦å¯¹è‡ªå·±çš„ç¨‹åºå®Œæˆå›½é™…åŒ–ï¼Œå…ˆåœ¨ <code>CMakeLists.txt</code> æ·»åŠ å¦‚ä¸‹ä»£ç ï¼Œæ ‡æ˜ä½¿ç”¨ <code>LinguistTools</code> æ¥ç”Ÿæˆ <code>*.ts</code> æ–‡ä»¶</p><pre class="line-numbers language-cmake" data-language="cmake"><code class="language-cmake"><span class="token keyword">set</span><span class="token punctuation">(</span>TS_FILES        ./translations/zh_CN.ts        ./translations/zh_TW.ts<span class="token punctuation">)</span><span class="token keyword">find_package</span><span class="token punctuation">(</span>Qt<span class="token punctuation">$&#123;</span><span class="token variable">QT_VERSION</span><span class="token punctuation">&#125;</span> COMPONENTS <span class="token punctuation">$&#123;</span>REQUIRED_LIBS<span class="token punctuation">&#125;</span> LinguistTools REQUIRED<span class="token punctuation">)</span><span class="token function">qt5_create_translation</span><span class="token punctuation">(</span>QM_FILES <span class="token punctuation">$&#123;</span><span class="token variable">CMAKE_CURRENT_SOURCE_DIR</span><span class="token punctuation">&#125;</span> <span class="token punctuation">$&#123;</span>TS_FILES<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹åå¯¹é¡¹ç›®æ‰§è¡Œ <code>CMake</code>ã€ç¼–è¯‘åï¼Œä¼šæ ¹æ® <code>.cpp</code> å’Œ <code>.ui</code> æ–‡ä»¶é‡Œé¢å­—ç¬¦ä¸²æ‰«æï¼ˆå­—ç¬¦ä¸²å¯ä»¥åŒæ—¶ä¸ºå‡ å›½è¯­è¨€æ··åˆï¼Œä½†å¿…é¡»ä½¿ç”¨ <code>tr()</code> åŒ…è£¹ï¼‰ï¼›  ä¼šåœ¨æºç è·¯å¾„çš„ <code>./translations/</code> ä¸‹ç”Ÿæˆä¸¤ä¸ª <code>zh_CN.tsã€zh_TW.ts</code> æ–‡ä»¶ï¼›ä½¿ç”¨ <code>Qt5 Lingust</code> ï¼Œæ‰‹å·¥å¯¹æºæ–‡ä»¶ç¿»è¯‘æœ¬å›½è¯­è¨€ä¿å­˜ã€‚</p><br><p>â€‹å†æ¬¡ç¼–è¯‘ä¸€éï¼Œåœ¨ <code>build-xxx</code> æ–‡ä»¶å¤¹ä¸­å¾—åˆ° <code>*.qm</code> æ–‡ä»¶ï¼Œä¸€èˆ¬è€Œè¨€ï¼Œç„¶ååœ¨æºç é‡Œé¢åŠ ä¸Šå¦‚ä¸‹ï¼Œå³å®Œæˆã€‚è‹¥æ˜¯æ²¡ç”Ÿæ•ˆçš„è¯ï¼Œåˆ™å¯èƒ½æ²¡æ‰§è¡Œ <code>ui-&gt;retranslateUi(this);</code> å‡½æ•°</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">QTranslator trans<span class="token punctuation">;</span>trans<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">"./"</span> <span class="token operator">+</span> <span class="token function">QLocale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">".qm"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">QCoreApplication</span><span class="token double-colon punctuation">::</span><span class="token function">installTranslator</span><span class="token punctuation">(</span>m_trans<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><br><p>ä½†å®é™…å…¶ä¸­æœ€åä¸€æ­¥è¦ä¿®æ”¹ä¸€ä¸‹ï¼Œç»“åˆå®é™…é¡¹ç›®ï¼Œå°†å¤šè¯­è¨€æŒ‰é’®å†™åœ¨ <code>QComboBox</code> æ§ä»¶ä¸­ï¼›åœ¨å…¶ä¸­æ·»åŠ </p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">QStringList listLang<span class="token punctuation">;</span>QStringList listData<span class="token punctuation">;</span>listLang <span class="token operator">&lt;&lt;</span> <span class="token string">"English"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"ç®€ä½“ä¸­æ–‡"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"ç¹é«”ä¸­æ–‡(å°æ¹¾)"</span><span class="token punctuation">;</span>listData <span class="token operator">&lt;&lt;</span> <span class="token string">"es_US"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"zh_CN"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"zh_TW"</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> listLang<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>    ui<span class="token operator">-></span>comboBoxLanguage<span class="token operator">-></span><span class="token function">addItem</span><span class="token punctuation">(</span>listLang<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> listData<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯¹è¯¥æ§ä»¶æ·»åŠ å¯¹åº”çš„æ§½å‡½æ•°</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token class-name">WinSetting</span><span class="token double-colon punctuation">::</span><span class="token function">onComboBoxLanguage</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString <span class="token function">language</span><span class="token punctuation">(</span><span class="token string">"zh_CN"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    language <span class="token operator">=</span> ui<span class="token operator">-></span>comboBoxLanguage<span class="token operator">-></span><span class="token function">itemData</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">bool</span> ok <span class="token operator">=</span> m_trans<span class="token operator">-></span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">"./"</span> <span class="token operator">+</span> language <span class="token operator">+</span> <span class="token string">".qm"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span> <span class="token string">"---------@1--->"</span> <span class="token operator">&lt;&lt;</span> language <span class="token operator">&lt;&lt;</span> ok<span class="token punctuation">;</span>    <span class="token class-name">QCoreApplication</span><span class="token double-colon punctuation">::</span><span class="token function">installTranslator</span><span class="token punctuation">(</span>m_trans<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><font color=#D0087E size=4 face="å¹¼åœ†">å…¶ä¸­æ¯æ¬¡è¿è¡Œ <code>installTranslator()</code> çš„æ—¶å€™ï¼Œéƒ½ä¼šè§¦å‘ <code>QEvent::LanguageChange</code> äº‹ä»¶ä¿¡å·ï¼›æ•…éœ€è¦åœ¨äº‹ä»¶è¿‡æ»¤å™¨ä¸­ï¼Œæ·»åŠ å¯¹åº”çš„å¤„ç†ï¼Œå“åº”æ›´æ–°ç•Œé¢æ›´æ–°æ–‡å­—ã€‚<strong>è¿˜è¦åœ¨è¯¥ QcomboBox æ§ä»¶ä¸­å®‰è£…æ­¤äº‹ä»¶è¿‡æ»¤å™¨ï¼›</strong>  æ­¤æ—¶å°±å·²ç»å®Œæˆäº†ï¼Œå¯ä»¥ä¸å…³é—­ç¨‹åºåˆ‡æ¢å¤šè¯­è¨€äº†ã€‚</font></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">bool</span> <span class="token class-name">WinSetting</span><span class="token double-colon punctuation">::</span><span class="token function">eventFilter</span><span class="token punctuation">(</span>QObject <span class="token operator">*</span>watched<span class="token punctuation">,</span> QEvent <span class="token operator">*</span>event<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>watched <span class="token operator">==</span> ui<span class="token operator">-></span>comboBoxLanguage<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token operator">-></span><span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> QEvent<span class="token double-colon punctuation">::</span>LanguageChange<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            ui<span class="token operator">-></span><span class="token function">retranslateUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>     <span class="token keyword">return</span> <span class="token class-name">QWidget</span><span class="token double-colon punctuation">::</span><span class="token function">eventFilter</span><span class="token punctuation">(</span>watched<span class="token punctuation">,</span> event<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h3><ul><li><p>è‹¥åœ¨ <code>QtCreator</code> ä¸­ï¼Œç‚¹å‡» â€œæ¸…ç†â€ï¼Œä¼šåˆ é™¤ <code>/translations</code> ä¸‹çš„æ‰€æœ‰ <code>.ts</code> æ–‡ä»¶ï¼Œå†æ¬¡ç¼–è¯‘åçš„ç”Ÿæˆæ˜¯ç©ºçš„æœªç¿»è¯‘çš„ <code>.ts</code> æ–‡ä»¶ï¼›å‘å‘å‘ï¼ï¼ï¼</p></li><li><p><font color=#FE7207  size=4 face="å¹¼åœ†">ä¸€èˆ¬ä½¿ç”¨è®¾è®¡å™¨æ¥è®¾è®¡çš„ç•Œé¢ UIï¼Œä¹Ÿå°±æ˜¯ç¨‹åºæºç ä¸­æˆ‘ä»¬çœ‹åˆ°çš„ *.uiæ–‡ä»¶ï¼Œåœ¨è½½å…¥ç¿»è¯‘å™¨åï¼Œæˆ‘ä»¬åº”è¯¥è°ƒç”¨ ui-&gt;retranslateUi() ï¼Œè¿™ä¸ªå‡½æ•°å®é™…ä¸Šå°±æ˜¯æŠŠ ç•Œé¢ æ§ä»¶çš„texté‡æ–°è½½å…¥ä¸€éï¼Œå¯ä»¥åœ¨ ui_*.cpp  ä¸­çœ‹åˆ°è¯¥å‡½æ•°çš„å®ç°ã€‚</font></p></li><li><p>å½“è¯­è¨€è¿›è¡Œåˆ‡æ¢æ—¶ï¼Œéœ€è¦è°ƒç”¨ <code>ui-&gt;retranslateUi(this);</code> æ›´æ–°ä¸»çª—å£ã€‚ å¦‚æœéä¸»çª—å£ï¼Œåˆ™è¿™ä¸ª <code>installTranslator</code> å‡½æ•°ä¼šè§¦å‘<code>void changeEvent(QEvent *e)</code> äº‹ä»¶ã€‚</p><p>åŸå› å¦‚ä¸‹ï¼šç³»ç»Ÿè°ƒç”¨å®Œ <code>installTranslator</code> å‡½æ•°ä¹‹åï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç»™ç¨‹åºä¸­æ‰€æœ‰çš„ <code>QWidget</code> ä»¥åŠå…¶å­ç±»å‘é€  <code>QEvent::LanguageChange()</code> ä¿¡å·ï¼Œå¹¶å‘ŠçŸ¥<code>changeEvent</code>æ§½ <code>event</code> äº§ç”Ÿã€‚æ‰€ä»¥ï¼Œåœ¨è¦åˆ‡æ¢è¯­è¨€çš„æ¯ä¸ªçª—ä½“ä¸­éƒ½è¦é‡å†™æ¥å— <code>QEvent::LanguageChange()</code> ä¿¡å·çš„ <code>changeEvent</code> å‡½æ•°ï¼Œä»è€Œå®ç°äº†è¯­è¨€çš„åŠ¨æ€åˆ‡æ¢ã€‚</p><p>æ³¨æ„ï¼šåŠ è½½ä¸»ç¨‹åºä¸å­æ’ä»¶ç¨‹åºç¿»è¯‘æ–‡ä»¶æ—¶çš„åˆ«åæˆ–è€…è·¯å¾„ä¸è¦ç›¸åŒï¼Œå¦åˆ™å­æ’ä»¶ç¨‹åºç¿»è¯‘æœ‰å¯èƒ½ä¸ç”Ÿæ•ˆã€‚</p></li></ul><br><h3 id="é¡¹ç›®æäº¤"><a href="#é¡¹ç›®æäº¤" class="headerlink" title="é¡¹ç›®æäº¤"></a>é¡¹ç›®æäº¤</h3><p>åœ¨ <a href="https://github.com/xmuli/lfxNet">lfxNet</a> çš„å®æ—¶ç½‘é€Ÿç¨‹åºä¸­ï¼Œå®é™…æäº¤ä»£ç å¯æä¾›å¤§å®¶å‚è€ƒ</p><ol><li>åœ¨ <code>Cmake</code> æ·»åŠ è°ƒç”¨ <code>LinguistTools</code> çš„ä»£ç ï¼š <a href="https://github.com/xmuli/lfxNet/commit/948522d8bf0e4bfd90b6befa5b6f59f76561aac4">#948522d8b</a> </li><li>æ›´æ–°ç¿»è¯‘ <code>.ts</code> æ–‡ä»¶: <a href="https://github.com/xmuli/lfxNet/commit/9602aa3e365b0c43510b6812c4c5209c8f0f8ba1">#9602aa3e3</a> å’Œ <a href="https://github.com/xmuli/lfxNet/commit/4e659fe139ecc56ee8c2e449dac25ab3512baa19">#4e659fe13</a> </li><li>è®¾ç½®å¤šè¯­è¨€åˆ‡æ¢ï¼š <a href="https://github.com/xmuli/lfxNet/commit/31b2561bd2de8bc036a1a836b267f4310d226e3e">#31b2561bd</a></li></ol><br><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><ul><li><a href="http://shouce.jb51.net/qt-beginning/51.html">å›½é™…åŒ–</a> </li><li><a href="https://www.cnblogs.com/apocelipes/p/14355460.html">é…ç½®CLionç®¡ç†Qté¡¹ç›®å›½é™…åŒ–æ”¯æŒ</a> </li><li><a href="https://blog.csdn.net/hebbely/article/details/69388763">Qt å¤šå›½è¯­è¨€å›½é™…åŒ–</a> </li><li><a href="https://blog.csdn.net/u011857683/article/details/78042102">Qtå¤šè¯­è¨€å®ç°å’ŒåŠ¨æ€åˆ‡æ¢ï¼ˆå›½é™…åŒ–ï¼‰</a></li></ul><br><h3 id="ç³»åˆ—åœ°å€ï¼š"><a href="#ç³»åˆ—åœ°å€ï¼š" class="headerlink" title="ç³»åˆ—åœ°å€ï¼š"></a>ç³»åˆ—åœ°å€ï¼š</h3><p><a href="https://github.com/xmuli/QtExamples">QtExamples</a>  </p><p>æ¬¢è¿ <code>star</code> å’Œ <code>fork</code> è¿™ä¸ªç³»åˆ—çš„ <code>QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨ Mac ç¼–è¯‘æˆåŠŸè¿è¡Œ qt5.15 æºç ï¼šdebug å’Œ release ç‰ˆæœ¬</title>
      <link href="/posts/8b05b275/"/>
      <url>/posts/8b05b275/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€åœ¨ <code>Mac</code> ä¸Šç¼–è¯‘ <code>qt 5.15</code> æºç ï¼Œ<code>debug</code> å’Œ <code>release</code> ç‰ˆæœ¬ã€‚æ„Ÿè§‰æ¯ä¸€ä¸ªå­¦ <code>C++/Qt</code> çš„äººï¼Œå¤§æ¦‚éƒ½ä¼šæ—©æ™šéƒ½ä¼šè¿™ä¹ˆä¸€ä¸ªå¿µå¤´ï¼Œå»ç¼–è¯‘ä¸€ä¸‹ Qt æºç ï¼Œåªæ˜¯æœ‰å»å°è¯•æˆ–è€…æ²¡æœ‰å°è¯•è¿‡ç½¢äº†ã€‚æœ¬æ–‡æä¾›ä¸€ä¸ªè¯¦ç»†çš„ç¼–è¯‘å…¨ç¨‹å’ŒåŸæ–‡ç¿»è¯‘ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=5 face="STFangsong">æœ¬æ–‡åˆå‘äº <strong>â€œå•è‡§çš„å°ç«™â€</strong>  <a href="https://xmuli.tech/">xmuli.tech</a>ï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>â€‹ä¸‹è½½æœ€æ–°çš„ <code>Qt</code>  æºç (5.15.2)æ¥ç¼–è¯‘ä¸€ä¸‹ï¼Œç¼–è¯‘ä¸€ä¸ª release å’Œ debug çš„æœ€æ–°ä»£ç ï¼›å½“ç„¶ï¼Œä¹Ÿå¯ä»¥åªç¼–è¯‘æ‰€æœ‰æºç å…¶ä¸­çš„ä¸€äº›å­æ¨¡å—ï¼›æˆ–è€…ç›´æ¥ä¸‹è½½å­æ¨¡å—ä»£ç ï¼›å’Œå†ç¼–è¯‘ä¸€ä¸‹ QtCreator ï¼›æºç å®˜æ–¹çš„<a href="https://download.qt.io/official_releases/qt/">ä¸‹è½½åœ°å€</a> ã€‚<br>â€‹è¿™é‡Œå°† qt-everywhere å’Œ qtbase çš„æºç éƒ½ç¼–è¯‘ä¸€ä¸‹ï¼›ä¸”åˆ†åˆ«ç¼–è¯‘ä¸€ä¸‹</p><p>é¦–å…ˆå¯ä»¥å‚è€ƒå¯¹åº”çš„å®˜æ–¹ç¼–è¯‘è¯´æ˜ï¼š</p><ul><li>è‹±æ–‡åŸæ–‡ï¼š <a href="https://xmuli.tech/posts/59cc7a9d/">HOW TO BUILD QT5ï¼ˆ5.15ï¼‰</a> </li><li>ä¸­æ–‡è¯‘æ–‡ï¼š<a href="https://xmuli.tech/posts/df7f9a4d/">å¦‚ä½•æ„å»º QT5ï¼ˆ5.15ï¼‰</a> </li><li>å†ç»“åˆæœ¬ç¯‡æ–‡ç« å®è·µï¼Œå®é™…è¿‡ç¨‹å’Œå…¶åŸæ–‡ç•¥æœ‰å·®å¼‚ï¼Œæ–‡ç« æ ‡æ³¨æ³¨æ„ç‚¹ã€‚</li></ul><br><p><strong><a href="https://download.qt.io/official_releases/qt/5.15/5.15.2/submodules/qtbase-everywhere-src-5.15.2.tar.xz">README</a> ä¸Šè¯´ï¼š</strong></p><ul><li><p>Perl 5.8æˆ–æ›´é«˜ç‰ˆæœ¬</p></li><li><p>Python 2.7æˆ–æ›´é«˜ç‰ˆæœ¬</p></li><li><p>æ”¯æŒC++11æ ‡å‡†çš„C++ç¼–è¯‘å™¨</p></li></ul><br><p><strong>å®é™…æœ¬æœºç¯å¢ƒï¼š</strong> <code>MacOS 10.14.6</code> ğŸ“ <code>Command_Line_Tools_for_Xcode_11.3.1</code> ğŸ“ <code>Perl v5.32.1</code> ğŸ“<code>Python 3.9.2</code> ğŸ“ <code>æ”¯æŒ c++11 æ ‡å‡†</code> </p><p><strong>å¤„ç†å™¨ï¼š</strong> 2.3 GHz å››æ ¸ Intel Core i5 ï¼ˆåé¢æä¾›ç¼–è¯‘è€—æ—¶å‚è€ƒï¼‰</p><br><h2 id="ç¼–è¯‘-QtEveryWhere-æºç "><a href="#ç¼–è¯‘-QtEveryWhere-æºç " class="headerlink" title="ç¼–è¯‘ QtEveryWhere æºç "></a>ç¼–è¯‘ QtEveryWhere æºç </h2><h3 id="ç¼–è¯‘-Release-ç‰ˆæœ¬"><a href="#ç¼–è¯‘-Release-ç‰ˆæœ¬" class="headerlink" title="ç¼–è¯‘ Release ç‰ˆæœ¬"></a>ç¼–è¯‘ Release ç‰ˆæœ¬</h3><p>ä¸‹è½½ qt å…¨éƒ¨æºç ï¼š <a href="https://download.qt.io/official_releases/qt/5.15/5.15.2/single/qt-everywhere-src-5.15.2.tar.xz">qt-everywhere-src-5.15.2.tar.xz</a> ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> qt-everywhere-src-5.15.2.tar.xz<span class="token builtin class-name">cd</span> qt-everywhere-src-5.15.2./configure <span class="token parameter variable">-prefix</span> ~/Qt/qteverywhere5.15.2 <span class="token parameter variable">-release</span> <span class="token parameter variable">-opensource</span> <span class="token parameter variable">-nomake</span> tests<span class="token function">make</span> <span class="token parameter variable">-j8</span>                                   <span class="token comment"># è€—æ—¶ 52 min</span><span class="token function">make</span> <span class="token function">install</span>                               <span class="token comment"># å®‰è£…åˆ° ~/Qt/qteverywhere5.15.2 ä¸‹ï¼Œå…± 689.7 MB </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><p><font color=#D0087E size=4 face="å¹¼åœ†"><strong>æ³¨æ„ï¼š</strong></font> </p><p>æ‰§è¡Œ <code>./configure</code> è„šæœ¬æ—¶ï¼ˆç¬¬ 3 è¡Œï¼‰ï¼š <code>~/Qt/qteverywhere5.15.2</code> ä¸ºæ‰§è¡Œ <code>make install</code> çš„å®‰è£…è·¯å¾„ï¼›ç„¶åæ‰§è¡Œå‘½ä»¤è„šæœ¬ï¼Œç”Ÿæˆçš„ä¸´æ—¶æ–‡ä»¶éƒ½åœ¨ <code>.obj/release/</code> ä¸‹</p><p><strong>è‹¥æ˜¯ç¼–è¯‘ <code>release</code> ç‰ˆæœ¬åŠ   <code> -nomake example</code>ä¼šå¤±è´¥ï¼Œåº”å»æ‰ï¼›è‹¥æ˜¯ç¼–è¯‘ <code>debug</code> ç‰ˆæœ¬å¯åŠ   <code> -nomake example</code>ï¼Œå¯é¡ºåˆ©ç¼–è¯‘æˆåŠŸï¼›</strong> ï¼Œé‡åˆ°å¦‚ä¸‹é€‰æ‹©ï¼ŒæŒ‰ä¸‹ y åå›è½¦ï¼›ç¡®è®¤ä½¿ç”¨å¼€æºè®¸å¯è¯å³å¯</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Type <span class="token string">'L'</span> to view the GNU Lesser General Public License version <span class="token number">3</span> <span class="token punctuation">(</span>LGPLv3<span class="token punctuation">)</span>.Type <span class="token string">'G'</span> to view the GNU General Public License version <span class="token number">2</span> <span class="token punctuation">(</span>GPLv2<span class="token punctuation">)</span>.Type <span class="token string">'y'</span> to accept this license offer.Type <span class="token string">'n'</span> to decline this license offer. Do you accept the terms of either license? y<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><p>æ‰§è¡Œ <code>make -j8</code> æ—¶å€™ï¼Œçœ‹åˆ°å¦‚ä¸‹ï¼Œå³è¡¨ç¤ºç¼–è¯‘æˆåŠŸ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">/Library/Developer/CommandLineTools/usr/bin/clang++ <span class="token parameter variable">-stdlib</span><span class="token operator">=</span>libc++ <span class="token parameter variable">-headerpad_max_install_names</span>  <span class="token parameter variable">-arch</span> x86_64 <span class="token parameter variable">-isysroot</span> /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk -mmacosx-version-min<span class="token operator">=</span><span class="token number">10.13</span> -Wl,-rpath,@executable_path/<span class="token punctuation">..</span>/Frameworks -Wl,-rpath,@loader_path/<span class="token punctuation">..</span>/<span class="token punctuation">..</span>/<span class="token punctuation">..</span>/<span class="token punctuation">..</span>/<span class="token punctuation">..</span>/<span class="token punctuation">..</span>/lib <span class="token parameter variable">-o</span> minibrowser.app/Contents/MacOS/minibrowser .obj/main.o .obj/qrc_qml.o   -F/Users/xmuli/project/qt-build/qt-everywhere-src-5.15.2/qtdeclarative/lib -F/Users/xmuli/project/qt-build/qt-everywhere-src-5.15.2/qtwebview/lib -F/Users/xmuli/project/qt-build/qt-everywhere-src-5.15.2/qtbase/lib <span class="token parameter variable">-framework</span> QtQuick <span class="token parameter variable">-framework</span> QtWebView <span class="token parameter variable">-framework</span> QtGui <span class="token parameter variable">-framework</span> AppKit <span class="token parameter variable">-framework</span> Metal <span class="token parameter variable">-framework</span> QtQmlModels <span class="token parameter variable">-framework</span> QtQml <span class="token parameter variable">-framework</span> QtNetwork <span class="token parameter variable">-framework</span> QtCore <span class="token parameter variable">-framework</span> DiskArbitration <span class="token parameter variable">-framework</span> IOKit <span class="token parameter variable">-framework</span> OpenGL <span class="token parameter variable">-framework</span> AGL <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br><h3 id="éªŒè¯-Qt-ç¼–è¯‘æˆåŠŸ"><a href="#éªŒè¯-Qt-ç¼–è¯‘æˆåŠŸ" class="headerlink" title="éªŒè¯ Qt ç¼–è¯‘æˆåŠŸ"></a>éªŒè¯ Qt ç¼–è¯‘æˆåŠŸ</h3><p>ä¸‹è½½ mac ç‰ˆæœ¬çš„ <a href="https://download.qt.io/official_releases/qtcreator/4.14/4.14.0/qt-creator-opensource-mac-x86_64-4.14.0.dmg">qtcreator4.14.0</a> ï¼Œå®‰è£…åæ‰“å¼€ã€‚é€‰ä¸­ <strong>â€œé¦–é€‰é¡¹-Kits-Qt Versionsâ€</strong> ï¼Œå°†æˆ‘ä»¬å®‰è£…å¥½çš„è·¯å¾„æ‹·è´è¿›å»ï¼Œä¿å­˜ OKï¼›</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210222_160844.png" width="90%"/ loading="lazy"><br>ç„¶ååˆ‡æ¢åˆ° **â€œé¦–é€‰é¡¹-Kits-Kitsâ€** ï¼Œé€‰ä¸­ Desktop 64bit é‚£ä¸€ä¸ªï¼Œç„¶ååœ¨å…¶ä¸­ Qt version ä¸­ä¸‹æ‹‰ï¼Œé€‰å–æˆ‘ä»¬åˆšæ‰çš„è®¾ç½®çš„ Qt ç‰ˆæœ¬ï¼Œä¿å­˜ï¼›<img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210222_160925.png" width="90%"/ loading="lazy"><br>å†åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„ test ç©ºçš„ qwidget ç©ºæµ‹è¯•é¡¹ç›®ï¼Œå…¶ä¸­ç¼–è¯‘å¥—ä»¶é€‰ä¸­æˆ‘ä»¬åˆšæ‰æ‰€é€‰ï¼›<img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210222_161021.png" width="70%"/ loading="lazy"><br><p>ç‚¹å‡» IDE çš„ç¼–è¯‘ï¼Œè¿è¡Œï¼Œå³å¯æˆåŠŸ</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210222_161107.png" width="100%"/ loading="lazy"><br><h2 id="ç¼–è¯‘-QtBase-æºç "><a href="#ç¼–è¯‘-QtBase-æºç " class="headerlink" title="ç¼–è¯‘ QtBase æºç "></a>ç¼–è¯‘ <code>QtBase</code> æºç </h2><h3 id="ç¼–è¯‘-Release-ç‰ˆæœ¬-1"><a href="#ç¼–è¯‘-Release-ç‰ˆæœ¬-1" class="headerlink" title="ç¼–è¯‘ Release ç‰ˆæœ¬"></a>ç¼–è¯‘ Release ç‰ˆæœ¬</h3><p>ä¸‹è½½ qtbase æºç ï¼š<a href="https://download.qt.io/official_releases/qt/5.15/5.15.2/submodules/qtbase-everywhere-src-5.15.2.tar.xz">qtbase-everywhere-src-5.15.2.tar.xz</a> </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> qtbase-everywhere-src-5.15.2.tar.xz<span class="token builtin class-name">cd</span> qtbase-everywhere-src-5.15.2/./configure <span class="token parameter variable">-prefix</span> ~/Qt/qtbase5.15.2 <span class="token parameter variable">-release</span> <span class="token parameter variable">-opensource</span> <span class="token parameter variable">-nomake</span> tests<span class="token function">make</span> <span class="token parameter variable">-j8</span>                                        <span class="token comment"># 14:44</span><span class="token function">make</span> installs                                   <span class="token comment"># å®‰è£…åˆ° ~/Qt/qtbase5.15.2 ä¸‹</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>PSï¼š</strong> ç¬¬ä¸‰è¡Œä¸­ï¼š</p><p>ç¼–è¯‘æˆåŠŸï¼ŒæŸ¥çœ‹åˆ° <code>~/Qt/qtbase5.15.2</code>  æœ‰å¾ˆå¤šæ–°æ–‡ä»¶å¤¹ï¼›</p><br><h3 id="ç¼–è¯‘-Debug-ç‰ˆæœ¬"><a href="#ç¼–è¯‘-Debug-ç‰ˆæœ¬" class="headerlink" title="ç¼–è¯‘ Debug ç‰ˆæœ¬"></a>ç¼–è¯‘ Debug ç‰ˆæœ¬</h3><blockquote><p>ERROR: debug-only framework builds are not supported. Configure with -no-framework if you want a pure debug build.</p></blockquote><p>ç”±äºä¸Šé¢æç¤ºï¼Œframework æ¨¡å—ä¸æ”¯æŒ debug æ¨¡å¼ï¼Œæ•…ç¼–è¯‘å‘½åæ”¹ä¸ºå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> qtbase-everywhere-src-5.15.2.tar.xz<span class="token builtin class-name">cd</span> qtbase-everywhere-src-5.15.2./configure <span class="token parameter variable">-prefix</span> ~/Qt/qtbase5.15.2.debug <span class="token parameter variable">-debug</span> <span class="token parameter variable">-opensource</span> <span class="token parameter variable">-nomake</span> tests <span class="token parameter variable">-nomake</span> examples -no-framework<span class="token function">make</span> <span class="token parameter variable">-j8</span>                                   <span class="token comment"># è€—æ—¶çº¦ 8 min </span><span class="token function">make</span> <span class="token function">install</span>                               <span class="token comment"># å®‰è£…åˆ° ~/Qt/qtbase5.15.2.debug ä¸‹ï¼Œå…± 159.8 MB</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¼–è¯‘æˆåŠŸï¼ŒæŸ¥çœ‹åˆ° <code>~/Qt/qtbase5.15.2.debug</code>  æœ‰å¾ˆå¤šæ–°æ–‡ä»¶å¤¹ï¼Œæ¬²æƒ³éªŒè¯ qtbase ç¼–è¯‘æˆåŠŸå¦ï¼Œå¯å‚è€ƒå¦‚ä¸Šã€‚</p><br><h2 id="æˆªå›¾æˆåŠŸ"><a href="#æˆªå›¾æˆåŠŸ" class="headerlink" title="æˆªå›¾æˆåŠŸ"></a>æˆªå›¾æˆåŠŸ</h2><p>å¾ˆæ£’ï¼Œç¼–è¯‘çš„å‡ ä¸ªç‰ˆæœ¬å…¨éƒ¨éƒ½è¿‡äº†ï¼Œæ¥ä¸€å¼ å…¨å®¶ç¦çºªå¿µä¸€ä¸‹ï¼›åé¢ä¼šå†é‡æ–°ç¼–è¯‘ä¸€ä¸‹ Qt Creator çš„æºç ï¼›è™½ç„¶ä¸Šé¢ä¸¤ä¸ªæœ‰âš ï¸ç¬¦å·ï¼Œä½†æ˜¯ä¸€æ ·å¯ä»¥ç¼–è¯‘é¡¹ç›®é€šè¿‡</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210222172355.png" width="60%"/ loading="lazy"><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210301110418.png" width="100%"/ loading="lazy"><br><h2 id="è‹¥é‡æŠ¥é”™æ³¨æ„ï¼š"><a href="#è‹¥é‡æŠ¥é”™æ³¨æ„ï¼š" class="headerlink" title="è‹¥é‡æŠ¥é”™æ³¨æ„ï¼š"></a>è‹¥é‡æŠ¥é”™æ³¨æ„ï¼š</h2><p>è‹¥é‡æŠ¥é”™å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># -debug-and-release</span>clang: error: no such <span class="token function">file</span> or directory: <span class="token string">'/Users/xmuli/project/qt-build/qtbase-everywhere-src-5.15.2/lib/libqtpcre2_debug.a'</span>make<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>: *** <span class="token punctuation">[</span><span class="token punctuation">..</span>/<span class="token punctuation">..</span>/lib/QtCore.framework/QtCore_debug<span class="token punctuation">]</span> Error <span class="token number">1</span>make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: *** <span class="token punctuation">[</span>debug-release-install<span class="token punctuation">]</span> Error <span class="token number">2</span>make<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: *** <span class="token punctuation">[</span>sub-corelib-install_subtargets<span class="token punctuation">]</span> Error <span class="token number">2</span>make: *** <span class="token punctuation">[</span>sub-src-install_subtargets<span class="token punctuation">]</span> Error <span class="token number">2</span><span class="token comment"># -release</span>clang: **error:** no such <span class="token function">file</span> or directory: <span class="token string">'/Users/xmuli/project/qt-build/qtbase-everywhere-src-5.15.2/lib/libqtpcre2.a'</span>make<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>: *** <span class="token punctuation">[</span><span class="token punctuation">..</span>/<span class="token punctuation">..</span>/lib/QtCore.framework/QtCore<span class="token punctuation">]</span> Error <span class="token number">1</span>make<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: *** <span class="token punctuation">[</span>sub-corelib-install_subtargets<span class="token punctuation">]</span> Error <span class="token number">2</span>make: *** <span class="token punctuation">[</span>sub-src-install_subtargets<span class="token punctuation">]</span> Error <span class="token number">2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>åŸå› :</strong>  æ‰§è¡Œäº†<code>make install -j8</code> ï¼Œä¸€è¾¹ç¼–è¯‘ï¼Œä¸€è¾¹å®‰è£…ï¼Œé€ æˆäº†ä¾èµ–å…³ç³»é¡ºåºçš„é—®é¢˜ï¼Œå°±ä¼šæŠ¥é”™å¦‚ä¸Š</p><p>make -j4 qt-everywhere éœ€è¦ 1h 30 minï¼Œåšä¸»äº²æµ‹ï¼›å»ºè®®ä¹°ä¸ªå¥½çš„ CPUï¼Œäººç”Ÿæ—¶é—´ä¸åº”æµªè´¹åœ¨ç­‰å¾…ä¸Šï¼Œè«è¦å¦‚æˆ‘</p><br><h2 id="ç³»åˆ—ï¼š"><a href="#ç³»åˆ—ï¼š" class="headerlink" title="ç³»åˆ—ï¼š"></a>ç³»åˆ—ï¼š</h2><p><a href="https://github.com/xmuli/QtExamples">QtExamples</a></p><p>æ¬¢è¿ <code>star</code> å’Œ <code>fork</code> è¿™ä¸ªç³»åˆ—çš„ QT &#x2F; DTK å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - MacOS </category>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é˜¿é‡Œäº‘æœåŠ¡å™¨ nginx ä¸Šéƒ¨ç½² SSL è¯ä¹¦å®ç° https è®¿é—®</title>
      <link href="/posts/70a6b02f/"/>
      <url>/posts/70a6b02f/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€ä¸Šä¸€ç¯‡åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šéƒ¨ç½²äº† <code>Hexo</code> ä¹‹åï¼Œè¿™æ˜¯å…¶åç»­ä¸€ç¯‡ï¼Œè®¾ç½®éƒ¨ç½² <code>https</code> è¯ä¹¦ï¼ˆ<code>SSL</code>ï¼‰ï¼Œè®°å½•ç”³è¯·è¯ä¹¦ã€é…ç½®ç›¸å…³ <code>nginx</code> æœåŠ¡ï¼Œå…¶è¿œç¨‹æœåŠ¡å™¨ä¸º <code>Ubuntu 20.04</code>ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h2><p>è‡ªå·±çš„é˜¿é‡Œäº‘ä¸»æœºç›¸å…³ç¯å¢ƒï¼š</p><ul><li><code>Ubuntu 20.04 focal </code>  </li><li><code>Kernel: x86_64 Linux 5.4.0-47-generic</code></li><li><code>nginx version: nginx/1.18.0 (Ubuntu)</code></li></ul><br><h2 id="ç”³è¯·-SSL"><a href="#ç”³è¯·-SSL" class="headerlink" title="ç”³è¯· SSL"></a>ç”³è¯· SSL</h2><p>â€‹ä¸€å¹´å‰ï¼Œåœ¨é˜¿é‡Œäº‘ç”³è¯·è¿‡ä¸€æ¬¡å…è´¹çš„ ssl ï¼š<a href="https://blog.csdn.net/qq_33154343/article/details/104727225">åˆšä¹°çš„åŸŸåæ€ä¹ˆç»‘å®šè‡ªå·±åšå®¢ï¼Ÿå†ç™½å«–ä¸€å¹´çš„SSLï¼Œä½¿ç”¨httpsè®¿é—®åšå®¢</a> ï¼Œä½†æ˜¯æ¯æ¬¡æœ€é•¿æ—¶é—´ä»…ä¸€å¹´ï¼Œé¡¿æ„Ÿå…¥å£éšè—åªæ·±ï¼›</p><p>â€‹ç°åœ¨å†æ¬¡éœ€è¦ç”³è¯·é˜¿é‡Œäº‘å…è´¹ sslï¼Œå‘ç°å…¥å£æ¯”ä¹‹å‰æ›´æ·±äº†ï¼Œæ–¹æ³•ä¹Ÿæ¯”ä¹‹å‰å¤æ‚å¤šäº†ï¼›<del>æ˜¯äº’ç›¸åœ¨æ¯”ä¸‹é™å˜›</del> ã€‚</p><br><p>ç™»å½•é˜¿é‡Œäº‘ï¼Œå·¦ä¾§é€‰æ‹© <strong>â€œSSL è¯ä¹¦-è¯ä¹¦èµ„æºåŒ…â€</strong> é‡Œé¢è´­ä¹°å…è´¹çš„ ssl è¯ä¹¦èµ„æºåŒ…ï¼Œä¸€å¹´æœ€å¤š 20 ä¸ªï¼Œæ¯ä¸ªæ—¶é—´ä¾æ—§ä¸€å¹´ï¼›</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210223_174815.png" width="90%"/ loading="lazy"><p>â€‹ç‚¹å‡»è¯ä¹¦ç”³è¯·ï¼Œåœ¨ <strong>â€œçŠ¶æ€â€</strong> ä¸€æ æŒ‰ç…§å¦‚ä¸‹æ­¥éª¤ï¼Œä¾æ¬¡å¡«å†™å¯¹åº”çš„ï¼Œå…¶ä¸­è®¾ç½®è§£æè®°å½•é€‰æ‹©è‡ªåŠ¨å³å¯ï¼š</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210223210828.png" width="100%"/ loading="lazy"><p>å½“åˆ°æœ€åä¸€æ­¥éª¤ï¼ˆæ­¤æ—¶ <strong>â€œçŠ¶æ€â€</strong>  ä¸€æ ä¹Ÿä¼šå˜æˆâ€œå·²ç­¾å‘â€ï¼‰ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210223202950.png" width="25%"/ loading="lazy"><p>â€‹ç‚¹å‡»ä¸‹è½½å¯¹åº”çš„ nginx çš„è¯ä¹¦ï¼Œä¸‹è½½åè§£å‹ä¼šå¾—åˆ°ä¸¤ä¸ªæ–‡ä»¶ <code>5222721_ifmet.cn.key</code> å’Œ <code>5222721_ifmet.cn.pem</code> æ–‡ä»¶ï¼›</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210223_174830.png" width="60%"/ loading="lazy"><br><h2 id="éƒ¨ç½²-SSL"><a href="#éƒ¨ç½²-SSL" class="headerlink" title="éƒ¨ç½² SSL"></a>éƒ¨ç½² SSL</h2><h3 id="ä¸Šä¼ è¯ä¹¦"><a href="#ä¸Šä¼ è¯ä¹¦" class="headerlink" title="ä¸Šä¼ è¯ä¹¦"></a>ä¸Šä¼ è¯ä¹¦</h3><p>â€‹é€šè¿‡ scp å°†ä¸Šé¢è¯ä¹¦çš„çš„ä¸¤ä¸ªæ–‡ä»¶ä¸Šä¼ åˆ°è¿œç¨‹æœåŠ¡å™¨çš„å®¶ç›®å½•ä¸‹ï¼›ç„¶åç™»é™†åˆ°è¿œç¨‹æœåŠ¡å™¨ï¼Œ<font color=#FF0000  size=4 face="å¹¼åœ†">å°†è¯ä¹¦æ–‡ä»¶ç§»åŠ¨åˆ° <code>/usr/share/nginx/cert</code> è·¯å¾„ä¸‹ï¼Œæ³¨æ„ä¸æ˜¯ <code>/etc/nginx/nginx.conf</code>Â è·¯å¾„</font>ï¼›ç›´æ¥ scp åˆ°æ­¤ç›®æ ‡è·¯å¾„ä¸‹ï¼Œä¼šæŠ¥æƒé™æ‹’ç»ï¼Œæ•…æ­¤å‘¨è½¬ä¸€ä¸‹ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">scp</span> 5222721_ifmet.cn.* xmuli@20.21.1.11:~/  <span class="token comment"># ä¸Šä¼ æ–‡ä»¶</span>ç™»é™†åˆ°è¿œç¨‹æœåŠ¡å™¨ï¼Œåˆ›å»ºå¥½ cert/æ–‡ä»¶å¤¹<span class="token function">sudo</span> <span class="token function">mv</span> 5222721_ifmet.cn.* /usr/share/nginx/cert/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><br><h3 id="é…ç½®-nginx"><a href="#é…ç½®-nginx" class="headerlink" title="é…ç½® nginx"></a>é…ç½® nginx</h3><p>ä¿®æ”¹ nginx é…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹ä¹‹å‰å…ˆè®°å¾—å¤‡ä»½</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">cp</span> /etc/nginx/sites-available/default /etc/nginx/sites-available/default.backup<span class="token function">sudo</span> <span class="token function">vim</span> /etc/nginx/sites-available/default<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ‰¾åˆ°å¦‚ä¸‹åœ°æ–¹ï¼Œ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Default server configuration</span>server <span class="token punctuation">&#123;</span>listen <span class="token number">80</span> default_server<span class="token punctuation">;</span>listen <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:80 default_server<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å°†å…¶ä¿®æ”¹ä¸ºï¼šå°†åŸå…ˆçš„ä¸€ä¸ª server æ‹†åˆ†ä¸ºä¸¤ä¸ª serverï¼›<code>listen 80</code> è¡¨ç¤º http åè®®ï¼Œè®¿é—®ä¼š return ï¼›å¼ºåˆ¶æ”¹ä¸ºè·³è½¬ä¸º https: åè®®è®¿é—®ï¼ˆ<code>listen 443</code>ï¼‰ï¼›ä¸ç„¶å°±ä¼šå¯åŒæ—¶è®¿é—® http å’Œ https ä¸¤ä¸ªï¼Œè€Œé»˜è®¤æµè§ˆå™¨è¾“å…¥ <code>ifmet.cn</code> é¡¶çº§åŸŸåï¼Œé»˜è®¤æ˜¯é€‰æ‹© http è¿™ä¸ªï¼Œä¼šæœ‰è­¦å‘Šå°é”æç¤ºã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Default server configuration</span>server <span class="token punctuation">&#123;</span>        listen <span class="token number">80</span> default_server<span class="token punctuation">;</span>        listen <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:80 default_server<span class="token punctuation">;</span>        server_name ifmet.cn www.ifmet.cn<span class="token punctuation">;</span>        <span class="token builtin class-name">return</span> <span class="token number">301</span> https://<span class="token variable">$server_name</span><span class="token variable">$request_uri</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>server <span class="token punctuation">&#123;</span>        <span class="token comment"># SSL configuration</span>        <span class="token comment">#</span>        listen <span class="token number">443</span> ssl default_server<span class="token punctuation">;</span>        listen <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:443 ssl default_server<span class="token punctuation">;</span>        ssl_certificate      /usr/share/nginx/cert/5222721_ifmet.cn.pem<span class="token punctuation">;</span>        ssl_certificate_key  /usr/share/nginx/cert/5222721_ifmet.cn.key<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="æ£€æµ‹é…ç½®-nginx-æˆåŠŸ"><a href="#æ£€æµ‹é…ç½®-nginx-æˆåŠŸ" class="headerlink" title="æ£€æµ‹é…ç½® nginx æˆåŠŸ"></a>æ£€æµ‹é…ç½® nginx æˆåŠŸ</h3><p>æ‰§è¡Œå‘½ä»¤ï¼Œæ£€æµ‹é…ç½® nginx çŸ¥å¦æ­£ç¡®ï¼Œ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> nginx <span class="token parameter variable">-t</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é…ç½®æˆåŠŸä¹Ÿä¼šè¾“å‡ºå¦‚ä¸‹</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nginx: the configuration <span class="token function">file</span> /etc/nginx/nginx.conf syntax is oknginx: configuration <span class="token function">file</span> /etc/nginx/nginx.conf <span class="token builtin class-name">test</span> is successful<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><br><p>é‡å¯æœåŠ¡å™¨åï¼ˆä¹Ÿå¯é‡å¯æœåŠ¡å™¨ï¼‰ï¼Œ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> systemctl restart nginx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br><h3 id="è®¿é—®æˆåŠŸ"><a href="#è®¿é—®æˆåŠŸ" class="headerlink" title="è®¿é—®æˆåŠŸ"></a>è®¿é—®æˆåŠŸ</h3><p>å†æ¬¡åœ¨ <code>chrome</code> ä¸­è¾“å…¥åŸŸåï¼›å³å¯çœ‹åˆ°å®‰è£…çš„å°é”ï¼Œå¼€å¯ https è®¿é—®æˆåŠŸã€‚</p><br><h2 id="å…¶å®ƒ"><a href="#å…¶å®ƒ" class="headerlink" title="å…¶å®ƒ"></a>å…¶å®ƒ</h2><p>è‹¥æ˜¯é‡åˆ°ä¸­é€”é‡åˆ°é¡µé¢è®¿é—®æŠ¥é”™å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">400</span> Bad RequestThe plain HTTP request was sent to HTTPS portnginx/1.18.0 <span class="token punctuation">(</span>Ubuntu<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>åˆ™é€šå¸¸æ˜¯å°†é…ç½®ä¸‹é¢ä¸¤è¡Œçš„æ—¶å€™ï¼Œå¤šåŠ äº†ä¸€è¡Œ <code>ssl on;</code>ï¼Œå°†å…¶åˆ æ‰ã€æˆ–æ³¨é‡Šæ‰ã€æˆ–è€…æ”¹å†™ä¸º  <code>ssl off;</code> å³å¯</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ssl on<span class="token punctuation">;</span>ssl_certificate      /usr/share/nginx/cert/5222721_ifmet.cn.pem<span class="token punctuation">;</span>ssl_certificate_key  /usr/share/nginx/cert/5222721_ifmet.cn.key<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><br><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://blog.csdn.net/mangrandi/article/details/80427863">é˜¿é‡Œäº‘+Ubuntu+nginx+httpsçš„è¯ä¹¦ç”³è¯·ä¸é…ç½®</a> </li><li><a href="https://blog.csdn.net/henryhu712/article/details/85217371">Ubuntu ä¸‹é…ç½® Nginx æœåŠ¡å™¨çš„ SSL è¯ä¹¦</a> </li><li><a href="https://blog.csdn.net/palmer_kai/article/details/89668053">nginx é…ç½® http, httpså¯ä»¥åŒæ—¶è®¿é—®ï¼ˆæŠ¥é”™ï¼š The plain HTTP request was sent to HTTPS portï¼‰</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
          <category> å­¦ä¹  - Hexo </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>åˆæ˜¯ä¸€å¹´æ˜¥å¥½è‰²ï¼ˆè¾›ä¸‘å¹´ï¼‰</title>
      <link href="/posts/2d307b31/"/>
      <url>/posts/2d307b31/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€è¾›ä¸‘å¹´æ­£æœˆåˆäºŒï¼Œåˆæ˜¯ä¸€å¹´æ˜¥å¥½è‰²ã€‚è®°çƒŸèŠ±å¤œç©ºç»½æ”¾ï¼Œç¾ä¸½è€Œåˆç¾å¥½ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p>â€‹</p><p>â€‹å¹´åˆäºŒï¼Œæ²æµ´é˜³å…‰â˜€ï¸ï¼Œå¾…åˆæ™Œåï¼Œé…’è¶³é¥­é¥±ï¼›å®¾å®¢æ¥è€…ï¼Œå§å¤«å‘¨è€…æœ‰å…´è‡´ï¼Œç›¸çº¦å‚é’“ï¼Œå¦ä¸€äººï¼ŒåŒé™„å’Œï¼Œæºå¾å…±èµ´æ²³è¾¹ï¼Œå‚é’“æˆ–æ¸”ç½‘ä¹‹ğŸ£ğŸ£ğŸ£ã€‚</p><br><p>â€‹ä¹ƒé©±è½¦ï¼Œè·¯è‡³ä¸€å°è·¯è½¬è§’ï¼Œé‡ä¸€è½¦ï¼Œè½¦çª—äº’è§†ï¼Œæ˜¯äºŒå”äº²å§ï¼Œæƒ å§å§ï¼Œä¹Ÿå¹¼æ—¶ç–¼çˆ±æˆ‘è€…ï¼Œé«˜å…´ï¼Œç®€èŠä¹‹ã€‚åè‡³äºŒå”å®¶ï¼Œè¯¢å…¶å¹¼å­ï¼šâ€œé’“ç«¿ä½•åœ¨ï¼Ÿâ€ ï¼Œ æ›°ï¼šâ€œä¸çŸ¥â€ã€‚é‚ä¸ä¹‹ï¼Œæˆ¿é—´å…±å¯»ä¹‹ï¼Œä¸å¾—ï¼Œè¿”ã€‚ç»§è€Œç”µè¯è¯¢äºŒå”ï¼ŒçŸ¥é±¼ç«¿æ‰€ç½®ä¹‹å¤„ï¼Œå¤è¿”ï¼›å†é‡æƒ å§å§ä¸å…¶è‰¯äººï¼›ä¸å…¶è¯¦èŠç”Ÿæ´»ã€å·¥ä½œç­‰ä¹‹å¢ƒå†µï¼Œç”šæ¬¢ã€‚åŒæ—¶ç»§è€Œå¯»ç«¿ï¼Œå–ä¹‹ï¼Œè¿”ç¨‹ã€‚</p><br><p>â€‹å·¦æŒä¸€ç¯“ï¼Œå³æ¡ä¸€é±¼ç«¿ï¼Œä½™è€…æœ‰æºæ¸”ç½‘ã€é“é“²ã€é¥µç­‰ã€‚ä¸€èµ·å¤§æ­¥ï¼Œæ¬£æ¬£ç„¶å¾€ï¼›è‡³äºæ²³è¾¹ï¼Œè§æ²³é¢ï¼Œä¸¤ä¾§æµ‘æ°´ï¼Œæ°´è‰æµ®ç”Ÿï¼Œä¸­é—´æ¸…æ¾ˆï¼Œæœ‰ç”šå¤šé±¼æ’é˜Ÿç¼“æ…¢æ¸¸ä¹‹ï¼›äº¦è§æ•°æ¡çº¢å°¾é²¤é±¼ï¼Œä½“å‹è¾ƒå¤§ã€‚äº¦æœ‰é²«é±¼çº¹ä¸ä¸åŠ¨ï¼Œäº¦ä¸æƒ§äººï¼Œèº«æ—å¶æœ‰æ³¡æ³¡ä¸Šæµ®ã€‚äºŒäººæ‰‹æ‰§æ†å‚é’“ï¼Œä¸€äººæ¸”ç½‘ä¹‹ã€‚é™å¾…è‰¯ä¹…ï¼Œä¸ä¸Šé’©ï¼Œé‚æŒªå¦ä¸€å¤æ¡¥ï¼Œå†æ¬¡å‚é’“ä¹‹ã€‚çœ‹æ°´æ³¢æ¶Ÿæ¼ªã€æ°´é¢æ˜ æ—¥ï¼Œæ³¢å…‰ç²¼ç²¼ï¼Œå¾®é£æ¸…å¾ï¼Œæƒ¬æ„èˆ’é€‚ï¼Œæ‚ å“‰è‡ªç„¶ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210213232842.png" width="50%"/ loading="lazy"><br><p>â€‹è‰¯ä¹…ï¼Œå¤©æ¸é»‘ï¼Œèµ·é±¼ç«¿è¿”å®¶ã€‚é±¼ç¯“ç©ºç©ºæ¥ï¼Œäº¦ç©ºç©ºè€Œåã€‚é—¨å£é—²èŠï¼Œä¸€å°å„¿ç«¥ï¼Œå¾ä¾„å„¿ï¼Œè§å¾ç­‰å½’æ¥ï¼Œç«¥è¨€æ— å¿Œæœ›å‘äºŒå”ï¼šâ€œçˆ¸çˆ¸ï¼Œé±¼å‘¢ï¼Ÿâ€ã€‚å…¶å¦»ã€å§‘å§‘ã€å¥¶å¥¶ã€çˆ·çˆ·ã€å”å”ç­‰ï¼Œä¸€é¡¿ï¼Œçš†å“„å ‚å¤§ç¬‘ï¼Œç©ç¬‘å†èµ·ï¼šâ€œé’“é±¼ï¼Œé±¼å‘¢ï¼Ÿâ€ã€‚ç”šè‡³å¼€å¿ƒï¼Œä¸€èµ·ç­‰çš†æ„Ÿå…¶ä¹ä¸€å ‚ã€‚</p><br><p>â€‹æ°é€¢å¦ä¸¤å¹¼ä¾„æ¸¸ç©å½’å®¶ï¼Œå¸¦é¥®æ–™ã€å°åƒå’ŒçƒŸèŠ±ã€çˆ†ç«¹ğŸ§¨ğŸ§¨ğŸ§¨ç­‰ã€‚æ°å¥½ï¼Œå¿ƒæœ‰ä¸€å¤§èƒ†æƒ³æ³•ï¼Œç‚¹ä¸€ç‚·é¦™ï¼Œä¸ä¸¤å¹¼ä¾„å…±å½’å…¶å‚é’“å¤„ã€‚é€”ä¸­ï¼Œä¸€ä¾„ç‚¹ç‡ƒå…¶çˆ†ç«¹ï¼Œæ‰”ä¹‹äºèœåœ°ï¼Œç¡çƒŸèµ·ï¼Œä¸€å¤§å‘ï¼ˆè®°è½½äºæ­¤ï¼Œä¾¿æ—¥åå¯å¿†ï¼‰ï¼›è‡³äºå¤æ¡¥ï¼Œçˆ†ç«¹æ‰”äºé±¼å„¿å‡ºæ²¡å¤„ï¼Œè§é±¼è…¹å¤§ç™½ï¼Œç–‘æ™•ï¼Œä¸ä¹…æ‘‡æ‘‡å°¾å·´ï¼ŒæƒŠå“é€ƒéä¹‹ã€‚åä¸ä¸€èµ·ç‚¹ç‡ƒï¼Œçˆ†ç«¹å£°å£°å…¥è€³ï¼Œå“å½»äº‘éœ„ï¼Œå¿ƒæœ‰ä¸€æƒŠï¼Œäº¦åŒæ—¶å¼€å¿ƒè‡³æã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210213233714.png" width="50%"/ loading="lazy"><br><p>â€‹æ¯•ï¼Œå½’å®¶ã€‚é¤åï¼Œå†æ¬¡é—²èŠå…«å¦ç­‰æ¶ˆé£ã€‚åæè®®å…±æ”¾çƒŸèŠ±å…±æ¬£èµï¼Œä¸€ç¾¤å¤§å°å­©ï¼Œçš†ä¸€èµ·ç‚¹ç‡ƒç»½æ”¾çƒŸç«ã€‚æœ‰å¤šä¸ªç½®äºåœ°é¢ï¼Œæœ‰å„æ‰‹æŒä¸€æ†ï¼Œçº¦å®šå…±ç‚¹ç‡ƒä¹‹ï¼Œæ‹ç…§ç‰‡ã€volg ç­‰ç•™ä½œå›å¿†ã€‚é—´éš™ï¼Œæ¯äº²è¨€ï¼šâ€œå§å¼Ÿçš†ä¸€å®¶äººï¼Œå³ä½¿çš†æ”¾çƒŸç«ï¼Œä¹Ÿéƒ½æ˜¯å·¦æ‰‹å‰è…°ï¼Œå¾®æ–œèº«ä½“ï¼Œå³æ‰‹æŒå†²å¤©çƒŸç«ï¼ŒæœŸé—´è¨€è¾å§¿åŠ¿ç­‰ä¹Ÿç›¸å·®æ— å‡ ï¼Œå½“çœŸæ˜¯å¿«ä¹ã€‚â€   å¹´å°±æ˜¯å®¶äººçš„å›¢èšï¼Œ ä¸å¹³æ—¥éš¾å¾—ä¸€è§çš„äº²äººç­‰ï¼Œå›¢èšä¸€å ‚ï¼Œåƒç“œæœé›¶é£Ÿï¼Œå…±åƒä¸€æ¡Œä½³è‚´èœï¼Œè°ˆä¸€å¹´å˜åŒ–ï¼Œäº’é“ç‰µæŒ‚äºæ‹…å¿ƒï¼Œå½¼æ­¤ä¹‹é—´äº’ç›¸ç¥ç¦ï¼Œå…±åŒæœŸå¾…æ¥çš„ä¸€å¹´æ›´å¥½ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210213-231258.gif" width="50%"/ loading="lazy"><br><p>â€‹è®°è¾›ä¸‘å¹´æ­£æœˆåˆäºŒå¤œï¼Œå…±èµçƒŸèŠ±ç¾æ™¯ï¼Œè™½æ˜“é€ï¼Œä½†ç¾å¥½ç•™äºå›å¿†ä¸æ˜“é€ï¼›ä¹¦å†™åˆä¸‰ï¼Œå¿½æ„Ÿä»Šå¤©äº¦æ˜¯æƒ…äººèŠ‚ï¼Œé¡ºç¥ä½ ä»¬ç¥æ–°å¹´æ¢¦æƒ³æˆçœŸï¼Œæ‰€æœ‰æœ‰æƒ…äººï¼šæ„¿å¹´å¹´å²å²æ°¸ç›¸ä¾ï¼Œæœæœæš®æš®å¿ƒç›¸æºï¼ŒæŸ”æƒ…ä¼¼æ°´ï¼Œä½³æœŸå¦‚æ¢¦ã€‚</p><br><p><strong>æœ›ä¸¤å§“è”å§»ï¼Œä¸€å ‚ç¼”çº¦ï¼Œè‰¯ç¼˜æ°¸ç»“ï¼ŒåŒ¹é…åŒç§°ï¼›</strong></p><p><strong>ä¾¿çœ‹æ­¤æ—¥æ¡ƒèŠ±ç¼ç¼ï¼Œå®œå®¤å®œå®¶ï¼Œåœä»–å¹´ç“œç“ç»µç»µï¼Œå°”æ˜Œå°”ç‚½ï¼›</strong></p><p><strong>è°¨ä»¥ç™½å¤´ä¹‹çº¦ï¼Œä¹¦å‘é¸¿ç­¾ï¼Œç»ˆå¥½å°†çº¢å¶ä¹‹ç›Ÿï¼Œè½½æ˜é¸³è°±ã€‚</strong></p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´» - é—²æš‡çš„è¶£é—» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ–°å¹´ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é˜¿é‡Œäº‘æœåŠ¡å™¨éƒ¨ç½² Hexo åšå®¢</title>
      <link href="/posts/5490ca44/"/>
      <url>/posts/5490ca44/</url>
      
        <content type="html"><![CDATA[<p>â€‹<strong>ç®€  è¿°ï¼š</strong> åœ¨é˜¿é‡Œäº‘æœåŠ¡å™¨ <code>Ubuntu 20.04</code> ä¸Šéƒ¨ç½² <code>Hexo</code> åšå®¢ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><br><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>â€‹åˆï¼Œå°† <code>hexo</code> éƒ¨ç½²åœ¨ <code>GitHub</code>ï¼Œå› è®¿é—®è¾ƒæ…¢ï¼›ä¸ä¹…ï¼Œæ”¹æˆ <code>hexo</code> éƒ¨ç½²åœ¨ <code>GitHub + Coding</code> åŒçº¿ç¨‹è§£æï¼Œå®æµ‹ <code>coding</code> æ˜¯éŸ©å›½çš„æœåŠ¡å™¨ï¼Œè®¿é—®åŠ é€Ÿä¸æ˜æ˜¾ï¼ˆç°åœ¨å¥½åƒå‡çº§äº†ï¼Œæ²¡ç»§ç»­äº†è§£ï¼‰ï¼›æ•°æœˆåï¼Œä»Šæ”¹æˆ <code>é˜¿é‡Œäº‘ + GitHub</code> è§£æå›½å†…å¤–è®¿é—®ï¼Œç”¨ä¸Šæˆ‘å¿ƒçˆ±çš„å°æœåŠ¡å™¨ï¼ˆå•è‡§è‡ªå®¶ç”¨ï¼Œè±†è…åº—ï¼‰ã€‚</p><br><h2 id="æœåŠ¡å™¨é…ç½®"><a href="#æœåŠ¡å™¨é…ç½®" class="headerlink" title="æœåŠ¡å™¨é…ç½®"></a>æœåŠ¡å™¨é…ç½®</h2><h3 id="è¿æ¥è¿œç¨‹æœåŠ¡å™¨"><a href="#è¿æ¥è¿œç¨‹æœåŠ¡å™¨" class="headerlink" title="è¿æ¥è¿œç¨‹æœåŠ¡å™¨"></a>è¿æ¥è¿œç¨‹æœåŠ¡å™¨</h3><p>â€‹é˜¿é‡Œäº‘è´­ä¹° <strong>â€œè½»é‡åº”ç”¨æœåŠ¡å™¨â€</strong> ï¼Œå®‰è£… <code>Ubuntu 20.04</code>ï¼›é¢æ¿å·¦ä¾§ç‚¹å‡» <strong>â€œæœåŠ¡å™¨è¿ç»´-è¿œç¨‹è¿æ¥â€</strong> ï¼Œè®¾ç½® root å¯†ç åé‡å¯ç”µè„‘ç”Ÿæ•ˆï¼Œåœ¨æœ¬æœºä½¿ç”¨ <code>ssh + root@20.21.01.11</code> ç™»å½• ï¼ˆæ­¤å‡è®¾æˆ‘è´­ä¹°çš„é˜¿é‡Œäº‘æœåŠ¡å™¨å…¬ç½‘<code>IP</code> ä¸º <code>20.21.01.11</code>ï¼Œå¯“æ„æ–°å¹´ï¼‰ã€‚</p><br><h3 id="åˆ›å»ºæ–°ç”¨æˆ·"><a href="#åˆ›å»ºæ–°ç”¨æˆ·" class="headerlink" title="åˆ›å»ºæ–°ç”¨æˆ·"></a>åˆ›å»ºæ–°ç”¨æˆ·</h3><p>åˆ›å»ºæ–°ç”¨æˆ· <code>xmuli</code></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">adduser xmuli<span class="token function">chmod</span> <span class="token number">740</span> /etc/sudoers<span class="token function">vim</span> /etc/sudoers<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ‰¾åˆ°å¦‚ä¸‹ <code>root    ALL=(ALL:ALL) ALL</code> åï¼Œåœ¨å…¶ä¸‹é¢æ·»åŠ ä¸€è¡Œ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">xmuli   <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL:ALL<span class="token punctuation">)</span> ALL  <span class="token comment"># xmuli æ›¿æ¢ä¸ºè‡ªå·±ç”¨æˆ·å</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è·å– <code>root</code> æƒé™</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">passwd</span> xmuli<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br><h3 id="åˆ‡æ¢æ–°ç”¨æˆ·"><a href="#åˆ‡æ¢æ–°ç”¨æˆ·" class="headerlink" title="åˆ‡æ¢æ–°ç”¨æˆ·"></a>åˆ‡æ¢æ–°ç”¨æˆ·</h3><p>åˆ‡æ¢ä¸ºæ–°å»ºçš„ç”¨æˆ·åï¼ˆ<strong>åé¢éƒ½æ˜¯æ­¤ç”¨æˆ·å’Œå…¶ <code>~</code> ç›®å½•ä¸‹å·¥ä½œ</strong> ï¼‰ï¼Œå®‰è£…ä¸€äº›å¸¸ç”¨è½¯ä»¶</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">su</span> xmuli<span class="token builtin class-name">cd</span> ~<span class="token function">sudo</span> <span class="token function">apt</span> update<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token function">vim</span> <span class="token function">git</span> <span class="token function">htop</span> screenfetch <span class="token function">curl</span> <span class="token function">wget</span> <span class="token comment"># zsh æš‚æ²¡å®‰è£…</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="é…ç½®-SSH"><a href="#é…ç½®-SSH" class="headerlink" title="é…ç½® SSH"></a>é…ç½® <code>SSH</code></h3><p>åˆ›å»º <code>~/.ssh</code> å’Œ <code>authorized_keys</code> æ–‡ä»¶ï¼Œèµ‹äºˆæƒé™</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> ~/.ssh<span class="token function">vim</span> ~/.ssh/authorized_keys  <span class="token comment"># authorized_keys åå­—ä¸èƒ½å˜</span><span class="token function">chmod</span> <span class="token number">600</span> ~/.ssh/authorized_keys <span class="token function">chmod</span> <span class="token number">700</span> ~/.ssh/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶ååˆ‡å›æœ¬æœºï¼Œå°† <code>cat ~/.ssh/id_rsa.pub</code> çš„ç»“æœå¤åˆ¶åˆ° è¿œç¨‹æœåŠ¡å™¨çš„<code>~/.ssh/authorized_keys</code>é‡Œé¢ï¼›åœ¨æœ¬åœ°æµ‹è¯•ï¼ŒéªŒè¯ <code>ssh</code> æ— å¯†ç ç™»å½•</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ssh</span> <span class="token parameter variable">-v</span> xmuli@20.21.01.11<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br><h3 id="é…ç½®-Git"><a href="#é…ç½®-Git" class="headerlink" title="é…ç½® Git"></a>é…ç½® <code>Git</code></h3><p>åˆ›å»º <code>Git</code> è£¸åº“ <code>blog.git</code>ï¼Œå’Œå·¥ä½œç›®å½• <code>blog</code>ï¼ˆå­˜æ”¾è§£æå <code>html</code> æ–‡ä»¶ï¼‰</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> ~<span class="token function">mkdir</span> blog<span class="token function">git</span> init <span class="token parameter variable">--bare</span> blog.git<span class="token function">vim</span> blog.git/hooks/post-receive  <span class="token comment"># åˆ›å»ºæ–°æ–‡ä»¶</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>é‡Œé¢ <code>post-receive</code> æ·»åŠ  <code>hook</code> é’©å­ï¼Œ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#ï¼/bin/sh</span><span class="token function">git</span> --work-tree<span class="token operator">=</span>/home/xmuli/blog --git-dir<span class="token operator">=</span>/home/xmuli/blog.git checkout <span class="token parameter variable">-f</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ·»åŠ è¿è¡Œæƒé™</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">chmod</span> +x blog.git/hooks/post-receive<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è‹¥æ‰§è¡Œ <code>git clone xmuli@20.21.01.11:/home/xmuli/blog.git</code> å¯ä¸‹è½½äº‘æœåŠ¡å™¨è¯¥ git ä»“åº“</p><br><h3 id="å®‰è£…-nginx"><a href="#å®‰è£…-nginx" class="headerlink" title="å®‰è£… nginx"></a>å®‰è£… <code>nginx</code></h3><p>å®‰è£…  <code>nginx</code> å’Œä¿®æ”¹å¯¹åº”é…ç½®æ–‡ä»¶</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span><span class="token function">sudo</span> <span class="token function">vim</span> /etc/nginx/sites-available/default<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ‰¾åˆ°</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># include snippets/snakeoil.conf;</span>root /var/www/html<span class="token punctuation">;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ›¿æ¢ä¸º</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># include snippets/snakeoil.conf;</span>root /home/xmuli/blog<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ‰§è¡Œ <code>service nginx status</code>  æŸ¥çœ‹ nginx çŠ¶æ€ï¼Œå…¶é»˜è®¤çŠ¶æ€æ˜¯è¿è¡Œä¸­ï¼ˆæœåŠ¡å¼€å§‹äº†ï¼‰ + å¼€æœºè‡ªå¯ ï¼ˆ<strong>è‹¥æ˜¯æ²¡æœ‰ï¼Œéœ€è¦æ‰§è¡Œæ­¤çŠ¶æ€</strong> ï¼‰ï¼›å‘½ä»¤å¯å‚è€ƒ <a href="https://juejin.cn/post/6844904000769245191">ã€è¯‘ã€‘ä½ å¿…éœ€çŸ¥é“çš„10ä¸ª Nginx å¸¸ç”¨å‘½ä»¤</a> ã€‚</p><p>è‹¥æ­¤åˆ»ç›´æ¥è®¿é—®äº‘æœåŠ¡å™¨çš„å…¬ç½‘ IP ä¼šæ˜¾ç¤º nginx æ¬¢è¿ç•Œé¢ï¼Œå› ä¸ºæ­¤æ—¶ <code>/home/xmuli/blog</code> æ–‡ä»¶å¤¹ä¸ºç©ºï¼Œæ²¡æœ‰ä»»ä½• html æ–‡ä»¶ã€‚</p><br><h2 id="æœ¬åœ°é…ç½®"><a href="#æœ¬åœ°é…ç½®" class="headerlink" title="æœ¬åœ°é…ç½®:"></a>æœ¬åœ°é…ç½®:</h2><h3 id="åˆ›å»º-hexo-æ–‡ä»¶å¤¹"><a href="#åˆ›å»º-hexo-æ–‡ä»¶å¤¹" class="headerlink" title="åˆ›å»º hexo æ–‡ä»¶å¤¹"></a>åˆ›å»º <code>hexo</code> æ–‡ä»¶å¤¹</h3><p>æœ¬åœ°åˆ›å»ºä¸€ä¸ªæµ‹è¯•çš„ <code>hexoBlog</code> çš„åšå®¢æ–‡ä»¶å¤¹ï¼Œç”¨æ¥æœ€å°åŒ–éªŒè¯éƒ¨ç½²æ­£ç¡®ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> ~hexo init hexoBlog                       <span class="token comment"># åˆ›å»ºå’Œåˆå§‹åŒ– hexoBlog æ–‡ä»¶å¤¹</span>cnpm <span class="token function">install</span>                             <span class="token comment"># å®‰è£…æ’ä»¶</span>cnpm <span class="token function">install</span> hexo-deployer-git <span class="token parameter variable">--save</span>    <span class="token comment"># hexo d éƒ¨ç½²æ’ä»¶</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ä¿®æ”¹ <code>hexoBlog</code> æ ¹ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶ <code>_config.yml</code> ï¼Œæœ«å°¾ä¿®æ”¹ä¸º</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Deployment</span><span class="token comment">## Docs: https://hexo.io/docs/one-command-deployment</span>deploy:  type: <span class="token function">git</span>  repo: xmuli@20.21.01.11:/home/xmuli/blog.git  branch: master                             message: <span class="token string">'ç«™ç‚¹æ›´æ–°:&#123;&#123;now("YYYY-MM-DD HH:mm:ss")&#125;&#125;'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="éƒ¨ç½²åˆ°è¿œç¨‹æœåŠ¡å™¨"><a href="#éƒ¨ç½²åˆ°è¿œç¨‹æœåŠ¡å™¨" class="headerlink" title="éƒ¨ç½²åˆ°è¿œç¨‹æœåŠ¡å™¨"></a>éƒ¨ç½²åˆ°è¿œç¨‹æœåŠ¡å™¨</h3><p>åœ¨æœ¬æœºä¸­ <code>~/hexoBlog</code> è·¯å¾„ä¸‹ï¼Œæ‰§è¡Œéƒ¨ç½²</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo clean   <span class="token comment"># æ¸…ç†</span>hexo g       <span class="token comment"># ç”Ÿæˆ html æ–‡ä»¶</span>hexo s       <span class="token comment"># åœ¨æœ¬æœºæµè§ˆå™¨é¢„è§ˆæ•ˆæœ</span>hexo d       <span class="token comment"># éƒ¨ç½²ï¼Œä¼šè‡ªåŠ¨å°†ç”Ÿæˆçš„ html æ–‡ä»¶ï¼Œ push åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨çš„ /home/xmuli/blog æ–‡ä»¶å¤¹ä¸­</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶å<strong>é‡å¯é˜¿é‡Œäº‘æœåŠ¡å™¨åï¼Œæµè§ˆå™¨è¾“å…¥æœåŠ¡å™¨å…¬ç½‘ <code>IP</code></strong> ï¼Œå³å¯ç½‘é¡µçœ‹åˆ°è§£æåçš„éƒ¨ç½²ç½‘é¡µ â€œHello Worldâ€ã€‚</p><p>æœ€åæ›¿æ¢ä¸ºè‡ªå·±çš„çœŸå®åšå®¢æ–‡ä»¶å¤¹çš„ <code>_config.yml</code> æ–‡ä»¶æœ«å°¾å¤„æ›¿æ¢ä¸ºå¦‚ä¸Šï¼Œé‡æ–°æ‰§è¡Œ <code>hexo d</code> éƒ¨ç½²å³å¯æˆåŠŸï¼›å¯ä»¥ç”Ÿæˆä¸€ä¸ªå¿«ç…§å“¦~ï¼Œä»¥é˜²ä¸‡ä¸€</p><br><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://zhengyujie.github.io/2019/08/17/%E9%83%A8%E7%BD%B2%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/">Hexoåšå®¢éƒ¨ç½²åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨</a> </li><li><a href="https://www.jianshu.com/p/e1ccd49b4e5d">Hexoéƒ¨ç½²åœ¨é˜¿é‡Œäº‘æœåŠ¡å™¨ä¸Š</a> </li><li><a href="http://blog.zhangkexuan.cn/2020/10/25/hexo-aliyun/#%E5%88%9D%E5%A7%8B%E5%8C%96git%E4%BB%93%E5%BA%93%EF%BC%8C%E4%BD%9C%E4%B8%BAhexo%E9%83%A8%E7%BD%B2-deploy-%E7%9A%84%E8%BF%9C%E7%AB%AFgit%E4%BB%93%E5%BA%93">hexoæ­å»ºåœ¨é˜¿é‡Œäº‘æœåŠ¡å™¨ä¸Š(Ubuntu 20.04)</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
          <category> å­¦ä¹  - Hexo </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Deepin ä»»åŠ¡æ ç½‘é€Ÿæ’ä»¶æ¨è NetSpeed(é‡æ„ lfxSpeed)</title>
      <link href="/posts/164f4705/"/>
      <url>/posts/164f4705/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€ä¹‹å‰å†™è¿‡ä¸€ä¸ªç‰ˆæœ¬ <a href="https://github.com/xmuli/lfxSpeed">lfxSpeed</a> çš„ <code>dde-dock</code> æ’ä»¶ï¼Œç”¨æ¥å®æ—¶ç°å®ç½‘é€Ÿæ’ä»¶ï¼›ç°é‡æ„ä¸º <a href="https://github.com/xmuli/NetSpeed">NetSpeed</a> é¡¹ç›®ï¼Œä¿®å¤ä¹‹å‰çš„è®¸å¤šç¼ºé™·ï¼Œå’Œæ·»åŠ åŠŸèƒ½ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/Peek%202021-02-02%2013-28.gif" width="60%"/ loading="lazy"> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/Peek%202021-02-02%2013-31.gif" width="35%"/ loading="lazy"></p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><br><h3 id="é¡¹ç›®ç®€ä»‹"><a href="#é¡¹ç›®ç®€ä»‹" class="headerlink" title="é¡¹ç›®ç®€ä»‹"></a>é¡¹ç›®ç®€ä»‹</h3><p>â€‹<code>NetSpeed</code> æ˜¯ä¸€æ¬¾è½»é‡ã€å¿«é€Ÿçš„å®æ—¶æ˜¾ç¤ºç³»ç»Ÿèµ„æºä¿¡æ¯çš„åº”ç”¨ç¨‹åºã€‚<code>NetSpeed</code>  æ˜¯ <code>lfxSpeed</code> çš„é‡æ„ç‰ˆæœ¬ï¼Œå±äº <code>dde-dock</code> çš„ç½‘é€Ÿæ’ä»¶ï¼Œä¹Ÿæ˜¯å‰è€…çš„å­é¡¹ç›®ã€‚</p><br><h3 id="ç¢ç¢å¿µ"><a href="#ç¢ç¢å¿µ" class="headerlink" title="ç¢ç¢å¿µ"></a>ç¢ç¢å¿µ</h3><blockquote><p><font size="4" color="#ff5500"><strong>Deepin &#x2F; UOS ä¸‹çš„æœ€ä½³ç½‘é€Ÿæ’ä»¶æ¨è</strong> <a href="https://github.com/xmuli/NetSpeed">NetSpeed</a> ã€‚</font></p></blockquote><p>â€‹ å½“æˆ‘å†™ä¸Šè¿™å¥ä¹‹åˆï¼Œè€è„¸å¾®å¾®ä¸€çº¢ï¼›ç”¨è¿‡å…¶å®ƒå‡ æ¬¾ç½‘é€Ÿæ’ä»¶ï¼Œå‘è§‰éƒ½ä¸æ”¯æŒ dde-dock æ˜¯å‚ç›´æ¨¡å¼çš„çŠ¶æ€ï¼Œä¸è¿‡ç‘•ä¸æ©ç‘œï¼Œä¹Ÿéƒ½æœ‰å„è‡ªçš„ç²¾å½©ä¹‹å¤„ï¼›åœ¨æ­¤æä¾›å¤§å®¶å¤šä¸€ä¸ªé€‰æ‹©ï¼Œé€‚åˆè‡ªå·±æ‰æ˜¯æœ€å¥½çš„ã€‚</p><br><p>â€‹ä¹‹å‰åœ¨è®ºå›å‘å¸–ï¼š <a href="https://bbs.deepin.org/zh/post/206895">ç¥è´º DDUC åå‘¨å¹´ï¼ŒçŒ®ç¤¼ä¸€ä»½ï¼šDock ç½‘é€Ÿæ’ä»¶</a>ï¼Œæ”¶è·å¾ˆå¤šäº¤æµäºå¿«ä¹ã€‚äºæ˜¯å°†ä¸Šæ¬¡å†™çš„ç½‘é€Ÿæ’ä»¶ <a href="https://github.com/xmuli/lfxSpeed">lfxSpeed</a> ï¼Œå½»åº•é‡æ„äº†ä¸€ä¸‹ä¸º <a href="https://github.com/xmuli/NetSpeed">NetSpeed</a> ï¼Œä¿®å¤è®¸å¤šç¼ºé™·ï¼Œæ·»åŠ å¾ˆå¤šæ–°åŠŸèƒ½ï¼›</p><p><font size="4" color="red">Â <strong>æœ¬æ¬¡æœ€é‡è¦çš„å°±æ˜¯æ”¯æŒ Dock åœ¨å·¦å³ä¸¤ä¾§çš„æ—¶å€™ï¼Œä¹Ÿèƒ½å¤Ÿæ”¯æŒæ˜¾ç¤º(å®ç”¨ä¸ºä¸»)ã€‚</strong></font><img src="https://bbs.deepin.org/assets/image/raccoon/blush.gif" alt="img" loading="lazy"><img src="https://bbs.deepin.org/assets/image/raccoon/blush.gif" alt="img" loading="lazy"><img src="https://bbs.deepin.org/assets/image/raccoon/blush.gif" alt="img" loading="lazy"> ï¼Œå¯ç®—æ˜¯æ‰¾åˆ°äº†ä¸€ä¸ªæ¯”è¾ƒå¥½çš„è§£å†³æ–¹æ¡ˆã€‚ä¹Ÿåˆ¶ä½œä¸º <code>deb</code> å®‰è£…åŒ…æ ¼å¼ï¼Œå¯è‡ªè¡ŒåŒå‡»åä¸‹è½½å®‰è£…ã€‚</p><br><h3 id="æ”¯æŒåŠŸèƒ½"><a href="#æ”¯æŒåŠŸèƒ½" class="headerlink" title="æ”¯æŒåŠŸèƒ½"></a>æ”¯æŒåŠŸèƒ½</h3><ul><li>é«˜åˆ†å±æ˜¾ç¤º</li><li>ç”¨æˆ·è‡ªå®šä¹‰é…ç½®</li><li><font size="3" color="#55aaff">ä¸ºç³»ç»Ÿæ‰€æœ‰ç”¨æˆ·å®‰è£…</font></li><li>æ˜¾ç¤ºçš„å‰ç¼€å†…å®¹å’Œé¢œè‰²</li><li>æ˜¾ç¤ºçš„æ ‡ç­¾å†…å®¹å’Œé¢œè‰²</li><li>æ›´æ”¹æ˜¾ç¤ºå­—ä½“å’Œå­—ä½“å¤§å°</li><li><font size="3" color="#55aaff"><strong>é€‚é… <code>dock</code> çš„æ¨¡å¼ï¼ˆæ”¯æŒæ°´å¹³å’Œå‚ç›´ï¼‰</strong> </font></li><li>è‡ªåŠ¨åˆ‡æ¢å•ä½ï¼ˆé»˜è®¤æ™ºèƒ½ï¼‰</li><li>è°ƒæ•´ç½‘ç»œé€Ÿç‡ç²¾ç¡®åº¦</li><li>è°ƒæ•´åˆ·æ–°æ—¶é—´é—´éš”</li><li>æ˜¾ç¤ºé¢å¤–æ˜¾ç¤ºçš„æ‚¬æµ®ä¿¡æ¯</li><li><font size="3" color="#55aaff"> å·¦é”®å•å‡»æ˜¾ç¤ºçš„åŠ¨ä½œï¼ˆå¯å•å‡»æ‰“å¼€ â€œç³»ç»Ÿç›‘è§†å™¨â€ï¼‰</font></li><li>é…ç½®æ•°æ®å¯¼å‡ºï¼ˆå¯ç³»ç»Ÿè·¯å¾„ | ç”¨æˆ·è·¯å¾„ï¼‰</li><li><code>CPU</code>ã€å†…å­˜ã€çš„åˆ©ç”¨ç‡ï¼›æµé‡çš„ä½¿ç”¨é¢„è­¦</li><li>åº”ç”¨çš„ä¸»é¢˜æ ·å¼ï¼ˆæµ…è‰²å’Œæš—è‰²æ¨¡å¼ï¼‰</li><li>æ›´æ”¹ç³»ç»Ÿæ‰€è‡ªå¸¦çš„æ‰€æœ‰é£æ ¼é€‰æ‹©</li></ul><p>ï¼Œï¼Œï¼Œï¼Œå…¶å®ƒæ›´å¤šåŠŸèƒ½ï¼ˆå†™æ¼äº†é‚£å°±æ˜¯å°å½©è›‹ï¼‰</p><img src="https://storage.deepin.org/thread/202102021433299289_lfxMonitorNet.png" width="100%"/ loading="lazy"><br><h3 id="é‡æ„å¿ƒå¾—"><a href="#é‡æ„å¿ƒå¾—" class="headerlink" title="é‡æ„å¿ƒå¾—"></a>é‡æ„å¿ƒå¾—</h3><p>â€‹ç›¸æ¯”äº<a href="https://github.com/xmuli/NetSpeed">æ—§ç‰ˆ</a> çš„ç®€ç‰ˆç½‘é€Ÿæ’ä»¶ï¼Œæ–°ç‰ˆæ’ä»¶å¤šäº†å¾ˆå¤šåŠŸèƒ½ï¼Œä¸”è¿˜æœ‰åŠŸèƒ½å·²ç»å®ç°ï¼Œä½†æ˜¯æœªåœ¨ç•Œé¢æ˜¾ç¤ºå‡ºæ¥ï¼ˆæˆ–å·²ç»å®ç°å¤§åŠï¼‰ï¼›ä»¥ä¸ºé‡æ„æ˜¯ä¸€ä»¶å¾ˆå®¹æ˜“çš„äº‹æƒ…ï¼Œæ¯•ç«Ÿä¹‹å‰æ ¸å¿ƒéƒ¨åˆ†å·²ç»æœ‰ä¹¦å†™è¿‡ä¸€éã€‚</p><p>â€‹ç»è¿‡è¿™æ¬¡é‡æ„ä¹‹åï¼Œå‘ç°å¾ˆå¤šä¸è¶³ã€‚ä½†æ˜¯è¿™äº›ä¸è¶³éƒ½æ˜¯æœ€åˆæˆ‘æ„æ–™ä¹‹å¤–çš„ä¸€äº›å› ç´ ï¼›æ¯”å¦‚ Linux ä¸‹å¤šç”¨å®‰è£…ï¼›é‡å†™ CMake çš„è¯­æ³•ï¼›æ‰“åŒ…åˆ†å‘ï¼› UI é€»è¾‘å’Œæ•°æ®ä¹‹é—´çš„ä¼ é€’ï¼›é¢„æœŸç”¨æˆ·äº¤äº’åŠŸèƒ½ã€å’Œå¼€å‘è€…è‡ªå·±æƒ³è¦å¼€å‘çš„åŠŸèƒ½ï¼›è¾¹å†™è¾¹ä¿®æ­£ï¼Œå¾ˆå¤šåŠŸèƒ½éƒ½æƒ³åŠ ï¼Œè¶Šå†™è¶Šå¤§ï¼Œè¶Šæ¥è¶Šå¤æ‚ï¼Œä¼¼ä¹é—å¿˜äº†æœ€åˆçš„æ’ä»¶æœ¬èº«åŠŸèƒ½ï¼Œå°è€Œç®€æ´ï¼›<del>ç¼ºä¹å¥½çœ‹çš„ UI è®¾è®¡å›¾ï¼ˆç¼ºè®¾è®¡å¸ˆï¼Œæ‚è„¸ï¼‰ï¼Œæœ€åå®ç°æ•ˆæœå’Œæˆ‘é¢„æœŸçš„æ•ˆæœï¼Œæœ‰å·®å¼‚ï¼ˆå¿½ç•¥æ­¤ï¼‰</del>ï¼›å¤§å¤šæ•°æ˜¯ä¹‹å‰ä»¥ä¸ºçš„ä¸€å°éƒ¨åˆ†äº‹æƒ…ï¼Œå®é™…å»å®Œæˆå®ƒä»¬åï¼Œæ‰å‘ç°å¼€å‘åªæ˜¯æ•´ä¸ªè¿‡ç¨‹ä¸­çš„ä¸€å°éƒ¨åˆ†ï¼ˆå¼€å‘ç«Ÿç„¶æ˜¯æˆ‘è‡ªå·±ï¼Œæ‰“åŒ…ä¹Ÿæ˜¯ï¼‰ã€‚</p><p>â€‹å¦å¤–æ²¡æœ‰çœŸæ­£çš„è·¨å¹³å°ï¼Œå³ä½¿æœ‰ï¼Œä¹Ÿéƒ½æ˜¯æ¯ä¸€ä¸ªå¹³å°ä¸‹çš„é€ä¸ªå»å®ç°ï¼›ä¹Ÿé‡åˆ°ä»¥ä¸ºå¾ˆå®¹æ˜“çš„åŠŸèƒ½ï¼Œå®é™…å¾ˆå¤æ‚å’Œéš¾ä»¥ç®€å•çš„è·¨å¹³å°ï¼›å¯¹äº Qt æœ‰äº†è·Ÿè¿›ä¸€æ­¥çš„è®¤è¯†ï¼Œä¹Ÿæœ‰å…¶ä¸è¶³ã€‚</p><br><h3 id="åæœŸè®¡åˆ’"><a href="#åæœŸè®¡åˆ’" class="headerlink" title="åæœŸè®¡åˆ’"></a>åæœŸè®¡åˆ’</h3><p>â€‹åé¢ç©ºé—²è®¡åˆ’ï¼Œå°† <code>NetSpeed</code> å†™æˆ Linux ä¸‹é€šç”¨çš„ç½‘é€Ÿæ‚¬æµ®çª—ï¼›å¸å–ç½‘é€Ÿæ’ä»¶çš„ç»éªŒï¼Œå¯¹åŠŸèƒ½çš„å®ç°ï¼Œåªä¿ç•™å¿…é¡»çš„åŠŸèƒ½ï¼›ç®€æ´æ‰æ˜¯åˆå¿ƒï¼ŒåŠŸèƒ½çš„å †ç Œå¯èƒ½å¹¶ä¸æ€ä¹ˆæ£’ï¼›è®°å¾— â€œäºŒå…«åŸåˆ™â€ï¼Œé‚£ä¹ˆå°±åªå»å®ç°é‚£ â€œäºŒâ€ ç­‰çš„åŠŸèƒ½ã€‚ç„¶å <code>NetSpeed</code> ä½¿ç”¨ DTK æ¥å†™ï¼Œä¸”å»æ‰ä¸€äº›å¯èƒ½æ²¡äººä½¿ç”¨çš„åŠŸèƒ½ã€‚æ²Ÿé€šåè°ƒ <code>dock</code> æä¾›ä¸€äº› API æ¥å£ï¼Œæœ‰äº›åœ°æ–¹æœ¬è¯¥æœ‰ Dock æä¾›æ’ä»¶ï¼Œæ­¤å¤„è‡ªè¡Œè¡¥ä¸è·³è¿‡ï¼ŒæŒ‰é“ç†ä¸åº”è¯¥å¦‚æ­¤ã€‚å…ˆç­‰å¾…ä¸€ä¸‹ç”¨æˆ·ä½“éªŒå’Œå»ºè®®ä¹‹ç±»çš„åé¦ˆ</p><p>â€‹çœ‹åœ¨ä½¿ç”¨è¿‡è¿‡ç¨‹ä¸­ï¼Œè¿˜æœ‰å“ªäº›ç»†èŠ‚æ²¡æœ‰æ³¨æ„åˆ°ï¼Œè‹¥æ˜¯æ„Ÿè§‰æ¯”è¾ƒå¥½ï¼Œä¼šåœ¨ä¸‹ä¸€ä¸ªç‰ˆæœ¬ä¸­ä¿®æ­£ä¼˜åŒ–ã€‚</p><br><h3 id="åŠŸèƒ½-amp-æ•ˆæœ"><a href="#åŠŸèƒ½-amp-æ•ˆæœ" class="headerlink" title="åŠŸèƒ½ &amp; æ•ˆæœ"></a>åŠŸèƒ½ &amp; æ•ˆæœ</h3><ol><li>å¤šè¯­è¨€åˆ‡æ¢ï¼Œæ™ºèƒ½å•ä½åˆ‡æ¢</li><li>è‡ªå®šä¹‰ç½‘é€Ÿæ ‡ç­¾ &#x2F; èƒŒæ™¯æ ‡ç­¾å†…å®¹ã€é¢œè‰²ã€ç²¾å‡†åº¦ã€å­—ä½“ã€å­—ä½“å¤§å°ã€ä½ç½®äº’æ¢ã€æ˜¯å¦æ˜¾ç¤º</li><li>è‡ªå¸¦ä¸¤å¥—æµ…è‰² &#x2F; æš—è‰²ä¸¤å¥—ä¸»é¢˜ã€åˆ‡æ¢ç¨‹åºé£æ ¼</li><li>æ”¯æŒæ°´å¹³å’Œå‚ç›´ä¸¤ç§æ¨¡å¼ã€çª—å£ç½®é¡¶</li><li>è‡ªå®šä¹‰æ•°æ®å¯¼å‡º</li><li>æ¬¢è¿å¸®åŠ©å®Œå–„</li></ol><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210316-162021.png" width="100%"/ loading="lazy"><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210316-162022.png" width="100%"/ loading="lazy"><br><h3 id="é¸£è°¢"><a href="#é¸£è°¢" class="headerlink" title="é¸£è°¢"></a>é¸£è°¢</h3><p>åœ¨é‡æ„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿè·å¾—å¾ˆå¤šæ€è·¯è§£æƒ‘ã€ç”¨æˆ·äº¤äº’çš„æ¢è®¨äº¤æµï¼Œ<a href="https://github.com/justforlxz">æµå¹´åŒ†å¿™</a> ã€<a href="https://github.com/zccrs">zccrs</a> ã€wangpengï¼Œ<a href="https://github.com/juteman">juteman</a> ç­‰ä¹Ÿæœ‰ç»™äº†å¾ˆå¤šå»ºè®®ï¼Œåœ¨æ­¤è¡¨ç¤ºæ„Ÿè°¢ã€‚ä¹Ÿæœ‰æœ‹å‹ä»¬çš„å…¶å®ƒçš„ååŠ©ï¼Œéƒ½åœ¨æ­¤è°¢è¿‡</p><br><h3 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h3><p>æ¬¢è¿æ¥ <a href="https://github.com/xmuli/NetSpeed/issues">æ­¤å¤„</a> åé¦ˆç¼ºé™·ã€æä¾›å»ºè®®ã€å‚ä¸è´¡çŒ®ï¼›æˆ–è€…åœ¨è®ºå›å¸–å­ <a href="https://bbs.deepin.org/zh/post/213210">https://bbs.deepin.org/zh/post/213210</a>  ä¸‹ç›–æ¥¼ä¹Ÿè¡Œ ã€‚</p><ul><li><p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/xmuli/NetSpeed">NetSpeed</a> </p></li><li><p>å®‰è£…åŒ…ä¸‹è½½ï¼š<a href="https://github.com/xmuli/NetSpeed/releases">releases</a></p></li></ul><br><p>ä½ çš„ <code>star</code> å’Œ <code>fork</code> æ˜¯å¯¹æˆ‘æœ€å¤§çš„æ”¯æŒã€‚ä¹Ÿæ¬¢è¿å­¦ä¹ è¿™ä¸ªç³»åˆ—çš„ <a href="https://xmuli.blog.csdn.net/article/details/QT/DTK"><code>QT/DTK</code></a> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
          <category> ä¸“æ  - é¡¹ç›®å®æˆ˜å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> Deepin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨ Deepin ç ”å‘ DDE çš„æ—¶å…‰</title>
      <link href="/posts/2a832e7a/"/>
      <url>/posts/2a832e7a/</url>
      
        <content type="html"><![CDATA[<p>â€‹æ¼«æ­¥ï¼Œå›ä½å®…çš„è·¯ä¸Šï¼Œå¤©å·²æ¸é»‘ï¼Œä»Šï¼Œé£å„¿ä¹Ÿç”šæ˜¯å–§åš£ï¼›è„¸ä¸Šç•¥æ„Ÿå†°å†·ï¼Œå¤§æ¦‚æ˜¯å¯’å†¬ï¼Œå¤–åŠ ä¸´è¿‘è¿‡å¹´ï¼Œå¿½å›å¿†å‰ä¸€å¹´ï¼Œæ„Ÿæ—¶é—´çš„æµé€ï¼Œç•¥æœ‰æ‰€æ„Ÿã€ã€ æ¥æ°´ä¸€ç¯‡</p><p>â€‹ä¹¦ä¸Šè¯´ï¼Œæ–‡ç« éƒ½è¯´è®²ç©¶è„‰ç»œæ¸…æ™°ã€ç¥ä¸æ•£ï¼›å¯æˆ‘å†™æ–‡ç« ï¼Œå¯¹äºéæŠ€æœ¯ç±»ï¼Œæ›´å–œæ±ªæ´‹æ£è‚†ã€éšå¿ƒæ‰€æ¬²ã€ä¸æƒ³è¿‡å¤šã€‚æƒ³å¤šäº†å°±ç¼ºå°‘æŸç§æ„Ÿè§‰ã€‚åœ¨æœ¬ç¯‡å®Œæˆä¹‹åï¼Œé—²æ¥æ— äº‹ï¼Œ Google äº†ä¸‹ï¼Œå±…ç„¶çœ‹åˆ°è®¸å¤šå¤§ä½¬ä¹Ÿæœ‰å†™è¿‡æ­¤ç±»ç ”å‘æ–°çš„ã€‚å‘ç°é™¤äº† <a href="https://blog.justforlxz.com/">justforlxz</a> è¯´è¿‡ï¼š é€ è½®å­å°±æ˜¯ Deepin çš„ä¼ ç»Ÿã€‚æˆ‘è§‰å¾—åº”è¯¥åŠ ä¸€å¥ï¼š å†™ç ”å‘å¿ƒå¾—ä¹Ÿæ˜¯ Deepin çš„ä¼ ç»Ÿä¹‹ä¸€ã€‚ å™«å˜˜å”ï¼Œå±æ ½ï¼Œæ„Ÿåˆå…¥ä¸€å‘ã€‚æ€æ¥æƒ³å»ï¼Œå¿…é¡»å¾—å°†æ­¤æ®µç½®äºå‰ã€‚</p><p>â€‹</p><p>â€‹<strong>å…­æœˆæ¯•ä¸šï¼Œå¯»ç¬¬ä¸€ä»½å·¥ä½œã€‚</strong> è®°å¾—æ­¦æ±‰çš„å¤å¤©ï¼Œçƒ­å¤–çš„ç‡¥çƒ­ï¼Œé‚£å¤©æŒç€ç®€å†ï¼Œæ¥åˆ°é‡‘èæ¸¯çš„æŸæ ‹ 6 æ¥¼é¢è¯•ï¼›é¢è¯•å®˜æ¸©æ–‡å°”é›…ï¼Œå¾ˆå¹´è½»ï¼Œçœ‹ç€ä¸æˆ‘å·®ä¸å¤šåŒé¾„ï¼Œäº¤è°ˆé—´æ„ŸçŸ¥ï¼Œæ¯”æˆ‘å¤šä¸€ä¸æˆç†Ÿä¸ç¨³é‡ã€‚é¢è¯•è¿‡ç¨‹è²Œè€Œä¸ç”Ÿåˆ†ï¼Œä¸€ç›´åˆ°æœ€åçš„ç»“æŸéƒ½ç”šæ˜¯æ„‰æ‚¦ï¼ˆæŠ€æœ¯é¢å¾ˆæ˜¯æ„‰å¿«ï¼‰ã€‚ä¸´èµ°æ—¶è¢«ä¸€é—´å±•ç¤ºå…å¸å¼•ï¼Œé‡Œé¢æœ‰ç€å¾ˆå¤šæ¼‚äº®ä¸”ç®€æ´çš„åº”ç”¨ç¨‹åºçš„ logoã€å’Œæ³¨æ„åˆ°å¤§å®¶å¤´å‘ä¹Ÿæ¯”è¾ƒå¤šï¼Œåº”è¯¥å¯ä»¥ä¿ä½æˆ‘çš„å¤´å‘ï¼Œå—¯ï¼å°±å†³å®šæ¥äº†ï¼Œç»“ç¼˜ï¼Œäºæ˜¯ Deepin ä¹Ÿæœ‰äº†è‡ªå·±å·¥ä½ã€‚ï¼ˆåå°†åˆæ¬¡å·¥ä½œçš„åœºæ™¯å†™äº†å‡ºæ¥ï¼Œè™½ç„¶ç•¥ç­”ä¸å¯¹é—®ï¼Œä½†æ„å¤–æˆäº†çƒ­é—¨é«˜èµï¼ŒåŸæ¥å¤§å®¶éƒ½æ¯”è¾ƒå–œæ¬¢<del>åƒç“œ</del>ï¼Ÿï¼Ÿï¼Ÿ æœ‰å…´è¶£å¯çœ‹ï¼š[zhihu.com](å¦‚ä½•è¯„ä»·åä¸ºå®˜æ–¹Matebook14 Linuxç‰ˆ? - å•è‡§çš„å›ç­” - çŸ¥ä¹ <a href="https://www.zhihu.com/question/344339517/answer/817025546">https://www.zhihu.com/question/344339517/answer/817025546</a>) ï¼‰ã€‚ </p><p>â€‹<strong>åœ¨ä¸€ä¸ªçƒ­æƒ…ã€èˆ’é€‚ä¸”å‹å¥½çš„ç¯å¢ƒæˆä¸ºä¸€åç ”å‘æ˜¯ä¸€ä»¶å¾ˆå¿«ä¹çš„äº‹æƒ…ã€‚</strong> è´Ÿè´£ <code>DTK</code> åº“çš„å¼€å‘å’Œç»´æŠ¤ï¼Œåˆå§‹ï¼Œé‡åˆ°ä¸ä¼šï¼Œzccrs å°±ååœ¨æˆ‘ä»¬å‡ ä¸ªæ–°äººæ—è¾¹ï¼Œæ‰‹æŠŠæ‰‹æ•™å¯¼æ€ä¹ˆæ•² DTK çš„ä»£ç å’Œ Git çš„ä½¿ç”¨ï¼›æŸ‘æ©˜ä¸Šç­çš„ç¬¬ä¸€å‘¨ï¼Œä»£ç éƒ½æ˜¯ä»–å¸®æ•²çš„ã€ç”šæ˜¯ä¸å¥½æ„æ€ï¼ˆç°åœ¨è„¸çš®å·²ç»åšå¤šäº†ï¼‰ï¼›ä¸ƒæœˆèµ·ï¼Œ DTK å¤„äºå¼€å§‹æ”¹å†™å¤§é‡ Qt æ§ä»¶æ ·å¼çš„æ—¶æœŸï¼ŒåŸºæœ¬æ‰€æœ‰å¸¸ç”¨æ§ä»¶éƒ½è¦å†™ä¸€éï¼Œè¿˜æœ‰ä¸€äº›æ–°å¢åŠ çš„è‡ªå®šä¹‰æ§ä»¶ã€‚è™½ç„¶å·¥ä½œé‡è¾ƒå¤šï¼Œå¼€å‘è€…å¾ˆå°‘ï¼Œä¸”åœ¨èµ¶æ—¶é—´å¼€å‘æ–°åŠŸèƒ½ã€ä½†å´æ²¡æœ‰ KPIï¼Œä½†æ˜¯å¤§å®¶çš„çƒ­æƒ…å’Œä¸»åŠ¨éƒ½å¾ˆé«˜ï¼Œä¼šäº’ç›¸ä¹‹é—´ï¼Œä¸»åŠ¨å¸®åŠ©å…¶ä»–äººè§£æƒ‘ï¼Œæˆ–è€…å¸®åŠ©è‡ªå·±å’Œä»–äººå…±åŒè¿›æ­¥ï¼Œæ°›å›´ç”šæ˜¯èæ´½ï¼Œèˆ’é€‚è€Œåˆæ„‰å¿«ã€‚ä¸”åé¢è¿™ç§æ°›å›´ä¸€ç›´å»¶ç»­è‡³ä»Šï¼Œè®©äººèˆ’é€‚ã€‚</p><p>â€‹<strong>DTK æœ€åˆæ˜¯åŸºæœ¬ç¼ºä¹æ–‡æ¡£çš„ï¼Œå…¨é å£å£ç›¸ä¼ ã€‚</strong> ä½¿å¾—åº“çš„ç»´æŠ¤è€…ï¼Œä¹Ÿåªèƒ½é é˜…è¯»æºç ã€ä»¥åŠå‰è¾ˆä»¬çš„å£å£ç›¸ä¼ ã€‚è®°å¾—å¼€å‘åº”ç”¨è½¯ä»¶çš„ç ”å‘ä»¬ï¼Œè¢«è¿«ä¸€èµ·çœ‹æºç æ¥å¼€å‘è½¯ä»¶ï¼Œè€Œéæœ‰å®Œå–„çš„æ–‡æ¡£å¯ä¾›æŸ¥é˜…ï¼›ä¹Ÿä¼šåœ¨ç½‘é¡µé€šè®¯å¹³å°ä¸­ï¼Œè¢«å®ƒä»¬ä¸€ç›´è¿½ç€é—®æœ‰å“ªäº›æ¥å£ï¼Ÿå½“å‰è¦å®ç°çš„ä½†æ˜¯æ²¡æœ‰å¯¹åº”æ¥å£ï¼Œè¯¥å¦‚ä½•å¤„ç†ä¹‹ç±»ï¼Ÿæ­¤æ—¶å¤„äºé«˜é€Ÿå‘å±•æœŸçš„ DTKï¼Œæ¥å£ä¹Ÿæœ‰ç€å¤§é‡çš„å¢åŠ å’Œä¿®æ”¹ï¼ŒåŒæ—¶é€æ¸è€ƒè™‘å‘ä¸‹å…¼å®¹ï¼›é‚£ä¸ªæ—¶å€™æˆ‘å°±åœ¨æƒ³ï¼Œå¦‚æœ DTK è¦æ˜¯æœ‰æ–‡æ¡£è¯¥å¤šå¥½å•Šï¼›ä¸”éå¸¸å¸Œæœ›èƒ½å¤Ÿä¸º DTK å›¢é˜Ÿæ‰©äººï¼Œæ„Ÿè§‰ä»… 2ã€3 äººå†™ä¸è¿‡æ¥ã€‚ä¸è¿‡åæ¥æ—¶é—´è¯æ˜å®Œæˆäº†ï¼ˆåªèƒ½è¯´å¤§ä½¬ä»¬å¤ªè‚äº†ï¼‰ï¼Œè¦ä¿é‡èº«ä½“ã€‚ä¸”å¦‚ä»Šçš„ DTK å›¢é˜Ÿä¹Ÿæ‰©å¤§äº†ï¼Œæ¥å£ä¹Ÿè¶ŠåŠ ç¨³å®šå’Œæ”¯æŒå‘ä¸‹å…¼å®¹ï¼ŒçœŸçš„æ˜¯æ£’æäº†ã€‚ï¼ˆè®¾è®¡å¸ˆç»™çš„å›¾è§‰å¾—çœŸçš„å¥½çœ‹ï¼‰ï¼Œå…³äº DTK çš„å†å²å¯çœ‹ <a href="https://xmuli.tech/posts/974df8a3/">æ­¤å¤„</a></p><p>â€‹<strong>åœ¨å¼€æºç¤¾åŒºåï¼Œå°±ä¸€ç›´è‡´åŠ›äº DTKã€DDEã€ç¤¾åŒºçš„æ¨å¹¿ï¼ˆä¸¾åŠçŸ¥è¯†åˆ†äº«ã€PPT äº¤æµç­‰ï¼‰å’Œæ–‡æ¡£çš„å®Œå–„ã€‚</strong> åœ¨å¼€å‘ DTK è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡ zccrs ç­‰æŒ‡å¯¼ï¼Œå°† DTK çš„åŸç†æŠ½å‡ºæ¥äº†ï¼Œç‹¬è‡ªå†™å‡ºäº†åŸç”Ÿçš„æ§ä»¶è‡ªç»˜çš®è‚¤ã€ä»¥åŠä¼šè‡ªå·±åˆ›å»ºè‡ªå®šä¹‰æ§ä»¶ï¼Œå†™æˆäº†ä¸€ä¸ª Qt å’Œ DTK çš„å…¥é—¨ä»£ç ä¾‹å­ï¼Œå†™äº†é¢å‘ç»´æŠ¤è€… DTK çš„æ–‡æ¡£ ï¼ˆ<a href="https://github.com/xmuli/QtExamples">https://github.com/xmuli/QtExamples</a>ï¼‰ã€‚è™½ç„¶æ¯”è¾ƒè´¹æ—¶è´¹åŠ›ï¼Œä½†æ˜¯æƒ³åˆ°èƒ½å¤Ÿå¸®åŠ©æ›´å¤šçš„äººå…¥é—¨<del>ï¼ˆå…¥å‘ï¼‰</del>ï¼Œæƒ³æƒ³å°±è§‰å¾—å¼€å¿ƒï¼ŒåŒæ—¶ä¹Ÿæ„Ÿè§‰è‡ªå·±è¿›æ­¥è€Œå¼€å¿ƒã€‚æ²¡æœ‰æ–‡æ¡£æ˜¯æˆ‘å¿ƒä¸­ä¸€ç›´æ‰€ç¼ºæ†¾ï¼Œæ„Ÿè§‰å­¦èµ·æ¥ä¸äº†è§£å…¶å†å²ï¼Œå¾ˆè¾›è‹¦å’Œç¼ºä¹ä¸€äº›è¶£å‘³ï¼Œä½†å€˜è‹¥æ¯ä¸€ä¸ªåæ¥è€…å†é‡å¤ï¼Œå²‚ä¸æ˜¯å‘œå‘¼å“€å“‰ï¼ï¼ï¼ä½†æ˜¯æˆ‘æ—¢ç„¶å­¦è¿‡ï¼Œé‚£å°±æœ‰å¿…è¦è®©åæ¥äººé™ä½å°é˜¶ï¼Œæ›´åŠ æ–¹ä¾¿çš„å…¥é—¨ã€‚äºæ˜¯åæ¥ï¼Œä¸“èŒè´Ÿè´£ Deepin ç¤¾åŒºç‰ˆï¼Œæœ‰äº†å¾ˆå¤šæ—¶é—´ï¼Œç»ˆäºè…¾å‡ºæ‰‹æ¥å°† DTK ï¼ˆä¸”ä¸Šå‡ä¸º Deepinï¼‰ çš„æ–‡æ¡£æ•´ç†å‡ºæ¥äº†ã€‚ä½œä¸ºä¸€ä¸ªæ¯”æ–‡è‰ºéªšå¹´ï¼Œé¦–å…ˆæ–‡æ¡£ç•Œé¢ä¸èƒ½æ¯”è¾ƒ lowï¼Ÿåœ¨æ­å»º <code>docsify</code> ã€ <code>vuepress</code> ã€ <code>gitbooks</code>ã€ <code>blog</code>ã€<code>å˜ç§ä¸»é¢˜</code> ç­‰åï¼Œç†Ÿæ‚‰äº†æ¯ä¸€ä¸ªå‘ï¼Œç»¼åˆé€‰å‡ºäº†ä¸€ä¸ªç¾è§‚ä¸”æ˜“äºç»´æŠ¤çš„æ¡†æ¶æ¥æ­å»ºæ–‡æ¡£ï¼Œä¸”ä¿®ç¼®äº†ä¸€äº›æ—§çš„æ–‡æ¡£ã€‚<strong>ç°åœ¨ DTK ç›¸å…³æ–‡æ¡£é›†åˆ</strong> ï¼š<a href="https://docs.deepin.org/pages/45e05f/">https://docs.deepin.org/pages/45e05f</a> </p><p>â€‹<strong>åœ¨ç¤¾åŒºé€šå¸¸æ˜¯è‡ªæˆ‘é©±åŠ¨ï¼Œèƒ½å¤Ÿè·å–æ›´å¤šçš„ç‹¬ç«‹æˆé•¿ï¼Œä»¥åŠæ„Ÿå—åˆ°å›¢é˜Ÿä¼™ä¼´çš„å¸®åŠ©ã€‚</strong> å±äºä½ æƒ³å®Œæˆä»€ä¹ˆï¼Ÿè°ƒç ”ï¼Ÿå¯è¡Œæ€§åˆ†æï¼Ÿå®ƒéœ€è¦æ€ä¹ˆåšï¼Ÿå¦‚ä½•è·å–å¸®åŠ©ï¼Ÿå¦‚ä½•å»ä¸äººæ²Ÿé€šäº¤åè°ƒç­‰ç­‰ç­‰ï¼Ÿå‰é¢å‚ä¸ Deepin å‘å¸ƒç‰ˆæœ¬å’Œ Bug ä¿®å¤ï¼Œåå‚ä¸å¼€æºç¤¾åŒºçš„å»ºè®¾ï¼Œè‡ªç”±åº¦å’Œçµæ´»åº¦éƒ½æœ‰å¾ˆå®½æ¾ï¼Œçµæ´»åº¦å’Œä¸€äº›è§„åˆ™éƒ½æ¯”è¾ƒå®½æ¾ï¼Œä½†åŒæ—¶åˆè´£ä»»é‡å¤§ã€‚åœ¨è¿™é‡Œï¼Œä½ æƒ³ä¸ºç¤¾åŒºåšä»€ä¹ˆäº‹æƒ…ï¼Œå¦‚ä½•å»å¸å¼•äººå‚ä¸è´¡çŒ®ï¼Ÿåè°ƒå’Œç»„ç»‡ä¸€äº›å¼€æºæ´»åŠ¨ï¼Ÿç„¶åå¤§ä½¬ä»¬é€šå¸¸æ”¯æŒä½ ï¼Œä¸”æä¾›å¸®åŠ©ã€‚å›´ç»•ç€ Deepin çš„ä¸Šä¸‹æ¸¸ï¼Œç¤¾åŒºå…³ç³»ç»´æŠ¤ã€å’Œå¼€æºå¸ƒé“ç­‰ï¼Œè®©ä½ åšæƒ³åšçš„äº‹æƒ…ï¼Œä¹Ÿå¯ä»¥è®©ä½ å­¦ä½ æƒ³å­¦çš„çŸ¥è¯†ã€‚è¿™é‡Œä¹Ÿå¯ä»¥æ„Ÿå—åˆ°å¾ˆå¤šçš„ä»£ç ä¹‹å¤–çš„ä¸œè¥¿ï¼Œäº¦æ˜¯å—ç›ŠåŒªæµ…ã€‚</p><p>â€‹æœ€åï¼Œå¼€å·æœ‰ç›Šï¼Œä¸äººæ²Ÿé€šå¿«ä¹ã€‚å†™å®Œä¹‹åï¼Œç«Ÿç„¶æ„Ÿè§‰æœ‰å‡ åˆ†çš„ç—›å¿«æ·‹æ¼“ï¼Œè™½æœ‰ç‚¹è¡Œç¬”å‡Œä¹±ï¼Œä½†æ‰€è¨€å·²è‡³äºæ–‡ä¸­ï¼Œæœ€è¿‘ç™½å¤©æœ‰ç‚¹å¿™ï¼Œæ™šä¸Šç å­—ï¼Œä¸€éœ¹é›³å•ªå•¦çš„ï¼Œå°±åˆåˆ°äº†å‡Œæ™¨ äº†ã€‚ä¸ç†¬å¤œäº†ï¼Œå…ˆè‹Ÿäº†ï¼Œç¡è§‰ï¼ˆã€‚</p><p>â€‹</p><p>ã€</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
          <category> ç”Ÿæ´» - é—²æš‡çš„è¶£é—» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Deepin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Deepin æ„¿æœ›å¢™ï¼šç¤¾åŒºæ’ä»¶ç­‰éœ€æ±‚è°ƒç ”ç»“æœ</title>
      <link href="/posts/8bad87dd/"/>
      <url>/posts/8bad87dd/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€ç¤¾åŒºæˆ–ç‹¬ç«‹å¼€å‘è€…ï¼Œæ¬²å¼€å‘ä¸€äº›æ’ä»¶æˆ–å°åŠŸèƒ½ç­‰ï¼Œä½†ä¸€æ—¶ä¹‹é—´æ²¡æƒ³åˆ°åˆé€‚çš„æ–¹å‘ï¼Œå¯å‚è€ƒæ­¤ä½œä¸ºæ–¹å‘ï¼Œä½œä¸ºä¸ªäººå­¦ä¹ æˆ–è€…ç»ƒæ‰‹ç¼–ç¨‹ã€‚<font size="3" color="#FF0000">æ—¢æ˜¯ä¸ªäººå…´è¶£ï¼Œä¹Ÿæ˜¯ä»–äººæ‰€éœ€ï¼Œå¦™å“‰ã€‚</font> </p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="è¯¦ç»†è°ƒç ”"><a href="#è¯¦ç»†è°ƒç ”" class="headerlink" title="è¯¦ç»†è°ƒç ”"></a>è¯¦ç»†è°ƒç ”</h2><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>ä¹‹å‰æ‹œæ‰˜å¤§ä½¬è°ƒç ”è¿‡ä¸€äº›æœ‰ç¤¾åŒºå¸Œæœ›ä¸Šå“ªäº›åŠŸèƒ½ï¼Œæ­¤å¤„æ”¾å‡ºæ¥ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºç¤¾åŒºå¼€å‘è€…ä¸€ä¸ªå‚è€ƒï¼Œå¦‚æœæ„Ÿå…´è¶£çš„è¯ï¼Œå¯ä»¥è€ƒè™‘ä¸ªäººå¼€å‘ä¸€äº›å°è½®å­ï¼Œ<font size="3" color="#FF0000">å³ä½¿å·²ç»æœ‰çš„ï¼Œæˆ–è®¸ä½ å¯ä»¥å¼€å‘ä¸€ä¸ªæ›´æ£’çš„ã€‚ç„¶åå¯åœ¨<a href="https://docs.deepin.org/pages/d318e7/#%E6%8A%95%E7%A8%BF%E4%BD%9C%E5%93%81">å®˜æ–¹æ–‡æ¡£</a>æŠ•ç¨¿ã€è®ºå›å‘å¸–ç­‰ï¼Œä¸€èµ·åˆ†äº«ã€‚</font></p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20210105163355.png" width="70%"/ loading="lazy"><br><h3 id="è¿‡ç¨‹ï¼š"><a href="#è¿‡ç¨‹ï¼š" class="headerlink" title="è¿‡ç¨‹ï¼š"></a>è¿‡ç¨‹ï¼š</h3><p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20201130151859.png" width="40%"/ loading="lazy">  <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20201130151328.png" width="50%"/ loading="lazy"></p><p>å¯¹äºè¿™äº›æ•°æ®ï¼Œ æœ‰äº›è¿˜æ˜¯æ¯”è¾ƒæ„å¤–çš„ï¼Œæœ‰çš„æ˜¯åœ¨æƒ…ç†ä¹‹ä¸­ï¼Œä»å›½å†…ç¤¾åŒºå’Œå›½é™…ç¤¾åŒºï¼Œ å¾—åˆ°æ•°æ®çš„ç»¼åˆæ¥çœ‹ï¼Œå…¶ä¸­éœ€æ±‚æœ€å¤§çš„ <code>Topbar</code> å’Œ åŠ¨æ€å£çº¸ ï¼ŒHash å€¼çš„æ ¡éªŒï¼Œæ–‡ä»¶å¯¹æ¯”ï¼Œå‘é€åˆ°â€¦ï¼Œ è€Œå¯¹äºç½‘é€Ÿã€å¤©æ°”ã€CPU æ¸©åº¦ã€å¿«æ·è®¾ç½®</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20201130152757.png" width="100%"/ loading="lazy"><br><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://bbs.deepin.org/post/204108#mod=viewthread&tid=204108&page=1&extra=">ã€DTKä¹‹å¼€å‘æ–‡æ¡£è°ƒç ”ã€‘ç»Ÿè®¡ä½ å¸Œæœ›å®˜æ–¹è¾“å‡ºçš„DTKæ–‡æ¡£</a> </li><li><a href="https://bbs.deepin.org/post/204104#mod=viewthread&tid=204104&page=1&extra=">ã€DTKä¹‹æ¡Œé¢æ’ä»¶è°ƒç ”ã€‘ä½ å¸Œæœ›å®˜æ–¹æ”¯æŒçš„æ¡Œé¢æ’ä»¶</a></li><li><a href="https://bbs.deepin.org/post/204106#mod=viewthread&tid=204106&page=1&extra=">ã€DTKä¹‹æ–‡ç®¡æ’ä»¶è°ƒç ”ã€‘ç»Ÿè®¡å¸Œæœ›æ”¯æŒçš„æ–‡ç®¡æ’ä»¶</a></li><li><a href="https://bbs.deepin.org/post/204107#mod=viewthread&tid=204107&page=1&extra=">ã€DTKä¹‹ä»»åŠ¡æ æ’ä»¶è°ƒç ”ã€‘ç»Ÿè®¡å¸Œæœ›æ”¯æŒçš„ä»»åŠ¡æ æ’ä»¶</a></li><li>ç­‰</li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Deepin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Deepinã€DTK æ–‡æ¡£å‚è€ƒèµ„æ–™é›†åˆ</title>
      <link href="/posts/e7de542e/"/>
      <url>/posts/e7de542e/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€æ•´ç†æ”¶é›† <code>DTK</code> ç›¸å…³èµ„æ–™ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="DTK-æ–‡æ¡£é›†åˆ"><a href="#DTK-æ–‡æ¡£é›†åˆ" class="headerlink" title="DTK æ–‡æ¡£é›†åˆ"></a>DTK æ–‡æ¡£é›†åˆ</h2><h3 id="æ–‡æ¡£"><a href="#æ–‡æ¡£" class="headerlink" title="æ–‡æ¡£"></a>æ–‡æ¡£</h3><ul><li><p><a href="https://www.chinauos.com/developMode/dtk">DTK ä»‹ç»ã€æ¶æ„è®¾è®¡ã€äº†è§£æ›´å¤š</a></p></li><li><p><a href="https://docs.uniontech.com/zh/">DTKå¼€å‘æ–‡æ¡£</a></p><ul><li><a href="https://docs.uniontech.com/zh/content/r_cxG3kBK9iDf9B9THjR">æ¦‚å¿µï¼šç®€ä»‹ï¼Œè®¾è®¡ç†å¿µä»¥åŠå…¥é—¨æŒ‡å¼•ğŸ‰ğŸ‰</a></li><li><a href="https://docs.uniontech.com/zh/content/sfeZRXkBK9iDf9B9MYOu">å¼€å‘ï¼šå„ç±»å¼€å‘æ¨¡å—çš„ API æ–‡æ¡£ğŸ‰ğŸ‰</a></li><li><a href="https://docs.uniontech.com/zh/content/t_dbG3kBK9iDf9B963ok">è®¾è®¡ï¼šç»Ÿä¿¡ UOS è®¾è®¡æ¦‚è¿° ğŸ‰ğŸ‰</a></li><li><a href="https://docs.uniontech.com/zh/content/Q_edSXkBK9iDf9B9AJd3">ä»£ç ç¤ºä¾‹ï¼šç®€å•çš„ç¤ºä¾‹ä»£ç å±•ç¤ºæ¨¡å—ç”¨æ³•</a></li></ul></li><li><p><a href="https://www.zcool.com.cn/work/ZNDgxODMyNjA=.html">ç»Ÿä¿¡UOSå’Œdeepinæ“ä½œç³»ç»Ÿçš„DTKå›¾å½¢æ§ä»¶åº“è®¾è®¡ ğŸ‰ğŸ‰</a></p></li><li><p><a href="https://linuxdeepin.github.io/dtk/">DTK API æ–‡æ¡£</a>ï¼š<code>DTK</code> çš„ <code>API</code> æ¥å£ä¸­æ–‡è¯´æ˜ï¼Œè‡ªåŠ¨åŒæ­¥æ›´æ–°</p></li><li><p><a href="http://linuxdeepin.github.io/docs">Deepin ç¤¾åŒºæ–‡æ¡£</a>ï¼šæ ¸å¿ƒä¸º <code>DTK</code> å›¢é˜Ÿçš„æ–‡æ¡£ç§¯ç´¯ï¼Œç¤¾åŒºçˆ±å¥½è€…çš„ä½œå“å±•ç¤ºã€æŠ€æœ¯äº¤æµ</p></li><li><p><a href="https://github.com/xmuli/QtExamples">QtExamples</a>ï¼šä¸ªäººç§¯ç´¯ï¼Œå‚è€ƒç¬¬äº”ç« èŠ‚ï¼Œä¸º <code>DTK</code> çš„æºç æ¶æ„ä¸€äº›ç†è§£å’Œå®æˆ˜</p></li><li><p><a href="https://github.com/linuxdeepin/developer-center/wiki">Deepin Wiki</a>ï¼š <code>Deepin</code> åœ¨ <code>GitHub</code> ä¸ŠæŸäº›ä»“åº“éƒ½æœ‰å†™ <code>Wiki</code>ã€‚è™½é›¶ç¢ï¼Œä½†æœ‰æƒŠå–œ</p></li><li><p><a href="https://github.com/linuxdeepin/docs/tree/master/Resources/DTK">DTK ç›¸å…³ PPT</a> ï¼šã€ŠDTK æ¡†æ¶åˆ†äº«.pptxã€‹ ã€ŠDTK æ¡†æ¶ä»‹ç»ã€ä¼˜åŠ¿å¯¹æ¯”.pptxã€‹</p></li></ul><br><h3 id="äº¤æµ"><a href="#äº¤æµ" class="headerlink" title="äº¤æµ"></a>äº¤æµ</h3><ul><li><a href="https://www.deepin.org/zh/">Deepin å®˜ç½‘</a>ï¼š<code>Deepin</code> çš„å®˜ç½‘</li><li><a href="https://bbs.deepin.org/">Deepin è®ºå›</a>ï¼š<code>Deepin</code> ä¸­æ–‡ä¸å›½é™…è®ºå›ï¼Œç”¨æˆ·ä½¿ç”¨çš„äº¤æµåœ°</li><li><a href="https://distrowatch.com/table.php?distribution=deepin">Distrowatch</a>ï¼š <code>Deepin</code> åœ¨ <code>Distrowatch</code> ä¸­çš„æ’åå’Œè¯¦ç»†ä»‹ç»ï¼ˆå›½é™…æ’è¡Œï¼‰</li><li><a href="https://t.me/deepin">https://t.me/deepin</a>ï¼šDeepin åœ¨ telegram ä¸Šçš„æœ€å¤§ç¾¤ç»„ï¼ˆè‹±æ–‡ï¼‰</li><li><a href="https://t.me/deepin_cn">https://t.me/deepin_cn</a>ï¼šDeepin åœ¨ telegram ä¸Šçš„ç¾¤ç»„ï¼ˆä¸­æ–‡ï¼‰</li></ul><br><h3 id="æºç "><a href="#æºç " class="headerlink" title="æºç "></a>æºç </h3><ul><li><a href="https://github.com/linuxdeepin">linuxdeepin</a>ï¼š <code>Deepin</code> åœ¨ <code>GitHub</code> ä¸Šå¼€æºä»“åº“ï¼Œä»“åº“å’Œå†…ç½‘å¼€å‘ä»“åº“å®æ—¶åŒæ­¥</li><li><a href="https://github.com/linuxdeepin/package-tag/tree/master/packages-tag-version">package-tag</a>ï¼š <code>Deepin</code> æ¯æ¬¡å‘å¸ƒç‰ˆæœ¬çš„ï¼Œéƒ½ä¼šç»Ÿè®¡åœ¨æ­¤ [å®Œå–„ä¸­]</li><li><a href="https://github.com/linuxdeepin/docs/tree/master/Resources/DTK">DTK Resources</a>ï¼šDTK ç›¸å…³èµ„æ–™ï¼Œä¼šå­˜æ”¾åœ¨æ­¤ï¼Œåç»­ä¼šæ›´æ–°</li></ul><br><h3 id="å†…ç½‘äº¤æµï¼š"><a href="#å†…ç½‘äº¤æµï¼š" class="headerlink" title="å†…ç½‘äº¤æµï¼š"></a>å†…ç½‘äº¤æµï¼š</h3><p>å…·ä½“é“¾æ¥å¯å†…ç½‘è‡ªæŸ¥ã€‚</p><ul><li>å†…éƒ¨åšå®¢ï¼š <code>UOS/Deepin</code> å…¨ä½“çš„æŠ€æœ¯äººå‘˜çš„åšå®¢äº¤æµåœ°ï¼Œå„ç§æŠ€æœ¯å¤§ä½¬åˆ†äº«çŸ¥è¯†</li><li>å†…éƒ¨ WiKiï¼šä¸ä»…æ˜¯çŸ¥è¯†çš„å®è—åº“ï¼Œå¤šæ¥è¿™é‡Œæœæœï¼Œæ€»ä¼šæœ‰æ„æƒ³ä¸åˆ°çš„æƒŠå–œ</li></ul><br>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DTK </tag>
            
            <tag> Deepin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Deepin / UOS ä¸­é…ç½® DTK å¼€å‘ç¯å¢ƒ</title>
      <link href="/posts/d614bfcf/"/>
      <url>/posts/d614bfcf/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€<font color=#D0087E size=4 face="å¹¼åœ†"><strong>ä¸€å¥å‘½ä»¤æ¥é…ç½® DTK å¼€å‘ç¯å¢ƒã€‚</strong></font>  <strong>æ³¨ï¼š</strong>  <code>deepin-sdk</code> å’Œ <code>qtcreator-template-dtk</code> è¿™ä¸¤ä¸ªåŒ…é»˜è®¤æ˜¯åœ¨ç¤¾åŒºç‰ˆæœ¬å¤–ç½‘æºé‡Œé¢æœ‰çš„ï¼Œè‹¥æ²¡æœ‰å¯åŠ æº</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">deb <span class="token punctuation">[</span>by-hash<span class="token operator">=</span>force<span class="token punctuation">]</span> https://community-packages.deepin.com/deepin/ apricot main contrib non-free<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å®˜æ–¹æ¨è</span><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> deepin-sdk qtcreator-template-dtk qtcreator cmake  g++<span class="token comment"># ä¸ªäººä¹ æƒ¯</span><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> qtcreator cmake  g++ <span class="token function">git</span> deepin-sdk qtcreator-template-dtk gammaray flameshot com.notepadqq.notepadqq tree gitg debhelper devscripts dh-make build-essential<span class="token comment"># qt5-default é€‰æ‹©åˆé€‚è·¯å¾„åæ‰§è¡Œï¼›å…¶é»˜è®¤å®‰è£…æœ¬è·¯å¾„ qt æºç </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ç®€ç‰ˆæ•™ç¨‹"><a href="#ç®€ç‰ˆæ•™ç¨‹" class="headerlink" title="ç®€ç‰ˆæ•™ç¨‹"></a>ç®€ç‰ˆæ•™ç¨‹</h2><p>æ›´æ–° 2021-02-22ï¼Œæ–°çš„ Deepin ç³»ç»Ÿï¼Œé…ç½® dtk ç¼–ç¨‹ç›¸å…³ç¯å¢ƒï¼Œä¸€ä¸ªå‘½ä»¤å³å¯ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> deepin-sdk qtcreator-template-dtk qtcreator cmake  g++<span class="token comment"># PSï¼š</span>libdtk<span class="token punctuation">&#123;</span>core,widget,gui<span class="token punctuation">&#125;</span>-dev ç­‰ä»·äº deepin-sdk<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ‹†åˆ†è¯´æ˜ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">DTK å¼€å‘ç¯å¢ƒï¼šqt5-default qtcreator cmake  g++ <span class="token function">git</span> libdtk<span class="token punctuation">&#123;</span>core,widget,gui<span class="token punctuation">&#125;</span>-dev å¸¸ç”¨è½¯ä»¶ï¼šgammaray flameshot com.notepadqq.notepadqq tree gitgè‡ªè¡Œæ‰“åŒ…ï¼šdebhelper devscripts dh-make build-essential<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><br><h2 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h2><p>åœ¨å®˜ç½‘ä¸‹è½½ <code>uniontechos-desktop-20-professional-1030-fix_amd64</code>  é•œåƒï¼ˆæˆ–æ‰¾æµ‹è¯•å°ä»™å¥³ä»¬è¦ä¸€ä¸ªæœ€æ–°çš„ï¼‰ï¼Œå¸¸è§„è£…ç³»ç»Ÿåï¼Œé¡ºåˆ©è¿›å…¥åˆ°æ¡Œé¢ï¼›</p><br><h2 id="å¼€å¯å¼€å‘è€…æ¨¡å¼"><a href="#å¼€å¯å¼€å‘è€…æ¨¡å¼" class="headerlink" title="å¼€å¯å¼€å‘è€…æ¨¡å¼"></a>å¼€å¯å¼€å‘è€…æ¨¡å¼</h2><p>è¿›å…¥ <code>æ§åˆ¶ä¸­å¿ƒ-é€šç”¨-å¼€å‘è€…æ¨¡å¼-è¿›å…¥å¼€å‘è€…æ¨¡å¼</code>ï¼Œæ¿€æ´»å¼€å‘è€…æ¨¡å¼æˆåŠŸåï¼Œé‡å¯ç³»ç»Ÿï¼›</p><img src="https://raw.githubusercontent.com/xmuli/xmuliPic/pic/2020/20201231152215.png" width="60%"/ loading="lazy"><br><h2 id="é…ç½®DTK-å¼€å‘ç¯å¢ƒ"><a href="#é…ç½®DTK-å¼€å‘ç¯å¢ƒ" class="headerlink" title="é…ç½®DTK å¼€å‘ç¯å¢ƒ"></a>é…ç½®DTK å¼€å‘ç¯å¢ƒ</h2><p><font size="4" color="#FF0000"> å°†ç¬¬äºŒè¡Œçš„ <code>deb-src</code> çš„æ³¨é‡Šè§£å¼€ï¼Œæ›´æ–°æºï¼ˆè‹¥ä½¿ç”¨å†…ç½‘æºï¼Œä¸‹è½½æŸäº›è½¯ä»¶å¤±è´¥ï¼Œè®°å¾—æ¢æºï¼‰</font>ï¼Œæœ€åå¤–ç½‘é•œåƒé»˜è®¤è‡ªå¸¦çš„æºå¦‚ä¸‹</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">## Generated by deepin-installer</span>deb <span class="token punctuation">[</span>by-hash<span class="token operator">=</span>force<span class="token punctuation">]</span> https://professional-packages.chinauos.com/desktop-professional eagle main contrib non-freedeb-src <span class="token punctuation">[</span>by-hash<span class="token operator">=</span>force<span class="token punctuation">]</span> https://professional-packages.chinauos.com/desktop-professional eagle main contrib non-free<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><br><p>çœ‹äº†ä¸€ä¸‹ï¼Œé»˜è®¤ <code>gcc</code> &#x3D; 4.8.3ï¼Œæ—  <code>g++</code> ã€æ—  <code>cmake</code>ã€æ—  <code>git</code>ï¼›</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ›´æ–°æº</span><span class="token function">sudo</span> <span class="token function">apt</span> update<span class="token comment"># C++ å¼€å‘ç¯å¢ƒé…ç½®å¥½äº†</span><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> qt5-default qtcreator cmake  g++ <span class="token function">git</span> <span class="token comment"># DTK å¼€å‘ç¯å¢ƒé…ç½®å¥½äº†</span><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> libdtkwidget-dev libdtkgui-dev libdtkcore-dev <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h2><h3 id="éªŒè¯-C-å¼€å‘ç¯å¢ƒ-é…ç½®æ˜¯å¦æˆåŠŸï¼š"><a href="#éªŒè¯-C-å¼€å‘ç¯å¢ƒ-é…ç½®æ˜¯å¦æˆåŠŸï¼š" class="headerlink" title="éªŒè¯ C++ å¼€å‘ç¯å¢ƒ é…ç½®æ˜¯å¦æˆåŠŸï¼š"></a>éªŒè¯ C++ å¼€å‘ç¯å¢ƒ é…ç½®æ˜¯å¦æˆåŠŸï¼š</h3><ul><li><p>å¼€ <code>QtCreator</code> ï¼Œåˆ›å»ºä¸€ä¸ªç©ºçš„ <code>Qt</code> ç©ºé¡¹ç›®ï¼Œæ‰§è¡Œè¿è¡Œï¼Œå‘ç° <strong>C++ å¼€å‘ç¯å¢ƒ</strong>  é…ç½®æˆåŠŸã€‚</p> <img src="https://raw.githubusercontent.com/xmuli/xmuliPic/pic/2020/20201231172208.png" width="80%"/ loading="lazy"></li></ul><br><h3 id="éªŒè¯-DTK-å¼€å‘ç¯å¢ƒ-é…ç½®æ˜¯å¦æˆåŠŸï¼š"><a href="#éªŒè¯-DTK-å¼€å‘ç¯å¢ƒ-é…ç½®æ˜¯å¦æˆåŠŸï¼š" class="headerlink" title="éªŒè¯ DTK å¼€å‘ç¯å¢ƒ é…ç½®æ˜¯å¦æˆåŠŸï¼š"></a>éªŒè¯ DTK å¼€å‘ç¯å¢ƒ é…ç½®æ˜¯å¦æˆåŠŸï¼š</h3><ul><li><p>æ‰§è¡Œ <code>git clone https://github.com/linuxdeepin/dtkcore.git</code>ï¼Œ ä¸‹è½½æºç </p></li><li><p>è¿›å…¥æ–‡ä»¶å¤¹ <code>dtkcore</code>ï¼Œ æ‰§è¡Œ <code>sudo apt build-dep dtkcore</code> ç”Ÿæˆä¾èµ–</p></li><li><p>æ‰§è¡Œ <code>sudo apt policy libdtkcore5</code>ï¼Œçœ‹åˆ°<strong>æœ¬æœºæ˜¾ç¤º</strong>  <code>libdtkcore5 ä¸º 5.4.0</code></p></li><li><p>æ‰§è¡Œ <code>git  checkout 5.4.0</code> åˆ‡æ¢åˆ†æ”¯</p></li><li><p>ç”¨ <code>QtCreator</code> æ‰“å¼€ <code>dtkwidget.pro</code>ï¼Œ ç‚¹å‡»ç¼–è¯‘è¿è¡Œï¼Œä¸º <strong>DTK å¼€å‘ç¯å¢ƒ</strong>  é…ç½®æˆåŠŸã€‚</p> <img src="https://raw.githubusercontent.com/xmuli/xmuliPic/pic/2020/20201231172007.png" width="80%"/ loading="lazy"></li></ul><br><h3 id="éªŒè¯å…¶å®ƒé¡¹ç›®"><a href="#éªŒè¯å…¶å®ƒé¡¹ç›®" class="headerlink" title="éªŒè¯å…¶å®ƒé¡¹ç›®"></a>éªŒè¯å…¶å®ƒé¡¹ç›®</h3><p>å¦‚éªŒè¯ <code>dtkwidget</code> å¼€å‘é¡¹ç›®ï¼Œå› ä¸ºå…¶ä¾èµ–äº <code>dtkcore</code> å’Œ <code>dtkgui</code>ï¼Œæ‰€ä»¥æ¨èé…ç½®å…¶å¯¹åº”çš„ <code>tag</code> è¿™ä¸‰è€…æ˜¯ä¸€è‡´çš„ï¼ˆä¸€èˆ¬æ¥è¯´ï¼Œéƒ½æ˜¯å„è‡ªæœ€æ–°ä¹Ÿä¸ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå‘ä¸‹å…¼å®¹å¾ˆç¨³å®šäº†ï¼‰ã€‚</p><p>ä¸”<code>dtkwidget</code> è‹¥æ˜¯è¿è¡Œåœ¨è™šæ‹Ÿæœºï¼Œè‹¥æ˜¯å†…å­˜ä»… 2Gï¼Œä¼šç¼–è¯‘å¤±è´¥ï¼›è°ƒæ•´ä¸º &gt;&#x3D; 4G å³å¯ï¼›<font size="4" color="#FF0000"><strong>è‹¥æ˜¯å…¶å®ƒé¡¹ç›®ç”Ÿæˆé¡¹ç›®ä¾èµ–ï¼Œä¹Ÿéƒ½æ˜¯å¦‚æ­¤ã€‚</strong> </font></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> build-dep é¡¹ç›®å  <span class="token comment"># ç”Ÿæˆé¡¹ç›®ä¾èµ–</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¯”å¦‚ <code>dtkwidget</code> è¿è¡Œåï¼š</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20210105155933.png" width="70%"/ loading="lazy"><br><h2 id="å‘½ä»¤é…ç½®æ›´æ–°"><a href="#å‘½ä»¤é…ç½®æ›´æ–°" class="headerlink" title="å‘½ä»¤é…ç½®æ›´æ–°"></a>å‘½ä»¤é…ç½®æ›´æ–°</h2><p><code>deepin-sdk</code>ï¼š è™šåŒ…ï¼Œç›¸å½“äºå®‰è£… libdtkwidget-dev libdtkgui-dev libdtkcore-dev </p><p><code>qtcreator-template-dtk</code>ï¼š æ˜¯ä¸€ä¸ª QtCreator çš„æ’ä»¶ï¼›å¯ä»¥ç›´æ¥åœ¨ IDE ä¸­åˆ›å»º DTK çš„ åº”ç”¨ç¨‹åºé¡¹ç›®ï¼ˆç®€ä¾¿å’Œæ£€æµ‹ dtk çš„å¼€å‘ç¯å¢ƒæ˜¯å¦å®‰è£…æˆåŠŸï¼‰ï¼Œæ•ˆæœå¦‚ä¸‹</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/ä¼ä¸šå¾®ä¿¡æˆªå›¾_16137284925039.png" width="70%"/ loading="lazy"><br><h2 id="ä¸ªäººä¹ æƒ¯"><a href="#ä¸ªäººä¹ æƒ¯" class="headerlink" title="ä¸ªäººä¹ æƒ¯"></a>ä¸ªäººä¹ æƒ¯</h2><p>é™„ä¸Šä¸ªäººä¹ æƒ¯çš„å¼€å‘ç¯å¢ƒï¼Œå¯è‡ªè¡Œå†³å®šï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å•†åº—é‡Œé¢å®‰è£…è®¯é£è¾“å…¥æ³•ã€typoraã€wpsï¼ˆæˆ–å®˜ç½‘é‡Œé¢çš„ï¼‰</span><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> gammaray flameshot com.notepadqq.notepadqq tree gitg<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token builtin class-name">source</span> qt5-default    // qtæºç åŒ…ï¼Œæ­¤ä¼šå®‰è£…åœ¨å½“å‰æ‰€å¤„ç›®å½•ä¸‹ï¼Œå»ºè®®æ›´æ¢ç›®å½•å†æ‰§è¡Œ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>åŒæ—¶å®‰è£… <code>dde-dock</code> ç½‘é€Ÿæ’ä»¶:   <a href="https://github.com/xmuli/lfxNet">lfxNet</a> æˆ–  <a href="https://github.com/xmuli/lfxspeed">lfxspeed</a> ã€‚</p><br><p><strong>é™„ï¼š</strong></p><ul><li><a href="https://blog.csdn.net/qq_33154343/article/details/106510975">é‡è£…uos&#x2F;deepin v20åå¿…å®‰è£…è½¯ä»¶(ä¸ªäººä¹ æƒ¯)</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/103733327">å®‰è£…UOS20ï¼Œåœ¨uos20é‡Œé¢å®‰è£…QtCreatorï¼Œé…ç½®dtkå¼€å‘ç¯å¢ƒ</a></li></ul><br><h3 id="ç³»åˆ—åœ°å€ï¼š"><a href="#ç³»åˆ—åœ°å€ï¼š" class="headerlink" title="ç³»åˆ—åœ°å€ï¼š"></a>ç³»åˆ—åœ°å€ï¼š</h3><p><a href="https://github.com/xmuli/QtExamples">QtExamples</a></p><p>æ¬¢è¿ <code>star</code> å’Œ <code>fork</code> è¿™ä¸ªç³»åˆ—çš„ <code>QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DTK </tag>
            
            <tag> Deepin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qv2ray æ£€æµ‹åˆ° DDE ç¯å¢ƒï¼Œæç¤ºå¼¹çª—ï¼šDeepin è®¾ç½®ä»£ç†é”™è¯¯</title>
      <link href="/posts/60b2fbd8/"/>
      <url>/posts/60b2fbd8/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€ä½¿ç”¨ <code>Deepin</code> + <code>QV2ray</code> çš„ç”¨æˆ·ï¼Œæœ‰é‡åˆ°å¦‚ä¸‹æç¤ºå¼¹çª—ï¼›è¿™é‡Œè¯´ä¸€ä¸‹äº‹æƒ…çš„å§‹æœ«å‘å±•ã€‚</p><img src="https://raw.githubusercontent.com/xmuli/xmuliPic/pic/2020/20201231102321.png" width="60%"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¢ç¢å¿µ"><a href="#ç¢ç¢å¿µ" class="headerlink" title="ç¢ç¢å¿µ"></a>ç¢ç¢å¿µ</h3><p>å°è±¡ä¸­è®©äººæ·±åˆ»çš„ä¸€å¥è¯ï½</p> <img src="https://raw.githubusercontent.com/xmuli/xmuliPic/pic/2020/20201201095203.png" width="80%"/ loading="lazy"><p>æœ¬ç¯‡æ˜¯æ¥å…‘ç°ä¹‹å‰çš„æ‰¿è¯ºï¼Œè™½ç„¶ <strong>å’•ï½å’•ï½å’•ï½</strong> äº†å¾ˆä¹…ï¼Œ ä½†æ˜¯ä¸€å¤©æ²¡å›å¤ï¼Œç¡è§‰å§‹ç»ˆå¿ƒæœ‰ä¸å®‰ã€‚æ„Ÿè§‰å¿ƒé‡Œæœ‰ä»€ä¹ˆåœ¨ç‰µæŒ‚è¿™ä¸€æ ·ï¼Œï¼Œï¼Œ</p> <img src="https://raw.githubusercontent.com/xmuli/xmuliPic/pic/2020/20201130155610.png" width="80%"/ loading="lazy"><p><strong>æœ¬ç¯‡ä»…æ˜¯ä¸ªäººè§‚ç‚¹ï¼Œè¯´æ˜æ­¤ç¼ºé™·ä¸ºä½•ä¸€ç›´å»¶æœŸå¾ˆä¹…æ‰è§£å†³ã€‚æ— æ„ä»£è¡¨ <code>Deepin</code> å®˜æ–¹ï¼›</strong></p><br><p>ä¹Ÿæœ‰è€ƒè™‘è¿‡æ˜¯å¦å°†æœ¬ç¯‡å…¶å‘å¸ƒå‡ºæ¥ï¼ŒçŠ¹è±«ç”šä¹…ï¼›è‹¥æ˜¯åŒäº‹æˆ–è€…é¢†å¯¼çœ‹åˆ°äº†ï¼Œè‹¥æ˜¯ä¸é«˜å…´äº†ï¼Œ ä¸‡ä¸€è¢«å’”åš“ï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œ</p><p>è‹¥æœ‰ï¼Œä¼šç•¥æœ‰å¤±æœ›ï¼›ä¸€ä»½å·¥ä½œï¼Œä¹Ÿä»…æ˜¯ç”Ÿæ´»çš„ä¸€æŠ¹é‡ç¬”ï¼›</p><p>è‹¥æ— ï¼Œè¯´æ˜æˆ‘æ²¡çœ‹é”™ï¼Œï¼ˆè‡³å°‘æˆ‘çš„ç›´å±é¢†å¯¼å’Œæˆ‘è®¤è¯†å¤§é¢†å¯¼ï¼Œå’Œå‘¨å›´æ¯”è¾ƒäº²è¿‘çš„äººï¼Œä»–ä»¬æ˜¯å¾ˆå‹å¥½ä¸”å¿ƒå–„çš„ã€éæ±‚ç”Ÿæ¬²ï¼Œå®è¯å®è¯´ï¼‰ï¼‰ï¼ˆä¹Ÿæ˜¯æˆ‘ç•™ä¸‹æ¥ åœ¨ <code>Deepin</code> çš„ä¸€ä¸ªé‡è¦åŸå› ï¼‰ã€‚</p><p>æ­¤æ–‡è½ç¬”æ—¶ï¼Œæ²¡æƒ³é‚£ä¹ˆå¤šï¼Œä¹Ÿæ²¡è€ƒè™‘é‚£ä¹ˆå¤šï¼›ä¹Ÿä¸å‡†å¤‡æƒ³é‚£ä¹ˆå¤šï¼Œä¹Ÿä¸æƒ³è€ƒè™‘å¤ªå¤šï½ï½</p><p><strong>åŒæ ·ï¼Œæœ¬ç¯‡æ—¢ä¸æ˜¯æ´—ç™½ã€æˆ–è€…é»‘æŸä¸ªäº‹ç‰©æˆ–è€…ä¸ªäººï¼Œå•å•ç§°è¿°ä¸€ä»¶äº‹æƒ…çš„å‘å±•è¿‡ç¨‹ç½¢äº†ã€‚å¸®åŠ©å„çŸ¥æ™“ã€‚</strong>  </p><p><font size="4" color="#FF6EC7">Â <strong>æ–‡ä¸­çš„è¯­æ°”ï¼Œä»…æ ‡è¡¨æ˜è¯´å½“æ—¶é‚£ä¸€åˆ»ç¬é—´æ„Ÿè§‰ï¼Œè¿‡åå°±å¿˜äº†ï¼Œæ²¡æœ‰å¿§æ„çš„æˆ‘ï¼Œï¼Œï¼Œå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆï¼Œï¼Œï¼Œï¼Œ</strong> </font> ï¼ˆç½‘ç»œæ˜¯æœ‰è®°å¿†çš„ï¼Œå‘è¡¨å®¹æ˜“æ—¥ååŸ‹é›·ã€‚å·²è®°ä¸æ¸…æœ‰å¤šä¹…æ²¡åœ¨å…¬ä¼—ç½‘ç»œä¸Šï¼Œå‘è¡¨ä¸ªäººè§‚ç‚¹äº†ã€‚ä½†ä»Šå¤©æƒ³äº†ä¸€ä¸‹ï¼Œå°†ä¿å­˜å¥½çš„è‰ç¨¿ç•¥åŠ ä¿®æ”¹ï¼Œå°†å…¶å‘å¸ƒäº <code>2020</code> å¹´çš„å¹´æœ«ä¸€å¤©ã€‚ï¼‰</p><br><h3 id="èµ·å› "><a href="#èµ·å› " class="headerlink" title="èµ·å› "></a>èµ·å› </h3><blockquote><p>Deepinå¯èƒ½è‡ªä½œèªæ˜ï¼Œä¸ºä½ è®¾ç½®äº†é”™è¯¯çš„ HTTPS_PROXY å’Œ FTP_PROXY ç¯å¢ƒå˜é‡ã€‚</p><p>åŸæ¥æ­£ç¡®çš„ http:&#x2F;&#x2F; å¯èƒ½è¢«é”™è¯¯åœ°æ›¿æ¢ä¸º https:&#x2F;&#x2F; å’Œ ftp:&#x2F;&#x2F;ï¼Œå¯¼è‡´è¿™ä¸ªé—®é¢˜ã€‚</p><p>Qv2ray å¾ˆé—æ†¾æ— æ³•å¸®ä½ æ”¹å›æ¥ã€‚è‹¥å› æ­¤é‡åˆ°é—®é¢˜ï¼Œè¯·å‹¿æŒ‡è´£å¾ç­‰ã€‚  </p></blockquote><p>å¯¹äº <code>Deepin / UOS</code> ã€<code>Arch + DDE</code> ã€ <code>manjaro + DDE</code> ç­‰çš„ç”¨æˆ·ï¼Œä¸”åŒæ—¶æ˜¯ <code>Qvray</code> çš„ç”¨æˆ·ï¼Œéƒ½æœ‰é‡åˆ°è¿‡æ­¤å¦‚ä¸‹æ­¤ â€œæç¤ºâ€ å¼¹çª—ã€‚æœ‰è®©å¾ˆå¤šä½¿ç”¨è€…å’Œå¼€å‘è€…æ¯”è¾ƒå›°æƒ‘ï¼Œè¿™é‡Œå›å¤ä¸€ä¸‹ä¸ºå•¥å¾ˆä¹…ï¼Œæ­¤ <code>Bug</code> æ‰è¢«ä¿®å¤ï¼Œé¡ºå¸¦å‘ä¸Šå»¶ä¼¸ä¸€ä¸‹ã€‚</p><img src="https://raw.githubusercontent.com/xmuli/xmuliPic/pic/2020/dog.gif" width="15%"/ loading="lazy"><br><h3 id="æ—¶é—´çº¿"><a href="#æ—¶é—´çº¿" class="headerlink" title="æ—¶é—´çº¿"></a>æ—¶é—´çº¿</h3><p>ä¸ºäº†æ–¹ä¾¿æè¿°ï¼Œè¿™é‡ŒæŒ‰ç…§è®°å¿†ä¸­çš„æ—¶é—´çº¿æè¿°ä¸‹ï¼Œæ—¶é—´å¤§è‡´å·®ä¸å¤šï½ï¼›</p><p>æ­¤å‰æ˜¯ <strong>Deepin v15</strong>  ç‰ˆæœ¬ï¼Œæš‚ç•¥</p><br><p>èµ„æœ¬ä¸‹åœº <code>2019-07</code> å·¦å³ï¼Œç€æ‰‹å¼€å‘ V20 ç‰ˆæœ¬ï¼Œå¤§æ‹›äººï¼Œå…¨é€Ÿå¼€å‘è¿­ä»£æ–°åŠŸèƒ½ã€æ–°ç‰¹æ€§</p><br><p>åˆ°çº¦ <code>2020-01</code> V20 ç‰ˆæœ¬åŸºæœ¬å®šå‹ï¼Œå¼€å§‹é‡ç‚¹æå‡è´¨é‡ï¼Œæ‰“ç£¨ç»†èŠ‚ï¼Œä¿®æ”¹ BUG</p><br><p><code>2020-02 ä¸‹æ—¬</code> ç–«æƒ…å°åŸå’Œè¿‡å¹´åŒä¸´ï¼Œå¼€å§‹è¿œç¨‹åŠå…¬ï¼Œç ”å‘è¿›åº¦ç•¥ç¼“</p><br><p><code>2020-03 ä¸‹æ—¬</code> ï¼Œé€šçŸ¥å†æ¬¡ç»„ç»‡å¼€æºä»“åº“ï¼Œå› ä¸ºä¸­é—´ 9 ä¸ªæœˆæ²¡æœ‰æ€ä¹ˆæ›´æ–°ä»£ç ï¼Œå¯èƒ½éƒ½å¿™æ™•ï¼ˆæˆ‘ä¹Ÿæ˜¯åæ¥æ‰çŸ¥é“ï¼ŒåŸæ¥ <code>Deepin</code> ç‰ˆæœ¬å±…ç„¶æ˜¯å®æ—¶å¼€æºçš„ï¼Œé¡¿æ—¶éœ‡æƒŠå’Œç‹‚å–œï¼‰ï¼›è‡ªèå’Œ <a href="https://www.blumia.net/">blumia</a> å¤§ä½¬ä¸€èµ·è´Ÿè´£å¯¹å¤–å¼€æºäº‹å®œã€‚æ‰‹å·¥æ ¸å¯¹å¼€æºä»“åº“çš„åˆå§‹è¡¨ï¼Œç„¶åè®©è€å¤§å’Œè€å¤§çš„è€å¤§åŒç¡®è®¤ä¸‹ã€‚å†æ‰‹å·¥æ¯ä¸ªä»“åº“è®¾ç½®åŒæ­¥ï¼Œäºæ˜¯å°±è¿™æ · <code>Deepin</code> çš„ä»“åº“ï¼Œå†æ¬¡å›å¤å¤§æ›´æ–°ï¼Œåé¢å°±ä¸€ç›´æ˜¯ä¿æŒäº†å®æ—¶æ›´æ–°çš„ã€‚</p><br><p><code>2020-04-15</code> åœ¨ <a href="https://bbs.deepin.org/user/48640">jingle</a> å‚¬æ›´æ–°ä¸‹ï¼Œå‡ºäº† <code>deepin v20 Beta</code> ç‰ˆæœ¬ï¼Œè‹¥å†è·³ç¥¨ä¸€ç›´ä¸å‡ºï¼Œç¤¾åŒºä¼°è®¡ä¼šè¢«å£æ°´æ·¹æ²¡ã€‚</p><br><p><code>2020-05-10</code>ï¼Œæäº†æ­¤ issuesï¼š <a href="https://github.com/linuxdeepin/go-lib/issues/15">#15</a>ï¼Œä½†ç¤¾åŒºä¹‹å‰ä¸€ç›´éƒ½æ˜¯å¤§ä½¬ä»¬å…¼èŒè´Ÿè´£ï¼Œæ²¡äººä¸“é—¨è´Ÿè´£ï¼Œç©ºäº†ä¸€æ®µæ—¶é—´ï¼›å½“æˆ‘ç¬¬ä¸€æ¬¡é‡åˆ°æ­¤å¼¹çª—çš„æ—¶å€™ï¼ˆenï¼Œæˆ‘ä¹Ÿæ˜¯è¿™ä¸¤è€…çš„ç”¨æˆ·ï¼‰ï¼Œæ²¡åœ¨æ„ï¼Œé¡ºæ‰‹å…³é—­æç¤ºï¼Œä»¥ä¸ºåªæ˜¯ä¸€ä¸ªå°çš„ bugï¼Œ ä»¥ä¸ºæŒ‰ç…§ç°æœ‰æµç¨‹ï¼Œè¿‡å‡ å¤©å°±ä¼šè¢«ä¿®å¤ï¼Œä¸”æ²¡æœ‰æ„Ÿè§‰æœ‰å½±å“åˆ°æˆ‘ä½¿ç”¨ï¼ˆå¼€å¯&#x2F;å…³é—­å…¨å±€ä»£ç†è§£å†³çš„ï¼Œ è™½ç„¶ç¼ºå¤±ä¼˜é›…ï¼‰ã€‚</p><p><br> <code>2020-06-30</code> å¿«ä¸€ä¸ªæœˆå¿«è¿‡å»ï¼Œæ­¤è¿˜æœªè¢«ä¿®å¤ï¼Œä¹Ÿä»æœªè¢«åç«¯æ‰€é‡è§†ï¼Œç„¶å <a href="https://github.com/DuckSoft">DuckSoft</a>  åšäº†ä¸€ä¸ªæäº¤ <a href="https://github.com/linuxdeepin/go-lib/commit/cbd8ac9a8afccbbc6d4c0cc5bae50f4621434de9">cbd8ac9a8a</a>  ï¼ŒåŠ©å…¶åˆå¹¶ï¼Œæˆ‘å’Œä»–éƒ½ä»¥ä¸ºå°± <code>ok</code> äº†ã€‚ä½†æ˜¯ï¼Œï¼Œå°±æœ‰äº†æ–‡ç« ååŠéƒ¨åˆ†</p><br><p><code>2020-08-27</code> ï¼Œåˆè¿‡å¾ˆä¹…ï¼Œè¿˜æœ‰äººåé¦ˆé—®é¢˜ï¼Œä¸”æ¯æ¬¡æ‰“å¼€åæ¥åå¤æç¤ºï¼Œemmmmã€‚è¿™éƒ½æ˜¯èµ¤æ¡æ¡çš„æ˜ç¤ºäº†ï¼ï¼ï¼åœ¨é»‘ <code>Deepin</code> å˜›ï¼ï¼ï¼ä¸è¿‡ä¹Ÿç¡®å®ï¼Œæˆ‘éƒ½æ„Ÿè§‰ä¸å¥½æ„æ€äº†ï¼Œ å±…ç„¶èƒ½å¤Ÿè¢«æ‹–è¿‘ 4 ä¸ªæœˆä¹‹ä¹…ã€‚ã€‚ã€‚é†‰äº†é†‰äº†é†‰äº†</p><p>æŠ½ç©ºå»çœ‹çœ‹è¿™æ˜¯å•¥åŸå› ï¼Ÿè·‘å»ç¿»äº†ä¸‹å½“æ—¶çš„è®°å½•ï¼Œå‘ç°æ­¤è´¡çŒ® æäº¤åˆ°äº† <code>develop</code> åˆ†æ”¯ï¼ˆå½“æ—¶éƒ½æ²¡æ³¨æ„ï¼‰ï¼Œè€Œç”±äºç­–ç•¥ï¼Œè¿™æ˜¯æ˜¯æç½®æ— ç”¨çš„åˆ†æ”¯ï¼Œåªæœ‰æäº¤åˆ° é»˜è®¤åˆ†æ”¯  <code>uos / maste</code>r åˆ†æ”¯æ‰ä¼šæœ‰æ•ˆã€‚æ°ªï¼ï¼ï¼</p><p>çŸ¥é“é—®é¢˜åï¼Œ å†éº»çƒ¦äººå®¶é‡æ–°æäº¤ã€ å²‚ä¸æ˜¯å°´å°¬ï¼Œï¼Œï¼Œï¼Œï¼Œ ä¸å¥½æ„æ€äº†ï¼Œè€è„¸ä¸€çº¢ã€‚æ¬²è‡ªå·±ä¿®å¤ï¼Œåšå¥½äº‹ä¸ç•™åï¼Œå¯åç«¯ä¸æ‡‚ï¼Œæ‰¾åˆ°åç«¯å¤§ä½¬ï¼Œè®©ç ”å‘å¤§ä½¬ååŠ©ä¸€ä¸‹ï¼Œç ”å‘åšäº†æäº¤åˆ° <code>master</code> åˆ†æ”¯ <a href="https://github.com/linuxdeepin/go-lib/commit/f3021d13975a4ad8e8e3c857f2631580d395c874">f3021d13</a> ï¼Œ <code>tag</code> ä¸º <code>5.5.0.1</code> è§‰ç€è¿™ä¸‹åº”è¯¥ç¨³å¦¥äº†ã€‚åé¢æ…¢æ…¢è·Ÿæ–°ä¸€ç•ªå³å¯ï¼Œç»ˆäºå¯ä»¥å®‰é€¸ä¸€ä¼šäº†ï¼Œåé¢åº”è¯¥ä¸ä¼šå†é»‘ Deepin äº†å§ï¼ˆå•æŒ‡å»æ‰æ”¹æç¤ºæ¡†ï¼Œä¸è¿‡Deepin è¿™ä»¶äº‹ç¡®å®åšçš„ä¸å¤Ÿå¥½ï¼Œè¢«äººå®¶ç–¯ç‹‚æš—ç¤ºï¼Œä¹Ÿæ˜¯æ— å¯åšéï½ï¼Œ ä¼¼ä¹æ²¡æœ‰ä»€ä¹ˆä¸å¦¥ï¼‰ã€‚</p><p>ç„¶åé‡åˆ°å‡†å¤‡ä¸€å‘¨å <code>09-11</code>å‘ç¤¾åŒºç‰ˆæœ¬çš„æ›´æ–°ï¼Œä½†æ˜¯å½“æ—¶çš„å¾ˆå¤šåŒ…çš„<code>tag</code> å·éƒ½å®šäº†ï¼Œä½†æ˜¯ <code>go-lib</code> é¡¹ç›®  <code>tag</code> åä½ï¼ŒæŒ‰ç…§å½“å‰çš„è·Ÿæ–°é€Ÿåº¦ï¼Œç”¨æˆ·æƒ³å¾—åˆ°è¿™ä¸ªä¿®å¤ï¼Œä¼°è®¡å¾— 2021 å¹´åˆå»äº†ã€‚ã€‚ã€‚ã€‚ï¼ˆå¾ˆæ˜¯æƒ¶æï¼Œå®³æ€•ï¼Œè¿™ TMD åé¢å¿…é¡»è·³è·ƒç‰ˆæœ¬è§£å†³ï¼Œæˆ–è€…æ”¹å˜ç°æœ‰ç­–ç•¥ï¼‰</p><p>ç„¶åæƒ³äº†ä¸‹ï¼Œèƒ½ä¸èƒ½ç›´æ¥å°†  <code>go-lib</code> é¡¹ç›®è‰²å‡çº§åˆ°æœ€æ–°çš„ <code>tag</code>ï¼Œé‚£æ ·ç”¨æˆ·å°±å¯ä»¥æ—©ç‚¹ç”¨ä¸Šäº†ï¼›å•†è®¨çš„ç»“æœï¼Œå°±æ˜¯ä¸èƒ½å‡çº§ã€‚</p><p><strong>åŸå› å¦‚ä¸‹ï¼š</strong></p><p><strong>â‘  <code>go-lib</code> é¡¹ç›®æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„åŸºæœ¬åŒ…ï¼Œç„¶åè¿‡å¤šé‡è¦çš„æ ¸å¿ƒåŒ…ä¹Ÿéƒ½ä¾èµ–å®ƒï¼›</strong></p><p><strong>â‘¡æ­¤é¡¹ç›®çš„ç‹¬ç‰¹æ®Šå’Œæœºåˆ¶ï¼Œä¸èƒ½åƒæ™®é€šè½¯ä»¶ä¸€æ ·ï¼Œåªæ˜¯æ›´æ–°ä¸€ä¸‹åŠ¨æ€åº“å‡çº§å¾—åˆ°æ­¤ä¿®å¤ã€‚</strong></p><p>â‘¢<strong>å‘å¸ƒæ—¶é—´å·²ç»é¢„å®šäº†ï¼Œæ¥ä¸åŠæ›´æ”¹äº†ï¼›ä¸”å³ä½¿å‡çº§ï¼Œä¹Ÿéœ€è¦å¯¹åº”çš„è½¯ä»¶åŒ…å…¨éƒ¨å‡çº§æ‰è¡Œï¼Œæµ‹è¯•å°å§å§å‰é¢çš„æµ‹è¯•ä¹Ÿéƒ½ç™½è´¹äº†ï¼Œä¸”éœ€è¦é‡æ–°æµ‹è¯•ä¸€è½®ï¼Œå¯èƒ½å½“åœºå°±ç‹—å¤´ä¸ä¿ã€‚æ–‡æ¡ˆå†…å®¹ä¹Ÿéƒ½è¦å…¨éƒ¨é‡æ–°å†™ï¼Œè¿è¥åœ¨è®ºå›å®£ä¼ ä¹Ÿéƒ½è·³ç¥¨äº†ã€‚</strong> æƒ³ä¸€ä¸‹ï¼Œéƒ½è§‰å¾—å¯’æ¯›çˆ†ç‚¸ã€‚è¢«ç£¨åˆ€éœéœï½ï½</p><p>è¿™æ˜¯ç¬¬ä¸€æ¬¡æ„Ÿè§‰åˆ°å¿ƒç´¯çš„æ„Ÿè§‰ã€ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡æ„Ÿè§‰åˆ°ç‰µä¸€å‘è€ŒåŠ¨å…¨èº«ã€‚ä»€ä¹ˆå«åšè¢«è¿«ï¼Œåªå¥½è®©ç¤¾åŒºç”¨æˆ·å†æ¬¡ç­‰å¾…ï¼Œï¼Œ å—·ï½ å—·ï½ å—·ï½ ï¼Œè™½ç„¶ç†è§£ï¼Œä½†æˆ‘è¿˜æ˜¯æœ‰å¼ å›¾è¦è¯´</p><img src="https://raw.githubusercontent.com/xmuli/xmuliPic/pic/2020/20201204212011.png" width="30%"/ loading="lazy"><br><p><code>2020-09-17</code> æ—¶å€™ï¼Œ å†³å®šæ›´æ¢ç­–ç•¥ï¼Œç¤¾åŒºç‰ˆæœ¬ä¸åº”è¯¥è·‘åœ¨ä¸“ä¸šç‰ˆåé¢å¤ªå¤šï¼›ä¹Ÿå®Œå…¨å¯ä»¥è·‘åˆ°æœ€å‰é¢ï¼Œè®©ç¤¾åŒºç”¨æˆ·ä½“éªŒæ–°ç‰¹æ€§æ–°åŠŸèƒ½ï¼Œå’Œåé¦ˆæ–°çš„ç¼ºé™·ã€‚ç„¶åç›´æ¥æŒ‰ç…§å½“æ—¶æœ€æ–°çš„ä¸“ä¸šç‰ˆæ‰€æœ‰ tagï¼Œå…¨éƒ¨ç…§ç€æ¥ä¸€éï¼Œæ­¤æ—¶å¿ƒé‡Œç¾æ»‹æ»‹çš„ï¼Œç¬¬ä¸€ååº”å°±æ˜¯å°† <code>go-lib</code> é¡¹ç›®æ‰“ tag  åˆ° <code>5.6.0.2</code>ï¼Œ çœŸçš„æ˜¯å¯å¼€å¿ƒäº†ã€‚æƒ³ç€ä»–ä»¬ç»ˆäºå¯ä»¥ç”¨ä¸Šæ­¤ä¿®å¤äº†äº†ã€‚ä¸”è¿™æ­¤æ‰“åŒ…æˆ‘ä¸»è¦è´Ÿè´£ï¼Œå¯ä»¥ä¸€ä¸‹å°†å¾ˆå¤šåŒ…ç›´æ¥æ¨é€åˆ°åˆ°æœ€å¥½çš„å…¼å®¹ç‰ˆæœ¬ã€‚</p><p>é¢„æ–™ä¹‹ä¸­åœ¨ <code>2020-10-23</code>ï¼Œ åœ¨å†…æµ‹çš„ <code>1030</code> ç‰ˆæœ¬ä¸­ï¼Œå·²ç»éªŒè¯äº†æ­¤ bug è¢«è§£å†³ï¼Œä¸”è¯¥å¼¹çª—æç¤ºä¹Ÿåœ¨ æ–°çš„ <code>Qv2ray</code> é‡Œé¢è¢«ç§»é™¤äº† <a href="https://github.com/Qv2ray/Qv2ray/pull/1050">#1050</a> ï¼Œäº’ç›¸éƒ½å¾ˆå¼€å¿ƒã€‚åé¢æ”¶ç”µæŠ¥ç­‰å…¬å‘Š thanksäº†ï¼Œç”šæ˜¯å¼€å¿ƒã€‚</p> <img src="https://raw.githubusercontent.com/xmuli/xmuliPic/pic/2020/20201201094848.png" width="80%"/ loading="lazy"><br><p><font size="4" color="#FF0000"><strong>ç„¶æ„æ–™ä¹‹å¤–å‘ç”Ÿäº†</strong></font>ï¼Œåœ¨ <code>2020-11-13</code>  å‘¨äº”æ—¶å€™ï¼Œå› ä¸º <strong>â€œåº”ç”¨ä»£ç†å¼€å¯å æ— æ³•æ‰“å¼€åº”ç”¨å•†åº—â€ ** ï¼ˆBUG å·ï¼š53612ï¼‰ ï¼Œç„¶åç ”å‘å°ç»„é•¿ã€ç ”å‘ã€æµ‹è¯•ã€äº§å“ç»ç†ã€é¡¹ç›®ç»ç†å»ºç¾¤è®¨è®ºï¼Œä¸”æ€¥äºä¸‹ç­ä¹‹å‰é›†æˆç‰ˆæœ¬ï¼Œ</strong>ä¼˜å…ˆçº§ä¹Ÿæ¯”è¾ƒé«˜ï¼Œ** æ—¶é—´ä¹Ÿæ¯”è¾ƒçŸ­ï¼Œç»™å‡ºçš„ <strong>ä¸´æ—¶è§£å†³æ–¹æ¡ˆæ˜¯ï¼šç”±äºè®¾è®¡ç¼ºé™·ï¼Œåªèƒ½å…ˆä¿®æ”¹å›å»ï¼Œåé¢ä»£ç†è¿™ä¸€å—åœ¨ä¸‹ä¸€é˜¶æ®µéœ€è¦é‡æ–°è®¾è®¡</strong>ã€‚ æ”¹å›å»çš„æäº¤ <a href="https://github.com/linuxdeepin/go-lib/commit/a1b16c48f33f500ad8c36d4218f24380e9a04102">a1b16c48</a> å‘œå‘¼è½½ï½ï¼Œ<font size="3" color="#FF0000"><strong>å‰é¢çš„ä¿®æ”¹éƒ½æ˜¯ç™½è´¹äº†ï¼Œå¿ƒç–¼åˆå¿ƒç—›ï¼ï¼ï¼</strong></font>  <font size="3" color="#00A0FF"><strong><del>éƒ½æ˜¯æƒ³è¦åšäº‹ï¼Œéƒ½æƒ³å°†å…¶åšå¥½ï¼Œè‹¥æ˜¯æ·±ç©¶çš„è¯ï¼Œæ„Ÿè§‰æ²¡æœ‰ä»»ä½•ä¸€ä¸ªäººæœ‰åšé”™ä»€ä¹ˆï¼Œæœ‰çš„åªæ˜¯äº‹æƒ…çš„è½»é‡ç¼“æ€¥ä¹‹åˆ†ã€‚</del></strong></font></p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210302094709.png" width="30%"/ loading="lazy"><br><p><code>2020-11-26</code>æ—¶å€™ï¼Œå·²ç»çœ‹åˆ°åç«¯å¤§ä½¬å¼€å§‹è®¾è®¡æ–°çš„ä»£ç†æ–¹æ¡ˆäº†ï¼›æ„Ÿè§‰æ­¤é—®é¢˜è¢«è§£å†³åˆè¦è¢«æç½®å»¶æœŸå¾ˆä¹…ï¼Œä¸”ä¸€ä¸ªæ–°çš„è®¾è®¡æ–¹æ¡ˆåˆ°å®ç°ï¼Œåˆ°é€šè¿‡æµ‹è¯•ï¼Œå®Œå…¨æ›¿æ¢ï¼Œä¼°è®¡æœ‰éœ€è¦å¾ˆä¹…ã€‚ä¹Ÿä¼°è®¡åé¢è¿™ä¸ªå¼¹çª—è¿‡ä¸ä¹…ï¼Œåˆä¼šå†æ¬¡å‡ºç°ã€‚å¨œå¨œæ— å¥ˆï½ å¤§æ¦‚è¿˜æ˜¯ä¸å¤Ÿååˆ†çš„é‡è§†æ­¤ç¼ºé™·å§ã€‚å¿ƒç–¼ï¼Œ</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20201201131910.png" width="30%"/ loading="lazy"><br><p><code>2020-12-04</code> åé¢æœ‰ç©ºæˆ–æœ‰æ–°çš„å‘å±•å†æ›´æ–°ï¼›</p><p>ä¸­é—´é—®è¿‡äº†å‡ æ¬¡è¿›åº¦ï¼Œçœ‹èµ·æ¥æ²¡æœ‰é‚£ä¹ˆå¿«ï¼Œå¯èƒ½æ˜¯é‡æ–°è®¾è®¡ä¼šæ¯”è¾ƒéº»çƒ¦ï¼Ÿï¼Ÿ ä¸æ˜¯å¾ˆæ‡‚ï¼Œå¿ƒç–¼æŠ±æŠ±ï½</p><br><p><code>2020-12-31</code>ï¼Œæœç„¶ï¼Œçœ‹åˆ°è¢«å†æ¬¡æ‰“å¼€äº†ï¼Œè¢«çˆ†ç ´äº†ã€‚çœ‹æ¥è‡³å°‘æ²¡èƒ½å¤Ÿåœ¨å…ƒæ—¦ä¹‹å‰è¢«è§£å†³ã€‚</p><p>æŒç»­æ›´æ–°ã€‚ã€‚ã€‚ã€‚ç­‰å¾…ï¼ˆå‡†å¤‡åé¢æœ‰ç³»ç»Ÿå­¦ä¸‹ç½‘ç»œç›¸å…³çŸ¥è¯†ï¼‰</p><br><p><code>2021-03-22</code>ï¼Œæœ€ç»ˆè¿˜æ˜¯<a href="https://blog.justforlxz.com/">ç«¹å­</a>å¤§ä½¬ç»™ä¿®å¤äº† <a href="https://github.com/linuxdeepin/go-lib/pull/28">#28</a>ï¼Œé¸¡å†»Ù©(à¹‘&gt;â—¡&lt;à¹‘)Û¶ï¼Œå®Œç»“ğŸ‰ğŸ‰ğŸ‰ã€‚</p><br><p>æ›´æ–° <code>2021-08-28</code>ï¼Œçªç„¶çœ‹åˆ°å¦‚ä¸‹ï¼Œå‡ºäººæ„æ–™ï¼Œï¼Œï¼Œ</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210901003606.png" width="70%"/ loading="lazy">]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
          <category> å­¦ä¹  - ä»£ç† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Deepin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Deepin å¼€å‘ä»»åŠ¡æ ç½‘é€Ÿæ’ä»¶ lfxSpeed</title>
      <link href="/posts/c225b552/"/>
      <url>/posts/c225b552/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€åœ¨ <code>DDE</code> æ¡Œé¢ç¯å¢ƒä¸­å¼€å‘ <code>dde-dock æ’ä»¶</code> é¡¹ç›®å®æˆ˜ï¼š ç½‘é€Ÿæ’ä»¶ <code>lfxSpeed</code>ï¼›</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/Peek%202020-12-04%2015-19.gif" width="50%"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><blockquote><p> â€”â€”â€”â€“2021-02-03 æ›´æ–°â€”â€”â€”â€”â€”â€”-<br>ç°åœ¨æ›´æ¨èæ–°ç‰ˆç½‘é€Ÿæ’ä»¶ï¼š<a href="https://github.com/xmuli/NetSpeed">NetSpeed</a> </p><p>æ–‡ç« æè¿°ï¼š<a href="https://xmuli.blog.csdn.net/article/details/113573870">Deepin ä»»åŠ¡æ ç½‘é€Ÿæ’ä»¶æ¨è NetSpeed (é‡æ„ lfxSpeed)</a></p></blockquote><br><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>å›  <code>DDE</code>  å±å®æ¼‚äº®ï¼Œä½¿ç”¨ç¾è§‚èˆ’é€‚ï¼Œä½œä¸º <code>Deepin</code> çˆ±å¥½è€…ï¼Œä¹ æƒ¯äºåœ¨å…¶å®ƒç³»ç»Ÿä¸Šæœ‰ä¸€ä¸ªä»»åŠ¡æ ç½‘é€Ÿæ’ä»¶ï¼Œä½†æ­¤ <code>Deepin v20 / UOS v20</code>ä¸Šæ²¡æœ‰ï¼Œäºæ˜¯ä¾¿æœ‰äº†è¿™ä¸ªé¡¹ç›®ã€‚é€‚ç”¨äº <code>DDE</code> çš„ <code>Linux</code> å‘è¡Œç‰ˆã€‚</p><br><h2 id="é¢„è§ˆ"><a href="#é¢„è§ˆ" class="headerlink" title="é¢„è§ˆ"></a>é¢„è§ˆ</h2><p><strong>å·²å®ç°åŠŸèƒ½ï¼š</strong></p><ul><li>å®æ—¶æ˜¾ç¤ºç½‘é€Ÿã€CPU ã€å†…å­˜ä½¿ç”¨ç‡</li><li>è‡ªå®šä¹‰ç½‘é€Ÿç²¾ç¡®åº¦</li><li>è‡ªå®šä¹‰ä¿®æ”¹æ ‡ç­¾</li><li>è‡ªå®šä¹‰åˆ·æ–°æ—¶é—´</li><li>æ˜¾ç¤ºæˆ–éšè—æŸä¸€ä¿¡æ¯æ </li><li>ç½‘é€Ÿå•ä½æ˜¾ç¤ºæ¨¡å¼ä¸‰ç§</li><li>æµ…è‰² &#x2F; æš—è‰² ä¸»é¢˜æ¨¡å¼</li></ul><p><strong>é¡¹ç›®é¢„è§ˆå›¾ï¼š</strong></p><p>  <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20201204203142.png" width="50%"/ loading="lazy">  <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20201204152635.png" width="35%"/ loading="lazy"></p><br><h2 id="ç¼–è¯‘"><a href="#ç¼–è¯‘" class="headerlink" title="ç¼–è¯‘"></a>ç¼–è¯‘</h2><p>å¼€å‘ç¯å¢ƒ <strong>ğŸ’»ï¼š</strong>  <code>uos20</code> ğŸ“ <code>Qt 5.11.3</code> ğŸ“  <code>dde-dock = 5.2.0.24</code> ğŸ“  <code>&quot;1.2.2&quot; ç‰ˆæœ¬</code>ï¼›å®‰è£…å¼€å‘åŒ…ï¼Œ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libdtkwidget-dev<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> dde-dock-dev<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ä¸‹è½½ <a href="https://github.com/xmuli/lfxspeed">æºç </a> åï¼Œè¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œè¿›è¡Œç¼–è¯‘</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> build <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> buildcmake <span class="token punctuation">..</span><span class="token function">make</span> <span class="token parameter variable">-j16</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä¼šç”Ÿæˆä¸€ä¸ª <code>liblfxSpeed.so</code> å…±äº«åº“ï¼Œåœ¨å…¶è·¯å¾„ä¸‹æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œè‹¥å¸Œæœ›çœ‹åˆ°æ•ˆæœï¼Œéœ€è¦æ‰§è¡Œ <code>killall dde-dock</code> ã€<code>dde-dock</code> åç”Ÿæ•ˆï¼›</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">cp</span> liblfxSpeed.so /usr/lib/dde-dock/plugins     <span class="token comment"># å®‰è£…</span><span class="token function">sudo</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> /usr/lib/dde-dock/plugins/liblfxSpeed.so <span class="token comment">#  å¸è½½</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><br><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><h3 id="æ’ä»¶åŸç†"><a href="#æ’ä»¶åŸç†" class="headerlink" title="æ’ä»¶åŸç†"></a>æ’ä»¶åŸç†</h3><p>é¡¹ç›®æœ€åç”Ÿæˆä¸€ä¸ªåŠ¨æ€åº“ï¼ŒåŸç†æ˜¯ <code>dde-dock</code> ä½¿ç”¨äº† <code>Qt5</code> çš„æ’ä»¶æœºåˆ¶ï¼Œåœ¨è¿è¡Œæ—¶å€™åŠ è½½åŠ¨æ€åº“ã€‚</p><p>æœ‰ä¸€ç¯‡ <code>Deepin</code> å®˜æ–¹å‡ºçš„æ•™ç¨‹ï¼Œæ˜¯éšè— <code>dde-dock </code>é¡¹ç›®ä¹‹ä¸­ <a href="https://github.com/linuxdeepin/dde-dock/blob/master/plugins/plugin-guide/plugins-developer-guide.md">plugins-developer-guide</a> æ„Ÿè§‰æˆäº†ä¸€ä¸ªå°å½©è›‹ï¼›è¿™ç¯‡æ–‡ç« å¯¹æ’ä»¶æ¥å£å†™çš„å¾ˆè¯¦ç»†ï¼Œä¹Ÿæœ‰ä¸€ä¸ªè‡ªå¸¦çš„å°ä¾‹å­ï¼Œè®²è§£çš„å¾ˆæ¸…æ™°ï¼›</p><p><strong>ä¸»è¦å·¥ä½œå°±æ˜¯ï¼Œç»§æ‰¿å¦‚ä¸‹ä¸¤ä¸ªç±»ï¼š</strong></p><ul><li><a href="https://github.com/linuxdeepin/dde-dock/blob/master/interfaces/pluginproxyinterface.h">pluginproxyinterface.h</a> ï¼šå¯ä»¥ä¸»åŠ¨å»è°ƒç”¨ dde-dock çš„æ¥å£ï¼Œç”¨æ¥ç®¡ç† æ’ä»¶ çš„ç®¡ç†ç±»</li><li><a href="https://github.com/linuxdeepin/dde-dock/blob/master/interfaces/pluginsiteminterface.h">pluginsiteminterface.h</a> ï¼šè¢«åŠ¨çš„è¢« dock è°ƒç”¨</li></ul><p>è€Œè‡ªå·±æ–°å†™çš„æ’ä»¶ç±»ï¼Œæ˜¯å¿…é¡»åŒæ—¶ç»§æ‰¿ä¸¤ä¸ªç±»çš„ï¼šå¦‚ <code>class SpeedPlugin : public QObject, public PluginsItemInterface</code> ã€‚å®ç°ä¸€ä¸ªæœ€ç®€å•çš„æ’ä»¶ç±»ï¼Œé‡å†™ä¸‹é¢å‰å…­ä¸ªå‡½æ•°å³å¯ï¼›è‹¥åŠ æ›´å¤šåŠŸèƒ½ï¼Œå†é‡å…¶å®ƒå‡½æ•°å³å¯</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// æ’ä»¶å¿…é¡»é‡å†™å‡½æ•°</span><span class="token keyword">virtual</span> <span class="token keyword">const</span> QString <span class="token function">pluginName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span><span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span>PluginProxyInterface <span class="token operator">*</span>proxyInter<span class="token punctuation">)</span> <span class="token keyword">override</span><span class="token punctuation">;</span><span class="token keyword">virtual</span> QWidget <span class="token operator">*</span><span class="token function">itemWidget</span><span class="token punctuation">(</span><span class="token keyword">const</span> QString <span class="token operator">&amp;</span>itemKey<span class="token punctuation">)</span> <span class="token keyword">override</span><span class="token punctuation">;</span><span class="token comment">// æ’ä»¶ç¦ç”¨å’Œå¯ç”¨ç›¸å…³çš„æ¥å£</span><span class="token keyword">virtual</span> <span class="token keyword">bool</span> <span class="token function">pluginIsAllowDisable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">override</span><span class="token punctuation">;</span><span class="token keyword">virtual</span> <span class="token keyword">bool</span> <span class="token function">pluginIsDisable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">override</span><span class="token punctuation">;</span><span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">pluginStateSwitched</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">override</span><span class="token punctuation">;</span><span class="token comment">// é¢å¤–çš„åŠŸèƒ½ï¼šé¢„è§ˆã€å³é”®èœå•ã€æ‚¬æµ®æ˜¾ç¤º</span><span class="token keyword">virtual</span> <span class="token keyword">const</span> QString <span class="token function">pluginDisplayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span><span class="token keyword">virtual</span> <span class="token keyword">const</span> QString <span class="token function">itemContextMenu</span><span class="token punctuation">(</span><span class="token keyword">const</span> QString <span class="token operator">&amp;</span>itemKey<span class="token punctuation">)</span> <span class="token keyword">override</span><span class="token punctuation">;</span><span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">invokedMenuItem</span><span class="token punctuation">(</span><span class="token keyword">const</span> QString <span class="token operator">&amp;</span>itemKey<span class="token punctuation">,</span> <span class="token keyword">const</span> QString <span class="token operator">&amp;</span>menuId<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">bool</span> checked<span class="token punctuation">)</span> <span class="token keyword">override</span><span class="token punctuation">;</span><span class="token keyword">virtual</span> QWidget <span class="token operator">*</span><span class="token function">itemTipsWidget</span><span class="token punctuation">(</span><span class="token keyword">const</span> QString <span class="token operator">&amp;</span>itemKey<span class="token punctuation">)</span> <span class="token keyword">override</span><span class="token punctuation">;</span><span class="token comment">// æ›´å¤šå…¶å®ƒ...</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="lfxSpeed-åŸç†"><a href="#lfxSpeed-åŸç†" class="headerlink" title="lfxSpeed åŸç†"></a>lfxSpeed åŸç†</h3><p>åŸºæœ¬æ€è·¯ä¸º è·å– <code>/proc</code> æ–‡ä»¶ï¼Œç„¶åé€šè¿‡è®¡ç®—ï¼Œè½¬æ¢å•ä½ç­‰ï¼Œåªæ˜¾ç¤ºè‡ªå·±æƒ³è¦çš„ç»“æœï¼›ç„¶åå°†å…¶æ˜¾ç¤ºåœ¨æ§ä»¶å¸ƒå±€ä¹‹ä¸­ï¼Œæœ€åå°†æ•´ä¸ªæ§ä»¶æ˜¾ç¤ºåœ¨ä»»åŠ¡æ ä¸Šï¼ˆè¿”å›å…¶å¯¹è±¡çš„æŒ‡é’ˆç»™ dockï¼‰ï¼›<strong>ä¸‹é¢è®²è§£å¦‚ä½•ä» <code>Linux</code> é€šè¿‡ <code>/proc</code> è·å–ç³»ç»Ÿç½‘é€Ÿã€CPUã€Memoryå’Œè¿è¡Œæ—¶é—´ç­‰ä¿¡æ¯ã€‚</strong></p><br><h2 id="è·å–ç³»ç»Ÿå‚æ•°"><a href="#è·å–ç³»ç»Ÿå‚æ•°" class="headerlink" title="è·å–ç³»ç»Ÿå‚æ•°"></a>è·å–ç³»ç»Ÿå‚æ•°</h2><h3 id="proc-ä»‹ç»"><a href="#proc-ä»‹ç»" class="headerlink" title="/proc ä»‹ç»"></a><code>/proc</code> ä»‹ç»</h3><p>Linuxç³»ç»Ÿä¸Šçš„&#x2F;procç›®å½•æ˜¯ä¸€ç§æ–‡ä»¶ç³»ç»Ÿï¼Œå³procæ–‡ä»¶ç³»ç»Ÿã€‚ä¸å…¶å®ƒå¸¸è§çš„æ–‡ä»¶ç³»ç»Ÿä¸åŒçš„æ˜¯ï¼Œ&#x2F;procæ˜¯ä¸€ç§ä¼ªæ–‡ä»¶ç³»ç»Ÿï¼ˆä¹Ÿå³è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼‰ï¼Œå­˜å‚¨çš„æ˜¯å½“å‰å†…æ ¸è¿è¡ŒçŠ¶æ€çš„ä¸€ç³»åˆ—ç‰¹æ®Šæ–‡ä»¶ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡è¿™äº›æ–‡ä»¶æŸ¥çœ‹æœ‰å…³ç³»ç»Ÿç¡¬ä»¶åŠå½“å‰æ­£åœ¨è¿è¡Œè¿›ç¨‹çš„ä¿¡æ¯ï¼Œç”šè‡³å¯ä»¥é€šè¿‡æ›´æ”¹å…¶ä¸­æŸäº›æ–‡ä»¶æ¥æ”¹å˜å†…æ ¸çš„è¿è¡ŒçŠ¶æ€ã€‚</p><p>åŸºäº&#x2F;procæ–‡ä»¶ç³»ç»Ÿå¦‚ä¸Šæ‰€è¿°çš„ç‰¹æ®Šæ€§ï¼Œå…¶å†…çš„æ–‡ä»¶ä¹Ÿå¸¸è¢«ç§°ä½œè™šæ‹Ÿæ–‡ä»¶ï¼Œå¹¶å…·æœ‰ä¸€äº›ç‹¬ç‰¹çš„ç‰¹ç‚¹ã€‚ä¾‹å¦‚ï¼Œå…¶ä¸­æœ‰äº›æ–‡ä»¶è™½ç„¶ä½¿ç”¨æŸ¥çœ‹å‘½ä»¤æŸ¥çœ‹æ—¶ä¼šè¿”å›å¤§é‡ä¿¡æ¯ï¼Œä½†æ–‡ä»¶æœ¬èº«çš„å¤§å°å´ä¼šæ˜¾ç¤ºä¸º0å­—èŠ‚ã€‚æ­¤å¤–ï¼Œè¿™äº›ç‰¹æ®Šæ–‡ä»¶ä¸­å¤§å¤šæ•°æ–‡ä»¶çš„æ—¶é—´åŠæ—¥æœŸå±æ€§é€šå¸¸ä¸ºå½“å‰ç³»ç»Ÿæ—¶é—´å’Œæ—¥æœŸï¼Œè¿™è·Ÿå®ƒä»¬éšæ—¶ä¼šè¢«åˆ·æ–°ï¼ˆå­˜å‚¨äºRAMä¸­ï¼‰æœ‰å…³ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// æ›´å¤šæ–‡ä»¶çš„è·å–ï¼Œå¯ä»¥å‚è€ƒ https://zh.m.wikipedia.org/zh-cn/Procfs</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">PROC_PATH_UPTIME</span>    <span class="token string">"/proc/uptime"</span>      <span class="token comment">// "ç³»ç»Ÿå¯åŠ¨" å’Œ "ç³»ç»Ÿç©ºé—²" çš„æ—¶é—´</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">PROC_PATH_CPU</span>       <span class="token string">"/proc/stat"</span>        <span class="token comment">// "CPU" ä½¿ç”¨ç‡ çš„çŠ¶æ€</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">PROC_PATH_MEM</span>       <span class="token string">"/proc/meminfo"</span>     <span class="token comment">// "å†…å­˜" å’Œ "äº¤æ¢ç©ºé—´" çš„çŠ¶æ€</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">PROC_PATH_NET</span>       <span class="token string">"/proc/net/dev"</span>     <span class="token comment">// "ç½‘é€Ÿ" ä¸‹è½½å’Œä¸Šä¼  çš„çŠ¶æ€</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">PROC_PATH_DISK</span>      <span class="token string">"/proc/diskstats"</span>   <span class="token comment">// "ç£ç›˜" è¯»å–å’Œå†™å…¥ çš„çŠ¶æ€</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="è·å–ç½‘é€Ÿ"><a href="#è·å–ç½‘é€Ÿ" class="headerlink" title="è·å–ç½‘é€Ÿ"></a>è·å–ç½‘é€Ÿ</h3><h4 id="è¯»å–æ–‡ä»¶"><a href="#è¯»å–æ–‡ä»¶" class="headerlink" title="è¯»å–æ–‡ä»¶"></a>è¯»å–æ–‡ä»¶</h4><p>ç½‘ç»œç›¸å…³çš„æ•°æ®ï¼Œä» <code>/proc/net/dev</code>  æ–‡ä»¶è·å–ï¼šè¯»å–æ­¤æ–‡ä»¶è¿›è¡Œè®¡ç®—å³å¯<img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/image-20201117165447548.png" width="100%"/ loading="lazy"></p><p>è¿™ä¸ªæ–‡ä»¶æ¯ä¸€è¡Œçš„è¯¦ç»†å«ä¹‰å¦‚ä¸‹ï¼š<strong>face: æ¥å£</strong> </p><p>â€‹â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-ã€æ¥æ”¶ã€‘â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-</p><ol><li><p><code>bytes:</code> æ¥å£æ¥æ”¶çš„æ•°æ®çš„æ€»å­—èŠ‚æ•°</p></li><li><p><code>packets:</code> æ¥å£æ¥æ”¶çš„æ•°æ®åŒ…æ€»æ•°</p></li><li><p><code>errs:</code> ç”±è®¾å¤‡é©±åŠ¨ç¨‹åºæ£€æµ‹åˆ°æ¥æ”¶é”™è¯¯çš„æ€»æ•°</p></li><li><p><code>drop:</code> è®¾å¤‡é©±åŠ¨ç¨‹åºä¸¢å¼ƒçš„æ•°æ®åŒ…æ€»æ•°</p></li><li><p><code>fifo:</code> FIFOç¼“å†²åŒºé”™è¯¯çš„æ•°é‡</p></li><li><p><code>frame:</code> åˆ†ç»„å¸§é”™è¯¯çš„æ•°é‡</p></li><li><p><code>compressed:</code> è®¾å¤‡é©±åŠ¨ç¨‹åºæ¥æ”¶çš„å‹ç¼©æ•°æ®åŒ…æ•°</p></li><li><p><code>multicast:</code> è®¾å¤‡é©±åŠ¨ç¨‹åºå‘é€æˆ–æ¥æ”¶çš„å¤šæ’­å¸§æ•°</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-ã€ä¼ é€ã€‘â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-</p></li><li><p><code>bytes:</code>  æ¥å£å‘é€çš„æ•°æ®çš„æ€»å­—èŠ‚æ•°</p></li><li><p><code>packets:</code> æ¥å£å‘é€çš„æ•°æ®åŒ…æ€»æ•°</p></li><li><p><code>errs:</code> ç”±è®¾å¤‡é©±åŠ¨ç¨‹åºæ£€æµ‹åˆ°çš„å‘é€é”™è¯¯çš„æ€»æ•°</p></li><li><p><code>drop:</code> åŒä¸Š</p></li><li><p><code>fifo:</code> åŒä¸Š</p></li><li><p><code>colls:</code> æ¥å£ä¸Šæ£€æµ‹åˆ°çš„å†²çªæ•°</p></li><li><p><code>carrier:</code> ç”±è®¾å¤‡é©±åŠ¨ç¨‹åºæ£€æµ‹åˆ°çš„è½½æ³¢æŸè€—çš„æ•°é‡</p></li><li><p><code>compressed:</code> è®¾å¤‡é©±åŠ¨ç¨‹åºå‘é€çš„å‹ç¼©æ•°æ®åŒ…æ•°</p></li></ol><p>éœ€è¦æ³¨æ„çš„,ï¼Œæ­¤å¤„åªæ˜¯è·å–çš„ä¸º<strong>æ¥å£æ¥æ”¶çš„æ•°æ®çš„æ€»å­—èŠ‚æ•°</strong> ï¼Œè¦è·å–å®æ—¶é€Ÿç‡ï¼Œè¿˜å¾—ç”¨èµ·å·®å€¼é™¤ä»¥å•ä½æ—¶é—´ï¼Œæ‰æ˜¯ç½‘é€Ÿã€‚ <strong>å…¶å•ä½é»˜è®¤æ˜¯å­—èŠ‚</strong>ã€‚</p><br><h4 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><p>æ­¤æ–‡ä»¶æ˜¯<strong>æŸä¸€æ—¶åˆ»çš„</strong>ï¼Œæœ¬æœºæ‰€æœ‰æ¥æ”¶å’Œå‘é€çš„<strong>æ•°æ®åŒ…æ€»é‡</strong> ï¼Œå…¶åˆ†åˆ«å¯¹åº”æ¯ä¸€è¡Œçš„ç¬¬ 1 åˆ—ã€ç¬¬ 9 åˆ— ï¼ˆbyte ä¸€åˆ—ï¼‰ï¼›ï¼ˆæ³¨ï¼šç¬¬ 0 åˆ—æ˜¯å‰é¢çš„è‹±æ–‡å­—ç¬¦ä¸²ï¼‰</p><p>å°†æ¯ä¸€è¡Œçš„çš„ç¬¬ 2 åˆ—ç´¯åŠ ï¼Œä¸ºæ­¤æ—¶å¯æ€»çš„æ¥æ”¶æ•°æ®åŒ…ï¼ˆä¸‹è½½ï¼‰ï¼›å°†æ¯ä¸€è¡Œçš„çš„ç¬¬ 10 åˆ—åŠ ï¼Œä¸ºæ­¤æ—¶æ€»çš„å‘é€æ•°æ®åŒ…ï¼ˆä¸Šä¼ ï¼‰ï¼›ç„¶åå°†ä¸¤æ¬¡æ—¶åˆ»ä¹‹å·® é™¤ä»¥æ—¶é—´é—´éš”ï¼Œå°±å¾—åˆ°å•ä½æ—¶é—´ç½‘é€Ÿï¼›</p><br><h4 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h4><p><del>è¿™é‡Œä½¿ç”¨ <code>QRegExp(&quot;\\s&#123;1,&#125;&quot;)</code> æ¥åˆ†å‰²ï¼Œè«åä¼šå¾—åˆ°ç¬¬ä¸€ä¸ªåˆ‡å‰²ä¸º <code>â€œâ€</code> çš„å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥å¯¹åº”çš„ç¬¬ 1å’Œ 9 åˆ—éƒ½è¦é¡ºå»¶åŠ  1ã€‚</del> æ­¤é—®é¢˜å·²ç»ç”± <a href="https://github.com/xmuli/lfxSpeed/pull/5">#5</a> ä¿®å¤</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">/*! * \brief SpeedInfo::netRate è·å–ç½‘æŸä¸€æ—¶åˆ»çš„ç½‘ç»œæ€»çš„æ•°æ®åŒ…é‡ * \param[out] netUpload ç½‘ç»œä¸Šä¼ æ•°æ®é‡ * \param[out] netUpload ç½‘ç»œä¸‹è½½æ•°æ®é‡ */</span><span class="token keyword">void</span> <span class="token class-name">SpeedInfo</span><span class="token double-colon punctuation">::</span><span class="token function">netRate</span><span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token operator">&amp;</span>netDown<span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token operator">&amp;</span>netUpload<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QFile <span class="token function">file</span><span class="token punctuation">(</span>PROC_PATH_NET<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>QIODevice<span class="token double-colon punctuation">::</span>ReadOnly <span class="token operator">|</span> QIODevice<span class="token double-colon punctuation">::</span>Text<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// åœ¨è¯»å–æ—¶ï¼ŒæŠŠè¡Œå°¾ç»“æŸç¬¦ä¿®æ”¹ä¸º '\n'ï¼› åœ¨å†™å…¥æ—¶ï¼ŒæŠŠè¡Œå°¾ç»“æŸç¬¦ä¿®æ”¹ä¸ºæœ¬åœ°ç³»ç»Ÿæ¢è¡Œé£æ ¼ï¼Œæ¯”å¦‚Windowsæ–‡æœ¬æ¢è¡Œæ˜¯ "\r\n"</span>        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">"\"/proc/net/dev\" don't open!"</span><span class="token punctuation">;</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">long</span> down <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">long</span> upload <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    QTextStream <span class="token function">stream</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>    QString line <span class="token operator">=</span> stream<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    line  <span class="token operator">=</span> stream<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    line  <span class="token operator">=</span> stream<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>line<span class="token punctuation">.</span><span class="token function">isNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        line <span class="token operator">=</span> line<span class="token punctuation">.</span><span class="token function">trimmed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        QStringList list <span class="token operator">=</span> line<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token function">QRegExp</span><span class="token punctuation">(</span><span class="token string">"\\s&#123;1,&#125;"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// åŒ¹é…ä»»æ„ å¤§äºç­‰äº1ä¸ªçš„ ç©ºç™½å­—ç¬¦</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>list<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            down <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLong</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            upload <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLong</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        netDown <span class="token operator">+=</span> down<span class="token punctuation">;</span>        netUpload <span class="token operator">+=</span> upload<span class="token punctuation">;</span>        line  <span class="token operator">=</span> stream<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    file<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><p>è¿˜éœ€è¦å°†å­—èŠ‚å¯ä»¥æ™ºèƒ½è½¬æ¢ä¸ºå¯¹åº”çš„å•ä½å’Œå¯¹åº”çš„æ•°å€¼ çš„å‡½æ•°ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">/*! * \brief SpeedInfo::autoRateUnits è‡ªåŠ¨æ˜¾ç¤ºå•ä½ * \param[in] speed ä¼ å…¥çš„ç½‘é€Ÿ(æ— å•ä½) * \param[out] unit æ™ºèƒ½è°ƒèŠ‚åçš„ç½‘é€Ÿçš„å•ä½ * \param sensitive é€Ÿç‡å•ä½çš„å¤§å°å†™æ¨¡å¼ * \return è‡ªèƒ½è°ƒèŠ‚å•ä½åçš„é€Ÿç‡ */</span><span class="token keyword">double</span> <span class="token class-name">SpeedInfo</span><span class="token double-colon punctuation">::</span><span class="token function">autoRateUnits</span><span class="token punctuation">(</span><span class="token keyword">long</span> speed<span class="token punctuation">,</span> SpeedInfo<span class="token double-colon punctuation">::</span>RateUnit <span class="token operator">&amp;</span>unit<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">/* è‡ªåŠ¨åˆ¤æ–­åˆé€‚çš„é€Ÿç‡å•ä½,é»˜è®¤ä¼ è¿›æ¥çš„æ˜¯ Byte     * bit    0 ~ 7 ä½ (ä¸åˆ° 1 å­—èŠ‚)     * Byte   1    ~ 2^10  Byte     * KB     2^10 ~ 2^20  Byte     * MB     2^20 ~ 2^30  Byte     * GB     2^30 ~ 2^40  Byte     * TB     2^40 ~ 2^50  Byte     */</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>unit <span class="token operator">!=</span> SpeedInfo<span class="token double-colon punctuation">::</span>RateByte<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">"è¯·å…ˆå°†å•ä½è½¬ä¸ºå­—èŠ‚(byte)åå†ä¼ å‚"</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">double</span> sp <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">&lt;=</span> speed <span class="token operator">&amp;&amp;</span> speed <span class="token operator">&lt;</span> <span class="token function">qPow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        unit <span class="token operator">=</span> SpeedInfo<span class="token double-colon punctuation">::</span>RateByte<span class="token punctuation">;</span>        sp <span class="token operator">=</span> speed<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">qPow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> speed <span class="token operator">&amp;&amp;</span> speed <span class="token operator">&lt;</span> <span class="token function">qPow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        unit <span class="token operator">=</span> SpeedInfo<span class="token double-colon punctuation">::</span>RateKb<span class="token punctuation">;</span>        sp <span class="token operator">=</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>speed <span class="token operator">/</span> <span class="token function">qPow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">qPow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> speed <span class="token operator">&amp;&amp;</span> speed <span class="token operator">&lt;</span> <span class="token function">qPow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        unit <span class="token operator">=</span> SpeedInfo<span class="token double-colon punctuation">::</span>RateMb<span class="token punctuation">;</span>        sp <span class="token operator">=</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>speed <span class="token operator">/</span> <span class="token function">qPow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">qPow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> speed <span class="token operator">&amp;&amp;</span> speed <span class="token operator">&lt;</span> <span class="token function">qPow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        unit <span class="token operator">=</span> SpeedInfo<span class="token double-colon punctuation">::</span>RateGb<span class="token punctuation">;</span>        sp <span class="token operator">=</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>speed <span class="token operator">/</span> <span class="token function">qPow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">qPow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> speed <span class="token operator">&amp;&amp;</span> speed <span class="token operator">&lt;</span> <span class="token function">qPow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        unit <span class="token operator">=</span> SpeedInfo<span class="token double-colon punctuation">::</span>RateTb<span class="token punctuation">;</span>        sp <span class="token operator">=</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>speed <span class="token operator">/</span> <span class="token function">qPow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        unit <span class="token operator">=</span> SpeedInfo<span class="token double-colon punctuation">::</span>RateUnknow<span class="token punctuation">;</span>        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">"æœ¬è®¾å¤‡ç½‘ç»œé€Ÿç‡å•ä½ä¼ è¾“è¶…è¿‡ TB, æˆ–è€…ä½äº 0 Byte."</span><span class="token punctuation">;</span>        sp <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> sp<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="è·å–CPU"><a href="#è·å–CPU" class="headerlink" title="è·å–CPU"></a>è·å–CPU</h3><h4 id="è¯»å–æ–‡ä»¶-1"><a href="#è¯»å–æ–‡ä»¶-1" class="headerlink" title="è¯»å–æ–‡ä»¶"></a>è¯»å–æ–‡ä»¶</h4><p><code>CPU</code> ç›¸å…³çš„æ•°æ®ï¼Œä» <code>/proc/stat</code>  æ–‡ä»¶è·å–ï¼šè¯»å–æ­¤æ–‡ä»¶è¿›è¡Œè®¡ç®—å³å¯</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20201202110836.png" width="100%"/ loading="lazy"><p><strong>è¿™ä¸ªæ–‡ä»¶ä¸Šé¢æ¯ä¸€åˆ—è¡¨çš„è¯¦ç»†å«ä¹‰å¦‚ä¸‹:</strong></p><ol><li><code>user:</code> ç”¨æˆ·æ€æ—¶é—´ï¼ˆä¸€èˆ¬&#x2F;é«˜ä¼˜å…ˆçº§ï¼Œä»…ç»Ÿè®¡nice&lt;&#x3D;0ï¼‰</li><li><code>nice:</code> ç”¨æˆ·æ€æ—¶é—´ï¼ˆä½ä¼˜å…ˆçº§ï¼Œnice&gt;0ï¼‰</li><li><code>system:</code>  å†…æ ¸æ€æ—¶é—´</li><li><code>idle:</code> ç©ºé—²æ—¶é—´ï¼ˆ ä¸åŒ…å«IOç­‰å¾…æ—¶é—´ï¼‰ </li><li><code>iowait:</code>  I&#x2F;Oç­‰å¾…æ—¶é—´ ï¼ˆ ç¡¬ç›˜IOç­‰å¾…æ—¶é—´ï¼‰ </li><li><code>irq:</code> ç¡¬ä¸­æ–­ </li><li><code>softirq:</code>  è½¯ä¸­æ–­</li><li><code>steal:</code>  è¢«ç›—æ—¶é—´ï¼ˆè™šæ‹ŸåŒ–ç¯å¢ƒä¸­è¿è¡Œå…¶ä»–æ“ä½œç³»ç»Ÿä¸ŠèŠ±è´¹çš„æ—¶é—´ï¼ˆsince Linux 2.6.11ï¼‰ï¼‰</li><li><code>guest:</code>  æ¥å®¾æ—¶é—´ï¼ˆæ“ä½œç³»ç»Ÿè¿è¡Œè™šæ‹ŸCPUèŠ±è´¹çš„æ—¶é—´ï¼ˆsince Linux 2.6.24ï¼‰ï¼‰</li><li><code>guest_nice:</code> nice æ¥å®¾æ—¶é—´ï¼ˆ è¿è¡Œä¸€ä¸ªå¸¦niceå€¼çš„guestèŠ±è´¹çš„æ—¶é—´ï¼ˆsince Linux 2.6.33ï¼‰ï¼‰</li></ol><br><p><strong>æœ€åçš„å‡ ä¸ªæ•°å€¼å«ä¹‰ï¼š</strong></p><ol><li><code>intrï¼š</code> ç³»ç»Ÿå¯åŠ¨ä»¥æ¥çš„æ‰€æœ‰interruptsçš„æ¬¡æ•°æƒ…å†µï¼ˆæœ‰å†—ä½™ä¿¡æ¯ï¼‰ï¼›è¿™è¡Œç»™å‡ºä¸­æ–­çš„ä¿¡æ¯ï¼Œç¬¬ä¸€ä¸ªä¸ºè‡ªç³»ç»Ÿå¯åŠ¨ä»¥æ¥ï¼Œå‘ç”Ÿçš„æ‰€æœ‰çš„ä¸­æ–­çš„æ¬¡æ•°ã€‚ç„¶åæ¯ä¸ªæ•°å¯¹åº”ä¸€ä¸ªç‰¹å®šçš„ä¸­æ–­è‡ªç³»ç»Ÿå¯åŠ¨ä»¥æ¥æ‰€å‘ç”Ÿçš„æ¬¡æ•°ã€‚</li><li><code>ctxt:</code>  è‡ªç³»ç»Ÿå¯åŠ¨ä»¥æ¥CPUå‘ç”Ÿçš„ä¸Šä¸‹æ–‡äº¤æ¢çš„æ¬¡æ•°</li><li><code>btimeï¼š</code> å¯åŠ¨æ—¶é•¿(å•ä½:ç§’)ï¼Œä»Epoch(å³1970é›¶æ—¶)å¼€å§‹åˆ°ç³»ç»Ÿå¯åŠ¨æ‰€ç»è¿‡çš„æ—¶é•¿ï¼Œæ¯æ¬¡å¯åŠ¨ä¼šæ”¹å˜ã€‚</li><li><code>processes</code>ï¼šè‡ªç³»ç»Ÿå¯åŠ¨ä»¥æ¥æ‰€åˆ›å»ºçš„ä»»åŠ¡çš„ä¸ªæ•°ç›®ã€‚å½“çŸ­æ—¶é—´è¯¥å€¼ç‰¹åˆ«å¤§ï¼Œç³»ç»Ÿå¯èƒ½å‡ºç°å¼‚å¸¸</li><li><code>procs_runningï¼š</code> å½“å‰è¿è¡Œé˜Ÿåˆ—çš„ä»»åŠ¡çš„æ•°ç›®</li><li><code>procs_blockedï¼š</code> å½“å‰è¢«é˜»å¡çš„ä»»åŠ¡çš„æ•°ç›®</li><li><code>softirq:</code>  æ­¤è¡Œæ˜¾ç¤ºæ‰€æœ‰CPUçš„softirqæ€»æ•°, ç¬¬ä¸€åˆ—æ˜¯æ‰€æœ‰è½¯ä»¶å’Œæ¯ä¸ªè½¯ä»¶çš„æ€»æ•°, åé¢çš„åˆ—æ˜¯ç‰¹å®šsoftirqçš„æ€»æ•°</li></ol><p><strong>å…¶å•ä½ä¸º <code>jiffies</code>ï¼›å…¶ä¸­ <code>1 jiffies = 0.01s = 10ms</code></strong></p><br><h4 id="æ€è·¯-2"><a href="#æ€è·¯-2" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><p>å’Œæˆ‘ä»¬ç›¸å…³æš‚æ—¶åªå…³å¿ƒç¬¬ä¸€è¡Œï¼Œæ¯æ¬¡è¯»å–ï¼Œä¾æ—§<strong>æ˜¯æŸä¸€æ—¶åˆ»çŠ¶æ€</strong> ï¼ŒCPU æ€»é‡ cpuAll ä¸ºç¬¬ä¸€è¡Œæ‰€æœ‰åˆ—ä¹‹å’Œï¼Œç©ºé—²é‡ cpuFree ä¸ºç¬¬ä¸€è¡Œçš„ç¬¬ 4 åˆ—ã€‚å°† <code>ï¼ˆcpuAll - cpuFreeï¼‰ / cpuAll</code> å°±æ˜¯æ­¤æ—¶åˆ»çš„ CPU ä½¿ç”¨ç‡ã€‚</p><p>è€Œ <code>(((cpuAll - old_cpuAll) - (cpuFree - old_cpuFree)) * 100.0 / (cpuAll - old_cpuAll)</code> åˆ™æ˜¯CPU åœ¨<strong>æŸä¸€å•ä½æ—¶é—´æ®µ</strong> çš„ CPU ä½¿ç”¨ç‡ã€‚</p><br><h4 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><p>è·å–æŸä¸€æ—¶åˆ» CPU çš„æ€»é‡å’Œç©ºé—²é‡</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">/*! * \brief SpeedInfo::cpuRate è·å–æŸä¸€æ¬¡ CPU çš„ä½¿ç”¨æƒ…å†µ * \param[out] cpuAll æ€» cpu ä½¿ç”¨é‡ * \param[out] cpuFree ç©ºé—² cpu çš„ä½¿ç”¨é‡ */</span><span class="token keyword">void</span> <span class="token class-name">SpeedInfo</span><span class="token double-colon punctuation">::</span><span class="token function">cpuRate</span><span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token operator">&amp;</span>cpuAll<span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token operator">&amp;</span>cpuFree<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    cpuAll <span class="token operator">=</span> cpuFree <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">bool</span> ok <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    QFile <span class="token function">file</span><span class="token punctuation">(</span>PROC_PATH_CPU<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>QIODevice<span class="token double-colon punctuation">::</span>ReadOnly <span class="token operator">|</span> QIODevice<span class="token double-colon punctuation">::</span>Text<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    QTextStream <span class="token function">stream</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>    QString line <span class="token operator">=</span> stream<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>line<span class="token punctuation">.</span><span class="token function">isNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        QStringList list <span class="token operator">=</span> line<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token function">QRegExp</span><span class="token punctuation">(</span><span class="token string">"\\s&#123;1,&#125;"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> v <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> v <span class="token operator">!=</span> list<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>v<span class="token punctuation">)</span>            cpuAll <span class="token operator">+=</span> <span class="token punctuation">(</span><span class="token operator">*</span>v<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLong</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>ok<span class="token punctuation">)</span><span class="token punctuation">;</span>        cpuFree <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLong</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>ok<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    file<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="è·å–å†…å­˜"><a href="#è·å–å†…å­˜" class="headerlink" title="è·å–å†…å­˜"></a>è·å–å†…å­˜</h3><h4 id="è¯»å–æ–‡ä»¶-2"><a href="#è¯»å–æ–‡ä»¶-2" class="headerlink" title="è¯»å–æ–‡ä»¶"></a>è¯»å–æ–‡ä»¶</h4><p><code>Memory</code> ç›¸å…³çš„æ•°æ®ï¼Œä» <code>/proc/meminfo</code>  æ–‡ä»¶è·å–ï¼šè¯»å–æ­¤æ–‡ä»¶è¿›è¡Œè®¡ç®—å³å¯</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20201202132456.png" width="40%"/ loading="lazy"> <p>æ­¤æ–‡ä»¶çš„è¯¦ç»†è§£é‡Šï¼š</p><ol><li><p><code>MemTotal:</code> æ‰€æœ‰å†…å­˜(RAM)å¤§å°,å‡å»ä¸€äº›é¢„ç•™ç©ºé—´å’Œå†…æ ¸çš„å¤§å°ã€‚</p></li><li><p><code>MemFree:</code> å®Œå…¨æ²¡æœ‰ç”¨åˆ°çš„ç‰©ç†å†…å­˜ï¼ŒlowFree+highFree</p></li><li><p><code>MemAvailable:</code> åœ¨ä¸ä½¿ç”¨äº¤æ¢ç©ºé—´çš„æƒ…å†µä¸‹ï¼Œå¯åŠ¨ä¸€ä¸ªæ–°çš„åº”ç”¨æœ€å¤§å¯ç”¨å†…å­˜çš„å¤§å°ï¼Œè®¡ç®—æ–¹å¼ï¼šMemFree+Active(file)+Inactive(file)-(watermark+min(watermark,Active(file)+Inactive(file)&#x2F;2))</p></li><li><p><code>Buffers:</code> å—è®¾å¤‡æ‰€å ç”¨çš„ç¼“å­˜é¡µï¼ŒåŒ…æ‹¬ï¼šç›´æ¥è¯»å†™å—è®¾å¤‡ä»¥åŠæ–‡ä»¶ç³»ç»Ÿå…ƒæ•°æ®(metadata)ï¼Œæ¯”å¦‚superblockä½¿ç”¨çš„ç¼“å­˜é¡µã€‚</p></li><li><p><code>Cached:</code> è¡¨ç¤ºæ™®é€šæ–‡ä»¶æ•°æ®æ‰€å ç”¨çš„ç¼“å­˜é¡µã€‚</p></li><li><p><code>SwapCached:</code> swap cacheä¸­åŒ…å«çš„æ˜¯è¢«ç¡®å®šè¦swappingæ¢é¡µï¼Œä½†æ˜¯å°šæœªå†™å…¥ç‰©ç†äº¤æ¢åŒºçš„åŒ¿åå†…å­˜é¡µã€‚é‚£äº›åŒ¿åå†…å­˜é¡µï¼Œæ¯”å¦‚ç”¨æˆ·è¿›ç¨‹mallocç”³è¯·çš„å†…å­˜é¡µæ˜¯æ²¡æœ‰å…³è”ä»»ä½•æ–‡ä»¶çš„ï¼Œå¦‚æœå‘ç”Ÿswappingæ¢é¡µï¼Œè¿™ç±»å†…å­˜ä¼šè¢«å†™å…¥åˆ°äº¤æ¢åŒºã€‚</p></li><li><p><code>Active:</code> activeåŒ…å«active anonå’Œactive file</p></li><li><p><code>Inactive:</code> inactiveåŒ…å«inactive anonå’Œinactive file</p></li><li><p><code>Active(anon):</code> anonymous pagesï¼ˆåŒ¿åé¡µï¼‰ï¼Œç”¨æˆ·è¿›ç¨‹çš„å†…å­˜é¡µåˆ†ä¸ºä¸¤ç§ï¼šä¸æ–‡ä»¶å…³è”çš„å†…å­˜é¡µ(æ¯”å¦‚ç¨‹åºæ–‡ä»¶,æ•°æ®æ–‡ä»¶å¯¹åº”çš„å†…å­˜é¡µ)å’Œä¸å†…å­˜æ— å…³çš„å†…å­˜é¡µï¼ˆæ¯”å¦‚è¿›ç¨‹çš„å †æ ˆï¼Œç”¨mallocç”³è¯·çš„å†…å­˜ï¼‰ï¼Œå‰è€…ç§°ä¸ºfile pagesæˆ–mapped pages,åè€…ç§°ä¸ºåŒ¿åé¡µã€‚</p></li><li><p><code>Inactive(anon):</code> è§ä¸Š</p></li><li><p><code>Active(file):</code> è§ä¸Š</p></li><li><p><code>Inactive(file):</code> è§ä¸Š</p></li><li><p><code>SwapTotal:</code> å¯ç”¨çš„swapç©ºé—´çš„æ€»çš„å¤§å°(swapåˆ†åŒºåœ¨ç‰©ç†å†…å­˜ä¸å¤Ÿçš„æƒ…å†µä¸‹ï¼ŒæŠŠç¡¬ç›˜ç©ºé—´çš„ä¸€éƒ¨åˆ†é‡Šæ”¾å‡ºæ¥ï¼Œä»¥ä¾›å½“å‰ç¨‹åºä½¿ç”¨)</p></li><li><p><code>SwapFree:</code> å½“å‰å‰©ä½™çš„swapçš„å¤§å°</p></li><li><p><code>Dirty:</code> éœ€è¦å†™å…¥ç£ç›˜çš„å†…å­˜å»çš„å¤§å°<code>Writeback:</code> æ­£åœ¨è¢«å†™å›çš„å†…å­˜åŒºçš„å¤§å°<code>AnonPages:</code> æœªæ˜ å°„é¡µçš„å†…å­˜çš„å¤§å°<code>Mapped:</code> è®¾å¤‡å’Œæ–‡ä»¶ç­‰æ˜ å°„çš„å¤§å°</p></li><li><p><code>Slab:</code> å†…æ ¸æ•°æ®ç»“æ„slabçš„å¤§å°</p></li><li><p><code>SReclaimable:</code> å¯å›æ”¶çš„slabçš„å¤§å°</p></li><li><p><code>SUnreclaim:</code> ä¸å¯å›æ”¶çš„slabçš„å¤§å°</p></li><li><p><code>PageTables:</code> ç®¡ç†å†…å­˜é¡µé¡µé¢çš„å¤§å°</p></li><li><p><code>NFS_Unstable:</code> ä¸ç¨³å®šé¡µè¡¨çš„å¤§å°</p></li><li><p><code>VmallocTotal:</code> Vmallocå†…å­˜åŒºçš„å¤§å°</p></li><li><p><code>VmallocUsed:</code> å·²ç”¨Vmallocå†…å­˜åŒºçš„å¤§å°</p></li><li><p><code>VmallocChunk:</code> vmallocåŒºå¯ç”¨çš„è¿ç»­æœ€å¤§å¿«çš„å¤§å°</p></li></ol><h4 id="æ€è·¯-3"><a href="#æ€è·¯-3" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><p>æ­¤ä¸ºæŸä¸€æ—¶åˆ»ç³»ç»Ÿçš„å†…å­˜å’Œäº¤æ¢ç©ºé—´ä½¿ç”¨æƒ…å†µçš„æˆªå›¾ï¼›</p><p><strong>å¯¹äºå†…å­˜ï¼š</strong> å†…å­˜æ€»é‡ memoryAll ä¸º MemTotal çš„æ•°å€¼ï¼Œç©ºé—²å†…å­˜ memoryFree ä¸º MemAvailable çš„æ•°å€¼ï¼Œä½¿ç”¨ä¸­çš„å†…å­˜ä¸º memoryUse ä¸º ï¼ˆMemTotal - MemAvailableï¼‰ï¼›</p><p><strong>å¯¹äºäº¤æ¢ç©ºé—´ï¼š</strong> äº¤æ¢ç©ºé—´æ€»é‡ swapAll ä¸º SwapTotal æ•°å€¼ï¼Œç©ºé—²äº¤æ¢ç©ºé—´ swapFree ä¸º SwapFree æ•°å€¼ï¼Œä½¿ç”¨ä¸­çš„äº¤æ¢æ§ä»¶é‡ä¸º swapUse ä¸º ï¼ˆSwapTotal -  SwapFreeï¼‰ æ•°å€¼ï¼›</p><h4 id="ä»£ç -2"><a href="#ä»£ç -2" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><p>è·å–æŸä¸€æ—¶åˆ»å†…å­˜æ ¸äº¤æ¢ç©ºé—´çš„ä½¿ç”¨æƒ…å†µï¼Œä½†æ˜¯è¿™é‡Œæ‰€æœ‰å•ä½éƒ½æ˜¯ å­—èŠ‚ï¼›</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">/*! * \brief SpeedInfo::memoryRate è·å– â€œå†…å­˜â€ å’Œ â€œäº¤æ¢ç©ºé—´â€ çš„æŸä¸€æ—¶åˆ»çš„ä½¿ç”¨æƒ…å†µ * \param memory å†…å­˜ä½¿ç”¨é‡ * \param memoryAll å†…å­˜æ€»é‡ * \param swap äº¤æ¢ç©ºé—´ä½¿ç”¨é‡ * \param swapAll äº¤æ¢ç©ºé—´æ€»é‡ */</span><span class="token keyword">void</span> <span class="token class-name">SpeedInfo</span><span class="token double-colon punctuation">::</span><span class="token function">memoryRate</span><span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token operator">&amp;</span>memory<span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token operator">&amp;</span>memoryAll<span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token operator">&amp;</span>swap<span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token operator">&amp;</span>swapAll<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    memory <span class="token operator">=</span> memoryAll <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    swap <span class="token operator">=</span> swapAll <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">bool</span> ok <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    QFile <span class="token function">file</span><span class="token punctuation">(</span>PROC_PATH_MEM<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>QIODevice<span class="token double-colon punctuation">::</span>ReadOnly <span class="token operator">|</span> QIODevice<span class="token double-colon punctuation">::</span>Text<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    QTextStream <span class="token function">stream</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">long</span> buff<span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">15</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        QString line <span class="token operator">=</span> stream<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        QStringList list <span class="token operator">=</span> line<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token function">QRegExp</span><span class="token punctuation">(</span><span class="token string">"\\s&#123;1,&#125;"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        buff<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLong</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>ok<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    memoryAll <span class="token operator">=</span> buff<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    memory <span class="token operator">=</span> buff<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> buff<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    swapAll <span class="token operator">=</span> buff<span class="token punctuation">[</span><span class="token number">14</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    swap <span class="token operator">=</span> buff<span class="token punctuation">[</span><span class="token number">14</span><span class="token punctuation">]</span> <span class="token operator">-</span> buff<span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    file<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="è·å–ç³»ç»Ÿè¿è¡Œæ—¶é—´"><a href="#è·å–ç³»ç»Ÿè¿è¡Œæ—¶é—´" class="headerlink" title="è·å–ç³»ç»Ÿè¿è¡Œæ—¶é—´"></a>è·å–ç³»ç»Ÿè¿è¡Œæ—¶é—´</h3><h4 id="è¯»å–æ–‡ä»¶-3"><a href="#è¯»å–æ–‡ä»¶-3" class="headerlink" title="è¯»å–æ–‡ä»¶"></a>è¯»å–æ–‡ä»¶</h4><p>æƒ³åœ¨é¢„è§ˆé‡Œé¢æ˜¾ç¤ºç³»ç»Ÿå¼€æœºåˆ°ç°åœ¨çš„è¿è¡Œæ—¶é—´ã€‚è¯»å–æ–‡ä»¶ä¸º <code>/proc/uptime</code> ï¼Œ</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20201202140839.png" width="40%"/ loading="lazy"> <p>æ–‡ä»¶ä¸€å…±çš„ä¸¤åˆ—è¡¨å«ä¹‰ä¸ºï¼š</p><ol><li>ç³»ç»Ÿå¯åŠ¨åˆ°ç°åœ¨çš„æ—¶é—´ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰</li><li>ç³»ç»Ÿç©ºé—²çš„æ—¶é—´ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰</li></ol><h4 id="æ€è·¯-4"><a href="#æ€è·¯-4" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><p>å°†ç¬¬ä¸€ä¸ªå‚æ•°è·å–è·å–ï¼Œç„¶åå°†è¿™ä¸ªæ•°å€¼è½¬æ¢ä¸º  <strong>â€œ x å¤©ï¼Œ hh:MM:ssâ€</strong>  çš„æ ¼å¼ï¼Œè¿™æ˜¯æˆ‘æƒ³æ˜¾ç¤ºçš„æ ¼å¼ã€‚</p><h4 id="ä»£ç -3"><a href="#ä»£ç -3" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><p>è·å–ç³»ç»Ÿå¼€å§‹åˆ°ç°åœ¨çš„è¿è¡Œæ—¶é—´ï¼Œå•ä½ä¸º ç§’ï¼›</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token class-name">SpeedInfo</span><span class="token double-colon punctuation">::</span><span class="token function">uptime</span><span class="token punctuation">(</span><span class="token keyword">double</span> <span class="token operator">&amp;</span>run<span class="token punctuation">,</span> <span class="token keyword">double</span> <span class="token operator">&amp;</span>idle<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    run <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    idle <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    QFile <span class="token function">file</span><span class="token punctuation">(</span>PROC_PATH_UPTIME<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>QIODevice<span class="token double-colon punctuation">::</span>ReadOnly <span class="token operator">|</span> QIODevice<span class="token double-colon punctuation">::</span>Text<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">"\"/proc/uptime\" don't open!"</span><span class="token punctuation">;</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    QTextStream <span class="token function">stream</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>    QString line <span class="token operator">=</span> stream<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QStringList list <span class="token operator">=</span> line<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token function">QRegExp</span><span class="token punctuation">(</span><span class="token string">"\\s&#123;1,&#125;"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>list<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        run <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        idle <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    file<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™é‡Œæœ¬ä»¥ä¸ºä¸ªå¾ˆå®¹æ˜“æœ‰ç°æˆçš„ <code>QDateTime</code> ä¹‹ç±»çš„ï¼Œç›´æ¥å°† ç§’ è½¬æ¢ä¸ºæƒ³è¦çš„æ—¶é—´æ ¼å¼ï¼Œè¯•äº†ä¸€åœˆï¼Œå‘ç°æ²¡æœ‰ï¼Œæœ‰ä¸€ä¸ªå¾ˆæ¥è¿‘ï¼Œä½†æ˜¯ä»¥ 1970 é›¶æ—¶ä¸ºå¼€å§‹çš„ï¼Œä¹Ÿä¸ç¬¦åˆé¢„æœŸã€‚å¨œå¨œçš„æ— å¥ˆï¼Œè¿˜æ˜¯è‡ªå·±åŠ¨æ‰‹å†™å§ï½</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">QString <span class="token class-name">SpeedInfo</span><span class="token double-colon punctuation">::</span><span class="token function">autoTimeUnits</span><span class="token punctuation">(</span><span class="token keyword">double</span> s<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> time <span class="token operator">=</span> <span class="token function">qFloor</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> ss <span class="token operator">=</span> time <span class="token operator">%</span> <span class="token number">60</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> MM <span class="token operator">=</span> <span class="token punctuation">(</span>time <span class="token operator">%</span> <span class="token number">3600</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> hh <span class="token operator">=</span> <span class="token punctuation">(</span>time <span class="token operator">%</span> <span class="token number">86400</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">3600</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> dd <span class="token operator">=</span> time <span class="token operator">/</span> <span class="token number">86400</span><span class="token punctuation">;</span>    QString runTime <span class="token operator">=</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"ç³»ç»Ÿå·²è¿è¡Œ: %1å¤©, %2:%3:%4"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>dd<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token char">'f'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">QLatin1Char</span><span class="token punctuation">(</span><span class="token char">' '</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>hh<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token char">'f'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">QLatin1Char</span><span class="token punctuation">(</span><span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>MM<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token char">'f'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">QLatin1Char</span><span class="token punctuation">(</span><span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>ss<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token char">'f'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">QLatin1Char</span><span class="token punctuation">(</span><span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> runTime<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="ä»»åŠ¡æ -1-2-2-çš„ç¼ºé™·"><a href="#ä»»åŠ¡æ -1-2-2-çš„ç¼ºé™·" class="headerlink" title="ä»»åŠ¡æ  1.2.2 çš„ç¼ºé™·"></a>ä»»åŠ¡æ  <code>1.2.2</code> çš„ç¼ºé™·</h2><p>å¼€å‘è¿‡ç¨‹ä¸­ï¼Œåˆé‡åˆ°ä¸€äº›å¦‚ä¸‹ dde-dock çš„ä¸€äº› bugï¼š</p><ol><li><p><strong>æ’ä»¶çœŸå®å¤§å°åªæœ‰ å›¾æ ‡èŒƒå›´</strong></p><p>è¿™é‡ŒæŒ‡çš„æ˜¯ï¼Œæ— è®ºæ’ä»¶åœ¨ dock å¸ƒå±€ä¸Šï¼Œæ˜¾ç¤ºæœ‰å¤šå¤§ï¼Œä½†å®é™…å¤§å°éƒ½åªæœ‰å¦‚ä¸‹ä¸­é—´çš„ä¸€ä¸ªå›¾æ ‡å¤§å°ï¼Œå³é”®éçº¢è‰²åŒºåŸŸæ²¡æœ‰å“åº”ï¼›</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20201204195032.png" width="30%"/ loading="lazy"></li><li><p><strong>å«é <code>datetime</code> çš„æ’ä»¶æ˜¾ç¤ºéƒ½ä¼šè¢«å‹ç¼©</strong></p><p>å¦‚æœè¿”å›çš„æ’ä»¶åç§°ä¸ºé <code>datetime</code>ï¼Œ ä¸”ä»»åŠ¡æ é«˜åº¦è¿‡ä½çš„æ—¶å€™ï¼Œä¼šå‡ºç°å†…å®¹ä¸Šä¸‹è¢«é®ç›–ï¼Œæ˜¾ç¤ºä¸å…¨ã€‚åŸå› åˆ†æå‚è§ <a href="https://github.com/linuxdeepin/dde-dock/issues/321">#321</a> ï¼ˆåŸºäº <code>1.2.2</code>ï¼‰ï¼›å¦å¤–åœ¨ <a href="https://github.com/linuxdeepin/dde-dock/commit/9188fff15bdac20edbd14290bb1e44c1bcef28b5">9188fff1</a> å·²ç»ä¿®å¤ï¼ˆåŸºäº <code>1.2.3</code> ï¼‰ã€‚è¡¥ä¸æš‚åªæäº¤åˆ° uos åˆ†æ”¯ï¼Œå½“å‰å¼€å‘åˆ†æ”¯æš‚æ—¶æœªå‡çº§ã€‚</p></li><li><p><strong>ä¿®æ”¹å¸ƒå±€ä¸ä¼šè‡ªåŠ¨åˆ·æ–°</strong></p><p>å½“æˆ‘è°ƒæ•´çš„æ’ä»¶å¸ƒå±€æ—¶å€™ï¼Œå¥½åƒä¸ä¼š<strong>ç«‹åˆ»</strong> é€šçŸ¥åˆ° dock é‡æ–°å¸ƒå±€ï¼Œä¹Ÿæ²¡æœ‰ä¿¡å·é‡æ–°é€šçŸ¥ä»»åŠ¡æ ã€‚ä¹Ÿæœ‰å¯èƒ½å®¤å‹ï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰æ‰¾åˆ°ï¼Ÿï¼Ÿï¼Ÿæˆ–å¦‚æœæœ‰æ›´å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥åˆ†äº«ä¸€æ³¢ï¼Ÿï¼Ÿï¼Ÿä¸´æ—¶çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼Œâ‘ å°†å¸ƒå±€å¤§å°å†™æ­» â‘¡æ‰‹åŠ¨åˆ·æ–°ï¼ˆå¸è½½æ­¤æ’ä»¶åç«‹åˆ»é‡æ–°åŠ è½½æ­¤æ’ä»¶ï¼‰ã€‚</p></li></ol><br><h2 id="æ›´æ–°-2020-12-28"><a href="#æ›´æ–°-2020-12-28" class="headerlink" title="æ›´æ–° 2020-12-28"></a>æ›´æ–° 2020-12-28</h2><p><a href="https://github.com/xmuli/lfxSpeed">æ­¤é¡¹ç›® </a>ä¸å†ç»´æŠ¤ï¼›ä½†åŸºäºå…¶æ€è·¯å’Œæ–°çš„å®ç°ç›®æ ‡ï¼Œæºç å°†ä¼šé‡æ–°è®¾è®¡å®ç°ï¼Œä¸€ä¸ªåŠŸèƒ½æ›´åŠ å¼ºå¤§çš„ç½‘é€Ÿæ’ä»¶ï¼Œä¹Ÿä¼šæä¾›å¯¹åº”çš„åº“ä¾¿äºå…¶å®ƒå¼€å‘è€…äºŒæ¬¡å¼€å‘ï¼Œæ–°çš„é¡¹ç›®åœ¨ <a href="https://github.com/xmuli/NetSpeed">NetSpeed</a>  ï¼ŒèŠœæ¹–ï½ </p><h2 id="ä¸‹è½½åœ°å€ï¼š"><a href="#ä¸‹è½½åœ°å€ï¼š" class="headerlink" title="ä¸‹è½½åœ°å€ï¼š"></a>ä¸‹è½½åœ°å€ï¼š</h2><ul><li>GitHub: <a href="https://github.com/xmuli/lfxspeed">lfxspeed</a> </li><li>Deepin Store æ·±åº¦å•†åº—  |  Spark Store æ˜Ÿç«å•†åº—</li></ul><br><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ:"></a>å‚è€ƒ:</h2><ul><li><a href="https://github.com/linuxdeepin/dde-dock/blob/master/plugins/plugin-guide/plugins-developer-guide.md">plugins-developer-guide</a></li><li><a href="https://www.jianshu.com/p/deb0ed35c1c2">æ·±åº¦ç³»ç»Ÿç›‘è§†å™¨åŸç†å‰–æ</a> </li><li><a href="http://gityuan.com/2017/08/12/proc_stat/">&#x2F;proc&#x2F;statè§£æ</a></li><li><a href="http://smilejay.com/2012/05/proc_uptime/">&#x2F;PROC&#x2F;UPTIMEè¯¦è§£</a></li><li><a href="https://www.cnblogs.com/liushui-sky/p/9236007.html">Linuxå¹³å°Cpuä½¿ç”¨ç‡çš„è®¡ç®—</a></li><li><a href="https://github.com/sonichy/CMDU_DDE_DOCK">CMDU_DDE_DOCK</a></li><li><a href="https://github.com/v-svg/dde-dock-netspeed">dde-dock-netspeed</a></li><li><a href="https://github.com/zhongyang219/TrafficMonitor">TrafficMonitor</a></li><li><a href="https://stackoverflow.com/questions/3521678/what-are-meanings-of-fields-in-proc-net-dev">What are meanings of fields in &#x2F;proc&#x2F;net&#x2F;dev?</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
          <category> ä¸“æ  - é¡¹ç›®å®æˆ˜å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Deepin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux or Mac å®‰è£… gitbook 3.2.3 å¤±è´¥è§£å†³æ–¹æ¡ˆ</title>
      <link href="/posts/d7327716/"/>
      <url>/posts/d7327716/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€æ¬²ç”¨ <code>gitbook</code> æ¥å¼€å¯äººç”Ÿç¬¬ä¸€æœ¬ä¹¦ï¼Œç»“æœå®‰è£…ã€ä½¿ç”¨æ—¶å€™å¡ä½äº†ã€‚ã€‚ã€‚è¿™é‡Œè®°å½•ä¸€ä¸‹ï¼›æ²¡æƒ³æ–°çš„ç‰ˆæœ¬é‡Œé¢æœ‰å‘ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h2><p>åœ¨ <code>Linux</code> å’Œ <code>Mac</code> ç‰ˆæœ¬ä¸Šï¼Œç”¨  <code>GitBook 3.2.3</code> ç‰ˆæœ¬ï¼Œ åªèƒ½å¯¹åº”ä½¿ç”¨ <code>Node = v10.23.0</code>  LTS ç‰ˆæœ¬ï¼›ä½¿ç”¨ v12 ã€V14 ç‰ˆæœ¬ä¼šå¤±è´¥ã€‚ æˆ‘åœ¨ <code>UOS20</code> å’Œ <code>Mac 10.14.6</code> ä¸Šé¢éƒ½é€ä¸€å°è¯•è¿‡äº†ã€‚</p><br><h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>ä¾æ¬¡æŒ‰ç…§å¦‚ä¸‹é¡ºåºå®‰è£…ï¼š</p><ol><li>nvm ï¼šç”¨æ¥å®‰è£…ã€ç®¡ç†åˆ‡æ¢ nodejs çš„ç‰ˆæœ¬</li><li>nodejsï¼šè¿è¡Œæ‰€éœ€è¦çš„ç¯å¢ƒ</li><li>npm: ç”¨æ¥å®‰è£… gitbook-cliï¼ˆè‡ªåŠ¨å®‰è£…æœ€ä½³ gitbook ç‰ˆæœ¬ï¼‰</li><li>cnpm: æ¢æºï¼Œä½¿ç”¨ cnpm æ›¿ä»£ npmã€‚</li><li>ä½¿ç”¨ gitbook å‘½ä»¤ï¼Œé¢„è§ˆå’Œå‘å¸ƒåˆ° gitbook.com &#x2F; github page</li></ol><p>åœ¨ Linux å’Œ Mac ä¸Šåšäº†å¦‚ä¸‹å°è¯•çš„ã€‚</p><br><h2 id="Linux-å®‰è£…-gitbook"><a href="#Linux-å®‰è£…-gitbook" class="headerlink" title="Linux å®‰è£… gitbook"></a>Linux å®‰è£… gitbook</h2><h3 id="Node-v14-15-1"><a href="#Node-v14-15-1" class="headerlink" title="Node  v14.15.1"></a>Node  v14.15.1</h3><p>æ‰§è¡Œ <code>gitbook init</code> ä¼šæŠ¥é”™å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">â˜  book  gitbook initInstalling GitBook <span class="token number">3.2</span>.3/home/xmuli/.config/nvm/versions/node/v14.15.1/lib/node_modules/gitbook-cli/node_modules/_npm@5.1.0@npm/node_modules/graceful-fs/polyfills.js:287      <span class="token keyword">if</span> <span class="token punctuation">(</span>cb<span class="token punctuation">)</span> cb.apply<span class="token punctuation">(</span>this, arguments<span class="token punctuation">)</span>                 ^TypeError: cb.apply is not a <span class="token keyword">function</span>    at /home/xmuli/.config/nvm/versions/node/v14.15.1/lib/node_modules/gitbook-cli/node_modules/_npm@5.1.0@npm/node_modules/graceful-fs/polyfills.js:287:18    at FSReqCallback.oncomplete <span class="token punctuation">(</span>fs.js:184:5<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="Node-x3D-v12-20-0"><a href="#Node-x3D-v12-20-0" class="headerlink" title="Node &#x3D; v12.20.0"></a>Node &#x3D; v12.20.0</h3><p>æ‰§è¡Œ <code>gitbook init</code> æˆ–è€… <code>gitbook serve</code> ä¸­ä¸€æ­¥ä¼šæŠ¥é”™å¦‚åŒ <code>Node v14.15.1</code> ã€‚</p><br><h3 id="Node-x3D-v10-23"><a href="#Node-x3D-v10-23" class="headerlink" title="Node &#x3D; v10.23"></a>Node &#x3D; v10.23</h3><p>æ‰§è¡Œ <code>gitbook init</code> æˆåŠŸï¼Œæ‰§è¡Œ <code>gitbook serve</code> æˆåŠŸï¼Œå¯ä»¥ä½¿ç”¨ï¼›</p><p>è™½ç„¶ä¼šå¡å¾ˆä¹…ï¼ˆæ­¤æ—¶å·²ç»æ›¿æ¢äº† npmä¸ºæ·˜å®æºï¼Œé‡‡ç”¨çš„ cnpm å®‰è£… gitbookï¼‰ï¼Œä½†æ˜¯æœ€åä¼šæˆåŠŸã€‚</p><br><h2 id="Mac-å®‰è£…-gitbook-å°è¯•-node-ç‰ˆæœ¬"><a href="#Mac-å®‰è£…-gitbook-å°è¯•-node-ç‰ˆæœ¬" class="headerlink" title="Mac å®‰è£… gitbook (å°è¯• node ç‰ˆæœ¬)"></a>Mac å®‰è£… gitbook (å°è¯• node ç‰ˆæœ¬)</h2><p>å¦‚ä¸‹éƒ½æ˜¯å®‰è£… <code>gitbook 3.2.3</code> ç‰ˆæœ¬å°è¯•æ‰§è¡Œ   <code>gitbook init</code>  æˆ– <code>git serve</code> çœ‹æ˜¯å¦ä¼šæŠ¥é”™ï¼›</p><h3 id="Node-v14-15-1-1"><a href="#Node-v14-15-1-1" class="headerlink" title="Node v14.15.1"></a>Node v14.15.1</h3><p>æ‰§è¡Œ <code>gitbook init</code> ä¼šæŠ¥é”™å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">TypeError <span class="token punctuation">[</span>ERR_INVALID_ARG_TYPE<span class="token punctuation">]</span>: The <span class="token string">"data"</span> argument must be of <span class="token builtin class-name">type</span> string or an instance of Buffer, TypedArray, or DataView. Received an instance of Promise<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br><h3 id="Node-v12-20-0"><a href="#Node-v12-20-0" class="headerlink" title="Node v12.20.0"></a>Node v12.20.0</h3><p>æ‰§è¡Œ <code>gitbook init</code> æˆåŠŸï¼Œæ‰§è¡Œ <code>gitbook serve</code> ä¼šæŠ¥é”™å¦‚ä¸‹ï¼›</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Live reload server started on port: <span class="token number">35729</span>Press CTRL+C to quit <span class="token punctuation">..</span>./Users/xmuli/.nvm/versions/node/v12.20.0/lib/node_modules/gitbook-cli/node_modules/_npm@5.1.0@npm/node_modules/graceful-fs/polyfills.js:287      <span class="token keyword">if</span> <span class="token punctuation">(</span>cb<span class="token punctuation">)</span> cb.apply<span class="token punctuation">(</span>this, arguments<span class="token punctuation">)</span>                 ^TypeError: cb.apply is not a <span class="token keyword">function</span>    at /Users/xmuli/.nvm/versions/node/v12.20.0/lib/node_modules/gitbook-cli/node_modules/_npm@5.1.0@npm/node_modules/graceful-fs/polyfills.js:287:18    at FSReqCallback.oncomplete <span class="token punctuation">(</span>fs.js:169:5<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="Node-v10-23-0"><a href="#Node-v10-23-0" class="headerlink" title="Node v10.23.0"></a>Node v10.23.0</h3><p>æ‰§è¡Œ <code>gitbook init</code> æˆåŠŸï¼Œæ‰§è¡Œ <code>gitbook serve</code> æˆåŠŸï¼Œå¯ä»¥ä½¿ç”¨ï¼›</p><br><h2 id="å…¶å®ƒ"><a href="#å…¶å®ƒ" class="headerlink" title="å…¶å®ƒ"></a>å…¶å®ƒ</h2><h3 id="Gitbook-serve-æŠ¥é”™"><a href="#Gitbook-serve-æŠ¥é”™" class="headerlink" title="Gitbook serve æŠ¥é”™"></a>Gitbook serve æŠ¥é”™</h3><p>åæ¥åœ¨ Linux ä¸­ ä½¿ç”¨ <code>gitbook 3.2.3</code>  + <code>nodejs=v10.23.0</code> æˆåŠŸï¼›å½“æ‰§è¡Œ <code>gitbook serve</code> æ—¶å€™ï¼ŒæŠ¥é”™å¦‚ä¸‹ï¼ˆä½†æ˜¯åœ¨ Mac ä¸­å´æ²¡æœ‰æ­¤é—®é¢˜ï¼‰ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Error: ENOENT: no such <span class="token function">file</span> or directory, <span class="token function">stat</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><p>è¿™æ˜¯ <code>gitbook 3.2.3</code> çš„ä¸€ä¸ª bugï¼›æ‰¾åˆ° <code>~\.gitbook\versions\3.2.3\lib\output\website\copyPluginAssets.js</code> è·¯å¾„ï¼Œ</p><p>å°†æ‰€æœ‰çš„ <code>confirm :true</code> éƒ½æ›¿æ¢ä¸º <code>confirm :false</code>ï¼›æˆåŠŸ</p><br><h3 id="å°è¯•é™ä½-x2F-å‡çº§-gitbook"><a href="#å°è¯•é™ä½-x2F-å‡çº§-gitbook" class="headerlink" title="å°è¯•é™ä½&#x2F;å‡çº§ gitbook"></a>å°è¯•é™ä½&#x2F;å‡çº§ gitbook</h3><p>æƒ³ç€åšæŒä½¿ç”¨ <code>Node v14.15.1</code> ç‰ˆæœ¬ï¼› æ›´æ”¹ä¸ºå°è¯• ä½¿ç”¨ä½ç‰ˆæœ¬çš„ gitbookï¼Œä¹Ÿè¯•äº†é«˜ç‰ˆæœ¬çš„ é¢„è§ˆç‰ˆæœ¬ï¼Œä½†æ˜¯æ‰§è¡Œ <code>gitbook fetch x.x.x</code> æ—¶å€™ä¼šå¤±è´¥ã€‚æ­¤æ–¹å¼æ”¾å¼ƒã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¹±ç åŸå› äº§ç”Ÿå’Œè§£å†³æ–¹æ¡ˆ</title>
      <link href="/posts/aaa00ace/"/>
      <url>/posts/aaa00ace/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€<strong>â€œä¹±ç â€</strong> ï¼Œ åº”è¯¥æ˜¯å¾ˆå¤šäººéƒ½é‡åˆ°è¿‡çš„é—®é¢˜ã€‚ä»¥å‰æ€»æ˜¯ç½‘ä¸Šç®€å•æœä¸€ä¸‹ã€ç„¶åè®¾ç½®ä¸€ä¸‹ï¼Œç„¶åé‡å¯ç”Ÿæ•ˆï¼Œå°±æ²¡æœ‰å»ç®¡äº†ã€‚ å¯¹å…¶ä¹±ç åŸç†æœ‰ä¸€äº›æ¨¡ç³Šï¼Œä½†æ˜¯å®åˆ™æ˜¯ä¸çŸ¥é“ï¼Œå› ä¸ºæˆ‘ç»™å…¶ ta äººè§£é‡Šæ¸…æ¥šã€‚ç›´åˆ°è¿™æ¬¡å†æ¬¡é‡åˆ°äº†ä¹±ç çš„é—®é¢˜ï¼Œå†ä¸€éçš„æŸ¥é˜…èµ„æ–™ä¹‹åï¼Œï¼Œï¼Œåé¢ç›´æ¥è§£å†³äº†ã€‚ å¼„æ¸…æ¥šåŸç†ä¹‹åï¼Œå°±æ„Ÿè§‰å¾ˆå¤šå†™åšå®¢éƒ½å¾ˆç´¯èµ˜ï¼Œä½†æ˜¯åˆæ²¡æœ‰å†™æ¸…æ¥šã€‚é‚è‡ªå·±åŠ¨æ‰‹æ¥ä¸€ç¯‡ï¼Œå¸Œæœ›å¯ä»¥è¾¾åˆ°è¨€ç®€æ„èµ…ã€‚</p><blockquote><p>ä»¥ååšå®¢ä¼šå†™çš„å°½é‡ç²¾ç®€ï¼Œï¼Œï¼Œ</p></blockquote><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="æ•…äº‹èƒŒæ™¯ï¼š"><a href="#æ•…äº‹èƒŒæ™¯ï¼š" class="headerlink" title="æ•…äº‹èƒŒæ™¯ï¼š"></a>æ•…äº‹èƒŒæ™¯ï¼š</h2><p>å°†æ‰€æœ‰çš„è½¯ä»¶å’Œèµ„æ–™ï¼Œå…¨éƒ¨ä» Mac è¿ç§»åˆ° Win çš„æ—¶å€™ï¼Œå‘ç°äº† <code>git bash</code> å‡ºç°äº†ä¹±ç ï¼ŒæŒ‰ç…§ç½‘ä¸Šåªæœ‰è§£å†³æ–¹æ¡ˆã€ä½†æ˜¯æ²¡æœ‰åŸç†è§£é‡Šçš„åšæ–‡ä¸€é€šä¹±è¯•ï¼Œæ— æœã€‚äºæ˜¯å†³å®šè‡ªå·±è‡ªå·±å¼„æ¸…æ¥šåŸç†ï¼Œç„¶åè‡ªå·±æˆåŠŸçš„è§£å†³äº†ï¼š <a href="https://xmuli.blog.csdn.net/article/details/109567337">Git Bash åœ¨win10 æ˜¾ç¤ºä¸­æ–‡ä¸ºæ•°å­—çš„è§£å†³æ–¹æ¡ˆ</a></p><br><h2 id="ä¹±ç åŸå› ï¼š"><a href="#ä¹±ç åŸå› ï¼š" class="headerlink" title="ä¹±ç åŸå› ï¼š"></a>ä¹±ç åŸå› ï¼š</h2><h3 id="ç”¨ä¸€ä¸ªå°ä¾‹å­å¼€å¤´ï¼š"><a href="#ç”¨ä¸€ä¸ªå°ä¾‹å­å¼€å¤´ï¼š" class="headerlink" title="ç”¨ä¸€ä¸ªå°ä¾‹å­å¼€å¤´ï¼š"></a>ç”¨ä¸€ä¸ªå°ä¾‹å­å¼€å¤´ï¼š</h3><p>ä¹±ç äº§ç”Ÿçš„åŸå› ï¼Œç”¨ä¸€ä¸ªå…·ä½“çš„ä¾‹å­è§£é‡Šä¸‹ï¼š å†æ–‡æœ¬ç¼–è¾‘å™¨ä¸­ï¼Œéšæ‰‹å†™ä¸‹ä¸€æ®µè¯ï¼Œç„¶åæŒ‰ç…§æ¯ 4 ä¸ªå­—èŠ‚å¤§å°ä¿å­˜ä¸€ä¸ªå­—ç¬¦ï¼Œå°†å…¶ç¿»è¯‘ä¸º 4 * 8 ä½ ä¸ª 0 &#x2F; 1 äºŒè¿›åˆ¶ï¼Œä¿å­˜åˆ°å†…å­˜é‡Œé¢ï¼Œå½“æŒ‰ä¸‹â€œä¿å­˜â€çš„æ˜¯æ—¶å€™ï¼Œè¿™ä¸€ä¸²äºŒè¿›åˆ¶å°±å­˜åœ¨äº†ç¡¬ç›˜é‡Œé¢ï¼› ä½†åœ¨å¦å¤–ä¸€ä¸ªç”µè„‘ä¸­æ‰“å¼€è¿™ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œ ç„¶åå°†è¿™ä¸€ä¸²äºŒè¿›åˆ¶ä»ç¡¬ç›˜è¯»å–ã€åŠ è½½åˆ°å†…å­˜ï¼Œç„¶åæŒ‰ç…§æ¯ 3 å­—èŠ‚çš„é¡ºåºï¼Œå°†å…¶ç¿»è¯‘ä¸ºå¯¹åº”çš„å­—ç¬¦ï¼Œæœ€åå‘ç°å‡ºç°å…¨æ–‡éƒ½æ˜¯ä¹±ç ã€‚</p><p>è¿™ä¸ªä¾‹å­ï¼Œæ„Ÿè§‰å¯ä»¥æ¯”è¾ƒçš„ç†è§£ä¹±ç åŸå› ï¼ˆè™½ç„¶ä¸å…¨é¢ã€ä¸æ­£ç¡®ã€ä½†æ˜¯å´å¯ä»¥ä»¥ç‚¹ç ´é¢ï¼Œä¾¿äºç†è§£ä¹±ç çš„åŸå› ï¼‰ã€‚</p><br><h3 id="ä¹±ç å†å²åŸå› ï¼š"><a href="#ä¹±ç å†å²åŸå› ï¼š" class="headerlink" title="ä¹±ç å†å²åŸå› ï¼š"></a>ä¹±ç å†å²åŸå› ï¼š</h3><blockquote><p>Linuxï¼š ä¸€äº›çš†æ–‡ä»¶</p></blockquote><p>è¿™å¥è¯ï¼Œå¯¹äºæ•´ä¸ªè®¡ç®—æœºæ¥è¯´ï¼Œéƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ‰€æœ‰çš„æ–‡ä»¶ç±»å‹ï¼ˆæ–‡æœ¬ä¿¡æ¯ã€ç…§ç‰‡ã€éŸ³ä¹ã€è§†é¢‘ç­‰ï¼‰éƒ½åªæ˜¯ 0&#x2F;1 çš„äºŒè¿›åˆ¶æ®µã€‚è€Œå°†è¿™ä¸€æ®µçº¯ 01010101â€¦. çš„äºŒè¿›åˆ¶ç¿»è¯‘ä¸ºäººå¯ä»¥çœ‹å¾—æ‡‚çš„å­—ç¬¦ä¸²ä¿¡æ¯ï¼Œå°±å«è§£ç ï¼›å°†äººèƒ½çœ‹å¾—æ‡‚çš„å­—ç¬¦ä¸²ä¿å­˜ä¸ºçº¯äºŒè¿›åˆ¶ï¼ŒæŒ‰ç…§æŸç§å…³ç³»ï¼Œè¿™å°±æ˜¯ç¼–ç åä¿å­˜ã€‚</p><br><p>è®¡ç®—æœºæœ€å¼€å§‹åªæœ‰å°‘æ•°çš„å­—æ¯å’Œç¬¦å·ï¼Œå°†å…¶æŒ‰ç…§ä¸€å¼ è¡¨æ ¼ï¼Œå°†æ¯ä¸€ä¸ªå­—æ¯æˆ–è€…ç¬¦å·æ‰¾åˆ°ä¸€ä¸ªå¯¹åº”çš„æ•°å­—ï¼Œç„¶åä»¥äºŒè¿›åˆ¶æ®µçš„å½¢å¼ä¿å­˜ï¼ˆè¿™ä¸ªäºŒè¿›åˆ¶æ®µçš„é•¿åº¦æš‚å®šäº ä¸€ä¸ªå­—èŠ‚é•¿åº¦ï¼Œæ°å¥½ 128 ä¸ªï¼‰ï¼Œè¿™ä¸ªæ˜ å°„å…³ç³»è¢«ç§°ä¸º <code>ASCII ç¼–ç </code>ã€‚åæ¥éšç€å…¶ä»–å„å›½çš„æœ¬åœ°è¯­è¨€åŠ å…¥ï¼Œå°±æ‰©å±•è¿™ä¸ªæ˜ å°„è¡¨ï¼Œå‰é¢çš„128 ä¸ª â€œå­—æ¯æˆ–ç¬¦å·â€ï¼Œè¿˜æ˜¯æŒ‰ç…§ä¸€ä¸ªå­—èŠ‚çš„é•¿åº¦ï¼Œè¿˜æ˜¯è¿™ä¸ªé¡ºåºã€‚ç„¶åä» 129 å¼€å§‹ï¼Œå°±æŒ‰ç…§æœ¬å›½çš„è¯­è¨€ï¼Œåˆ›å»ºâ€œæŸæ±‰å­—â€å¯¹åº”â€œæŸæ•°å­—â€ï¼Œç„¶åâ€œæŸæ•°å­—â€ä¿å­˜åˆ° x å­—èŠ‚ä¸­ï¼›å…¶ä»–å›½å®¶ä¹Ÿæ˜¯è¿™æ ·ï¼Œä¸è¿‡æ˜¯å°† â€œæŸæ±‰å­—â€ æ›¿æ¢ä¸ºâ€œæŸæ‹‰ä¸æ–‡â€ã€â€œæŸè¥¿æ¬§æ–‡â€ç­‰ã€‚ç„¶åè¿™ä¸ª x å­—èŠ‚ï¼Œéšç€æ—¶é—´çš„å¤šæ¬¡æ”¹ç‰ˆï¼Œä¹Ÿç”±2 â€“&gt; 3 â€“&gt; 4 â€“&gt; 2~~4 ä¸ªå­—èŠ‚é•¿åº¦ã€‚</p><blockquote><p>ä¸­å›½å¤§é™†å¸¸ç”¨ç¼–ç ï¼šç®€ä½“ä¸­æ–‡ï¼Œ <code>GBK</code></p><p>å°æ¹¾å¸¸ç”¨ï¼šç¹ä½“ä¸­æ–‡ï¼Œ  <code>BIG5</code>  ï¼ˆæ˜¯æŒ‡ä»£å½“æ—¶å°æ¹¾äº”ä¸ªè‘—åçš„ä¸­æ–‡å‚å•†çš„åç§°ï¼šå¤§åƒã€å€šå¤©ã€åœ‹å–¬ã€é›¶å£¹ã€ç²¾æ¥­ï¼‰</p></blockquote><br><p>è¿™ä¸ªé—®é¢˜åªæ˜¯è§£å†³äº†æœ¬å›½è¯­è¨€å’Œè‹±æ–‡ã€‚å½“æ—¶é¢å¯¹å¦å¤–ä¸€ä¸ªåœºæ™¯ï¼Œå°±å‚»çœ¼äº†ï¼šä¸€ç¯‡æ–‡çŒ®ä¸­ï¼ŒåŒæ—¶è¦å¼•ç”¨ä¸­æ–‡ã€è¥¿æ¬§æ–‡ã€æ‹‰ä¸æ–‡ã€å°è¯­ç§çš„æ–‡å­—å‘¢ï¼Ÿï¼Ÿï¼Ÿ äºæ˜¯åœ¨ 20 ä¸–çºª  80 å¹´ä»£æœ«ï¼Œå¤§å®¶ååœ¨ä¸€èµ·ï¼Œå†³å®šè®¨è®ºä¸‹è¿™ä¸ªäº‹æƒ…ï¼Œäºæ˜¯ Unicode ç»Ÿä¸€ç è”ç›Ÿæˆç«‹ã€‚ äº 1991.10 å‘å¸ƒäº† Unicode 1.0, åˆ°äº† 2012.1.31ï¼Œå‘å¸ƒåˆ°äº† Unicode  6.1ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼š</p><ul><li><p>Unicode æ˜¯ã€Œå­—ç¬¦é›†ã€ï¼Œå­—ç¬¦é›†ï¼šä¸ºæ¯ä¸€ä¸ªã€Œå­—ç¬¦ã€åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„ IDï¼ˆå­¦åä¸ºç ä½ &#x2F; ç ç‚¹ &#x2F; Code Pointï¼‰ï¼›</p></li><li><p>UTF-8 æ˜¯ã€Œç¼–ç è§„åˆ™ã€, ç¼–ç è§„åˆ™ï¼šå°†ã€Œç ä½ã€è½¬æ¢ä¸ºå­—èŠ‚åºåˆ—çš„è§„åˆ™ï¼ˆç¼–ç &#x2F;è§£ç  å¯ä»¥ç†è§£ä¸º åŠ å¯†&#x2F;è§£å¯† çš„è¿‡ç¨‹ï¼‰ï¼›</p></li></ul><br><p>åœ¨ Unicode å°šæœªæˆç†Ÿçš„å¹´ä»£ï¼Œ Windowsæ˜¯ä½¿ç”¨å„ä¸ªå›½å®¶çš„å¤š å­—èŠ‚ç¼–ç ï¼Œæ¥æ”¯æŒæ¯ä¸ªå›½å®¶çš„è¯­è¨€çš„ã€‚ åœ¨ å·¨ç¡¬çš„ WinNT å‘å¸ƒä¹‹åï¼Œæ‰€æœ‰çš„ API æ”¹ç”¨äº† UTF-16 ç¼–ç æ–¹å¼ã€‚</p><br><blockquote><p>Unicode ç¼–ç å¼€å§‹åªæœ‰65536ä¸ªå­—ç¬¦ç©ºé—´ã€‚</p><p>UCS-2ï¼š æ’å®šç”¨ 2 å­—èŠ‚è¡¨ç¤ºæ‰€æœ‰å­—ç¬¦ã€‚</p><p>UCS-4ï¼ˆæˆ–UTF-32ï¼‰ï¼š æ’å®šç”¨ 4 å­—èŠ‚è¡¨ç¤ºæ‰€æœ‰å­—ç¬¦</p><p>UTF-16ï¼š  å½“Unicodeå­—ç¬¦è¶…è¿‡65536ä¹‹åï¼Œå‚è€ƒã€Œå¤šå­—èŠ‚ç¼–ç ã€ï¼Œé€šè¿‡åŒå­—èŠ‚æ‰©å±•å›› å­—èŠ‚çš„æ–¹å¼è¡¨ç¤ºæ‰€æœ‰å­—ç¬¦</p><p>UTF-8ï¼š  æ¯ä¸€ä¸ªå­—ç¬¦æŒ‰è§„åˆ™ç¼–ç  ä¸º1ï½4ä»»ä¸€å­—èŠ‚ç»„åˆã€‚ä¸­æ–‡é€šå¸¸ä¸º3å­—èŠ‚é•¿ã€‚ </p><p>UTF-8 + bomï¼š å’Œ UTF-8 çš„å»åŒºåˆ«å°±æ˜¯ï¼Œæ–‡ä»¶å¼€å¤´æœ‰ U+FEFFï¼›</p></blockquote><br><h2 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h2><p>æ„Ÿè§‰å°±æ˜¯ä¸€å¥è¯ï¼Œç”¨ä»€ä¹ˆ [ç¼–ç è§„åˆ™] ä¿å­˜ä¸ºä½•ç§å½¢å¼çš„äºŒè¿›åˆ¶æ®µï¼Œå°±ç”¨åŒæ ·çš„[ç¼–ç è§„åˆ™]æ¥è¯»å–ã€‚è‡ªç„¶å°±ä¸ä¼šå‡ºç°ä¹±ç äº†ã€‚</p><br><h2 id="å­—ç¬¦ä¿å­˜ç­‰ä»·å½¢å¼ï¼š"><a href="#å­—ç¬¦ä¿å­˜ç­‰ä»·å½¢å¼ï¼š" class="headerlink" title="å­—ç¬¦ä¿å­˜ç­‰ä»·å½¢å¼ï¼š"></a>å­—ç¬¦ä¿å­˜ç­‰ä»·å½¢å¼ï¼š</h2><p>å½“ç„¶ï¼Œè‡ªå·±ä¹Ÿå¯ä»¥æµ‹è¯•ä¸€ä¸‹</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// å› æ­¤ä»¥ä¸‹å‡ è¡Œç­‰ä»·ï¼ˆä»¥ UTF-8ç¼–ç ä¿å­˜ C++æºæ–‡ä»¶ï¼‰ï¼š</span><span class="token keyword">const</span> <span class="token keyword">char</span> s1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"æœ€å–œæ¬¢C++äº†ï¼"</span><span class="token punctuation">;</span> <span class="token keyword">const</span> <span class="token keyword">char</span> s2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"\xe6\x9c\x80\xe5\x96\x9c\xe6\xac\xa2\x43\x2b\x2b\xe4\xba\x86\xef\xbc\x81"</span><span class="token punctuation">;</span> <span class="token keyword">const</span> <span class="token keyword">char</span> s3<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">0xe6</span><span class="token punctuation">,</span> <span class="token number">0x9c</span><span class="token punctuation">,</span> <span class="token number">0x80</span><span class="token punctuation">,</span> <span class="token number">0xe5</span><span class="token punctuation">,</span> <span class="token number">0x96</span><span class="token punctuation">,</span> <span class="token number">0x9c</span><span class="token punctuation">,</span> <span class="token number">0xe6</span><span class="token punctuation">,</span> <span class="token number">0xac</span><span class="token punctuation">,</span> <span class="token number">0xa2</span><span class="token punctuation">,</span> <span class="token number">0x43</span><span class="token punctuation">,</span> <span class="token number">0x2b</span><span class="token punctuation">,</span> <span class="token number">0x2b</span><span class="token punctuation">,</span> <span class="token number">0xe4</span><span class="token punctuation">,</span> <span class="token number">0xba</span><span class="token punctuation">,</span> <span class="token number">0x86</span><span class="token punctuation">,</span> <span class="token number">0xef</span><span class="token punctuation">,</span> <span class="token number">0xbc</span><span class="token punctuation">,</span> <span class="token number">0x81</span><span class="token punctuation">,</span> <span class="token number">0x00</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><br><p><strong>å‚è€ƒï¼š</strong></p><ul><li><a href="https://xmuli.blog.csdn.net/article/details/109565311">ä½ï¼ˆbitï¼‰ã€å­—èŠ‚(Byte)ã€MB(å…†ä½)ä¹‹é—´çš„æ¢ç®—å…³ç³»</a></li><li><a href="https://www.cnblogs.com/flyingeagle/articles/9825302.html">UTF-8ä¸UTF-8 BOM</a></li><li><a href="https://www.youtube.com/watch?v=t9nKPJDITNw">ä¸­æ–‡ä¹±ç å½¢æˆçš„åŸå› </a></li><li>ã€Šä»æ­¤ä¹±ç æ˜¯è·¯äºº.pdf  å¹³èŠœæ³«  2012 å¹´ 09 æœˆã€‹ </li><li><a href="https://blog.csdn.net/qq_33154343/article/details/99617767">è¾“å‡ºä¹±ç åŸå› ï¼šå¤æ–‡ç ã€å£å­—ç ã€ç¬¦å·ç ã€é—®å·ç ã€æ£æ‹·ç </a></li><li><a href="https://www.zhihu.com/question/23374078">Unicode å’Œ UTF-8 æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></li></ul><br><h3 id="ç³»åˆ—åœ°å€ï¼š"><a href="#ç³»åˆ—åœ°å€ï¼š" class="headerlink" title="ç³»åˆ—åœ°å€ï¼š"></a>ç³»åˆ—åœ°å€ï¼š</h3><p><a href="https://github.com/xmuli/QtExamples">QtExamples</a></p><p>æ¬¢è¿ <code>star</code> å’Œ <code>fork</code> è¿™ä¸ªç³»åˆ—çš„ QT &#x2F; DTK å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - åº•å±‚å…¼æ¶æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä¹±ç  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½ï¼ˆbitï¼‰ã€å­—èŠ‚(Byte)ã€MB(å…†ä½)ä¹‹é—´çš„æ¢ç®—å…³ç³»</title>
      <link href="/posts/41b8f9c5/"/>
      <url>/posts/41b8f9c5/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€ä½ï¼ˆbitï¼‰ã€å­—èŠ‚(Byte)ã€MB(å…†ä½)ä¹‹é—´çš„æ¢ç®—å…³ç³»</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">Bæ˜¯Byteçš„ç¼©å†™ï¼ŒBå°±æ˜¯Byteï¼Œä¹Ÿå°±æ˜¯å­—èŠ‚ï¼ˆByteï¼‰ï¼›bæ˜¯bitçš„ç¼©å†™ï¼Œbå°±æ˜¯bitï¼Œä¹Ÿå°±æ˜¯æ¯”ç‰¹ä½ï¼ˆbitï¼‰ã€‚Bä¸bä¸åŒï¼Œæ³¨æ„åŒºåˆ†ï¼ŒKBæ˜¯åƒå­—èŠ‚ï¼ŒKbæ˜¯åƒæ¯”ç‰¹ä½ã€‚<span class="token number">1</span>MBï¼ˆå…†å­—èŠ‚ï¼‰ <span class="token operator">=</span> <span class="token number">1024</span>KBï¼ˆåƒå­—èŠ‚ï¼‰<span class="token operator">=</span> <span class="token number">1024</span><span class="token operator">*</span><span class="token number">1024</span>B<span class="token punctuation">(</span>å­—èŠ‚<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1048576</span>B<span class="token punctuation">(</span>å­—èŠ‚<span class="token punctuation">)</span>ï¼›<span class="token number">8</span>bitï¼ˆæ¯”ç‰¹ä½ï¼‰<span class="token operator">=</span> <span class="token number">1</span>Byteï¼ˆå­—èŠ‚ï¼‰ï¼›<span class="token number">1024</span>Byteï¼ˆå­—èŠ‚ï¼‰<span class="token operator">=</span> <span class="token number">1</span>KB<span class="token punctuation">(</span>åƒå­—èŠ‚<span class="token punctuation">)</span>ï¼›<span class="token number">1024</span>KBï¼ˆåƒå­—èŠ‚ï¼‰<span class="token operator">=</span> <span class="token number">1</span>MBï¼ˆå…†å­—èŠ‚ï¼‰<span class="token punctuation">;</span><span class="token number">1024</span>MB <span class="token operator">=</span> <span class="token number">1</span>GB<span class="token punctuation">;</span><span class="token number">1024</span>GB <span class="token operator">=</span> <span class="token number">1</span>TB<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - åº•å±‚å…¼æ¶æ„ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Deepin Custom Modify Window Corner Rounding Size</title>
      <link href="/posts/3757693a/"/>
      <url>/posts/3757693a/</url>
      
        <content type="html"><![CDATA[<p><strong>Summary:</strong> Community version of <code>Deepin</code>â€˜s &#96;Big Round Cornersâ€™ Official version of <strong>Small, Medium, Extra Large</strong> is here! . All windows have and taskbar has got <strong>right, small rounded, large rounded (0px, 8px, 18px)</strong>. Attached is a detailed tutorial on how to modify the tutorial steps, and how to modify the rounded corners at any angle.</p><iframe width="560" height="315" src="https://www.youtube.com/embed/qDfvKgq1JP0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><blockquote><p>Translated from the originalï¼š <a href="xmuli.tech/posts/cd317ccc/">Deepin è‡ªå®šä¹‰ä¿®æ”¹çª—å£åœ†è§’å¤§å°</a></p></blockquote><h2 id="Preface"><a href="#Preface" class="headerlink" title="Preface."></a>Preface.</h2><p>Some people want to stick to the big rounded corners, while others want to adjust the small rounded corners and right corners; personal experiences and living environment are different, so the citrus is different, so they have their own perspectives on the idea, and can appreciate each other!</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20201022150848.png" width="25%"/ loading="lazy"><p>The scope of <code>DDE</code> rounding modification is:  **all main window rounding + Dock rounding + Menu rounding  **.</p><p>This modification only involves the community <code>Deepin</code> has this feature (belongs to the community customization feature, is also a certain text and the communityâ€™s heart love ~ ).</p><p><code>UOS</code> version is not enabled by default, of course, if you want to experience it, you can also change the size of the rounded corners by command (these kinds of features, for the time being, are out of the planning. Iâ€™m also afraid of being hammered by <code>UOS</code>â€˜s product managers and developers, and then reported as a <code>bug</code> single by the test ladies).</p><blockquote><p>Because <code>Deepin</code> and <code>UOS</code> are actually two different forms of a product.</p></blockquote><br><h2 id="Copywriting"><a href="#Copywriting" class="headerlink" title="Copywriting:"></a>Copywriting:</h2><ul><li><strong>Chinese text:</strong> <code>window rounded corner&#39;, </code>smallâ€™, <code>medium&#39;, </code>largeâ€™</li><li><strong>English text :</strong> <code>Rounded Corner</code>, <code>small</code>, <code>medium</code>, <code>large</code></li></ul><p>Large rounded corners (system original style): window &#x3D; 18px; Medium rounded corners: window &#x3D; 8px; Small rounded corners: window &#x3D; 0px; For the internal (button, item background, etc.) rounded corners size, no change. </p><p>Well, this is also the design from the design department (she is beautiful too).</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/eb07e579-973e-4a08-aab8-0f8e120dccfc.png" width="25%"/ loading="lazy"><br><h2 id="Modify-rounded-corner-window-ideas"><a href="#Modify-rounded-corner-window-ideas" class="headerlink" title="Modify rounded corner window ideas."></a>Modify rounded corner window ideas.</h2><blockquote><ol><li>First <code>fork&#39; the official repository to your own repository. To compile the project&#39;s dependencies, run </code>sudo apt build-dep dtkgui<code>, or go to the project root and run </code>dpkg-checkbuilddeps&#96; ;</li><li>Modify the code and commit it in the format (important)</li><li>After the test meets expectations, the code is submitted and awaits merging.</li></ol></blockquote><p>How this is achieved, modifying the place will involve designing three items in total.</p><ul><li><a href="https://github.com/linuxdeepin/dtkgui">dtkgui</a>: Modify the basic rounded corner values and add an interface.</li><li><a href="https://github.com/linuxdeepin/dde-control-center">ddde-control-center</a>: add control to change the rounded corner value of the software, international translation.</li><li><a href="https://github.com/linuxdeepin/dde-dock">ddde-dock</a>: Also change the rounded corner size of the dock in the taskbar in fashion mode.</li></ul><br><h3 id="Modify-dtkgui-code"><a href="#Modify-dtkgui-code" class="headerlink" title="Modify dtkgui code."></a>Modify dtkgui code.</h3><p>Add the corresponding interface first; make sure <code>winID</code> is created (otherwise a default window will be created), and then modify the value of the attribute, otherwise the dock will be grayed out, and the right-click menu will become opaque, which is a serious bug. Submit this modification with the following code.</p><p><strong>Change code commit:</strong> </p><blockquote><ol><li><p><a href="https://github.com/linuxdeepin/dtkgui/commit/a3b9836b83f92e308b2af58c148350471119690b">commit  a3b9836b</a>                &#x2F;&#x2F; Add Modify Rounded Interface</p></li><li><p><a href="https://github.com/linuxdeepin/dtkgui/commit/de1f742edefee47963515acf63721ffb53193a8b">commit de1f742e</a>                 &#x2F;&#x2F; Fix default display as right angle.</p></li><li><p><a href="https://github.com/linuxdeepin/dtkgui/commit/6ae8f77d42beea9e026444f29944cc06d298b3e6">commit 6ae8f77d</a>                 &#x2F;&#x2F; Fix ToolTipâ€™s rounded corners as 18px unsightly accidental bug</p></li><li><p><a href="https://github.com/linuxdeepin/dtkgui/commit/ea60f6b0bb40cad111548a8374060f06473f66b1">commit ea60f6b0</a>                 &#x2F;&#x2F; Optimization code</p></li></ol></blockquote><br><p>After running, replace the new header file and the resulting binary with the system to see the effect</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">â˜  dtkgui <span class="token punctuation">[</span>master<span class="token punctuation">]</span> âš¡ <span class="token function">sudo</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> /usr/lib/x86_64-linux-gnu/libdtkgui.so.5.2.2â˜  dtkgui <span class="token punctuation">[</span>master<span class="token punctuation">]</span> âš¡ <span class="token function">sudo</span> <span class="token function">cp</span> ~/project/build-dtkgui-unknown-Debug/src/libdtkgui.so.5.2.2 /usr/lib/x86_64-linux-gnu/â˜  dtkgui <span class="token punctuation">[</span>master<span class="token punctuation">]</span> âš¡  <span class="token function">sudo</span> <span class="token function">cp</span> src/dplatformtheme.h /usr/include/libdtk-5.2.2/DGui<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><br><h3 id="Modify-de-control-center-code"><a href="#Modify-de-control-center-code" class="headerlink" title="Modify de-control-center code."></a>Modify de-control-center code.</h3><p><strong>Modify code to submit:</strong></p><blockquote><ol><li><a href="https://github.com/linuxdeepin/dde-control-center/commit/a37aae159ab5fb0b8c4cbb8189e81e8ac81f0f43">commit a37aae15</a> &#x2F;&#x2F; add controls Modify the value of the large round angle</li><li><a href="https://github.com/linuxdeepin/dde-control-center/commit/b9926d9795cb39d9298d22c295eed90dd437fe11">commit b9926d97</a> &#x2F;&#x2F; Add the right application. International translation</li><li><a href="https://github.com/linuxdeepin/dde-control-center/commit/a6ea6be6927efede1ee3b7aac7265adcb62c21a9">commit a6ea6be6</a> &#x2F;&#x2F; fix layout Errors cause other controls to be compressed</li></ol></blockquote><p>Run it directly to see if there are any real-time effects.</p><br><h3 id="Modify-dode-dock-code"><a href="#Modify-dode-dock-code" class="headerlink" title="Modify dode-dock code."></a>Modify dode-dock code.</h3><p><strong>Change code commit:</strong></p><blockquote><ol><li><a href="https://github.com/linuxdeepin/dde-dock/commit/89cf36abf18a5a0283db739a5b3cd053b1e011f1">commit 89cf36ab</a> &#x2F;&#x2F; Dock taskbar modifying large rounded corners.</li><li><a href="https://github.com/linuxdeepin/dde-dock/commit/63953ef5d05a7320ac3bd2d952602038d6b1fb48">commit 63953ef5</a> &#x2F;&#x2F; Fix after logging out of reboot, dock The default display is right angle.</li></ol></blockquote><p>To run the compile and see the effect, you need to download the <code>dconf-editor</code> software, search for <code>watchdog</code>, and disable the <code>dde-dock</code> button, so that you can run the dock generated by the code instead of always displaying the systemâ€™s own taskbar dock.</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20201020202526.png" width="50%"/ loading="lazy"><br><h3 id="Post-optimization"><a href="#Post-optimization" class="headerlink" title="Post-optimization."></a>Post-optimization.</h3><p>Suddenly, a defect was reported by the upstairs test lady.</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/407bef0d-99f4-412e-a10b-7cd0729351b2.gif" width="40%"/ loading="lazy"><p>Since we only set this value in front end, every time we â€œlogout, restart, turn off effects and then turn them back onâ€, we lose the value <code>&quot;DTK/windowRadius&quot; QVariant(int, 8)</code>, which results in big rounded corners.</p><p>In the next stage, an assignment will be added to this value in a back-end piece to fix this flaw.</p><br><h2 id="Customize-the-fillet-size"><a href="#Customize-the-fillet-size" class="headerlink" title="Customize the fillet size."></a>Customize the fillet size.</h2><h3 id="Mode-1"><a href="#Mode-1" class="headerlink" title="Mode 1."></a>Mode 1.</h3><p>Changes to â€œControl Center - Personalization - Rounded Window â€œ** (available only for <code>Deepin</code>) via Interface Adjustment. Only right angle<code> (0px</code>), small rounded corner (<code>8px</code>), and large rounded corner (18px) are adjustable.</p><p><br> ** Adjustable in three levels.</p><h3 id="Mode-2"><a href="#Mode-2" class="headerlink" title="Mode 2."></a>Mode 2.</h3><p>Execute the command by commanding Terminal Adjustment, where the specific parameter <code>8</code> can be replaced with any number of angles, and takes effect for both <code>Deepin</code> and <code>UOS</code>.</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Manual adjustment of terminal values "DTK/windowRadius" QVariant(int, 8)</span>/usr/lib/x86_64-linux-gnu/libdtk-5.2.2/DGui/bin/deepin-gui-settings <span class="token parameter variable">--set</span> <span class="token string">"DTK/WindowRadius"</span> <span class="token parameter variable">-i</span> <span class="token number">8</span>  // Rounding value setting/usr/lib/x86_64-linux-gnu/libdtk-5.2.2/DGui/bin/deepin-gui-settings    // View Fillet Values<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>PS: If there is no such program running in this path, you need to execute theï¼š <code>sudo apt install libdtkgui5-bin</code></p></blockquote><br><h2 id="End-result"><a href="#End-result" class="headerlink" title="End result."></a>End result.</h2><p>No picture. No picture. Say a  ğŸ”¨ï¼š </p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20201022145645.png" width="20%"/ loading="lazy"><p>Letâ€™s start with the final realization.</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/æˆªå›¾å½•å±_dde-desktop_20201015211555.png" width="90%"/ loading="lazy"><br><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/æˆªå›¾å½•å±_dde-desktop_20201015211629.png" width="90%"/ loading="lazy"><br><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/æˆªå›¾å½•å±_dde-desktop_20201015211822.png" width="90%"/ loading="lazy"><br><p>#Breakdown summary~.</p><p>This time the function is very small, but it is the community users have always wanted the function, submit a lot this time. The first is to be tested by the test lady, the second is to adhere to a commit to do only one thing. Third, to participate in the community to contribute to the partners, a submission demonstration, showing how to submit from <code>github</code> <code>pr</code> and then be merged into the main code flow. Fourthly, share your own details and happiness.</p><p>For any piece of software, I personally feel that it should be to uphold the ** â€œpeople-oriented â€œ** point of view. ** a product should have temperature **, in some details of the place with the care of the user, rather than knowledge of a cold device. Not a little emotion, although the need to be able to use, but do not use the discarded, and then never thought of. Life is short, have to do a little interesting things. Always do my best to add a thought in it. Iâ€™m not sure how much Iâ€™ll be able to do.</p><br><h2 id="Participate-together-in-contributing-to"><a href="#Participate-together-in-contributing-to" class="headerlink" title="Participate together in contributing to."></a>Participate together in contributing to.</h2><p>If you are interested, you can also add some new features to it and merge it directly into the upstream Deepin mainline code. The source code can be downloaded directly from <a href="https://github.com/linuxdeepin">linuxdeepin</a> and is synchronized with the intranet code in real time. For DTK, in addition to the source code comments, you can also read the <a href="https://linuxdeepin.github.io/dtk/">DTK API</a> web page (currently updated daily). If you want more people to experience the effect of your code, just submit <code>pr</code> and remember to refer to this <a href="https://github.com/linuxdeepin/developer-center/wiki/">Commit Submission Specification</a> for submission specifications. Commit%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83) Oh. See you next~~.</p><br><p><strong>If you want to be merged quickly, attach some suggestions:</strong></p><ol><li>for porting to other distributions, bug fixes, such contributions pr are easy and fast to merge;</li><li>for some community customization features, it is recommended to set them to take effect only on community Deepin, and to disable them by default on UOS to speed up the merge process. 3. for some new features and functions, if they are needed in the UOS version or are in the planning stage, it is recommended to set them to take effect only on community Deepin;</li><li>for some new features and functions, if they are required by the UOS version or are in the planning stage, they can also be merged quickly; 4. for individuals and from the community, it is recommended to set it to work only on community Deepin;</li><li>for individuals and rounds from the community, it is also easy to merge, with communication that the community is looking forward to it (less strict rules and processes than the commercial line). 5;</li><li>to test as fully and completely as possible before submitting.</li><li><strong>Be sure to pay attention to the <a href="https://github.com/linuxdeepin/developer-center/wiki/Commit%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83">Commit Submission Specification</a>;</strong></li><li>you can communicate in the community bbs forum or github to remind the</li></ol><p>In addition, the following interface classes [dsysinfo.h](<a href="https://github.com/linuxdeepin/dtkcore/blob/523a51ab69e97b5fd8c906cb83ed3049888f680d/src/">https://github.com/linuxdeepin/dtkcore/blob/523a51ab69e97b5fd8c906cb83ed3049888f680d/src/</a> dsysinfo.h), and write a detailed tutorial sometime, distinguishing between the various versions of the system.</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">QString <span class="token class-name">DSysInfo</span><span class="token double-colon punctuation">::</span><span class="token function">uosEditionName</span><span class="token punctuation">(</span><span class="token keyword">const</span> QLocale <span class="token operator">&amp;</span>locale<span class="token punctuation">)</span> <span class="token comment">// Get the version name, for example, "Professional"/"Home"/"Community"....</span><span class="token keyword">enum</span> <span class="token class-name">UosEdition</span> <span class="token punctuation">&#123;</span>    UosEditionUnknown<span class="token punctuation">,</span>    UosProfessional<span class="token punctuation">,</span>  <span class="token comment">//ä¸“ä¸šç‰ˆ</span>    UosHome<span class="token punctuation">,</span>         <span class="token comment">//ä¸ªäººç‰ˆ</span>    UosCommunity<span class="token punctuation">,</span>    <span class="token comment">//ç¤¾åŒºç‰ˆ</span>    UosMilitary<span class="token punctuation">,</span>    UosEnterprise<span class="token punctuation">,</span>    UosEnterpriseC<span class="token punctuation">,</span>    UosEuler<span class="token punctuation">,</span>        <span class="token comment">// æ¬§æ‹‰ç‰ˆ</span>    UosMilitaryS<span class="token punctuation">,</span>    <span class="token comment">// for Server</span>    UosEditionCount <span class="token comment">// must at last</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token comment">// The following interface is not recommended, as it will be removed later.</span>    <span class="token keyword">enum</span> <span class="token class-name">ProductType</span> <span class="token punctuation">&#123;</span>        UnknownType <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>        Deepin<span class="token punctuation">,</span>        ArchLinux<span class="token punctuation">,</span>        CentOS<span class="token punctuation">,</span>        Debian<span class="token punctuation">,</span>        Fedora<span class="token punctuation">,</span>        LinuxMint<span class="token punctuation">,</span>        Manjaro<span class="token punctuation">,</span>        openSUSE<span class="token punctuation">,</span>        SailfishOS<span class="token punctuation">,</span>        Ubuntu<span class="token punctuation">,</span>        Uos    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">enum</span> <span class="token class-name">DeepinType</span> <span class="token punctuation">&#123;</span>        UnknownDeepin <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>        DeepinDesktop<span class="token punctuation">,</span>        DeepinProfessional<span class="token punctuation">,</span>        DeepinServer<span class="token punctuation">,</span>        DeepinPersonal    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="Updated-2020-11-16"><a href="#Updated-2020-11-16" class="headerlink" title="Updated: 2020-11-16"></a>Updated: 2020-11-16</h2><p>However, due to various factors such as release schedule, expected release strategy, overall rush, allowing time for testing, and coordinating with other project developers and working together, it is not possible to schedule the fixes immediately once they are applied and see the effect.</p><p>Fix the bug that the default transparency module is compressed due to a layout error in <strong>Control Center and Modify Window with Rounded Corners</strong>:</p><ul><li>This part of the fix involves front-end support:<ul><li><code>dde-control-center</code>: [a6ea6be6](<a href="https://github.com/linuxdeepin/dde-control-center/commit/">https://github.com/linuxdeepin/dde-control-center/commit/</a> a6ea6be6927efede1ee3b7aac7265adcb62c21a9)</li></ul></li></ul><br><p>Fix <strong>after logging out&#x2F;restarting, the right corner of the taskbar and active window becomes rounded and the state cannot be saved.</strong> </p><ul><li>This part of the change concerns backend support:<ul><li><code>dde-daemon</code> : <a href="https://github.com/linuxdeepin/dde-daemon/commit/a6fee1b90fad7bf3a5414a241c90266bc2275322">a6fee1b9</a></li><li><code>startdde</code> : <a href="https://github.com/linuxdeepin/startdde/commit/f7b62e85d599e0c87734d2f4365b3fd15dd49cee">f7b62e85</a> </li><li><code>deepin-desktop-schemas</code>:  <a href="https://github.com/linuxdeepin/deepin-desktop-schemas/commit/73b992dae8984675a3d93c96c200dd5baf31fe88">73b992da</a>ï¼Œ  <a href="https://github.com/linuxdeepin/deepin-desktop-schemas/commit/9b448b22823d8d2fa051f792f161fd5c3eaa89af">9b448b22</a></li></ul></li><li>This part of the revision concerns front-end support:<ul><li><code>dde-control-center</code>: <a href="https://github.com/linuxdeepin/dde-control-center/commit/e523a87f80726dff196bccb78bbe5b1c2b0366ad">e523a87f</a></li></ul></li></ul><br><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary:"></a>Summary:</h2><p>The method is to modify the value of a <code>dtkgui</code> item, then regenerate the corresponding binary and replace it in the system directory; although it works for the time being, it is not standardized, and it will fail after reboot or logout. It doesnâ€™t feel so simple and elegant;** </p><p>Iâ€™m just saying itâ€™s working. Whoâ€™s to say they havenâ€™t done it yet? The enthusiastic techies who canâ€™t wait to get started will have to find a way to make it work, and weâ€™ll see what we can achieve first.</p><p><strong>But as a formal change,</strong> it must not be treated in the same way, it has to conform to a dtk style, user-friendly, functional and product design planning must not conflict, interface changes must be standardized, and the interface must be kept backward compatible.</p><p> <br>It is important that the interface is standardized and kept backwards compatible.</p><p>I thought I was modifying a simple feature, but it would end up involving so many items I didnâ€™t expect: <code>dde-daemon</code>, <code>startdde</code>, <code>deepin-desktop-schemas</code>, <code>dde-control-center</code>, <code>dtkgui</code>, &#96;dde-dock There are a total of 6 of them, many of them are very important core base libraries, if you modify them, it will affect many other projects, so it is more careful and cautious to modify them. But Iâ€™m happy to add this feature to the community at last. <br>Itâ€™s a good thing that we have a lot of people working on this;</p><br><h3 id="Series-Address"><a href="#Series-Address" class="headerlink" title="Series Address."></a>Series Address.</h3><p><a href="https://github.com/xmuli/QtExamples">QtExamples</a></p><p>Welcome to the <code>star</code> and <code>fork</code> series of QT &#x2F; DTK learnings, with a table of contents for learning the ins and outs.</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DTK </tag>
            
            <tag> Deepin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Deepin è‡ªå®šä¹‰ä¿®æ”¹çª—å£åœ†è§’å¤§å°</title>
      <link href="/posts/cd317ccc/"/>
      <url>/posts/cd317ccc/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong> ç¤¾åŒºç‰ˆæœ¬ <code>Deepin</code>  çš„<code>å¤§åœ†è§’</code> å®˜æ–¹ç‰ˆæœ¬çš„ <strong>â€œå°æ¯â€ã€â€œä¸­æ¯â€ã€â€œè¶…å¤§æ¯â€</strong> æ¥äº†ã€‚æ‰€æœ‰çª—å£æœ‰å’Œä»»åŠ¡æ æœ‰äº† <strong>ç›´è§’ã€å°åœ†è§’ã€å¤§åœ†è§’ ï¼ˆ0pxã€8pxã€ 18pxï¼‰</strong>ã€‚é™„ä¸Šè¯¦ç»†ä¿®æ”¹æ•™ç¨‹æ­¥éª¤ï¼Œå’Œå¦‚ä½•ä¿®æ”¹ä»»æ„è§’åº¦çš„åœ†è§’ã€‚</p><iframe width="760" height="427" src="//player.bilibili.com/player.html?aid=245084838&bvid=BV1jv411C7oW&cid=247386263&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><blockquote><p>ç¿»è¯‘çš„è‹±æ–‡ç‰ˆæœ¬ï¼š <a href="xmuli.tech/posts/3757693a/">Deepin Custom Modify Window Corner Rounding Size</a></p></blockquote><h2 id="å‰è¨€ï¼š"><a href="#å‰è¨€ï¼š" class="headerlink" title="å‰è¨€ï¼š"></a>å‰è¨€ï¼š</h2><p>å¯¹äº <code>DDE</code> ä¸€ç›´ä»¥æ¥çš„å¤§åœ†è§’ <code>18px</code>ï¼Œç¤¾åŒºæœ‰ç€ä¸åŒå®¡ç¾ï¼Œæœ‰äººå¸Œæœ›åšæŒå¤§åœ†è§’ã€æœ‰äººå¸Œæœ›è°ƒæ•´å°åœ†è§’ã€å’Œç›´è§’ï¼›ä¸ªäººç»å†å’Œç”Ÿæ´»ç¯å¢ƒä¸åŒï¼ŒæŸ‘æ©˜ä¹Ÿä¸ä¸€æ ·ï¼Œæ‰€ä»¥æœ‰ç€å„è‡ªä¸åŒè§’åº¦çš„çœ‹å¾…æƒ³æ³•ï¼Œèƒ½å¤Ÿäº’ç›¸æ¬£èµå³å¯</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20201022150848.png" width="25%"/ loading="lazy"><p><code>DDE</code> çš„åœ†è§’ä¿®æ”¹èŒƒå›´ä¸ºï¼š **æ‰€æœ‰ä¸»çª—å£çš„åœ†è§’ + Dock åœ†è§’ + Menu åœ†è§’ ** ã€‚</p><p>æœ¬æ¬¡ä¿®æ”¹åªæ¶‰åŠç¤¾åŒº <code>Deepin</code> æ‹¥æœ‰æ­¤åŠŸèƒ½ï¼ˆå±äºç¤¾åŒºå®šåˆ¶åŠŸèƒ½ï¼Œä¹Ÿæ˜¯æŸæ–‡å’Œç¤¾åŒºå¿ƒå¿ƒæ‹æ‹çš„~ ï¼‰ã€‚</p><p><code>UOS</code> ç‰ˆæœ¬é»˜è®¤ä¸å¼€å¯ï¼Œå½“ç„¶ï¼Œä½ æƒ³ä½“éªŒçš„è¯ï¼Œä¹Ÿå¯é€šè¿‡å‘½ä»¤æ¥ä¿®æ”¹åœ†è§’å¤§å° ï¼ˆæ­¤ç±»åŠŸèƒ½ï¼Œæš‚æ—¶éƒ½å±äºè§„å®šçš„è®¡åˆ’ä¹‹å¤–ã€‚ ä¹Ÿå®³æ€•è¢« <code>UOS</code> çš„äº§å“ç»ç†ã€å¼€å‘ä»¬é”¤ã€ç„¶åè¢«æµ‹è¯•å°å§å§æŠ¥ <code>bug</code> å•ï¼‰ã€‚</p><blockquote><p>å›  <code>Deepin</code> å’Œ <code>UOS</code> å®é™…æ˜¯ä¸€ä¸ªäº§å“çš„ä¸¤ç§ä¸åŒå½¢æ€ã€‚</p></blockquote><br><h2 id="æ–‡æ¡ˆè®¾è®¡"><a href="#æ–‡æ¡ˆè®¾è®¡" class="headerlink" title="æ–‡æ¡ˆè®¾è®¡:"></a>æ–‡æ¡ˆè®¾è®¡:</h2><ul><li><strong>ä¸­æ–‡æ–‡æ¡ˆ:</strong>  <code>çª—å£åœ†è§’</code>ï¼Œ <code>å°</code>ï¼Œ <code>ä¸­</code>ï¼Œ <code>å¤§</code></li><li><strong>English æ–‡æ¡ˆ :</strong>  <code>Rounded Corner</code>ï¼Œ <code>small</code>ï¼Œ  <code>medium</code>ï¼Œ  <code>large</code></li></ul><p>å¤§åœ†è§’ï¼ˆç³»ç»ŸåŸæœ¬æ ·å¼ï¼‰ï¼šçª—å£ &#x3D; 18pxï¼›   ä¸­åœ†è§’ï¼šçª—å£ &#x3D; 8pxï¼›    å°åœ†è§’ï¼šçª—å£ &#x3D; 0pxï¼›    å¯¹äº å†…éƒ¨ï¼ˆæŒ‰é’®ã€itemèƒŒæ™¯ç­‰ï¼‰çš„åœ†è§’å¤§å°ï¼Œ ä¸åšä¿®æ”¹ã€‚ </p><p>å—¯å—¯ ï¼Œï¼Œä¹Ÿæ˜¯æ¥è‡ªè®¾è®¡éƒ¨çš„å°å§å§ï¼ˆäººä¹Ÿç¾ï¼‰ç»™çš„è®¾è®¡å›¾ï¼Œç”±äºç¯‡å¹…ï¼Œå°±ä¸ä¸Šå›¾äº†ï¼ˆ<del>æˆ‘è¯´çš„æ˜¯è®¾è®¡å›¾</del>ï¼‰ï¼Œ ç¡®å®å¾ˆæ£’ï¼Œï¼Œï¼Œ</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/eb07e579-973e-4a08-aab8-0f8e120dccfc.png" width="25%"/ loading="lazy"><br><h2 id="ä¿®æ”¹åœ†è§’çª—å£æ€è·¯ï¼š"><a href="#ä¿®æ”¹åœ†è§’çª—å£æ€è·¯ï¼š" class="headerlink" title="ä¿®æ”¹åœ†è§’çª—å£æ€è·¯ï¼š"></a>ä¿®æ”¹åœ†è§’çª—å£æ€è·¯ï¼š</h2><blockquote><ol><li>å…ˆ <code>fork</code> å®˜ç½‘ä»“åº“åˆ°è‡ªå·±çš„ä»“åº“ï¼›</li><li>ç¼–è¯‘é¡¹ç›®çš„ä¾èµ–ï¼Œ æ‰§è¡Œ <code>sudo apt build-dep dtkgui</code>  ï¼Œæˆ–è€…å»é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œ æ‰§è¡Œ <code>dpkg-checkbuilddeps</code> ï¼›</li><li>ä¿®æ”¹ä»£ç ï¼Œ æŒ‰ç…§æ ¼å¼æäº¤ï¼ˆå¾ˆé‡è¦ï¼‰</li><li>æµ‹è¯•è¾¾åˆ°é¢„æœŸååã€æäº¤ä»£ç ï¼Œç­‰å¾…åˆå¹¶</li></ol></blockquote><p>å¦‚ä½•å®ç°ï¼Œä¿®æ”¹åœ°æ–¹ä¸€å…±è¦è®¾è®¡ä¸‰ä¸ªé¡¹ç›®ï¼š</p><ul><li><a href="https://github.com/linuxdeepin/dtkgui">dtkgui</a> ï¼šä¿®æ”¹åŸºç¡€çš„åœ†è§’æ•°å€¼ã€æ·»åŠ æ¥å£</li><li><a href="https://github.com/linuxdeepin/dde-control-center">dde-control-center</a> ï¼šæ·»åŠ æ§ä»¶ä¿®æ”¹è½¯ä»¶çš„åœ†è§’æ•°å€¼ï¼Œå›½é™…åŒ–ç¿»è¯‘</li><li><a href="https://github.com/linuxdeepin/dde-dock">dde-dock</a> ï¼šåŒæ—¶ä¿®æ”¹ä»»åŠ¡æ  dock çš„åœ¨â€œæ—¶å°šæ¨¡å¼â€ä¸‹çš„åœ†è§’å¤§å°æ•°å€¼</li></ul><br><h3 id="ä¿®æ”¹-dtkgui-ä»£ç ï¼š"><a href="#ä¿®æ”¹-dtkgui-ä»£ç ï¼š" class="headerlink" title="ä¿®æ”¹ dtkgui ä»£ç ï¼š"></a>ä¿®æ”¹ dtkgui ä»£ç ï¼š</h3><p>å…ˆæ·»åŠ å¯¹åº”çš„æ¥å£ï¼›è¦ç¡® <code>winID</code> è¢«åˆ›å»ºåï¼ˆä¸ç„¶ä¼šè¢«åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„çª—å£ï¼‰ï¼Œå†ä¿®æ”¹ å±æ€§çš„æ•°å€¼ï¼Œ å¦åˆ™ dock ä¼šå˜ç°ï¼Œå³é”®èœå•ç­‰éƒ½ä¼šå˜æˆä¸é€æ˜çš„ä¸¥é‡ bugã€‚ æœ¬æ¬¡ä¿®æ”¹æäº¤ï¼Œä»£ç å¦‚ä¸‹ã€‚</p><p><strong>ä¿®æ”¹ä»£ç æäº¤:</strong></p><blockquote><ol><li><a href="https://github.com/linuxdeepin/dtkgui/commit/a3b9836b83f92e308b2af58c148350471119690b">commit  a3b9836b</a>                        &#x2F;&#x2F; æ·»åŠ ä¿®æ”¹åœ†è§’æ¥å£</li><li><a href="https://github.com/linuxdeepin/dtkgui/commit/de1f742edefee47963515acf63721ffb53193a8b">commit  de1f742e</a>                         &#x2F;&#x2F; ä¿®å¤é»˜æ˜¾ç¤ºä¸ºç›´è§’è§’</li><li><a href="https://github.com/linuxdeepin/dtkgui/commit/6ae8f77d42beea9e026444f29944cc06d298b3e6">commit  6ae8f77d</a>                        &#x2F;&#x2F; ä¿®å¤ ToolTip çš„åœ†è§’ä¸º 18px çš„ä¸ç¾è§‚çš„æ„å¤– bug</li><li><a href="https://github.com/linuxdeepin/dtkgui/commit/ea60f6b0bb40cad111548a8374060f06473f66b1">commit  ea60f6b0</a>                        &#x2F;&#x2F; ä¼˜åŒ–ä»£ç </li></ol></blockquote><br><p>è¿è¡Œä¹‹åï¼Œå°†æ–°çš„å¤´æ–‡ä»¶å’Œç”Ÿæˆçš„äºŒè¿›åˆ¶ï¼Œæ›¿æ¢è¿›ç³»ç»Ÿï¼ŒæŸ¥çœ‹æ•ˆæœ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">â˜  dtkgui <span class="token punctuation">[</span>master<span class="token punctuation">]</span> âš¡ <span class="token function">sudo</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> /usr/lib/x86_64-linux-gnu/libdtkgui.so.5.2.2â˜  dtkgui <span class="token punctuation">[</span>master<span class="token punctuation">]</span> âš¡ <span class="token function">sudo</span> <span class="token function">cp</span> ~/project/build-dtkgui-unknown-Debug/src/libdtkgui.so.5.2.2 /usr/lib/x86_64-linux-gnu/â˜  dtkgui <span class="token punctuation">[</span>master<span class="token punctuation">]</span> âš¡  <span class="token function">sudo</span> <span class="token function">cp</span> src/dplatformtheme.h /usr/include/libdtk-5.2.2/DGui<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><br><h3 id="ä¿®æ”¹-dde-control-center-ä»£ç ï¼š"><a href="#ä¿®æ”¹-dde-control-center-ä»£ç ï¼š" class="headerlink" title="ä¿®æ”¹ dde-control-center ä»£ç ï¼š"></a>ä¿®æ”¹ dde-control-center ä»£ç ï¼š</h3><p><strong>ä¿®æ”¹ä»£ç æäº¤:</strong></p><blockquote><ol><li><a href="https://github.com/linuxdeepin/dde-control-center/commit/a37aae159ab5fb0b8c4cbb8189e81e8ac81f0f43">commit  a37aae15</a>                           &#x2F;&#x2F; æ·»åŠ æ§ä»¶ä¿®æ”¹å¤§åœ†è§’åº¦çš„æ•°å€¼</li><li><a href="https://github.com/linuxdeepin/dde-control-center/commit/b9926d9795cb39d9298d22c295eed90dd437fe11">commit  b9926d97</a>                          &#x2F;&#x2F; æ·»åŠ å¯¹çš„åº”å›½é™…åŒ–ç¿»è¯‘</li><li><a href="https://github.com/linuxdeepin/dde-control-center/commit/a6ea6be6927efede1ee3b7aac7265adcb62c21a9">commit  a6ea6be6</a>                          &#x2F;&#x2F; ä¿®å¤å¸ƒå±€é”™è¯¯å¯¼è‡´å…¶ä»–æ§ä»¶çš„è¢«å‹ç¼©æ˜¾ç¤º</li></ol></blockquote><p>ç›´æ¥è¿è¡Œï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰å®æ—¶æ•ˆæœã€‚</p><br><h3 id="ä¿®æ”¹-dde-dock-ä»£ç ï¼š"><a href="#ä¿®æ”¹-dde-dock-ä»£ç ï¼š" class="headerlink" title="ä¿®æ”¹ dde-dock ä»£ç ï¼š"></a>ä¿®æ”¹ dde-dock ä»£ç ï¼š</h3><p><strong>ä¿®æ”¹ä»£ç æäº¤:</strong></p><blockquote><ol><li><a href="https://github.com/linuxdeepin/dde-dock/commit/89cf36abf18a5a0283db739a5b3cd053b1e011f1">commit  89cf36ab</a>                              &#x2F;&#x2F; Dock ä»»åŠ¡æ ä¿®æ”¹å¤§åœ†è§’</li><li><a href="https://github.com/linuxdeepin/dde-dock/commit/63953ef5d05a7320ac3bd2d952602038d6b1fb48">commit  63953ef5</a>                              &#x2F;&#x2F; ä¿®å¤ æ³¨é”€é‡å¯åï¼Œdock é»˜è®¤æ˜¾ç¤ºä¸ºç›´è§’</li></ol></blockquote><p>è¿è¡Œç¼–è¯‘ä¸‹æƒ³è¦çœ‹ä¸‹æ•ˆæœï¼Œéœ€è¦å…ˆä¸‹è½½ <code>dconf-editor</code> è½¯ä»¶ï¼Œ æœå¯» çœ‹é—¨ç‹— <code>watchdog</code>ï¼Œ ç„¶åå…³é—­ <code>dde-dock</code> çš„æŒ‰é’®ï¼Œè¿™æ ·å°±å¯ä»¥è¿è¡Œä»£ç ç”Ÿæˆçš„ dock è€Œéä¸€ç›´æ˜¾ç¤ºç³»ç»Ÿæœ¬èº«çš„ä»»åŠ¡æ  dockã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20201020202526.png" width="50%"/ loading="lazy"><br><h3 id="åæœŸä¼˜åŒ–ï¼š"><a href="#åæœŸä¼˜åŒ–ï¼š" class="headerlink" title="åæœŸä¼˜åŒ–ï¼š"></a>åæœŸä¼˜åŒ–ï¼š</h3><p>çªç„¶ï¼Œè¢«æ¥¼ä¸Šæµ‹è¯•å°å§å§æŠ¥å‘Šäº†ä¸€ä¸ªç¼ºé™·ï¼Œ</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/407bef0d-99f4-412e-a10b-7cd0729351b2.gif" width="40%"/ loading="lazy"><p>ç”±äºåªåœ¨å‰ç«¯åšäº†æ­¤å€¼çš„è®¾ç½®ï¼Œ æ‰€ä»¥æ¯æ¬¡ â€œæ³¨é”€ ã€é‡å¯ã€å…³é—­ç‰¹æ•ˆåå†å¼€å¯â€ï¼Œ éƒ½ä¼šå¯¼è‡´æ­¤å€¼ <code>&quot;DTK/windowRadius&quot; QVariant(int, 8)</code> çš„ä¸¢å¤±ï¼Œä»è€Œå¯¼è‡´éƒ½ä¼šæ˜¾ç¤ºä¸ºå¤§åœ†è§’ã€‚</p><p>ä¸‹ä¸€é˜¶æ®µï¼Œä¼šåœ¨åç«¯ä¸€å—ç»™æ­¤æ·»åŠ èµ‹å€¼ï¼Œä¿®å¤æ­¤ç¼ºé™·ã€‚</p><br><h2 id="è‡ªå®šä¹‰è®¾ç½®åœ†è§’å¤§å°ï¼š"><a href="#è‡ªå®šä¹‰è®¾ç½®åœ†è§’å¤§å°ï¼š" class="headerlink" title="è‡ªå®šä¹‰è®¾ç½®åœ†è§’å¤§å°ï¼š"></a>è‡ªå®šä¹‰è®¾ç½®åœ†è§’å¤§å°ï¼š</h2><h3 id="æ–¹å¼ä¸€ï¼š"><a href="#æ–¹å¼ä¸€ï¼š" class="headerlink" title="æ–¹å¼ä¸€ï¼š"></a>æ–¹å¼ä¸€ï¼š</h3><p>é€šè¿‡ç•Œé¢è°ƒæ•´ <strong>â€œæ§åˆ¶ä¸­å¿ƒ - ä¸ªæ€§åŒ–- åœ†è§’çª—å£â€œ</strong>  çš„ä¿®æ”¹ï¼ˆä»…å¯¹ <code>Deepin</code> æœ‰æ•ˆï¼‰ã€‚åªæœ‰ ç›´è§’<code>(0px</code>)ã€å°åœ†è§’ï¼ˆ<code>8px</code>ï¼‰ ã€å’Œ å¤§åœ†è§’(18px) ä¸‰æ¡£å¯è°ƒã€‚</p><br><h3 id="æ–¹å¼äºŒï¼š"><a href="#æ–¹å¼äºŒï¼š" class="headerlink" title="æ–¹å¼äºŒï¼š"></a>æ–¹å¼äºŒï¼š</h3><p>é€šè¿‡å‘½ä»¤ç»ˆç«¯è°ƒæ•´ï¼Œæ‰§è¡Œå‘½ä»¤ï¼šå…¶ä¸­å…·ä½“çš„å‚æ•° <code>8</code> å¯ä»¥æ›¿æ¢ä¸ºä»»æ„æ•°å­—çš„è§’åº¦ï¼Œä¸”å¯¹ <code>Deepin</code> å’Œ <code>UOS</code> éƒ½ç”Ÿæ•ˆã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ç»ˆç«¯æ‰‹åŠ¨è°ƒæ•´æ•°å€¼ "DTK/windowRadius" QVariant(intï¼Œ 8)</span>/usr/lib/x86_64-linux-gnu/libdtk-5.2.2/DGui/bin/deepin-gui-settings <span class="token parameter variable">--set</span> <span class="token string">"DTK/WindowRadius"</span> <span class="token parameter variable">-i</span> <span class="token number">8</span>  // è®¾å®šåœ†è§’æ•°å€¼/usr/lib/x86_64-linux-gnu/libdtk-5.2.2/DGui/bin/deepin-gui-settings    // æŸ¥çœ‹åœ†è§’æ•°å€¼<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>PSï¼š è‹¥æ˜¯æ­¤è·¯å¾„ä¸‹æ²¡æœ‰æ­¤è¿è¡Œç¨‹åºï¼Œåˆ™éœ€è¦æ‰§è¡Œï¼š <code>sudo apt install libdtkgui5-bin</code></p></blockquote><br><h2 id="æœ€ç»ˆæ•ˆæœï¼š"><a href="#æœ€ç»ˆæ•ˆæœï¼š" class="headerlink" title="æœ€ç»ˆæ•ˆæœï¼š"></a>æœ€ç»ˆæ•ˆæœï¼š</h2><p>æ²¡å›¾ï¼Œæ²¡å›¾è¯´ä¸ªğŸ”¨ï¼š </p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20201022145645.png" width="30%"/ loading="lazy"><p>èµ¶ç´§å…ˆæ”¾ä¸€ä¸‹æœ€ç»ˆçš„å®ç°æ•ˆæœï¼š</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/æˆªå›¾å½•å±_dde-desktop_20201015211555.png" width="90%"/ loading="lazy"><br><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/æˆªå›¾å½•å±_dde-desktop_20201015211629.png" width="90%"/ loading="lazy"><br><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/æˆªå›¾å½•å±_dde-desktop_20201015211822.png" width="90%"/ loading="lazy"><br><h2 id="ç¢ç¢å¿µæ€»ç»“-ï¼š"><a href="#ç¢ç¢å¿µæ€»ç»“-ï¼š" class="headerlink" title="ç¢ç¢å¿µæ€»ç»“~ï¼š"></a>ç¢ç¢å¿µæ€»ç»“~ï¼š</h2><p>æœ¬æ¬¡åŠŸèƒ½å¾ˆå°ï¼Œä½†å´æ˜¯ç¤¾åŒºç”¨æˆ·çš„ä¸€ç›´æƒ³è¦çš„åŠŸèƒ½ï¼Œæäº¤å¾ˆå¤šæ­¤æ¬¡ã€‚ä¸€æ˜¯è¢«æµ‹è¯•å°å§å§æµ‹å‡ºæ¥çš„ï¼ŒäºŒæ˜¯ç§‰æŒä¸€ä¸ªæäº¤åªå¹²ä¸€ä»¶äº‹æƒ…ã€‚ä¸‰æ˜¯ç»™æƒ³å‚ä¸ç¤¾åŒºè´¡çŒ®çš„å°ä¼™ä¼´ï¼Œä¸€ä¸ªæäº¤ç¤ºèŒƒï¼Œå±•ç¤ºå¦‚ä½•ä» <code>github</code> æäº¤ <code>pr</code> ç„¶åè¢«åˆå¹¶åˆ° ä¸»å¹²ä»£ç çš„æµç¨‹ã€‚å››æ˜¯åˆ†äº«è‡ªå·±çš„ç»†èŠ‚å’Œå¿«ä¹ã€‚</p><p>å¯¹äºä»»æ„çš„ä¸€ä¸ªè½¯ä»¶ï¼Œä¸ªäººè§‰å¾—éƒ½åº”è¯¥æ˜¯ç§‰æŒ <strong>â€ä»¥äººä¸ºæœ¬â€œ</strong>  çš„è§‚ç‚¹ã€‚<strong>ä¸€ä¸ªäº§å“åº”è¯¥æœ‰æ¸©åº¦çš„</strong> ï¼Œåœ¨ä¸€äº›ç»†èŠ‚çš„åœ°æ–¹æœ‰ç€å¯¹ç”¨æˆ·çš„ç»†å¿ƒå‘µæŠ¤ï¼Œè€Œä¸çŸ¥è¯†ä¸€ä¸ªå†·å†°å†°çš„è®¾å¤‡ã€‚æ²¡å¾—ä¸€ç‚¹æ„Ÿæƒ…ï¼Œè™½ç„¶éœ€è¦æ—¶å€™èƒ½ç”¨ï¼Œä½†æ˜¯ä¸ç”¨åå°±ä¸¢å¼ƒï¼Œä»¥åå†ä¹Ÿæƒ³ä¸èµ·ã€‚ äººç”ŸçŸ­æš‚ï¼Œå¾—åšä¸€ç‚¹æœ‰æ„æ€çš„äº‹æƒ…ã€‚å§‹ç»ˆå°½æˆ‘æ‰€èƒ½ï¼Œä¸ºå…¶æ·»åŠ ä¸€ä»½å¿ƒæ„åœ¨é‡Œé¢ã€‚ä¹Ÿæ„Ÿè°¢è¿‡ç¨‹ä¸­æŒ‡ç‚¹çš„æ€è·¯çš„å¤§ä½¬ä»¬ã€‚</p><br><h2 id="ä¸€èµ·å‚ä¸è´¡çŒ®ï¼š"><a href="#ä¸€èµ·å‚ä¸è´¡çŒ®ï¼š" class="headerlink" title="ä¸€èµ·å‚ä¸è´¡çŒ®ï¼š"></a>ä¸€èµ·å‚ä¸è´¡çŒ®ï¼š</h2><p>è‹¥æ˜¯æ„Ÿå…´è¶£ï¼Œä½ ä¹Ÿå¯ä»¥æ·»åŠ ä¸€äº›æ–°åŠŸèƒ½åœ¨é‡Œé¢ï¼Œç›´æ¥åˆå…¥ä¸Šæ¸¸çš„ Deepin ä¸»çº¿ä»£ç ä¸­ã€‚æºç ç›´æ¥åœ¨ <a href="https://github.com/linuxdeepin">linuxdeepin</a> ä¸­ä¸‹è½½ï¼Œæ˜¯å®æ—¶å’Œ å†…ç½‘ä»£ç åŒæ­¥çš„ã€‚å…³äºDTK çš„é™¤äº†çœ‹æºç æ³¨é‡Šï¼Œè¿˜å¯ä»¥çœ‹ <a href="https://linuxdeepin.github.io/dtk/">DTK API</a> ç½‘é¡µè¯´æ˜ï¼ˆç›®å‰æ¯æ—¥æ›´æ–°ï¼‰ã€‚ç„¶å <code>fork</code> åï¼Œè‡ªå·±ä¿®æ”¹è‡ªå·±ç©ï¼Œè‹¥æ˜¯æƒ³è¦è®©æ›´å¤šçš„äººä½“éªŒä½ çš„ä»£ç æ•ˆæœï¼Œç›´æ¥æäº¤ <code>pr</code> ï¼Œè®°å¾— æäº¤è§„èŒƒå‚è€ƒè¿™ä¸ª <a href="https://github.com/linuxdeepin/developer-center/wiki/Commit%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83">Commitæäº¤è§„èŒƒ</a> å“¦ã€‚ä¸‹ä¸€ç¯‡å†è§~~</p><br><p><strong>è‹¥æ˜¯å¸Œæœ›èƒ½å¤Ÿå¿«é€Ÿè¢«åˆå¹¶ï¼Œé™„ä¸Šä¸€äº›å»ºè®®ï¼š</strong></p><ol><li>å¯¹äºåœ¨å…¶ä»–å‘è¡Œç‰ˆç§»æ¤ã€ä¸€äº›ç¼ºé™· Bug ä¿®å¤çš„ï¼Œæ­¤ç±»è´¡çŒ® pr éƒ½æ˜¯å¾ˆå®¹æ˜“è¢«åˆå¹¶çš„ä¸”å¿«é€Ÿçš„ï¼›</li><li>å¯¹äºä¸€äº›ç¤¾åŒºçš„è‡ªå®šä¹‰åŠŸèƒ½ï¼Œå»ºè®®è®¾ç½®ä¸ºåªåœ¨ç¤¾åŒº Deepin ä¸Šç”Ÿæ•ˆï¼Œä¸”åœ¨ UOS ä¸Šé»˜è®¤ç”Ÿæ•ˆæ˜¯ä¸ç”Ÿæ•ˆå…³é—­çš„ï¼Œèƒ½å¤ŸåŠ å¿«è¢«è¢«åˆå¹¶çš„é€Ÿåº¦ï¼›</li><li>å¯¹äºä¸€äº›æ–°åŠŸèƒ½å’Œç‰¹æ€§ï¼Œè‹¥æ˜¯ UOS ç‰ˆæœ¬åˆšå¥½éœ€è¦ï¼Œæˆ–è€…åœ¨è§„åˆ’ä¸­ï¼Œä¹Ÿèƒ½å¤Ÿè¢«å¿«é€Ÿåˆå¹¶ï¼›</li><li>å¯¹äºä¸ªäººå’Œæ¥è‡ªç¤¾åŒºçš„è½®å­ï¼Œæ²Ÿé€šä¸‹ï¼Œä¹Ÿæ˜¯å¾ˆå®¹æ˜“è¢«åˆå¹¶çš„ï¼Œç¤¾åŒºéƒ½æ˜¯å¾ˆæœŸå¾…çš„ï¼ˆæ²¡æœ‰å•†ä¸šçº¿é‚£ä¹ˆä¸¥æ ¼çš„è§„èŒƒå’Œæµç¨‹ï¼‰ï¼›</li><li>å°½å¯èƒ½çš„å……åˆ†æµ‹è¯•å®Œæ•´å†æäº¤ï¼›</li><li><strong>ä¸€å®šè¦æ³¨æ„  <a href="https://github.com/linuxdeepin/developer-center/wiki/Commit%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83">Commitæäº¤è§„èŒƒ</a> ï¼›</strong></li><li>å¯ä»¥åœ¨ç¤¾åŒº bbs è®ºå›æˆ–è€… github è¿›è¡Œæ²Ÿé€šï¼Œæé†’</li></ol><p>å¦å¤–ï¼Œå¯¹äºç³»ç»Ÿç‰ˆæœ¬çš„åŒºåˆ†ï¼Œå¯ä»¥æ¨èä½¿ç”¨å¦‚ä¸‹æ¥å£çš„ç±» <a href="https://github.com/linuxdeepin/dtkcore/blob/523a51ab69e97b5fd8c906cb83ed3049888f680d/src/dsysinfo.h">dsysinfo.h</a> ï¼Œ æœ‰ç©ºå†å†™ä¸€ä¸ªè¯¦ç»†çš„æ•™ç¨‹ï¼ŒåŒºåˆ†ç³»ç»Ÿçš„å„ä¸ªç‰ˆæœ¬ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">QString <span class="token class-name">DSysInfo</span><span class="token double-colon punctuation">::</span><span class="token function">uosEditionName</span><span class="token punctuation">(</span><span class="token keyword">const</span> QLocale <span class="token operator">&amp;</span>locale<span class="token punctuation">)</span> <span class="token comment">// è·å–ç‰ˆæœ¬åç§°ï¼Œæ¯”å¦‚è‹±æ–‡çš„è¯è¿”å›"Professional"/"Home"/"Community"...</span><span class="token keyword">enum</span> <span class="token class-name">UosEdition</span> <span class="token punctuation">&#123;</span>    UosEditionUnknown<span class="token punctuation">,</span>    UosProfessional<span class="token punctuation">,</span>  <span class="token comment">//ä¸“ä¸šç‰ˆ</span>    UosHome<span class="token punctuation">,</span>   <span class="token comment">//ä¸ªäººç‰ˆ</span>    UosCommunity<span class="token punctuation">,</span>    <span class="token comment">//ç¤¾åŒºç‰ˆ</span>    UosMilitary<span class="token punctuation">,</span>    UosEnterprise<span class="token punctuation">,</span>    UosEnterpriseC<span class="token punctuation">,</span>    UosEuler<span class="token punctuation">,</span>    <span class="token comment">// æ¬§æ‹‰ç‰ˆ</span>    UosMilitaryS<span class="token punctuation">,</span> <span class="token comment">// for Server</span>    UosEditionCount <span class="token comment">// must at last</span><span class="token punctuation">&#125;</span>ï¼›<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token comment">// ä¸æ¨èä½¿ç”¨ä¸‹é¢çš„æ¥å£ï¼Œåé¢æ­¤æ¥å£ä¼šè¢«ç§»é™¤çš„ã€‚</span>    <span class="token keyword">enum</span> <span class="token class-name">ProductType</span> <span class="token punctuation">&#123;</span>        UnknownType <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>        Deepin<span class="token punctuation">,</span>        ArchLinux<span class="token punctuation">,</span>        CentOS<span class="token punctuation">,</span>        Debian<span class="token punctuation">,</span>        Fedora<span class="token punctuation">,</span>        LinuxMint<span class="token punctuation">,</span>        Manjaro<span class="token punctuation">,</span>        openSUSE<span class="token punctuation">,</span>        SailfishOS<span class="token punctuation">,</span>        Ubuntu<span class="token punctuation">,</span>        Uos    <span class="token punctuation">&#125;</span>ï¼›    <span class="token keyword">enum</span> <span class="token class-name">DeepinType</span> <span class="token punctuation">&#123;</span>        UnknownDeepin <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>        DeepinDesktop<span class="token punctuation">,</span>        DeepinProfessional<span class="token punctuation">,</span>        DeepinServer<span class="token punctuation">,</span>        DeepinPersonal    <span class="token punctuation">&#125;</span>ï¼›<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="æ›´æ–°-2020-11-16"><a href="#æ›´æ–°-2020-11-16" class="headerlink" title="æ›´æ–°: 2020-11-16"></a>æ›´æ–°: 2020-11-16</h2><p>ä»¥ä¸‹ä¿®æ”¹æ—©å·²ç»æ—©å·²ç»å®Œæˆï¼Œ ä¸è¿‡ç”±äºå‘å¸ƒç‰ˆæœ¬æ—¶é—´çš„å®‰æ’ï¼Œ é¢„è®¡çš„å‘å¸ƒç­–ç•¥ï¼Œ æ•´ä½“çš„èµ¶è¿›åº¦ï¼Œ ç»™æµ‹è¯•é¢„ç•™æ—¶é—´ï¼Œ å’Œåè°ƒå…¶å®ƒé¡¹ç›®çš„å¼€å‘è€…æ²Ÿé€šï¼Œä¸€èµ·åˆä½œç­‰ç­‰å¤šæ–¹é¢å› ç´ ï¼Œ å¯¼è‡´ä¸èƒ½ä¸€è¢«ä¿®å¤å°±ç«‹é©¬å®‰æ’ä¸Šï¼Œçœ‹åˆ°ä½œç”¨.</p><p>ä¿®å¤ <strong>æ§åˆ¶ä¸­å¿ƒï¼Œ æ·»åŠ åœ†è§’ä¿®æ”¹çª—å£çš„å¸ƒå±€é”™è¯¯ï¼Œå¯¼è‡´é»˜è®¤é€æ˜åº¦æ¨¡å—è¢«å‹ç¼©äº†çš„ Bug</strong>:</p><ul><li>æœ¬éƒ¨åˆ†ä¿®æ”¹æ¶‰åŠåˆ°å‰ç«¯æ”¯æŒ:<ul><li><code>dde-control-center</code>: <a href="https://github.com/linuxdeepin/dde-control-center/commit/a6ea6be6927efede1ee3b7aac7265adcb62c21a9">a6ea6be6</a></li></ul></li></ul><br><p>ä¿®å¤ <strong>æ³¨é”€&#x2F;é‡å¯åï¼Œä»»åŠ¡æ å’Œæ´»åŠ¨çª—å£ç›´è§’å°±æˆåœ†è§’äº†ï¼ŒçŠ¶æ€ä¸èƒ½å¤Ÿä¿å­˜çš„ bugï¼›</strong></p><ul><li>æœ¬éƒ¨åˆ†ä¿®æ”¹æ¶‰åŠåˆ°åç«¯æ”¯æŒ:<ul><li><code>dde-daemon</code> : <a href="https://github.com/linuxdeepin/dde-daemon/commit/a6fee1b90fad7bf3a5414a241c90266bc2275322">a6fee1b9</a></li><li><code>startdde</code> : <a href="https://github.com/linuxdeepin/startdde/commit/f7b62e85d599e0c87734d2f4365b3fd15dd49cee">f7b62e85</a> </li><li><code>deepin-desktop-schemas</code>:  <a href="https://github.com/linuxdeepin/deepin-desktop-schemas/commit/73b992dae8984675a3d93c96c200dd5baf31fe88">73b992da</a>ï¼Œ  <a href="https://github.com/linuxdeepin/deepin-desktop-schemas/commit/9b448b22823d8d2fa051f792f161fd5c3eaa89af">9b448b22</a></li></ul></li><li>æœ¬éƒ¨åˆ†ä¿®æ”¹æ¶‰åŠåˆ°å‰ç«¯æ”¯æŒ:<ul><li><code>dde-control-center</code>: <a href="https://github.com/linuxdeepin/dde-control-center/commit/e523a87f80726dff196bccb78bbe5b1c2b0366ad">e523a87f</a></li></ul></li></ul><br><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“:"></a>æ€»ç»“:</h2><p>ä¿®æ”¹ä¸€ä¸ªå®šä¹‰çª—å£åœ†è§’ï¼Œåœ¨ç¤¾åŒºä¸­æ—©å·²ç»æœ‰äººç»™å‡ºç›¸åº”çš„æ•™ç¨‹ï¼Œæ–¹æ³•æ˜¯ä¿®æ”¹ä¸€ä¸ª <code>dtkgui</code> é¡¹ç›®æ•°å€¼ï¼Œç„¶åé‡æ–°ç”Ÿæˆå¯¹åº”çš„äºŒè¿›åˆ¶åæ›¿æ¢åˆ°ç³»ç»Ÿç›®å½•ä¸­ï¼›è™½ç„¶æš‚æ—¶å¯è¡Œï¼Œä½†æ˜¯ä¼šæœ‰ä¸è§„èŒƒï¼Œå’Œé‡å¯æˆ–è€…æ³¨é”€ä¹‹åï¼Œ å¤±æ•ˆçš„é—®é¢˜ï¼Œ æ–¹æ³•æ¯”è¾ƒç®€å•ä¸”ç²—çŠ·å’Œæœ‰æ•ˆï¼Œ ä¸”æ›¿æ¢æ–¹å¼å¤æ‚ï¼Œ <strong>æ„Ÿè§‰ä¸æ˜¯é‚£ä¹ˆçš„ç®€æ´å’Œä¼˜é›…ï¼›</strong> </p><p>åªæ˜¯è¯´èƒ½ç”¨ï¼Œè°è¯´å®˜æ–¹è¿Ÿè¿Ÿæœªè¿›è¡Œæ­¤åŠŸèƒ½å‘¢? è¿«ä¸åŠå¾…çš„çƒ­æƒ…æŠ€æœ¯è€…ä»¬ï¼Œ å°±åªå¥½è‡ªå·±åŠ¨æ‰‹å…ˆæ¥æ¢æ¢è·¯ï¼Œ æä¸€ä¸ªå¯ç”¨æ–¹å¼ï¼Œ å…ˆå®Œæˆå¯è¾¾åˆ°çš„é¢„æœŸå†è¯´ï¼Œ èˆ’å¦äº†~ï¼›</p><p><strong>ä½†ä½œä¸ºæ­£å¼çš„ä¿®æ”¹ï¼Œ</strong>  è‚¯å®šä¸èƒ½åŒæ ·çš„å¯¹å¾…ï¼Œ å¾—ç¬¦åˆä¸€ä¸ªdtk çš„é£æ ¼ï¼Œ æ–¹ä¾¿ç”¨æˆ·ï¼Œ åŠŸèƒ½ä¸Šå’Œäº§å“è®¾è®¡çš„è§„åˆ’ä¸èƒ½å†²çªï¼Œ æ¥å£çš„ä¿®æ”¹è¦è§„èŒƒï¼Œ ä¸”è¦ä¿æŒæ¥å£å‘ä¸‹å…¼å®¹.</p><br><p>æœ¬ä»¥ä¸ºæ˜¯ä¿®æ”¹ä¸€ä¸ªç®€å•åŠŸèƒ½ï¼Œ ä½†æ˜¯ä¼šæœ€åä¼šç‰µæ¶‰åˆ°å¦‚æ­¤å¤šçš„é¡¹ç›®ï¼Œ æ˜¯æˆ‘æ²¡æœ‰æƒ³åˆ°çš„: <code>dde-daemon</code>ã€<code>startdde</code> ã€<code>deepin-desktop-schemas</code>ã€<code>dde-control-center</code>ã€<code>dtkgui</code>ã€ <code>dde-dock</code> å…¨ç¨‹ä¸€å…±æœ‰ 6 ä¸ªï¼Œä¸”å…¶ä¸­å¥½å‡ ä¸ªéƒ½æ˜¯å¾ˆé‡è¦çš„æ ¸å¿ƒåŸºç¡€åº“ï¼Œä¿®æ”¹çš„è¯ï¼Œ ä¼šå¯¹å…¶ä»–å¾ˆå¤šé¡¹ç›®éƒ½æœ‰å½±å“ï¼Œæ‰€ä»¥ä¿®æ”¹çš„æ—¶å€™æ¯”è¾ƒæ…é‡å’Œå°å¿ƒã€‚ ä¸è¿‡æœ€åç®—æ˜¯ç»™ç¤¾åŒºåŠ ä¸Šäº†è¿™ä¸ªåŠŸèƒ½ï¼Œè¿˜æ˜¯å¾ˆå¼€å¿ƒçš„ã€‚ Happy~;</p><br><h3 id="ç³»åˆ—åœ°å€ï¼š"><a href="#ç³»åˆ—åœ°å€ï¼š" class="headerlink" title="ç³»åˆ—åœ°å€ï¼š"></a>ç³»åˆ—åœ°å€ï¼š</h3><p><a href="https://github.com/xmuli/QtExamples">QtExamples</a></p><p>æ¬¢è¿ <code>star</code> å’Œ <code>fork</code> è¿™ä¸ªç³»åˆ—çš„ QT &#x2F; DTK å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DTK </tag>
            
            <tag> Deepin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MateBoook x pro 2020 å‡çº§ 1T å›ºæ€</title>
      <link href="/posts/14c67397/"/>
      <url>/posts/14c67397/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€å°† <code>MateBoook x pro 2020</code> æ›¿æ¢ä¸º 1T å›ºæ€ã€‚å¯¹äºåˆšä¹°çš„æ–°ç¬”è®°æœ¬ï¼Œæ˜¨æ™šä¸Šåˆ°è´§ï¼Œ ä»Šå¤©æ—©ä¸Šå°±å°†å…¶æ‹†æœºï¼Œå°† 512 G å›ºæ€å‡çº§ä¸º 1T ï¼›é¡ºä¾¿æƒ³çœ‹çœ‹æ˜¯æ— é£æ‰‡è¿˜æ˜¯æœ‰é£æ‰‡æ‰‡çƒ­ã€‚é™„ä¸Šæ‹†æœºå›¾è§£ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/Image26.jpg" width="80%"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="èƒŒæ™¯ï¼š"><a href="#èƒŒæ™¯ï¼š" class="headerlink" title="èƒŒæ™¯ï¼š"></a>èƒŒæ™¯ï¼š</h3><p>åˆšä¹°çš„ <code>MateBoook x pro 2020</code> ï¼Œå…¶é…ç½®æ˜¯ <code>i5-10210U</code> + <code>16G</code> å†…å­˜ + <code>512G</code> SSDï¼Œæœ¬æ¬²ç›´æ¥ä¹° i7 åä»£çš„ CPUï¼Œä½†æ˜¯åšäº†ä¸€ä¸‹åŠŸè¯¾ï¼Œéƒ½æ˜¯ U å¼€å¤´ï¼Œä¸” i7 åä»£åªæ¯” i5 åä»£ æå‡ 10%ï¼Œä½†æ˜¯ä»·æ ¼è¦è´µğŸ’° 1000  ï¼Œè€Œ å›ºæ€çš„è¯ç›´æ¥è´­ä¹° 1T çš„ï¼Œç›¸æ¯” 512G çš„è¯ï¼Œä¼šé¢å¤–æ¶ˆè€— ğŸ’° 3000 å…ƒã€‚<strong>å±äºé‚£ç§å¯ä»¥ä¹°ï¼Œä½†æ˜¯æ²¡æœ‰å¿…è¦</strong> ç³»åˆ—ã€‚ è‡ªå·±èŠ±é’±ä¹°ä¸€ä¸ª 1T çš„ SSD ï¼ˆä¹°çš„è¥¿éƒ¨æ•°æ®çš„ï¼Œæœ€åç¨³äº†ï¼‰æ›¿æ¢ä¸Šå³å¯ï¼Œä¸è´µè¿˜èƒ½åŠ¨æ‰‹çœ‹çœ‹ã€‚</p><br><p>ä¹Ÿæ˜¯ç›®å‰æ‹†æœºè®°å½•ï¼Œåˆ°æ‰‹ 12 h ä¸åˆ°ï¼Œå°±è¢«æ‹†å¼€äº†ã€‚ </p><br><h2 id="å¼€å°ï¼š"><a href="#å¼€å°ï¼š" class="headerlink" title="å¼€å°ï¼š"></a>å¼€å°ï¼š</h2><p>å…ˆæ‹†æœºä¿ä½‘ğŸ™ï¼š </p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/Image00.jpg" width="80%"/ loading="lazy"><br><h2 id="æ‹†ç¬”è®°æœ¬åç›–ï¼š"><a href="#æ‹†ç¬”è®°æœ¬åç›–ï¼š" class="headerlink" title="æ‹†ç¬”è®°æœ¬åç›–ï¼š"></a>æ‹†ç¬”è®°æœ¬åç›–ï¼š</h2><p>å»ä¸‹èºä¸ï¼Œä½¿ç”¨æ’¬ç‰‡ï¼Œç„¶åå‘ç°ä¸­é—´åŒºåŸŸä¸€ç›´å¾ˆç´§ï¼Œæ‰¯ä¸å¼€ï¼ŒçŒœæµ‹åªæ˜¯åŒé¢èƒ¶ç²˜ä½äº†ï¼Œå®é™…å‘ç°åªæœ‰ä¸€ä¸ªå¡æ‰£ï¼Œæ‰€ä»¥å¯ä»¥æ”¾å¿ƒå¤§åŠ›å‡ºå¥‡è¿¹ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20201008231939.png" width="80%"/ loading="lazy"><br><p>æ‹†å¼€åç›–ï¼Œä¸å¯ä»¥æ­¤å¤„ç›´æ¥æ‹†å¸èºä¸ï¼ŒæŠ½å‡º ssdï¼Œ åº”ä¸ºå®ƒæœ‰é»èƒ¶è´´åœ¨æ‰‡çƒ­ä¸Šã€‚çœ‹åˆ°ä¸€äº›è§†é¢‘æœ‰è¯´ï¼Œå®ƒæ˜¯ 2020 æœºå‹æ˜¯æ— é£æ‰‡ã€è¢«åŠ¨æ‰‡çƒ­ï¼Œæˆ‘ä¸ä¿¡ï¼Œè§‰å¾—åº”è¯¥ä½œä¸äº†è¿™ä¹ˆå¼ºï¼Œæ‰“å¼€æœç„¶è¿˜æ˜¯æœ‰é£æ‰‡çš„ï¼Œï¼ˆæœ¬æƒ³åšåŠŸè¯¾çš„ï¼Œç»“æœç½‘ä¸Šéƒ½æ˜¯åŒæ ·ä¸€ç¯‡çš„è¥é”€ï¼Œæµªè´¹æ—¶é—´çœ‹å¹¿å‘Šï¼Œè¿˜éƒ½æ˜¯é”™è¯¯çš„ï¼Œæœºå‹å’Œæ–‡ç« æˆ–è€…è§†é¢‘ éƒ½ä¸ç¬¦åˆï¼Œå…¨é æ ‡é¢˜ ğŸ™„ğŸ™„ï¼Œæ°ªï¼‰</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20201008232236.png" width="80%"/ loading="lazy"><br><p>å°†æ‰‡çƒ­é“œç®¡æ‹†å¼€ï¼Œå¯ä»¥çœ‹åˆ°å†…éƒ¨ç»“æ„ã€‚æ¢ä¸Šè‡ªè´­çš„ 1T å›ºæ€ï¼ˆHUAWEI å®˜ç½‘å†™ç†è®ºæœ€å¤§æ”¯æŒ 1Tã€‚æ²¡æœ‰å°è¯• 2Tï¼Œä¹Ÿæš‚æ— éœ€æ±‚ï¼Œä¸è¿‡æˆ‘çŒœæµ‹å®é™…ä¹Ÿæ˜¯æ”¯æŒçš„ï¼‰</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20201008232442.png" width="80%"/ loading="lazy"><br><h2 id="æ‰‡çƒ­æ¨¡å—ï¼š"><a href="#æ‰‡çƒ­æ¨¡å—ï¼š" class="headerlink" title="æ‰‡çƒ­æ¨¡å—ï¼š"></a>æ‰‡çƒ­æ¨¡å—ï¼š</h2><p>å¯¹äº  <code>MateBoook x pro 2020</code> æœºå‹çš„æ‰‡çƒ­èƒ½åŠ›ï¼Œåœ¨è¿™é‡Œä¹Ÿæ”¾ä¸Šå›¾ï¼Œå®é™…ä½“éªŒï¼Œæ„Ÿè§‰è¿˜è¡Œã€‚æ¯•ç«Ÿè¿˜æœ‰å°é£æ‰‡ï¼Œ <code>åä»£ CPU</code> å¥½åƒä¹Ÿæ˜¯å¯ä»¥æ˜¯æ™ºèƒ½è°ƒé¢‘çš„ã€‚åº”è¯¥ä¹Ÿè¿˜è¡Œ</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20201008233906.png" width="80%"/ loading="lazy"><br><h2 id="é‡è£…ç³»ç»Ÿï¼š"><a href="#é‡è£…ç³»ç»Ÿï¼š" class="headerlink" title="é‡è£…ç³»ç»Ÿï¼š"></a>é‡è£…ç³»ç»Ÿï¼š</h2><p>æ’ä¸Šæ—©å·²ç»å‡†å¤‡å¥½çš„ PE Uç›˜ï¼Œå…ˆä¸åˆç›–ï¼Œçœ‹èƒ½å¦é¡ºåˆ©é‡è£…ç³»ç»Ÿã€‚HUAWEI ç¬”è®°æœ¬è¿›å…¥ bios æ˜¯ F2ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20201008233216.png" width="80%"/ loading="lazy"><br><p>è¦æ ¼å¼åŒ–ä¸€ä¸‹æ–°çš„ SSDï¼Œæ‰èƒ½å¤Ÿè¢« PE ç³»ç»Ÿè¯†åˆ«ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20201008233437.png" width="80%"/ loading="lazy"><br><h2 id="æˆåŠŸï¼š"><a href="#æˆåŠŸï¼š" class="headerlink" title="æˆåŠŸï¼š"></a>æˆåŠŸï¼š</h2><p>ç„¶åå°±æ˜¯å¸¸è§çš„åˆ›å»ºåˆ†åŒºè¡¨ã€åˆ†åŒºã€æ ¼å¼åŒ–ã€é‡è£…ç³»ç»Ÿç­‰æ­¥éª¤ï¼Œå°±ä¸å†å±•å¼€ã€‚æˆåŠŸï¼Œç„¶åç»„è£…å¥½åç›–æ¿ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/Image01.jpg" width="80%"/ loading="lazy"><br><h2 id="å…¶å®ƒï¼š"><a href="#å…¶å®ƒï¼š" class="headerlink" title="å…¶å®ƒï¼š"></a>å…¶å®ƒï¼š</h2><p>é¡ºå¸¦å‡ºä¸€ä¸ª åŸè£… çš„ 512G çš„ SSDï¼Œç”¨ä¸ç€äº†ï¼Œï¼Œä»·æ ¼åˆé€‚ï¼Œå¯ä»¥å¸¦èµ°ï¼Œè”ç³»æ–¹å¼åšå®¢å·¦ä¾§ä»»é€‰ï¼Œå…¶è¯¦ç»†å‚æ•°å¦‚ä¸‹ï¼š512 GB çš„ M2.0 æ¥å£ï¼Œ NVMe PCIe åè®®çš„å›ºæ€ç¡¬ç›˜</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/Image0111.jpg" width="70%"/ loading="lazy">]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´» - é—²æš‡çš„è¶£é—» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‹†æœº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é«˜åˆ†å±ã€åˆ†è¾¨ç‡ã€DPIã€PPIï¼ŒåŠ Qt å¤„ç†é«˜åˆ†å±</title>
      <link href="/posts/359aeda5/"/>
      <url>/posts/359aeda5/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€é«˜åˆ†å±ã€<code>DPI</code>ã€<code>PPI</code>ã€å±å¹•åˆ†è¾¨ç‡çš„ä¸€äº›åŸºæœ¬çŸ¥è¯†ï¼Œä»¥åŠä½¿ç”¨ <code>Qt</code> å¤„ç†é«˜åˆ†å±çš„ä¸€äº›æ–¹æ³•é›†åˆå½’çº³ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h3><p><strong>è‹±å¯¸ï¼š</strong> inchï¼Œå¤æ•°ï¼šinchesï¼›ç¼©å†™ä¸ºinæˆ–â€³ï¼Œæˆ– <strong>è‹±å‹</strong>ï¼Œç®€ä½œ <strong>å‹</strong>ã€‚1 è‹±å¯¸ï¼ˆinchï¼‰ &#x3D; 2.54 å˜ç±³ï¼ˆcmï¼‰&#x3D; 25.4 æ¯«ç±³ï¼ˆmmï¼‰ã€‚</p><p><strong>åƒç´ ï¼š</strong> pixel æˆ– pelï¼Œä¸ºå½±åƒæ˜¾ç¤ºçš„åŸºæœ¬å•ä½ï¼Œå¯çœ‹ä½œä¸€ä¸ªç‚¹æˆ–æ–¹å—ï¼ˆä¸æ˜¯è·ç¦»å•ä½ï¼‰ã€‚æ¯ä¸ªåƒç´ æœ‰è‡ªå·±çš„RGBå€¼ï¼Œå•ä½é¢ç§¯çš„åƒç´ è¶Šå¤šï¼Œåˆ™è¡¨ç¤ºå…¶åˆ†è¾¨ç‡è¶Šé«˜ã€‚</p><p><strong>PPI:</strong>   æ¯è‹±å¯¸çš„åƒç´ ä¸ªæ•°ï¼ˆæ­¤å¤„ä¸€è‹±å¯¸ä¸ºå¯¹è§’çº¿é•¿åº¦ã€ä¸”è¯´çš„æ˜¯åƒç´ å¯†åº¦ï¼‰ã€‚ç”± <strong>åˆ†è¾¨ç‡</strong> ä¸­Xæˆ–Yè½´çš„æ•°å­—é™¤ä»¥è¯¥è½´çš„é•¿åº¦(è‹±å¯¸)ï¼Œå¯å¾—è¯¥è½´çš„åƒç´ æ¯è‹±å¯¸å¯†åº¦ã€‚</p><p><strong>DPIï¼š</strong> æ¯è‹±å¯¸çš„ç‚¹ä¸ªæ•°ï¼ˆæ­¤å¤„ä¸€è‹±å¯¸ä¸ºå¯¹è§’çº¿é•¿åº¦ã€ä¸”è¯´çš„æ˜¯æ‰“å°ç‚¹å¯†åº¦ï¼‰ã€‚</p><br><blockquote><p>PPI é€šå¸¸ä½¿ç”¨äºè®¡ç®—æœºå±å¹•ï¼ŒDPI é€šå¸¸ä½¿ç”¨äºæ‰“å°æœºï¼›ä½†æ˜¯è¿™ä¸¤è€…ä¹‹é—´é€šå¸¸è¢«æ··ç”¨ï¼Œéœ€è¦åœ¨å…·ä½“çš„ä¸Šä¸‹æ–‡å»ç†è§£å…¶å«ä¹‰ã€‚</p></blockquote><hr><br><p><strong>å±å¹•å°ºå¯¸ï¼š</strong> æŒ‡çš„æ˜¯ä¸€ä¸ªç”µå­è®¾å¤‡çš„å±å¹•å¯¹è§’çº¿çš„é•¿åº¦ã€‚</p><p><strong>åˆ†è¾¨ç‡ï¼š</strong> æ˜¯æŒ‡å®½åº¦ä¸Šå’Œé«˜åº¦ä¸Šæœ€å¤šèƒ½æ˜¾ç¤ºçš„ç‰©ç†åƒç´ ç‚¹ä¸ªæ•°ï¼ˆè¯´çš„æ˜¯å—å±å¹•çš„åƒç´ å°ºå¯¸ï¼‰ã€‚</p><p><strong>ç‚¹è·ï¼š</strong> åƒç´ ä¸åƒç´ ä¹‹é—´çš„è·ç¦»ï¼Œç‚¹è·å’Œå±å¹•å°ºå¯¸å†³å®šäº†åˆ†è¾¨ç‡å¤§å°</p><p><strong>è®¾å¤‡åƒç´ (åˆç§°ä¸ºç‰©ç†åƒç´ )ï¼š</strong> æŒ‡è®¾å¤‡èƒ½æ§åˆ¶æ˜¾ç¤ºçš„æœ€å°ç‰©ç†å•ä½ï¼Œæ„æŒ‡æ˜¾ç¤ºå™¨ä¸Šä¸€ä¸ªä¸ªçš„ç‚¹ã€‚ä»å±å¹•åœ¨å·¥å‚ç”Ÿäº§å‡ºçš„é‚£å¤©èµ·ï¼Œå®ƒä¸Šé¢è®¾å¤‡åƒç´ ç‚¹å°±å›ºå®šä¸å˜äº†ï¼Œå’Œå±å¹•å°ºå¯¸å¤§å°æœ‰å…³ï¼Œå•ä½ ptã€‚</p><p><strong>è®¾å¤‡ç‹¬ç«‹åƒç´ (ä¹Ÿå«å¯†åº¦æ— å…³åƒç´ æˆ–é€»è¾‘åƒç´ )ï¼š</strong> å¯ä»¥è®¤ä¸ºæ˜¯è®¡ç®—æœºåæ ‡ç³»ç»Ÿä¸­å¾—ä¸€ä¸ªç‚¹ï¼Œè¿™ä¸ªç‚¹ä»£è¡¨ä¸€ä¸ªå¯ä»¥ç”±ç¨‹åºä½¿ç”¨çš„è™šæ‹Ÿåƒç´ (æ¯”å¦‚: cssåƒç´ )ï¼Œè¿™ä¸ªç‚¹æ˜¯æ²¡æœ‰å›ºå®šå¤§å°çš„ï¼Œè¶Šå°è¶Šæ¸…æ™°ï¼Œç„¶åç”±ç›¸å…³ç³»ç»Ÿè½¬æ¢ä¸ºç‰©ç†åƒç´ ã€‚</p><p><strong>cssåƒç´ (ä¹Ÿå«è™šæ‹Ÿåƒç´ )ï¼š</strong> æŒ‡çš„æ˜¯ CSS æ ·å¼ä»£ç ä¸­ä½¿ç”¨çš„é€»è¾‘åƒç´ ï¼Œåœ¨ CSS è§„èŒƒä¸­ï¼Œé•¿åº¦å•ä½å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼Œç»å¯¹(absolute)å•ä½ä»¥åŠç›¸å¯¹(relative)å•ä½ã€‚px æ˜¯ä¸€ä¸ªç›¸å¯¹å•ä½ï¼Œç›¸å¯¹çš„æ˜¯è®¾å¤‡åƒç´ (device pixel)ã€‚</p><p><strong>è®¾å¤‡åƒç´ æ¯”ï¼ˆdevicePixelRatioï¼‰ï¼š</strong> è®¾å¤‡åƒç´ æ¯” &#x3D; è®¾å¤‡åƒç´  &#x2F; è®¾å¤‡ç‹¬ç«‹åƒç´ ã€‚(åœ¨Retinaå±çš„iphoneä¸Šï¼ŒDPRä¸º2ï¼Œ1ä¸ªcssåƒç´ ç›¸å½“äº2ä¸ªç‰©ç†åƒç´ )</p><ul><li>æ™®é€šå¯†åº¦æ¡Œé¢æ˜¾ç¤ºå±çš„ devicePixelRatio&#x3D;1</li><li>é«˜å¯†åº¦æ¡Œé¢æ˜¾ç¤ºå±(Mac Retina)çš„ devicePixelRatio&#x3D;2</li><li>ä¸»æµæ‰‹æœºæ˜¾ç¤ºå±çš„ devicePixelRatio&#x3D;2æˆ–3</li></ul><hr><br><p><strong>è§†ç½‘è†œæ˜¾ç¤ºå±  &#x3D;&#x3D;  Retinaæ˜¾ç¤ºå±</strong></p><p><strong>é«˜PPI(ç¡¬ä»¶) + HiDPIæ¸²æŸ“(è½¯ä»¶) &#x3D; æ›´ç»†è…»çš„æ˜¾ç¤ºæ•ˆæœ(retina)</strong></p><br><h3 id="æ–¹æ¡ˆ"><a href="#æ–¹æ¡ˆ" class="headerlink" title="æ–¹æ¡ˆ"></a>æ–¹æ¡ˆ</h3><p>æä¾›å‡ ç§è§£å†³æ–¹æ¡ˆï¼Œè‹¥æœ‰æ›´å¥½çš„æ¬¢è¿è¡¥å……</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// 2022-06-18 é«˜åˆ†å±é€‚é…çš„è®¸å¤šå°è¯•:</span><span class="token comment">//ã€æ–¹æ¡ˆä¸€ã€‘ Qt 5.14+, è§£å†³ 1.5ä¼šç¼©æ”¾åˆ°2å€ï¼Œä¸è¿‡æ˜¾ç¤ºä¼šæœ‰é—®é¢˜ï¼Œæ¯”å¦‚æŒ‰é’®ä¹‹é—´æ—¶ä¸æ—¶ä¼šæœ‰è™šçº¿ã€‚</span><span class="token function">qputenv</span><span class="token punctuation">(</span><span class="token string">"QT_ENABLE_HIGHDPI_SCALING"</span><span class="token punctuation">,</span> <span class="token string">"1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">QGuiApplication</span><span class="token double-colon punctuation">::</span><span class="token function">setHighDpiScaleFactorRoundingPolicy</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>HighDpiScaleFactorRoundingPolicy<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ã€æ–¹æ¡ˆäºŒã€‘ Qt5.12 æ›¿ä»£æ–¹æ¡ˆ</span><span class="token function">qputenv</span><span class="token punctuation">(</span><span class="token string">"QT_AUTO_SCREEN_SCALE_FACTOR"</span><span class="token punctuation">,</span> <span class="token string">"1.5"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ã€æ–¹æ¡ˆä¸‰ã€‘ Qt5.12 æ›¿ä»£æ–¹æ¡ˆ</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">if</span> <span class="token expression"><span class="token punctuation">(</span>QT_VERSION <span class="token operator">>=</span> <span class="token function">QT_VERSION_CHECK</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span>    <span class="token function">qputenv</span><span class="token punctuation">(</span><span class="token string">"QT_SCALE_FACTOR"</span><span class="token punctuation">,</span> <span class="token string">"1.0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å…¨å±€ç¼©æ”¾å› å­ https://blog.csdn.net/u014410266/article/details/107488789</span>    <span class="token class-name">QApplication</span><span class="token double-colon punctuation">::</span><span class="token function">setAttribute</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>AA_EnableHighDpiScaling<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><span class="token comment">//ã€æ–¹æ¡ˆå››ã€‘ ä½¿ç”¨ windows è‡ªå¸¦çš„</span>exe ç»Ÿè®¡ç›®å½•ä¸‹ä½¿ç”¨ qt<span class="token punctuation">.</span>conf æ–‡ä»¶<span class="token comment">// ä¸‰ç§æ–¹æ¡ˆ https://blog.csdn.net/hanjiang08/article/details/124653265</span><span class="token comment">// https://blog.csdn.net/qq_18260845/article/details/103861201</span><span class="token comment">// https://blog.csdn.net/feiyangqingyun/article/details/124860909</span>    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">if</span><span class="token expression"><span class="token punctuation">(</span>QT_VERSION <span class="token operator">></span> <span class="token function">QT_VERSION_CHECK</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token comment">//    QGuiApplication::setAttribute(Qt::AA_EnableHighDpiScaling);  // 2Kã€4K 2@ å€ï¼›è·å–çš„åˆ†è¾¨ç‡ 4K ä¸‹å®é™…ä¸º /2 åã€‚ æ­¤è¡Œéœ€åœ¨ QApplication a(argc,argv);å‰é¢</span><span class="token comment">//    QCoreApplication::setAttribute(Qt::AA_UseHighDpiPixmaps);    // æ§åˆ¶å›¾ç‰‡ç¼©æ”¾è´¨é‡ï¼Œsvg çš„å›¾ç‰‡ä¸ä¼šæ¨¡ç³Šåœ¨ 4K ä¸Šã€‚   æ­¤è¡Œæ— éœ€åœ¨ QApplication a(argc,argv);å‰é¢</span>    qApp<span class="token operator">-></span><span class="token function">setAttribute</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>AA_UseHighDpiPixmaps<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è‹¥ä¸Šé¢ä¸€è¡Œæ²¡æœ‰ç”Ÿæ•ˆï¼Œä½†æ˜¯æ­¤è¡Œå¯ä»¥ç”Ÿæ•ˆ</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>```<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="ç‰©ç†-DPI-å’Œ-é€»è¾‘-DPI"><a href="#ç‰©ç†-DPI-å’Œ-é€»è¾‘-DPI" class="headerlink" title="ç‰©ç† DPI å’Œ é€»è¾‘ DPI"></a>ç‰©ç† DPI å’Œ é€»è¾‘ DPI</h3><blockquote><p>A note on logical vs physical dots per inch: physical DPI is based on the actual physical pixel sizes when available, and is useful for print preview and other cases where itâ€™s desirable to know the exact physical dimensions of screen displayed contents.</p><p>Logical dots per inch are used to convert font and user interface elements from point sizes to pixel sizes, and might be different from the physical dots per inch. The logical dots per inch are sometimes user-settable in the desktop environmentâ€™s settings panel, to let the user globally control UI and font sizes in different applications.</p><p><strong>sourceï¼š<a href="https://doc.qt.io/qt-5/qscreen.html">https://doc.qt.io/qt-5/qscreen.html</a></strong></p></blockquote><p>ç‰©ç† DPIï¼šåŸºäºå®é™…çš„ç‰©ç†åƒç´ å°ºå¯¸</p><p>é€»è¾‘ DPIï¼šå°†å­—ä½“å’Œç”¨æˆ·ç•Œé¢å…ƒç´ ä»ç‚¹å¤§å°è½¬æ¢ä¸ºåƒç´ å¤§å°ã€‚å¯åœ¨ç³»ç»Ÿä¸­ç”±ç”¨æˆ·æ‰‹åŠ¨æ›´æ”¹ï¼ˆå¦‚å¼€å¯ 150% ç¼©æ”¾ï¼‰ã€‚</p><p>ç”±æµ‹è¯•å¯çŸ¥ï¼Œåœ¨â€è®¾ç½®-æ˜¾ç¤ºâ€ä¸­ï¼Œè°ƒèŠ‚â€æ˜¾ç¤ºå™¨åˆ†è¾¨ç‡â€ï¼Œä¼šæ”¹å˜è·å–çš„ Physical DPI æ•°å€¼ï¼›è€Œè°ƒèŠ‚â€ç¼©æ”¾æ¯”â€ï¼Œä¼šæ”¹å˜ Logical DPI æ•°å€¼ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">------------------------------------------4K<span class="token punctuation">(</span><span class="token number">3480</span>*2160<span class="token punctuation">)</span> <span class="token number">150</span>% ç¼©æ”¾æ¯”------------------------------------------devicePixelRatio: <span class="token number">1</span> physicalSize: QSizeF<span class="token punctuation">(</span><span class="token number">600</span>, <span class="token number">340</span><span class="token punctuation">)</span>   refreshRate: <span class="token number">59</span>  size: QSize<span class="token punctuation">(</span><span class="token number">3840</span>, <span class="token number">2160</span><span class="token punctuation">)</span> Scale: <span class="token number">1.5</span>Physical DPI: <span class="token number">161.962</span>   DPIX: <span class="token number">162.56</span>   DPIY: <span class="token number">161.365</span> Logical DPI: <span class="token number">144</span>   DPIX: <span class="token number">144</span>   DPIY: <span class="token number">144</span>------------------------------------------4K<span class="token punctuation">(</span><span class="token number">1920</span>*1080<span class="token punctuation">)</span> <span class="token number">150</span>% ç¼©æ”¾æ¯”------------------------------------------devicePixelRatio: <span class="token number">1</span> physicalSize: QSizeF<span class="token punctuation">(</span><span class="token number">600</span>, <span class="token number">340</span><span class="token punctuation">)</span>   refreshRate: <span class="token number">59</span> size: QSize<span class="token punctuation">(</span><span class="token number">1920</span>, <span class="token number">1080</span><span class="token punctuation">)</span>  Scale: <span class="token number">1.5</span>Physical DPI: <span class="token number">80.9812</span>   DPIX: <span class="token number">81.28</span>   DPIY: <span class="token number">80.6824</span> Logical DPI: <span class="token number">144</span>   DPIX: <span class="token number">144</span>   DPIY: <span class="token number">144</span> ------------------------------------------4K<span class="token punctuation">(</span><span class="token number">1920</span>*1080<span class="token punctuation">)</span> <span class="token number">100</span>% ç¼©æ”¾æ¯”------------------------------------------devicePixelRatio: <span class="token number">1</span> physicalSize: QSizeF<span class="token punctuation">(</span><span class="token number">600</span>, <span class="token number">340</span><span class="token punctuation">)</span>   refreshRate: <span class="token number">59</span> size: QSize<span class="token punctuation">(</span><span class="token number">1920</span>, <span class="token number">1080</span><span class="token punctuation">)</span>  Scale: <span class="token number">1</span>  Physical DPI: <span class="token number">80.9812</span>   DPIX: <span class="token number">81.28</span>   DPIY: <span class="token number">80.6824</span> Logical DPI: <span class="token number">96</span>   DPIX: <span class="token number">96</span>   DPIY: <span class="token number">96</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h3><ul><li><p><a href="https://blog.csdn.net/lxj362343/article/details/108338706">Qt å­—ä½“å­—å·å’Œå­—ä½“åƒç´ å…³ç³»</a> æ¨è</p></li><li><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-å…¶å®ƒèµ„æ–™â€”â€”â€”â€”â€”â€”â€”â€”â€”</p></li><li><p><a href="https://www.zhihu.com/question/40506180/answer/164301075">é€»è¾‘åˆ†è¾¨ç‡å’Œç‰©ç†åˆ†è¾¨ç‡åˆ°åº•æ˜¯ä»€ä¹ˆå‘€ï¼Ÿ - PeterZçš„å›ç­” - çŸ¥ä¹</a></p></li><li><p><a href="https://www.cnblogs.com/swarmbees/p/12004594.html">Qtä¹‹é«˜DPIæ˜¾ç¤ºå™¨(ä¸€) - è§£å†³æ–¹æ¡ˆæ•´ç†</a></p></li><li><p><a href="https://www.jianshu.com/p/5cf1f9be264b">åˆ†è¾¨ç‡ï¼ŒPPi,DPI,DPR,ç‰©ç†åƒç´ ï¼Œé€»è¾‘åƒç´ åŒºåˆ«</a></p></li><li><p><a href="https://juejin.im/entry/6844903520081018894">å‰ç«¯ä¸æ­¢ï¼šRetinaå±å¹•ä¸‹ä¸¤å€å›¾</a></p></li><li><p><a href="https://zhuanlan.zhihu.com/p/20684620">æœ‰å…³retinaå’ŒHiDPIé‚£ç‚¹äº‹</a></p></li><li><p><a href="https://www.zhihu.com/question/20515881/answer/54799111">å¯¹äº Retina Display æœ‰å“ªäº›è¯¯è§£ï¼Ÿ - mysqtoçš„å›ç­” - çŸ¥ä¹</a></p></li><li><p><a href="https://blog.csdn.net/hyongilfmmm/article/details/83233589">Qt 2Dç»˜å›¾(5)ï¼šç»˜åˆ¶å›¾åƒåŸºç¡€</a></p></li><li><p><a href="https://blog.csdn.net/qq_40925722/article/details/88373436">C++ Qt é«˜åˆ†å±å¤„ç†å¿ƒå¾—_è¶…å“¥çš„åšå®¢-CSDNåšå®¢</a></p></li><li><p><a href="https://blog.csdn.net/u014597198/article/details/86149979">(52æ¡æ¶ˆæ¯)Qt on Mac å¼€å‘ä¹‹ Qtåœ¨Retinaå±å¹•ä¸Šçš„é‚£äº›é—®é¢˜_æ²™å¸ˆå¼Ÿä¸“æ -CSDNåšå®¢</a></p></li><li><p><a href="https://blog.csdn.net/weixin_42132304/article/details/104667560">QTæ§ä»¶å­—ä½“æ ¹æ®ç³»ç»Ÿç¼©æ”¾æ¯”ä¾‹(DPI)è‡ªé€‚åº”_weixin_42132304çš„åšå®¢-CSDNåšå®¢</a></p></li><li><p><a href="https://doc.qt.io/qt-5/highdpi.html">é«˜DPIæ˜¾ç¤º| Qt 5.15</a></p></li><li><p><a href="https://fantab01.com/articles/%E7%89%A9%E7%90%86%E5%83%8F%E7%B4%A0%E3%80%81%E9%80%BB%E8%BE%91%E5%83%8F%E7%B4%A0%E4%B8%8Eppi%E3%80%81dpi/">ç‰©ç†åƒç´ ã€é€»è¾‘åƒç´ ä¸PPIã€DPI â€“ fantab01çš„åšå®¢</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DTK åŸºç¡€æ•™ç¨‹ï¼šè‡ªå®šä¹‰æ§ä»¶è§„èŒƒ</title>
      <link href="/posts/525116e/"/>
      <url>/posts/525116e/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€<code>DTK</code> åŸºç¡€çŸ¥è¯†ï¼Œå°¤å…¶ä½¿ç”¨ <code>DTK</code> å¼€å‘åº”ç”¨è½¯ä»¶æˆ–è€…å‚ä¸ç»´æŠ¤ <code>DTK</code> åº“ï¼Œæ­¤éƒ½æ˜¯ä¸€ä¸ªè‰¯å¥½çš„å…¥é—¨çº§åˆ«çš„çŸ¥è¯†ï¼›ä¸”æœ¬æ–‡æ¡£ç€é‡è®²è§£ <strong>â€œDTKè‡ªå®šä¹‰æ§ä»¶â€</strong> çš„è§„èŒƒã€‚ æ­¤å¤„ä¸ºä¸€ä¸ªæ¬è¿ï¼Œä¸ºäº†æ˜“äºæœç´¢å’Œè‡ªå·±åšä¸€ä¸ªè®°å½•ï¼Œæ”¶å½•è¿›è‡ªå·±ç›®å½•ä¸­ã€‚</p><blockquote><p>ç»™ DTK åº“åŠ äº†ä¸€ä¸ªåŸºç¡€çŸ¥è¯†æ€§çš„ <a href="https://github.com/linuxdeepin/qt5integration/wiki/DTK-%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B">WiKi</a>ï¼Œé‡Œé¢æœ‰ä¸€äº› DTK ç»˜ç”»åŸºç¡€çŸ¥è¯†ã€ç»˜ç”»åŸç†æµç¨‹ã€è‡ªå®šä¹‰æ§ä»¶è§„èŒƒã€å›¾æ ‡çš„ä½¿ç”¨ã€‚ å…¶ç”± <a href="https://github.com/zccrs">zccrs</a> æ‰€ç¼–å†™ã€‚</p></blockquote><br><span id="more"></span><p>[TOC]</p><br><h2 id="QStyle"><a href="#QStyle" class="headerlink" title="QStyle"></a>QStyle</h2><p>é˜…è¯»æ­¤æ–‡æ¡£éœ€è¦ç‚¹æ­¤å…ˆç†Ÿæ‚‰ä»¥ä¸‹ç±»ï¼š</p><ul><li><a href="https://doc.qt.io/qt-5/qstyle.html">QStyle</a></li><li><a href="https://doc.qt.io/qt-5/qstyleoption.html">QStyleOption</a></li><li><a href="https://doc.qt.io/qt-5/qstylepainter.html">QStylePainter</a></li><li><a href="https://doc.qt.io/qt-5/qpalette.html">QPalette</a></li></ul><br><h2 id="DTK-Style"><a href="#DTK-Style" class="headerlink" title="DTK Style"></a>DTK Style</h2><p>DTK Styleæ’ä»¶çš„å®ç°å¯ä»¥åˆ’åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š</p><ul><li>Qt åº“çš„å†…ç½®æ§ä»¶</li><li>DTK è‡ªå®šä¹‰æ§ä»¶</li></ul><p>æœ¬æ–‡æ¡£ç€é‡è®²è§£â€œDTKè‡ªå®šä¹‰æ§ä»¶â€çš„è§„èŒƒã€‚DTK Widget æ¨¡å—è·Ÿæ§ä»¶æ ·å¼ç›¸å…³çš„ä¸»è¦æœ‰ä¸‰ä¸ªç±»ï¼š</p><ul><li><a href="https://gitlab.deepin.io/dde-v20/dtkwidget/blob/master/src/widgets/dstyle.h">DStyle</a></li><li><a href="https://gitlab.deepin.io/dde-v20/dtkwidget/blob/master/src/widgets/dstyleoption.h">DStyleOption</a></li><li><a href="https://gitlab.deepin.io/dde-v20/dtkwidget/blob/master/src/widgets/dstyleoption.h">DPalette</a></li></ul><br><h5 id="DStyle"><a href="#DStyle" class="headerlink" title="DStyle"></a>DStyle</h5><p>DStyle ç»§æ‰¿äº QCommonStyleï¼Œåœ¨åŸºç±»ï¼ˆQStyleï¼‰çš„åŸºç¡€ä¸Šæ·»åŠ äº†ä¸€äº›æšä¸¾å€¼ä»¥åŠç»˜åˆ¶ã€åŠ å·¥ç±»çš„å‡½æ•°ã€‚Qt æ‰€æœ‰å†…ç½®æ§ä»¶å‡åœ¨ paintEvent ä¸­ä½¿ç”¨ QStyle ä¸­æä¾›çš„å„ç§ drawXXX æ¥å£è¿›è¡Œç»˜åˆ¶ï¼Œå¦å¤–ï¼ŒQStyle ä¸­å®šä¹‰äº†å¤§é‡çš„æšä¸¾ç±»å‹ï¼Œå¦‚ QStyle::PrimitiveElementã€QStyle::ControlElementã€QStyle::SubControl ç­‰ï¼Œè¿™äº›æšä¸¾ç±»å‹ç”¨äºæ§ä»¶çš„ç»˜åˆ¶ã€å¸ƒå±€ã€æ ‡å¿—ä½ç­‰æŠ½è±¡æ¥å£çš„å®šä¹‰ä¸­ã€‚QStyle æ»¡è¶³äº† Qt åŸç”Ÿæ§ä»¶è‡ªå®šä¹‰é£æ ¼çš„éœ€æ±‚ï¼ŒåŒç†ï¼ŒDStyle éœ€è¦åœ¨æ­¤åŸºç¡€ä¸Šæ»¡è¶³ DTK æ§ä»¶è‡ªå®šä¹‰é£æ ¼çš„éœ€æ±‚ã€‚</p><br><h5 id="DStyleOption"><a href="#DStyleOption" class="headerlink" title="DStyleOption"></a>DStyleOption</h5><p>ç”¨äºæ‰©å±• QStyleOptionã€‚å¦‚ DStyleOptionButton éœ€è¦å¯¹ QStyleOptionButton å°±è¡Œæ‰©å±•ï¼Œå®ƒéœ€è¦åŒæ—¶ç»§æ‰¿ DStyleOption å’Œ QStyleOptionButtonã€‚</p><br><h5 id="DPalette"><a href="#DPalette" class="headerlink" title="DPalette"></a>DPalette</h5><p>æ§ä»¶çš„è¡Œä¸ºè™½ç„¶ä¸åŒï¼Œä½†æ˜¯å®ƒä»¬çš„é…è‰²æœ‰å¾ˆå¤šå…±åŒçš„åœ°æ–¹ï¼Œåœ¨ Qt çš„ GUI æ¨¡å—ä¸­ï¼ŒQPalette ç±»è´Ÿè´£ç®¡ç†æ‰€æœ‰é€šç”¨å‹é¢œè‰²ã€‚æ¯ä¸€ä¸ª QWidget å¯¹è±¡éƒ½æœ‰å¯¹åº”çš„ QPaletteï¼Œå½“æ²¡æœ‰ä½¿ç”¨ QWidget::setPalette æŒ‡å®šæ§ä»¶ä½¿ç”¨çš„è°ƒè‰²æ¿æ—¶ï¼Œå…¶å°†è·Ÿéš QApplicatioin::paletteã€‚</p><p>QPalette ä¸­å®šä¹‰äº†ä¸¤ä¸ªæšä¸¾ç±»å‹ï¼š</p><ul><li>ColorGroup é¢œè‰²çš„åˆ†ç»„ï¼ŒåŒ…å«ï¼šDisabledã€Activeï¼ˆNormalï¼‰ã€Inactive ä¸‰ä¸ªå€¼</li><li>ColorRole  é¢œè‰²çš„ç±»å‹ï¼ŒåŒ…å«ï¼šBackgroundã€Baseã€Foreground ç­‰ä¸€ç³»åˆ—å€¼</li></ul><p>æˆ‘ä»¬å¯ä»¥æŠŠ ColorRole å®šä¹‰çš„é¢œè‰²ç†è§£ä¸º c++ ä¸­çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆint doubleç­‰ï¼‰ï¼Œåˆ™æ§ä»¶çš„è®¾è®¡ç±»ä¼¼äº c++ ç±»çš„è®¾è®¡ï¼Œä¸€ä¸ªæ˜¯å°è£…åŸºæœ¬æ•°æ®ç±»å‹å®šä¹‰ä¸€ä¸ªç±»ï¼Œå¦ä¸€ä¸ªåˆ™æ˜¯é€šè¿‡å¯¹åŸºç¡€é¢œè‰²çš„ç»„åˆåˆ›å»ºä¸€ä¸ªæ§ä»¶ã€‚</p><p>QPalette åŒ…å«åå‡ ç§å¸¸ç”¨çš„é¢œè‰²ï¼Œèƒ½æ»¡è¶³ Qt æ‰€æœ‰å†…ç½®æ§ä»¶çš„ç»˜åˆ¶éœ€è¦ã€‚ä½†æ˜¯ DTK æ§ä»¶çš„è®¾è®¡åœ¨é…è‰²ä¸Šæ›´åŠ çš„ä¸°å¯Œï¼ŒQPalette::ColorRole ä¸­å®šä¹‰çš„åŸºæœ¬é¢œè‰²æ— æ³•æ»¡è¶³éœ€æ±‚ï¼Œå› æ­¤åœ¨ dtkwidget åº“ä¸­å®šä¹‰äº† DPalette ç±»ï¼Œå¹¶ä¸”æ·»åŠ äº† DPalette::ColorType çš„æšä¸¾ç±»å‹ï¼Œç”¨äºä¸º DTK æ§ä»¶æ·»åŠ åŸºæœ¬è‰²çš„å®šä¹‰ã€‚<br><br></p><h2 id="QStyle-å’Œ-QPalette-çš„å…³ç³»"><a href="#QStyle-å’Œ-QPalette-çš„å…³ç³»" class="headerlink" title="QStyle å’Œ QPalette çš„å…³ç³»"></a>QStyle å’Œ QPalette çš„å…³ç³»</h2><p>QApplication ä¼šåœ¨åˆå§‹åŒ–é˜¶æ®µï¼ˆå½“ä½¿ç”¨ QApplication::setStyle åä¹Ÿä¼šæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼‰è°ƒç”¨ QStyle::standardPalette è·å–ä¸€ä¸ªæ ‡å‡†çš„ QPalette å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åœ¨å„ä¸ªæ§ä»¶çš„ paintEvent ä¸­è¢«åˆå§‹åŒ–ç»™ QStyleOption ï¼ˆç”¨äºå­˜å‚¨ç»˜åˆ¶æ§ä»¶æ‰€éœ€è¦çš„æ‰€æœ‰æ•°æ®ï¼‰ï¼Œä¹‹ååœ¨ QStyle ç»˜åˆ¶æ§ä»¶æ—¶åˆ™ä» QStyleOption::palette ä¸­è·å–å®šä¹‰çš„å„ç§é¢œè‰²å€¼ã€‚å¯¹äº QApplicationã€QStyleOptinã€QWidget è€Œè¨€ï¼Œå®ƒä»¬åªè¯†åˆ« QPaletteï¼Œå› æ­¤ï¼ŒDPalette çš„åˆå§‹åŒ–ç›®å‰æ˜¯æ”¾ç½®åœ¨ QStyle::polish(QApplication*) ä¸­ï¼Œç”± DPalette è‡ªå·±ç®¡ç† QApplication å’Œ QWidget å¯¹è±¡æ‰€å¯¹åº”çš„ DPalette æ•°æ®ï¼Œåœ¨ style æ’ä»¶çš„å®ç°ä¸­åˆ™é€šè¿‡ DPalette::get é™æ€å‡½æ•°è·å–è°ƒè‰²æ¿å¯¹è±¡ã€‚ </p><br><h2 id="DTK-æ§ä»¶è®¾è®¡"><a href="#DTK-æ§ä»¶è®¾è®¡" class="headerlink" title="DTK æ§ä»¶è®¾è®¡"></a>DTK æ§ä»¶è®¾è®¡</h2><p>åœ¨ DDEV20 çš„è®¾è®¡ä¸­ï¼Œæœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹ã€‚é¦–å…ˆå…ˆçœ‹ä¸€å¼ å›¾</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200911155018.png" width="100%"/ loading="lazy"><p>æ¯ä¸ªæ§ä»¶åˆ†ä¸ºäº”ä¸ªçŠ¶æ€ï¼š</p><ul><li>Normal</li><li>Hover</li><li>Pressed</li><li>Disabled</li><li>Focus</li></ul><p>äºæ­¤ç›¸å…³çš„æ˜¯ï¼Œä¸»çª—å£å±‚é¢è¿˜åˆ†ä¸º Active å’Œ Inactive çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯çª—å£æ˜¯å¦è¢«æ¿€æ´»çš„çŠ¶æ€ã€‚çª—å£çš„çŠ¶æ€å¯ä»¥å’Œæ§ä»¶çŠ¶æ€ç›¸äº’å åŠ ï¼Œå› æ­¤ï¼Œå åŠ åçš„æ§ä»¶çŠ¶æ€å…±æœ‰åç§ç»„åˆã€‚ä¸è¿‡ï¼Œåœ¨æ§ä»¶ä¸­å…¶å®ä¸ç”¨è¿‡äºå…³å¿ƒçª—å£çš„çŠ¶æ€ï¼Œçª—å£ Active æ—¶æ§ä»¶éƒ½æ˜¯é»˜è®¤æ ·å¼ï¼ŒInactive æ—¶åˆ™æŠŠæ‰€æœ‰é¢œè‰²çš„ä¸é€æ˜åº¦é™ä½ 40%ã€‚åŒç† Disabled çŠ¶æ€åˆ™æŠŠæ‰€æœ‰é¢œè‰²çš„ä¸é€æ˜åº¦é™ä½ 60%ã€‚å› æ­¤ï¼Œé™¤å»è¿™ä¸¤ä¸ªç‰¹æ®ŠçŠ¶æ€åï¼Œæ§ä»¶ä¸­è¿˜å‰©ä½™ Normal Hover Pressed Focus å››ä¸ªçŠ¶æ€éœ€è¦å…³å¿ƒã€‚</p><br><h5 id="Normal"><a href="#Normal" class="headerlink" title="Normal"></a>Normal</h5><p>æ§ä»¶é»˜è®¤çŠ¶æ€ï¼Œä½¿ç”¨ DPalette çš„ Normal ç»„ä¸­å„ä¸ª ColorRole&#x2F;ColorType çš„å®šä¹‰å³å¯ã€‚</p><h4 id="Hover"><a href="#Hover" class="headerlink" title="Hover"></a>Hover</h4><p>æ§ä»¶çš„ hover çŠ¶æ€å¯ä»¥ç”± normal çŠ¶æ€ç»è¿‡é¢œè‰²å˜æ¢ï¼ˆè°ƒè‰²ï¼šå¦‚æä¾›é¢œè‰²äº®åº¦ç­‰ï¼‰ï¼Œå¯ä½¿ç”¨ DStyle::generatedBrush è·å–åŠ å·¥åçš„é¢œè‰²å€¼ã€‚DStyle å®šä¹‰äº† StyleState ç”¨äºæŒ‡å®šéœ€è¦åŠ å·¥çš„ç›®æ ‡é¢œè‰²ç±»å‹ï¼Œé»˜è®¤ Normal å¯ä»¥ä¸è¿›è¡Œä»»ä½•åŠ å·¥ã€‚</p><h4 id="Pressed"><a href="#Pressed" class="headerlink" title="Pressed"></a>Pressed</h4><p>å’Œ Hover çŠ¶æ€ä¸€æ ·ï¼Œä¹Ÿæ˜¯ç”± normal çŠ¶æ€ç»è¿‡é¢œè‰²å˜æ¢å¾—åˆ°ã€‚</p><br><h2 id="ä»£ç æµç¨‹æè¿°"><a href="#ä»£ç æµç¨‹æè¿°" class="headerlink" title="ä»£ç æµç¨‹æè¿°"></a>ä»£ç æµç¨‹æè¿°</h2><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200911155413.png" width="80%"/ loading="lazy"><br><h2 id="å­—å·ä½¿ç”¨è§„èŒƒ"><a href="#å­—å·ä½¿ç”¨è§„èŒƒ" class="headerlink" title="å­—å·ä½¿ç”¨è§„èŒƒ"></a>å­—å·ä½¿ç”¨è§„èŒƒ</h2><p><a href="https://gitlab.deepin.io/dde-v20/dtkwidget/blob/master/src/widgets/dstyleoption.h#L156">DFontManager</a></p><p>å­—å·åˆ†ä¸ºåä¸ªç­‰çº§ï¼ŒT1-T10ï¼Œé»˜è®¤ä¸º T6 çº§åˆ«ï¼Œå½“ç³»ç»Ÿä¸­å­—å·å¤§å°æ”¹å˜æ—¶ï¼Œæ‰€æœ‰çº§åˆ«åŸºäºé»˜è®¤çº§åˆ«è¿›è¡ŒåŒå€¼å¢å‡ã€‚ä¾‹å¦‚ï¼ŒT6 å½“å‰å¯¹åº”çš„å­—å·ä¸º 16pxï¼Œåœ¨æ§åˆ¶ä¸­å¿ƒå°†å­—å·è°ƒæ•´ä¸º 20px åï¼ŒT1-T10 çš„å­—å·éƒ½å°†å¢åŠ  4pxã€‚æ‰€æœ‰çš„æ§ä»¶è®¾è®¡ä¸­å‡ä¸å¯ç›´æ¥æŒ‡å®šå­—å·å¤§å°ï¼Œå¦‚æœéœ€è¦å¯¹ç‰¹å®šçš„ QWidget å¯¹è±¡è®¾ç½®å­—å·ç­‰çº§ï¼Œå¯ä»¥ä½¿ç”¨ DFontSizeManager::bind æ¥å£ç»‘å®šåˆ°å¯¹åº”çš„çº§åˆ«ã€‚</p><br><h2 id="å¦‚ä½•å®ç°ä¸€ä¸ªå…¨æ–°çš„æ§ä»¶"><a href="#å¦‚ä½•å®ç°ä¸€ä¸ªå…¨æ–°çš„æ§ä»¶" class="headerlink" title="å¦‚ä½•å®ç°ä¸€ä¸ªå…¨æ–°çš„æ§ä»¶"></a>å¦‚ä½•å®ç°ä¸€ä¸ªå…¨æ–°çš„æ§ä»¶</h2><p>é¦–å…ˆä¸ºæ­¤æ§ä»¶æ·»åŠ éœ€è¦çš„æšä¸¾å€¼ï¼Œå¦‚ <a href="https://gitlab.deepin.io/dde-v20/dtkwidget/blob/master/src/widgets/dsuggestbutton.h">DSuggestButton</a>ï¼ŒQStyle ä¸­å·²ç»åŒ…å«äº† QStyle::CE_PushButton çš„å®šä¹‰ï¼Œè¿™éƒ¨åˆ†ä¸ç”¨å†è¿›è¡Œæ‰©å±•ï¼ŒæŸ¥çœ‹ QStyleOptionButtonï¼Œå®ƒåœ¨ ButtonFeatures ä¸­å®šä¹‰äº†æŒ‰é’®çš„ä¸€äº›ç‰¹æ€§ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ç»§æ‰¿ QStyleOptionButton è¿›è¡Œæ‰©å±•ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">DStyleOptionButton</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QStyleOptionButton</span><span class="token punctuation">,</span> <span class="token keyword">public</span> <span class="token class-name">DStyleOption</span></span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">enum</span> <span class="token class-name">ButtonFeature</span> <span class="token punctuation">&#123;</span>        SuggestButton <span class="token operator">=</span> <span class="token punctuation">(</span>CommandLinkButton <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        WarningButton <span class="token operator">=</span> <span class="token punctuation">(</span>SuggestButton <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>widget<span class="token punctuation">)</span> <span class="token keyword">override</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ˜¯ DStyleOptionButton çš„ä»£ç å®ç°ï¼Œæ·»åŠ äº†ä¸¤ä¸ªæšä¸¾å€¼ SuggestButtonã€WarningButtonã€‚åœ¨ DSuggestButton çš„ paintEvent ä¸­å°†ä½¿ç”¨è¿™äº›æ–°åŠ çš„å€¼ç»˜åˆ¶è‡ªå®šä¹‰çš„æŒ‰é’®ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token class-name">DSuggestButton</span><span class="token double-colon punctuation">::</span><span class="token function">paintEvent</span><span class="token punctuation">(</span>QPaintEvent <span class="token operator">*</span>event<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">Q_UNUSED</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span>    QStylePainter <span class="token function">p</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    DStyleOptionButton option<span class="token punctuation">;</span>    option<span class="token punctuation">.</span>features <span class="token operator">|=</span> <span class="token class-name">DStyleOptionButton</span><span class="token double-colon punctuation">::</span><span class="token function">ButtonFeatures</span><span class="token punctuation">(</span>DStyleOptionButton<span class="token double-colon punctuation">::</span>SuggestButton<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">initStyleOption</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span>    option<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    p<span class="token punctuation">.</span><span class="token function">drawControl</span><span class="token punctuation">(</span>QStyle<span class="token double-colon punctuation">::</span>CE_PushButton<span class="token punctuation">,</span> option<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æœ€ç»ˆï¼Œå¯¹ QStylePainter::drawControl çš„è°ƒç”¨å°†å˜ä¸ºå¯¹ QStyle::drawControl çš„è°ƒç”¨ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token class-name">XXX</span><span class="token double-colon punctuation">::</span><span class="token function">drawControl</span><span class="token punctuation">(</span>ControlElement element<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOption <span class="token operator">*</span>opt<span class="token punctuation">,</span> QPainter <span class="token operator">*</span>p<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>w <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">switch</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">case</span> CE_PushButton<span class="token operator">:</span>        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>        QStyleOptionButton <span class="token operator">*</span>opt_button <span class="token operator">=</span> <span class="token generic-function"><span class="token function">static_case</span><span class="token generic class-name"><span class="token operator">&lt;</span>QStyleOptionButton<span class="token operator">*</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>opt<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>opt_button<span class="token operator">-></span>features<span class="token punctuation">.</span><span class="token function">testFlag</span><span class="token punctuation">(</span>DStyleOptionButton<span class="token double-colon punctuation">::</span>SuggestButton<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">// draw suggest button</span>        <span class="token punctuation">&#125;</span>        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ ·å³å®Œæˆäº†å¯¹ DSuggestButton çš„ç»˜åˆ¶ã€‚</p><br><h2 id="å¦‚ä½•è‡ªç»˜æ§ä»¶"><a href="#å¦‚ä½•è‡ªç»˜æ§ä»¶" class="headerlink" title="å¦‚ä½•è‡ªç»˜æ§ä»¶"></a>å¦‚ä½•è‡ªç»˜æ§ä»¶</h2><p>æœ‰äº›æ§ä»¶åœ¨ Qt ä»¥åŠ DTK åº“ä¸­å‡ä¸å­˜åœ¨ï¼Œåœ¨åº”ç”¨ç¨‹åºçš„å¼€å‘ä¸­éœ€è¦è‡ªå·±ç»˜åˆ¶å®ç°ï¼Œå¦‚æ§åˆ¶ä¸­å¿ƒä¸ªæ€§åŒ–æ¨¡å—ä¸­çš„é¢œè‰²é€‰æ‹©æ§ä»¶ï¼š</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200911155239.png" width="70%"/ loading="lazy"><p>paintEvent ä»£ç ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">paintEvent</span><span class="token punctuation">(</span>QPaintEvent <span class="token operator">*</span>event<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QPainter <span class="token function">pa</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QStyleOption opt<span class="token punctuation">;</span>    opt<span class="token punctuation">.</span><span class="token function">initFrom</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> borderWidth <span class="token operator">=</span> <span class="token function">style</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">pixelMetric</span><span class="token punctuation">(</span>DStyle<span class="token double-colon punctuation">::</span>PM_FocusBorderWidth<span class="token punctuation">,</span> <span class="token operator">&amp;</span>opt<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> borderSpacing <span class="token operator">=</span> <span class="token function">style</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">pixelMetric</span><span class="token punctuation">(</span>DStyle<span class="token double-colon punctuation">::</span>PM_FocusBorderSpacing<span class="token punctuation">,</span> <span class="token operator">&amp;</span>opt<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> QMargins <span class="token function">margins</span><span class="token punctuation">(</span>borderWidth <span class="token operator">+</span> borderSpacing<span class="token punctuation">,</span> borderWidth <span class="token operator">+</span> borderSpacing<span class="token punctuation">,</span> borderWidth <span class="token operator">+</span> borderSpacing<span class="token punctuation">,</span> borderWidth <span class="token operator">+</span> borderSpacing<span class="token punctuation">)</span><span class="token punctuation">;</span>        pa<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">marginRemoved</span><span class="token punctuation">(</span>margins<span class="token punctuation">)</span><span class="token punctuation">,</span> color<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¡«å……é¢œè‰²èƒŒæ™¯</span>    pa<span class="token punctuation">.</span><span class="token function">setPen</span><span class="token punctuation">(</span><span class="token function">QPen</span><span class="token punctuation">(</span>borderWidth<span class="token punctuation">,</span> opt<span class="token punctuation">.</span>palette<span class="token punctuation">.</span><span class="token function">highlight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®è¾¹æ¡†çš„å®½åº¦å’Œé¢œè‰²</span>    pa<span class="token punctuation">.</span><span class="token function">drawEllipse</span><span class="token punctuation">(</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç»˜åˆ¶é€‰ä¸­çš„è¾¹æ¡†</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»ä¾‹å­ä¸­å¯ä»¥çœ‹å‡ºï¼Œæ‰€æœ‰å’Œé¢œè‰²ç›¸å…³çš„æ•°æ®å‡ä» QPalette ä¸­è¯»å–ï¼Œæ‰€æœ‰å’Œå¤§å°ç›¸å…³çš„æ•°æ®å‡ä» style å¯¹åº”çš„æ¥å£ä¸­è¯»å–ã€‚</p><br><h2 id="å¦‚ä½•è‡ªå®šä¹‰æ§ä»¶çš„ä¸€äº›å‚æ•°"><a href="#å¦‚ä½•è‡ªå®šä¹‰æ§ä»¶çš„ä¸€äº›å‚æ•°" class="headerlink" title="å¦‚ä½•è‡ªå®šä¹‰æ§ä»¶çš„ä¸€äº›å‚æ•°"></a>å¦‚ä½•è‡ªå®šä¹‰æ§ä»¶çš„ä¸€äº›å‚æ•°</h2><p>å¦‚æ›´æ”¹æ–‡æœ¬é¢œè‰²ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">QLabel <span class="token function">label</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>QPalette pa <span class="token operator">=</span> label<span class="token punctuation">.</span><span class="token function">palette</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>pa<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>QPalette<span class="token double-colon punctuation">::</span>Text<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>red<span class="token punctuation">)</span><span class="token punctuation">;</span>label<span class="token punctuation">.</span><span class="token function">setPalette</span><span class="token punctuation">(</span>pa<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="å¦‚ä½•æ·»åŠ å›¾æ ‡"><a href="#å¦‚ä½•æ·»åŠ å›¾æ ‡" class="headerlink" title="å¦‚ä½•æ·»åŠ å›¾æ ‡"></a>å¦‚ä½•æ·»åŠ å›¾æ ‡</h2><p>ä¸€ä¸ªå®Œæ•´çš„åº”ç”¨ç¨‹åºä¸»é¢˜éœ€è¦å…³æ³¨çš„ä¸ä»…ä»…æ˜¯æ§ä»¶çš„æ ·å¼ï¼Œæœ‰æ—¶ï¼Œç¨‹åºä¸­å¯¹å›¾æ ‡çš„ä½¿ç”¨ä¹Ÿéœ€è¦åŒºåˆ†æ·±è‰²è¿˜æ˜¯æµ…è‰²ã€‚åœ¨ Qt åº“ä¸­ï¼ŒæŸ¥æ‰¾å’Œä½¿ç”¨å›¾æ ‡éƒ½å¯ä»¥é€šè¿‡ QIcon å®Œæˆï¼Œä¸ºäº†æ–¹ä¾¿å›¾æ ‡è‡ªåŠ¨è·Ÿéšç¨‹åºä¸»é¢˜ï¼ŒDDE æ¡Œé¢ç¯å¢ƒåœ¨ Qt platform theme ä¸»é¢˜æ’ä»¶ä¸­æ·»åŠ äº†ä¸€ä¸ªå†…ç½®çš„å›¾æ ‡ä¸»é¢˜ï¼Œè·¯å¾„ä¸ºï¼š<code>&quot;qrc:/icons/deepin/builtin/[light/dark]&quot;</code>ï¼Œå…¶ä¸­ï¼Œ<code>light</code>å’Œ<code>dark</code>å­ç›®å½•ä¸ºå¯é€‰ï¼Œå®ƒä»¬åˆ†åˆ«ä¸ºåº”ç”¨ç¨‹åºæä¾›äº®è‰²å’Œæš—è‰²å›¾æ ‡çš„å­˜å‚¨ï¼Œå¦‚æœå›¾æ ‡æœ¬èº«ä¸ºé€šç”¨å‹ï¼ˆåœ¨ä»»ä½•ä¸»é¢˜ä¸‹éƒ½å¯ä½¿ç”¨ï¼‰ï¼Œåˆ™å›¾æ ‡æ–‡ä»¶ç›´æ¥æ”¾ç½®åˆ°<code>&quot;qrc:/icons/deepin/builtin&quot;</code>ç›®å½•å³å¯ã€‚</p><p>å›¾æ ‡åˆ†ä¸ºä¸‰ç§ç±»å‹ï¼š</p><ul><li>TextType çº¯æ–‡æœ¬æ€§å›¾æ ‡ï¼Œå…¶é¢œè‰²ä¼šè·Ÿéšç”»ç¬”çš„å‰æ™¯è‰²å˜åŒ–ï¼ˆå’Œæ–‡å­—é¢œè‰²ä¿æŒä¸€è‡´ï¼‰ã€‚æ–‡ä»¶æ”¾ç½®è·¯å¾„ï¼š<code>&quot;qrc:/icons/deepin/builtin/[light/dark]/texts&quot;</code></li><li>ActionType åŠ¨ä½œå‹å›¾æ ‡ï¼Œå…¶é¢œè‰²ä¼šåœ¨å…¶ Mode æ”¹å˜æ—¶è·Ÿéšç”»ç¬”å‰æ™¯è‰²ï¼ˆNormalæ¨¡å¼å›¾æ ‡é¢œè‰²ä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼‰ã€‚æ–‡ä»¶æ”¾ç½®è·¯å¾„ï¼š<code>&quot;qrc:/icons/deepin/builtin/[light/dark]/actions&quot;</code></li><li>IconType å›¾æ ‡å‹å›¾æ ‡ï¼Œå…¶é¢œè‰²åœ¨ä»»ä½•æ¨¡å¼ä¸‹éƒ½ä¸ä¼šå˜åŒ–ã€‚æ–‡ä»¶æ”¾ç½®è·¯å¾„ï¼š<code>&quot;qrc:/icons/deepin/builtin/[light/dark]/icons&quot;</code></li></ul><p>å›¾æ ‡åç§°è§„èŒƒï¼š</p><p>åç§°å‰é¢éœ€è¦æ·»åŠ èƒ½æ ‡ç¤ºå½“å‰ç¨‹åºçš„å‰ç¼€ï¼Œä¾‹å¦‚<code>æ§åˆ¶ä¸­å¿ƒ</code>çš„å›¾æ ‡æ–‡ä»¶ dcc_xxx_32px.svgï¼ˆè®¾è®¡å¤§å°ä¸º32ï¼‰æ¯ä¸€ä¸ªéƒ½ä¼šæœ‰ â€œdcc_â€ çš„å‰ç¼€ï¼Œå…¶åè·Ÿå›¾æ ‡såç§°ï¼ˆå›¾æ ‡åç§°å•è¯é—´ä½¿ç”¨ â€œ_â€ ç¬¦å·é“¾æ¥ï¼Œä¸”å…¨éƒ¨ä½¿ç”¨å°å†™å­—æ¯ï¼‰ï¼Œå†æ¥ç€ï¼Œâ€_32pxâ€ ä¸ºå›¾æ ‡å¤§å°æ ‡è¯†ï¼Œæ ‡è¯†æ­¤å›¾æ ‡é»˜è®¤å¤§å°ï¼Œæœ€åçš„ â€œ.svgâ€ ä¸ºå›¾æ ‡æ–‡ä»¶åç¼€åã€‚</p><p>åè®°ï¼š</p><p>qrc è¡¨ç¤ºæ˜¯ä¸€ä¸ª Qt èµ„æºæ–‡ä»¶ï¼Œæ­¤æ–‡ä»¶éœ€è¦åº”ç”¨ç¨‹åºä¸­è‡ªè¡Œåˆ›å»ºã€‚â€&#x2F;icons&#x2F;deepin&#x2F;builtinâ€ ä¸ºè·¯å¾„çš„å›ºå®šå‰ç¼€ï¼Œéšåçš„ç›®å½•åˆ™ä¸ºä¸‰ç§ç±»å‹ä¸»é¢˜å¯¹åº”çš„ç›®å½•ã€‚â€actionsâ€ ä¸ºå›¾æ ‡çš„ç±»å‹ç›®å½•ï¼Œç›®å‰æ”¯æŒ â€œtextsâ€ã€â€actionsâ€ å’Œ â€œiconsâ€ ä¸‰ç§ç±»å‹ï¼Œâ€textsâ€ å’Œ â€œactionsâ€ ç›®å½•ç”¨äºæ”¾ç½®ä¸€äº›å·¥å…·æ€§å›¾æ ‡ï¼ˆä¸€èˆ¬éƒ½æ¯”è¾ƒå°ï¼Œä¸”é¢œè‰²å•ä¸€ï¼‰ï¼Œâ€iconsâ€ åˆ™ç”¨äºæ”¾ç½®ä¸€äº›é¢œè‰²ä¸°å¯Œçš„å›¾æ ‡ã€‚</p><p>æ·»åŠ å›¾æ ‡æ–‡ä»¶åï¼Œåœ¨ç¨‹åºä¸­åªéœ€è¦ä½¿ç”¨ QIcon::fromTheme(â€œdcc_xxxâ€) å³å¯è·å–å½“å‰ä¸»é¢˜å¯¹åº”çš„å›¾æ ‡å¯¹è±¡ï¼Œâ€dcc_xxxâ€ ä¸ºå›¾æ ‡æ–‡ä»¶åç§°ï¼Œ<code>ä¸åŒ…å«å›¾æ ‡å¤§å°æ ‡è¯†å’Œæ–‡ä»¶åç¼€åï¼</code></p><br><h4 id="æ­¤è§„èŒƒä»…ç”¨äºçº¦å®šåº”ç”¨ç¨‹åºä¸­å›¾æ ‡çš„å­˜å‚¨å’Œä½¿ç”¨ï¼Œå…¶å®ƒå›¾ç‰‡èµ„æºä¸å¯ä½¿ç”¨æ­¤è§„èŒƒï¼"><a href="#æ­¤è§„èŒƒä»…ç”¨äºçº¦å®šåº”ç”¨ç¨‹åºä¸­å›¾æ ‡çš„å­˜å‚¨å’Œä½¿ç”¨ï¼Œå…¶å®ƒå›¾ç‰‡èµ„æºä¸å¯ä½¿ç”¨æ­¤è§„èŒƒï¼" class="headerlink" title="æ­¤è§„èŒƒä»…ç”¨äºçº¦å®šåº”ç”¨ç¨‹åºä¸­å›¾æ ‡çš„å­˜å‚¨å’Œä½¿ç”¨ï¼Œå…¶å®ƒå›¾ç‰‡èµ„æºä¸å¯ä½¿ç”¨æ­¤è§„èŒƒï¼"></a>æ­¤è§„èŒƒä»…ç”¨äºçº¦å®šåº”ç”¨ç¨‹åºä¸­å›¾æ ‡çš„å­˜å‚¨å’Œä½¿ç”¨ï¼Œå…¶å®ƒå›¾ç‰‡èµ„æºä¸å¯ä½¿ç”¨æ­¤è§„èŒƒï¼</h4><h4 id="icon-demo-zip-ç¤ºä¾‹ç¨‹åº"><a href="#icon-demo-zip-ç¤ºä¾‹ç¨‹åº" class="headerlink" title="icon_demo.zip #ç¤ºä¾‹ç¨‹åº"></a><a href="uploads/407ea902dae4be5564567aae12e25d0d/icon_demo.zip">icon_demo.zip</a> #ç¤ºä¾‹ç¨‹åº</h4><br><h3 id="ä¸‹è½½åœ°å€ï¼š"><a href="#ä¸‹è½½åœ°å€ï¼š" class="headerlink" title="ä¸‹è½½åœ°å€ï¼š"></a>ä¸‹è½½åœ°å€ï¼š</h3><p><a href="https://github.com/xmuli/QtExamples">QtExamples</a></p><p>æ¬¢è¿ <code>star</code> å’Œ <code>fork</code> è¿™ä¸ªç³»åˆ—çš„ QT &#x2F; DTK å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> DTK </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¯¹ GNU/Linux ä»‹ç»ã€ArchLinuxç¤¾åŒºæ°›å›´ã€DDEç§»æ¤Archæµç¨‹</title>
      <link href="/posts/78cd25f3/"/>
      <url>/posts/78cd25f3/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€ç®€è¿°ï¼š"><a href="#å‰è¨€ç®€è¿°ï¼š" class="headerlink" title="å‰è¨€ç®€è¿°ï¼š"></a>å‰è¨€ç®€è¿°ï¼š</h1><p><strong>ç®€è¿°ï¼š</strong> æœ¬æ–‡æ™®åŠä¸€äº› <code>GNU / Linux</code> çš„å¸¸è§åè¯å’ŒèƒŒåçš„èƒŒåæ•…äº‹ï¼›ç®€å•ä»‹ç» <code>ArchLinux</code> æ‰€å¤„çš„åœ°ä½å’Œç¤¾åŒºæ°›å›´ï¼Œä»¥åŠä¸ºå¤‡å—ç¨‹åºå‘˜æ¨å´‡çš„åŸå› ï¼›å’Œ <code>DDE</code> æ˜¯å¦‚ä½•ç§»æ¤å…¶ä»–å‘è¡Œç‰ˆï¼ˆegï¼šArchï¼‰ä¸Šçš„ã€‚</p><p><strong>å‰åŠæ®µ</strong> ä¸»è¦æ¶‰åŠæ˜¯ GNU &#x2F; Linux çš„å†å²ï¼Œè§£é‡Šä¸€äº›ååˆ†å¸¸è§çš„ä½†å°‘æœ‰ä»”ç»†æ€è€ƒç¼©å†™å•è¯å«ä¹‰ï¼Œå’Œå…¶èƒŒåçš„å†å²å°æ•…äº‹ï¼Œæ™®åŠä¸€äº›å¼€æºåªæ˜¯å’Œç†å¿µï¼Œä»¥åŠç®€å•é˜è¿°ä¸ºä½•å¾ˆå¤šäººè¦é€‰æ‹©å¼€æºæ´»åŠ¨ï¼Ÿåšè¿™ä»¶äº‹æƒ…çš„åŠ¨æœºå’Œæ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿä»¥åŠèƒ½å¤Ÿæ”¶è·åˆ°ä»€ä¹ˆï¼Ÿ</p><p><strong>ä¸­é—´åŠæ®µ</strong> ä¸»è¦ä»‹ç» ArchLinux è¿™ä¸ªå…·æœ‰ç‰¹è‰²çš„å‘è¡Œç‰ˆä»¥åŠå…¶ç¤¾åŒºæ°›å›´ï¼›</p><p><strong>æœ€åä¸€æ®µ</strong> ä¸»è¦ä»‹ç» DDE æ˜¯å¦‚ä½•ç§»æ¤åˆ° ArchLinuxä¸Šçš„ï¼Œå¹¶ä¸”ä¸¾ä¾‹ä¸¤ä¾‹å­ã€‚</p><p>æœ¬æ–‡å­—æ•°æ¯”è¾ƒå¤šï¼Œå»ºè®®æŒ‰ç…§æ‹†å¼€çš„ä¸‰æ®µè„‰ç»œæ¥çœ‹ï¼Œæˆ–å¯ä»¥åªå…³æ³¨ä½ æ„Ÿå…´è¶£çš„ä¸€éƒ¨åˆ†ï¼š</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200902121036.png" width="60%"/ loading="lazy"><br><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h1 id="å¯¹äº-GNU-x2F-Linux-çš„ä¸€ç‚¹ç†è§£ï¼š"><a href="#å¯¹äº-GNU-x2F-Linux-çš„ä¸€ç‚¹ç†è§£ï¼š" class="headerlink" title="å¯¹äº GNU&#x2F;Linux çš„ä¸€ç‚¹ç†è§£ï¼š"></a>å¯¹äº GNU&#x2F;Linux çš„ä¸€ç‚¹ç†è§£ï¼š</h1><h2 id="å¯¹äº-GNU-x2F-Linux-çš„è®¤çŸ¥ï¼š"><a href="#å¯¹äº-GNU-x2F-Linux-çš„è®¤çŸ¥ï¼š" class="headerlink" title="å¯¹äº GNU&#x2F;Linux çš„è®¤çŸ¥ï¼š"></a>å¯¹äº GNU&#x2F;Linux çš„è®¤çŸ¥ï¼š</h2><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200901100559.png" width="20%"/ loading="lazy"><p>â€‹è¿™ä¸ª <code>GNU / Linux</code> ä¸€çœ‹å¾ˆå®¹æ˜“ï¼ŒäºŒçœ‹ä¼šæ·±æ€ã€‚è¿™é‡Œé™„ä¸Šä¸ªäººçœ‹æ³•ï¼Œæˆ–ç»­å¤§å®¶çœ‹æ³•ä¸ä¸€æ ·ï¼Œæ¬¢è¿æ¢è®¨æ€è€ƒã€‚</p><p>å…ˆçœ‹å¯¹äºä¸‹é¢çš„å•è¯çš„ç†è§£ã€Œæ¥è‡ª GNU å®˜ç½‘ä»‹ç»ã€ï¼š</p><p><strong>GNUå·¥ç¨‹ï¼š</strong> æ˜¯è¦å¼€å‘<em>ä¸€ä¸ªå®Œå…¨è‡ªç”±çš„ç±»ä¼¼Unixçš„ç³»ç»Ÿ</em> ï¼šGNU ï¼ˆGNUâ€™s Not Unix! çš„é¦–å­—æ¯é€’å½’ç¼©å†™â€”è¿™æ˜¯å¯¹Unixçš„æŠ€æœ¯æ€æƒ³è‡´æ•¬çš„ä¸€ç§æ–¹æ³•ï¼ŒåŒ æ—¶è¡¨è¾¾GNUæœ‰æ‰€ä¸åŒï¼‰ã€‚å…¶åŸºæœ¬ç›®æ ‡å’Œä¸€è´¯ç›®æ ‡æ˜¯æä¾›ä¸€ä¸ªå’ŒUnixå…¼å®¹çš„100% <a href="http://www.gnu.org/philosophy/free-sw.html">è‡ªç”±è½¯ä»¶</a>çš„æ“ä½œç³»ç»Ÿã€‚</p><p><strong>GNUæ“ä½œç³»ç»Ÿï¼š</strong> æ˜¯ä¸€æ¬¾ä½¿ç”¨ <a href="http://www.gnu.org/software/hurd/hurd.html">Hurd</a> å†…æ ¸ï¼Œä¸”åŒæ—¶é™„å¸¦æœ‰å¾ˆå¤šè‡ªç”±è½¯ä»¶åŒ…çš„<strong>æ“ä½œç³»ç»Ÿ</strong> ã€‚ä½† Hurd ç¼ºå°‘ä¸€äº›é‡è¦åŠŸèƒ½ï¼Œå› æ­¤æœªè¢«å¹¿æ³›ä½¿ç”¨ï¼› GNU è½¯ä»¶åŒ…åŒ…æ‹¬ä»¥ç”¨æˆ·ä¸ºå¯¼å‘çš„åº”ç”¨ç¨‹åºã€å®ç”¨ç¨‹åºã€å·¥å…·ã€åº”ç”¨åº“ã€ç”šè‡³æ¸¸æˆï¼Œä¸€ä¸ªæ“ä½œç³»ç»Ÿèƒ½å¤Ÿä¸ºå…¶ç”¨æˆ·æä¾›çš„æ‰€æœ‰ç¨‹åºã€‚æ¯”è¾ƒå‡ºåçš„æœ‰ C ç¼–è¯‘å™¨ gccã€æ–‡æœ¬ç¼–è¾‘å™¨ã€å›¾å½¢åº“ç­‰ã€‚<strong>å…¶æ‰€æœ‰æä¾›çš„è½¯ä»¶éƒ½æ˜¯è‡ªç”±è½¯ä»¶ã€‚</strong></p><p><strong>Linux(å†…æ ¸)ï¼š</strong> æ˜¯ç”± Linus Torvalds å®Œæˆçš„ Linux <strong>ç³»ç»Ÿå†…æ ¸</strong>ã€‚</p><p><strong>GNU&#x2F;Linux æ“ä½œç³»ç»Ÿï¼š</strong> ç­‰ä»·äºä¸€ä¸ªè¢«æ”¹åŠ¨çš„ GNU ç³»ç»Ÿ(æœªä½¿ç”¨ Hurd å†…æ ¸) + Linuxå†…æ ¸ã€‚</p><blockquote><p>ç°åœ¨æœ€æµè¡Œçš„ Linux å‘è¡Œç‰ˆï¼Œå®é™…ä¸Šæ˜¯ä½¿ç”¨çš„æ˜¯ä¸€ä¸ª<strong>â€œè¢«æ”¹åŠ¨çš„ GNU ç³»ç»Ÿ(æœªä½¿ç”¨ Hurd å†…æ ¸) + Linuxå†…æ ¸â€œ</strong> ï¼Œç„¶é¹…ï¼Œç”±äºè®¸å¤šç”¨æˆ·çš„æ··æ·†ï¼Œç°åœ¨æ­¤å‘è¡Œç‰ˆæœ¬è¢«ç®€ç§°ä¸º <strong>Linux æ“ä½œç³»ç»Ÿ</strong> ï¼Œæ›´ç®€çš„ç§°å‘¼ç‰ˆæœ¬ä¸º <strong>Linux</strong> ï¼›ä½†æ˜¯å…¶å®åç§°åº”è¯¥æ˜¯ <strong>GNU&#x2F;Linux æ“ä½œç³»ç»Ÿ</strong>ã€‚</p></blockquote><br><h2 id="è‡ªç”±è½¯ä»¶ï¼š"><a href="#è‡ªç”±è½¯ä»¶ï¼š" class="headerlink" title="è‡ªç”±è½¯ä»¶ï¼š"></a>è‡ªç”±è½¯ä»¶ï¼š</h2><p><a href="http://www.gnu.org/philosophy/free-sw.html">è‡ªç”±è½¯ä»¶</a>æ„å‘³ç€<strong>ç”¨æˆ·å¯ä»¥è‡ªç”±åœ°è¿è¡Œï¼Œæ‹·è´ï¼Œåˆ†å‘ï¼Œå­¦ä¹ ï¼Œä¿®æ”¹å¹¶æ”¹è¿›è¯¥è½¯ä»¶</strong>ã€‚  åªå’Œè‡ªç”±æœ‰å…³ï¼Œå’Œä»·æ ¼æ— å…³ã€‚â€œè‡ªç”±è½¯ä»¶â€å°Šé‡ç”¨æˆ·çš„è‡ªç”±ï¼Œå¹¶ä¸”å°Šé‡æ•´ä¸ªç¤¾åŒºã€‚</p><p>å®é™…ä¸Šï¼Œè‡ªç”±è½¯ä»¶çš„å®˜æ–¹å®šä¹‰ä¸€ç›´åœ¨å¾®è°ƒï¼Œå¯ä»¥è‡ªè¡ŒæŸ¥çœ‹<a href="http://www.gnu.org/philosophy/free-sw.html#History">å†å²ä¿®æ”¹</a>ï¼›</p><blockquote><p><strong>å¦‚æœä¸€ä¸ªè½¯ä»¶æ˜¯è‡ªç”±è½¯ä»¶ï¼Œé‚£ä¹ˆå®ƒå¿…é¡»ä¸ºç”¨æˆ·æä¾›ä»¥ä¸‹å››é¡¹åŸºæœ¬è‡ªç”±ï¼š</strong></p></blockquote><ul><li>è‡ªç”±åº¦0ï¼šæ— è®ºç”¨æˆ·å‡ºäºä½•ç§ç›®çš„ï¼Œå¿…é¡»å¯ä»¥æŒ‰ç…§ç”¨æˆ·æ„æ„¿ï¼Œè‡ªç”±åœ°è¿è¡Œè¯¥è½¯ä»¶ã€‚</li><li>è‡ªç”±åº¦1ï¼šç”¨æˆ·å¯ä»¥è‡ªç”±åœ°å­¦ä¹ å¹¶ä¿®æ”¹è¯¥è½¯ä»¶ï¼Œä»¥æ­¤æ¥å¸®åŠ©ç”¨æˆ·å®Œæˆç”¨æˆ·è‡ªå·±çš„è®¡ç®—ã€‚ä½œä¸ºå‰æï¼Œç”¨æˆ·å¿…é¡»å¯ä»¥è®¿é—®åˆ°è¯¥è½¯ä»¶çš„æºä»£ç ã€‚</li><li>è‡ªç”±åº¦2ï¼šç”¨æˆ·å¯ä»¥è‡ªç”±åœ°åˆ†å‘è¯¥è½¯ä»¶çš„æ‹·è´ï¼Œè¿™æ ·å°±å¯ä»¥åŠ©äººã€‚</li><li>è‡ªç”±åº¦3ï¼šç”¨æˆ·å¯ä»¥è‡ªç”±åœ°åˆ†å‘è¯¥è½¯ä»¶ä¿®æ”¹åçš„æ‹·è´ã€‚å€Ÿæ­¤ï¼Œç”¨æˆ·å¯ä»¥æŠŠæ”¹è¿›åçš„è½¯ä»¶åˆ†äº«ç»™æ•´ä¸ªç¤¾åŒºä»¤ä»–äººä¹Ÿä»ä¸­å—ç›Šã€‚ä½œä¸ºå‰æï¼Œç”¨æˆ·å¿…é¡»å¯ä»¥è®¿é—®åˆ°è¯¥è½¯ä»¶çš„æºä»£ç ã€‚</li></ul><br><h2 id="è‡ªç”±ä¸éè‡ªç”±è½¯ä»¶çš„åˆ†ç±»ï¼š"><a href="#è‡ªç”±ä¸éè‡ªç”±è½¯ä»¶çš„åˆ†ç±»ï¼š" class="headerlink" title="è‡ªç”±ä¸éè‡ªç”±è½¯ä»¶çš„åˆ†ç±»ï¼š"></a>è‡ªç”±ä¸éè‡ªç”±è½¯ä»¶çš„åˆ†ç±»ï¼š</h2><p>è‡ªç”±è½¯ä»¶å°±è¡¨ç¤ºå…è´¹è½¯ä»¶å—ï¼Ÿå¯ä»¥ä¸è´Ÿè´£ä»»çš„ç™½å«–å—ï¼Ÿä½¿ç”¨å®ƒä»¬åº”è¯¥ä»˜å‡ºä»€ä¹ˆä»£ä»·ä¸ï¼Ÿ <strong>è‡ªç”±è½¯ä»¶ï¼ˆFree Softwareï¼‰ä¸ç­‰ä»·äº å…è´¹è½¯ä»¶ï¼ˆFreewareï¼‰ï¼›</strong> ä½†æ˜¯é€šå¸¸æ¥è¯´ï¼Œè‡ªç”±è½¯ä»¶åœ¨ä½¿ç”¨çš„åŒæ—¶ï¼Œä¸€å®šä¼šè·å–å¯¹åº”çš„æºç ï¼Œä¸”å¤§éƒ¨åˆ†è½¯ä»¶éƒ½æ˜¯å…è´¹çš„ï¼Œä½†æ˜¯ä¹Ÿèƒ½åšåˆ°æœ‰å¿ä½¿ç”¨ã€‚å¹¿æ³›çš„æ¥è¯´ï¼Œè¿™é‡Œçš„è½¯ä»¶éƒ½æ˜¯å¯ä»¥å…è´¹ç™½å«–çš„ï¼Œäººä»¬é€šå¸¸ä¹Ÿä¸éœ€è¦ä»˜å‡ºä»£ä»·ï¼›å¯¹åº”ä½¿ç”¨è¿™äº›è½¯ä»¶çš„æ—¶å€™ï¼Œè¿™ä¸ªè½¯ä»¶çš„å¼€å‘äººå‘˜ä»¬ä¹Ÿä¸ä¼šæ‰¿æ‹…ä»»ä½•çš„è´£ä»»ï¼ˆè®¾æƒ³ä¸€ä¸‹ï¼Œä¸€ä¸ªä¸Šäº¿çš„åˆåŒç­¾è®¢ï¼Œä½¿ç”¨æŸå¼€æºè½¯ä»¶ &#x2F; è‡ªç”±è½¯ä»¶æ¥ä¹¦å†™æ­¤æ–‡æ¡£ï¼Œçªç„¶å´©æºƒï¼Œç…§æˆåˆåŒç­¾è®¢å»¶æœŸï¼Œå•Šï¼Œï¼Œï¼Œé‚£è¿™ï¼Œï¼Œï¼Œæƒ³è¦æ‰¯çš®ï¼Œï¼Œï¼Œéš¾é“è°èƒ½å¤Ÿä¿è¯è‡ªå·±è½¯ä»¶ä¸å‡º bug ï¼Ÿï¼‰</p><p><strong>è‡ªç”±è½¯ä»¶ï¼š</strong> ç®€å•ç†è§£ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯å…è´¹è½¯ä»¶ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥æœ‰å¿æ”¶è´¹ï¼Œä½†æ˜¯å¿…é¡»æä¾›æºä»£ç ã€‚</p><p><strong>éè‡ªç”±è½¯ä»¶ï¼š</strong> ç®€å•ç†è§£ï¼Œè¯¥è½¯ä»¶çš„ä½¿ç”¨ã€åˆ†å‘ã€æˆ–è€…ä¿®æ”¹ï¼Œéƒ½æ˜¯è¢«ç¦æ­¢çš„ï¼Œæˆ–è€…è¯´éœ€è¦è·å–æˆæƒè®¸å¯æ‰å¯ä»¥è¿™äº›æ“ä½œã€‚</p><p><strong>å¼€æºè½¯ä»¶ï¼š</strong> é€šå¸¸è¢«è¡¨ç¤ºä¸ºè‡ªç”±è½¯ä»¶ä¸€ç±»è½¯ä»¶ï¼Œä½†å®é™…ä¸Šä¸¤è€…å·®åˆ«å¾ˆå¤§ï¼Œå¦‚åªæœ‰æå°‘çš„å¼€æºè½¯ä»¶ä¸æ˜¯è‡ªç”±è½¯ä»¶ã€‚</p><p><strong>ä¸“æœ‰è½¯ä»¶ï¼ˆç§æœ‰è½¯ä»¶ï¼‰ï¼š</strong> ç®€å•ç†è§£ï¼Œæ˜¯éè‡ªç”±è½¯ä»¶çš„åŒä¹‰è¯ï¼Œä½†æ˜¯å…¶ä¸­ä¸€äº›è½¯ä»¶æ˜¯è¢«å…è®¸éå•†ä¸šæ€§çš„ä¿®æ”¹å’Œå†åˆ†å‘ã€‚</p><p><strong>å…è´¹è½¯ä»¶ï¼š</strong> æ²¡æœ‰å®˜æ–¹çš„æ˜ç¡®å®šä¹‰ï¼Œä½†å®ƒé€šå¸¸è¢«ç”¨äºæŒ‡ä»£é‚£äº›å…è®¸å†åˆ†å‘ä½†ç¦æ­¢ä¿®æ”¹ï¼ˆå¹¶ä¸”å…¶æºä»£ç ä¸å¯è·å¾—ï¼‰çš„è½¯ä»¶åŒ…ã€‚å…¶ä¸ç­‰äºè‡ªç”±è½¯ä»¶ã€‚</p><p><strong>å…±äº«è½¯ä»¶ï¼š</strong> è‹¥æ˜¯æƒ³è¦ä½¿ç”¨å…¶è½¯ä»¶çš„å‰¯æœ¬ï¼Œåªéœ€æ”¯ä»˜å°‘è®¸çš„è´¹ç”¨å°±å¯ä»¥è·å–å‰¯æœ¬ä½¿ç”¨è®¸å¯ï¼Œä¸”å¤§å¤šæ•°éƒ½æ˜¯æºç ä¸å¯è·å–ã€‚</p><p><strong>ç§äººè½¯ä»¶ï¼š</strong> ä¸ºæŸä¸€ç¾¤æŒ‡å®šç”¨æˆ·å¼€å‘çš„è½¯ä»¶ã€‚ç”¨æˆ·ä¿å­˜å’Œä½¿ç”¨ä»–ä»¬ï¼Œä¸”ä¸ä¼šä»¥æºä»£ç å’ŒäºŒè¿›åˆ¶æ–¹å¼å¯¹å…¬ä¼—å‘å¸ƒã€‚</p><p><strong>å•†ä¸šè½¯ä»¶ï¼š</strong> ç§äººè½¯ä»¶ä¸ç­‰ä»·ä¸å•†ä¸šè½¯ä»¶ã€‚å¤§éƒ¨åˆ†å•†ä¸šè½¯ä»¶éƒ½æ˜¯ä¸“æœ‰è½¯ä»¶ï¼Œä½†æ˜¯ä¹Ÿæœ‰å•†ä¸šåŒ–çš„è‡ªç”±è½¯ä»¶ï¼Œä¹Ÿæœ‰éå•†ä¸šåŒ–çš„ä¸“æœ‰è½¯ä»¶ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200901132527.png" width="50%"/ loading="lazy"><p>ä¸Šé¢åªæ˜¯æˆ‘ä»¬æ¯”è¾ƒå…³å¿ƒå’Œç»å¸¸çœ‹åˆ°çš„ä¸€äº›è½¯ä»¶çš„è¯´æ³•å’Œå®šä¹‰ï¼Œå®é™…ä¸Šï¼Œè¿˜æœ‰å¾ˆå¤šå…¶ä»–ç§ç±»çš„è½¯ä»¶ï¼šå…¬æœ‰é¢†åŸŸè½¯ä»¶ã€Copyleft è½¯ä»¶ã€é copyleft çš„è‡ªç”±è½¯ä»¶ã€ä½¿ç”¨åŒ…å®¹å‹è®¸å¯è¯çš„è½¯ä»¶ã€ä½¿ç”¨ GPL è®¸å¯çš„è½¯ä»¶ã€GNU æ“ä½œç³»ç»Ÿã€GNU ç¨‹åºã€GNU è½¯ä»¶ã€FSF æ‹¥æœ‰ç‰ˆæƒçš„ GNU è½¯ä»¶ç­‰ï¼Œå…³äºä»–ä»¬è¯¦ç»†çš„ï¼Œå¯ä»¥å‚è€ƒ <a href="http://www.gnu.org/philosophy/categories.html">è‡ªç”±ä¸éè‡ªç”±è½¯ä»¶çš„åˆ†ç±»</a>ã€‚</p><br><h2 id="GNU-x2F-Linux-ä¸ªäººæ„Ÿæƒ³ï¼š"><a href="#GNU-x2F-Linux-ä¸ªäººæ„Ÿæƒ³ï¼š" class="headerlink" title="GNU &#x2F; Linux ä¸ªäººæ„Ÿæƒ³ï¼š"></a>GNU &#x2F; Linux ä¸ªäººæ„Ÿæƒ³ï¼š</h2><p>å¯¹äºå‰è¾ˆä»¬ä»äº‹äº GNU &#x2F; Linux å¼€å‘ï¼Œä¸ºæˆ‘ä»¬æä¾›å¼€æ”¾çš„æºç ï¼Œå¯ä»¥ä½¿å¾—æˆ‘ä»¬è‡ªç”±çš„ã€å…è´¹çš„å’Œæ–¹ä¾¿çš„å­¦ä¹ è½¯ä»¶ç¼–ç¨‹ã€å’Œå¯ä»¥äº†è§£ Linux æ“ä½œç³»ç»Ÿçš„æ„å»ºä»¬å’Œè¿è¡ŒåŸç†ã€‚å¯¹äºæƒ³è¦å½»æ›¿ä»£é—­æºè½¯ä»¶çš„ï¼Œæ„Ÿè§‰ä»–ä»¬å°±æ˜¯ç”¨çˆ±å‘ç”µï¼Œå¹¶ä¸”è¿˜ä¸€ç›´å‘ç”µäº†å¾ˆå¤šå¹´ï¼Œé ç€è‡ªå·±çš„å…´è¶£æ”¯æ’‘ï¼Œé‚€è¯·ç€å…¶ä»–å¿—åŒé“åˆçš„å¼€æºè€…ä»¬ï¼Œä¸€èµ·åšç€æ–—äº‰ï¼Œå¸Œæœ›æœ‰ä¸€å¤©ï¼Œæ‰€æœ‰äººæ‰€æœ‰æ–¹é¢å’Œå­¦ç§‘ï¼Œéƒ½èƒ½å¤Ÿä½¿ç”¨è‡ªç”±æ“ä½œç³»ç»Ÿå’Œè‡ªç”±è½¯ä»¶ã€‚ä¸ªäººæ„Ÿè§‰è¿™æ˜¯ä¸€ä¸ªå´‡é«˜ä¸”ä»é‡è€Œé“è¿œçš„ç†æƒ³ï¼›<strong>ä»–ä»¬æœ‰ç€è‡ªå·±çš„åŸåˆ™ã€æƒ³æ³•ã€ä¸ä¸ºé‡‘é’±ä¸ºé©±åŠ¨åŠ›ï¼Œåªæ˜¯å»ç”¨å®é™…è¡ŒåŠ¨ï¼Œä¸ºäº†å®£æ‰¬è‡ªå·±çš„ç†å¿µå’Œå»å®è·µå¼€æºæ–‡åŒ–å’Œç¤¾åŒºå‘å±•ã€‚åšè¿™æ ·ä¸€ä»¶äº‹ï¼Œæ„Ÿè§‰ä»–ä»¬çº¯ç²¹ä¸”è‡ªç”±çš„äººï¼Œæ˜¯çœŸæ­£çƒ­çˆ±ç”Ÿæ´»å’Œçƒ­çˆ±ç”Ÿå‘½ã€çƒ­çˆ±è´¡çŒ®çš„ã€åšç€çº¯ç²¹çš„å…´è¶£çš„äº‹æƒ…ã€‚</strong> è°åˆä¸å–œæ¬¢åšä¸€äº›è‡ªå·±æƒ³åšçš„äº‹æƒ…å‘¢ï¼Ÿä½•å†µå…¶æ„ä¹‰æ·±è¿œï½ï½</p><br><hr><br><h1 id="å¯¹äº-Arch-Linux-çš„ä¸€ç‚¹ç†è§£ï¼š"><a href="#å¯¹äº-Arch-Linux-çš„ä¸€ç‚¹ç†è§£ï¼š" class="headerlink" title="å¯¹äº Arch Linux çš„ä¸€ç‚¹ç†è§£ï¼š"></a>å¯¹äº Arch Linux çš„ä¸€ç‚¹ç†è§£ï¼š</h1><h2 id="æ¥”å­ï¼š"><a href="#æ¥”å­ï¼š" class="headerlink" title="æ¥”å­ï¼š"></a>æ¥”å­ï¼š</h2><p>â€‹<strong>GNU &#x2F; Linux å‘è¡Œç‰ˆã€ç”±äºå¼€æºç†å¿µã€ä»»ä½•äººéƒ½å¯ä»¥æŒ‰ç…§è‡ªå·±æƒ³æ³•æ¥ä¿®æ”¹</strong>ï¼ŒåŠ ä¸Šæ—¶é—´çš„ç§¯ç´¯ï¼Œæ‰€ä»¥äº§ç”Ÿäº†è¯¸å¤šçš„å‘è¡Œç‰ˆ~ï¼›ä»–ä»¬æœ‰ç€å„è‡ªçš„ç†å¿µï¼Œå¸¸è§çš„ä¸€ç§è¡¨ç°å½¢å¼ä¸ºï¼Œå„è‡ªä¸ºæˆ˜ï¼Œè€Œåœ¨æ ¹æœ¬é—®é¢˜ä¸Šï¼Œåˆèƒ½ä¿æŒåè°ƒç»Ÿä¸€ï¼ŒåŸºè°ƒæ¥çœ‹ï¼Œå±äºç™¾èŠ±äº‰é¸£ï¼›</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200901170413.png" width="100%"/ loading="lazy"><br><h2 id="ArchLinux-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ArchLinux-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ArchLinux æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ArchLinux æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p><code>ArchLinux</code> æ˜¯<strong>ä¸€æ¬¾ç‹¬ç«‹çš„ Linux å‘è¡Œç‰ˆ</strong> ï¼Œæ—¢ä¸æ˜¯ç»§æ‰¿äº Debian ç³»ï¼Œä¹Ÿä¸æ˜¯ç»§æ‰¿äº Red Hat ç³»ã€ä¹Ÿæ²¡æœ‰ç»§æ‰¿äºSlackware ç³»ã€‚æƒ³ä¸åˆ°å§ï¼Ÿå’Œæˆ‘ä»¬æ¯”è¾ƒç†Ÿæ‚‰çš„ Ubuntuã€Fedoraã€CentOSã€UOSã€Deepin æ²¡æœ‰ä¸Šä¸‹æ¸¸å…³ç³»ã€‚ï¼ˆå½“å¬åˆ°æœ‰äººé—®å®ƒæ˜¯ç»§æ‰¿äºå“ªä¸€ä¸ªï¼Ÿå½“æ—¶æˆ‘å¾ˆéœ‡æƒŠï¼Œï¼Œï¼ŒArchï¼Œï¼Œï¼Œï¼‰</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200901151814.png" width="20%"/ loading="lazy"><p>åœ¨ä¸‹å›¾æ¥çœ‹ï¼Œå®ƒæ˜¯å¤„äºç®­å¤´æ‰€åœ¨ä½ç½®ï¼Œä¸‹æ–¹çš„çš„æ˜¯å®ƒçš„ä¸‹æ¸¸ï¼š</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200901163234.png" width="90%"/ loading="lazy"><br><h2 id="ArchLinux-å†å²ï¼š"><a href="#ArchLinux-å†å²ï¼š" class="headerlink" title="ArchLinux å†å²ï¼š"></a>ArchLinux å†å²ï¼š</h2><p><strong>æ—©æœŸï¼š</strong> åŠ æ‹¿å¤§ç¨‹åºå‘˜å’Œå‰ä»–å¸ˆ Judd Vinet ä» 2001 å¹´æ—©æœŸå¼€å§‹å¼€å‘ Arch Linuxï¼Œå¹¶åœ¨2002å¹´3æœˆ11æ—¥æ­£å¼å‘è¡Œ0.1ç‰ˆã€‚</p><p><strong>ä¸­æœŸï¼š</strong> <a href="https://wiki.archlinux.org/index.php/File:Archstats2002-2011.png">è¿™ä¸ª</a>å›¾è¡¨è§è¯äº†Arch Linux ç¤¾åŒºçš„ç¨³æ­¥æ‰©å¤§. è€Œä¸”ä»æ—©æœŸå¼€å§‹ï¼ŒArch å°±æ ‘ç«‹èµ·äº† <a href="http://www.osnews.com/story/4827">å¼€æ”¾ã€å‹å¥½å’Œç¤¾åŒºäº’åŠ©çš„å½¢è±¡</a>ã€‚</p><p><strong>ArchWiki çš„è¯ç”Ÿï¼š</strong> 2005å¹´7æœˆ8æ—¥ï¼Œç”¨ MediaWiki æ­å»ºçš„ ArchWiki <a href="https://wiki.archlinux.org/index.php/ArchWiki:About_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E6%97%A9%E6%9C%9F%E5%8E%86%E5%8F%B2">å¼€å§‹è¿è¡Œ</a>ã€‚</p><p><strong>A. Griffin æ—¶ä»£ï¼š</strong> 2007ä¸‹åŠå¹´ï¼ŒJudd Vinet é€€å‡ºäº†Archçš„å¼€å‘ï¼Œå¹¶<a href="https://bbs.archlinux.org/viewtopic.php?id=38024">æŠŠç»Ÿæ²»æƒäº¤ç»™ç¾å›½ç¨‹åºå‘˜ Aaron Griffin</a>, ä¹Ÿå°±æ˜¯ Phraktureï¼Œç›®å‰ä»–ä¾ç„¶æ˜¯ Arch å¼€å‘è€…ã€‚</p><p><strong>Arch å®‰è£…è„šæœ¬ï¼š</strong> 2012 å¹´ 7 æœˆçš„ Arch Linux å®‰è£…ä»‹è´¨ä¸­ <a href="https://www.archlinux.org/news/install-media-20120715-released/">å¼ƒç”¨äº†</a> åŸºäºèœå•çš„ <em>Arch å®‰è£…æ¡†æ¶</em>(AIF)ï¼Œæ”¹ä¸ºä½¿ç”¨<em>Arch å®‰è£…è„šæœ¬</em> (<a href="https://www.archlinux.org/packages/?name=arch-install-scripts">arch-install-scripts</a>)ã€‚</p><p><strong>Systemd æ—¶ä»£ï¼š</strong> 2012 åˆ° 2013 å¹´é—´ Arch ç”¨ Systemd æ›¿æ¢äº† System V init </p><p><strong>æŠ›å¼ƒ i686 æ”¯æŒï¼š</strong> é‰´äºåœ¨å¼€å‘è€…å’Œç¤¾åŒºä¸­ i686 æ¶æ„çš„ä½¿ç”¨ç¨‹åº¦é€æ¸å¼å¾®ï¼Œ<a href="https://www.archlinux.org/news/the-end-of-i686-support/">i686æ”¯æŒå·²ç»äº2017å¹´11æœˆåº•è¢«æŠ›å¼ƒ</a> ã€‚</p><p><strong>é¡¹ç›®çš„é¢†å¯¼è§’è‰²å’Œé€‰ä¸¾ï¼š</strong> 2020 å¹´åˆï¼ŒArch å¼€å§‹ç”¨æ–°çš„æµç¨‹é€‰æ‹©æœªæ¥çš„é¢†è¢–ï¼Œè¯¦æƒ…è®°è½½åœ¨ <a href="https://wiki.archlinux.org/index.php/DeveloperWiki:Project_Leader">DeveloperWiki:Project Leader</a>ã€‚Aaron Griffin å†³å®šä¸å†æ‹…ä»»é¡¹ç›®é¢†å¯¼ï¼ŒArch é€šè¿‡é€‰ä¸¾æ–¹å¼æ­£å¼ç¡®è®¤ Levente Polyak ä¸ºæ–°çš„é¢†å¯¼ï¼Œç»“æœè®°å½•åœ¨ <a href="https://www.archlinux.org/news/the-future-of-the-arch-linux-project-leader/">è¿™é‡Œ</a>ã€‚</p><br><h2 id="ArchLinux-ç†å¿µï¼š"><a href="#ArchLinux-ç†å¿µï¼š" class="headerlink" title="ArchLinux ç†å¿µï¼š"></a>ArchLinux ç†å¿µï¼š</h2><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200902101549.png" width="60%"/ loading="lazy"><p><strong>Keep It Simple, Stupid ï¼ˆä¿æŒç®€å•ï¼Œä¸”ä¸€ç›®äº†ç„¶ï¼‰</strong>ï¼›</p><h3 id="ç®€æ´"><a href="#ç®€æ´" class="headerlink" title="ç®€æ´"></a>ç®€æ´</h3><p>Arch Linux å°†ç®€æ´å®šä¹‰ä¸ºï¼š<strong>é¿å…ä»»ä½•ä¸å¿…è¦çš„æ·»åŠ ã€ä¿®æ”¹å’Œå¤æ‚å¢åŠ </strong>ã€‚å®ƒæä¾›çš„è½¯ä»¶éƒ½æ¥è‡ªåŸå§‹å¼€å‘è€…(<a href="https://en.wikipedia.org/wiki/Upstream_(software_development)">ä¸Šæ¸¸</a>)ï¼Œä»…è¿›è¡Œå’Œå‘è¡Œç‰ˆ(ä¸‹æ¸¸)ç›¸å…³çš„æœ€å°ä¿®æ”¹ã€‚</p><ul><li>ä¸åŒ…å«ä¸Šæ¸¸ä¸æ„¿æ„æ¥å—çš„è¡¥ä¸ã€‚ç»å¤§éƒ¨åˆ† Arch ä¸‹æ¸¸è¡¥ä¸éƒ½å·²ç»è¢«ä¸Šæ¸¸æ¥å—ï¼Œä¸‹ä¸€ä¸ªæ­£å¼ç‰ˆæœ¬é‡Œä¼šåŒ…å«ã€‚</li><li>é…ç½®æ–‡ä»¶ä¹Ÿæ˜¯æ¥è‡ªä¸Šæ¸¸ï¼Œä»…åŒ…å«å‘è¡Œç‰ˆå¿…é¡»çš„è°ƒæ•´ï¼Œæ¯”å¦‚ç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿè·¯å¾„å˜åŠ¨ã€‚Arch ä¸ä¼šåœ¨å®‰è£…ä¸€ä¸ªè½¯ä»¶åŒ…åå°±è‡ªåŠ¨å¯åŠ¨æœåŠ¡ã€‚</li><li>è½¯ä»¶åŒ…é€šå¸¸éƒ½å’Œä¸€ä¸ªä¸Šæ¸¸é¡¹ç›®ç›´æ¥å¯¹åº”ã€‚ä»…åœ¨æå°‘æ•°æƒ…å†µä¸‹æ‰ä¼šæ‹†åˆ†è½¯ä»¶åŒ…ã€‚</li><li>å®˜æ–¹ä¸æ”¯æŒå›¾å½¢åŒ–é…ç½®ç•Œé¢ï¼Œå»ºè®®ç”¨æˆ·ä½¿ç”¨å‘½ä»¤è¡Œæˆ–æ–‡æœ¬ç¼–è¾‘å™¨ä¿®æ”¹è®¾ç½®ã€‚</li></ul><h3 id="ç°ä»£"><a href="#ç°ä»£" class="headerlink" title="ç°ä»£"></a>ç°ä»£</h3><p>Archå°½å…¨åŠ›ä¿æŒè½¯ä»¶å¤„äºæœ€æ–°çš„ç¨³å®šç‰ˆæœ¬ï¼Œåªè¦ä¸å‡ºç°ç³»ç»Ÿè½¯ä»¶åŒ…ç ´æŸï¼Œéƒ½å°½é‡ç”¨æœ€æ–°ç‰ˆæœ¬ã€‚Arché‡‡ç”¨<a href="https://en.wikipedia.org/wiki/Rolling_release">æ»šåŠ¨å‡çº§</a>ç­–ç•¥ï¼Œå®‰è£…ä¹‹åå¯ä»¥æŒç»­å‡çº§ã€‚</p><p>Archå‘<a href="https://wiki.archlinux.org/index.php/GNU_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">GNU</a>&#x2F;Linuxç”¨æˆ·æä¾›äº†è®¸å¤šæ–°ç‰¹æ€§ï¼ŒåŒ…æ‹¬<a href="https://wiki.archlinux.org/index.php/Systemd_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">systemd</a>åˆå§‹åŒ–ç³»ç»Ÿã€ç°ä»£çš„<a href="https://wiki.archlinux.org/index.php/File_systems_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">æ–‡ä»¶ç³»ç»Ÿ</a>ã€LVM2&#x2F;EVMSã€è½¯ä»¶ç£ç›˜é˜µåˆ—ï¼ˆè½¯RAIDï¼‰ã€udevæ”¯æŒã€initcpioï¼ˆé™„å¸¦mkinitcpioï¼‰ä»¥åŠæœ€æ–°çš„å†…æ ¸ã€‚</p><h3 id="å®ç”¨"><a href="#å®ç”¨" class="headerlink" title="å®ç”¨"></a>å®ç”¨</h3><p>Arch æ³¨é‡å®ç”¨æ€§ï¼Œé¿å…æ„è¯†å½¢æ€ä¹‹äº‰ã€‚æœ€ç»ˆçš„è®¾è®¡å†³ç­–éƒ½æ˜¯ç”±å¼€å‘è€…çš„å…±è¯†å†³å®šã€‚å¼€å‘è€…ä¾èµ–åŸºäºäº‹å®çš„æŠ€æœ¯åˆ†æå’Œè®¨è®ºï¼Œé¿å…æ”¿æ²»å› ç´ ï¼Œä¸ä¼šè¢«æµè¡Œè§‚ç‚¹å·¦å³ã€‚</p><p>Arch Linux çš„ä»“åº“ä¸­åŒ…å«å¤§é‡çš„è½¯ä»¶åŒ…å’Œç¼–è¯‘è„šæœ¬ã€‚ç”¨æˆ·å¯ä»¥æŒ‰ç…§éœ€è¦è¿›è¡Œè‡ªç”±é€‰æ‹©ã€‚ä»“åº“ä¸­æ—¢æä¾›äº†å¼€æºã€è‡ªç”±çš„è½¯ä»¶ï¼Œä¹Ÿæä¾›äº†é—­æºè½¯ä»¶ã€‚<strong>å®ç”¨æ€§å¤§äºæ„è¯†å½¢æ€</strong>.</p><h3 id="ä»¥ç”¨æˆ·ä¸ºä¸­å¿ƒ"><a href="#ä»¥ç”¨æˆ·ä¸ºä¸­å¿ƒ" class="headerlink" title="ä»¥ç”¨æˆ·ä¸ºä¸­å¿ƒ"></a>ä»¥ç”¨æˆ·ä¸ºä¸­å¿ƒ</h3><p>è®¸å¤š Linux å‘è¡Œç‰ˆéƒ½è¯•å›¾å˜å¾—æ›´â€œç”¨æˆ·å‹å¥½â€ï¼ŒArch Linux åˆ™ä¸€ç›´æ˜¯ï¼Œæ°¸è¿œä¼šæ˜¯â€œä»¥ç”¨æˆ·ä¸ºä¸­å¿ƒâ€ã€‚æ­¤å‘è¡Œç‰ˆæ˜¯ä¸ºäº†æ»¡è¶³è´¡çŒ®è€…çš„éœ€æ±‚ï¼Œè€Œä¸æ˜¯ä¸ºäº†å¸å¼•å°½å¯èƒ½å¤šçš„ç”¨æˆ·ã€‚Arch é€‚ç”¨äºä¹äºè‡ªå·±åŠ¨æ‰‹çš„ç”¨æˆ·ï¼Œä»–ä»¬æ„¿æ„èŠ±æ—¶é—´é˜…è¯»æ–‡æ¡£ï¼Œè§£å†³è‡ªå·±çš„é—®é¢˜ã€‚</p><p>Arch é¼“åŠ±æ¯ä¸€ä¸ªç”¨æˆ· <a href="https://wiki.archlinux.org/index.php/Getting_involved_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">å‚ä¸</a> å’Œè´¡çŒ®ï¼ŒæŠ¥å‘Šå’Œå¸®åŠ©ä¿®å¤ <a href="https://bugs.archlinux.org/">bugs</a>ï¼Œæä¾›è½¯ä»¶åŒ…è¡¥ä¸å’Œå‚åŠ æ ¸å¿ƒ <a href="https://projects.archlinux.org/">é¡¹ç›®</a>ï¼šArch å¼€å‘è€…éƒ½æ˜¯å¿—æ„¿è€…ï¼Œé€šè¿‡æŒç»­çš„è´¡çŒ®æˆä¸ºå›¢é˜Ÿçš„ä¸€å‘˜ã€‚<em>Archers</em> å¯ä»¥è‡ªè¡Œè´¡çŒ®è½¯ä»¶åŒ…åˆ° <a href="https://wiki.archlinux.org/index.php/Arch_User_Repository_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">Arch ç”¨æˆ·ä»“åº“</a>, æå‡ <a href="https://wiki.archlinux.org/index.php/Main_page_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">ArchWiki æ–‡æ¡£è´¨é‡</a>, åœ¨ <a href="https://bbs.archlinux.org/">è®ºå›</a>, <a href="https://mailman.archlinux.org/mailman/listinfo/">é‚®ä»¶åˆ—è¡¨</a>, <a href="https://wiki.archlinux.org/index.php/IRC_channels_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">IRC</a> ä¸­ç»™å…¶å®ƒç”¨æˆ·æä¾›æŠ€æœ¯æ”¯æŒ. Arch Linux æ˜¯å…¨çƒå¾ˆå¤šç”¨æˆ·çš„é€‰æ‹©ï¼Œå·²ç»æœ‰å¾ˆå¤š<a href="https://wiki.archlinux.org/index.php/International_communities">å›½é™…ç¤¾åŒº</a>æä¾›å¸®åŠ©å’Œæ–‡æ¡£ç¿»è¯‘ã€‚</p><br><h2 id="ArchLinux-ç”¨æˆ·ï¼š"><a href="#ArchLinux-ç”¨æˆ·ï¼š" class="headerlink" title="ArchLinux ç”¨æˆ·ï¼š"></a>ArchLinux ç”¨æˆ·ï¼š</h2><p>â€‹ç”±äºå„å‘è¡Œç‰ˆçš„ç†å¿µä¸ä¸€æ ·ï¼Œè€Œæ„è¯†å†³å®šè¡Œä¸ºï¼Œä½¿å¾—æœ€ç»ˆçš„äº§ç‰©å’Œå—åˆ°æ¬¢è¿ç¨‹åº¦ä¹Ÿå¤§ä¸ç›¸åŒï¼›ä¸å•†ä¸šç‰ˆå¯¹åº”çš„ç¤¾åŒºç‰ˆæœ¬ã€é€šå¸¸éƒ½ä¼šå»ºç«‹è‡ªå·±çš„ <strong>ç¤¾åŒº</strong>ï¼Œä¼šåœ¨æ™®é€šç”¨æˆ·ã€çˆ±å¥½è€…ã€è´¡çŒ®è€…å’Œå¼€å‘è€…ä¹‹é—´ï¼Œæ„å»ºä¸€ä¸ªæ²Ÿé€šæ¡¥æ¢ã€‚</p><p>â€‹å¯¹äºå„ä¸ªç¤¾åŒºç‰ˆæœ¬çš„ Linux æ¥è¯´ï¼›ä¸€ç§æ˜¯é¢å¯¹æ™®é€šå°ç™½ç”¨æˆ·çš„ï¼ˆå¤§éƒ¨åˆ†çš„ Debianç³» å‘è¡Œç‰ˆï¼‰ï¼›å¦å¤–ä¸€ç§æ˜¯é¢å¯¹æœ‰ä¸€å®šç¼–ç¨‹åŸºç¡€çš„çˆ±å¥½è€…ï¼ˆRed Hatç³»å’Œä¸€äº›å…¶å®ƒåŒ…ç®¡ç†ç³»ï¼‰ï¼›ä¸¤è€…é€šå¸¸ä¼šç»™å‡ºä¸ä¸€æ ·æ°´å¹³å±‚æ¬¡åé¦ˆï¼Œæ›´åŠ æƒŠå–œçš„æ˜¯ï¼Œåè€…æœ‰æ—¶å€™è¿˜æ˜¯ç›´æ¥å¸®åŠ©æˆ‘ä»¬å°† bug ä¿®å¤å¥½ï½ï¼Œä¸ºå‘è¡Œç‰ˆæ·»ç –åŠ ç“¦ã€‚è€Œè¿™å¤§å¤šæ•°æ˜¯ç”±ä¸å•çº¯çš„çˆ±å¥½å’Œçƒ­æƒ…ï¼Œæ²¡æœ‰åˆ©ç›Šæ‰€å¾—ï¼Œçº¯ç²¹çš„ç”¨çˆ±å‘ç”µï½ï¼›<strong>é€šå¸¸æ¥è¯´ï¼ŒArchlinux çš„ç”¨æˆ·ç¾¤ä½“ä¸»è¦æ˜¯æœ‰ä¸€å®šåŸºç¡€çš„ç¼–ç¨‹çš„è´¡çŒ®è€…</strong>ï¼Œ ä¹Ÿæœ‰ä¸€éƒ¨åˆ†è¢«å®‰åˆ©è¿‡æ¥çš„å°é²œå°ç™½~</p><p>â€‹å…¶ä¸­ <code>ArchLinux</code> å‘è¡Œç‰ˆï¼Œå‡­å€Ÿä¼˜ç§€å’Œç‹¬ç‰¹çš„ç†å¿µï¼Œå¸å¼•äº†å¾ˆå¤šçš„çˆ±å¥½è€…ï¼ˆä¸”å¯¹è´¡çŒ®è€…æå…¶å‹å¥½ï¼‰ã€‚å› ä¸ºå…¶æ˜¯å®Œå…¨ç”±ç”¨æˆ·å’Œç¤¾åŒºæ¥å†³å®šçš„å‘è¡Œç‰ˆä¸­ï¼Œä¸”æ•´ä¸ªç³»ç»Ÿæå…¶ç²¾ç®€ã€é‡‡ç”¨æ»šåŠ¨æ›´æ–°ï¼Œ è¿™å¯¹äºçˆ±å¥½å¼€æºæ–‡åŒ–çš„ç¨‹åºå‘˜æ¥è¯´ï¼Œ æ˜¯æœ‰ç€æ¯”è¾ƒå´‡é«˜çš„åœ°ä½ï¼Œä¸”å…¶æœ‰ç€<del>è‰¯å¥½</del>æå…¶ä¼˜ç§€çš„å’Œå¤šè¯­è¨€çš„ <a href="https://wiki.archlinux.org/index.php/Arch_Linux">WiKi</a> æ–‡æ¡£ã€‚é€šå¸¸å…¶æ–‡ç« å±äºçŸ­å°ç²¾æ‚ï¼Œå¯ä»¥è®©æˆ‘ä»¬æ›´åŠ è‡ªç”±çš„ç†è§£è®¡ç®—æœºåº•å±‚çš„åŸç†ã€‚</p><br><h2 id="ArchLinux-ç¾¤ç»„ï¼š"><a href="#ArchLinux-ç¾¤ç»„ï¼š" class="headerlink" title="ArchLinux ç¾¤ç»„ï¼š"></a>ArchLinux ç¾¤ç»„ï¼š</h2><p>ArchLinux å‘è¡Œç‰ˆï¼Œå…¶èµ°å‘å®Œå…¨åˆç¤¾åŒºæ¥ç¡®å®šï¼Œåœ¨ç”¨æˆ·ç¾¤ä½“ä¸­ï¼ŒæŒ‘é€‰å‡ºå—ä¿¡ä»»ç”¨æˆ·ï¼ˆTUï¼‰ï¼Œæ¥è¿›è¡Œä¸€äº›å¸®åŠ©ç®¡ç†ï¼Œå’Œå†³å®šï¼Œå¯¹äºæœ‰äº‰è®®ä¹‹å¤„ï¼Œå°±é‡‡å–é›†ä½“çº¿ä¸Šå¼€ä¼šï¼Œç„¶åæŠ•ç¥¨æ¥é€šè¿‡æŸä¸€é¡¹äº‹ç‰©çš„å†³å®šï¼›ç¤¾åŒºçš„æ„æˆï¼Œéƒ¨åˆ†ç”±å¦‚ä¸‹æ„æˆï¼š</p><ul><li><p><a href="https://bbs.archlinux.org/">Arch Linux å®˜æ–¹è®ºå›</a> ï¼š ã€Œå®˜æ–¹ã€è‹±æ–‡ã€è®ºå›äº¤æµåŒºåŸŸ</p></li><li><p><a href="http://bbs.archlinuxcn.org/">Arch Linux ä¸­æ–‡è®ºå›</a> ï¼š ã€Œéå®˜æ–¹ã€ä¸­æ–‡ã€è®ºå›äº¤æµåŒºåŸŸï¼Œä¸ä»…æ˜¯æ–°æ‰‹ä¹‹åœ°ï¼Œè¿˜å¯é‡åˆ°åå¹´å¤šçš„è€ Arch çƒ­å¿ƒç”¨æˆ·å¸®</p></li><li><p><a href="irc://freenode/archlinux-cn">ä¸­æ–‡ IRC é¢‘é“ #archlinux-cn</a> ï¼š ä¸€ä¸ªå¤è€çš„å…¨çƒæ€§çš„åŒ¿åèŠå¤©å®¤</p></li><li><p><a href="https://wiki.archlinux.org/">ArchLinux çš„WiKi</a> ï¼š Arch çš„ç™¾ç§‘å…¨ä¹¦ï¼Œé€šå¸¸æ›´æ–°åŠæ—¶ï¼Œä¸”æ”¯æŒå¸¸è§è¯­è¨€ç‰ˆæœ¬ï¼Œå¿…å¤‡å·¥å…·ï¼ˆ<a href="https://wiki.archlinux.org/index.php/ArchWiki:About_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E6%97%A9%E6%9C%9F%E5%8E%86%E5%8F%B2">wikiä»‹ç»</a>ï¼‰ã€‚</p></li><li><p><a href="https://aur.archlinux.org/">ArchLinux çš„ Aur ä»“åº“</a> ï¼š AUR åŒ…æ˜¯ç”¨æˆ·è‡ªå·±äº§ç”Ÿçš„å†…å®¹ï¼Œç„¶åä¸Šä¼ åŒ…çš„ä»“åº“ï¼Œå…¶ä¸­æå¤§çš„ä¸°å¯Œå›½å†…ä¸€äº›å¸¸ç”¨ win è½¯ä»¶çš„ç§»æ¤ï¼Œä½†è®°å¾—ä½¿ç”¨å®ƒä»¬é€ æˆçš„åæœå¾—è‡ªè´Ÿï¼Œæ²¡æœ‰ä»»ä½•äººéœ€è¦ä¸ºå…¶è´Ÿè´£~</p></li><li><p><a href="https://t.me/archlinuxcn_group">#archlinux-cn</a> ï¼š Tg çš„ Arch ç¾¤ç»„ï¼ŒåªèŠ Arch çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆã€Œä¸­æ–‡ã€</p></li><li><p><a href="https://t.me/archlinuxcn">Arch Linux</a> ï¼š Tg çš„é¢‘é“ï¼Œè·Ÿè¿› Arch Linux æ—¥å¸¸è¸©å‘é¢„è­¦ï¼Œç¿»è¯‘å®˜æ–¹æ–°é—»ï¼Œ testing æµ‹è¯•é¢„è­¦ç­‰</p></li><li><p><a href="https://t.me/archlinuxcn_offtopic">#archlinux-cn-offtopic</a> ï¼šTg çš„ Arch Linux ç›¸å…³äººå‘˜çš„æ—¥å¸¸è®¨è®ºç¾¤</p></li><li><p><a href="https://fars.ee/~readme.html">å…¶ä»–æ›´å¤šç¾¤ç»„</a> ï¼š å…¶ä»–æ›´å¤šç¾¤ç»„ï¼Œå’Œäº¤æµç¾¤çš„æŒ‡å¼•</p></li></ul><br><h2 id="ArchLinux-ç¤¾åŒºæ–‡åŒ–ï¼š"><a href="#ArchLinux-ç¤¾åŒºæ–‡åŒ–ï¼š" class="headerlink" title="ArchLinux ç¤¾åŒºæ–‡åŒ–ï¼š"></a>ArchLinux ç¤¾åŒºæ–‡åŒ–ï¼š</h2><p>â€‹<strong>ä¸€å¼€å§‹å°±ç­›é€‰ç²¾å‡†ç”¨æˆ·</strong> ï¼Œä»å¼€å§‹å®‰è£… <code>ArchLinux</code> ç³»ç»Ÿå¼€å§‹ï¼Œæ­¥éª¤å°±æ¯”ä¸€äº›å¸¦æœ‰ <code>GUI</code> ç¨‹åºå®‰è£…å™¨çš„è½¯ä»¶è¦ç¹ççš„å¤šï¼Œä¸”å…¨ç¨‹å‘½ä»¤è¡Œå®‰è£…ï¼ˆç°åœ¨è¿˜å¿…é¡»æœ‰ç½‘ç»œï¼‰ï¼Œå½“ç„¶ï¼Œåˆæ¬¡å®‰è£…è¯¥ç³»ç»Ÿï¼Œä¼šè®©å¾ˆå¤šäººæ„Ÿè§‰å›°éš¾ï¼Œåœ¨å®‰è£…ç³»ç»Ÿä¸­ï¼Œå°±å¯ä»¥è¿‡æ»¤æ‰ä¸€äº›â€œä¼ªç”¨æˆ·â€ï¼Œä»è€Œç¡®ä¿åé¢ç•™ä¸‹çš„éƒ½æ˜¯ç²¾å‡†å’Œæœ‰åŠ¨æ‰‹èƒ½åŠ›çš„ç¾¤ä½“ç”¨æˆ·ã€‚ä¸” Arch æœ‰è‡ªå·±çš„æƒ³æ³•ï¼Œå…¶å¹¶ä¸ä»¥å¸å¼•å°½å¯èƒ½å¤šçš„ç”¨æˆ·ä¸ºç›®çš„ï¼Œåªæ˜¯å®‰å®‰å¿ƒå¿ƒçš„åšå¥½è‡ªå·±çš„äº‹æƒ…ï¼Œå‡¡äº‹éƒ½è‡ªå·±åŠ¨æ‰‹ï¼Œä¸°è¡£è¶³é£Ÿã€‚</p><p>â€‹<strong>è½¯ä»¶ä»“åº“æ˜¯ä¸°å¯Œä¸”æ›´æ–°è¿…é€Ÿçš„</strong>ï¼Œä¸”é™¤äº†å®˜æ–¹çš„ <code>community</code> ä»“åº“ï¼Œé‡Œé¢å·²ç»åŒ…å«å¸¸ç”¨å’Œå·²ç»æ£€æµ‹è¿‡çš„è½¯ä»¶æŠ¥å¦å¤–è¿˜æœ‰ AUR ä»“åº“ <code>archlinuxcn</code>ï¼Œéƒ½æ˜¯ç”¨æˆ·å¯ä»¥è‡ªå®šä¹‰è‡ªå·±ä¸Šä¼ ä»»ä½•å†…å®¹çš„è½¯ä»¶åŒ…ï¼Œä¸”ä¸ç”¨å¯¹å…¶è´Ÿä»»ä½•è´£ä»»ã€‚è¿˜æœ‰</p><p>â€‹<strong>å„ç§ç®¡ç†åŒ…å’Œå·¥å…·ç­‰ï¼Œéƒ½æ˜¯å°½å¯èƒ½æœ€æ–°çš„ç‰ˆæœ¬</strong>ï¼Œ </p><p>â€‹<strong>ç»å¸¸æ›´æ–°çš„ WiKi</strong>  å¸®åŠ©æ‰‹å†Œï¼Œå’Œå¯¹åº”çš„å¤šè¯­è¨€ç‰ˆæœ¬ï¼Œé€šå¸¸ä¹Ÿæ›´æ–°æ¯”è¾ƒåŠæ—¶ï¼Œå½“ç„¶ï¼Œå¼•æ–‡ç‰ˆæœ¬çš„æ°¸è¿œæ˜¯æœ€æ–°æœ€å…¨çš„ï¼›</p><p>â€‹<strong>è‰¯å¥½çš„ç¤¾åŒºäº¤æµæ°›å›´ã€Archer éƒ½æ‡‚æŠ€æœ¯çš„çƒ­å¿ƒè€…</strong> ï¼Œæ— è®ºæ˜¯åœ¨å“ªé‡Œçš„ç¤¾åŒºäº¤æµ~ï¼Œéƒ½ä¼šå¾ˆèˆ’é€‚å’Œå¾—åˆ°ä½ æƒ³ç­”æ¡ˆ</p><p>â€‹<strong>Arch å‘è¡Œç‰ˆå®Œå…¨ç”±ç¤¾åŒºç”¨æˆ·ç¾¤ã€UT å’Œå¼€å‘è€…æ¥å†³å®šå…¶å‘å±•å’Œèµ°å‘ï¼Œä¸ä¼šå—åˆ°å•†ä¸šç‰ˆæœ¬çš„å¹²æ‰°è¿›ç¨‹ã€‚</strong></p><p>â€‹<strong><code>ArchLinux</code> å‘è¡Œç‰ˆæ˜¯ä¸ºäº†æ»¡è¶³è´¡çŒ®è€…çš„éœ€æ±‚ï¼Œè€Œä¸æ˜¯ä¸ºäº†å¸å¼•å°½å¯èƒ½å¤šçš„ç”¨æˆ·ã€‚Arch é€‚ç”¨äºä¹äºè‡ªå·±åŠ¨æ‰‹çš„ç”¨æˆ·ï¼Œä»–ä»¬æ„¿æ„èŠ±æ—¶é—´é˜…è¯»æ–‡æ¡£ï¼Œè§£å†³è‡ªå·±çš„é—®é¢˜ã€‚</strong></p><br><h1 id="DDEä¸Arch-çš„å…³ç³»ï¼š"><a href="#DDEä¸Arch-çš„å…³ç³»ï¼š" class="headerlink" title="DDEä¸Arch çš„å…³ç³»ï¼š"></a>DDEä¸Arch çš„å…³ç³»ï¼š</h1><h2 id="DDE-ç§»æ¤-Arch-æµç¨‹ï¼š"><a href="#DDE-ç§»æ¤-Arch-æµç¨‹ï¼š" class="headerlink" title="DDE ç§»æ¤ Arch æµç¨‹ï¼š"></a>DDE ç§»æ¤ Arch æµç¨‹ï¼š</h2><p>â€‹è¿™é‡Œè®²è¿°ä¸€ä¸‹ DDE ç§»æ¤åˆ° ArchLinux çš„ç®€å•æ­¥éª¤ï¼Œäº¤ä»£ä¸‹èƒŒæ™¯ï¼ŒDDE ä¸»è¦æ˜¯åœ¨ UOS V20 + Qt 5.11.3 ä¸Šå¼€å‘å‡ºæ¥çš„ï¼Œè€Œ Arch ä¸Šçš„ Qt æ°¸è¿œéƒ½æ˜¯æœ€æ–°çš„ï¼Œå·²ç»åˆ° 5.15.0 äº†ï¼Œç›´æ¥ç¼–è¯‘ç»å¸¸ä¼šé‡åˆ°å¤±è´¥çš„æƒ…å†µï¼Œéœ€è¦è¡¥å……ç›¸åº”çš„å¤´æ–‡ä»¶çš„ç­‰ï½</p><ol><li>åœ¨  <a href="https://github.com/linuxdeepin">github</a>  ä»“åº“ä¸­ï¼Œé€‰å–æ‰€éœ€è¦çš„ä»“åº“</li><li>é€‰å–å…¶æœ€æ–°çš„ <a href="https://github.com/linuxdeepin/dtkwidget/tags">tag</a> ç¼–å·çš„ä»£ç ï¼Œclone åˆ°æœ¬åœ° ArchLinux æœºå™¨ä¸Šé¢</li><li>åœ¨æœ€æ–°çš„ç¯å¢ƒä¸­ Qt 5.15.x ä¸­è¿›è¡Œç¼–è¯‘<ol><li>è‹¥æ²¡æœ‰é—®é¢˜ï¼Œåˆ™è¿›è¡Œ ç¬¬ 5 æ­¥éª¤</li><li>è‹¥æœ‰é—®é¢˜ï¼Œåˆ™ä¿®æ”¹æºç ï¼Œç›´åˆ°ç¼–è¯‘é€šè¿‡ï¼›å°†ä¿®æ”¹éƒ¨åˆ†çš„ä»£ç ï¼Œä»¥è¡¥ä¸ path çš„å½¢å¼æäº¤åˆ° githubï¼Œç­‰å¾…åˆå¹¶è¿›å…¥ github ä»“åº“ï¼Œç„¶åæ­¤éƒ¨åˆ†è¢«æ‰“è¡¥ä¸åˆ°ä¸‹ä¸€ä¸ª tag ä¸­</li></ol></li><li>æ‰¾ä¸€ä¸ªæ‰“åŒ…è€…ï¼Œå‡†å¤‡è¿›è¡Œæ‰“åŒ…~</li><li>å…¶ç¼–å†™ <a href="https://wiki.archlinux.org/index.php/PKGBUILD_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">PKGBUILD</a> è„šæœ¬ ï¼ˆåŒ…å« ArchLinux åœ¨æ„å»ºè½¯ä»¶åŒ…æ—¶æ‰€éœ€è¦çš„ä¿¡æ¯çš„ shell è„šæœ¬ï¼‰</li><li>æ‰§è¡Œ <code>makepkg</code> ï¼Œç”Ÿæˆ <code>*.pkg.tar.zst</code> åŒ…ï¼Œå…¶å¯ä»¥è¢« <code>pacman -U æœ¬åœ°åŒ…</code> ç›´æ¥è¿›è¡Œå®‰è£… </li><li>è¿›è¡Œæµ‹è¯•ï¼Œä¸Šé¢éƒ½æ²¡æœ‰é—®é¢˜ä¹‹åï¼Œå°±æ¨é€åˆ° ArchLinux çš„ æœåŠ¡å™¨ä¸Šé¢ï¼Œæä¾›æ‰€æœ‰äººä¸‹è½½</li></ol><br><h2 id="ç»†èŠ‚ï¼š"><a href="#ç»†èŠ‚ï¼š" class="headerlink" title="ç»†èŠ‚ï¼š"></a>ç»†èŠ‚ï¼š</h2><p>â€‹å…¶ä¸­ï¼Œæ¯”è¾ƒè€—è´¹æ—¶é—´çš„åœ°æ–¹å°±æ˜¯ï¼Œç¼–å†™ PKGBUILD è„šæœ¬ï¼Œå’Œåœ¨ Arch ä¸Šé¢è¿›è¡Œæµ‹è¯•~ï¼›è¿™é‡Œå°†è¯¥è„šæœ¬æè¿°ä¸€ä¸‹ï¼Œåœ¨æœ¬æœºä¸­ï¼Œå¯ä»¥å¤åˆ¶ <code>/usr/share/pacman/PKGBUILD.proto</code> ä½œä¸º<a href="https://git.archlinux.org/pacman.git/plain/proto/PKGBUILD.proto">å‰¯æœ¬</a>ï¼Œé‡å‘½åä¸º PKGBUILD ç¼–å†™è¯¥è„šæœ¬ã€‚</p><br><h2 id="é™„ä¸¤ä¸ªå®ä¾‹ï¼š"><a href="#é™„ä¸¤ä¸ªå®ä¾‹ï¼š" class="headerlink" title="é™„ä¸¤ä¸ªå®ä¾‹ï¼š"></a>é™„ä¸¤ä¸ªå®ä¾‹ï¼š</h2><p><strong>ç¬¬ä¸€ä¸ªï¼š</strong></p><p>ä¸€ä¸ª DDE ä»“åº“çš„è‡ªå·±çš„å®é™…ä¾‹å­ï¼š<a href="https://github.com/archlinux/svntogit-community/blob/packages/deepin-qt5integration/trunk/PKGBUILD">deepin-qt5integration</a>ï¼šè‹¥æ˜¯ä¸ç†è§£ï¼Œå¯ä»¥è‡ªè¡Œå‚çœ‹ä¸‹ä¸€ä¸ªå¸¦æ³¨é‡Šçš„ä¾‹å­</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Maintainer: Felix Yan &lt;felixonmars@archlinux.org></span><span class="token assign-left variable">pkgname</span><span class="token operator">=</span>deepin-qt5integration<span class="token assign-left variable">pkgver</span><span class="token operator">=</span><span class="token number">5.1</span>.0.5<span class="token assign-left variable">pkgrel</span><span class="token operator">=</span><span class="token number">1</span><span class="token assign-left variable">pkgdesc</span><span class="token operator">=</span><span class="token string">'Qt platform theme integration plugins for DDE'</span><span class="token assign-left variable">arch</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'x86_64'</span><span class="token punctuation">)</span><span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">"https://github.com/linuxdeepin/qt5integration"</span><span class="token assign-left variable">license</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'GPL3'</span><span class="token punctuation">)</span><span class="token assign-left variable">depends</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'dtkwidget'</span> <span class="token string">'libqtxdg'</span> <span class="token string">'deepin-qt5platform-plugins'</span><span class="token punctuation">)</span><span class="token assign-left variable">makedepends</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'xcb-util-renderutil'</span> <span class="token string">'deepin-file-manager'</span><span class="token punctuation">)</span><span class="token assign-left variable">groups</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'deepin'</span><span class="token punctuation">)</span><span class="token assign-left variable">source</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">"<span class="token variable">$pkgname</span>-<span class="token variable">$pkgver</span>.tar.gz::https://github.com/linuxdeepin/qt5integration/archive/<span class="token variable">$pkgver</span>.tar.gz"</span><span class="token punctuation">)</span><span class="token assign-left variable">sha512sums</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'f161836d2429d232e5c20fbb99da584ad8cb46e418c5cf419b639fa53004c6aa67ab2596f63bbeee49d9dd9445e34ac73a03baa24320488577c5265d88412953'</span><span class="token punctuation">)</span><span class="token function-name function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token builtin class-name">cd</span> qt5integration-<span class="token variable">$pkgver</span>  qmake-qt5 <span class="token assign-left variable">PREFIX</span><span class="token operator">=</span>/usr  <span class="token function">make</span><span class="token punctuation">&#125;</span><span class="token function-name function">package</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token builtin class-name">cd</span> qt5integration-<span class="token variable">$pkgver</span>  <span class="token function">make</span> <span class="token assign-left variable">INSTALL_ROOT</span><span class="token operator">=</span><span class="token string">"<span class="token variable">$pkgdir</span>"</span> <span class="token function">install</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><p><strong>ç¬¬äºŒä¸ªï¼š</strong></p><p>â€‹æ­¤ä¸ºä¸ªäººå®é™…é¡¹ç›®çš„ç¼–å†™çš„ <a href="https://github.com/xmuli/chinessChess/blob/archlinux/PKGBUILD">PKGBUILD</a> è„šæœ¬ä¾‹å­ï¼Œæºç åœ¨ master åˆ†æ”¯ï¼Œ æ„å»ºè„šæœ¬åœ¨ archliux åˆ†æ”¯ï¼Œç¼–è¯‘è¿è¡ŒæˆåŠŸçš„ç»“æœåœ¨ <a href="https://github.com/xmuli/chinessChess/blob/archlinux/run_success.log">æ—¥å¿—</a> ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># This is an example PKGBUILD file. Use this as a start to creating your own,</span><span class="token comment"># and remove these comments. For more information, see 'man PKGBUILD'.</span><span class="token comment"># NOTE: Please fill out the license field for your package! If it is unknown,</span><span class="token comment"># then please put 'unknown'.</span><span class="token comment"># Maintainer: xmuli &lt;xmulitech@gmail.com>     # åŒ…çš„ç»´æŠ¤è€…</span><span class="token assign-left variable">pkgname</span><span class="token operator">=</span>chinesschess                          <span class="token comment"># åŒ…çš„åç§°ï¼ˆç”±å°å†™å­—æ¯ @ . _ + - æ„æˆï¼‰</span><span class="token assign-left variable">_pkgname</span><span class="token operator">=</span>chinessChess                         <span class="token comment"># è‡ªå·±æ·»åŠ çš„å˜é‡ ï¼ˆå›  pkgname è¦æ±‚å…¨å°å†™ï¼Œè€Œä»“åº“æºç ä¸­æœ‰å¤§å†™ï¼‰</span><span class="token assign-left variable">_pkgname2</span><span class="token operator">=</span>ChineseChess                        <span class="token comment"># è‡ªå·±æ·»åŠ çš„å˜é‡ ï¼ˆæœ€åé¡¹ç›®ç”Ÿæˆçš„æ–‡ä»¶åï¼‰</span><span class="token assign-left variable">pkgver</span><span class="token operator">=</span><span class="token number">5.6</span>.0                                  <span class="token comment"># åŒ…çš„ç‰ˆæœ¬å· ï¼ˆä¸å¯æœ‰è¿å­—ç¬¦ -ï¼‰</span><span class="token assign-left variable">pkgrel</span><span class="token operator">=</span><span class="token number">1</span>                                      <span class="token comment"># åŒ…çš„å‘å¸ƒå·ç </span><span class="token assign-left variable">epoch</span><span class="token operator">=</span>                                        <span class="token comment"># ç”¨äºå¼ºåˆ¶å‡çº§è½¯ä»¶åŒ… ï¼ˆä¸€èˆ¬ä¸å…è®¸ä½¿ç”¨ï¼‰</span><span class="token assign-left variable">pkgdesc</span><span class="token operator">=</span><span class="token string">"Network battle game written in Qt (available on LAN)"</span>  <span class="token comment"># è½¯ä»¶åŒ…çš„è¯¦ç»†æè¿°</span><span class="token assign-left variable">arch</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'x86_64'</span><span class="token punctuation">)</span>                               <span class="token comment"># åŒ…æ‰€èƒ½å¤Ÿç”Ÿæˆå¹¶ä¸”ä½¿ç”¨çš„æ¶æ„çš„åºåˆ—</span><span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">"https://github.com/xmuli/chinessChess"</span>   <span class="token comment"># åŒ…çš„å®˜ç½‘</span><span class="token assign-left variable">license</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'GPL3'</span><span class="token punctuation">)</span>                              <span class="token comment"># é‡‡ç”¨çš„è®¸å¯è¯</span><span class="token assign-left variable">groups</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                                     <span class="token comment"># è½¯ä»¶åŒ…æ‰€åœ¨çš„åŒ…ç»„</span><span class="token assign-left variable">depends</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                                    <span class="token comment"># è½¯ä»¶åŒ…çš„ç”Ÿæˆå’Œè¿è¡Œæ—¶ï¼Œå¿…é¡»å…ˆè¡Œå®‰è£…çš„è½¯ä»¶åˆ—è¡¨</span><span class="token assign-left variable">makedepends</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                                <span class="token comment"># ä»…åœ¨è½¯ä»¶ç”Ÿæˆæ—¶ï¼Œéœ€è¦çš„è½¯ä»¶åŒ…åˆ—è¡¨</span><span class="token assign-left variable">checkdepends</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                               <span class="token comment"># è¿è¡Œæµ‹è¯•ç»„ä»¶æ—¶éœ€è¦ï¼Œè€Œè¿è¡Œæ—¶ä¸éœ€è¦çš„åŒ…åˆ—è¡¨</span><span class="token assign-left variable">optdepends</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                                 <span class="token comment"># å¯é€‰çš„è½¯ä»¶åŒ…ï¼ˆå¯çœ‹ä½œæœ¬è½¯ä»¶çš„æ’ä»¶ï¼‰</span><span class="token assign-left variable">provides</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                                   <span class="token comment"># è¯´æ˜å½“å‰åŒ…æä¾›çš„åŠŸèƒ½ ï¼ˆè‹¥ä½¿ç”¨ï¼Œåˆ™éœ€åŠ ä¸Šæ›¿ä»£ç‰ˆæœ¬å·ï¼‰</span><span class="token assign-left variable">conflicts</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                                  <span class="token comment"># ä¸å½“å‰è½¯ä»¶åŒ…å‘ç”Ÿå†²çªçš„åŒ… ä¸åŠŸèƒ½çš„åˆ—è¡¨</span><span class="token assign-left variable">replaces</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                                   <span class="token comment"># ä¼šå› å®‰è£…å½“å‰åŒ…è€Œå–ä»£çš„è¿‡æ—¶çš„åŒ…çš„åˆ—è¡¨</span><span class="token assign-left variable">backup</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                                     <span class="token comment"># å½“åŒ…è¢«å‡çº§æˆ–å¸è½½æ—¶ï¼Œåº”å½“å¤‡ä»½çš„æ–‡ä»¶ï¼ˆçš„è·¯å¾„ï¼‰åºåˆ—</span><span class="token assign-left variable">options</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                                    <span class="token comment"># å…è®¸é‡è½½ makepkg çš„éƒ¨åˆ† ï¼ˆåœ¨ /etc/makepkg.conf ä¸­ï¼‰</span><span class="token assign-left variable">install</span><span class="token operator">=</span>                                      <span class="token comment"># .install è„šæœ¬çš„åç§° ï¼ˆå€¼åº”å’Œ pkgname ç›¸åŒï¼‰</span><span class="token assign-left variable">changelog</span><span class="token operator">=</span>                                    <span class="token comment"># è½¯ä»¶åŒ…çš„æ›´æ–°æ—¥å¿—çš„æ–‡ä»¶å</span><span class="token assign-left variable">source</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">"<span class="token variable">$_pkgname</span>-<span class="token variable">$pkgver</span>::https://github.com/xmuli/<span class="token variable">$_pkgname</span>/archive/v<span class="token variable">$pkgver</span>.tar.gz"</span><span class="token punctuation">)</span>  <span class="token comment"># æºç çš„ä¸‹è½½åœ°å€</span><span class="token assign-left variable">noextract</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                                  <span class="token comment"># åœ¨ source ä¸­åˆ—å‡ºï¼Œä½†ä¸åº”è¯¥åœ¨è¿è¡Œ makepkg æ—¶è¢«è§£åŒ…çš„æ–‡ä»¶åˆ—è¡¨</span><span class="token assign-left variable">md5sums</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'5abae73968ea0104e99b816bf0b720fe'</span><span class="token punctuation">)</span>  <span class="token comment"># å®Œæ•´æ€§æ ¡éªŒå€¼</span><span class="token assign-left variable">validpgpkeys</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                               <span class="token comment"># PGP æŒ‡çº¹åˆ—è¡¨</span><span class="token function-name function">prepare</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                                   <span class="token comment"># å‡†å¤‡</span><span class="token builtin class-name">cd</span> <span class="token variable">$srcdir</span>    <span class="token builtin class-name">echo</span> <span class="token variable">$srcdir</span><span class="token punctuation">&#125;</span><span class="token function-name function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                                     <span class="token comment"># æ„å»º</span><span class="token builtin class-name">cd</span> <span class="token variable">$_pkgname</span>-<span class="token variable">$pkgver</span><span class="token function">mkdir</span> bin    <span class="token builtin class-name">cd</span> bin    qmake <span class="token punctuation">..</span>    <span class="token function">make</span> -j<span class="token variable"><span class="token variable">$(</span>nproc<span class="token variable">)</span></span> <span class="token punctuation">&#125;</span><span class="token function-name function">check</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                                     <span class="token comment"># æ£€æŸ¥</span><span class="token builtin class-name">cd</span> <span class="token variable">$_pkgname</span>-<span class="token variable">$pkgver</span><span class="token punctuation">&#125;</span><span class="token function-name function">package</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                                   <span class="token comment"># åŒ…</span><span class="token builtin class-name">cd</span> <span class="token variable">$_pkgname</span>-<span class="token variable">$pkgver</span><span class="token comment"># make install</span>    <span class="token builtin class-name">cd</span> bin/    ./<span class="token variable">$_pkgname2</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h1 id="å‚è€ƒï¼š"><a href="#å‚è€ƒï¼š" class="headerlink" title="å‚è€ƒï¼š"></a><strong>å‚è€ƒï¼š</strong></h1><ul><li><p><a href="http://www.gnu.org/gnu/about-gnu.html">å…³äºGNUæ“ä½œç³»ç»Ÿ</a></p></li><li><p><a href="http://www.gnu.org/gnu/gnu-history.html">GNUç³»ç»Ÿæ¦‚è§ˆ</a></p></li><li><p><a href="http://www.gnu.org/gnu/linux-and-gnu.html">Linuxå’ŒGNUç³»ç»Ÿ</a></p></li><li><p><a href="http://www.gnu.org/philosophy/free-sw.html">ä»€ä¹ˆæ˜¯è‡ªç”±è½¯ä»¶ï¼Ÿ</a></p></li><li><p><a href="http://www.gnu.org/philosophy/categories.html">è‡ªç”±ä¸éè‡ªç”±è½¯ä»¶çš„åˆ†ç±»</a></p></li><li><p><a href="http://www.gnu.org/gnu/gnu-linux-faq.html">Richard Stallmanä¹‹GNU&#x2F;Linuxé—®ç­”</a></p></li><li><p><a href="https://zh.wikipedia.org/wiki/Linux%E5%8F%91%E8%A1%8C%E7%89%88">WiKi Linuxå‘è¡Œç‰ˆ</a></p></li><li><p><a href="https://zh.wikipedia.org/wiki/Linux%E5%8F%91%E8%A1%8C%E7%89%88%E6%AF%94%E8%BE%83">WiKi Linuxå‘è¡Œç‰ˆæ¯”è¾ƒ</a></p></li><li><p><a href="https://www.archlinux.org/">archlinux.org</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ArchLinux </tag>
            
            <tag> DDE </tag>
            
            <tag> Deepin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ æ·±å…¥è™šå‡½æ•°è¡¨</title>
      <link href="/posts/138731f9/"/>
      <url>/posts/138731f9/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€å¯¹äº <code>C++</code> ä¸­çš„å¤šæ¬¡ç»§æ‰¿åï¼Œå…¶ä¸­å«æœ‰è™šå‡½æ•°çš„æ—¶å€™ï¼Œæ¢ç©¶ä¸€ä¸‹å…¶ä¸­çš„è™šå‡½æ•°è¡¨ï¼›ä»¥åŠå…¶å˜é‡åœ¨å†…å­˜ä¸­çš„åˆ†å¸ƒæƒ…å†µã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š"></a>ç¼–ç¨‹ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>Win10 2004 </code> ğŸ“ <code>VS2015 x86æ¨¡å¼</code> </p><br><h3 id="è™šå‡½æ•°è¡¨éªŒè¯ï¼š"><a href="#è™šå‡½æ•°è¡¨éªŒè¯ï¼š" class="headerlink" title="è™šå‡½æ•°è¡¨éªŒè¯ï¼š"></a>è™šå‡½æ•°è¡¨éªŒè¯ï¼š</h3><p>å¯¹äºä»»æ„çš„ä¸€ä¸ªç±»ï¼Œè‹¥æ˜¯å…¶ä¸­æœ‰è™šå‡½æ•° <code>virtual</code> çš„è¯ï¼Œå°±ä¼šæœ‰ä¸€ä¸ªè™šå‡½æ•°æŒ‡é’ˆï¼Œè´Ÿè´£å…¶è‡ªå·±çš„è™šå‡½æ•°è¡¨ã€‚ä»£ç å°±æ˜¯æœ€å¥½çš„è®²è§£ï¼Œä¸Šä»£ç ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// vtableptr.cpp : å®šä¹‰æ§åˆ¶å°åº”ç”¨ç¨‹åºçš„å…¥å£ç‚¹ã€‚</span><span class="token comment">//</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"stdafx.h"</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span><span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">vfunc1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"A::vfunc1()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">vfunc2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"A::vfunc2()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">func1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"A::func1()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"A::func2()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token comment">//private:</span><span class="token keyword">int</span> m_data1 <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span><span class="token keyword">int</span> m_data2 <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">A</span></span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span><span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">vfunc1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"B::vfunc1()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"B::func2()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token comment">//private:</span><span class="token keyword">int</span> m_data3 <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">B</span></span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span><span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">vfunc1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"C::vfunc1()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"C::func2()"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token comment">//private:</span><span class="token keyword">int</span> m_data4 <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>A a<span class="token punctuation">;</span>B b<span class="token punctuation">;</span>C c<span class="token punctuation">;</span>a<span class="token punctuation">.</span><span class="token function">func1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>a<span class="token punctuation">.</span><span class="token function">func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>b<span class="token punctuation">.</span><span class="token function">func1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>b<span class="token punctuation">.</span><span class="token function">func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>c<span class="token punctuation">.</span><span class="token function">func1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>c<span class="token punctuation">.</span><span class="token function">func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"   "</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"    "</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>C<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶åè¿è¡Œå¦‚ä¸‹ï¼š</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200805010044.png" width="50%"/ loading="lazy"> <p>æŸ¥çœ‹ä¸€ä¸‹å†…å­˜åœ°å€åˆ†æï¼š</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200804_235949.png" width="100%"/ loading="lazy"> <p>å°†å…¶ç”¨è¡¨æ ¼å›¾å½¢åŒ–åˆ†æä¸€æ³¢ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºé‡å†™çš„åŸºç±»çš„è™šå‡½æ•°çš„æ´¾ç”Ÿç±»ï¼Œå…¶ç»´æŠ¤çš„è™šå‡½æ•°è¡¨ï¼Œå°±æ˜¯åŸºç±»æœªè¢«é‡å†™çš„è™šå‡½æ•°åœ°å€åŠ ä¸Šè‡ªå·±çš„ï¼ˆå·²ç»é‡å†™ï¼‰è™šå‡½æ•°ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200805_002523.png" width="100%"/ loading="lazy"><br><h3 id="ç±»ä¸­æˆå‘˜çš„ç©ºé—´ä½ç½®ï¼š"><a href="#ç±»ä¸­æˆå‘˜çš„ç©ºé—´ä½ç½®ï¼š" class="headerlink" title="ç±»ä¸­æˆå‘˜çš„ç©ºé—´ä½ç½®ï¼š"></a>ç±»ä¸­æˆå‘˜çš„ç©ºé—´ä½ç½®ï¼š</h3><p>åœ¨æ¥ä¸€ä¸ªç±»ï¼Œç”±ä¸‹å›¾ä»½çš„å†…å­˜ä½ç½®åˆ†æå¯çŸ¥ï¼Œé™æ€æˆå‘˜å’Œé™æ€å˜é‡ã€ä»¥åŠæˆå‘˜å‡½æ•°ä¹Ÿæ˜¯æ˜¯å•ç‹¬æ”¾åœ¨å…¶å®ƒåœ°æ–¹çš„</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">CTest</span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span><span class="token operator">:</span>        <span class="token function">CTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">m_chData</span><span class="token punctuation">(</span>â€˜\<span class="token number">0</span>â€™<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">m_nData</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">mem_fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>    <span class="token keyword">private</span><span class="token operator">:</span>        <span class="token keyword">char</span> m_chData<span class="token punctuation">;</span>        <span class="token keyword">int</span> m_nData<span class="token punctuation">;</span>        <span class="token keyword">static</span> <span class="token keyword">char</span> s_chData<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">char</span> CTest<span class="token double-colon punctuation">::</span>s_chData<span class="token operator">=</span>â€™\<span class="token number">0</span>â€™<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200805010235.png" width="80%"/ loading="lazy"><br><p>é€šè¿‡ä¸Šé¢æ¥ä¸¤ä¸ªä¾‹å­ï¼Œæˆ‘è§‰ç€å·²ç»å¾ˆæ¸…æ™°äº†ï¼Œä¸å†éœ€è¦æ€ä¹ˆè¯´ã€‚è€Œå…³äºä¸€ä¸ªç¨‹åºåœ¨å†…å­˜ä¸­çš„å¸ƒå±€ï¼Œå¯ä»¥å‚è€ƒä¹‹å‰çš„ä¸€ç‰‡æ–‡ç«  <a href="https://blog.csdn.net/qq_33154343/article/details/105029261">è¿è¡Œç¨‹åºæ‰€åˆ†é…çš„åœ°å€ç©ºé—´</a> </p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºä¸€ æŠ€æ³• </category>
          
          <category> å­¦ä¹  - åº•å±‚å…¼æ¶æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è™šå‡½æ•°è¡¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ArchLinux + DDE å®‰è£…æ•™ç¨‹</title>
      <link href="/posts/4bf5e477/"/>
      <url>/posts/4bf5e477/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€è¿°ï¼š</strong>ã€€æœ¬åšå®¢ä¸»è¦å¯¹å®‰è£… <code>ArchLinux</code> è¿‡ç¨‹ä¸­çš„æ­¥éª¤çš„çŸ¥è¯†è¡¥å……ï¼šå‘Šè¯‰ä½ æ•™ç¨‹é‡Œé¢çš„éƒ½æ˜¯ä¸€äº›ä»€ä¹ˆä¸œè¥¿ï¼Œå’Œå®ƒä»¬çš„ä¸€äº›å…¥é—¨ç†è§£ï¼›æ€»çš„è€Œè¨€ï¼Œä¾§é‡ï¼š <strong>æ˜¯ä»€ä¹ˆï¼Ÿ</strong>  &amp;&amp;  <strong>æ€ä¹ˆåšï¼Ÿ</strong>  &amp;&amp; <code>ArchLinux</code> + <code>DDE</code> (æ·±åº¦æ¡Œé¢ç¯å¢ƒ) çš„å®‰è£…æ•™ç¨‹.</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200729_155032_10.jpg" width="90%"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="å†™åœ¨å‰é¢ï¼š"><a href="#å†™åœ¨å‰é¢ï¼š" class="headerlink" title="å†™åœ¨å‰é¢ï¼š"></a>å†™åœ¨å‰é¢ï¼š</h2><p><code>ArchLinux</code> ä¹…ä»°å¤§åï¼Œä¸€ç›´éƒ½æƒ³å®‰è£…è¯•ä¸€ä¸‹æ°´ï¼Œçœ‹ <code>WiKi</code> æ•™ç¨‹æœ‰ç‚¹ä¸€è¨€éš¾å°½ï¼Œå¯¹æ–°æ‰‹ä¸æ˜¯å¾ˆå‹å¥½ï¼ˆéš¾é“å¤§å®¶å¯¹æ–°æ‰‹çš„å®šä¹‰ä¸ä¸€æ ·ï¼Ÿï¼Ÿï¼Ÿï¼‰çœ‹ç½‘ä¸Šæ•™ç¨‹å’Œ WiKi éƒ½æ˜¯éœ€è¦è€å¿ƒçš„ï¼Œ<code>ArchLnux</code> çš„ç¬¬ä¸€æ¬¡å®‰è£…æ˜¯éƒ½è¦ç»è¿‡ä¸€äº›å‘çš„ã€‚</p><br><h2 id="æ–‡ç« å—ä¼—ï¼š"><a href="#æ–‡ç« å—ä¼—ï¼š" class="headerlink" title="æ–‡ç« å—ä¼—ï¼š"></a>æ–‡ç« å—ä¼—ï¼š</h2><ul><li>æƒ³è¦å®‰è£… <code>ArchLinux</code> çš„èŒæ–°ï¼Œæˆ–è€…æ˜¯ç¬¬ä¸€æ¬¡å®‰è£… <code>ArchLinux</code> å¯»æ‰¾æ•™ç¨‹çš„äºº</li><li>æƒ³äº†è§£å®‰è£…è¿‡ç¨‹ä¸­ï¼Œ æŒ‚è½½ <code>mount</code>ã€<code>chroot</code> ã€æ ¼å¼åŒ–ã€åˆ†åŒºè¡¨ç­‰çŸ¥è¯†ï¼ˆçŸ¥é“æ˜¯ä»€ä¹ˆï¼Œå’Œç®€å•çš„æ€ä¹ˆä½¿ç”¨ï¼‰</li><li>åœ¨ <code>ArchLinux</code> ä¸­å¦‚ä½•å®‰è£… <code>DDE</code> ï¼ˆæ·±åº¦æ¡Œé¢ç¯å¢ƒï¼‰çš„äºº</li><li>åœ¨è™šæ‹Ÿæœº <code>VMware</code> æˆ–è€…å®ä½“æœº å®‰è£… <code>ArchLinux</code> çš„äºº</li><li>å¯¹æˆ‘çš„æ–‡ç« æ„Ÿå…´è¶£çš„äºº</li><li>ä¸æœ¬æ–‡é‚‚é€…çš„ä½ </li></ul><br><h2 id="æ³¨æ„äº‹é¡¹ï¼š"><a href="#æ³¨æ„äº‹é¡¹ï¼š" class="headerlink" title="æ³¨æ„äº‹é¡¹ï¼š"></a>æ³¨æ„äº‹é¡¹ï¼š</h2><ul><li>å®‰è£… <code>ArchLinux</code> å¿…é¡»è”ç½‘;</li><li><code>mount</code> æŒ‚è½½æ˜¯å°† ç¡¬ç›˜é‡Œåˆ†åŒº æŒ‚è½½åˆ° <strong>live ç¯å¢ƒ</strong></li><li><code>chroot</code> æ˜¯åœ¨ <strong>live ç¯å¢ƒ</strong> å’Œ <strong>å®‰è£…åˆ°ç£ç›˜çš„ç³»ç»Ÿ</strong> ä¹‹é—´åˆ‡æ¢</li><li>è®¾ç½®äº†åˆ†åŒºè¡¨ä¹‹å, è¿˜éœ€è¦æ ¼å¼åŒ–</li><li>æ²¡æœ‰ç½‘ç»œ,éœ€è¦å®‰è£… <code>NetworkManager</code> å’Œ æ‰§è¡Œ <code>dhcpcd</code></li><li>å®‰è£… DDE æ—¶å€™ä¸éœ€è¦ ä¿®æ”¹é…ç½®æ–‡ä»¶ <code>/etc/lightdm/lightdm.conf</code> å’Œ <code>.xinitrc</code></li><li>ç£ç›˜çš„åˆ†åŒºè¡¨æœ‰ä¸¤ç§æ–¹å¼ <code>uefi + gpt + efi</code> æˆ– <code>legacy + mbr</code> </li><li>å®‰è£…å¯åŠ¨å™¨æœ‰ä¸‰ç§æƒ…å†µï¼š<code>grub(bios å¯åŠ¨)</code> æˆ– <code>grub + efibootmgr ==&gt; (EFI å¯åŠ¨)</code> æˆ– <code>é¢å¤–å®‰è£…ä¸€ä¸ª os-prober ==&gt; (å¤šç³»ç»Ÿ)</code></li></ul><br><h2 id="å®‰è£…æ­¥éª¤ï¼š"><a href="#å®‰è£…æ­¥éª¤ï¼š" class="headerlink" title="å®‰è£…æ­¥éª¤ï¼š"></a>å®‰è£…æ­¥éª¤ï¼š</h2><h3 id="å¤§æ¦‚æµç¨‹ï¼š"><a href="#å¤§æ¦‚æµç¨‹ï¼š" class="headerlink" title="å¤§æ¦‚æµç¨‹ï¼š"></a>å¤§æ¦‚æµç¨‹ï¼š</h3><p>å…ˆæ¥ä¸€ä¸ªç®€å•ç‚¹çš„ï¼Œ åœ¨ <code>VMware</code> é‡Œé¢å®‰è£… <code>ArchLinux</code>ï¼Œ å…¶æ­¥éª¤é¡ºåºå¦‚ä¸‹ï¼š</p><ol><li>æ¸…ç©ºä¸€ä¸ª <strong>ç£ç›˜</strong></li><li>å¯¹ <strong>ç£ç›˜</strong> è®¾ç½® <strong>åˆ†åŒºè¡¨</strong> </li><li>å¯¹ <strong>å­åˆ†åŒº</strong> é€‰æ‹©é€‚åˆçš„  <strong>TYPE</strong>ï¼›</li><li>é€‰ç”¨å„è‡ªçš„ <strong>æ–‡ä»¶ç±»å‹</strong> æ ¼å¼åŒ–  <strong>å­åˆ†åŒº</strong> ï¼›</li><li>ä¸‹è½½ <code>archLinu_xxxxx.iso</code> é•œåƒ</li><li>è®¾ç½®ç¬¬ä¸€å¯åŠ¨é¡¹</li><li>å¼€æœºè‡ªåŠ¨è¿›å…¥ <strong>live ç¯å¢ƒ</strong> </li><li>å°† <strong>ç£ç›˜</strong> æŒ‚è½½</li><li>æ¢æº</li><li>å®‰è£… <strong>åŸºæœ¬åŒ…</strong>ï¼ˆå«å†…æ ¸ç­‰ï¼‰</li><li>é…ç½® <code>fstab</code> åï¼Œ<code>chroot</code> åˆ‡æ¢æ“ä½œæƒ</li><li>å®‰è£… <strong>å¿…é¡»è½¯ä»¶åŒ…</strong>  ï¼Œè®¾ç½® <code>Locale</code></li><li>è®¾ç½® <code>root</code> å¯†ç ï¼Œå’Œæ–°å»ºä¸€ä¸ªç”¨æˆ·</li><li>å®‰è£… <code>Intel-ucode</code>ï¼ˆé <code>Intel</code> CPU è·³è¿‡ï¼‰</li><li>å®‰è£…å¼•å¯¼ <code>grub</code> </li><li>é€€å‡ºå’Œé‡å¯ç³»ç»Ÿ</li><li>å¼€å¯ <code>NetworkManager</code> æœåŠ¡è‡ªåŠ¨è”ç½‘</li><li>å®‰è£…æ¡Œé¢ç¯å¢ƒ <code>DDE</code></li><li>è¯¦ç»†çš„ä¸ªæ€§åŒ–é…ç½®</li><li>äº«å— <code>ArchLinux</code> çš„å¿«ä¹</li></ol><br><h3 id="è¯¦ç»†æµç¨‹ï¼š"><a href="#è¯¦ç»†æµç¨‹ï¼š" class="headerlink" title="è¯¦ç»†æµç¨‹ï¼š"></a>è¯¦ç»†æµç¨‹ï¼š</h3><h4 id="é…ç½®ï¼š"><a href="#é…ç½®ï¼š" class="headerlink" title="é…ç½®ï¼š"></a>é…ç½®ï¼š</h4><p><code>win10 </code> ã€<code>VMware 15 Pro</code>ã€<code>Intel(R) Core(TM) i5-10210U</code></p><br><h4 id="ä¸‹è½½é•œåƒ"><a href="#ä¸‹è½½é•œåƒ" class="headerlink" title="ä¸‹è½½é•œåƒ:"></a>ä¸‹è½½é•œåƒ:</h4><p>ä¸‹è½½ <code>ArchLinux</code> <a href="https://www.archlinux.org/download/">å®˜ç½‘</a> çš„é•œåƒç‚¹ä¸‹è½½   <code>archlinux-2020.07.01-x86_64.iso</code> ï¼Œå…¶å†…æ ¸æ˜¯ <code>5.x</code> ç‰ˆæœ¬</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/image-20200730134551084.png" width="80%"/ loading="lazy"><br><h4 id="åœ¨-VMware-é‡Œé¢æ–°å»ºç³»ç»Ÿ"><a href="#åœ¨-VMware-é‡Œé¢æ–°å»ºç³»ç»Ÿ" class="headerlink" title="åœ¨ VMware é‡Œé¢æ–°å»ºç³»ç»Ÿ:"></a>åœ¨ <code>VMware</code> é‡Œé¢æ–°å»ºç³»ç»Ÿ:</h4><p><strong>æ³¨æ„å¦‚ä¸‹ä¸‰ç‚¹ï¼š</strong></p><ul><li><p>é€‰æ‹©è‡ªå®šä¹‰(é«˜çº§)ï¼Œå› ä¸º <code>VM</code> å¯¹ <code>ArchLinux</code> æ²¡æœ‰ç›´æ¥æ”¯æŒï¼› é€‰æ‹© <code>Linux(L)</code>   æ—¶å€™é€‰æ‹©é€‰ç”¨ <code>Linux 5.x</code> çš„å†…æ ¸ç‰ˆæœ¬</p>  <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200730173637.png" width="40%"/ loading="lazy"></li><li><p>æŒ‚è½½ <code>ios</code> é•œåƒ</p>  <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200730173716.png" width="50%"/ loading="lazy"></li><li><p>è®¾ç½®ä¸º <code>EFI</code> æ–¹å¼å¯åŠ¨</p>  <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/image-20200730133901341.png" width="50%"/ loading="lazy"></li></ul> <br><p>å¯åŠ¨è™šæ‹Ÿæœºï¼Œé»˜è®¤é€‰æ‹©ç¬¬ä¸€ä¸ªï¼š</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/image-20200730135432879.png" width="50%"/ loading="lazy"><br><p>ç­‰å¾…ä¸€é˜µå¦‚ä¸‹è·³åŠ¨</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/image-20200730135447732.png" width="50%"/ loading="lazy"><br><p>è¿›å…¥åˆ°  <strong>live ç¯å¢ƒ</strong> ï¼ˆæ­¤æ˜¯å†…å­˜æ¡é‡Œé¢ï¼ŒåŠ è½½çš„åˆšæ‰çš„ ios é•œåƒç³»ç»Ÿï¼‰ï¼Œ<em>æ³¨æ„æ­¤æ—¶ root ç”¨æˆ·æ˜¯ çº¢è‰²</em><br> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/image-20200730135836279.png" width="30%"/ loading="lazy"></p><br><h4 id="æ£€æŸ¥ç£ç›˜çŠ¶æ€-lsblk"><a href="#æ£€æŸ¥ç£ç›˜çŠ¶æ€-lsblk" class="headerlink" title="æ£€æŸ¥ç£ç›˜çŠ¶æ€ lsblk:"></a>æ£€æŸ¥ç£ç›˜çŠ¶æ€ <code>lsblk</code>:</h4><p>æŸ¥çœ‹ç£ç›˜çŠ¶æ€ <code>lsblk</code>ï¼› å…¶ä¸­ <code>sda</code> æ˜¯æˆ‘ä»¬æ¸…ç©ºä¸€ä¸ªç¡¬ç›˜ï¼ˆSSD | HDD | åªæ˜¯å·²æœ‰ç³»ç»Ÿä¸­çš„ç¡¬ç›˜ä¸­åˆ’åˆ†å‡ºæ¥çš„ä¸€æ®µ 50G ç©ºç™½åŒºåŸŸï¼‰ï¼ˆåæ–‡ç»Ÿç§° <strong>ç£ç›˜</strong>ï¼‰</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/image-20200730140019922.png" width="40%"/ loading="lazy"><br><h4 id="é€‰æ‹©åˆ†åŒºè¡¨-cfdisk"><a href="#é€‰æ‹©åˆ†åŒºè¡¨-cfdisk" class="headerlink" title="é€‰æ‹©åˆ†åŒºè¡¨ cfdisk:"></a>é€‰æ‹©åˆ†åŒºè¡¨ <code>cfdisk</code>:</h4><p>å¯¹ <strong>ç£ç›˜</strong> è®¾ç½® <strong>åˆ†åŒºè¡¨</strong>ï¼Œä½¿ç”¨ <code>cfdisk</code> ï¼›</p><p>ç„¶åé€‰æ‹© åˆ†åŒºè¡¨çš„æ–¹å¼ï¼Œé€šå¸¸æœ‰ä¸¤ç§ï¼š</p><ul><li><p><strong>uefi + gpt + efiï¼š</strong> æ¨èï¼Œæ¯”è¾ƒé€‚åˆ ssd ç­‰å¤§å‹æ–°å‹ç£ç›˜ ç®¡ç† </p></li><li><p><strong>legacy + mbrï¼š</strong> ä»¥å‰è€å¼ win7 çš„æœºæ¢°ç¡¬ç›˜ç®¡ç†æ–¹å¼</p><br></li></ul><p>è¿™é‡Œæˆ‘ä»¬é€‰ç”¨ <code>uefi + gpt + efi</code> æ–¹å¼ï¼Œç‰¹ç‚¹æ˜¯ç£ç›˜å¿…é¡»è‡³å°‘åˆ†æˆä¸¤ä¸ªåˆ†åŒºï¼Œå…¶ä¸­ä¸€ä¸ªç”¨æ¥ç»™ efi ä½¿ç”¨ï¼›</p><p>è¾“å…¥  <code>cfdisk</code> åï¼Œå°†ç³»ç»Ÿåˆ†æˆä¸¤ä¸ªåˆ†åŒºï¼Œå…¶ä¸­ EFI åˆ†åŒºåªè¦ 512 M å¤§å°å³å¯ï¼›</p> <br><h4 id="é€‰æ‹©åˆ†åŒº"><a href="#é€‰æ‹©åˆ†åŒº" class="headerlink" title="é€‰æ‹©åˆ†åŒº:"></a>é€‰æ‹©åˆ†åŒº:</h4><p>å¯¹å·²æœ‰åˆ†åŒºè¡¨çš„ä¸€æ•´å—ã€æœªæ ¼å¼åŒ–çš„ <strong>ç£ç›˜</strong>ï¼Œè¿›è¡Œåˆ†åŒºåå¾—åˆ°2ä¸ª <strong>å­åˆ†åŒº</strong>ï¼Œä¸”å¯¹æ¯ä¸€ä¸ª <strong>å­åˆ†åŒº</strong> é€‰æ‹©é€‚åˆçš„  <strong>TYPE</strong>ï¼›</p><p>è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">cfdisk</span><span class="token comment"># é€‰æ‹©åº•éƒ¨ gpt ï¼Œå›è½¦</span><span class="token comment"># é€‰æ‹© NEW ï¼Œå›è½¦ï¼Œè¾“å…¥ 512Mï¼Œç±»å‹é€‰æ‹© EFI SYstem æ ¼å¼</span><span class="token comment"># é€‰æ‹© NEW ï¼Œå›è½¦ï¼Œå‰©ä¸‹çš„ 49.5Gï¼Œç±»å‹é€‰æ‹© é»˜è®¤ Linux filesystem æ ¼å¼</span><span class="token comment"># é€‰æ‹© Write ï¼Œ è¾“å…¥ yesï¼Œå›è½¦ è¡¨ç¤ºå†™å…¥ä¿å­˜</span><span class="token comment"># é€‰æ‹© Quit ï¼Œæ¨å‡º</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/image-20200730140329031.png" width="50%"/ loading="lazy"> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/image-20200730140633080.png" width="50%"/ loading="lazy"><br><h4 id="æ ¼å¼åŒ–åˆ†åŒº"><a href="#æ ¼å¼åŒ–åˆ†åŒº" class="headerlink" title="æ ¼å¼åŒ–åˆ†åŒº:"></a>æ ¼å¼åŒ–åˆ†åŒº:</h4><p>å†å¯¹æœ‰å„è‡ªçš„ <strong>TYPE</strong> çš„ <strong>å­åˆ†åŒº</strong>  é€‰ç”¨ä¸åŒçš„ <strong>æ–‡ä»¶ç±»å‹</strong> æ¥è¿›è¡Œæ ¼å¼åŒ–ï¼›</p><pre class="line-numbers language-none"><code class="language-none">mkfs.fat -F32 &#x2F;dev&#x2F;sda1mkfs.ext4 &#x2F;dev&#x2F;sda2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/image-20200730141453710.png" width="50%"/ loading="lazy"><br><h4 id="æŒ‚è½½åˆ†åŒº"><a href="#æŒ‚è½½åˆ†åŒº" class="headerlink" title="æŒ‚è½½åˆ†åŒº:"></a>æŒ‚è½½åˆ†åŒº:</h4><p>æŒ‚è½½åˆ†åŒºï¼Œè¿™é‡Œæ˜¯å°† <strong>ç‰©ç†ç£ç›˜çš„å®é™…åˆ†åŒº</strong> æŒ‚è½½åˆ° <strong>live ç¯å¢ƒ</strong> çš„ <strong>&#x2F;mnt</strong> ç›®å½•ä¸‹ </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /mnt/boot/EFI<span class="token function">mount</span> /dev/sda2 /mnt<span class="token function">mount</span> /dev/sda1 /mnt/boot/EFI<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><br><h4 id="æ¢å›½å†…Arch-çš„æº"><a href="#æ¢å›½å†…Arch-çš„æº" class="headerlink" title="æ¢å›½å†…Arch çš„æº:"></a>æ¢å›½å†…<code>Arch</code> çš„æº:</h4><p>ç¼–è¾‘ <code>/etc/pacman.d/mirrorlist</code>ï¼Œ åœ¨æ–‡ä»¶çš„æœ€é¡¶ç«¯æ·»åŠ ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å°†ä¸‹é¢æºæ·»åŠ åˆ° mirrorlist çš„æœ€é¡¶éƒ¨ï¼Œ å¤–å›½è¯­å’Œä¸­ç§‘å¤§çš„æº</span>Server <span class="token operator">=</span> https://mirrors.bfsu.edu.cn/archlinux/<span class="token variable">$repo</span>/os/<span class="token variable">$arch</span>Server <span class="token operator">=</span> https://mirrors.ustc.edu.cn/archlinux/<span class="token variable">$repo</span>/os/<span class="token variable">$arch</span><span class="token comment"># æ›´æ–°è½¯ä»¶åŒ…ç¼“å­˜ï¼š</span><span class="token function">sudo</span> pacman <span class="token parameter variable">-Syy</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h4 id="å®‰è£…åŸºæœ¬åŒ…"><a href="#å®‰è£…åŸºæœ¬åŒ…" class="headerlink" title="å®‰è£…åŸºæœ¬åŒ…:"></a>å®‰è£…åŸºæœ¬åŒ…:</h4><p>å¿…é¡»è”ç½‘ä¸‹è½½è¿‡ç¨‹;</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pacstrap /mnt base base-devel linux linux-firmware dhcpcd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br><h4 id="é…ç½®-Fstab"><a href="#é…ç½®-Fstab" class="headerlink" title="é…ç½® Fstab:"></a>é…ç½® Fstab:</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ç”Ÿæˆè‡ªåŠ¨æŒ‚è½½åˆ†åŒºçš„fstabæ–‡ä»¶ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</span>genfstab <span class="token parameter variable">-L</span> /mnt <span class="token operator">>></span> /mnt/etc/fstab<span class="token comment"># è¾“å‡ºç”Ÿæˆçš„æ–‡ä»¶æ¥æ£€æŸ¥æ˜¯å¦æ­£ç¡®</span><span class="token function">cat</span> /mnt/etc/fstab<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è‹¥æ˜¯çœ‹åˆ°  <code>/dev/sda2</code> æŒ‚è½½åˆ° <code>/</code> ï¼› <code>/dev/sda1</code> æŒ‚è½½åˆ° <code>/boot/EFI</code> ï¼Œåˆ™ OK</p><br><h4 id="æ‰§è¡Œ-chroot"><a href="#æ‰§è¡Œ-chroot" class="headerlink" title="æ‰§è¡Œ chroot :"></a>æ‰§è¡Œ chroot :</h4><p>æ‰§è¡Œ chroot å°†ç³»ç»Ÿçš„æ‰§è¡Œæƒé™åˆ‡æ¢åˆ°å·²ç»å®‰è£…å¥½çš„ç¡¬ç›˜ç³»ç»Ÿé‡Œé¢ï¼ˆä¹‹å‰éƒ½æ˜¯åœ¨ å†…å­˜è¿è¡Œ çš„æŒ‚è½½ iso çš„ live ç¯å¢ƒ é‡Œé¢æ‰§è¡Œçš„ï¼‰ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">arch-chroot /mnt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/image-20200730151933945.png" width="20%"/ loading="lazy"><br><h4 id="å®‰è£…è½¯ä»¶å¿…é¡»çš„è½¯ä»¶åŒ…"><a href="#å®‰è£…è½¯ä»¶å¿…é¡»çš„è½¯ä»¶åŒ…" class="headerlink" title="å®‰è£…è½¯ä»¶å¿…é¡»çš„è½¯ä»¶åŒ…:"></a>å®‰è£…è½¯ä»¶å¿…é¡»çš„è½¯ä»¶åŒ…:</h4><p><code>networkmanager</code> è‡ªåŠ¨è”ç½‘çš„ï¼Œ ä¸å®‰è£…çš„è¯ï¼Œä½ å°±çŸ¥é“æœ‰å¤šå‘äº†</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pacman <span class="token parameter variable">-S</span> <span class="token function">vim</span> dialog wpa_supplicant ntfs-3g networkmanager netctl<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br><h4 id="è®¾ç½®-Locale"><a href="#è®¾ç½®-Locale" class="headerlink" title="è®¾ç½® Locale:"></a>è®¾ç½® Locale:</h4><p>è®¾ç½®æˆ‘ä»¬ä½¿ç”¨çš„è¯­è¨€é€‰é¡¹ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ¥ç¼–è¾‘<code>/etc/locale.gen</code>æ–‡ä»¶ï¼›</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> /etc/locale.gen<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åœ¨æ–‡ä»¶ä¸­æ‰¾åˆ°<code>zh_CN.UTF-8 UTF-8</code>ã€ <code>en_US.UTF-8 UTF-8</code>è¿™ä¸¤è¡Œï¼Œå»æ‰è¡Œé¦–çš„ # å·ï¼Œä¿å­˜å¹¶é€€å‡ºã€‚ç„¶åæ‰§ </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">locale-gen<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ‰“å¼€ï¼ˆä¸å­˜åœ¨æ—¶ä¼šåˆ›å»ºï¼‰<code>/etc/locale.conf</code>æ–‡ä»¶ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> /etc/locale.conf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åœ¨æ–‡ä»¶çš„ç¬¬ä¸€è¡ŒåŠ å…¥ä»¥ä¸‹å†…å®¹ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable"><span class="token environment constant">LANG</span></span><span class="token operator">=</span>en_US.UTF-8<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¿å­˜å¹¶é€€å‡ºã€‚</p><br><h4 id="è®¾ç½®-root-å¯†ç "><a href="#è®¾ç½®-root-å¯†ç " class="headerlink" title="è®¾ç½® root å¯†ç :"></a>è®¾ç½® root å¯†ç :</h4><p>æ‰§è¡Œå¦‚ä¸‹ï¼Œ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">passwd</span><span class="token comment"># è¾“å…¥ä¸¤æ¬¡ç›¸åŒçš„å¯†ç </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><br><h4 id="åˆ›å»ºæ–°ç”¨æˆ·"><a href="#åˆ›å»ºæ–°ç”¨æˆ·" class="headerlink" title="åˆ›å»ºæ–°ç”¨æˆ·:"></a>åˆ›å»ºæ–°ç”¨æˆ·:</h4><p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå¾ˆå‘çš„çš„ä¸€ç‚¹ï¼Œå¦‚æœå®‰è£…æ·±åº¦ç¯å¢ƒ DDE çš„è¯ï¼Œå¿…é¡»è¦æ–°å»ºç”¨æˆ·</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">useradd</span> <span class="token parameter variable">-m</span> <span class="token parameter variable">-G</span> wheel <span class="token parameter variable">-s</span> /bin/bash <span class="token function">free</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><code>-mï¼šåˆ›å»ºç”¨æˆ·ä¸»ç›®å½•ï¼ˆ/home/[ç”¨æˆ·å]ï¼‰</code></li><li><code>-Gï¼šç”¨æˆ·è¦åŠ å…¥çš„é™„åŠ ç»„åˆ—è¡¨ï¼›æ­¤å¤„</code>å°†ç”¨æˆ·åŠ åˆ°<code>wheel</code>ç»„ä¸­ï¼Œä¹‹åå¯ä»¥ç»™è¿™ä¸ªç»„æ‰§è¡Œ<code>sudo</code>å‘½ä»¤çš„æƒé™</li><li><code>-sï¼š</code>æŒ‡å®šäº†ç”¨æˆ·é»˜è®¤ç™»å½•shellçš„è·¯å¾„ï¼Œæ­¤å¤„è®¾ç½®ä¸ºbashçš„è·¯å¾„&#96;&#96;</li></ul><p>è®¾ç½®å¯†ç ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">passwd</span> <span class="token function">free</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç„¶åè¾“å…¥ä¸¤æ¬¡å¯†ç å³å¯ã€‚ææƒï¼Œ ä¿®æ”¹ &#x2F;etc&#x2F;sudoersæ–‡ä»¶ï¼Œåˆ é™¤wheelç»„å‰é¢çš„æ³¨é‡Šï¼ˆ#ï¼‰å³å¯ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">## Uncomment to allow members of group wheel to execute any command</span>%wheel <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span> ALL<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><br><h4 id="å®‰è£…-grub"><a href="#å®‰è£…-grub" class="headerlink" title="å®‰è£… grub :"></a>å®‰è£… grub :</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># EFI å¯åŠ¨æ–¹å¼, éœ€å®‰è£… grub å’Œ efibootmgr</span>pacman <span class="token parameter variable">-S</span> grub efibootmgr<span class="token comment"># ç„¶åï¼Œè¿˜éœ€è¦å°†å…¶å®‰è£…åˆ°EFIåˆ†åŒºå½“ä¸­ï¼š</span>grub-install <span class="token parameter variable">--recheck</span> /dev/   <span class="token comment"># æ³¨æ„ï¼šæ­¤å¤„çš„ /dev/sda åæ²¡æœ‰æ•°å­—</span><span class="token comment"># ç”Ÿæˆä¸€ä¸ªgrubçš„é…ç½®æ–‡ä»¶</span><span class="token function">grub-mkconfig</span> <span class="token parameter variable">-o</span> /boot/grub/grub.cfg<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h4 id="é‡å¯ç³»ç»Ÿ"><a href="#é‡å¯ç³»ç»Ÿ" class="headerlink" title="é‡å¯ç³»ç»Ÿ:"></a>é‡å¯ç³»ç»Ÿ:</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">exit</span><span class="token function">umount</span> <span class="token parameter variable">-R</span> /mnt<span class="token function">reboot</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><BR><h4 id="å¯åŠ¨ç½‘ç»œæœåŠ¡"><a href="#å¯åŠ¨ç½‘ç»œæœåŠ¡" class="headerlink" title="å¯åŠ¨ç½‘ç»œæœåŠ¡,:"></a>å¯åŠ¨ç½‘ç»œæœåŠ¡,:</h4><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤:</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ip</span> addr  <span class="token comment"># æŸ¥çœ‹ip æ˜¯å¦è·å–æ­£ç¡®</span>dhcpcd   <span class="token comment"># è‡ªåŠ¨å¼€å¯ç½‘ç»œ</span><span class="token comment"># è®¾ç½®ç½‘ç»œå·¥å…·å¼€æœºè‡ªå¯</span>systemctl <span class="token builtin class-name">enable</span> NetworkManagersystemctl <span class="token builtin class-name">enable</span> dhcpcd<span class="token function">ping</span> baidu.com   <span class="token comment"># æ£€æµ‹æ˜¯å¦æœ‰ç½‘ç»œ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h4 id="å®‰è£…å­—ä½“"><a href="#å®‰è£…å­—ä½“" class="headerlink" title="å®‰è£…å­—ä½“:"></a>å®‰è£…å­—ä½“:</h4><p>ä¸å®‰è£…çš„åæœå°±æ˜¯, æ‰€æœ‰çš„ä¸­æ–‡éƒ½æ˜¯ä¹±ç  xx ç¬¦å·</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pacman <span class="token parameter variable">-S</span> wqy-microhei ttf-liberation ttf-dejavu ttf-roboto ttf-droid adobe-source-han-sans-otc-fonts adobe-source-han-serif-otc-fonts adobe-source-code-pro-fonts adobe-source-sans-pro-fonts adobe-source-serif-pro-fonts noto-fonts noto-fonts-extra noto-fonts-emoji ttf-fira-code<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br><h4 id="å®‰è£…-DDE-æ·±åº¦æ¡Œé¢ç¯å¢ƒ"><a href="#å®‰è£…-DDE-æ·±åº¦æ¡Œé¢ç¯å¢ƒ" class="headerlink" title="å®‰è£… DDE æ·±åº¦æ¡Œé¢ç¯å¢ƒ:"></a>å®‰è£… DDE æ·±åº¦æ¡Œé¢ç¯å¢ƒ:</h4><p>å®‰è£… DDE çš„æ·±å‘,æ˜¯ä¸éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶çš„ <code>/etc/lightdm/lightdm.conf</code>ï¼›ä¹‹å‰ç½‘ä¸Šå‡¡æ˜¯èƒ½å¤ŸæŸ¥è¯¢åˆ°çš„, æ•™ç¨‹éƒ½è¯´è¦ä¿®æ”¹, <code>ArchLinux</code> çš„ wikiä¹Ÿè¯´è¦ä¿®æ”¹, äºæ˜¯ä¹ï¼Œé—®äº†é—® deepin çš„ç ”å‘ï¼Œè¿™é‡Œé¢è¿™ä¸€æ­¥ï¼Œåé¢è¢«æŸä¸€ä¸ªè„šæœ¬ç»™åšäº†æ­¤æ“ä½œã€‚æ‰€ä»¥ç°åœ¨å®é™…æ˜¯ä¸éœ€è¦ä¿®æ”¹çš„ã€‚åªéœ€è¦å®‰è£…ä¸‹é¢ 4 ä¸ªåŒ…ï¼Œ ç„¶åè®¾ç½®ä¸€ä¸ªå¼€æœºè‡ªå¯å³å¯ï¼Œå…¶ä½™çš„ä¸ç”¨åšã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> pacman <span class="token parameter variable">-S</span> xorg xorg-server deepin deepin-extrasystemctl <span class="token builtin class-name">enable</span> lightdm  <span class="token comment"># è®¾ç½®å¼€æœºè‡ªå¯</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li><p><code>xorg:</code>  æ‰€æœ‰çš„æ¡Œé¢ç¯å¢ƒå®‰è£…ä¹‹å‰éƒ½å¿…å¤‡çš„</p></li><li><p><code>deepin:</code>  æ‰€æœ‰åŸºç¡€ç»„ä»¶</p></li><li><p><code>deepin-extra:</code>  ä¸€äº›é¢å¤–çš„åº”ç”¨ç¨‹åºæ¥æä¾›ä¸€ä¸ªæ›´å®Œæ•´çš„æ¡Œé¢ç¯å¢ƒ</p></li></ul><br><h4 id="é‡å¯ç³»ç»Ÿ-1"><a href="#é‡å¯ç³»ç»Ÿ-1" class="headerlink" title="é‡å¯ç³»ç»Ÿ:"></a>é‡å¯ç³»ç»Ÿ:</h4><p>é‡å¯ç³»ç»Ÿ,å¯ä»¥çœ‹åˆ°å¦‚ä¸‹:</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/ArchLinux-2020-07-29-15-49-10.png" width="90%"/ loading="lazy"><br><h4 id="å®‰è£…-VM-tools-å¯é€‰"><a href="#å®‰è£…-VM-tools-å¯é€‰" class="headerlink" title="å®‰è£… VM-tools(å¯é€‰)"></a>å®‰è£… VM-tools(å¯é€‰)</h4><p>å®‰è£… VM-tools æœ‰ä¸¤ä¸ªé€‰æ‹©,ä¸€ä¸ªæ˜¯å¼€æºçš„ <code>Open-VM-Tools</code> , ä¸€ä¸ªæ˜¯å®˜æ–¹çš„ <code>VMware Tools</code>,  ä»»é€‰å…¶ä¸€å³å¯,è‹¥æ˜¯å®ä½“æœºå®‰è£…,åˆ™æ²¡æœ‰å¿…è¦.</p><p><a href="%5Bhttps://wiki.archlinux.org/index.php/VMware_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)/Installing_Arch_as_a_guest_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#Open-VM-Tools%5D(https://wiki.archlinux.org/index.php/VMware_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)/Installing_Arch_as_a_guest_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#Open-VM-Tools)">VMware (ç®€ä½“ä¸­æ–‡)&#x2F;Installing Arch as a guest (ç®€ä½“ä¸­æ–‡) </a></p><br><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ:"></a>å‚è€ƒ:</h3><ul><li><a href="https://www.viseator.com/2017/05/17/arch_install/">ä»¥å®˜æ–¹Wikiçš„æ–¹å¼å®‰è£…ArchLinux</a> </li><li><a href="https://blog.yoitsu.moe/arch-linux/installing_arch_linux_for_complete_newbies.html">ç»™ GNU&#x2F;Linux èŒæ–°çš„ Arch Linux å®‰è£…æŒ‡å— rev.B</a></li><li><a href="https://www.cnblogs.com/freerqy/p/8502838.html">åœ¨VMWareä¸Šå®‰è£…Arch Linux</a></li><li><a href="https://zhuanlan.zhihu.com/p/141067184">ArchLinuxå®‰è£…ï¼ˆDeepin v20æ¡Œé¢ç¯å¢ƒï¼‰</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ArchLinux </tag>
            
            <tag> DDE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ä¸­sizeof()è¿ç®—ç¬¦çš„çš„æ·±å…¥ç†è§£</title>
      <link href="/posts/29ffae87/"/>
      <url>/posts/29ffae87/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€å¯¹ <code>C / C++</code> ä¸­çš„ <code>sizeof()</code> è¿ç®—ç¬¦çš„ä¸€äº›æ·±å…¥æ€è€ƒï¼›</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="èƒŒæ™¯ï¼š"><a href="#èƒŒæ™¯ï¼š" class="headerlink" title="èƒŒæ™¯ï¼š"></a>èƒŒæ™¯ï¼š</h3><p>æ˜¨æ™šçœ‹åˆ°ä¸€é¢˜ï¼Œè™½ç„¶å¯ä»¥è½»æ˜“å¾—åˆ°ç»“æœï¼Œä½†æ˜¯çªç„¶æ·±å…¥æ€è€ƒä¸€äº›ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">char</span> str1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"Hello"</span><span class="token punctuation">;</span>    str1<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'a'</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> str1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> str2<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"Hello"</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> <span class="token operator">*</span> p1 <span class="token operator">=</span> <span class="token string">"Hello"</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>p2 <span class="token operator">=</span> p1<span class="token punctuation">;</span>    <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">sizeof</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">sizeof</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">sizeof</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">sizeof</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d, %d, %d, %d, %d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>    <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">;</span>    a <span class="token operator">=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token string">"123456789"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//aä¸º10</span>    b <span class="token operator">=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token string">"123456789"</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//åœ¨ qt creator å’Œ VS 2015 ç»“æœä¸ä¸€è‡´</span>    c <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span><span class="token string">"123456789"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//cä¸º9</span>    d <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">"123456789"</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d, %d, %d, %d, %d, %d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æ€è€ƒï¼š</strong></p><p>è¿™é‡Œçš„ <code>sizeof(&quot;Hello&quot;)</code>, <code>sizeof(str1)</code>, <code>sizeof(str2)</code>, <code>sizeof(p1)</code>, <code>sizeof(p2)</code> æ‰“å°å‡ºæ¥çš„å€¼æ˜¯å¤šå°‘ï¼Ÿ</p><p>ä¸‹é¢ä¸€åˆ—è¡¨çš„ <code>a</code>ï¼Œ <code>b</code>ï¼Œ  <code>c</code>ï¼Œ  <code>d</code>ï¼Œ  <code>sizeof(unsigned int)</code>ï¼Œ <code>sizeof(int)</code> æ‰“å°å‡ºæ¥çš„å€¼åˆæ˜¯å¤šå°‘ï¼Ÿ</p><br><h3 id="åˆ†æï¼š"><a href="#åˆ†æï¼š" class="headerlink" title="åˆ†æï¼š"></a>åˆ†æï¼š</h3><h4 id="ç†è§£åˆ†æï¼š"><a href="#ç†è§£åˆ†æï¼š" class="headerlink" title="ç†è§£åˆ†æï¼š"></a>ç†è§£åˆ†æï¼š</h4><p>åœ¨ <code>win 10 + VS2015</code> çš„ <code>x86</code> æ¨¡å¼ä¸‹ï¼Œè¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200719175356.png" width="30%" / loading="lazy"><p>æˆ‘çš„ç†è§£å¦‚ä¸‹ï¼š</p><p><strong>ä¸Šä¸€ç»„çš„ç»“æœè¿è¡Œå’Œåˆ†æå¦‚ä¸‹:</strong></p><ol><li><p><code>sizeof(&quot;Hello&quot;)</code> çš„å€¼æ˜¯ 6ï¼Œ ç­‰ä»·äº <code>&quot;hello\0&quot;</code> åº”åœ¨å†…å­˜ä¸­å  6 ä¸ªå­—èŠ‚ï¼Œä¸”  <code>&quot;hello&quot;</code> æ˜¯ <code>char [6]</code> ç±»å‹ï¼ˆç”±æˆªå›¾å¯çŸ¥ï¼‰ï¼Œä½†ä¸ºä»€ä¹ˆä¸æ˜¯  <code>char *</code>  æˆ–  <code>const char *</code> å‘¢ï¼Ÿé‚£å°±ä¸çŸ¥é“äº†ï¼Œåæ­£<strong>ç¼–è¯‘å™¨çš„è§„åˆ™</strong> å°±æ˜¯è¿™ä¹ˆå®šçš„ï¼›</p>   <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200719172923.png" width="50%" / loading="lazy"><br></li><li><p><code>sizeof(str1)</code> çš„å€¼æ˜¯ 6ï¼Œ ç­‰ä»·äº <code>sizeof(char [6])</code> ï¼Œåœ¨å†…å­˜ä¸­ä¸€å…±åˆ†é… 1*6 ä¸ªå­—èŠ‚ï¼›ä¸‹æ ‡é‡Œé¢çš„<code>[]</code> ä¸­çš„ 6 æ˜¯æ ¹æ®èµ‹å€¼è¯­å¥ï¼Œç¼–è¯‘å™¨è‡ªå·±æ¨ç®—å‡ºæ¥çš„ï¼›</p></li><li><p><code>sizeof(str2)</code> çš„å€¼æ˜¯ 100ï¼Œ ç­‰ä»·äº  <code>sizeof(char [100])</code> ï¼Œåœ¨å†…å­˜ä¸­ä¸€å…±åˆ†é… 1*100 ä¸ªå­—èŠ‚ï¼›</p></li><li><p><code>sizeof(p1)</code> çš„å€¼æ˜¯ 4ï¼Œç­‰ä»·äº <code>sizeof(char *)</code>ï¼Œç­‰ä»·äº <code>sizeof(æŒ‡é’ˆ)</code></p></li><li><p><code>sizeof(p2)</code> çš„å€¼æ˜¯ 4ï¼Œç­‰ä»·äº <code>sizeof(const char *)</code>ï¼Œç­‰ä»·äº <code>sizeof(æŒ‡é’ˆ)</code></p></li></ol><br><p><strong>ä¸‹ä¸€ç»„çš„ç»“æœè¿è¡Œå’Œåˆ†æå¦‚ä¸‹:</strong></p><ol><li><p><code>a</code> çš„å€¼æ˜¯ 10ï¼Œ ç­‰ä»·äº <code>sizeof(char [10])</code> ï¼Œåœ¨å†…å­˜ä¸­ä¸€å…±åˆ†é… 1*10 ä¸ªå­—èŠ‚ï¼›</p></li><li><p><code>b</code> çš„å€¼åœ¨ä¸åŒç³»ç»Ÿï¼Œä¸åŒç¼–è¯‘å™¨ä¸Šï¼Œç»“æœæ˜¯ä¸ä¸€æ ·çš„(egï¼š mac10.14.6 + qtCretor5.12.8  &amp;&amp; win10 + vs2015)ï¼› ç»“æœä¸ä¸€ç›´çš„åŸå› æ˜¯ æ— æ³•åˆ¤å®š <code>&quot;123456789&quot;+1</code> åˆ°åº•åº”è¯¥æ˜¯ <code>char [10] + int</code> ä¹‹åï¼Œåº”è¯¥æ˜¯ä»€ä¹ˆç±»å‹ï¼Ÿåªèƒ½å¤Ÿæ ¹æ®è‡ªå·±çš„ç¼–è¯‘å™¨å®é™…å†³å®šï¼›ä¸”è¿˜æœ‰ä¸€ä¸­è§‚ç‚¹ï¼š æ­¤è¡Œæ˜¯åœ¨ç¼–è¯‘æ—¶åˆ»å°±å·²ç»è¢«æ›¿æ¢ä¸ºå…·ä½“çš„æ•°å€¼äº†ï¼Œç„¶åè¿™ä¸€è¡Œçš„ä»£ç ä¹Ÿä¼šè¢«åˆ é™¤æ‰ï¼Œæ›´åŠ ä¸ä¼šè¢«æ‰§è¡Œï¼Œæ‰€ä»¥å…¶ sizeof çš„å‰¯ä½œç”¨æ˜¯ä¸ä¼šå®ç°çš„ï¼ˆå¦‚ <code>sizeof(++iï¼‰</code>å…¶å®åªèƒ½å¤Ÿç­‰ä»·äº <code>sizeof(å¯¹è±¡(å˜é‡ i )çš„ç±»å‹)</code>ï¼Œå…¶è¿è¡Œæ—¶åˆ»åœ¨è®¡ç®—å…¶å€¼æ˜¯ä¸å­˜åœ¨çš„)</p><p>æ³¨æ„ä¸€ç‚¹å³å¯ï¼Œæœ‰ä¸€ä¸ªè¯¯åŒºï¼Œä»¥å‰çš„ ç±»ä¼¼äº <code> int x1 = 3 + &#39;b&#39;</code> èƒ½å¤Ÿé¡ºåˆ©è¿›è¡Œéšå¼è½¬æ¢ï¼Œæ˜¯å› ä¸ºçŸ¥é“æœ€ååº”è¯¥è½¬æ¢ä¸º ç­‰å¼ çš„å·¦ä¾§ çš„ int ç±»å‹ï¼›è€Œæˆ‘ä»¬è¿™é‡Œç³»ç»Ÿæ²¡æœ‰ å·¦å€¼ï¼Œæ•…æ— æ³•çŸ¥é“è½¬æ¢ä¸ºä»€ä¹ˆç±»å‹ï¼Œæ‰€ä»¥å‡ºç°å¦‚ä¸‹æˆªå›¾ï¼Œæ­¤ä¸Šä¸‹æ–‡ä¸æ”¯æŒï¼›</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200719174254.png" width="50%" / loading="lazy"><br></li><li><p><code>c</code> çš„å€¼æ˜¯ 9ï¼Œæ²¡æœ‰ä»€ä¹ˆå¥½è®²çš„ï¼Œè¯¥å‡½æ•°çš„å®ç°ï¼Œæ˜¯é‡åˆ°ç¬¬ä¸€ä¸ª <code>&#39;\0&#39;</code> å°±åœæ­¢ï¼›</p></li><li><p><code>d</code> çš„å€¼æ˜¯ 8 ï¼Ÿï¼ˆä¸¤ä¸ªä¸åŒç¯å¢ƒéƒ½æ˜¯ 8ï¼Œæœ‰ç‚¹è´¹è§£ï¼‰ï¼Œè¿™ä¸ªä¸æ˜æ‰€ä»¥ï¼›æŸ¥çœ‹æºç  strlen() çš„å®ç°å¦‚ä¸‹ <code>size_t strlen(const char *__s);</code>ï¼ŒæŒ‰ç…§æˆ‘çš„ç†è§£ï¼Œåº”è¯¥æ˜¯ç­‰ä»·äº <code>d = strlen((const char *)(&quot;123456789&quot;+1))</code> çš„ï¼Œæ˜¾ç¤ºç»“æœä¾æ—§ä¸º 8ï¼›è¿™ä¸ªç»“æœä¸ºå•¥æ˜¯ 8ï¼Œ æœ‰ç‚¹è´¹è§£ï¼Œä¸è¿‡è§‰å¾—æ²¡æœ‰æ¢ç©¶çš„å¿…è¦ï¼Œä¹Ÿä¸æ˜¯æœ¬æ–‡è°ˆè®ºçš„é‡ç‚¹ï¼›æ­¤è¡Œå¤šæ¢ç©¶æ— æ„ä¹‰ï¼Œä¸”è¿™æ ·å†™ï¼Œæœ‰ç‚¹ â€œæ— ä¸­ç”Ÿæœ‰â€ï¼Œâ€œæƒ¹æ˜¯ç”Ÿéâ€ï¼Œâ€œæäº‹æƒ…â€ çš„æ„Ÿè§‰</p></li><li><p><code>sizeof(unsigned int)</code> çš„å€¼æ˜¯ 4ï¼Œä¸ç”¨è§£é‡Š</p></li><li><p><code>sizeof(int)</code> çš„å€¼æ˜¯ 4ï¼Œä¸ç”¨è§£é‡Š</p></li></ol><br><p><strong>ä¸‹é¢æ˜¯å¦å¤–è§’åº¦æ¥æ€è€ƒæ­¤é—®é¢˜ï¼š</strong></p><h4 id="è§’åº¦-1-ï¼š"><a href="#è§’åº¦-1-ï¼š" class="headerlink" title="[è§’åº¦ 1]ï¼š"></a>[è§’åº¦ 1]ï¼š</h4><p><font color=#D0087E size=4 face="å¹¼åœ†"> <code> sizeof()</code> æ˜¯ è¿”å›ä¸€ä¸ªç±»å‹çš„åœ¨å†…å­˜ä¸­è¯´å çš„å­—èŠ‚æ•°ã€‚</font> æ˜¯å±äº <em><strong>è¿ç®—ç¬¦</strong></em> ï¼Œ åŒä¸º è¿ç®—ç¬¦ çš„è¿˜æœ‰ <code>+</code> ã€<code>-</code>ã€<code>*</code>ã€<code>/</code> ã€<code>%</code> ç­‰ã€‚è€Œè¿™ä¸ªæ˜¯åœ¨ç¼–è¯‘æ—¶å€™å°±è¢«æ‰§è¡Œï¼Œè€Œéè¿è¡Œæ—¶å€™æ‰§è¡Œï¼Œä¸€å¼€å§‹å°±å·²ç»æ˜¯è®¡ç®—æœºè¢«çŸ¥é“çš„ã€‚</p><p>C æ ‡å‡†å’Œå®é™…ä¸Šçš„ ç¼–è¯‘å™¨ ä¸€å¼€å§‹å°±å®šä¹‰å¥½äº†ï¼Œåœ¨ 32 ä½ç”µè„‘ä¸­ï¼Œ<code>int</code> å æ® 4 å­—èŠ‚ï¼Œ <code>char</code> å æ® 1 å­—èŠ‚ï¼›</p><p>å¯¹äº<strong>å†…ç½®çš„åŸºæœ¬æ•°æ®ç±»å‹</strong> æ¥è¯´ï¼Œä¸‹é¢æ˜¯å¾ˆå®¹æ˜“ç†è§£ï¼Œè§‰å¾—ä¸€å¼€å§‹å°±è¢«ç¼–è¯‘æœºåœ¨å†…å­˜é‡Œé¢åˆ†é…äº†è¿™ä¹ˆå¤šçš„å˜é‡ï¼š </p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">></span> æ˜¾ç¤º <span class="token number">4</span> å­—èŠ‚<span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">></span> æ˜¾ç¤º <span class="token number">1</span> å­—èŠ‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><br><p>è€Œ å¯¹äº <strong>å¤åˆæ•°æ®ç±»å‹</strong> æ¥æ±‚å­—èŠ‚å¤§å°ï¼Œå…¶æ˜¯éœ€è¦æ ¹æ® ç»„åˆçš„åŸºæœ¬æ•°æ®ç±»å‹ æ¥ç»™å‡ºå®é™…çš„å†…å­˜ä¸­æ‰€å çš„å­—èŠ‚å¤§å°ï¼Œæ¯”å¦‚è‡ªå®šä¹‰ ç±»ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">sizeof</span><span class="token punctuation">(</span>è‡ªå®šç±»<span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">></span> æ˜¾ç¤º å­—èŠ‚å¯¹é½åçš„ å­—èŠ‚<span class="token keyword">sizeof</span><span class="token punctuation">(</span>æ•°ç»„<span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">></span> æ˜¾ç¤º ç¬¦åˆç±»å‹çš„æ•°ç»„ å­—èŠ‚<span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">></span> æ˜¾ç¤º <span class="token number">4</span> <span class="token operator">*</span> <span class="token number">4</span> å­—èŠ‚  <span class="token comment">// è¿™æ ·å°±å®¹æ˜“ç†è§£äº†</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><br><h4 id="è§’åº¦-2-ï¼š"><a href="#è§’åº¦-2-ï¼š" class="headerlink" title="[è§’åº¦ 2]ï¼š"></a>[è§’åº¦ 2]ï¼š</h4><blockquote><p>  <sup>[p101]</sup>  ç±»ä¼¼äºéƒ½æ˜¯æŒ‡ä»£ ã€ŠC++ primer ä¸­æ–‡ç‰ˆ  ç¬¬5 ç‰ˆã€‹ä¸€ä¹¦çš„é¡µç </p></blockquote><p>å¿½ç„¶å‘è§‰æœ‰ç‚¹ä¸ç®€å•ï¼Œ <code>str1</code> æ˜¯æ•°ç»„ç±»å‹ï¼Œå±äº<strong>å¤åˆç±»å‹</strong>  <sup>[p101]</sup>ï¼Œè¡¨è¾¾å¼å³ä¾§ <code>&quot;Hello&quot;</code> æ˜¯ä»€ä¹ˆç±»å‹ï¼ˆæ˜¯ <code>char []</code> ã€  <code>char *</code>  è¿˜æ˜¯  <code>const char *</code>  å‘¢ï¼Ÿï¼‰ï¼Œå…¶å®ä¹Ÿå¹¶ä¸é‡è¦ï¼ˆè™½ç„¶çŸ¥é“äº†æ˜¯<code>char [6]</code>ç±»å‹ ï¼‰ï¼›ä½†æ˜¯å®ƒä¸€å®šæ˜¯ç»™ æ•°ç»„ <code>str1</code> èµ‹å€¼çš„ï¼›ä¸”å®šä¹‰çš„èµ‹å€¼å†™æ³•å¦‚æ­¤</p><br><h4 id="è§’åº¦-3-ï¼š"><a href="#è§’åº¦-3-ï¼š" class="headerlink" title="[è§’åº¦ 3]ï¼š"></a>[è§’åº¦ 3]ï¼š</h4><p>æœ‰äººè‡ªå·±ä½¿ç”¨å¦‚ä¸‹ä¸¤ä¸ªå®ï¼Œæ¥å®ç°äº†è¯¥ <code>sizeof()</code> çš„å®ç°ï¼›æ³¨æ„çš„æ˜¯ï¼Œè¿™æ˜¯ç½‘å‹è‡ªå·±ä½¿ç”¨å®æ¥å®ç°çš„ï¼Œè€Œé ç¼–è¯‘å™¨ å°±æ˜¯è¿™æ ·å®ç°çš„ï¼Œä½†æ˜¯å¯¹äºæˆ‘çš„ç†è§£æœ‰æ‰€å¸®åŠ©ï¼›</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//é€‚ç”¨äºéæ•°ç»„</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">_sizeof</span><span class="token expression"><span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>size_t<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">(</span>T<span class="token operator">*</span><span class="token punctuation">)</span><span class="token number">0</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token comment">//é€‚ç”¨äºæ•°ç»„</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">array_sizeof</span><span class="token expression"><span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>size_t<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>T<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">(</span>size_t<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>T<span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><br><h4 id="è§’åº¦-4-ï¼š"><a href="#è§’åº¦-4-ï¼š" class="headerlink" title="[è§’åº¦ 4]ï¼š"></a>[è§’åº¦ 4]ï¼š</h4><p><code>sizeof</code> è¿ç®—ç¬¦ï¼Œå®é™…ä¸Šæœ‰ä¸¤ç§ä½¿ç”¨æ–¹å¼ï¼Œä¸”ä¹¦ä¸Šæ˜ç¡®æœ‰è¯´ <strong><code>sizeof</code> å®é™…ä¸Šå¹¶ä¸ä¼šå»è®¡ç®—å…¶è¿ç®—ç¬¦å¯¹è±¡çš„å€¼</strong> <sup>[p139]</sup> ï¼Œ<code>sizeof</code> è¿ç®—æ—¶å€™ï¼Œä¹Ÿä¸ä¼šå°†æ•°ç»„æˆæŒ‡é’ˆæ¥å¤„ç†ï¼›</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">sizeof</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span>           <span class="token comment">// è¿”å›             ç±»å‹ åœ¨å†…å­˜ä¸­æ‰€å çš„å­—èŠ‚å¤§å°</span><span class="token keyword">sizeof</span> expression      <span class="token comment">// è¿”å› è¡¨è¾¾å¼ç»“æœçš„ ç±»å‹ åœ¨å†…å­˜ä¸­æ‰€å çš„å­—èŠ‚å¤§å°</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºä¸€ æŠ€æ³• </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•ç»™ä¸Šæ¸¸Qtæäº¤Bugåé¦ˆå’Œè´¡çŒ®ä»£ç Patchï¼Ÿ</title>
      <link href="/posts/6c51a934/"/>
      <url>/posts/6c51a934/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€è®°å½•å¦‚ä½•ç»™ä¸Šæ¸¸çš„ QT ç»„ç»‡æ Bug ï¼ˆor Suggesstionï¼‰ï¼Œå’Œç»™æäº¤ä»£ç è´¡çŒ® Patchï¼ˆä»£ç åˆå¹¶è¯·æ±‚ï¼‰çš„ç»éªŒï¼›ç»™è¯»è€…ä»¥å‚è€ƒï¼›ä¿®æ”¹å†…å®¹ä¸é‡è¦ï¼Œé‡è¦çš„ç†Ÿæ‚‰å¦‚ç»™ Qt æäº¤ Bug åé¦ˆå’Œ ä»£ç è´¡çŒ® Patchï¼›</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="å‘-Qt-æäº¤åé¦ˆ-Bugï¼š"><a href="#å‘-Qt-æäº¤åé¦ˆ-Bugï¼š" class="headerlink" title="å‘ Qt æäº¤åé¦ˆ Bugï¼š"></a>å‘ Qt æäº¤åé¦ˆ Bugï¼š</h3><p>å‘ä¸Šæ¸¸çš„ Qt ç»„ç»‡åé¦ˆä½ æ‰€å‘ç°çš„ bugï¼Œæˆ–è€…æ˜¯ä½ æƒ³æçš„å»ºè®® Suggesstionï¼›</p><br><p><strong>æ­¥éª¤æµç¨‹ï¼š</strong></p><h4 id="æ³¨å†Œ-Qt-è´¦å·ï¼š"><a href="#æ³¨å†Œ-Qt-è´¦å·ï¼š" class="headerlink" title="æ³¨å†Œ Qt è´¦å·ï¼š"></a>æ³¨å†Œ Qt è´¦å·ï¼š</h4><p> ç™»å½• <a href="https://login.qt.io/register">login.qt.io</a> ç½‘ç«™ï¼Œæ³¨å†Œä¸€ä¸ªå±äºä½ çš„ Qt è´¦å·ï¼›</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200707223151.png" width="50%" / loading="lazy"><br><h4 id="æäº¤-Bug-å‰å‡†å¤‡ï¼š"><a href="#æäº¤-Bug-å‰å‡†å¤‡ï¼š" class="headerlink" title="æäº¤ Bug å‰å‡†å¤‡ï¼š"></a>æäº¤ Bug å‰å‡†å¤‡ï¼š</h4><p>ç™»å½• <a href="https://bugreports.qt.io/secure/Dashboard.jspa">bugreports.qt.io</a> ï¼Œå…ˆåœ¨ä¸‹é¢é“¾æ¥å¤„çš„ Bug åº“é‡Œé¢æŸ¥è¯¢ä¸€ä¸‹ï¼Œ ä½ æƒ³è¦æäº¤çš„ bug ï¼ˆor Suggesstionï¼‰æ˜¯å¦å·²ç»è¢«äººæäº†ï¼Œè‹¥æ˜¯é‡å¤ï¼Œåˆ™ä¸å¿…å†æï¼›</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200707224536.png" width="85%" / loading="lazy"><br><h4 id="åˆ›å»º-Bug-å•ï¼š"><a href="#åˆ›å»º-Bug-å•ï¼š" class="headerlink" title="åˆ›å»º Bug å•ï¼š"></a>åˆ›å»º Bug å•ï¼š</h4><p>è‹¥æ˜¯ä¹‹å‰æ²¡æœ‰äººå¡«å†™ä½ æƒ³æçš„è¿™ä¸ª Bugï¼Œ åˆ™å¯ä»¥æ”¾å¿ƒçš„å¼€å§‹åˆ›å»ºä½ çš„ Bug å•å·äº†ï¼Œç‚¹å‡»ä¸Šé¢çš„ <code>æ–°å»º</code> æŒ‰é’®ï¼Œç„¶åæŒ‰ç…§é¡µé¢çš„æäº¤ï¼Œè¿›è¡Œå¡«å†™ï¼Œå…¶ä¸­å¸¦æœ‰ * çš„ä¸ºå¿…å¡«é¡¹ï¼›å…¶ä¸­é€šå¸¸ é»˜è®¤ä¸º <code>Qt (QTBUG)</code> å’Œ <code>Bug</code> ï¼Œè‹¥æ˜¯ Linux ä¸Šé¢çš„å¹³å°ï¼Œåˆ™å¯ä»¥é€‰æ‹©ä¸º <code>Linux/x11</code> ; åœ¨ç„¶åå°±æ˜¯ä¸‹é¢çš„è¯¦ç»†æè¿°ï¼šè¶Šè¯¦ç»†è¶Šå¥½ï¼Œ æœ€å¥½å¯ä»¥åœ¨ä¸‹é¢çš„é™„ä»¶å¯ä»¥å¸¦ä¸Šä½ å†™çš„èƒ½å¤Ÿå¤ç°çš„å®ä¾‹ç¨‹åºæœ€ä½³ï¼›éƒ½å®Œæˆä¹‹åï¼Œå°±å¯ä»¥ç‚¹å‡»æœ‰ä¸‹å®¶çš„ <code>æ–°å»º</code> æŒ‰é’®<br> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200707232702.png" width="70%" / loading="lazy"></p><p>è‹¥æ˜¯åˆ›å»ºæˆåŠŸï¼Œåˆ™ä¼šåœ¨é¦–é¡µçœ‹åˆ°ä¸€ä¸ªæ˜¾ç¤ºï¼Œ ç‚¹å‡»å³å¯ä»¥çœ‹åˆ°è¿™ä¸ª Bug å•å·ï¼Œæ³¨æ„å®ƒç”Ÿæˆçš„ä¸€ä¸ª Bug ç¼–å·æ˜¯å¾ˆé‡è¦ä¸”å”¯ä¸€çš„ï¼›</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200707233144.png" width="70%" / loading="lazy"><br><h4 id="æŸ¥çœ‹åˆ›å»ºçš„-Bug-å•"><a href="#æŸ¥çœ‹åˆ›å»ºçš„-Bug-å•" class="headerlink" title="æŸ¥çœ‹åˆ›å»ºçš„ Bug å•"></a>æŸ¥çœ‹åˆ›å»ºçš„ Bug å•</h4><p>ç‚¹å‡» <a href="https://bugreports.qt.io/browse/QTBUG-85477">QTBUG-85477</a> è¿›å»ï¼Œå¯ä»¥æŸ¥çœ‹åˆšåˆ›å»ºå¥½çš„ Bug å•ï¼›æ²Ÿé€šå¾—çŸ¥è¯¥é—®é¢˜çš„å±äºç¬¬ä¸‰æ–¹çš„é—®é¢˜ï¼Œçš„éœ€è¦åœ¨<a href="https://github.com/glennrp/libpng">ä¸Šæ¸¸</a>å»ä¿®æ”¹ï¼ˆåé¢å·²åœ¨ä¸Šæ¸¸æäº¤ prï¼‰ï¼›<br> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200709010256.png" width="90%" / loading="lazy"></p><br><h4 id="å…¶ä»–ï¼š"><a href="#å…¶ä»–ï¼š" class="headerlink" title="å…¶ä»–ï¼š"></a>å…¶ä»–ï¼š</h4><p>å¯ä»¥ä¿®æ”¹è¯¥ç½‘ç«™è¯­è¨€ä¸ºä¸­æ–‡ï¼›æƒ³ä¸åˆ°å§ï¼ï¼ï¼ ä½¿ç”¨ Qt çš„ Bug åé¦ˆç½‘ç«™ï¼Œå±…ç„¶æ˜¯æœ‰è¯­è¨€è¿™ä¸€æ çš„è®¾ç½®çš„ ï¼Œç‚¹å‡»å³ä¸Šè§’çš„ <code>profile-Preferences- pen å›¾æ ‡</code> (<code>å¤´åƒ-ä¸ªäººä¿¡æ¯- å‚æ•°é…ç½®-ç¬”</code>)ï¼Œ åœ¨å¼¹å‡ºæ¥çš„è¯­è¨€ä¸­é€‰æ‹© <code>ä¸­æ–‡ï¼ˆä¸­å›½ï¼‰</code>åï¼Œç‚¹å‡»<code>æ›´æ–°</code>ä¿å­˜ã€‚</p><p>ä½“éªŒäº†ä¸€æŠŠï¼Œä¸­æ–‡çš„ç¿»è¯‘ä¹Ÿä¸ç®—å¾ˆè¿‡å…³ï¼Œå¯ä»¥å‹‰å¼ºä½¿ç”¨ï¼Œéšåä½¿ç”¨ ä¸­æ–‡ã€Englishï¼Œ ç”±ä½ è‡ªå·±ä½“éªŒé€‰æ‹©ï¼›è¿˜æ˜¯æ¨èè‹±æ–‡ï¼›</p><br><br><br><br><hr><br><br><br><br><h3 id="å‘-Qt-æäº¤è´¡çŒ®-Codeï¼š"><a href="#å‘-Qt-æäº¤è´¡çŒ®-Codeï¼š" class="headerlink" title="å‘ Qt æäº¤è´¡çŒ® Codeï¼š"></a>å‘ Qt æäº¤è´¡çŒ® Codeï¼š</h3><p>é™¤äº†ç»™ Qt æäº¤ Bug æˆ– Suggesstionï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¾é è‡ªå·±çš„åŠ¨æ‰‹èƒ½åŠ›ï¼Œç»™ Qt æäº¤ä»£ç è¯·æ±‚ä»–ä»¬è¿›è¡Œåˆå¹¶ï¼Œä»è€Œå¸®åŠ© Qt çš„ä»£ç æ›´åŠ å®Œå–„ï¼›</p><br><p><strong>æäº¤æ­¥éª¤ï¼š</strong></p><h4 id="æ³¨å†Œ-Qt-è´¦å·ï¼š-1"><a href="#æ³¨å†Œ-Qt-è´¦å·ï¼š-1" class="headerlink" title="æ³¨å†Œ Qt è´¦å·ï¼š"></a>æ³¨å†Œ Qt è´¦å·ï¼š</h4><p>æ³¨å†Œä¸€ä¸ª Qtï¼ˆcodereviewï¼‰ çš„è´¦å·ï¼›</p><br><h4 id="ç™»å½•-Code-Reviewï¼š"><a href="#ç™»å½•-Code-Reviewï¼š" class="headerlink" title="ç™»å½• Code Reviewï¼š"></a>ç™»å½• Code Reviewï¼š</h4><p>ç™»å½• <a href="https://codereview.qt-project.org/dashboard/self">codereview.qt-project.org</a>  ç½‘ç«™ï¼Œè¿™æ˜¯ Qt ç»„ç»‡çš„å®˜æ–¹â€œä»£ç å®¡æ ¸â€å¹³å°ï¼ˆä¸åŒäº GitLab å’Œ GitHubï¼‰ï¼Œå…¶ä¸»è¦åŠŸèƒ½æ˜¯ä»£ç å®¡æŸ¥å¾ˆæ˜¯æ–¹ä¾¿ï¼›</p><p>é…ç½®é‚®ä»¶ï¼šåœ¨ <code>Email</code> ä¸­å¡«å†™é‚®ç®±ï¼›</p><p>åˆ°ä¸ªäººä¿¡æ¯ä¸­ï¼Œ åœ¨ â€œAgreements-New Contributor Agreementâ€ ä¸­ï¼Œ å…è®¸ä¸€ä¸ªè´¡çŒ®åè®®ã€‚é€šå¸¸ä¸ªäººæ˜¯æäº¤<br> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200709005436.png" width="60%" / loading="lazy"></p><p><font color=#D0087E face="å¹¼åœ†"><strong>æ³¨æ„ï¼š</strong>Â  é‚®ç®±æ˜¯å¿…å¡«çš„ï¼Œä¸”è¦å’Œåé¢æäº¤çš„ç½²åçš„é‚®ç®±æ˜¯åŒä¸€ä¸ªé‚®ç®±ï¼›ä¸”è‹¥ä¸ç­¾ç½²æ­¤åè®®ï¼Œæ˜¯ä¸èƒ½è¢« push çš„ï¼Œ ä¹Ÿæ˜¯ä¸ä¼šè¢«åˆå¹¶çš„ã€‚</font></p><br><h4 id="è¾“å…¥-sshï¼š"><a href="#è¾“å…¥-sshï¼š" class="headerlink" title="è¾“å…¥ sshï¼š"></a>è¾“å…¥ sshï¼š</h4><p>å’Œ GitHubã€ GitLab è¿™ç§ç›¸ä¼¼ï¼Œæœ¬æœºåˆ›å»ºå¥½è‡ªå·±çš„ git è´¦å·åï¼Œåœ¨ç»ˆç«¯æ‰§è¡Œ <code>cat ~/.ssh/id_rsa.pub</code> åå°†æ˜¾ç¤ºçš„å…¬é’¥å­—ç¬¦ä¸²ï¼Œè¿›è¡Œå¤åˆ¶ï¼Œç‚¹å‡»ç½‘é¡µçš„å³ä¸Šè§’çš„ <strong>â€œsettings-SSHKeys-SSH keysâ€</strong> é¡µé¢ï¼Œå°†å…¶ç²˜è´´åˆ°é‡Œé¢ï¼Œç„¶åç‚¹å‡» <strong>â€œADD NEW SSH KEYâ€</strong> å‡ å¯ä»¥åˆ›å»ºæˆåŠŸ</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200708001558.png" width="70%" / loading="lazy"><p><font color=#D0087E face="å¹¼åœ†"><strong>æ³¨æ„ï¼š</strong>  ä½¿ç”¨ commit çš„æ—¶å€™ï¼Œç”Ÿæˆ git çš„ user.name å¿…é¡»å’Œ user.email ä¸­ @ çš„å‰ç¼€æ˜¯ä¸€æ ·çš„ï¼›ä¸” <code>å§“</code>å’Œ<code>å</code>å¿…é¡»æ˜¯é¦–å­—æ¯å¤§å†™ï¼Œä¸” <code>å§“</code>å’Œ<code>å</code>ä¹‹é—´ä½¿ç”¨ç”¨ç©ºæ ¼éš”å¼€ï¼›å¦åˆ™å¯èƒ½æ˜¯ä¸è¢«åˆå¹¶æ”¹ä»£ç çš„ï¼Œæˆ–è€…ä¿®æ”¹çš„è¯ä¹Ÿæ˜¯å¾ˆéº»çƒ¦çš„ï¼› eg: <code>Xmuli Tech &lt;xmulitech@gmail.com&gt;</code></font><br><br></p><h4 id="ä¸‹è½½ä»“åº“çš„ä»£ç "><a href="#ä¸‹è½½ä»“åº“çš„ä»£ç " class="headerlink" title="ä¸‹è½½ä»“åº“çš„ä»£ç "></a>ä¸‹è½½ä»“åº“çš„ä»£ç </h4><p>ç‚¹å‡»ä¸»é¡µçš„ <strong>â€œBROWSE-Repositioriesâ€</strong>ï¼Œç„¶ååœ¨æœç´¢æ  <strong>â€œFileterï¼šâ€</strong> çš„å³ä¾§ï¼Œè¾“å…¥ä½ æƒ³è¦æŸ¥æ‰¾çš„ä»“åº“ï¼Œegï¼š<code>qtbase</code>ï¼›<br> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200708000059.png" width="100%" / loading="lazy"></p><p>ç„¶åç‚¹å‡»è¯¥ä»“åº“é“¾æ¥ï¼Œ å¯ä»¥çœ‹åˆ°ï¼Œä¸€å…±æä¾›äº†ä¸‰ç§ä¸‹è½½æ–¹å¼ï¼šä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å¦‚ä¸‹ä»»æ„ä¸€ç§æ–¹å¼ä¸‹è½½ï¼›ä½†æ˜¯ç”±äºæŸç§ç¥ç§˜çš„åŸå› ï¼Œç›´æ¥ä¸‹è½½å¯èƒ½ä¼šå¾ˆæ…¢ï¼ˆæœ‰ 434.7 Mï¼Œ 2020-07-08ï¼‰ï¼Œå“ªæ€•æ˜¯ä½¿ç”¨ TZ ä¾æ—§è€—æ—¶å¾ˆä¹…ï¼Œè¯·è€å¿ƒç­‰å¾…</p><ul><li><p>**[æ–¹å¼ä¸€] ANONYMOUS HTTP **</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Clone with commit-msg hook</span><span class="token function">git</span> clone <span class="token string">"https://codereview.qt-project.org/qt/qtbase"</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>cd <span class="token string">"qtbase"</span> <span class="token operator">&amp;&amp;</span> <span class="token function">mkdir</span> <span class="token parameter variable">-p</span> .git/hooks <span class="token operator">&amp;&amp;</span> <span class="token function">curl</span> <span class="token parameter variable">-Lo</span> <span class="token variable"><span class="token variable">`</span><span class="token function">git</span> rev-parse --git-dir<span class="token variable">`</span></span>/hooks/commit-msg https://codereview.qt-project.org/tools/hooks/commit-msg<span class="token punctuation">;</span> <span class="token function">chmod</span> +x <span class="token variable"><span class="token variable">`</span><span class="token function">git</span> rev-parse --git-dir<span class="token variable">`</span></span>/hooks/commit-msg<span class="token punctuation">)</span><span class="token comment"># Clone with commit-msg hook</span><span class="token function">git</span> clone <span class="token string">"https://codereview.qt-project.org/qt/qtbase"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><br></li><li><p><strong>[æ–¹å¼äºŒ] HTTP</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Clone with commit-msg hook</span><span class="token function">git</span> clone <span class="token string">"https://xmuli@codereview.qt-project.org/a/qt/qtbase"</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>cd <span class="token string">"qtbase"</span> <span class="token operator">&amp;&amp;</span> <span class="token function">mkdir</span> <span class="token parameter variable">-p</span> .git/hooks <span class="token operator">&amp;&amp;</span> <span class="token function">curl</span> <span class="token parameter variable">-Lo</span> <span class="token variable"><span class="token variable">`</span><span class="token function">git</span> rev-parse --git-dir<span class="token variable">`</span></span>/hooks/commit-msg https://xmuli@codereview.qt-project.org/tools/hooks/commit-msg<span class="token punctuation">;</span> <span class="token function">chmod</span> +x <span class="token variable"><span class="token variable">`</span><span class="token function">git</span> rev-parse --git-dir<span class="token variable">`</span></span>/hooks/commit-msg<span class="token punctuation">)</span><span class="token comment"># Clone with commit-msg hook</span><span class="token function">git</span> clone <span class="token string">"https://xmuli@codereview.qt-project.org/a/qt/qtbase"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><br></li><li><p><strong>[æ–¹å¼ä¸‰] SSH</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Clone with commit-msg hook</span><span class="token function">git</span> clone <span class="token string">"ssh://xmuli@codereview.qt-project.org:29418/qt/qtbase"</span> <span class="token operator">&amp;&amp;</span> <span class="token function">scp</span> <span class="token parameter variable">-p</span> <span class="token parameter variable">-P</span> <span class="token number">29418</span> xmuli@codereview.qt-project.org:hooks/commit-msg <span class="token string">"qtbase/.git/hooks/"</span><span class="token comment"># Clone</span><span class="token function">git</span> clone <span class="token string">"ssh://xmuli@codereview.qt-project.org:29418/qt/qtbase"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><br></li></ul><blockquote><p>&#x2F;&#x2F;é™„ qtbase[2020-07-08].rar ç™¾åº¦äº‘ç›˜å¤‡ä»½<br>é“¾æ¥: <a href="https://pan.baidu.com/s/1gLPjqXL7vbRhp6oqGIeMlg">https://pan.baidu.com/s/1gLPjqXL7vbRhp6oqGIeMlg</a>  å¯†ç : knag</p></blockquote><br><h4 id="è®¾ç½®-git-hooksï¼š"><a href="#è®¾ç½®-git-hooksï¼š" class="headerlink" title="è®¾ç½® git hooksï¼š"></a>è®¾ç½® git hooksï¼š</h4><p>æ‰§è¡Œå¦‚ä¸‹ï¼Œé…ç½®çš„æ˜¯ commit msgå’Œcommit hookï¼Œå®ƒèƒ½è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªchangeidï¼Œä¹Ÿå°±æ˜¯å°†æ¥æ ‡ç¤ºä½ è¿™ä¸ªä¿®æ”¹çš„idã€‚åé¢è‹¥æ˜¯éœ€è¦ä¿®æ”¹çš„è¯ï¼Œå°±ä½¿ç”¨ <code>git commit --amend</code> æ¥ä¿®æ”¹ï¼Œé¿å… <code>Change-Id</code> å‘ç”Ÿäº†æ”¹å˜ï¼Œç”Ÿæˆäº†ä¸€ä¸ªæ–°çš„æäº¤ï¼›</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">gitdir</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">git</span> rev-parse --git-dir<span class="token variable">)</span></span><span class="token punctuation">;</span> <span class="token function">scp</span> <span class="token parameter variable">-P</span> <span class="token number">29418</span> codereview.qt-project.org:hooks/commit-msg <span class="token variable">$&#123;gitdir&#125;</span>/hooks/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br><h4 id="ä¿®æ”¹ä»£ç å’Œ-commitï¼š"><a href="#ä¿®æ”¹ä»£ç å’Œ-commitï¼š" class="headerlink" title="ä¿®æ”¹ä»£ç å’Œ commitï¼š"></a>ä¿®æ”¹ä»£ç å’Œ commitï¼š</h4><blockquote><p>è‹¥æ˜¯åœ¨ Linux ä¸Šï¼Œä¸‹è½½æºç åŒ…ä¹‹åï¼Œæ‰§è¡Œ <code>sudo apt build-dep qtbase5-dev</code> å®‰è£…ç¼–è¯‘ä¾èµ–ï¼›æºç åˆ‡æ¢åˆ° <code>dev</code> åˆ†æ”¯ï¼Œ è¿›è¡Œä»£ç ä¿®æ”¹åï¼Œè¿›è¡Œ commit æäº¤ä¿¡æ¯ï¼›</p></blockquote><p>åœ¨æœ¬åœ°ï¼Œ ç°åœ¨æœ¬åœ°ä¿®æ”¹å¥½ä»£ç ï¼Œ</p><p>æ³¨æ„çš„çš„æ˜¯ï¼ŒQt çš„æäº¤è§„èŒƒæ˜¯å¾ˆä¸¥æ ¼çš„ï¼šä¸€å¼€å§‹ä¸€å¥ç®€çŸ­çš„æè¿°ï¼Œç„¶åä¸€è¡Œç©ºè¡Œï¼Œå†ç„¶åå°±æ˜¯è¯¦ç»†çš„æè¿°ï¼›å¦‚æœæäº¤çš„ commit ä¸ç¬¦åˆè§„èŒƒçš„è¯ï¼Œæœºå™¨äººğŸ¤–æ˜¯ä¼šæŒ‡å‡ºæ¥é”™è¯¯çš„ï¼›ä¸€ç›´åˆ°ä½ æäº¤æ­£ç¡®ä¸ºæ­¢ï¼›</p><br><h4 id="æäº¤è´¡çŒ®ï¼š"><a href="#æäº¤è´¡çŒ®ï¼š" class="headerlink" title="æäº¤è´¡çŒ®ï¼š"></a>æäº¤è´¡çŒ®ï¼š</h4><p>å½“ä»£ç ä¿®æ”¹é€šè¿‡ä¹‹åï¼Œä¸”èƒ½å¤ŸæˆåŠŸç¼–è¯‘ä¹‹åï¼Œä¸” commit ä¿¡æ¯ä¹Ÿæ­£ç¡®çš„å°±å¯ä»¥å‡†å¤‡æäº¤äº†ï¼›ä¸”ä¸€èˆ¬æ¯ä¸ªè´¡çŒ®ä»£ç æ˜¯éœ€è¦åœ¨æäº¤ä¿¡æ¯ç»“æŸçš„æ—¶å€™ï¼Œå°†é™„å¸¦çš„ Qt-Bug ç¼–å·ç»™å¸¦ä¸Šå»ï¼›</p><p>ä¹Ÿå¯ä»¥å‚è€ƒå®˜æ–¹çš„æäº¤æ¨¡æ¿ï¼š<a href="https://code.qt.io/cgit/qt/qt5.git/tree/.commit-template">.commit-template</a> </p><p>é™„ä¸Šä¸€ä¸ªä»–äººæäº¤çš„ä¾‹å­ <a href="https://codereview.qt-project.org/c/qt/qtbase/+/306765">qtbase&#x2F;+&#x2F;306765</a> ä½œä¸ºå‚è€ƒï¼Œæ‘˜å½•å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">Fix handling of Suzhou numbering systemThis only arises when the system locale tells us to use its zero asour zero digit<span class="token punctuation">,</span> since no CLDR locale uses it by default. Adapt anMS<span class="token punctuation">-</span>specific QLocale<span class="token punctuation">:</span><span class="token punctuation">:</span>system() test to use Suzhou numbering<span class="token punctuation">,</span> so as totest this.<span class="token key atrule">Fixes</span><span class="token punctuation">:</span> QTBUG<span class="token punctuation">-</span><span class="token number">85409</span><span class="token key atrule">Change-Id</span><span class="token punctuation">:</span> I343324bb563ee0e455dfe77d4825bf8c3082ca30<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è‹¥æ˜¯ç¬¬ä¸€æ¬¡ commitï¼Œ æ‰§è¡Œ <code>git commit -a</code>ï¼Œä¼šæ˜¾ç¤ºä½ åŠ ä¸Šçš„ä¿¡æ¯å’Œè‡ªåŠ¨åŠ ä¸Šçš„ <code>Change-Id</code> å·ä½œä¸ºæœ¬æ¬¡è®°å½•ï¼š</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200709003020.png" width="70%" / loading="lazy"><p><font color=#D0087E face="å¹¼åœ†"><strong>æ³¨æ„ï¼š</strong>Â  ä¸æŒ‰ç…§æ­¤è§„èŒƒå†™ commit ä¿¡æ¯ï¼Œä¹Ÿæ˜¯ä¸ä¼šè¢«åˆå¹¶çš„</font></p><br><h4 id="æ¨é€è´¡çŒ®-Patchï¼š"><a href="#æ¨é€è´¡çŒ®-Patchï¼š" class="headerlink" title="æ¨é€è´¡çŒ® Patchï¼š"></a>æ¨é€è´¡çŒ® Patchï¼š</h4><p>æ‰§è¡Œ <code>git push origin HEAD:refs/for/dev</code> å°†ä¿®æ”¹çš„æ–‡ä»¶è¿›è¡Œæ¨é€åˆ° <code>gerrit</code> ä¸Šï¼Œè¿›è¡Œä»£ç å®¡æŸ¥ï¼Œè¿™é‡Œæ¨é€å¯èƒ½éœ€è¦ç­‰å¾…çš„æ—¶é—´æ¯”è¾ƒé•¿ï¼š</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200708_205601.png" width="70%" / loading="lazy"><br><h4 id="æ·»åŠ å®¡æ ¸"><a href="#æ·»åŠ å®¡æ ¸" class="headerlink" title="æ·»åŠ å®¡æ ¸:"></a>æ·»åŠ å®¡æ ¸:</h4><p>æŸ¥çœ‹æœ¬æ–‡ä»¶çš„ä¿®æ”¹è€… <code>git log --pretty=oneline src/3rdparty/libpng/png.c</code> ï¼Œé€‰å–å…¶ä¸­å‡ºç°è¯„ç‡æœ€é«˜çš„äººï¼Œæ·»åŠ å³å¯ï¼›</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">f2ce5b9136882fb315cb524fd9037bc06bff7830 (HEAD <span class="token punctuation">-</span><span class="token punctuation">></span> dev) Add spaces around '/<span class="token important">*'</span> and '<span class="token important">*/'</span>2e8005765d6513c4743a939aea97c68427f6ab2c Update bundled libpng to version 1.6.375d8b01468e8bd752dad090aaef4ccf3a83a58a0d Update bundled libpng to version 1.6.360d7c049e4407bf0db8d1eca1ea248c6d6b739c8c Update bundled libpng to version 1.6.35b084837ffc34439710552cb6ed31054c60f6b2d4 Update bundled libpng to version 1.6.34e51dbda0677d9ff4419c9dc70e6209fae194ee02 Update bundled libpng to version 1.6.329369eca108cc509ed651c0dbab6fa54de83727fc Update bundled libpng to version 1.6.28714cb4020e12e078e8ba8c2c5493d138d515f46d Update bundled libpng to version 1.6.20ad5c768fc8b93e22201fb557561b2edd4fcdc26b Update bundled libpng to version 1.6.1968c137cc725ceadec68c455e0e3e365ecb00f2c1 Update bundled libpng to version 1.6.17<span class="token key atrule">1fa1ce36288e3e537e9e4db1cfa42b338b5b7e58 Upgrading libpng</span><span class="token punctuation">:</span> Adding clean copy of libpng 1.5.1038be0d13830efd2d98281c645c3a60afe05ffece Initial import from the monolithic Qt.(END)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ·»åŠ å®Œæˆä¹‹åï¼Œç­‰å¾…å³å¯ï¼š<br> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200708212111.png" width="90%" / loading="lazy"></p><p><font color=#D0087E face="å¹¼åœ†"><strong>æ³¨æ„ï¼š</strong>  å’Œå¸¸è§„çš„ gitlabã€ github ä¸åŒï¼Œè‹¥æ˜¯ä¸æŒ‡å®šå®¡æŸ¥è€…ï¼Œé‚£ä¹ˆè¯¥ä¿®æ”¹ä¸€ä¸‡å¹´ä¹Ÿä¸ä¼šæœ‰æœºä¼šè¢«åˆå¹¶è¿›å»ï¼›å¿…é¡»åœ¨ç½‘é¡µ gerrit ä¸ŠæŒ‡å®šå‡ ä¸ªè¯¥ commit çš„å®¡æŸ¥è€…</font></p><br><h4 id="åˆå¹¶ç»“æœï¼š"><a href="#åˆå¹¶ç»“æœï¼š" class="headerlink" title="åˆå¹¶ç»“æœï¼š"></a>åˆå¹¶ç»“æœï¼š</h4><p>è‹¥æ˜¯æ²¡æœ‰é—®é¢˜ï¼Œåˆ™ä¼šè¢«æ‰¹å‡†è¿›å…¥ä»“åº“ï¼›æˆ–è€…æŒ‰ç…§æŒ‡å¯¼æ„è§æ¥ä¿®æ”¹ï¼Œç¬¦åˆæ ‡å‡†ä¹‹åï¼Œä¾æ—§å¯ä»¥è¢«åˆå¹¶ï¼›æˆ–è®¸å› ä¸ºæŸäº›åŸå› å¯èƒ½ä¸è¢«åˆå¹¶ï¼›å¥½è¿~~</p><br><h3 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h3><p>æœ¬æ¬¡é‡åœ¨ç†Ÿæ‚‰æµç¨‹ï¼Œä¸ºåé¢çš„ä¸º Qt æäº¤è´¡çŒ® Patch åšå‡†å¤‡ï¼›</p><p>æœ¬æ¬¡æäº¤ Bug ä¸º <a href="https://bugreports.qt.io/browse/QTBUG-85477">QTBUG-85477</a> å’Œ å¯¹åº”çš„ä¿®æ”¹ <a href="https://codereview.qt-project.org/c/qt/qtbase/+/307241">+307241</a> ï¼›å› ä¸ºæ­¤ä¿®æ”¹å®é™…ä¸º Qt çš„ç¬¬ä¸‰æ–¹åº“ï¼Œéœ€è¦ä»å®ƒçš„ä¸Šæ¸¸è¿›è¡Œæäº¤ä¿®æ”¹ï¼Œè€Œéæ­¤å¤„çš„ qtbase ä¿®æ”¹ï¼› äºæ˜¯åœ¨å¯¹åº”çš„ç¬¬ä¸‰æ–¹çš„å­˜å‚¨åº“ <a href="https://github.com/glennrp/libpng">glennrp&#x2F;libpng</a> è¡¥ä¸Šäº†è¿™ä¸ªæäº¤ <a href="https://github.com/glennrp/libpng/pulls">#337</a></p><br><h3 id="å‚è€ƒï¼š"><a href="#å‚è€ƒï¼š" class="headerlink" title="å‚è€ƒï¼š"></a>å‚è€ƒï¼š</h3><ul><li><p><a href="https://wiki.qt.io/Setting_up_Gerrit">Setting up Gerrit</a></p></li><li><p><a href="https://wiki.qt.io/Gerrit_Introduction">Gerrit_Introduction</a></p></li><li><p><a href="https://code.qt.io/cgit/qt/qt5.git/commit/.commit-template">qt-commit-template</a></p></li><li><p><a href="https://www.csslayer.info/wordpress/linux/qt-linux/contribute-patch-to-qt/">å¦‚ä½•ç»™ Qt è´¡çŒ® Patch</a></p></li><li><p><a href="https://bugreports.qt.io/browse/QTBUG-85477">QTBUG-85477</a> [æœ¬æ¬¡å®ä¾‹]</p></li><li><p><a href="https://codereview.qt-project.org/c/qt/qtbase/+/307241">commit 307241</a> [æœ¬æ¬¡å®ä¾‹]</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GitHubåŠ è½½å›¾ç‰‡ä¸¢å¤±è§£å†³æ–¹æ¡ˆ</title>
      <link href="/posts/edb355c4/"/>
      <url>/posts/edb355c4/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€æ‰“å¼€ç½‘ç«™  <code>GitHub</code>  çš„æ—¶å€™ï¼Œç»å¸¸ä¼šé‡åˆ°åŠ è½½å›¾ç‰‡ä¸¢å¤±ï¼Œæˆ–è€…æœ‰çš„å›¾ç‰‡èƒ½å¤Ÿæ˜¾ç¤ºï¼Œåˆæ˜¯ä¸èƒ½æ˜¾ç¤ºå‡ºæ¥ï¼›éè¦å¼€å…¨å±€ä»£ç†æ‰èƒ½æ‰€æœ‰å¤´åƒã€å›¾ç‰‡èµ„æºæ‰èƒ½å¤Ÿæ˜¾ç¤ºå‡ºæ¥ã€‚é™„ä¸Šè§£å†³æ–¹æ¡ˆï¼šå¼ºåˆ¶æŒ‡å®šåŸŸåèµ°ä»£ç†å’Œä¿®æ”¹ <code>hosts</code> æ–‡ä»¶ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="èƒŒæ™¯ï¼š"><a href="#èƒŒæ™¯ï¼š" class="headerlink" title="èƒŒæ™¯ï¼š"></a>èƒŒæ™¯ï¼š</h3><p>åœ¨ <strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14.6 </code> ğŸ“ <code>win10 2004ç‰ˆæœ¬ x64</code>ä¸­ï¼Œæ‰“å¼€ <code>github</code> æˆ–è€…ç›¸å…³ç½‘ç«™çš„æ—¶å€™ï¼Œç»å¸¸å›¾ç‰‡èµ„æºæ²¡æœ‰åŠ è½½å‡ºæ¥ï¼Œçœ‹åˆ°çš„æ•ˆæœå°±æ˜¯ç”¨æˆ·å¤´åƒç¼ºå¤±ã€‚</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200621_045112_1.jpg" width="100%"/ loading="lazy"> <br><h3 id="è§£å†³æ–¹æ¡ˆï¼š"><a href="#è§£å†³æ–¹æ¡ˆï¼š" class="headerlink" title="è§£å†³æ–¹æ¡ˆï¼š"></a>è§£å†³æ–¹æ¡ˆï¼š</h3><p><strong>å®šä½é—®é¢˜ï¼š</strong></p><ol><li><p>åœ¨æµè§ˆå™¨æ‰“å¼€ github ç½‘ç«™ï¼Œå³é”®â€œæ£€æŸ¥ï¼ˆCtrl + Shift + Iï¼‰â€ï¼›</p></li><li><p>è¿›å…¥ â€œç½‘ç»œ-å…¨éƒ¨-æ ‡å¤´â€ï¼Œ ç„¶ååˆ·æ–°æ­¤é¡µé¢ï¼Œå†æ¬¡åŠ è½½æœ¬ç½‘é¡µ</p></li><li><p>æŸ¥çœ‹è·å–æ–‡ä»¶å¤±è´¥çš„çš„æŠ¥æ–‡çš„è¯·æ±‚é“¾æ¥ã€‚å‘ç°æ˜¯ <code>githubusercontent.com</code> åŸŸåï¼Œ è€Œéä¹Ÿæ˜¯ â€œgithub.comâ€ åŸŸå</p></li><li><p>åœ¨ ä»£ç†è½¯ä»¶é‡Œæ·»åŠ  <code>||githubusercontent.com</code>ï¼Œå…¶ä¸­ || è¡¨ç¤ºåŒ¹é…è¯¥åŸŸåçš„æ‰€æœ‰å­åŸŸåï¼Œç‚¹å‡»ä¿å­˜</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200621_045642_2.jpg" width="70%"/ loading="lazy"></li><li><p>å†æ¬¡åˆ·æ–°ç½‘é¡µï¼Œå³å¯çœ‹åˆ°å¤´åƒéƒ½åŠ è½½å‡ºæ¥äº†</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200621_045755_3.jpg" width="70%"/ loading="lazy"></li></ol><br><h3 id="è¡¥å……ï¼š"><a href="#è¡¥å……ï¼š" class="headerlink" title="è¡¥å……ï¼š"></a>è¡¥å……ï¼š</h3><p>æœ‰æ—¶å€™ï¼Œ ç»è¿‡ä¸Šé¢çš„æ“ä½œåï¼Œå¤§éƒ¨åˆ†å›¾ç‰‡èµ„æºéƒ½åŠ è½½å‡ºæ¥äº†ï¼Œä½†æ˜¯è¿˜æœ‰å°‘éƒ¨åˆ†çš„å¤´åƒæ²¡æœ‰è¢«åŠ è½½å‡ºæ¥ã€‚ è¿™å°±ç‹ ç‹ ç‹ ç‹ ã€‚ã€‚ã€‚ã€‚ã€‚</p><p><strong>åŸå› ï¼š</strong> æœ¬åœŸç½‘ç»œç¯å¢ƒemmmmï¼Œ ä¼°è®¡æ˜¯å¤§æ¦‚ç‡è¢« DNS ç»™æ±¡æŸ“äº†ï¼Œ è¿™é‡Œå°±éœ€è¦æ‰‹åŠ¨ä¿®æ”¹ hosts äº†</p><p><strong>è§£å†³ï¼š</strong> </p><ul><li>æŸ¥è¯¢åŸŸåå¯¹åº”çš„çœŸå® IP</li><li>å°†å…¶è¿½åŠ åˆ° hostsæ–‡ä»¶ä¸­ï¼›</li></ul><p>å¯åœ¨<code>https://www.ipaddress.com/</code> æŸ¥è¯¢ <code>raw.githubusercontent.com </code>çš„çœŸå®<code>IP</code> ï¼›</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200621060056.png" width="50%"/ loading="lazy"><br><p>è¿™é‡Œé™„ä¸Šå·²ç»æŸ¥è¯¢å¥½äº†çš„ï¼Œæ›´æ–°äº 2022-01-208 æ—¥ï¼Œ[å…¶ä¸­ <code>assets-cdn.github.com</code> æœ‰å››ä¸ªï¼Œè‹¥æ˜¯ç¬¬ä¸€ä¸ªå¤±è´¥äº†ï¼Œåˆ™ä¼šè§£æç¬¬äºŒä¸ªï¼Œä¾æ¬¡ï¼ˆä½†æ˜¯æ²¡æœ‰è´Ÿè½½å‡è¡¡çš„æ•ˆæœï¼‰]ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># GitHub Start </span><span class="token number">140.82</span>.113.3 github.com<span class="token number">140.82</span>.113.3 gist.github.com<span class="token number">185.199</span>.108.153 assets-cdn.github.com<span class="token number">185.199</span>.109.153 assets-cdn.github.com<span class="token number">185.199</span>.110.153 assets-cdn.github.com<span class="token number">185.199</span>.111.153 assets-cdn.github.com<span class="token number">185.199</span>.108.153 raw.githubusercontent.com<span class="token number">185.199</span>.109.153 raw.githubusercontent.com<span class="token number">185.199</span>.110.153 raw.githubusercontent.com<span class="token number">185.199</span>.111.153 raw.githubusercontent.com<span class="token number">185.199</span>.108.133 gist.githubusercontent.com<span class="token number">185.199</span>.109.133 gist.githubusercontent.com<span class="token number">185.199</span>.110.133 gist.githubusercontent.com<span class="token number">185.199</span>.111.133 gist.githubusercontent.com<span class="token number">185.199</span>.108.133 cloud.githubusercontent.com <span class="token number">185.199</span>.109.133 cloud.githubusercontent.com <span class="token number">185.199</span>.110.133 cloud.githubusercontent.com <span class="token number">185.199</span>.111.133 cloud.githubusercontent.com <span class="token number">185.199</span>.108.133 camo.githubusercontent.com<span class="token number">185.199</span>.109.133 camo.githubusercontent.com<span class="token number">185.199</span>.110.133 camo.githubusercontent.com<span class="token number">185.199</span>.111.133 camo.githubusercontent.com<span class="token number">185.199</span>.108.133 avatars0.githubusercontent.com<span class="token number">185.199</span>.108.133 avatars1.githubusercontent.com<span class="token number">185.199</span>.108.133 avatars2.githubusercontent.com<span class="token number">185.199</span>.108.133 avatars3.githubusercontent.com<span class="token number">185.199</span>.108.133 avatars4.githubusercontent.com<span class="token number">185.199</span>.108.133 avatars5.githubusercontent.com<span class="token number">185.199</span>.108.133 avatars6.githubusercontent.com<span class="token number">185.199</span>.108.133 avatars7.githubusercontent.com<span class="token number">185.199</span>.108.133 avatars8.githubusercontent.com<span class="token comment"># GitHub End</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><code>hosts</code> æ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼š<ul><li><strong>[win:]</strong>  <code>C:\Windows\System32\drivers\etc\hosts</code></li><li><strong>[Mac:]</strong>  <code>/etc/hosts</code></li><li><strong>[Linux:]</strong>  <code>/etc/hosts</code></li></ul></li></ul><p>OKï¼Œ åˆ°è¿™é‡Œå°±æ˜¯å¤§åŠŸå‘Šæˆäº†ï¼Œå†æ€ä¹ˆæ‰“å¼€githubç½‘ç«™ï¼Œéƒ½ä¸ä¼šæœ‰ç½‘é¡µå›¾ç‰‡èµ„æºç¼ºå¤±çš„æƒ…å†µå‡ºç°</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç»œ </tag>
            
            <tag> GitHub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qtç½‘ç»œç¼–ç¨‹ä¹‹ä½¿ç”¨cookieå’Œssl</title>
      <link href="/posts/ce5301c5/"/>
      <url>/posts/ce5301c5/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€æœ€è¿‘ä½¿ç”¨ç½‘ç»œï¼Œå¯¹äºè¯·æ±‚å¤´å’Œåè®®å¤´ï¼Œæœ‰ä¸€å¤„æŒ å¤´äº†ä¸‹ï¼Œçœ‹åˆ°è¿™ä¸€ç¯‡æœ‰äº›è§¦å‘åé¢å®ç°äº†ï¼Œè§‰å¾—å†™å¾—è¿˜æŒºå¥½çš„ï¼Œä¸”åé¢å¯èƒ½æ­£å¥½è¦æ”¹è¿›ä½¿ç”¨ <code>Cookies</code> å’Œ <code>ssl</code> ï¼Œå…ˆæ‘†ç€åœ¨è¿™é‡Œï¼›</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="æ‰€ä½¿ç”¨çš„Qtç‰ˆæœ¬ï¼š5-14-0"><a href="#æ‰€ä½¿ç”¨çš„Qtç‰ˆæœ¬ï¼š5-14-0" class="headerlink" title="æ‰€ä½¿ç”¨çš„Qtç‰ˆæœ¬ï¼š5.14.0"></a>æ‰€ä½¿ç”¨çš„Qtç‰ˆæœ¬ï¼š5.14.0</h3><p>æœ¬ä¾‹å­åŸºäºè¿™ç¯‡åšå®¢ä¸­çš„ä¾‹å­ï¼šã€Š<a href="https://www.cnblogs.com/BlogPuppet/p/12804271.html">Qtä½¿ç”¨HTTPSåè®®è®¿é—®ç½‘ç«™</a>ã€‹</p><br><h3 id="æ¥æ”¶Cookiesï¼š"><a href="#æ¥æ”¶Cookiesï¼š" class="headerlink" title="æ¥æ”¶Cookiesï¼š"></a>æ¥æ”¶Cookiesï¼š</h3><p>Cookieç”±è¿”å›çš„QNetworkReplyè·å–ï¼ŒQtå·²ç»åšå¾—å¾ˆå¥½äº†ï¼Œæˆ‘ä»¬åªéœ€è¦è°ƒç”¨ç›¸å…³å‡½æ•°å³å¯ï¼Œåƒå…¶ä»–å“åº”æ¶ˆæ¯çš„å¤´ä¹Ÿå¯ä»¥ç”±ç±»ä¼¼çš„æ–¹å¼è·å–ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QCoreApplication></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"TestNet.h"</span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QCoreApplication <span class="token function">a</span><span class="token punctuation">(</span>argc<span class="token punctuation">,</span> argv<span class="token punctuation">)</span><span class="token punctuation">;</span>    TestNet One<span class="token punctuation">;</span>    One<span class="token punctuation">.</span><span class="token function">GetWeb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> a<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//main.cpp</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QtNetwork></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QFile></span></span><span class="token keyword">class</span> <span class="token class-name">TestNet</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QObject</span></span><span class="token punctuation">&#123;</span>    Q_OBJECT<span class="token keyword">public</span><span class="token operator">:</span>    QNetworkAccessManager <span class="token operator">*</span>m_manager <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    QNetworkRequest <span class="token operator">*</span>m_request <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token comment">//è®¿é—®ç½‘ç«™</span>    <span class="token keyword">void</span> <span class="token function">GetWeb</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token comment">//å»ºç«‹æ–°å¯¹è±¡</span>        m_manager <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QNetworkAccessManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        m_request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QNetworkRequest</span><span class="token punctuation">(</span><span class="token function">QUrl</span><span class="token punctuation">(</span><span class="token string">"https://gitee.com/"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è®¾ç½®SSLè¿æ¥</span>        QSslConfiguration config<span class="token punctuation">;</span>        QSslConfiguration conf <span class="token operator">=</span> m_request<span class="token operator">-></span><span class="token function">sslConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        conf<span class="token punctuation">.</span><span class="token function">setPeerVerifyMode</span><span class="token punctuation">(</span>QSslSocket<span class="token double-colon punctuation">::</span>VerifyNone<span class="token punctuation">)</span><span class="token punctuation">;</span>        conf<span class="token punctuation">.</span><span class="token function">setProtocol</span><span class="token punctuation">(</span>QSsl<span class="token double-colon punctuation">::</span>TlsV1SslV3<span class="token punctuation">)</span><span class="token punctuation">;</span>        m_request<span class="token operator">-></span><span class="token function">setSslConfiguration</span><span class="token punctuation">(</span>conf<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è¿æ¥æ§½</span>        <span class="token class-name">QObject</span><span class="token double-colon punctuation">::</span><span class="token function">connect</span><span class="token punctuation">(</span>m_manager<span class="token punctuation">,</span><span class="token operator">&amp;</span>QNetworkAccessManager<span class="token double-colon punctuation">::</span>finished<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>TestNet<span class="token double-colon punctuation">::</span>GetWebFinished<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å‘é€Getè¯·æ±‚</span>        m_manager<span class="token operator">-></span><span class="token function">get</span><span class="token punctuation">(</span><span class="token operator">*</span>m_request<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//è®¿é—®ååšçš„æ“ä½œ</span>    <span class="token keyword">void</span> <span class="token function">GetWebFinished</span><span class="token punctuation">(</span>QNetworkReply <span class="token operator">*</span>reply<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token comment">//è½¬æ¢ä¸ºutf-8ç¼–ç ï¼Œè¿™æ ·å°±å¯ä»¥æ˜¾ç¤ºä¸­æ–‡äº†</span>        QTextCodec <span class="token operator">*</span>codec <span class="token operator">=</span> <span class="token class-name">QTextCodec</span><span class="token double-colon punctuation">::</span><span class="token function">codecForName</span><span class="token punctuation">(</span><span class="token string">"utf8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        QString getData <span class="token operator">=</span> codec<span class="token operator">-></span><span class="token function">toUnicode</span><span class="token punctuation">(</span>reply<span class="token operator">-></span><span class="token function">readAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è·å–Cookies</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>reply<span class="token operator">-></span><span class="token function">hasRawHeader</span><span class="token punctuation">(</span><span class="token string">"Set-Cookie"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            QByteArray cookie <span class="token operator">=</span> reply<span class="token operator">-></span><span class="token function">rawHeader</span><span class="token punctuation">(</span><span class="token string">"Set-Cookie"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            std<span class="token double-colon punctuation">::</span>cout<span class="token operator">&lt;&lt;</span>cookie<span class="token punctuation">.</span><span class="token function">toStdString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">//TestNet.h</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre> <br><h3 id="å‘é€Cookies"><a href="#å‘é€Cookies" class="headerlink" title="å‘é€Cookies:"></a>å‘é€Cookies:</h3><p>é¦–å…ˆæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹ç”¨FiddleræŠ“åŒ…è½¯ä»¶æˆªå–çš„Httpè¯·æ±‚åŒ…ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">POST https<span class="token operator">:</span><span class="token comment">//gitee.com/check_user_login HTTP/1.1</span>Host<span class="token operator">:</span> gitee<span class="token punctuation">.</span>comUser<span class="token operator">-</span>Agent<span class="token operator">:</span> Mozilla<span class="token operator">/</span><span class="token number">5.0</span> <span class="token punctuation">(</span>Windows NT <span class="token number">10.0</span><span class="token punctuation">;</span> Win64<span class="token punctuation">;</span> x64<span class="token punctuation">;</span> rv<span class="token operator">:</span><span class="token number">75.0</span><span class="token punctuation">)</span> Gecko<span class="token operator">/</span><span class="token number">20100101</span> Firefox<span class="token operator">/</span><span class="token number">75.0</span>Accept<span class="token operator">:</span> <span class="token operator">*</span><span class="token comment">/*Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2Accept-Encoding: gzip, deflate, brReferer: https://gitee.com/loginX-CSRF-Token: GbYJaqAJEXGRYoNtYXUlzdw06JNrqC1FGO7wJO8L+J8=Content-Type: application/x-www-form-urlencoded; charset=UTF-8X-Requested-With: XMLHttpRequestContent-Length: 22Origin: https://gitee.comConnection: keep-aliveCookie: user_locale=zh-CN; oschina_new_user=false; Hm_lvt_24f17767262929947cc3631f99bfd274=1587994350,1587994363,1587994651,1587995075; remote_way=http; gitee-session-n=cVdXY3BBSG91a2JSWXRsR0gybVNZTXB6UUZoZU11dzdnNERRVjJNUmRSUzQ0NzZ5YkFHNjM5cG1Lbk82RHYrclVaQzRURjZIbFRsSGkybm1FQmdVR1M2dFJPZmhFdXNCK0JrRk9DVEVBQXdnVXF2V2tuYWw3aXRURUlEWkV6aXc0VUlwRGtJb1dCd0g2NFVxeW1IMC9MSHU2dnJHck1kY213ZEdDcWFFOU1OZTZtTWdKN1VkYVNTdGxVaUpIMUtpLS02K0Z1VzBFOHQyQ1FXWXpSYlhSZEVBPT0%3D--631c43af162f79e53290d6e86ac1ada72f92ffed; tz=Asia%2FShanghai; Hm_lpvt_24f17767262929947cc3631f99bfd274=1587995076</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><p>è¿™æ˜¯æˆ‘åœ¨ç™»é™†Giteeç½‘ç«™æ—¶æµè§ˆå™¨å‘å‡ºçš„POSTè¯·æ±‚å¤´ï¼Œé‚£ä¹ˆè¯·é—®ï¼Œè¿™ä¸ªè¯·æ±‚å¤´ä¸­æœ‰å¤šå°‘ä¸ªcookieï¼Ÿ</p><h3 id="ç­”æ¡ˆæ˜¯ï¼šæœ‰7ä¸ªï¼ˆæœ‰å¤šå°‘ä¸ªç­‰å·å°±æœ‰å¤šå°‘ä¸ªcookieï¼Œæ¯ä¸ªcookieç”¨-åˆ†éš”å¼€æ¥ï¼‰"><a href="#ç­”æ¡ˆæ˜¯ï¼šæœ‰7ä¸ªï¼ˆæœ‰å¤šå°‘ä¸ªç­‰å·å°±æœ‰å¤šå°‘ä¸ªcookieï¼Œæ¯ä¸ªcookieç”¨-åˆ†éš”å¼€æ¥ï¼‰" class="headerlink" title="ç­”æ¡ˆæ˜¯ï¼šæœ‰7ä¸ªï¼ˆæœ‰å¤šå°‘ä¸ªç­‰å·å°±æœ‰å¤šå°‘ä¸ªcookieï¼Œæ¯ä¸ªcookieç”¨ ; åˆ†éš”å¼€æ¥ï¼‰"></a>ç­”æ¡ˆæ˜¯ï¼šæœ‰7ä¸ªï¼ˆæœ‰å¤šå°‘ä¸ªç­‰å·å°±æœ‰å¤šå°‘ä¸ªcookieï¼Œæ¯ä¸ªcookieç”¨ ; åˆ†éš”å¼€æ¥ï¼‰</h3><p>è‡³å°‘æŒ‰ç…§Qtçš„æ–¹å¼æ˜¯è¿™æ ·ç†è§£çš„ï¼ˆç‹—å¤´ï¼‰</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¸€èˆ¬å«è¿™ç©æ„ä½œï¼š<strong>cookies</strong></p><p>è€Œæ¯ä¸€ä¸ªcookieæœ‰ä¸¤ä¸ªåŸºæœ¬å±æ€§ï¼Œç­‰å·ä¹‹å‰çš„å±æ€§åç§°ä¸ºâ€œnameâ€ï¼Œç­‰å·åé¢çš„å±æ€§ä¸ºâ€œvalueâ€ï¼›</p> <br><h3 id="ä»£ç å¦‚ä¸‹ï¼š"><a href="#ä»£ç å¦‚ä¸‹ï¼š" class="headerlink" title="ä»£ç å¦‚ä¸‹ï¼š"></a>ä»£ç å¦‚ä¸‹ï¼š</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QCoreApplication></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"TestNet.h"</span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QCoreApplication <span class="token function">a</span><span class="token punctuation">(</span>argc<span class="token punctuation">,</span> argv<span class="token punctuation">)</span><span class="token punctuation">;</span>    TestNet One<span class="token punctuation">;</span>    One<span class="token punctuation">.</span><span class="token function">GetWeb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> a<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//main.cpp</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QtNetwork></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QFile></span></span><span class="token keyword">class</span> <span class="token class-name">TestNet</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QObject</span></span><span class="token punctuation">&#123;</span>    Q_OBJECT<span class="token keyword">public</span><span class="token operator">:</span>    QNetworkAccessManager <span class="token operator">*</span>m_manager <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    QNetworkRequest <span class="token operator">*</span>m_request <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    QList<span class="token operator">&lt;</span>QNetworkCookie<span class="token operator">></span> Web_cookies<span class="token punctuation">;</span>  <span class="token comment">//è¿™ä¹ˆåšçš„æ„å›¾å¾ˆæ˜æ˜¾äº†å§ï¼ŒQNetworkCookieæ˜¯æ¯ä¸€ä¸ªcookieï¼ŒQListæ˜¯cookies</span>    <span class="token comment">//è®¿é—®ç½‘ç«™</span>    <span class="token keyword">void</span> <span class="token function">GetWeb</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token comment">//å»ºç«‹æ–°å¯¹è±¡</span>        m_manager <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QNetworkAccessManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        m_request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QNetworkRequest</span><span class="token punctuation">(</span><span class="token function">QUrl</span><span class="token punctuation">(</span><span class="token string">"https://gitee.com/"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è®¾ç½®SSLè¿æ¥</span>        QSslConfiguration config<span class="token punctuation">;</span>        QSslConfiguration conf <span class="token operator">=</span> m_request<span class="token operator">-></span><span class="token function">sslConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        conf<span class="token punctuation">.</span><span class="token function">setPeerVerifyMode</span><span class="token punctuation">(</span>QSslSocket<span class="token double-colon punctuation">::</span>VerifyNone<span class="token punctuation">)</span><span class="token punctuation">;</span>        conf<span class="token punctuation">.</span><span class="token function">setProtocol</span><span class="token punctuation">(</span>QSsl<span class="token double-colon punctuation">::</span>TlsV1SslV3<span class="token punctuation">)</span><span class="token punctuation">;</span>        m_request<span class="token operator">-></span><span class="token function">setSslConfiguration</span><span class="token punctuation">(</span>conf<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è®¾ç½®cookies</span>        Web_cookies<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">QNetworkCookie</span><span class="token punctuation">(</span><span class="token string">"Name"</span><span class="token punctuation">,</span><span class="token string">"Value"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        Web_cookies<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">QNetworkCookie</span><span class="token punctuation">(</span><span class="token string">"Test"</span><span class="token punctuation">,</span><span class="token string">"Net"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å‘è¯·æ±‚å¤´é‡ŒåŠ å…¥cookies</span>        QVariant var<span class="token punctuation">;</span>        var<span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span>Web_cookies<span class="token punctuation">)</span><span class="token punctuation">;</span>        m_request<span class="token operator">-></span><span class="token function">setHeader</span><span class="token punctuation">(</span>QNetworkRequest<span class="token double-colon punctuation">::</span>CookieHeader<span class="token punctuation">,</span>var<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è¿æ¥æ§½</span>        <span class="token class-name">QObject</span><span class="token double-colon punctuation">::</span><span class="token function">connect</span><span class="token punctuation">(</span>m_manager<span class="token punctuation">,</span><span class="token operator">&amp;</span>QNetworkAccessManager<span class="token double-colon punctuation">::</span>finished<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>TestNet<span class="token double-colon punctuation">::</span>GetWebFinished<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å‘é€Getè¯·æ±‚</span>        m_manager<span class="token operator">-></span><span class="token function">get</span><span class="token punctuation">(</span><span class="token operator">*</span>m_request<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//è®¿é—®ååšçš„æ“ä½œ</span>    <span class="token keyword">void</span> <span class="token function">GetWebFinished</span><span class="token punctuation">(</span>QNetworkReply <span class="token operator">*</span>reply<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token comment">//NULL</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">//TestNet.h</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><p>ç„¶åå‘¢ï¼Œå‘é€çš„Httpè¯·æ±‚å¤´å¦‚ä¸‹ï¼š</p><br><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">GET https<span class="token operator">:</span><span class="token comment">//gitee.com/ HTTP/1.1</span>Host<span class="token operator">:</span> gitee<span class="token punctuation">.</span>comCookie<span class="token operator">:</span> Name<span class="token operator">=</span>Value<span class="token punctuation">;</span> Test<span class="token operator">=</span>NetConnection<span class="token operator">:</span> Keep<span class="token operator">-</span>AliveAccept<span class="token operator">-</span>Encoding<span class="token operator">:</span> gzip<span class="token punctuation">,</span> deflateAccept<span class="token operator">-</span>Language<span class="token operator">:</span> zh<span class="token operator">-</span>CN<span class="token punctuation">,</span>en<span class="token punctuation">,</span><span class="token operator">*</span>User<span class="token operator">-</span>Agent<span class="token operator">:</span> Mozilla<span class="token operator">/</span><span class="token number">5.0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><p><strong>æœ‰ä»€ä¹ˆé—®é¢˜å°±ä¸è¦ç•™è¨€äº†ï¼Œä¸æ˜¯æˆ‘æ— æƒ…ï¼Œè€Œæ˜¯æˆ‘æ˜¯â€œå…¨å®¿åˆ¶â€å­¦ç”Ÿå…šï¼Œæˆ‘ä¹Ÿå¾ˆæ— å¥ˆã€‚</strong></p><br><h3 id="å‚è€ƒï¼š"><a href="#å‚è€ƒï¼š" class="headerlink" title="å‚è€ƒï¼š"></a>å‚è€ƒï¼š</h3><p>è½¬è½½åŸæ–‡ï¼š<a href="https://www.cnblogs.com/BlogPuppet/p/12805597.html">Qtç½‘ç»œç¼–ç¨‹ä¹‹ä½¿ç”¨cookie</a> </p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>PicGoåœ¨uos&amp;&amp;deepinç³»ç»Ÿè¿è¡Œå¤±è´¥ï¼šchrome-sandbox is owned by root and has mode 4755</title>
      <link href="/posts/b6a7912e/"/>
      <url>/posts/b6a7912e/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€åœ¨ <code>uos / deepin v20</code> ç³»ç»Ÿä¸­ï¼Œä½¿ç”¨ <code>picGo</code> å›¾åºŠä¸Šä¼ å·¥å…·ï¼Œç›´æ¥è¿è¡Œä¼šå¤±è´¥ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">â˜  softIns  ./PicGo-2.3.0-beta.0.AppImage                  <span class="token punctuation">[</span><span class="token number">4722</span>:0527/095648.836952:FATAL:setuid_sandbox_host.cc<span class="token punctuation">(</span><span class="token number">157</span><span class="token punctuation">)</span><span class="token punctuation">]</span> The SUID sandbox helper binary wasfound, but is not configured correctly. Rather than run without sandboxing I'm aborting now. Youneed to <span class="token function">make</span> sure that /tmp/.mount_PicGo-GVLhJS/chrome-sandbox is owned by root and has mode <span class="token number">4755</span>.<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>    <span class="token number">4722</span> trace <span class="token builtin class-name">trap</span>  ./PicGo-2.3.0-beta.0.AppImage<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š"></a>ç¼–ç¨‹ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>uos20 amd64</code> ğŸ“ <code>Qt 5.11.3</code> ğŸ“ <code>gcc/g++ 9.0</code> ğŸ“ <code>gdb8.0</code> </p><br><h3 id="æŠ¥é”™å¦‚ä¸‹ï¼š"><a href="#æŠ¥é”™å¦‚ä¸‹ï¼š" class="headerlink" title="æŠ¥é”™å¦‚ä¸‹ï¼š"></a>æŠ¥é”™å¦‚ä¸‹ï¼š</h3>   <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200527_102212.png" width="90%"/ loading="lazy"><br><h3 id="è§£å†³æ–¹æ¡ˆï¼š"><a href="#è§£å†³æ–¹æ¡ˆï¼š" class="headerlink" title="è§£å†³æ–¹æ¡ˆï¼š"></a>è§£å†³æ–¹æ¡ˆï¼š</h3><p>ä»Šå¤©åœ¨è°·æ­Œä¸Šæ‰¾åˆ°é—®é¢˜äº†ï¼Œè¿™æ˜¯Linuxå†…æ ¸çš„é—®é¢˜ï¼Œè§£å†³æ–¹æ³•å››ç§ï¼Œæ¨èç¬¬å››ç§ï¼Œä¸€åŠ³æ°¸é€¸</p><ol><li>å¯ç”¨ç”¨æˆ·åç§°ç©ºé—´ï¼š <code>sudo sysctl kernel.unprivileged_userns_clone=1</code>ï¼Œä½†æ¯æ¬¡å¼€æœºéƒ½è¦è¿è¡Œè¯¥å‘½ä»¤ã€‚</li><li>ç»™æŠ¥é”™ä¿¡æ¯ç»™å‡ºçš„æ–‡ä»¶æˆæƒï¼š<code>sudo chown root /chrome-sandbox &amp;&amp; sudo chmod 4755 /chrome-sandbox</code>ï¼Œä½†ä¸é€‚ç”¨äºpicgoï¼Œå› ä¸ºä¼šè‡ªåŠ¨åˆ é™¤ã€‚</li><li>è¿è¡Œçš„æ—¶å€™åŠ ä¸Šå…æ²™ç®±å‘½ä»¤ï¼š<code>--no-sandbox</code></li><li>å¼€æœºæ—¶è‡ªå¯åŠ¨ç”¨æˆ·åç§°ç©ºé—´ï¼š<code>echo &#39;kernel.unprivileged_userns_clone=1&#39; &gt; /etc/sysctl.d/userns.conf</code></li></ol><p>åªé€‚ç”¨äºDebian&#x2F;Ubuntuç³»åˆ—Linuxå‘è¡Œç‰ˆã€‚</p><br><h3 id="å‚è€ƒï¼š"><a href="#å‚è€ƒï¼š" class="headerlink" title="å‚è€ƒï¼š"></a>å‚è€ƒï¼š</h3><ul><li><a href="https://github.com/Molunerfinn/PicGo/issues/467"># 467</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸Šé¢ä½¿ç”¨lintianæ£€æµ‹debåŒ…æŠ¥é”™çš„è§£å†³æ–¹æ¡ˆ</title>
      <link href="/posts/231e1b44/"/>
      <url>/posts/231e1b44/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€ä½¿ç”¨<code>Linux</code>ï¼ˆ<code>uos v20</code> ç³»ç»Ÿï¼‰ï¼Œå®‰è£… äº†ï¼›<code>lintian</code> å‘½ä»¤ä¹‹åï¼Œæ‰§è¡Œ <code>lintian xxx.deb</code> å‘ç°æŠ¥é”™å¦‚ä¸‹ï¼›è€ŒæœªæŒ‰ç…§é¢„æœŸæ­£ç¡®è¾“å‡ºç»“æœåº”è¯¥æ˜¯å¸¦ä¸Š <code>E / W / I /N / O</code>   ç­‰æ˜æ˜¾çš„æ ‡è®°ã€‚</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/image-20200526141442460.png" width="90%"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š"></a>ç¼–ç¨‹ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>uos20</code> ğŸ“ <code>gcc/g++ 8.3</code> ğŸ“ <code>gdb8.0</code> </p><br><h3 id="lintianï¼š"><a href="#lintianï¼š" class="headerlink" title="lintianï¼š"></a>lintianï¼š</h3><p>äº‹æƒ…çš„èµ·å› äº <a href="https://github.com/linuxdeepin/dtkgui/issues/5">#5</a>ï¼Œåé¢å»äº†è§£äº†ä¸€ä¸‹æƒ³å…³çŸ¥è¯†ï¼›</p><p><code>lintian</code> è¿™æ˜¯ä¸€ä¸ª <code>Debian</code> ä¸Šé¢çš„åŒ…è´¨é‡çš„æ£€æµ‹å·¥å…·ã€‚å¯¹äºè¦ä¸Šä¼ åˆ°  <code>Debian</code>  ä»“åº“çš„ <code>.deb</code> åŒ…éƒ½æ˜¯æœ‰ç€ä¸¥æ ¼çš„æ–‡ä»¶å¤¹è§„èŒƒçš„ï¼Œå¦åˆ™ä¸è¢«å…è®¸ä¸Šä¼ ï¼›</p><br><p><strong><a href="https://www.debian.org/doc/manuals/maint-guide/checkit.zh-cn.html">å®˜æ–¹è§£é‡Šï¼š</a></strong></p><p><strong>lintian</strong> å‘½ä»¤ä¼šè¿è¡Œå¾ˆå¤šæµ‹è¯•è„šæœ¬æ¥æ£€æŸ¥å¸¸è§çš„æ‰“åŒ…é”™è¯¯ã€‚<strong>lintian</strong> å‘½ä»¤çš„è¾“å‡ºå¸¸å¸¦æœ‰ä»¥ä¸‹å‡ ç§æ ‡è®°ï¼š</p><ul><li><code>E:</code> ä»£è¡¨é”™è¯¯ï¼šç¡®å®šè¿åäº† <code>Debian Policy</code> æˆ–æ˜¯ä¸€ä¸ªè‚¯å®šçš„æ‰“åŒ…é”™è¯¯ã€‚</li><li><code>W:</code> ä»£è¡¨è­¦å‘Šï¼šå¯èƒ½è¿åäº† <code>Debian Policy</code> æˆ–æ˜¯ä¸€ä¸ªå¯èƒ½çš„æ‰“åŒ…é”™è¯¯ã€‚</li><li><code>I:</code> ä»£è¡¨ä¿¡æ¯ï¼šå¯¹äºç‰¹å®šæ‰“åŒ…ç±»åˆ«çš„ä¿¡æ¯ã€‚</li><li><code>N:</code> ä»£è¡¨æ³¨é‡Šï¼šå¸®åŠ©ä½ è°ƒè¯•çš„è¯¦ç»†ä¿¡æ¯ã€‚</li><li><code>O:</code> ä»£è¡¨å·²è¦†ç›–ï¼šä¸€ä¸ªè¢« <code>lintian-overrides</code> æ–‡ä»¶è¦†ç›–çš„ä¿¡æ¯ï¼Œä½†ç”±äºä½¿ç”¨ <code>--show-overrides</code> é€‰é¡¹è€Œæ˜¾ç¤ºã€‚</li></ul><p>å¯¹äºè­¦å‘Šï¼Œä½ åº”è¯¥æ”¹è¿›è½¯ä»¶åŒ…æˆ–è€…æ£€æŸ¥è­¦å‘Šæ˜¯å¦çš„ç¡®æ— æ„ä¹‰ã€‚å¦‚æœç¡®å®šæ²¡æœ‰æ„ä¹‰ï¼Œåˆ™æŒ‰ç…§ <a href="https://www.debian.org/doc/manuals/maint-guide/dother.zh-cn.html#lintian">ç¬¬ 5.14 èŠ‚ â€œ<code>&#123;*</code>package<code>*.,source/&#125;lintian-overrides</code>â€</a> ä¸­çš„å™è¿°ä½¿ç”¨ <code>lintian-overrides</code> æ–‡ä»¶å°†å…¶è¦†ç›–ã€‚</p><p>æ³¨æ„ï¼Œä½ å¯ä»¥ç”¨ <strong>dpkg-buildpackage</strong> æ¥æ„å»ºè½¯ä»¶åŒ…ï¼Œå¹¶æ‰§è¡Œ <strong>lintian</strong>ï¼Œåªè¦ä½ ä½¿ç”¨äº† debuild(1) æˆ– pdebuild(1).</p><br><h3 id="å®‰è£…-amp-ä½¿ç”¨lintianæŠ¥é”™ï¼š"><a href="#å®‰è£…-amp-ä½¿ç”¨lintianæŠ¥é”™ï¼š" class="headerlink" title="å®‰è£…&amp;ä½¿ç”¨lintianæŠ¥é”™ï¼š"></a>å®‰è£…&amp;ä½¿ç”¨lintianæŠ¥é”™ï¼š</h3><p>æˆ‘åœ¨ <code>uos v20</code> ç‰ˆæœ¬ï¼Œä¸‹è½½å’Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤åï¼Œå®é™…å‘ç°æ˜¯æ— æ³•ä½¿ç”¨çš„</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ä¸‹è½½å¾—åˆ° dde-control-center_5.1.0101.1+r0+g98e285d4e_amd64.deb æ–‡ä»¶</span>â˜  softFile  <span class="token function">sudo</span> <span class="token function">apt</span> download dde-control-center  <span class="token comment"># å®‰è£… lintian ï¼Œå’Œä½¿ç”¨å®ƒæ£€æµ‹ deb åŒ…</span>â˜  softFile  <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> lintianâ˜  softFile  lintian dde-control-center_5.1.0101.1+r0+g98e285d4e_amd64.deb <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œä¹‹åï¼Œwtfï¼ï¼ï¼ æ˜¾ç¤ºæŠ¥é”™ï¼Ÿ </p><pre class="line-numbers language-none"><code class="language-none">Could not find a profile matching &quot;&#123;VENDOR&#125;&#x2F;main&quot; for vendor deepin at &#x2F;usr&#x2F;share&#x2F;perl5&#x2F;Lintian&#x2F;Profile.pm line 702.Lintian::Profile::_find_vendor_profile(Lintian::Profile&#x3D;HASH(0x556a2ba4e6c0)) called at &#x2F;usr&#x2F;share&#x2F;perl5&#x2F;Lintian&#x2F;Profile.pm line 136Lintian::Profile::new(&quot;Lintian::Profile&quot;, undef, ARRAY(0x556a2a1887c0), HASH(0x556a2a354ed0)) called at &#x2F;usr&#x2F;bin&#x2F;lintian line 215dplint::load_profile(undef) called at &#x2F;usr&#x2F;share&#x2F;lintian&#x2F;commands&#x2F;lintian.pm line 1446main::load_profile_and_configure_tags() called at &#x2F;usr&#x2F;share&#x2F;lintian&#x2F;commands&#x2F;lintian.pm line 657main::main() called at &#x2F;usr&#x2F;bin&#x2F;lintian line 46eval &#123;...&#125; called at &#x2F;usr&#x2F;bin&#x2F;lintian line 46main::__ANON__(&quot;&#x2F;usr&#x2F;share&#x2F;lintian&#x2F;commands&#x2F;lintian.pm&quot;) called at &#x2F;usr&#x2F;bin&#x2F;lintian line 114dplint::run_tool(&quot;&#x2F;usr&#x2F;bin&#x2F;lintian&quot;, &quot;lintian&quot;) called at &#x2F;usr&#x2F;bin&#x2F;lintian line 290dplint::main() called at &#x2F;usr&#x2F;bin&#x2F;lintian line 359<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸€é¡¿èƒ¡ä¹±åˆ†æï¼Œè¿™å¾ˆæ˜æ˜¾æ˜¯ <code>lintian</code> è¿™ä¸ªå‘½ä»¤æœ‰ç‚¹é—®é¢˜ã€‚</p><br><h3 id="è§£å†³æ–¹æ¡ˆï¼š"><a href="#è§£å†³æ–¹æ¡ˆï¼š" class="headerlink" title="è§£å†³æ–¹æ¡ˆï¼š"></a>è§£å†³æ–¹æ¡ˆï¼š</h3><h4 id="åŸå› ï¼š"><a href="#åŸå› ï¼š" class="headerlink" title="åŸå› ï¼š"></a>åŸå› ï¼š</h4><p><code>/etc/dpkg/origins</code> æ˜¯è¿™ä¸ªé‡Œé¢<code>default</code> æŒ‡å‘äº†<code>deepin</code> æ‰€ä»¥<code>dpkg</code> è®¤ä¸ºå½“å‰æ˜¯<code>deepin</code>ç¯å¢ƒï¼Œéƒ½æ¢æˆ<code>uos</code> å°±å¯ä»¥ï¼›æ„æ€å°±æ˜¯ <code>lintian</code> éœ€è¦é€šè¿‡åˆ¤æ–­å½“å‰ç³»ç»Ÿç¯å¢ƒ æ ¹æ®<code>debian/ubuntu/kail</code> ç­‰ç¯å¢ƒåšæ£€æµ‹ï¼Œæˆ‘ä»¬ fork ä¸€ä»½ debian é…ç½®æ£€æµ‹ã€‚</p><br><h4 id="è§£å†³æ–¹æ³•ï¼š"><a href="#è§£å†³æ–¹æ³•ï¼š" class="headerlink" title="è§£å†³æ–¹æ³•ï¼š"></a>è§£å†³æ–¹æ³•ï¼š</h4><ol><li>è¿›å…¥ <code>/etc/dpkg/origins</code> é‡Œé¢ï¼Œä¿®æ”¹ <code>default</code> çš„è½¯é“¾æ¥ é‡æ–°æŒ‡å‘ <code>uos</code>ï¼›</li><li>å¤åˆ¶ä¸€ä»½<code>debian</code> é…ç½®æ£€æµ‹ï¼Œæ”¹åä¸º <code>uos</code>ï¼›</li><li>æ­£å¸¸ä½¿ç”¨ <code>lintian</code> å‘½ä»¤ï¼›</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ²¡æœ‰ä¿®æ”¹ä¹‹å‰çš„æ¥ä¸¤ä¸ªè·¯å¾„æ–‡ä»¶å¤¹å†…å®¹</span>xmuli@xmuli-PC:/etc/dpkg/origins$ <span class="token function">ls</span> <span class="token parameter variable">-al</span>æ€»ç”¨é‡ <span class="token number">20</span>drwxr-xr-x <span class="token number">2</span> root root <span class="token number">4096</span> <span class="token number">5</span>æœˆ  <span class="token number">20</span> <span class="token number">13</span>:40 <span class="token builtin class-name">.</span>drwxr-xr-x <span class="token number">4</span> root root <span class="token number">4096</span> <span class="token number">5</span>æœˆ  <span class="token number">20</span> 09:17 <span class="token punctuation">..</span>-rw-r--r-- <span class="token number">1</span> root root   <span class="token number">82</span> <span class="token number">5</span>æœˆ  <span class="token number">20</span> 09:17 debian-rw-r--r-- <span class="token number">1</span> root root   <span class="token number">87</span> <span class="token number">4</span>æœˆ  <span class="token number">29</span> <span class="token number">16</span>:41 deepinlrwxrwxrwx <span class="token number">1</span> root root    <span class="token number">6</span> <span class="token number">5</span>æœˆ  <span class="token number">20</span> 09:17 default -<span class="token operator">></span> deepin-rw-r--r-- <span class="token number">1</span> root root   <span class="token number">84</span> <span class="token number">4</span>æœˆ  <span class="token number">29</span> <span class="token number">16</span>:41 uosxmuli@xmuli-PC:/usr/share/lintian/profiles$ <span class="token function">ls</span> <span class="token parameter variable">-al</span>æ€»ç”¨é‡ <span class="token number">28</span>drwxr-xr-x  <span class="token number">7</span> root root <span class="token number">4096</span> <span class="token number">5</span>æœˆ  <span class="token number">26</span> <span class="token number">12</span>:14 <span class="token builtin class-name">.</span>drwxr-xr-x <span class="token number">11</span> root root <span class="token number">4096</span> <span class="token number">5</span>æœˆ  <span class="token number">26</span> <span class="token number">12</span>:14 <span class="token punctuation">..</span>drwxr-xr-x  <span class="token number">2</span> root root <span class="token number">4096</span> <span class="token number">5</span>æœˆ  <span class="token number">26</span> <span class="token number">12</span>:14 debiandrwxr-xr-x  <span class="token number">2</span> root root <span class="token number">4096</span> <span class="token number">5</span>æœˆ  <span class="token number">20</span> 09:19 dpkgdrwxr-xr-x  <span class="token number">2</span> root root <span class="token number">4096</span> <span class="token number">5</span>æœˆ  <span class="token number">26</span> <span class="token number">12</span>:14 kalidrwxr-xr-x  <span class="token number">2</span> root root <span class="token number">4096</span> <span class="token number">5</span>æœˆ  <span class="token number">26</span> <span class="token number">12</span>:14 pureosdrwxr-xr-x  <span class="token number">2</span> root root <span class="token number">4096</span> <span class="token number">5</span>æœˆ  <span class="token number">26</span> <span class="token number">12</span>:14 ubuntu<span class="token comment"># ä¿®æ”¹è½¯é“¾æ¥</span><span class="token builtin class-name">cd</span> /etc/dpkg/origins<span class="token function">sudo</span> <span class="token function">ln</span> <span class="token parameter variable">-snf</span> uos default <span class="token comment"># æˆ– sudo ln -snf /etc/dpkg/origins/uos default</span><span class="token comment"># å¤åˆ¶ä¸€ä»½æ–‡ä»¶é…ç½®ä¸”æ”¹å</span><span class="token builtin class-name">cd</span> /usr/share/lintian/profiles<span class="token function">sudo</span> <span class="token function">cp</span> debian ./uos <span class="token parameter variable">-r</span> <span class="token comment"># æ‹·è´ debian çš„é…ç½®ï¼Œå‘½ä»¤ä¸º uos</span><span class="token comment"># ä¿®æ”¹å®Œæˆä¹‹å</span>xmuli@xmuli-PC:/etc/dpkg/origins$ <span class="token function">ls</span> <span class="token parameter variable">-al</span>æ€»ç”¨é‡ <span class="token number">20</span>drwxr-xr-x <span class="token number">2</span> root root <span class="token number">4096</span> <span class="token number">5</span>æœˆ  <span class="token number">26</span> <span class="token number">12</span>:06 <span class="token builtin class-name">.</span>drwxr-xr-x <span class="token number">4</span> root root <span class="token number">4096</span> <span class="token number">5</span>æœˆ  <span class="token number">25</span> <span class="token number">20</span>:19 <span class="token punctuation">..</span>-rw-r--r-- <span class="token number">1</span> root root   <span class="token number">82</span> <span class="token number">5</span>æœˆ  <span class="token number">25</span> <span class="token number">20</span>:19 debian-rw-r--r-- <span class="token number">1</span> root root   <span class="token number">87</span> <span class="token number">4</span>æœˆ  <span class="token number">29</span> <span class="token number">16</span>:41 deepinlrwxrwxrwx <span class="token number">1</span> root root    <span class="token number">3</span> <span class="token number">5</span>æœˆ  <span class="token number">26</span> <span class="token number">12</span>:06 default -<span class="token operator">></span> uos-rw-r--r-- <span class="token number">1</span> root root   <span class="token number">84</span> <span class="token number">4</span>æœˆ  <span class="token number">29</span> <span class="token number">16</span>:41 uosxmuli@xmuli-PC:/usr/share/lintian/profiles$ <span class="token function">ls</span> <span class="token parameter variable">-al</span>æ€»ç”¨é‡ <span class="token number">32</span>drwxr-xr-x  <span class="token number">8</span> root root <span class="token number">4096</span> <span class="token number">5</span>æœˆ  <span class="token number">26</span> <span class="token number">12</span>:07 <span class="token builtin class-name">.</span>drwxr-xr-x <span class="token number">11</span> root root <span class="token number">4096</span> <span class="token number">5</span>æœˆ  <span class="token number">26</span> <span class="token number">11</span>:05 <span class="token punctuation">..</span>drwxr-xr-x  <span class="token number">2</span> root root <span class="token number">4096</span> <span class="token number">5</span>æœˆ  <span class="token number">26</span> <span class="token number">11</span>:05 debiandrwxr-xr-x  <span class="token number">2</span> root root <span class="token number">4096</span> <span class="token number">5</span>æœˆ  <span class="token number">25</span> <span class="token number">20</span>:21 dpkgdrwxr-xr-x  <span class="token number">2</span> root root <span class="token number">4096</span> <span class="token number">5</span>æœˆ  <span class="token number">26</span> <span class="token number">11</span>:05 kalidrwxr-xr-x  <span class="token number">2</span> root root <span class="token number">4096</span> <span class="token number">5</span>æœˆ  <span class="token number">26</span> <span class="token number">11</span>:05 pureosdrwxr-xr-x  <span class="token number">2</span> root root <span class="token number">4096</span> <span class="token number">5</span>æœˆ  <span class="token number">26</span> <span class="token number">11</span>:05 ubuntudrwxr-xr-x  <span class="token number">2</span> root root <span class="token number">4096</span> <span class="token number">5</span>æœˆ  <span class="token number">26</span> <span class="token number">12</span>:07 uos<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><p>é‡æ–°è¿è¡Œä¸€å¼€å§‹çš„å‘½ä»¤ï¼Œå¯ä»¥çœ‹åˆ°é¢„æœŸçš„æ•ˆæœï¼š </p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/image-20200526141346928.png" width="90%"/ loading="lazy"> <br><h3 id="æ‰€æœ‰-lintian-çš„è§£å†³æ–¹æ¡ˆï¼š"><a href="#æ‰€æœ‰-lintian-çš„è§£å†³æ–¹æ¡ˆï¼š" class="headerlink" title="æ‰€æœ‰ lintian çš„è§£å†³æ–¹æ¡ˆï¼š"></a>æ‰€æœ‰ lintian çš„è§£å†³æ–¹æ¡ˆï¼š</h3><p>å¯¹äºå¼€å¯ lintian æ£€æŸ¥ï¼Œå…¶æŠ¥é”™çš„é—®é¢˜å¯ä»¥åœ¨è¿™é‡ŒæŸ¥åˆ°æ‰€æœ‰çš„æŠ¥é”™ä¿¡æ¯ï¼š<a href="https://lintian.debian.org/tags/">https://lintian.debian.org/tags/</a>  æ ¹æ®å®˜æ–¹çš„æè¿°ä¿®æ”¹å³å¯</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Deepinã€DDE çš„å†å²èµ·æºä¸å‘å±•(é™„ Deepin æ‰€æœ‰ç‰ˆæœ¬çš„ddeæˆªå›¾)</title>
      <link href="/posts/41a6b35e/"/>
      <url>/posts/41a6b35e/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€åœ¨ <a href="https://xmuli.blog.csdn.net/article/details/106189533">å¦ä¸€ç¯‡</a>ä¸­ï¼Œè¯¦ç»†è®²è¿°äº†å†™äº† <code>dtk</code> çš„å†å²èµ·æºã€å‘å±•å’Œç®€å•å…¥é—¨ï¼›è€Œæœ¬ç¯‡åˆ™æ˜¯ç®€è¿°ä¸ä¹‹ç´§å¯†ç›¸å…³çš„ deepinï¼Œ ddeï¼Œteam ç›¸å…³ï¼›<strong>æœ¬ç¯‡é‡ç‚¹åœ¨ <code>dde</code> çš„å¤šå¹´ä»¥æ¥çš„ <code>UI</code> å˜åŒ–ï¼›é‡æ–°æ¬£èµä¸€é <code>deepin</code> ä»¥å‰åˆ°ç°åœ¨çš„ç•Œé¢æ¼”å˜è¿‡ç¨‹ã€‚ï¼ˆ2009-2015-&gt;2020ï¼‰</strong></p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200518142854.png" width="90%"/ loading="lazy"><p>(æœ¬å›¾ç‰‡ç´ ææ¥è‡ª <a href="https://github.com/shule1987">shule</a>)</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="å‰æ’è¯´æ˜ï¼š"><a href="#å‰æ’è¯´æ˜ï¼š" class="headerlink" title="å‰æ’è¯´æ˜ï¼š"></a>å‰æ’è¯´æ˜ï¼š</h3><p>å› æœ‰äº›åœ°æ–¹çŸ¥é“çš„ä¹Ÿä¸æ˜¯è¯¦ç»†ï¼Œéš¾ä»¥ä¿è¯ç»†èŠ‚åœ°æ–¹æœ‰æ‰€åå·®ï¼Œæ‰€æœ‰æœ‰ä¸€ä¸ªå°çš„å£°æ˜ï¼›ä¹Ÿæ˜¯åŸºäºä¸ªäººå¯¹äº dtk ã€deepinã€develop team çš„ä¸€ä¸ªå›¢é˜Ÿçš„äº†è§£ï¼›<strong>æ–‡ç« å›¾ç‰‡ç´ æå¤§éƒ¨åˆ†æ¥è‡ª shule è€å¸ˆï¼Œå°‘éƒ¨åˆ†æ¥è‡ªç½‘ç»œå’Œè‡ªå·±æˆªå›¾ï¼›</strong> æ•…ä¼šåœ¨å›¾ç‰‡ä¸‹æ–¹é™„åŠ ç´ ææ¥æºï¼Œæ¯•ç«Ÿç™½å«–äº† shule è€å¸ˆé‚£ä¹ˆå¤šå¥½çœ‹çš„ç´ æå°±è·‘ï¼Œä¸ºäº†æ™šä¸Šèƒ½å¤Ÿç¡çš„ç€è§‰ï¼Œæ•…æœ‰å¿…è¦æ¯å¼ å›¾æ ‡æ³¨ä¸€ä¸‹å›¾ç‰‡æ¥æºï¼ˆä¸ç„¶ä¸‹æ¬¡æˆ‘å°±ä¸å¥½æ„æ€äº†~ï¼‰</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/IMG_1166.JPG" width="35%"/ loading="lazy"><br><p><font color=#FF0000  size=4 face="å¹¼åœ†"><strong>è‹¥æ˜¯å›¾ç‰‡æœªåŠ è¯´æ˜ï¼Œå›¾ç‰‡ç´ æå‡æ¥è‡ª <a href="https://github.com/shule1987">shule</a>ï¼Œå…¶å›¾ç‰‡çš„ç‰ˆæƒä¹Ÿå½’å…¶æ‰€æœ‰ã€‚</strong></font></p><p><strong>&amp;&amp;</strong></p><p><font color=#FF0000 size=4 face="å¹¼åœ†"><strong>ã€Œæœ¬æ–‡ä»…ä»£è¡¨ä¸ªäººè§‚ç‚¹å’Œæ„ŸçŸ¥ï¼Œè‹¥æœ‰åå·®ï¼Œè¯·ä»¥å®˜æ–¹æ–‡ç« ä¸ºå‡†ï¼Œä¹Ÿæ¬¢è¿é‚®ä»¶ <a href="mailto:&#x78;&#109;&#117;&#108;&#105;&#x74;&#x65;&#x63;&#104;&#64;&#x67;&#97;&#109;&#105;&#x6c;&#46;&#x63;&#111;&#x6d;">&#x78;&#109;&#117;&#108;&#105;&#x74;&#x65;&#x63;&#104;&#64;&#x67;&#97;&#109;&#105;&#x6c;&#46;&#x63;&#111;&#x6d;</a> å¸®æˆ‘æŒ‡æ­£ã€ï¼›</strong></font> </p><br><h3 id="æ‹é¡ºåè¯ï¼š"><a href="#æ‹é¡ºåè¯ï¼š" class="headerlink" title="æ‹é¡ºåè¯ï¼š"></a>æ‹é¡ºåè¯ï¼š</h3><h4 id="deepin"><a href="#deepin" class="headerlink" title="deepin:"></a>deepin:</h4><p>deepin é€šå¸¸æ˜¯æŒ‡ <font color=#D0087E size=4 face="å¹¼åœ†"><code>deepin</code> æ“ä½œç³»ç»Ÿ</font>ï¼ˆåŸºäº debian ç³»ç»Ÿï¼‰ï¼Œä¸€ä¸ªå›½é™…æ’åé•¿æœŸç¨³å®šäºå‰ 10 åçš„ä¸€ä¸ª Linux çš„å‘è¡Œç‰ˆã€‚åŒæ—¶ä¹Ÿæ˜¯è¯¥ç ”å‘å…¬å¸ï¼ˆæ­¦æ±‰æ·±ä¹‹åº¦ç§‘æŠ€æœ‰é™å…¬å¸ï¼‰çš„ logoã€‚</p><p>å‰è¾ˆä»¬è¯´ï¼ˆè¿·äººä¸€æèŠ±çš„å¤§å”ï¼‰ï¼Œdeepin çš„å‘å±•å†ç¨‹ä¸€ç›´æ—©æœŸæ˜¯ç£•ç£•æ‹Œæ‹Œçš„ï¼Œèºæ—‹ä¸€æ ·æ¥å›æ¢ç´¢å‡ºè·¯ï¼Œç„¶ååœ¨ 14 å¹´æ‰æœ‰è´¨çš„å˜åŒ–ï¼Œåœ¨ 15 å¹´ä¹‹åï¼Œæ‰çœŸæ­£çš„ä¸€é£å†²å¤©ï¼›ç”šè‡³è¿˜åœ¨è‡ªå·±ç»˜ç”»äº†ä¸€å¼ å¾ˆå¯çˆ±çš„å°è¡¨æƒ…å›¾æ¥è¡¨ç¤ºè¿™äº›å¹´æ¥çš„å†ç¨‹ï¼Œæˆ‘åœ¨äº†è§£ä¸€ä¸‹åï¼ŒæŸ‘æ©˜è¿™å¼ å›¾è¿˜çœŸçš„æ˜¯å¾ˆè›®ç¬¦åˆçš„ï¼š</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200518144027.png" width="90%"/ loading="lazy"><p>(æœ¬å›¾ç‰‡ç´ ææ¥è‡ª <a href="https://github.com/shule1987">shule</a>)</p><br><h4 id="dde"><a href="#dde" class="headerlink" title="dde:"></a>dde:</h4><p>ddeï¼ˆ<code>deepin desktop environment</code>ï¼‰ ç®€ç§°  <font color=#D0087E size=4 face="å¹¼åœ†"><strong>æ·±åº¦æ¡Œé¢ç¯å¢ƒ</strong></font>ï¼›æ˜¯é‡‡ç”¨ <code>qt</code> ä½œä¸ºå‰ç«¯ï¼Œ<code>go</code> ä¸ºåç«¯ï¼Œ<code>gala</code> ä½œä¸º <code>wm</code>ï¼Œ<code>lightdm</code> ä½œä¸º <code>dm</code> çš„ç‹¬ç«‹å¼€å‘çš„æ¡Œé¢ç¯å¢ƒã€‚</p><br><h4 id="dtkï¼š"><a href="#dtkï¼š" class="headerlink" title="dtkï¼š"></a>dtkï¼š</h4><p>dtkï¼ˆ<code>deepin tool kit</code>ï¼‰ä¸­æ–‡åç§° <font color=#D0087E size=4 face="å¹¼åœ†"><strong>æ·±åº¦å·¥å…·å¥—ä»¶</strong></font>ï¼›æ˜¯åŸºäº <code>Qt5</code> å¼€å‘ä¸€æ•´å¥—ç•Œé¢ç¾è§‚ä¸”å®ç”¨çš„ <code>UI</code> å›¾å½¢åº“ã€‚æ˜¯å¤šä¸ªé¡¹ç›®ä»“åº“çš„é›†åˆï¼ˆdtkweidget + dtkgui + qt5integration + dtkcore + â€¦ï¼‰</p><p>dtk å„ä¸ªé¡¹ç›®ä¹‹é—´è”ç³»ã€‚è¯¦ç»†ä»‹ç»å’Œå¿«é€Ÿå…¥é—¨ dtk è§<a href="https://docsin.uniontech.com/?p=6268">è¿™ç¯‡æ–‡ç« </a>ï¼›æ–‡æœ«é™„è¾ƒå¤š dtk èµ„æ–™é“¾æ¥ã€‚<img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200518133859.png" width="100%"/ loading="lazy"><br>(æœ¬å›¾ç‰‡ç´ ææ¥è‡ª <a href="https://github.com/BLumia">BLumia</a>)</p><br><h3 id="deepin-å‘å±•å†å²ï¼š"><a href="#deepin-å‘å±•å†å²ï¼š" class="headerlink" title="deepin å‘å±•å†å²ï¼š"></a>deepin å‘å±•å†å²ï¼š</h3><ul><li>2004å¹´ï¼Œå…¶å‰èº« Hiweed Linux æ˜¯ä¸­å›½ç¬¬ä¸€ä¸ªåŸºäº Debian çš„æœ¬åœ°åŒ–ç‰ˆæœ¬ï¼ŒåŒæ—¶ç»„å»ºç¤¾åŒºç ”å‘å›¢é˜Ÿã€‚</li><li>2008å¹´ï¼Œæ­£å¼æ›´åä¸ºLinux Deepinï¼Œå‘å¸ƒäº†æ·±åº¦æ“ä½œç³»ç»Ÿç¬¬ä¸€ä¸ªç‰ˆæœ¬ã€‚</li><li>2011å¹´ï¼Œæˆç«‹äº†æ­¦æ±‰æ·±ä¹‹åº¦ç§‘æŠ€æœ‰é™å…¬å¸ï¼ˆç®€ç§°ï¼šæ·±åº¦ç§‘æŠ€ï¼‰ï¼Œå¹¶ç»„å»ºäº†ä¸“èŒç ”å‘å›¢é˜Ÿå¯¹å…¶è¿›è¡Œæ”¯æŒã€‚</li><li>2012å¹´ï¼Œdeepinè¿›å…¥å…¨çƒå‘è¡Œç‰ˆæ’è¡Œæ¦œå‰100åï¼Œè·å¾—ã€Šç¬¬ä¸ƒå±Šä¸­æ—¥éŸ©å¼€æºè½¯ä»¶ç«èµ›ä¼˜èƒœå¥–ã€‹ã€‚</li><li>2013å¹´ï¼Œdeepinè¿›å…¥å…¨çƒå‘è¡Œç‰ˆæ’è¡Œæ¦œå‰50åï¼Œå¯¹å¤–æä¾›å•†ä¸šæœåŠ¡ã€‚</li><li>2014å¹´ï¼Œå†æ¬¡æ›´åä¸ºdeepinï¼Œè¿›å…¥å…¨çƒå‘è¡Œç‰ˆæ’è¡Œç‰ˆå‰20åï¼Œå»ºç«‹åŒ—äº¬è¿è¥ä¸­å¿ƒï¼Œè¿›å…¥ä¸­å¤®å›½å®¶æœºå…³æ”¿åºœé‡‡è´­ä¸­å¿ƒæ“ä½œç³»ç»Ÿé‡‡è´­åå½•ï¼Œé€šè¿‡è½¯ä»¶ä¼ä¸šè®¤å®šä¸ISO9001è®¤è¯ï¼Œä¸å¤šå®¶ä¸Šä¸‹æ¸¸å›½äº§è½¯ä»¶å‚å•†è¾¾æˆæˆ˜ç•¥åˆä½œï¼Œå¤šé¡¹ä½œå“è·å¾—è½¯ä»¶è‘—ä½œæƒè®¤è¯ï¼Œè·å¾—ä¸­å›½å¼€æºè½¯ä»¶æ¨èè”ç›Ÿã€Š2014å¹´åº¦å¼€æºä¼˜ç§€é¡¹ç›®å¥–ã€‹ï¼Œè·å¾—æ•°åƒä¸‡è§„æ¨¡çš„æˆ˜ç•¥æŠ•èµ„ï¼Œå»ºç«‹èµ·å›½å†…å”¯ä¸€æ‹¥æœ‰å‘˜å·¥è¿‡ç™¾äººä¸“æ³¨äºæ¡Œé¢ Linuxå‘è¡Œç‰ˆçš„å›¢é˜Ÿã€‚</li><li>2015å¹´ï¼Œé€šè¿‡å·¥ä¿¡éƒ¨å›½äº§æ“ä½œç³»ç»Ÿé€‚é…æµ‹è¯•ï¼Œç ”å‘ä¸Šçº¿ä¸­å›½ç¬¬ä¸€å°åŸºäºå›½äº§æ“ä½œç³»ç»Ÿçš„ATMè®¾å¤‡ï¼Œè·å¾—å…¬å®‰éƒ¨å®‰å…¨æ“ä½œç³»ç»Ÿè®¤è¯ï¼ŒåŠ å…¥LinuxåŸºé‡‘ä¼šï¼Œè·å¾—ã€Šç¬¬åä¹å±Šä¸­å›½å›½é™…è½¯ä»¶åšè§ˆä¼šåˆ›æ–°å¥–ã€‹ï¼Œè·å¾—2015ä¸­å›½ä¿¡æ¯å®‰å…¨å¤§ä¼šã€Šå›½äº§åŒ–è¿ç§»æœ€ä½³è§£å†³æ–¹æ¡ˆå¥–ã€‹å’Œã€Šè‡ªä¸»å¯æ§æ“ä½œç³»ç»Ÿæœ€ä½³äº§å“å¥–ã€‹ï¼Œå»ºç«‹åä¸œã€åå—ã€ä¸œåŒ—ã€è¥¿åŒ—åˆ†æ”¯æœºæ„ã€‚</li><li>2016å¹´ï¼Œå’Œç½‘æ˜“äº‘éŸ³ä¹è”åˆæ­£å¼å‘å¸ƒå›½å†…ç¬¬ä¸€ä¸ªæ”¯æŒLinuxå¹³å°çš„åœ¨çº¿éŸ³ä¹åº”ç”¨ï¼Œå…¬å¸è·å¾—CMMI3 è®¤è¯è¯ä¹¦ã€‚</li><li>2020å¹´ï¼Œå‘å¸ƒ deepin v20 beta å’Œ uos v20ï¼›</li></ul><p>ç›®å‰ï¼Œå·²ç»å»ºç«‹å›½å†…æœ€æ´»è·ƒçš„å›½äº§æ“ä½œç³»ç»Ÿç¤¾åŒºï¼Œæ·±åº¦æ“ä½œç³»ç»Ÿç´¯è®¡ä¸‹è½½é‡5000å¤šä¸‡æ¬¡ï¼Œæä¾›40ç§ä¸åŒçš„è¯­è¨€ç‰ˆæœ¬ï¼Œç”¨æˆ·éåŠå…¨çƒ40å¤šä¸ªå›½å®¶å’Œåœ°åŒºï¼Œæ˜¯å…¨çƒå¼€æºæ“ä½œç³»ç»Ÿæ’è¡Œæ¦œä¸Šæ’è¡Œåæœ€é«˜çš„ä¸­å›½æ“ä½œç³»ç»Ÿäº§å“ã€‚</p><br><h3 id="deepin-å†å²ç‰ˆæœ¬çš„å‘å¸ƒï¼š"><a href="#deepin-å†å²ç‰ˆæœ¬çš„å‘å¸ƒï¼š" class="headerlink" title="deepin å†å²ç‰ˆæœ¬çš„å‘å¸ƒï¼š"></a>deepin å†å²ç‰ˆæœ¬çš„å‘å¸ƒï¼š</h3><p>ç”¨ä¸€ä¸ªå¤§æ¦‚çš„å›¾æ¥è®²è¿° hiweedã€deepinã€uos çš„å…³ç³»ï¼Œå’Œä»–ä»¬é‡è¦ç‰ˆæœ¬çš„å‘å¸ƒå¹´é™æ—¶é—´ï¼›æ›´åŠ ç»†è‡´çš„ç‰ˆæœ¬å‘å¸ƒå¯å‚è€ƒï¼š<a href="https://zh.wikipedia.org/wiki/%E6%B7%B1%E5%BA%A6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F">wiki</a> å’Œ <a href="https://distrowatch.com/table.php?distribution=deepin">distribution</a> </p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200518-140536.png" width="100%"/ loading="lazy"><p>(æœ¬å›¾ç‰‡ç´ ææ¥è‡ª <a href="https://github.com/xmuli">xmuli</a>)</p><br><p><strong>å‘è¡Œç‰ˆæœ¬åˆ—è¡¨:</strong></p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200518142638.png" width="70%"/ loading="lazy"><p>(æœ¬å›¾ç‰‡ç´ ææ¥è‡ª <a href="https://zh.wikipedia.org/wiki/">wiki</a>)</p><br><h3 id="Hiweed-Linux-æ—¶æœŸï¼š"><a href="#Hiweed-Linux-æ—¶æœŸï¼š" class="headerlink" title="Hiweed Linux æ—¶æœŸï¼š"></a>Hiweed Linux æ—¶æœŸï¼š</h3><p>åœ¨è¿½å¯» <code>deepin</code> å†å²æ¼”å˜çš„æ—¶å€™ï¼Œæ„å¤–å¾—çŸ¥ï¼Œçº¦åœ¨ 04 ~ 08 å¹´ï¼Œæ­¤å‰è¿˜æœ‰ä¸€ä¸ªæˆ‘ä¸çŸ¥é“åˆ°çš„åç§°~;é‚£ä¸ªæ—¶å€™å®ƒçš„åå­—è¿˜æ˜¯å« <code>Hiweed Linux</code>ï¼›è€Œ Hiweed Linux æ˜¯ä¸€ä¸ªç”±å›½äººåˆ¶ä½œçš„ä¸€ä¸ª Linux å‘è¡Œç‰ˆï¼ŒHiweed Linux åŸºäº Ubuntu 8.10 ,å¯ä»¥è¯´ Hiweed Linux æ˜¯ä¸€ä¸ªä¸­æ–‡æœ¬åœŸåŒ–çš„ Ubuntu ï¼Œç›¸å¯¹æ¯” Ubuntu ä¸Šæ‰‹æ›´å®¹æ˜“ï¼Œå…å»äº†å®‰è£… Ubuntu åçš„ä¸€ç³»åˆ—çš„â€œæ±‰åŒ–â€è¿‡ç¨‹ã€‚</p><p>Hiweed GNU&#x2F;Linuxæ¡Œé¢ç‰ˆåŸºäºUbuntu GNU&#x2F;Linuxï¼Œé€‚åˆä¸­å›½çš„ Debian æ–°æ‰‹å’Œè€æ‰‹ä½¿ç”¨ã€‚Hiweed æ¡Œé¢æ˜¯ä¸€ä»½å·²ç»é…ç½®å¥½çš„ä¸­æ–‡æ¡Œé¢ï¼ŒåŒ…æ‹¬ fcitx ä¸­æ–‡è¾“å…¥æ³•ï¼Œstardict è¯å…¸ï¼Œzhcon ä¸­æ–‡ç»ˆç«¯ï¼Œttf-simsunå­—ä½“ç­‰ç­‰ã€‚Hiweed çš„ç›®æ ‡æ˜¯ï¼šå…å»æ–°æ‰‹çš„ç—›è‹¦ï¼ŒèŠ‚çœè€æ‰‹çš„æ—¶é—´ã€‚</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200518141958.png" width="90%"/ loading="lazy"><p>(æœ¬å›¾ç‰‡ç´ ææ¥è‡ª <a href="https://www.youtube.com/watch?v=lPrM0AgeP7Y">youtub</a>)</p><br><h3 id="Linux-Deepin-æ—¶æœŸï¼š"><a href="#Linux-Deepin-æ—¶æœŸï¼š" class="headerlink" title="Linux Deepin æ—¶æœŸï¼š"></a>Linux Deepin æ—¶æœŸï¼š</h3><p>çº¦ 2009 å¹´æ—¶æœŸï¼Œå’¦ï¼Œé‚£è¿™ä¹Ÿæ˜¯åä¸€å¹´å‰äº†~ï¼Œè¿™æ˜¯æ—©æœŸçš„ Linux Deepin æ¡Œé¢ï¼› </p><p><font color=#D0087E size=4 face="å¹¼åœ†"><strong>ä¸‹é¢çš„æ•°å­—è¡¨ç¤ºï¼š</strong></font> <strong>å¹´ä»½.æœˆä»½</strong> </p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200518150655.png" width="90%"/ loading="lazy"><p>(æœ¬å›¾ç‰‡ç´ ææ¥è‡ª <a href="https://github.com/shule1987">shule</a>)</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200518_150731.png" width="90%"/ loading="lazy"><p>(æœ¬å›¾ç‰‡ç´ ææ¥è‡ª <a href="https://github.com/shule1987">shule</a>)</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200518_150747.png" width="90%"/ loading="lazy"><p>(æœ¬å›¾ç‰‡ç´ ææ¥è‡ª <a href="https://github.com/shule1987">shule</a>)</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200518_150815.png" width="90%"/ loading="lazy"><p>(æœ¬å›¾ç‰‡ç´ ææ¥è‡ª <a href="https://github.com/shule1987">shule</a>)</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200518_150829.png" width="90%"/ loading="lazy"><p>(æœ¬å›¾ç‰‡ç´ ææ¥è‡ª <a href="https://github.com/shule1987">shule</a>)</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200518_150859.png" width="90%"/ loading="lazy"><p>(æœ¬å›¾ç‰‡ç´ ææ¥è‡ª <a href="https://github.com/shule1987">shule</a>)</p><br><h3 id="Deepin-æ—¶æœŸï¼š"><a href="#Deepin-æ—¶æœŸï¼š" class="headerlink" title="Deepin æ—¶æœŸï¼š"></a>Deepin æ—¶æœŸï¼š</h3><p>çº¦ 2014 å¹´å¼€å§‹ï¼Œdde æœ‰äº†è´¨çš„é£è¶Šï¼Œç•Œé¢ä¹Ÿå˜å¾—ç¾è§‚å¤šäº†ï¼Œç„¶åä¸€ç›´å‡ºå‡ºæ¥äº†æ‰“ç£¨å¥½ä¹…çš„ deepin v 15 ç‰ˆæœ¬ï¼›æˆä¸ºäº†ä¸€ä¸ªç»å…¸çš„ç‰ˆæœ¬ï¼Œä¸”æˆ‘æ²¡æœ‰æƒ³åˆ°çš„æ˜¯ï¼Œåœ¨ 2015- 2019 æœŸé—´ï¼Œåè€Œæ˜¯æ½œå¿ƒä¸‹æ¥ç»§ç»­æ‰“ç£¨ç»†èŠ‚ï¼Œåœ¨ç»†å¾®ä¹‹å¤„æ›´åŠ ç¾è§‚å’Œå®ç”¨ã€‚è¡¨ç¤ºå‡ºæ¥äº†æå¤§çš„å¥½æ„Ÿ~</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200518_150915.png" width="90%"/ loading="lazy"><p>(æœ¬å›¾ç‰‡ç´ ææ¥è‡ª <a href="https://github.com/shule1987">shule</a>)</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200518_151017.png" width="90%"/ loading="lazy">(æœ¬å›¾ç‰‡ç´ ææ¥è‡ª [shule](https://github.com/shule1987)) <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200518_152732.png" width="90%"/ loading="lazy"><p>(æœ¬å›¾ç‰‡ç´ ææ¥è‡ª <a href="https://www.youtube.com/watch?v=-jhDHmtdzsg">youtub</a>)</p><br><h3 id="uos-æ—¶æœŸï¼š"><a href="#uos-æ—¶æœŸï¼š" class="headerlink" title="uos æ—¶æœŸï¼š"></a>uos æ—¶æœŸï¼š</h3><p>deepin v15.11 åœ¨å‘å±•äº†è¿™ä¸€ç‰ˆæœ¬çš„å¤šæ¬¡è¿­ä»£ä¹‹åï¼Œå…¶å·²ç»æœ‰äº†æ¯”è¾ƒæƒŠè‰³çš„æ”¹è§‚~ï¼Œä¸”åœ¨ 2019 -&gt; 2020 ä¹‹é™…ï¼Œå‡†å¤‡ç ”å‘æ–°çš„æ–°çš„å¤§ç‰ˆæœ¬ï¼Œæœ‰äº†æ›´å¤šçš„ç ”å‘å°ä¼™ä¼´å’Œå…¶ä»–äº§å“ç­‰çš„åŠ å…¥ã€‚ã€‚ã€‚</p><p>åœ¨ 2019 å¹´æœ«ï¼Œ2020 å¹´åˆï¼Œåˆ†åˆ«ä¾æ¬¡å‘å¸ƒäº† deepin 20 beta å’Œ uos v20ï¼š desktop &amp;&amp; server ç­‰ç‰ˆæœ¬çš„å‘å¸ƒ</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200518_151641.png" width="90%"/ loading="lazy"><p>(æœ¬å›¾ç‰‡ç´ ææ¥è‡ª <a href="https://github.com/xmuli">xmuli</a>)</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200518_151610.png" width="90%"/ loading="lazy"><p>(æœ¬å›¾ç‰‡ç´ ææ¥è‡ª <a href="https://github.com/xmuli">xmuli</a>)</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200518154800.png" width="90%"/ loading="lazy"><p>(æœ¬å›¾ç‰‡ç´ ææ¥è‡ª <a href="https://www.bilibili.com/">bilibili</a>)</p><br><h3 id="ä¸‹è½½åœ°å€ï¼š"><a href="#ä¸‹è½½åœ°å€ï¼š" class="headerlink" title="ä¸‹è½½åœ°å€ï¼š"></a>ä¸‹è½½åœ°å€ï¼š</h3><p><a href="https://github.com/xmuli/QtExamples">QtExamples</a></p><p>æ¬¢è¿ star å’Œ fork è¿™ä¸ªç³»åˆ—çš„ qt&#x2F;dtk å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p><br><h3 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h3><ul><li><a href="https://wiki.deepin.org/wiki/%E6%B7%B1%E5%BA%A6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE">æ·±åº¦æ“ä½œç³»ç»Ÿé¡¹ç›®</a> ï¼šwiki è¯´æ˜</li><li><a href="https://zh.wikipedia.org/wiki/%E6%B7%B1%E5%BA%A6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F">wiki æ·±åº¦æ“ä½œç³»ç»Ÿ</a> ï¼šwikipedia å›½é™…æ’åè¯´æ˜</li><li><a href="https://www.deepin.org/aboutus/">deepin å…¬å¸</a> ï¼ˆå®˜ç½‘ï¼‰</li><li><a href="https://www.uniontech.com/about">uos å…¬å¸</a> ï¼ˆå®˜ç½‘ï¼‰</li><li><strong>&amp;&amp;</strong></li><li><a href="https://github.com/linuxdeepin">github linuxdeepin</a>ï¼š dde ç›¸å…³çš„å¼€æºé¡¹ç›®</li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>DTKçš„å†å²èµ·æºã€å‘å±•ï¼Œå’Œç®€å•å…¥é—¨(ç²¾åç¯‡)</title>
      <link href="/posts/974df8a3/"/>
      <url>/posts/974df8a3/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€ <strong>DTK</strong>ï¼ˆ<code>deepin tool kit</code>ï¼‰å…¨ç§°æ˜¯ <font color=#D0087E size=4 face="å¹¼åœ†"><strong>æ·±åº¦å·¥å…·å¥—ä»¶</strong></font>ï¼›æ˜¯åŸºäº <code>Qt5</code> å¼€å‘ä¸€æ•´å¥—ç•Œé¢ç¾è§‚ä¸”å®ç”¨çš„ <code>UI</code> å›¾å½¢åº“ã€‚</p><p>æœ¬ç¯‡ä¸»è¦å°½å¯èƒ½å¤šçš„è®²è§£ä¸€ä¸‹ <code>dtk</code> çš„èµ·æºäºå†å²ï¼Œä»¥åŠé¡¹ç›®å£®å¤§åçš„æ‹†åˆ†ã€ç°åœ¨ <code>dtk</code> é¡¹ç›®çš„ç»„æˆå’ŒåŸºæœ¬å«ä¹‰ï¼›ä»¥åŠ <code>dtk</code> çš„æ–‡æ¡£ä»æ— åˆ°æœ‰ï¼Œå†åˆ°ç°åœ¨çš„æå¤§ä¸°å¯Œå†å²ï¼›æœ€åå°±æ˜¯ <code>dtk</code> çš„å¦‚ä½•å¿«é€Ÿä¸Šæ‰‹éƒ¨åˆ†ã€‚</p><p><strong>åœ¨<a href="https://xmuli.blog.csdn.net/article/details/106195055">å¦ä¸€ç¯‡</a>ä¸­è®²è§£ deepinã€ddeçš„å†å²èµ·æºä¸å‘å±•(é™„deepinæ‰€æœ‰ç‰ˆæœ¬çš„ddeæˆªå›¾)ï¼Œ</strong>å¯ä»¥ä¸€è§ˆå…¶è¿‘ 10 å¹´çš„å˜åŒ–ã€‚</p><p>ç½‘ä¸Šå…³äºå®ƒçš„æ•™ç¨‹æ¯”è¾ƒå°‘ï¼Œå…³äºå†å²çš„æ›´æ˜¯åŸºæœ¬å°±æ²¡æœ‰ï¼Œåœ¨æ­¤è¡¥ä¸€ç¬”ã€‚</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/IMG_1263.JPG" width="35%"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ä¸€ç‚¹ç¢ç¢å¿µ-ï¼š"><a href="#ä¸€ç‚¹ç¢ç¢å¿µ-ï¼š" class="headerlink" title="ä¸€ç‚¹ç¢ç¢å¿µ~ï¼š"></a>ä¸€ç‚¹ç¢ç¢å¿µ~ï¼š</h3><blockquote><p>å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ã€‚å†çŸ¥é“ä¸€ç‚¹å®ƒçš„æ¼”å˜å†å²~ï¼Ÿ</p></blockquote><blockquote><p><strong>æœ¬æ–‡ä»…ä»…æ— æ„ä»£è¡¨å®˜æ–¹æ–‡ç« </strong>ï¼Œä»…è®²è¿° dtk å’Œ deepin çš„æ¼”å˜å†å²</p></blockquote><p>æœ¬æ¥åªæ˜¯æƒ³å•å†™ä¸€ç¯‡ dtk çš„å…¶å®èµ·æºçš„ï¼Œä½†éšç€æœ¬æ–‡çŸ¥è¯†çš„ä¸°å¯Œã€ç¡®ä¿æ—¶é—´çº¿çš„åŸºæœ¬å‡†ç¡®ï¼Œè¯·æ•™å¾ˆå¤šçš„å‰è¾ˆå’Œå¤§ä½¬ä»¬ï¼Œæ„Ÿè°¢ä»–ä»¬</p><p>ï¼‰è¯·æ•™äº† dtkã€deepinã€develop team çš„å†å²å’ŒåŸæºè¿‡ç¨‹ä¸­ï¼Œä½“ä¼šåˆ°äº‹ç‰©å¾€å¾€ä¸æ˜¯å•ä¸€çš„ï¼Œä¸”ä¸å½¼æ­¤ä¹‹é—´æœ‰ç€åƒä¸ä¸‡ç¼•è”ç³»è€Œåˆäº’ç›¸ç‹¬ç«‹ï¼Œå„æœ‰ç‰¹è‰²ã€‚<font color=#FF0000  size=4 face="å¹¼åœ†"><strong>æœ¬ç¯‡çš„ä¾§é‡ç‚¹æ˜¯ dtk é¡¹ç›®çš„å†å²èµ·æºã€å‘å±•è¿‡ç¨‹ä¸ç°çŠ¶ã€ç°åœ¨çš„ç†è§£å’Œå¦‚ä½•å¿«é€Ÿä¸Šæ‰‹ï¼›æœ€åé™„ä¸Šéƒ¨åˆ† dtk ç›¸å…³çš„èµ„æ–™æ–‡æ¡£ã€‚</strong></font> <strong>è€Œå…³äº deepin &amp;&amp; dde &amp;&amp; team çš„ä»‹ç»ï¼Œåˆ™å•ç‹¬æˆç«‹ä¸€ç¯‡æ–°çš„<a href="https://xmuli.blog.csdn.net/article/details/106195055">æ–‡ç« </a>ã€‚</strong></p><br><h3 id="èƒŒæ™¯äº¤ä»£ï¼š"><a href="#èƒŒæ™¯äº¤ä»£ï¼š" class="headerlink" title="èƒŒæ™¯äº¤ä»£ï¼š"></a>èƒŒæ™¯äº¤ä»£ï¼š</h3><p>è¯´æ¥æƒ­æ„§ï¼Œåˆæ¥è§¦ deepin æ˜¯ç”± v15.11 æ‰å¼€å§‹çš„ï¼Œä¸€å¼€å§‹åŸ‹å¤´ç€å¼€å‘ dtk æœ‰è®¸ä¹…çš„ä¸€äº›æ—¶é—´ï¼Œä½†å¯¹å…¶å†å²å‡ºèº«æ¥å†ä¸€ç›´æ¯”è¾ƒæ¨¡ç³Šï¼Œäºæ˜¯ä¹æ”¶é›†å’Œæ•´ç†ä¸€ä¸‹ç°å­˜çš„æ‰€æœ‰ dtk çš„é¡¹ç›®ã€æ‰‹å†Œèµ„æ–™ï¼Œä¸åº“çš„ç»´æŠ¤è€…å’Œæœ€åˆçš„åº“çš„å¼€å‘è€…ï¼Œä»¥åŠå…¬å¸æœ‰ç€è¾ƒæ·±èµ„å†å‰è¾ˆä»¬äº¤æµï¼Œå¤–åŠ ä¸Šä¸ªäººå’Œå°ä¼™ä¼´ä»¬ï¼Œä¹Ÿéƒ½æœ‰å‚ä¸è¿‡è¯¥åº“çš„ç»´æŠ¤ä¸€æ®µæ—¶é—´åï¼Œæ‰å¾—ä»¥è½ç¬”ï¼Œæ¢³ç†æˆæ­¤ç¯‡æ–‡ç« ï¼ˆæ¬¢è¿äº¤æµä¸æŒ‡æ­£ï¼‰ã€‚</p><br><h3 id="dtk-åç§°çš„ç†è§£ï¼ˆæ˜“æ··æ·†ï¼‰ï¼š"><a href="#dtk-åç§°çš„ç†è§£ï¼ˆæ˜“æ··æ·†ï¼‰ï¼š" class="headerlink" title="dtk åç§°çš„ç†è§£ï¼ˆæ˜“æ··æ·†ï¼‰ï¼š"></a>dtk åç§°çš„ç†è§£ï¼ˆæ˜“æ··æ·†ï¼‰ï¼š</h3><ul><li>å…¶ä¸­æœ‰å‡ ä¸ªå®¹æ˜“æ··æ·†çš„åè¯ï¼Œ<code>dtk</code>ï¼Œ <code>dtkwidget</code>ï¼Œ <code>dtk</code> é¡¹ç›®ã€‚</li></ul><p><font color=#FF0000  size=4 face="å¹¼åœ†"><strong>ä¸‹é¢ä»…ä¸ºä¸ªäººç†è§£ï¼ŒæŒ‰ç…§å½“å‰ 2020 ä¸ŠåŠå¹´çš„é˜¶æ®µçš„é¡¹ç›®å®é™…æƒ…å†µç†è§£ï¼š</strong></font></p><p><font color=#FF0000  size=4 face="å¹¼åœ†"><strong>dtk å«ä¹‰ç†è§£ï¼š</strong></font> æ˜¯ä¸€ä¸ªæ³›æŒ‡ï¼Œéœ€è¦çµæ´»çš„åœ¨ä¸Šä¸‹æ–‡çš„è¯­ä¹‰ä¸­ç†è§£å…¶å«ä¹‰ï¼š</p><ol><li><strong>dtk é¡¹ç›®(åº“) çš„é›†åˆã€‚</strong> ï¼ˆæ˜¯ä¸€å †ä»“åº“çš„é›†åˆ &#x3D; dtkwidget + dtkgui + dtkcore + qt5integrationâ€¦ï¼‰</li><li>å¶ä¹ŸæŒ‡ dtkwidget è¿™ä¸ªä»“åº“é¡¹ç›®ï¼ˆè¿™ä¸ªä»“åº“çš„åç§°å°±å« <a href="https://github.com/linuxdeepin/dtkwidget">dtkwidget</a>ï¼‰</li><li>deepin tool kit æ˜¯ä¸€ä¸ªæ·±åº¦å·¥å…·æ„å»ºé›†åˆã€‚</li><li>æ˜¯èƒ½åœ¨ deepin(uos) ç³»ç»Ÿå¼€å‘åº”ç”¨è½¯ä»¶ï¼Œä½¿ç”¨é Qt åŸç”Ÿçš„æ ·å¼æ§ä»¶çš„é›†åˆçš„å¼€å‘ç¯å¢ƒ</li><li>dtk ä¹Ÿä½œä¸ºæ„å»º deepin å…¨å®¶æ¡¶çš„åŸºçŸ³</li></ol><p>DTK ç›®å‰åˆ†ä¸ºä¸‰ä¸ªæ¨¡å—ï¼Œdtkcoreã€dtkguiï¼Œdtkwidgetï¼Œä¸»è¦åŠŸèƒ½å¦‚ä¸‹ï¼š</p><table><thead><tr><th align="center">é¡¹ç›®</th><th align="center">åŠŸèƒ½æè¿°</th></tr></thead><tbody><tr><td align="center">dtkcore</td><td align="center">æä¾›åº”ç”¨ç¨‹åºå¼€å‘ä¸­çš„å·¥å…·ç±»ï¼Œå¦‚ç¨‹åºæ—¥å¿—ã€æ–‡ä»¶ç³»ç»Ÿç›‘æ§ã€æ ¼å¼è½¬æ¢ç­‰å·¥å…·ç±»</td></tr><tr><td align="center">dtkgui</td><td align="center">åŒ…å«äº†å¼€å‘å›¾å½¢ç”¨æˆ·ç•Œé¢åº”ç”¨ç¨‹åºæ‰€éœ€çš„åŠŸèƒ½ã€‚ä¸»è¦æ˜¯æ§åˆ¶çª—å£ä¸»é¢˜è¿™ç§å¤–è§‚æ€§ï¼Œè°ƒè‰²æ¿ç­‰ä¿¡æ¯ã€‚</td></tr><tr><td align="center">dtkwidget</td><td align="center">æä¾›å„ç§dtkåŸºç¡€æ§ä»¶ï¼Œæ–¹ä¾¿å¼€å‘ç»Ÿä¸€é£æ ¼çš„åº”ç”¨ã€‚</td></tr></tbody></table><br><h3 id="DTK-çš„å†å²èµ·æºï¼š"><a href="#DTK-çš„å†å²èµ·æºï¼š" class="headerlink" title="DTK çš„å†å²èµ·æºï¼š"></a>DTK çš„å†å²èµ·æºï¼š</h3><h4 id="dtk-é¡¹ç›®çš„å†å²æ¼”å˜ï¼ˆå«åç§°ï¼‰ï¼š"><a href="#dtk-é¡¹ç›®çš„å†å²æ¼”å˜ï¼ˆå«åç§°ï¼‰ï¼š" class="headerlink" title="dtk é¡¹ç›®çš„å†å²æ¼”å˜ï¼ˆå«åç§°ï¼‰ï¼š"></a>dtk é¡¹ç›®çš„å†å²æ¼”å˜ï¼ˆå«åç§°ï¼‰ï¼š</h4><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200518_111136.png" width="100%"/ loading="lazy"><br><ul><li>åœ¨ 2015 å¹´ï¼Œå¼€å‘ deepin v15 ç‰ˆæœ¬çš„æ—¶å€™ï¼Œå› ä¸ºå¼€å‘æ§åˆ¶ä¸­å¿ƒï¼ˆåŸºäº Qt Widgetsï¼‰ï¼Œå¼€å‘çš„è¿‡ç¨‹ä¸­æŠ½è±¡å‡ºäº† dui æ§ä»¶åº“ï¼ˆä»æ§åˆ¶ä¸­å¿ƒå¼€å‘èµ·ä¸‰ä¸ªæœˆï¼‰ï¼Œåªæœ‰ä¸€äº›é€šç”¨æ€§çš„æ§ä»¶ï¼Œä»“åº“åç§°ä¸º <code>dui</code> ã€‚</li><li>16 å¹´åˆï¼Œéšåå¼€å‘å…¶ä»–é¡¹ç›®ï¼Œdui ä¸­åŠ çš„ä¸œè¥¿è¶Šæ¥è¶Šå¤šï¼Œä¹Ÿä¸ä»…é™äº ui æ–¹é¢çš„æ§ä»¶ï¼Œä¹‹åå°±æ”¹åä¸ºäº† <code>deepin-tool-kit</code> é¡¹ç›®ã€‚</li><li>17 å¹´åº•ï¼Œéšåæˆä¸ºäº† DDE æ¡Œé¢ç¯å¢ƒçš„åº•å±‚å¼€å‘åº“ï¼Œå°è£…äº†æ¡Œé¢ç»„ä»¶å’Œä¸Šå±‚åº”ç”¨çš„é€šç”¨å‹çª—å£ã€æ§ä»¶ã€å·¥å…·ç±»ï¼Œéšç€é¡¹ç›®è¶Šæ¥è¶Šå¤§ï¼Œç¼–è¯‘ä¹Ÿè¶Šæ¥è¶Šæ…¢ï¼Œäºæ˜¯æ‹†åˆ†ä¸ºäº† <code>dtkcore</code>ã€<code>dtkwidget</code>ã€<code>dtkwm</code>ï¼ˆä»…ä¸‰ä¸ªä»“åº“ï¼‰ï¼Œæ—§çš„ deepin-tool-kit ä»“åº“åœ°å€å¤„äºåºŸå¼ƒçŠ¶æ€ã€‚</li><li>19 å¹´æ–°å¢åŠ äº† dtkgui æ¨¡å—ï¼ŒåºŸå¼ƒäº† dtkwmï¼ˆä¸å¯è·¨å¹³å°ï¼Œå¼ºä¾èµ– X11ï¼Œå› æ­¤åºŸå¼ƒï¼‰ï¼Œæ­¤ååˆ†ä¸º dtkcoreã€dtkguiã€dtkwidgetï¼Œè§’è‰²åˆ†åˆ«å¯¹åº” Qt coreã€guiã€widgets æ¨¡å—ã€‚</li><li>20 å¹´ä¹‹åï¼ŒæŒ‰ç…§å¦‚ä»Šçš„ç†è§£ä¸ºï¼Œ<code>dtk</code> &#x3D; <code>dtkwidget</code> + <code>dtkgui</code> + <code>qt5integration</code> + <code>dtkcore</code> + â€¦ ç­‰å¤šä¸ªé¡¹ç›®çš„æ€»ç§°å‘¼</li></ul><br><p><font color=#D0087E size=4 face="å¹¼åœ†"><strong>ç”±äº <code>qt5integratioin</code> é¡¹ç›®ä¸€ç›´æ˜¯ç‹¬ç«‹çš„ï¼Œæœ¬ä¸ç®— <code>dtk</code> é¡¹ç›®é‡Œçš„ä¸€å‘˜ï¼Œä¸è¿‡å®é™…ä¸Šæ˜¯å’Œ <code>dtk</code> é…å¥—çš„ï¼Œæ•…æœ¬æ–‡ç®—åˆ° <code>dtk</code> æ¡†æ¶ä¸­ã€‚</strong></font></p><br><h4 id="æ ·å¼å˜åŒ–ï¼š"><a href="#æ ·å¼å˜åŒ–ï¼š" class="headerlink" title="æ ·å¼å˜åŒ–ï¼š"></a>æ ·å¼å˜åŒ–ï¼š</h4><p>å…¶ä¸­éšç€æ—¶é—´çš„å˜åŒ–ï¼Œç•Œé¢çš„ UI æ ·å¼ä¹Ÿå‘ç”Ÿäº†æ¯”è¾ƒå¤§çš„å˜åŒ–ï¼Œå½“æ—¶ v15 ç‰ˆæœ¬çš„æ§åˆ¶ä¸­å¿ƒï¼Œè¿˜åœ¨å±å¹•å³ä¾§ï¼Œä¸é€æ˜åå‘é»‘è‰²ï¼Œåˆ°åæ¥çš„æˆä¸ºç™½è‰²åé€æ˜è‰²ï¼Œåœ¨åˆ°ç°åœ¨çš„ä¸€ä¸ªå•ç‹¬çš„æ§åˆ¶ä¸­å¿ƒï¼ˆä¸‹å›¾ä¾æ¬¡ä¸º deepin v15 æ—©æœŸç‰ˆæœ¬ï¼Œå’Œ uos v20 çš„æ§åˆ¶ä¸­å¿ƒï¼‰ã€‚</p><p>è€Œ dtk æ˜¯å±äºç»˜ç”»è‡ªå®šä¹‰çš®è‚¤æ§ä»¶çš„åŸºç¡€æ ¸å¿ƒï¼Œç„¶ååœ¨å®ƒçš„åŸºç¡€ä¸Šé¢åšäº†ä¸€æ¬¡å°è£…ï¼Œ å°è£…äº†ä¸€ç³»åˆ— Dxxxx å¼€å¤´çš„æ§ä»¶ï¼ˆå¦‚ DPushButton ç­‰ï¼‰ï¼Œ ç„¶åå†ç”±åº”ç”¨å¼€å‘çš„åŒå­¦ä»¬ï¼Œå¼€å‘å‡ºä¸€æ¬¾æ¬¾åº”ç”¨ï¼Œå…¨éƒ¨ä½¿ç”¨ dtk çš„æ§ä»¶ã€‚é‚£æ ·å¼€å‘å‡ºæ¥çš„ç•Œé¢ï¼Œå°±å’Œç³»ç»Ÿçš„é£æ ¼ä¿æŒäº†ä¸€è‡´æ€§ï¼›è€Œå¯¹äº win ç³»åˆ—çš„è½¯ä»¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ wineï¼ˆdeepin-winï¼‰ æ¥åœ¨ æ­¤ linux ä¸Šé¢è¿è¡Œï¼›è€Œå¯¹äºç¬¬ä¸‰æ–¹çš„åº”ç”¨è½¯ä»¶ï¼Œä½¿ç”¨ chameleon style å¯åŠ¨ï¼Œæ¥ä¿è¯å’Œç³»ç»Ÿçš„é£æ ¼ä¸€è‡´ã€‚</p><p>ä¸‹é¢æ”¾å›¾ã€ä½¿ç”¨ dtk åº“ å¼€å‘å‡ºæ¥çš„æ§ä»¶æˆ–è€…åº”ç”¨,enenâ€¦ dtk çš„æ ·å¼å°±è¿™ä¹ˆå¥½çœ‹ï¼Œè¿™ä¹ˆçš„æ£’ï¼Œè¿™é‡Œè¦å¤šæ„Ÿè°¢è®¾è®¡å¸ˆä»¬ã€‚<strong>psï¼š</strong> è®¾è®¡å¸ˆä»¬ç®€ç›´å°±æ˜¯ç¨‹åºå¼€å‘ä¹‹å‹ï¼Œå°¤å…¶æ˜¯ä½¿ç”¨ç»˜ç”»æ§ä»¶çš„æ—¶å€™ï¼Œå¯ä»¥å°‘ä¿®æ”¹ 50%+ çš„ä»£ç æˆ–è€… bugï¼Œä¸”ä»–ä»¬ä¹Ÿéå¸¸å¥½æ²Ÿé€š~</p><ul><li>deepin v15 æ—©æœŸä¸é€æ˜é»‘è‰²æ•ˆæœï¼š</li></ul> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200515161731.png" width="100%"/ loading="lazy"><ul><li>uos&#x2F;deepin v20 æ—©æœŸé€æ˜ç£¨ç ‚æ•ˆæœï¼š</li></ul> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200515_175353.png" width="100%"/ loading="lazy"><br><h4 id="0-gt-1-çš„è¯ç”Ÿ-duiï¼š"><a href="#0-gt-1-çš„è¯ç”Ÿ-duiï¼š" class="headerlink" title="0 -&gt; 1 çš„è¯ç”Ÿ duiï¼š"></a>0 -&gt; 1 çš„è¯ç”Ÿ duiï¼š</h4><p>çº¦ 2015 å¹´ï¼Œ<strong>èµ·åˆæ˜¯åˆ›å»º dui é¡¹ç›®çš„ï¼Œåæ¥æ‰æ”¹åä¸ºï¼Œ<a href="https://github.com/linuxdeepin/deepin-tool-kit">deepin-tool-kit</a> ï¼›å†åæ¥æ‹†åˆ†ä¸ºä¸ºå¤šä¸ªåº“ dtkwidget + qt5integration + å…¶ä»–ï¼›</strong></p><br><p>æ—©å…ˆï¼Œä¸”æ‰€æœ‰çš„ dtk + deepin çš„é¡¹ç›®ï¼Œéƒ½æ˜¯åœ¨ github ä½œä¸ºå”¯ä¸€çš„å¤§æœ¬è¥;ç”±äº 0-&gt;1 æ—¶ä»£ï¼Œä¸»è¦æ˜¯å¼€å‘æ„å»º dtk çš„ä½“ç³»æ¶æ„ï¼ŒåŸºæœ¬æ²¡æœ‰ä»€ä¹ˆæ–‡æ¡£çš„ä¹¦å†™âœï¸ï¼ˆä¸€ä¸ªä¼ç¬”ï¼‰</p><br><p>åæ¥æœ‰å¬åˆ°å‰è¾ˆä»¬è¯´ï¼Œé‚£ä¸ªæ—¶å€™æ˜¯çš„æ°›å›´è½»æ¾è€Œåˆæ¬¢ä¹ï¼Œæ›´å¤šçš„æ˜¯ä¸€ç§å¹³ç­‰æ²Ÿé€šçš„åˆä½œï¼Œå¤§å®¶éƒ½æ˜¯å¼€æºçˆ±å¥½çš„å¿—æ„¿è€…ï¼Œä¸€èµ·åšç€è‡ªå·±å–œæ¬¢çš„äº‹æƒ…ã€‚ç¾¡ç…æˆ‘ä¹Ÿ<del>ã€‚ å‘å¾€ä¸æ†§æ†¬é‚£ä¸ªå¹´ä»£ï¼Œä»¥åŠæ›´æ—©çš„å‡ å¹´</del></p><br><h4 id="deepin-tool-kit-æ˜¯çŸ³å™¨æ—¶ä»£ï¼š"><a href="#deepin-tool-kit-æ˜¯çŸ³å™¨æ—¶ä»£ï¼š" class="headerlink" title="deepin-tool-kit æ˜¯çŸ³å™¨æ—¶ä»£ï¼š"></a>deepin-tool-kit æ˜¯çŸ³å™¨æ—¶ä»£ï¼š</h4><p>deepin-tool-kit æœ€å¼€å§‹ï¼Œæ˜¯æ—¢æ²¡æœ‰æ–‡æ¡£ï¼Œä¸” api æ¥å£ä¸ç¨³å®šï¼Œå®¹æ˜“å˜åŒ–ï¼Œä¸”è®¾è®¡å›¾çš„ UI æ ·å¼ä¹Ÿå˜åŒ–è¾ƒå¿«ï¼Œå¯¼è‡´å…¥é—¨ã€å¼€å‘ã€ç»´æŠ¤è¯¥ dtk åº“éƒ½å¾ˆæ˜¯å›°éš¾~ã€‚<strong>åŸºæœ¬æ˜¯å†…éƒ¨å¼€å‘è€…é å°ä¼™ä¼´è®²è§£ï¼Œå¤–éƒ¨å¼€å‘é è‡ªè¡Œé˜…è¯»æºç </strong> ï¼›å¬è¯´ä»¥è‡³äºä¸€äº›ç¤¾åŒºçš„å°ä¼™ä¼´éƒ½çœ‹ä¸ä¸‹å»ï¼Œä¸»åŠ¨åšäº†ä¸€ä¸ª<a href="http://deepin.lolimay.cn/">ã€ŠDeepinå¼€å‘æŒ‡å—ã€‹</a>ï¼ˆåœ°å€å·²å¤±æ•ˆï¼‰</p><br><h4 id="å£®å¤§åæ‹†åˆ†-dtk-åº“ï¼š"><a href="#å£®å¤§åæ‹†åˆ†-dtk-åº“ï¼š" class="headerlink" title="å£®å¤§åæ‹†åˆ† dtk åº“ï¼š"></a>å£®å¤§åæ‹†åˆ† dtk åº“ï¼š</h4><p>å‰è¾ˆä»¬çš„å¼€å‘è€…ä¸€èµ·ç¼–å†™æœ€åˆçš„ <code>dtk</code> åº“ï¼Œéšç€è¿‘å¥½å‡ å¹´çš„å˜åŒ–å’Œå‘å±•ï¼ŒåæœŸä¸€å®šè§„æ¨¡äº†ï¼Œæ·±æ€ç†Ÿè™‘åï¼Œä¸ºæ›´å¥½å‘å±•ï¼Œå°±å†³å®šå°†å¯¹ <code>deepin-tool-kit</code> ä»“åº“è¿›è¡Œæ‹†åˆ†ï¼ˆ2017 å¹´å·¦å³ï¼‰ï¼š è¯¦è§ <a href="https://github.com/linuxdeepin/deepin-tool-kit/issues/8">issues #8</a></p><ul><li><strong>dtkcoreï¼š</strong> ç”± dtkbase&#x2F;dtkutil&#x2F;dtksettings åˆå¹¶è¿›å…¥ </li><li><strong>dtkwidgetï¼š</strong> ç”± dtkwidget&#x2F;dtksettings æ„æˆ</li><li><strong>dtkwmï¼š</strong> å¤„ç†çª—å£è¯†åˆ«åº“&#x2F;xcbåŠŸèƒ½ï¼Œ ä¾›æˆªå›¾ã€å½•å±ã€ç³»ç»Ÿç›‘è§†å™¨ä½¿ç”¨</li><li><strong>qtwebkitï¼š</strong> å°è£…chroiumï¼Œæé«˜CEF&#x2F;WebEngineå…¼å®¹æ¥å£</li></ul><p>æ˜‚~ ï¼Œä¸ºäº†ä»£ç çš„å¥å£®æ€§å‘å±•ï¼Œä¸æ–¹ä¾¿åæœŸçš„å¯ç»´æŠ¤æ€§</p><br><h4 id="dtk-çš„å£å£ç›¸ä¼ æ—¶ä»£ï¼š"><a href="#dtk-çš„å£å£ç›¸ä¼ æ—¶ä»£ï¼š" class="headerlink" title="dtk çš„å£å£ç›¸ä¼ æ—¶ä»£ï¼š"></a>dtk çš„å£å£ç›¸ä¼ æ—¶ä»£ï¼š</h4><p>éšç€ä¸Šä¸€ä¸ªæ—¶ä»£å·²ç»è¿‡å»äº†ï¼Œdtk çš„ä¸»ä½“æ¡†æ¶å’Œ api éƒ½è¶‹å‘äºç¨³å®šï¼›ä¸”æœ‰äº†éƒ¨åˆ†ä¸­æ–‡æ–‡æ¡£ï¼Œï¼ˆæ˜¯ä¸­æ–‡æ–‡æ¡£ï¼ï¼ï¼ é¸¡å†»Ù©(à¹‘&gt;â—¡&lt;à¹‘)Û¶ï¼ï¼ï¼ï¼‰ï¼›æ­¤æ—¶ä¹ŸåŸºæœ¬å¯¹å†…éƒ¨å’Œå¤–éƒ¨çš„ç ”å‘éƒ½å·²ç»å‹å¥½äº†å¾ˆå¤šã€‚</p><br><p>æ­¤é˜¶æ®µåº”è¯¥æ˜¯ deepin 15.11 ï¼ˆæ©ï¼Œè‡³ä»Šéƒ½æ˜¯ä¸€ä¸ªç»å…¸çš„ç‰ˆæœ¬ï¼Œåæ¥å‘ç°è¯¥å‘ç‰ˆæœ¬æ‰“ç£¨å’Œç»´æŠ¤äº†è¿‘ 5 å¹´ï¼Œå¾ˆæ£’çš„ä¸€ä¸ªç‰ˆæœ¬ï¼‰å·²ç»å‘å¸ƒäº†å‡ºæ¥äº†ï¼Œå¼€å§‹ç ”å‘ v20 é˜¶æ®µäº†ã€‚</p><p>ä¸è¿‡æ­¤é˜¶æ®µï¼Œæ–°çš„åº“çš„ç»´æŠ¤è€…å­¦ä¹  dtk çš„æ–¹æ³•ï¼Œä¾æ—§æ˜¯å£å£ç›¸ä¼ ï¼Œæ‰‹æŠŠæ‰‹çš„æ•™ä½ ä¸€è¡Œä¸€è¡Œçš„å†™ä»£ç ï¼ˆåƒä¸€ä¸ªå¤§å“¥å“¥ä¸€æ ·<del>ï¼‰ï¼›æ¯•ç«Ÿä½¿ç”¨çš„æœ€æ–°çš„æ¥å£ï¼Œè¿˜æ²¡æ¥å¾—åŠæ›´æ–°åˆ°æ–‡æ¡£ä¹‹ä¸­ï¼Œä¸”å®¹æ˜“æœ‰å˜åŒ–ï¼Œæ—§çš„æ¥å£å°±ç¨³å®šå¾—å¤šã€‚<strong>æ­¤é˜¶æ®µ dtk çš„ç ”å‘å°±æ˜¯å†…éƒ¨é å£å£ç›¸ä¼ ï¼Œå¤–éƒ¨ç ”å‘é éƒ¨åˆ†æ–‡æ¡£+@æˆ³ä½ ä¸€ä¸‹ï¼ŒåŠ åŒæ–¹éƒ½çœ‹æºç ï¼Œæ¥å®Œæˆå½¼æ­¤çš„åˆä½œ</strong> ï¼ˆæœ‰äº‹è§‰å¾—æœ‰å’Œå…¶ä»–å¼€å‘è€…ä¸€èµ·äº’åŠ¨çš„æ„Ÿè§‰ä¹Ÿå¾ˆæ£’</del>ï¼‰ </p><br><p><strong>è¿™é‡Œè¯´ä¸€ä¸ªå°çš„æ’æ›²ï¼š</strong></p><p>å½“æˆ‘åˆæ¬¡å¼€å§‹æ¥è§¦ dtk åº“çš„ç»´æŠ¤æ—¶å€™ï¼Œå­¦ä¹ æ–¹å¼ä¹Ÿæ˜¯å£å£ç›¸ä¼ ã€‚</p><p>è®°å¾—åˆšæ¥ï¼Œå°±æ¥è´Ÿè´£ dtk çš„å¼€å‘ä¸ç»´æŠ¤ï¼Œåˆæ¥è§¦çš„ä¸€å‘¨ï¼Œéƒ½ä¸çŸ¥åˆ°è¯¥å¦‚ä½•æ•²ä¸‹æ‰‹ï¼Œä¸€è¡Œéƒ½æ†‹ä¸å‡ºæ¥ï¼›æ‹…å¿ƒè‡ªå·±å‡‰äº†ï¼Œç„¶åç½‘ä¸Šæœäº†æœ dtk å…³é”®å­—ï¼Œæˆ‘çš„å¦ˆè€¶ï¼Œè¿ä¸€ä¸ªæ–‡æ¡£éƒ½æ²¡å¾—ï¼Œå¿ƒé‡Œä¸‹æ„è¯†çš„è§‰ç€å‡‰é€äº†ï¼Œæƒ³è‡ªå­¦éƒ½æ²¡å¾—é—¨è·¯ï¼Œæ­¤åˆ»åªæƒ³ç‚¹ä¸€ç¢—ä¼¤å¿ƒå‡‰ç²‰å®‰æ…°ä¸€ä¸‹è‡ªå·±ï¼›</p><br><p>åé‚£ä¸€å‘¨ï¼Œæ˜¯æˆ‘çš„è´Ÿè´£äººï¼Œæ¬ç€ä¸€ä¸ªå°æ¿å‡³ï¼Œååœ¨æˆ‘æ—è¾¹ï¼Œä¸€è¡Œä¸€è¡Œçš„æ•²ç€æˆ‘çœ‹çš„ï¼Œæˆ‘æ‰å¾—ä»¥å¿«é€Ÿä¸Šæ‰‹çš„ã€‚åé¢å°±æƒ³ç€ï¼Œä¸€å®šè¦å°½å¿«çš„æ‘¸æ¸…æ¥š dtk çš„ç»˜ç”»è‡ªå®šä¹‰çš®è‚¤çš„æ§ä»¶çš„æ¶æ„å’ŒåŸç†ã€‚åé¢å†™å‡ ç¯‡ dtk åˆ†æï¼Œå¸®åŠ©åé¢å°ç™½å…¥é—¨ï¼Œå°½æˆ‘æ‰€èƒ½å¸®åŠ©ï¼Œä¸ºå®ƒçš„å‘å±•æ·»ä¸€å—ç“¦ï¼ˆæ‰€å¹¸ï¼Œåœ¨å»¶æœŸäº†å‡ ä¸ªæœˆåï¼Œå°†å…¶å†™å‡ºæ¥ä¸”å‘è¡¨äº†ğŸ¤£ğŸ¤£ï¼‰</p><br><p>è‡³ä»Šå›å¿†èµ·æ¥ï¼Œéƒ½æ„Ÿè§‰æœ‰ç‚¹ä¸å¥½æ„æ€ï¼Œä½†æ˜¯é‚£ä¼šå´åˆæ˜¯æ— å¯å¥ˆä½•ã€‚è‡³ä»Šéƒ½ååˆ†å¥‡æ€ªï¼Œä¸ºä½•ä»–çš„è€å¿ƒå¦‚æ­¤åªå¥½ï¼Œå¤§æ¦‚å›å­æ— æ„ è‰²ï¼Œå°±æ˜¯è¿™ç§èµèª‰å§~ ï¼ˆå°¤å…¶æ˜¯æ¯å¤©éƒ½æœ‰å¾ˆå¤šäººæ‰¾ä»–çš„æƒ…å†µä¸‹ï¼Œå·¨å¿™ï¼‰ï¼›é‚£ä¸ªæ—¶å€™ï¼Œä¹Ÿä¸åªæ˜¯æˆ‘ï¼Œè¿˜æœ‰å¾ˆå¤šæ–°äººä¹Ÿæ˜¯è¢«æ‰‹æŠŠæ‰‹çš„æ•™ä¼š ç€å¦‚ä½•å¼€å‘ dtkã€‚é‚£ä¼šçœ‹åˆ°ï¼Œå¤§ä½¬å¾ˆå¿™ç¢Œï¼Œä½†æ˜¯åˆä¸å¾—ä¸è¯·æ•™ä»–çš„æ—¶å€™ï¼Œå°±è§‰å¾—å¾ˆæ®‹å¿~ï¼ˆå°¤å…¶æ˜¯å¶å°”è¿˜æ‰“æ‰°å‘¨æœ«ä¼‘æ¯ï¼‰</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/IMG_1342.JPG" width="35%"/ loading="lazy"><br><h4 id="dtk-çš„æ–‡æ¡£æ—¶ä»£ï¼š"><a href="#dtk-çš„æ–‡æ¡£æ—¶ä»£ï¼š" class="headerlink" title="dtk çš„æ–‡æ¡£æ—¶ä»£ï¼š"></a>dtk çš„æ–‡æ¡£æ—¶ä»£ï¼š</h4><p>çº¦ 2019 å¹´æœ«ï¼Œ2020 å¹´åˆ~ï¼Œdeepin å’Œ team æˆé•¿çš„å¾ˆå¤šï¼Œæ”¶è·äº†ä¹Ÿå¾ˆå¤šï¼Œå’Œå¤–éƒ¨ä¸€èµ·åˆåŠ›æˆç«‹ä¸€ä¸ªæ›´å¤§çš„å…¬å¸ï¼ˆç»Ÿä¿¡è½¯ä»¶ï¼‰ï¼Œæ¥æ›´å¥½çš„æ•´åˆèµ„æºä¸é¢„è®¡å‰æ™¯è§„åˆ’ ~ ï¼›</p><br><p>éšç€ uos v20 sp1 å’Œ deepin v20 beta çš„å…ˆååœ¨ä»Šå¹´å‘å¸ƒï¼Œä»¥åŠ deepin ä¹Ÿæ”¶è·äº†é‡‘é’±å’Œå…¶ä»–èµ„æºçš„æ”¯æŒï¼Œåæ‰‹å°±æ˜¯ä¸€ä¸ªæŠ•å…¥æ›´å¤šçš„è´¢åŠ›äººåŠ›å’Œå…¶ä»–èµ„æºæ¥ç ”å‘æ–°çš„ v20 ç‰ˆæœ¬ã€‚ä»¥è·å¾—æ›´å¥½çš„å›æŠ¥~ï¼Œç„¶åè‰¯æ€§å¾ªç¯ã€‚</p><p>å’³å’³ï¼Œå¥½åƒæœ‰ç‚¹è·‘é¢˜äº†å“¦~ ä¸è¿‡è½å®åˆ°å’Œ dtk ç›¸å…³çš„å°±æ˜¯ï¼Œæœ‰ä¸€æ®µæ—¶é—´ï¼Œä¸€ç¾¤ç ”å‘ä»¬ï¼Œç–¯ç‹‚ç†¬å¤œåŠ ç­ï¼Œç»™è¡¥å…… dtk æ–‡æ¡£ï¼ˆéªŒè¯äº†ä¼ç¬” :dog:ï¼‰ï¼Œä½¿ç”¨ Doxygen æ¥ç”Ÿæˆæ–‡æ¡£ï¼ˆå¤§éƒ¨åˆ†éƒ½æ˜¯ä¸­æ–‡çš„å“¦~ï¼‰ã€‚</p><p>æœ‰å…³ dtk çš„ api ä½¿ç”¨è¯´æ˜ï¼Œå¯ä»¥å‚è€ƒï¼š<a href="https://linuxdeepin.github.io/dtk/">https://linuxdeepin.github.io/dtk</a> </p><p>ä½†ä¸çŸ¥é“ä¸ºä»€ä¹ˆä¼šæ˜¾ç¤ºä¸Šæ¬¡æ›´æ–°çš„æ—¶é—´è¿˜æ˜¯ 20219-07-10ï¼Œå®é™…åé¢æœ‰è¡¥å……å¾ˆå¤šçš„~ã€‚æ­¤é˜¶æ®µå¤–éƒ¨å¼€å‘ï¼Œå¯ä»¥å¾ˆå¤§ä¸€ä¸ªç¨‹åº¦æ¥ä¾é æ­¤æ–‡æ¡£ã€‚ä¸” dtk çš„æ¯ä¸€ä¸ª api çš„è§£é‡Šéƒ½æ˜¯å†™åœ¨å‡½æ•°çš„ä¸Šé¢çš„æ³¨é‡Šåœ°æ–¹ã€‚ç›´æ¥ä½¿ç”¨ IDE çš„ä»£ç æç¤º + æºç  api çš„æ³¨é‡Šï¼Œå¯ä»¥æ›´åŠ é«˜æ•ˆçš„å¼€å‘ã€‚</p><p><strong>ç°é˜¶æ®µå°±æ˜¯å†…éƒ¨é ï¼š è§†é¢‘åŸ¹è®­ + æ‰‹æŠŠæ‰‹å¸¦ + Doxygen æ–‡æ¡£ + ä¼ä¸šwxç¾¤ + ç¿»çœ‹æºç  + ç»„å‘˜å¸®åŠ©</strong></p><p><strong>å¤–éƒ¨é ï¼š å›çœ‹è§†é¢‘åŸ¹è®­ + Doxygen æ–‡æ¡£ + ä¼ä¸šwxç¾¤@dtkç ”å‘æ¥è®²è§£ + ç¿»çœ‹æºç  + ç»„å‘˜å¸®åŠ©</strong></p><br><p><font color=#FF0000 >ä¸è¿‡è¯´è®²çœŸï¼Œdtk å­¦ä¹ ï¼Œæœ€å¿«æœ€æœ‰æ•ˆçš„ï¼Œè¿˜æ˜¯è‡ªè¡Œç¿»é˜… Qt &amp; dtk çš„æºç ï¼›å’Œè‡ªå·±å°è¯•ç‹¬ç«‹å†™å‡ºä¸€ä¸ªè‡ªç»˜ dtk æ§ä»¶çš®è‚¤æ ·å¼æ¥çš„å¿«ã€‚ä¸”å­¦ä¹  qt&#x2F; c++ çš„äººï¼Œä¸€èˆ¬è‡ªå­¦èƒ½åŠ›éƒ½çœŸçš„å¾ˆå¼ºï¼Œå…¶ä¸­ dtk çš„é¡¹ç›®éƒ½å·²ç»åœ¨ github ä¸Šé¢åŒæ­¥å¼€æºäº†ï¼š<a href="https://github.com/linuxdeepin">linuxdeepin</a>ï¼Œ å…¶ä¸­ç¤¾åŒºç‰ˆçš„åˆ†æ”¯æ˜¯å’Œå†…éƒ¨çš„ gitlab æ˜¯ä¿æŒåŒæ­¥çš„ã€‚</font></p>  <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/IMG_5522.JPG" width="35%"/ loading="lazy"><br><h3 id="dtk-åº“çš„å¿«é€Ÿå…¥é—¨ï¼š"><a href="#dtk-åº“çš„å¿«é€Ÿå…¥é—¨ï¼š" class="headerlink" title="dtk åº“çš„å¿«é€Ÿå…¥é—¨ï¼š"></a>dtk åº“çš„å¿«é€Ÿå…¥é—¨ï¼š</h3><br><h4 id="å¦‚ä»Š-dtk-é¡¹ç›®çš„æ„æˆï¼ˆ2020-05ï¼‰ï¼š"><a href="#å¦‚ä»Š-dtk-é¡¹ç›®çš„æ„æˆï¼ˆ2020-05ï¼‰ï¼š" class="headerlink" title="å¦‚ä»Š dtk é¡¹ç›®çš„æ„æˆï¼ˆ2020-05ï¼‰ï¼š"></a>å¦‚ä»Š dtk é¡¹ç›®çš„æ„æˆï¼ˆ2020-05ï¼‰ï¼š</h4><p><font color=#FF0000  size=4 face="å¹¼åœ†"><strong>ç›®å‰ï¼Œdtk é¡¹ç›®çš„å„ä¸ªä»“åº“ä¹‹é—´çš„å…³ç³»å¦‚ä¸‹ï¼š</strong></font> ç°åœ¨åŸºæœ¬æ˜¯è¿™ä¸ªæ ¼å±€äº†ï¼ˆå›¾ç‰‡åŸºæœ¬å‡†ç¡®ï¼‰ï¼Œè¯´ä¸€ä¸‹ä¸ªäººçš„ dtk å’Œå®ƒä»¬ä¹‹é—´çš„ç†è§£ï¼š</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200514160359.png" width="100%"/ loading="lazy"> <p>å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä½ æ˜¯ä¸éœ€è¦æŒæ¡è¿™ä¹ˆå¤šçš„åº“çš„ï¼Œä¹Ÿä¸ä¼šéœ€è¦ä½ ä¸€ä¸ªäººåŒæ—¶ç»´æŠ¤è¿™ä¹ˆå¤šçš„åº“ï¼Œä¸”åŒæ—¶æœ‰ä¸€äº›åº“ï¼Œæ˜¯å¾ˆå°‘è¢«æ”¹åŠ¨çš„ã€‚å¹¶ä¸æ˜¯ç»å¸¸éœ€è¦æäº¤ã€‚</p><p><strong>è¿™é‡Œå†æ¬¡è¯´ä¸€ä¸‹ dtk çš„å«ä¹‰ï¼š</strong></p><blockquote><p><strong>dtk &#x3D; dtké¡¹ç›® &#x3D; å¤šä¸ªä»“åº“é›†åˆ &#x3D; dtkwidget + dtkgui + qt5integration + dtkcore + â€¦</strong></p></blockquote><p><strong>å…³äº dtk çš„åº“ï¼Œåœ¨å¤–ç½‘ github å’Œå†…ç½‘ gitlab ä¸Šé¢æ˜¯ä¿æŒä¸€è‡´çš„ï¼Œå¯¹åº”çš„åˆ†æ”¯æ˜¯æ—¶åˆ»åŒæ­¥çš„ï¼›</strong> æ•…ä»å†…ç½‘æˆ–è€…å¤–ç½‘ä¸‹è½½å­¦ä¹ ï¼Œéƒ½æ˜¯è¿™ä¹ˆå¼€å¿ƒå’Œè½»æ¾ã€‚å¯¹äº dtk çš„å­¦ä¹ ä½¿ç”¨ï¼Œä¸»è¦æŒæ¡ä»¥ä¸‹ä¸¤ä¸ªä»“åº“ qt5integration ã€ dtkwidget çš„å­¦ä¹ å’Œä½¿ç”¨ï¼Œå…¶ä¸­ä¸»è¦æ˜¯åœ¨å·¥ä½œå’Œå…´è¶£å¼€å‘ä¸­çš„ä¹¦å†™ä»£ç çš„ä¸»è¦é˜µåœ°ã€‚</p><br><h4 id="ç®€è¿°-dtk-çš„å„ä»“åº“ä½œç”¨ï¼š"><a href="#ç®€è¿°-dtk-çš„å„ä»“åº“ä½œç”¨ï¼š" class="headerlink" title="ç®€è¿° dtk çš„å„ä»“åº“ä½œç”¨ï¼š"></a>ç®€è¿° dtk çš„å„ä»“åº“ä½œç”¨ï¼š</h4><p>ä¸‹é¢ä»¥ä¸€ç§æ¸…æ™°ã€ç®€é™‹çš„ç†è§£ï¼Œå…¨å±€çš„æ¦‚æ‹¬çš„è®²è§£ <code>qt5integration</code>ã€<code>dtkwidget</code>ã€<code>dtkgui</code>è¿™ä¸‰ä¸ªæ¯”è¾ƒå¸¸ç”¨çš„ä»“åº“ï¼ˆè‹¥æ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦çš„è¯ï¼Œçœ‹å®Œäº†åï¼Œä½ è¿˜è®°å¾—æ¯ä¸€ä¸ªéƒ¨åˆ†å¯¹åº”çš„ä»€ä¹ˆéº½ï¼ŸğŸ˜¶ğŸ˜¶ï¼‰</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/IMG_0604.JPG" width="20%"/ loading="lazy"><br><h5 id="qt5integrationï¼š"><a href="#qt5integrationï¼š" class="headerlink" title="qt5integrationï¼š"></a><a href="https://github.com/linuxdeepin/qt5integration">qt5integrationï¼š</a></h5><ul><li><p><strong>qt5integration é¡¹ç›®ç»“æ„ç»„æˆï¼š</strong></p><ul><li><p>å…¶ä¸»è¦æ˜¯ç”±å¦‚ä¸‹å‡ ä¸ªå­éƒ¨åˆ†ç»„æˆ</p><ul><li><p><strong>iconengines:</strong> DIcon æ’ä»¶ç›¸å…³ï¼Œæ–¹ä¾¿ç›´æ¥æå–é¡¹ç›®ä¸­ .svg å›¾ç‰‡èµ„æºï¼Œå¸¸ç”¨å¦‚ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">case</span> SP_DialogResetButton<span class="token operator">:</span>            icon <span class="token operator">=</span> <span class="token class-name">QIcon</span><span class="token double-colon punctuation">::</span><span class="token function">fromTheme</span><span class="token punctuation">(</span><span class="token function">QLatin1String</span><span class="token punctuation">(</span><span class="token string">"edit-clear"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p><strong>imageformats:</strong> ç›¸å½“äºå®ç° DIcon::fromTheme() çš„åŠŸèƒ½å‡½æ•°</p></li><li><p><strong>qt5deepintheme-pluginï¼š</strong> ä¸€äº›åŸºç¡€çš„å›¾ç‰‡ svg èµ„æºå­˜å‚¨åœ°æ–¹ï¼Œé‡ç‚¹ä¸º Resources æ–‡ä»¶</p></li><li><p><strong>stylepluginsï¼š</strong> deepin çš„è‡ªå®šä¹‰ chameleon style æ ·å¼æ’ä»¶ï¼ŒåŸºæœ¬æ‰€æœ‰ Dxxxxx æ§ä»¶ï¼Œéƒ½æ˜¯åœ¨ chameleon.h chameleon.cpp è¿™ä¸¤ä¸ªé‡Œé¢å®ç°çš„ï¼ˆä¹Ÿæ˜¯æˆ‘ä»¬æœ€ä¸»è¦ä¿®æ”¹ code çš„åœ°æ–¹ï¼‰</p></li><li><p><strong>stylesï¼š</strong> æµ‹è¯•ä¾‹å­ï¼Œä¹Ÿæ˜¯ main.cpp çš„å‡½æ•°å…¥å£</p></li></ul></li><li><p>ç»˜ç”» dtk æ§ä»¶çš„çš®è‚¤æ ·å¼ï¼Œä¸»è¦æ˜¯ chameleon æ ·å¼ï¼Œå…¶ä¸­ä¸»è¦çš„ä¸»è¦æ•ˆæœå¦‚ä¸‹</p></li></ul><p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200514_165236.png" width="35%"/ loading="lazy"> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/2020-05-14_16-43-35.png" width="62%"/ loading="lazy"></p></li></ul><br><h4 id="dtkwidget"><a href="#dtkwidget" class="headerlink" title="dtkwidget:"></a><a href="https://github.com/linuxdeepin/dtkwidget">dtkwidget:</a></h4><ul><li><strong>dtkwidget é¡¹ç›®ç»“æ„ç»„æˆï¼š</strong><ul><li>dtkwidget å…¶ä¸»è¦æ˜¯ç”±å¦‚ä¸‹å‡ ä¸ªå­éƒ¨åˆ†ç»„æˆ<ul><li><strong>examples:</strong> é‡Œé¢çš„ main.cpp æ˜¯æ•´ä¸ªç¨‹åºçš„å…¥å£ï¼Œé€šå¸¸åœ¨è¿™é‡Œæµ‹è¯•</li><li><strong>srcï¼š</strong> dtk çš„è‡ªå®šä¹‰ Dxxxx æ§ä»¶ï¼Œéƒ½å­˜æ”¾äºå…¶ä¸‹çš„ widgets ä¸‹ï¼Œ å¦‚ <a href="https://github.com/linuxdeepin/dtkwidget/blob/master/src/widgets/darrowbutton.h">darrowbutton.h</a> ã€<a href="https://github.com/linuxdeepin/dtkwidget/blob/master/src/widgets/darrowlinedrawer.cpp">darrowlinedrawer.cpp</a>ã€<a href="https://github.com/linuxdeepin/dtkwidget/blob/master/src/widgets/ddialog.cpp">ddialog.cpp</a>ã€<a href="https://github.com/linuxdeepin/dtkwidget/blob/master/src/widgets/dslider.cpp">dslider.cpp</a> è¿™äº›ç­‰ï¼ˆæˆ‘ä»¬ä¹Ÿé€šå¸¸åœ¨è¿™é‡Œç›´æ¥ä¿®æ”¹ Dxxx.h å’Œ Dxxx.cpp æ–‡ä»¶ï¼‰ï¼Œæ˜¯ dtk å¼€å‘çš„ä¸»æˆ˜åœºã€‚</li><li><strong>toolsï¼š</strong> å·¥å…·ç›¸å…³ã€å¯ä¸ç®¡</li></ul></li><li>ç»˜ç”» dtk è‡ªå®šä¹‰çš„æ§ä»¶çš„çš®è‚¤æ ·å¼ï¼Œå…¶ä¸­ä¸»è¦çš„ä¸»è¦æ•ˆæœå¦‚ä¸‹</li></ul></li></ul><p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/2020-05-14_17-16-43.png" width="35%"/ loading="lazy"> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200514171919.png" width="62%"/ loading="lazy"></p><br><h4 id="dtkgui"><a href="#dtkgui" class="headerlink" title="dtkgui:"></a><a href="https://github.com/linuxdeepin/dtkgui">dtkgui:</a></h4><ul><li><p><strong>dtkgui é¡¹ç›®ç»“æ„ç»„æˆï¼š</strong></p><ul><li><p>è¿™ä¸ªå°±æ˜¯å‰é¢è¯´çš„ï¼Œç°åœ¨å¾ˆå°‘éœ€è¦ä¿®æ”¹ï¼Œä½†æ˜¯å¶å°”è¦ä¼šä½¿ç”¨çš„ä»“åº“ã€‚æ¯”å¦‚è®¾è®¡å¸ˆä¿®æ”¹äº†ä»–ä»¬çš„åŸºç¡€é¢œè‰²çš„ Color çš„ rgb æ•°å€¼ï¼Œè°ƒæ•´äº†ä¸€ä¸‹é€æ˜åº¦ç­‰ï¼Œä»–ä»¬ç»™çš„å‚æ•°ï¼Œä¸€èˆ¬éƒ½æ˜¯åœ¨è¿™é‡Œæ¥å®ç°ï¼Œå°†å…·ä½“çš„é¢œè‰²æ•°å€¼ä¸ Qt å­å®šä¹‰çš„æšä¸¾å¯¹åº”èµ·æ¥ã€‚</p></li><li><p>å…¶ä¸­ä¸»è¦æ˜¯ä¿®æ”¹ src-dguiapplicationhelper.cpp è¯¥æ–‡ä»¶ï¼Œä¸€æ—¦ä¿®æ”¹ï¼Œæ‰€æœ‰å…¶å€¼ï¼Œæ‰€æœ‰äººçš„æ•ˆæœéƒ½ä¼šå‘ç”Ÿæ”¹å˜ï¼Œè°¨æ…ã€‚</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/2020-05-14_17-35-37.png" width="100%"/ loading="lazy"></li></ul></li></ul><br><h3 id="ä¸‹è½½åœ°å€ï¼š"><a href="#ä¸‹è½½åœ°å€ï¼š" class="headerlink" title="ä¸‹è½½åœ°å€ï¼š"></a>ä¸‹è½½åœ°å€ï¼š</h3><p><a href="https://github.com/xmuli/QtExamples">QtExamples</a></p><p>æ¬¢è¿ star å’Œ fork è¿™ä¸ªç³»åˆ—çš„ qt&#x2F;dtk å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p><br><h3 id="èµ„æ–™æ‰‹å†Œ-amp-amp-æ•…åœ°å€é—è¿¹ï¼š"><a href="#èµ„æ–™æ‰‹å†Œ-amp-amp-æ•…åœ°å€é—è¿¹ï¼š" class="headerlink" title="èµ„æ–™æ‰‹å†Œ &amp;&amp; æ•…åœ°å€é—è¿¹ï¼š"></a>èµ„æ–™æ‰‹å†Œ &amp;&amp; æ•…åœ°å€é—è¿¹ï¼š</h3><h4 id="èµ„æ–™æ‰‹å†Œï¼š"><a href="#èµ„æ–™æ‰‹å†Œï¼š" class="headerlink" title="èµ„æ–™æ‰‹å†Œï¼š"></a>èµ„æ–™æ‰‹å†Œï¼š</h4><ul><li><p><a href="xmuli.tech/posts/e7de542e/">Deepinã€DTK æ–‡æ¡£å‚è€ƒèµ„æ–™é›†åˆ</a>ï¼š ä¸ªäººæ•´ç†çš„ä¸€äº› DTK æ–‡æ¡£èµ„æ–™ (2020-01-05)</p></li><li><p><a href="https://github.com/linuxdeepin">linuxdeepin</a>: deepin åœ¨ github çš„å¼€æºåœ°å€ï¼› å¤§éƒ¨åˆ†é¡¹ç›®å‡å·²å¼€æºï¼ˆå«å®Œæ•´ dtkï¼‰ï¼Œä¸”å’Œå†…éƒ¨ä¿æŒä¸€è‡´ï¼Œæ— è®ºæ˜¯æƒ³è¦å­¦ä¹  dtk çš„å¼€å‘ï¼Œè¿˜æ˜¯ç ”ç©¶ä¸€äº›åº”ç”¨è½¯ä»¶çš„ä½¿ç”¨ï¼Œæäº¤ prï¼Œå‡å¯ä»¥åœ¨æ­¤ github è¿™ä¸ªäº¤å‹ç½‘ç«™æ‰¾åˆ°ä½ çš„æƒ³è¦çš„èµ„æº</p></li><li><p><a href="https://linuxdeepin.github.io/dtk/">dtk api æ–‡æ¡£</a> ï¼šæœ‰å…³ dtk çš„ api ä¸­æ–‡ä½¿ç”¨è¯´æ˜ï¼›æ›´å¤šæ³¨é‡Šï¼Œè¯·é˜…æºç æ³¨é‡Š</p></li><li><p><a href="https://github.com/xmuli/QtExamples">dtk é‡ç»˜æ§ä»¶çš„åŸç†è§£æ</a>ï¼šå…¶ä¸­ç¬¬äº”ç« èŠ‚ï¼Œä¸º dtk çš„æºç æ¶æ„åˆ†æã€ä»¥åŠå…¥é—¨å’Œå¼€å‘ï¼Œä¸€äº›ç†è§£å’Œå®æˆ˜</p></li><li><p><a href="https://xmuli.blog.csdn.net/article/details/104987446">DTKé‡ç»˜è‡ªå®šä¹‰éœ€æ±‚æ§ä»¶</a>ï¼š ä» 0 ç«‹åˆ›é€ ä¸€ä¸ªé Qt åŸç”Ÿæ§ä»¶ï¼Œä¸”è‡ªå®šä¹‰å…¶æ§ä»¶çš®è‚¤ï¼ˆç³»åˆ—æœ‰ä¸‰ç¯‡ï¼‰</p></li><li><p><a href="https://xmuli.blog.csdn.net/article/details/106187959">DTKå¸¸ç”¨å’Œæµ‹è¯•ä»£ç ç‰‡</a>ï¼šdtk çš„ä¸€äº›å¼€å‘å¸¸ç”¨ã€å’Œæµ‹è¯•çš„ä»£ç ç‰‡</p></li><li><p><a href="https://blog.justforlxz.com/2018/01/12/%E4%BD%BF%E7%94%A8DTK%E5%BC%80%E5%8F%91/">ä½¿ç”¨ DTK å¼€å‘ï¼ŒD å¼€å¤´çš„å®å’Œå‘½åç©ºé—´çš„ä½¿ç”¨</a>ï¼šï¼ˆæ—©æœŸï¼‰å…³äº dtk å®çš„ä½¿ç”¨</p></li><li><p><a href="https://github.com/BLumia/BLumiaGist/tree/master/Misc/DDE">DDE.dot</a> ï¼šdtk å„ä»“åº“ä¹‹é—´çš„è”ç³»å›¾</p></li><li><p><a href="https://www.deepin.org/">deepin å®˜ç½‘</a>ï¼šå®˜ç½‘çš„å‘å¸ƒç¤¾åŒºç‰ˆ deepinï¼Œä¹Ÿæ˜¯ä¸€ä¸ªè·å–çš„ç”¨æˆ·äº¤æµè®ºå›</p></li><li><p><strong>dtk å’Œ qt æºç  + æ³¨é‡Šï¼ˆæœ€ä½³ï¼‰</strong></p></li></ul><h4 id="é•œåƒä¸‹è½½ï¼š"><a href="#é•œåƒä¸‹è½½ï¼š" class="headerlink" title="é•œåƒä¸‹è½½ï¼š"></a>é•œåƒä¸‹è½½ï¼š</h4><ul><li><a href="https://www.deepin.org/download/">deepin.org&#x2F;download</a>ï¼šdeepin v20 çš„ iso é•œåƒä¸‹è½½åœ°å€ï¼ˆå®˜ç½‘ï¼‰</li><li><a href="https://www.chinauos.com/cooperative">chinauos.com&#x2F;cooperative</a>ï¼šuos v20 çš„ iso é•œåƒå®˜ç½‘ä¸‹è½½ï¼ˆå®˜ç½‘ï¼‰</li><li><a href="https://distrowatch.com/table.php?distribution=deepin">deepin é•œåƒå›½é™…æ’å</a>ï¼š deepin å†å²ç‰ˆæœ¬ï¼ˆå›½é™…æ’åï¼‰ã€‚</li><li>&amp;&amp;</li><li><a href="https://wiki.deepin.org/wiki/Dtk">https://wiki.deepin.org/wiki/Dtk</a></li><li><a href="https://hualet.org/blog/2018/09/26/%E5%A6%82%E4%BD%95%E7%BB%99-dtk-%E6%B7%BB%E5%8A%A0%E6%96%87%E6%A1%A3/">å¦‚ä½•ç»™ DTK æ·»åŠ æ–‡æ¡£</a></li><li><a href="https://www.deepin.org/dde/">æ·±åº¦æ¡Œé¢ç¯å¢ƒ</a></li><li><a href="https://www.deepin.org/aboutus/">å…³äº deepin å…¬å¸ï¼ˆå‰èº«ï¼‰</a> ï¼ˆå®˜ç½‘ï¼‰</li><li><a href="https://www.uniontech.com/about">å…³äº uos å…¬å¸ ï¼ˆå¦‚ä»Šï¼‰</a> å®˜ç½‘ï¼‰</li></ul><br><h4 id="å‚è€ƒ-amp-amp-æ„Ÿè°¢ï¼š"><a href="#å‚è€ƒ-amp-amp-æ„Ÿè°¢ï¼š" class="headerlink" title="å‚è€ƒ &amp;&amp; æ„Ÿè°¢ï¼š"></a>å‚è€ƒ &amp;&amp; æ„Ÿè°¢ï¼š</h4><p>åœ¨æ¢ç©¶ dtk çš„å†å²ä¸­ï¼Œæœå¯»ç€ä¸€äº›å¹¶ä¸å¤šçš„ç½‘ç»œåšå®¢æ–‡ç« ï¼Œå’Œå‰è¾ˆä»¬ã€å¤§ä½¬ä»¬çš„æ²Ÿé€šï¼Œå£å£ç›¸ä¼ ï¼Œæ–‡ä¸­æœ‰ä½¿ç”¨ä»–ä»¬çš„ç´ ææˆ–è€…åšå®¢ç‰‡æ®µï¼Œæˆ–è€… dtk çš„ç›¸å…³ä»‹ç»ã€ä½¿ç”¨æŠ€å·§é“¾æ¥ï¼Œè¡¨ç¤ºå¥½æ„Ÿå’Œè°¢è°¢ Thanksâ™ª(ï½¥Ï‰ï½¥)ï¾‰ <a href="https://github.com/zccrs">zccrs</a>ã€<a href="https://github.com/shule1987">shule</a>ã€<a href="https://github.com/hualet">hualet</a>ã€<a href="https://github.com/BLumia">BLumia</a>ã€<a href="https://github.com/xmuli">xmuli</a>ã€<a href="https://github.com/justforlxz">justforlxz</a> â€¦ç­‰</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>DTKå¸¸ç”¨å’Œæµ‹è¯•ä»£ç ç‰‡</title>
      <link href="/posts/b59ab8c1/"/>
      <url>/posts/b59ab8c1/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€<code>DTK</code> å¸¸ç”¨å’Œæµ‹è¯•ä»£ç ç‰‡ï¼Œåœ¨ <code>deepin 20</code> æˆ– <code>uos 20</code> ä¸­ï¼Œå…¨éƒ¨ä½¿ç”¨ <code>DTK</code> å¼€å‘ï¼Œå…¶ä¸­æœ‰ä¸€äº›æ˜¯ç»å¸¸é‡åˆ°çš„å®šä½ <code>bug</code> å’Œä¿®æ”¹çš„ä»£ç ç‰‡ã€‚åœ¨æ­¤æŠ›è½¬å¼•ç‰ï¼Œæäº¤ä¸€ç‚¹å¼€å‘çš„è´¡çŒ®</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="å¼€å‘ç¯å¢ƒï¼š"><a href="#å¼€å‘ç¯å¢ƒï¼š" class="headerlink" title="å¼€å‘ç¯å¢ƒï¼š"></a>å¼€å‘ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>uos 20</code> ğŸ“ <code>deepin 20</code> ğŸ“ <code>gcc/g++ 8.3</code> ğŸ“ <code>gdb8.0</code> </p><br><h3 id="å°†-dtkwidget-é¡¹ç›®æ³¨å†Œåˆ°ç³»ç»Ÿï¼š"><a href="#å°†-dtkwidget-é¡¹ç›®æ³¨å†Œåˆ°ç³»ç»Ÿï¼š" class="headerlink" title="å°† dtkwidget é¡¹ç›®æ³¨å†Œåˆ°ç³»ç»Ÿï¼š"></a>å°† dtkwidget é¡¹ç›®æ³¨å†Œåˆ°ç³»ç»Ÿï¼š</h3><p>è¿™é‡Œä»¥ <code>dtkwidget</code> ä¸ºä¾‹ï¼Œå®ƒåœ¨ç³»ç»Ÿçš„åŠ¨æ€åº“æ˜¯å­˜æ”¾è·¯å¾„ä¸º <code>/usr/lib/x86_64-linux-gnu/</code></p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200407_134649.png" width="100%"/ loading="lazy"><ul><li><strong>è§£ç­”å›¾ç‰‡ï¼š</strong><br>ç»è¿‡æµ‹è¯•ï¼Œç³»ç»Ÿåº“å’Œ DTK é¡¹ç›®çš„ç”Ÿæˆçš„ libdtkwidget.so å®é™…ä½¿ç”¨çš„éƒ½æ˜¯ æœ€æ–°çš„ 5.xxx ç‰ˆæœ¬ï¼Œè¿™é‡Œé¢çš„æ˜¯ .so.5.1.0ï¼›ç³»ç»Ÿåº“é‡Œé¢é—ç•™ä¸‹æ¥çš„ 2.xxx ç‰ˆæœ¬å¯èƒ½æ˜¯æä¾›ç»™æŸäº›æ²¡æœ‰v20ç‰ˆæœ¬çš„é¡¹ç›®ä½¿ç”¨çš„ã€‚</li><li>è‹¥æ˜¯æƒ³è¦ä»£ç ç‰‡ç”Ÿæ•ˆçš„è¯ï¼Œåˆ™å°†é¡¹ç›®ç”Ÿæˆçš„ .so æ–‡ä»¶æ›¿ä»£æ¢æ‰ ç³»ç»Ÿè·¯å¾„ä¸‹ï¼Œè‹¥æ˜¯æœ‰æ–°çš„æ¥å£æ”¹åŠ¨ï¼Œé‚£ä¹ˆå¯¹åº”çš„å¤´æ–‡ä»¶ä¹Ÿè¦ä¸€èµ·æ›¿æ¢æ‰</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#ã€å‘½ä»¤ï¼š 5.1.0 éœ€è¦æ›¿æ¢ä¸ºå®é™…çš„æœ€å¤§ã€‘</span><span class="token comment">#[æ‹·è´äºŒè¿›åˆ¶æ–‡ä»¶ï¼š]</span><span class="token function">sudo</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> /usr/lib/x86_64-linux-gnu/libdtkwidget.so.5.1.0<span class="token function">sudo</span> <span class="token function">cp</span>  <span class="token punctuation">..</span>/build-dtkwidget-unknown-Debug/src/libdtkwidget.so.5.1.0 /usr/lib/x86_64-linux-gnu/<span class="token comment">#[æ‹·è´å¤´æ–‡ä»¶ï¼š]</span><span class="token function">sudo</span> <span class="token function">cp</span> /home/muli/project/dtkwidget/src/widgets/dslider.h /usr/include/libdtk-5.1.0/DWidget/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>PSï¼ˆuos &#x2F; deepinï¼‰ï¼š</strong></p><p>å¯¹äº <code>dtkwidget</code> é¡¹ç›®ä¼šç”Ÿæˆ <code>libdtkwidget.so</code> åŠ¨æ€åº“ï¼›ç³»ç»Ÿå­˜æ”¾è·¯å¾„ä¸º <code>/usr/lib/x86_64-linux-gnu/</code> ï¼›</p><p>é¡¹ç›® <code>dtkgui</code> ä¼šç”Ÿæˆ <code>libdtkgui.so</code> åŠ¨æ€åº“æ–‡ä»¶ï¼›ç³»ç»Ÿå­˜æ”¾è·¯å¾„ä¸º <code>/usr/lib/x86_64-linux-gnu/</code> ï¼›</p><p>é¡¹ç›® <code>qt5integration</code> ä¼šç”Ÿæˆ <code>libchameleon.so</code> åŠ¨æ€åº“æ–‡ä»¶åœ¨ <code>./bin/plugins/styles/libchameleon.so  </code> ä¸‹ ï¼›<code>/usr/lib/x86_64-linux-gnu/qt5/plugins/styles/</code></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> /usr/lib/x86_64-linux-gnu/qt5/plugins/styles/libchameleon.so<span class="token function">sudo</span> <span class="token function">cp</span>  ./bin/plugins/styles/libchameleon.so /usr/lib/x86_64-linux-gnu/qt5/plugins/styles/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><br><h3 id="åˆ¤æ–­-ç³»ç»Ÿä¸»é¢˜æ˜¯æµ…è‰²è¿˜æ˜¯æš—è‰²ï¼š"><a href="#åˆ¤æ–­-ç³»ç»Ÿä¸»é¢˜æ˜¯æµ…è‰²è¿˜æ˜¯æš—è‰²ï¼š" class="headerlink" title="åˆ¤æ–­ ç³»ç»Ÿä¸»é¢˜æ˜¯æµ…è‰²è¿˜æ˜¯æš—è‰²ï¼š"></a>åˆ¤æ–­ ç³»ç»Ÿä¸»é¢˜æ˜¯æµ…è‰²è¿˜æ˜¯æš—è‰²ï¼š</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">DGuiApplicationHelper <span class="token operator">*</span>guiAppHelp <span class="token operator">=</span> <span class="token class-name">DGuiApplicationHelper</span><span class="token double-colon punctuation">::</span><span class="token function">instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>guiAppHelp<span class="token operator">-></span><span class="token function">themeType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> DGuiApplicationHelper<span class="token double-colon punctuation">::</span>ColorType<span class="token double-colon punctuation">::</span>DarkType<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//æš—è‰²ä¸»é¢˜</span><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//æµ…è‰²ä¸»é¢˜</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="å¯¹æŸä¸€é¢œè‰²ï¼Œåœ¨æµ…-x2F-æš—ä¸»é¢˜å¯¹å…¶äº®åº¦è¿›è¡Œä¿®æ”¹ï¼š"><a href="#å¯¹æŸä¸€é¢œè‰²ï¼Œåœ¨æµ…-x2F-æš—ä¸»é¢˜å¯¹å…¶äº®åº¦è¿›è¡Œä¿®æ”¹ï¼š" class="headerlink" title="å¯¹æŸä¸€é¢œè‰²ï¼Œåœ¨æµ… &#x2F; æš—ä¸»é¢˜å¯¹å…¶äº®åº¦è¿›è¡Œä¿®æ”¹ï¼š"></a>å¯¹æŸä¸€é¢œè‰²ï¼Œåœ¨æµ… &#x2F; æš—ä¸»é¢˜å¯¹å…¶äº®åº¦è¿›è¡Œä¿®æ”¹ï¼š</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//DGuiApplicationHelper::toColorType è·å–é¢œè‰²çš„æ˜äº®åº¦ï¼Œå°†å…¶è½¬æ¢ä¸ºä¸»é¢˜ç±»å‹çš„æšä¸¾å€¼ã€‚</span>QColor <span class="token function">lineColor</span><span class="token punctuation">(</span>opt<span class="token operator">-></span>palette<span class="token punctuation">.</span><span class="token function">color</span><span class="token punctuation">(</span>QPalette<span class="token double-colon punctuation">::</span>Base<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">DGuiApplicationHelper</span><span class="token double-colon punctuation">::</span><span class="token function">toColorType</span><span class="token punctuation">(</span>lineColor<span class="token punctuation">)</span> <span class="token operator">==</span> DGuiApplicationHelper<span class="token double-colon punctuation">::</span>LightType<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//æ­¤é¢œè‰²åœ¨æµ…è‰²ä¸»é¢˜ä¸‹ï¼Œäº®åº¦ -10</span>lineColor <span class="token operator">=</span> <span class="token class-name">DGuiApplicationHelper</span><span class="token double-colon punctuation">::</span><span class="token function">adjustColor</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//æ­¤é¢œè‰²åœ¨æš—è‰²è‰²ä¸»é¢˜ä¸‹ï¼Œäº®åº¦ +10</span>lineColor <span class="token operator">=</span> <span class="token class-name">DGuiApplicationHelper</span><span class="token double-colon punctuation">::</span><span class="token function">adjustColor</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="å±æ€§çš„ä½¿ç”¨ï¼š"><a href="#å±æ€§çš„ä½¿ç”¨ï¼š" class="headerlink" title="å±æ€§çš„ä½¿ç”¨ï¼š"></a>å±æ€§çš„ä½¿ç”¨ï¼š</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token function">Q_DECLARE_METATYPE</span><span class="token punctuation">(</span>QMargins<span class="token punctuation">)</span>par<span class="token operator">-></span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"_d_margins"</span><span class="token punctuation">,</span> <span class="token class-name">QVariant</span><span class="token double-colon punctuation">::</span><span class="token function">fromValue</span><span class="token punctuation">(</span>margins<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>QMargins magins <span class="token operator">=</span> par<span class="token operator">-></span><span class="token function">property</span><span class="token punctuation">(</span><span class="token string">"_d_margins"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token generic-function"><span class="token function">value</span><span class="token generic class-name"><span class="token operator">&lt;</span>QMargins<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>par<span class="token operator">-></span><span class="token function">property</span><span class="token punctuation">(</span><span class="token string">"_d_margins"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isValid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>content<span class="token operator">-></span><span class="token function">setContentsMargins</span><span class="token punctuation">(</span><span class="token function">QMargins</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span>content<span class="token operator">-></span><span class="token function">setContentsMargins</span><span class="token punctuation">(</span>magins<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="åœ¨-paintEvent-é‡Œé¢è·å–ä¸€ä¸ªé¢œè‰²ï¼š"><a href="#åœ¨-paintEvent-é‡Œé¢è·å–ä¸€ä¸ªé¢œè‰²ï¼š" class="headerlink" title="åœ¨ paintEvent() é‡Œé¢è·å–ä¸€ä¸ªé¢œè‰²ï¼š"></a>åœ¨ paintEvent() é‡Œé¢è·å–ä¸€ä¸ªé¢œè‰²ï¼š</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token class-name">SliderStrip</span><span class="token double-colon punctuation">::</span><span class="token function">paintEvent</span><span class="token punctuation">(</span>QPaintEvent <span class="token operator">*</span>event<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">Q_UNUSED</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span>    QPainter <span class="token function">pa</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">auto</span> dpa <span class="token operator">=</span> <span class="token class-name">DApplicationHelper</span><span class="token double-colon punctuation">::</span><span class="token function">instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">palette</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QPen penLine <span class="token operator">=</span> <span class="token function">QPen</span><span class="token punctuation">(</span>dpa<span class="token punctuation">.</span><span class="token function">textTips</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QPen penNumber <span class="token operator">=</span> <span class="token function">QPen</span><span class="token punctuation">(</span>dpa<span class="token punctuation">.</span><span class="token function">color</span><span class="token punctuation">(</span>DPalette<span class="token double-colon punctuation">::</span>ObviousBackground<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        pa<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>penLine<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="å°†è‡ªå®šä¹‰é£æ ¼-åº”ç”¨äº-å…¶ä»–çš„è½¯ä»¶ï¼š"><a href="#å°†è‡ªå®šä¹‰é£æ ¼-åº”ç”¨äº-å…¶ä»–çš„è½¯ä»¶ï¼š" class="headerlink" title="å°†è‡ªå®šä¹‰é£æ ¼ åº”ç”¨äº å…¶ä»–çš„è½¯ä»¶ï¼š"></a>å°†è‡ªå®šä¹‰é£æ ¼ åº”ç”¨äº å…¶ä»–çš„è½¯ä»¶ï¼š</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">qtcreator <span class="token parameter variable">-style</span> windowsqtcreator <span class="token parameter variable">-style</span> chameleon<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><br><h3 id="æ‰“å°-QBoxLayouté‡Œé¢çš„æ‰€æœ‰å…ƒç´ ï¼š"><a href="#æ‰“å°-QBoxLayouté‡Œé¢çš„æ‰€æœ‰å…ƒç´ ï¼š" class="headerlink" title="æ‰“å° QBoxLayouté‡Œé¢çš„æ‰€æœ‰å…ƒç´ ï¼š"></a>æ‰“å° QBoxLayouté‡Œé¢çš„æ‰€æœ‰å…ƒç´ ï¼š</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> d<span class="token operator">-></span>hBoxLayout<span class="token operator">-></span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    QLayoutItem <span class="token operator">*</span>item <span class="token operator">=</span> <span class="token punctuation">(</span>QLayoutItem <span class="token operator">*</span><span class="token punctuation">)</span>d<span class="token operator">-></span>hBoxLayout<span class="token operator">-></span><span class="token function">itemAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>i<span class="token operator">&lt;&lt;</span>item<span class="token operator">-></span><span class="token function">widget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="QTåˆ¤æ–­é¼ æ ‡æ˜¯å¦åœ¨æŸå­çª—å£æ§ä»¶ä¸Šæ–¹ï¼š"><a href="#QTåˆ¤æ–­é¼ æ ‡æ˜¯å¦åœ¨æŸå­çª—å£æ§ä»¶ä¸Šæ–¹ï¼š" class="headerlink" title="QTåˆ¤æ–­é¼ æ ‡æ˜¯å¦åœ¨æŸå­çª—å£æ§ä»¶ä¸Šæ–¹ï¼š"></a>QTåˆ¤æ–­é¼ æ ‡æ˜¯å¦åœ¨æŸå­çª—å£æ§ä»¶ä¸Šæ–¹ï¼š</h3><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå­çª—å£è·å–geometryï¼Œæ˜¯ç›¸å¯¹äºçˆ¶çª—å£çš„ç›¸å¯¹ä½ç½®ï¼ŒQCursor::pos()è·å–çš„æ˜¯é¼ æ ‡ç»å¯¹ä½ç½®ï¼Œè¦ä¸å°†çˆ¶çª—å£çš„ç›¸å¯¹ä½ç½®è¿›è¡Œæ¢ç®—ï¼Œè¦ä¸å°†é¼ æ ‡çš„ç»å¯¹ä½ç½®è¿›è¡Œæ¢ç®—ï¼Œè¿™é‡Œæœ¬æ–‡é‡‡ç”¨å°†é¼ æ ‡ç»å¯¹ä½ç½®æ¢ç®—åˆ°æ§ä»¶ä¸Šï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">if</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>groupBox<span class="token operator">-></span><span class="token function">geometry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-></span><span class="token function">mapFromGlobal</span><span class="token punctuation">(</span><span class="token class-name">QCursor</span><span class="token double-colon punctuation">::</span><span class="token function">pos</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br><h3 id="è·å–é¡¹ç›®ä¸­çš„-svg-å›¾ç‰‡èµ„æºï¼š"><a href="#è·å–é¡¹ç›®ä¸­çš„-svg-å›¾ç‰‡èµ„æºï¼š" class="headerlink" title="è·å–é¡¹ç›®ä¸­çš„ .svg å›¾ç‰‡èµ„æºï¼š"></a>è·å–é¡¹ç›®ä¸­çš„ .svg å›¾ç‰‡èµ„æºï¼š</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">case</span> SP_DialogResetButton<span class="token operator">:</span>            icon <span class="token operator">=</span> <span class="token class-name">QIcon</span><span class="token double-colon punctuation">::</span><span class="token function">fromTheme</span><span class="token punctuation">(</span><span class="token function">QLatin1String</span><span class="token punctuation">(</span><span class="token string">"edit-clear"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><br><h3 id="åœ¨-main-cpp-ä¸­ä¿®æ”¹æµ‹è¯•ä»£ç ï¼š"><a href="#åœ¨-main-cpp-ä¸­ä¿®æ”¹æµ‹è¯•ä»£ç ï¼š" class="headerlink" title="åœ¨ main.cpp ä¸­ä¿®æ”¹æµ‹è¯•ä»£ç ï¼š"></a>åœ¨ main.cpp ä¸­ä¿®æ”¹æµ‹è¯•ä»£ç ï¼š</h3><p>åœ¨ <code>qt5integration</code> çš„  main.cpp ä¸­, å¸¸ç”¨æµ‹è¯•ä»£ç å¦‚ä¸‹:</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QApplication></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QDebug></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QFileInfo></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QDebug></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QTextBrowser></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QWidget></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QAction></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QMenu></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QList></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QPalette></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QPixmap></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QWidget></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;DLineEdit></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;DPasswordEdit></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;DScrollBar></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;DListView></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QStandardItemModel></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;DStandardItem></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;DDialog></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;DSuggestButton></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;DTitlebar></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;DComboBox></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;DProgressBar></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QTimer></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QDialog></span></span>DWIDGET_USE_NAMESPACE<span class="token keyword">class</span> <span class="token class-name">ExWidget</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QWidget</span></span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">explicit</span> <span class="token function">ExWidget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">~</span><span class="token function">ExWidget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">contextMenuEvent</span><span class="token punctuation">(</span>QContextMenuEvent <span class="token operator">*</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"widgetgallery.h"</span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">Q_INIT_RESOURCE</span><span class="token punctuation">(</span>styles<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//    qputenv("QT_DEBUG_PLUGINS", "1");</span>    QStringList paths <span class="token operator">=</span> <span class="token class-name">QApplication</span><span class="token double-colon punctuation">::</span><span class="token function">libraryPaths</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    paths<span class="token punctuation">.</span><span class="token function">prepend</span><span class="token punctuation">(</span><span class="token function">QFileInfo</span><span class="token punctuation">(</span><span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">fromUtf8</span><span class="token punctuation">(</span>argv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">path</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/plugins"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">QApplication</span><span class="token double-colon punctuation">::</span><span class="token function">setLibraryPaths</span><span class="token punctuation">(</span>paths<span class="token punctuation">)</span><span class="token punctuation">;</span>    QApplication <span class="token function">app</span><span class="token punctuation">(</span>argc<span class="token punctuation">,</span> argv<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//    WidgetGallery gallery;</span><span class="token comment">//    gallery.show();</span><span class="token comment">//    DDialog *dialog = new DDialog("title", "mesg");</span><span class="token comment">//    dialog->show();</span>    ExWidget<span class="token operator">*</span> exWidget <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">ExWidget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    exWidget<span class="token operator">-></span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> app<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">ExWidget</span><span class="token double-colon punctuation">::</span><span class="token function">ExWidget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">ExWidget</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">ExWidget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExWidget</span><span class="token double-colon punctuation">::</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">1100</span><span class="token punctuation">,</span> <span class="token number">720</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token string">"example DTK"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//    moveToCenter(this);</span>    <span class="token function">setContextMenuPolicy</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>DefaultContextMenu<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//DTitlebar Test--------------------------------------------------------------</span>    DTitlebar<span class="token operator">*</span> titleBar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">DTitlebar</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    titleBar<span class="token operator">-></span><span class="token function">setQuitMenuDisabled</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    titleBar<span class="token operator">-></span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">620</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//--------------------------------------------------------------</span><span class="token comment">//    QPalette pale = this->palette();</span><span class="token comment">//    pale.setBrush(backgroundRole(),</span><span class="token comment">//                  Qt::white); //çº¯ç™½</span><span class="token comment">//                  Qt::black); //é»‘è‰²</span><span class="token comment">//                  QPixmap("/home/muli/softFile/netWallPaper/700047.jpg"));</span><span class="token comment">//                  QPixmap("/home/muli/softFile/netWallPaper/499786.png"));</span><span class="token comment">//                  QPixmap("/home/muli/softFile/netWallPaper/20200326.png"));</span><span class="token comment">//                  QPixmap("/home/muli/Desktop/20200327_104540.png"));</span><span class="token comment">//    setPalette(pale);</span>    <span class="token comment">//DListView Test--------------------------------------------------------------</span>    DListView <span class="token operator">*</span>listview <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">DListView</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QStandardItemModel <span class="token operator">*</span>model <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QStandardItemModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        DStandardItem <span class="token operator">*</span>item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">DStandardItem</span><span class="token punctuation">(</span><span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"%1%1%1%1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        model<span class="token operator">-></span><span class="token function">appendRow</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    listview<span class="token operator">-></span><span class="token function">setModel</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span>    listview<span class="token operator">-></span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    listview<span class="token operator">-></span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    listview<span class="token operator">-></span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//DScrollbar Test--------------------------------------------------------------</span><span class="token comment">//    DScrollBar * scrollbar = new DScrollBar(this);</span><span class="token comment">//    scrollbar->move(50, 50);</span><span class="token comment">////    scrollbar->show();</span><span class="token comment">//    DScrollBar * scrollbar2 = new DScrollBar(this);</span><span class="token comment">//    scrollbar2->setOrientation(Qt::Horizontal);</span><span class="token comment">//    scrollbar2->move(200, 50);</span><span class="token comment">////    scrollbar2->show();</span>    <span class="token comment">//DLineEdit Test--------------------------------------------------------------</span><span class="token comment">//    DLineEdit* lineEdit = new DLineEdit(this);</span><span class="token comment">//    lineEdit->resize(300, 40);</span><span class="token comment">//    lineEdit->setEchoMode(QLineEdit::Password);</span><span class="token comment">//    lineEdit->move(50, 40);</span><span class="token comment">//    DPasswordEdit* passEdit = new DPasswordEdit(this);</span><span class="token comment">//    passEdit->resize(300, 40);</span><span class="token comment">//    passEdit->move(50, 100);</span><span class="token comment">//    QLineEdit* edit = new QLineEdit(this);</span><span class="token comment">//    edit->resize(300, 40);</span><span class="token comment">//    edit->move(50, 150);</span><span class="token comment">//    edit->setEchoMode(QLineEdit::Password);</span>    <span class="token comment">//DComboBox Test--------------------------------------------------------------</span><span class="token comment">//    DComboBox* combobox = new DComboBox(this);</span><span class="token comment">//    combobox->resize(300, 40);</span><span class="token comment">//    combobox->addItem(QIcon::fromTheme("edit"), "test 01");</span><span class="token comment">//    combobox->addItem(QIcon::fromTheme("button_add"), "test 02");</span><span class="token comment">//    combobox->addItem(QIcon::fromTheme("edit"), "test 03");</span><span class="token comment">//    combobox->addItem(QIcon::fromTheme("edit"), "test 04");</span><span class="token comment">//    combobox->move(50, 200);</span>    <span class="token comment">//DPushButton Test--------------------------------------------------------------</span><span class="token comment">//    btn = new DPushButton("this", this);</span><span class="token comment">//    btn->resize(300, 50);</span><span class="token comment">//    btn->move(50, 50);</span><span class="token comment">//    btn->setGeometry(50,05,300,50);</span><span class="token comment">//    btn2 = new DPushButton("this a", this);</span><span class="token comment">//    btn2->resize(300, 50);</span><span class="token comment">//    btn2->move(360, 50);</span><span class="token comment">//    frame = new DFrame(this);</span><span class="token comment">//    frame->resize(300, 50);</span><span class="token comment">//    frame->move(50, 110);</span><span class="token comment">////    DStyle::setFrameRadius(frame, 16);</span><span class="token comment">//    frame->setStyleSheet("font: bold; font-size:20px; color: rgb(241, 70, 62)");</span><span class="token comment">//    frame->setFrameRounded(true);</span><span class="token comment">//    qDebug()&lt;&lt;"--01--"&lt;&lt;frame->rect();</span><span class="token comment">//DProgressBar Test--------------------------------------------------------------</span><span class="token comment">//    int nStar = 50;</span><span class="token comment">//    DProgressBar *proBar1 = new DProgressBar(this);</span><span class="token comment">//    proBar1->setOrientation(Qt::Horizontal);</span><span class="token comment">//    proBar1->move(50, 50);</span><span class="token comment">//    proBar1->resize(300, 50);</span><span class="token comment">//    proBar1->setRange(0, 100);</span><span class="token comment">//    proBar1->setValue(nStar);</span><span class="token comment">////    proBar1->setAlignment(Qt::AlignCenter);</span><span class="token comment">//    proBar1->show();</span><span class="token comment">//    DProgressBar *proBar2 = new DProgressBar(this);</span><span class="token comment">//    proBar2->setOrientation(Qt::Vertical);</span><span class="token comment">//    proBar2->move(400, 50);</span><span class="token comment">//    proBar2->resize(50, 300);</span><span class="token comment">//    proBar2->setRange(0, 100);</span><span class="token comment">//    proBar2->setValue(nStar);</span><span class="token comment">//    proBar2->show();</span><span class="token comment">//    DProgressBar *proBar3 = new DProgressBar(this);</span><span class="token comment">//    proBar3->setOrientation(Qt::Horizontal);</span><span class="token comment">//    proBar3->move(50, 200);</span><span class="token comment">//    proBar3->resize(300, 8);</span><span class="token comment">//    proBar3->setRange(0, 100);</span><span class="token comment">//    proBar3->setValue(nStar);</span><span class="token comment">////    proBar3->setAlignment(Qt::AlignCenter);</span><span class="token comment">//    proBar3->show();</span><span class="token comment">//    DProgressBar *proBar4 = new DProgressBar(this);</span><span class="token comment">//    proBar4->setOrientation(Qt::Vertical);</span><span class="token comment">//    proBar4->move(500, 50);</span><span class="token comment">//    proBar4->resize(8, 300);</span><span class="token comment">//    proBar4->setRange(0, 100);</span><span class="token comment">//    proBar4->setValue(nStar);</span><span class="token comment">//    proBar4->show();</span><span class="token comment">//    QTimer *timer = new QTimer(this);</span><span class="token comment">//    timer->start();</span><span class="token comment">//    timer->setInterval(50);</span><span class="token comment">//    connect(timer, &amp;QTimer::timeout, [=]()&#123;</span><span class="token comment">//        if (proBar1->value() >= 100)</span><span class="token comment">//            proBar1->setValue(0);</span><span class="token comment">//        proBar1->setValue(proBar1->value() + 1);</span><span class="token comment">//        if (proBar2->value() >= 100)</span><span class="token comment">//            proBar2->setValue(0);</span><span class="token comment">//        proBar2->setValue(proBar2->value() + 1);</span><span class="token comment">//        if (proBar3->value() >= 100)</span><span class="token comment">//            proBar3->setValue(0);</span><span class="token comment">//        proBar3->setValue(proBar3->value() + 1);</span><span class="token comment">//        if (proBar4->value() >= 100)</span><span class="token comment">//            proBar4->setValue(0);</span><span class="token comment">//        proBar4->setValue(proBar4->value() + 1);</span><span class="token comment">//        &#125;);</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExWidget</span><span class="token double-colon punctuation">::</span><span class="token function">contextMenuEvent</span><span class="token punctuation">(</span>QContextMenuEvent <span class="token operator">*</span>event<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">Q_UNUSED</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span>    QMenu<span class="token operator">*</span> menu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QMenu</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">50</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        QString str <span class="token operator">=</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"act   %1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        menu<span class="token operator">-></span><span class="token function">addAction</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>        menu<span class="token operator">-></span><span class="token function">addSeparator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    menu<span class="token operator">-></span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token class-name">QCursor</span><span class="token double-colon punctuation">::</span><span class="token function">pos</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="ä¸‹è½½åœ°å€ï¼š"><a href="#ä¸‹è½½åœ°å€ï¼š" class="headerlink" title="ä¸‹è½½åœ°å€ï¼š"></a>ä¸‹è½½åœ°å€ï¼š</h3><p> <a href="https://github.com/xmuli/QtExamples">QtExamples</a></p><p>æ¬¢è¿ star å’Œ fork è¿™ä¸ªç³»åˆ—çš„ linux å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ä¿®æ”¹typoraä¸»é¢˜çš„å­—ä½“</title>
      <link href="/posts/60a3437a/"/>
      <url>/posts/60a3437a/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€åœ¨ mac ä¸­ä¿®æ”¹ typora ä¸»é¢˜çš„è‹±æ–‡å’Œä¸­æ–‡çš„å­—ä½“ï¼Œä½¿å¾—ç å­—æ›´åŠ èˆ’æœï¼ˆwin ä¹Ÿæœ‰æ•ˆï¼‰ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ä¹¦å†™ç¯å¢ƒï¼š"><a href="#ä¹¦å†™ç¯å¢ƒï¼š" class="headerlink" title="ä¹¦å†™ç¯å¢ƒï¼š"></a>ä¹¦å†™ç¯å¢ƒï¼š</h3><p><strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14.6 </code> ğŸ“ <code>typora  0.9.9.32.1</code></p><br><h3 id="ç—›ç‚¹ä¸éœ€æ±‚ï¼š"><a href="#ç—›ç‚¹ä¸éœ€æ±‚ï¼š" class="headerlink" title="ç—›ç‚¹ä¸éœ€æ±‚ï¼š"></a>ç—›ç‚¹ä¸éœ€æ±‚ï¼š</h3><p>åœ¨ mac ä¸Šé¢é»˜è®¤æ˜¯ä½¿ç”¨çš„ github.css ä¸»é¢˜çš„æ–‡å­—ã€‚å‘ç° å…¶ä¸­ I ä¸ l æ˜¾ç¤ºæ•ˆæœç›¸åŒï¼ˆå¤§å†™çš„ i ä¸å°å†™çš„ Lï¼‰ï¼›é•¿å¾—ä¸€æ ·ï¼Œå®¹æ˜“æ··æ·†ï¼›</p><p>äºæ˜¯å°±äº§ç”Ÿäº†æƒ³è¦ä¿®æ”¹ä¸€ä¸‹ typora çš„è‹±æ–‡æ˜¾ç¤ºå­—ä½“ï¼Œå¹²è„†é¡ºä¾¿æŠŠä¸­æ–‡å­—ä½“ä¹Ÿä¸€èµ·æ¢æ‰ã€‚</p><ul><li><p><strong>å½“å‰æ•ˆæœï¼š</strong></p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200514_104516.png" width="20%"/ loading="lazy"></li><li><p><strong>æœŸæœ›æ•ˆæœï¼š</strong></p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200514_104558.png" width="20%"/ loading="lazy"></li></ul><br><h3 id="ä¿®æ”¹-css-é…ç½®ï¼š"><a href="#ä¿®æ”¹-css-é…ç½®ï¼š" class="headerlink" title="ä¿®æ”¹ css é…ç½®ï¼š"></a>ä¿®æ”¹ css é…ç½®ï¼š</h3><p>æ­¥éª¤å¦‚ä¸‹ï¼š</p><ul><li><p>æ‰“å¼€ <code>typora-åå¥½è®¾ç½®-å¤–è§‚-æ‰“å¼€ä¸»é¢˜è®¾ç½®</code>ï¼Œè¿›å…¥ç›®å½•æ–‡ä»¶ä¸‹</p>  <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200514_104623.png" width="90%"/ loading="lazy"></li><li><p>å°†åŸæ–‡ä»¶ <code>github.css</code> å¤‡ä»½ä¸€ä»½ï¼Œé‡åä¸º <code>github.css.backup</code>,ç•™ä½œä¸ºæ—¥åæ¢å¤</p>  <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200514_104658.png" width="90%"/ loading="lazy"> </li><li><p>ä¿®æ”¹ <code>github.css</code> æ–‡ä»¶ï¼Œä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ï¼ŒæŸ¥æ‰¾ <code>font-family</code> ï¼Œæ‰¾åˆ°å¦‚ä¸‹</p><ul><li><p>å°†å¯ä»¥æ‰¾åˆ°å¦‚ä¸‹çš„å†…å®¹ </p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">&#123;</span>    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">"Open Sans"</span><span class="token punctuation">,</span><span class="token string">"Clear Sans"</span><span class="token punctuation">,</span><span class="token string">"Helvetica Neue"</span><span class="token punctuation">,</span>Helvetica<span class="token punctuation">,</span>Arial<span class="token punctuation">,</span>sans-serif<span class="token punctuation">;</span>    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>51<span class="token punctuation">,</span> 51<span class="token punctuation">,</span> 51<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">line-height</span><span class="token punctuation">:</span> 1.6<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>ç„¶åå°†å…¶æ›¿æ¢ä¸º</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">&#123;</span>    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">"Monaco"</span><span class="token punctuation">,</span><span class="token string">"PingFangSC-Regular"</span><span class="token punctuation">,</span><span class="token string">"Helvetica Neue"</span><span class="token punctuation">,</span>Helvetica<span class="token punctuation">,</span>Arial<span class="token punctuation">,</span>sans-serif<span class="token punctuation">;</span>    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>51<span class="token punctuation">,</span> 51<span class="token punctuation">,</span> 51<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">line-height</span><span class="token punctuation">:</span> 1.6<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>å…¶ä»–çš„ font-family éƒ½æ˜¯ä¸éœ€è¦æ›¿æ¢çš„ï¼Œ</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200514_105039.png" width="90%"/ loading="lazy"></li></ul></li><li><p><font color=#FF0000  size=4 face="å¹¼åœ†">ä¿®æ”¹å®Œæˆä¹‹åï¼Œä¸€å®šè¦é‡å¯ typoraï¼Œæ‰ä¼šåœ¨å†æ¬¡ç”Ÿæ•ˆ </font></p></li></ul><br><h3 id="è¯´æ˜ï¼š"><a href="#è¯´æ˜ï¼š" class="headerlink" title="è¯´æ˜ï¼š"></a><strong>è¯´æ˜ï¼š</strong></h3><ul><li><p>é€šå¸¸ä½¿ç”¨åˆ°çš„åªæ˜¯ <code>font-family: &quot;Monaco&quot;,&quot;PingFangSC-Regular&quot;,&quot;Helvetica Neue&quot;,Helvetica,Arial,sans-serif;</code>   </p><p>é€šå¸¸åªæ˜¯ç¬¬ä¸€ä¸ªå€¼ï¼›ç¬¬ä¸€ä½è¡¨ç¤ºæ–‡ç« é‡åˆ°çš„è‹±æ–‡éƒ½æ˜¾ç¤ºä¸º <code>Monaco</code> å­—ä½“ï¼ˆä¹Ÿåªæœ‰è‹±æ–‡ï¼‰ï¼›å…¶æ¬¡é‡åˆ°çš„ä¸­æ–‡ï¼Œå†ç”¨ <code>PingFangSC-Regular</code> å­—ä½“æ¥æ˜¾ç¤ºï¼›å€˜è‹¥æœ¬æœºä¸­æ²¡æœ‰åº•è¿™ä¸¤ç§å­—ä½“ï¼Œå†é¡ºå»¶å°è¯•ç¬¬ä¸‰ä¸ª Helvetica å­—ä½“å’Œç¬¬å››ä¸ª Helvetica å­—ä½“ã€‚</p></li></ul><br><h3 id="å…³äºå­—ä½“é€‰æ‹©ï¼š"><a href="#å…³äºå­—ä½“é€‰æ‹©ï¼š" class="headerlink" title="å…³äºå­—ä½“é€‰æ‹©ï¼š"></a>å…³äºå­—ä½“é€‰æ‹©ï¼š</h3><ul><li><strong>mac ä¸‹ï¼š</strong><ul><li>è‹±æ–‡å­—ä½“ï¼šMonaco</li><li>ä¸­æ–‡å­—ä½“ï¼šPingFangSC-Regular</li></ul></li><li><strong>win ä¸‹ï¼š</strong><ul><li>è‹±æ–‡å­—ä½“ï¼šConsolas</li><li>ä¸­æ–‡å­—ä½“ï¼šï¼Ÿï¼ˆéšä½ å–œå¥½ï¼‰</li></ul></li></ul><p>è¿™ä¸¤æ¬¾å­—ä½“å­—ä½“ï¼Œå¤§æ¦‚æ˜¯å¯¹åº”å¹³å°ä½¿ç”¨èµ·æ¥ï¼Œæœ€èˆ’æœçš„å­—ä½“ï¼Œç»è¿‡å¤šæ¬¡å°è¯•ä¹‹åï¼›å…¶ä¸­ mac ä¸‹æ˜¯é»˜è®¤æ²¡å®‰è£… Consolas å­—ä½“çš„ã€‚</p><br><h3 id="mac-å®‰è£…-Consolas-å­—ä½“ï¼š"><a href="#mac-å®‰è£…-Consolas-å­—ä½“ï¼š" class="headerlink" title="mac å®‰è£… Consolas å­—ä½“ï¼š"></a>mac å®‰è£… Consolas å­—ä½“ï¼š</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># åŸæ–‡é“¾æ¥ï¼š[install consolas on mac](https://gist.github.com/avalonalex/8125197)</span><span class="token comment"># Thanks to this post:</span><span class="token comment"># http://blog.ikato.com/post/15675823000/how-to-install-consolas-font-on-mac-os-x</span>$ brew <span class="token function">install</span> cabextract$ <span class="token builtin class-name">cd</span> ~/Downloads$ <span class="token function">mkdir</span> consolas$ <span class="token builtin class-name">cd</span> consolas$ <span class="token function">curl</span> <span class="token parameter variable">-O</span> http://download.microsoft.com/download/f/5/a/f5a3df76-d856-4a61-a6bd-722f52a5be26/PowerPointViewer.exe$ cabextract PowerPointViewer.exe$ cabextract ppviewer.cab$ <span class="token function">open</span> CONSOLA*.TTF<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><p>é™„å¸¦è‹¹æ–¹å­—ä½“çš„ä¸­è‹±æ–‡å¯¹ç…§ï¼š</p><table><thead><tr><th>ä¸­æ–‡</th><th>font-familyï¼ˆè‹±æ–‡ï¼‰</th><th></th></tr></thead><tbody><tr><td>è‹¹æ–¹-ç®€ å¸¸è§„ä½“</td><td>PingFangSC-Regular</td><td></td></tr><tr><td>è‹¹æ–¹-ç®€ æç»†ä½“</td><td>PingFangSC-Ultralight</td><td></td></tr><tr><td>è‹¹æ–¹-ç®€ ç»†ä½“</td><td>PingFangSC-Light</td><td></td></tr><tr><td>è‹¹æ–¹-ç®€ çº¤ç»†ä½“</td><td>PingFangSC-Thin</td><td></td></tr><tr><td>è‹¹æ–¹-ç®€ ä¸­é»‘ä½“</td><td>PingFangSC-Medium</td><td></td></tr><tr><td>è‹¹æ–¹-ç®€ ä¸­ç²—ä½“</td><td>PingFangSC-Semibold</td><td></td></tr></tbody></table><br><p>å¸¸è§å­—ä½“ä¸­è‹±æ–‡å¯¹ç…§ï¼š</p><table><thead><tr><th>ä¸­æ–‡å</th><th>è‹±æ–‡å</th><th>Unicode</th><th>Unicode 2</th></tr></thead><tbody><tr><td>Mac OS</td><td></td><td></td><td></td></tr><tr><td>åæ–‡ç»†é»‘</td><td>STHeiti Light [STXihei]</td><td>534E65877EC69ED1</td><td>åæ–‡ç»†é»‘</td></tr><tr><td>åæ–‡é»‘ä½“</td><td>STHeiti</td><td>534E65879ED14F53</td><td>åæ–‡é»‘ä½“</td></tr><tr><td>åæ–‡æ¥·ä½“</td><td>STKaiti</td><td>534E658769774F53</td><td>åæ–‡æ¥·ä½“</td></tr><tr><td>åæ–‡å®‹ä½“</td><td>STSong</td><td>534E65875B8B4F53</td><td>åæ–‡å®‹ä½“</td></tr><tr><td>åæ–‡ä»¿å®‹</td><td>STFangsong</td><td>534E65874EFF5B8B</td><td>åæ–‡ä»¿å®‹</td></tr><tr><td>ä¸½é»‘ Pro</td><td>LiHei Pro Medium</td><td>4E3D9ED1 Pro</td><td>ä¸½é»‘ Pro</td></tr><tr><td>ä¸½å®‹ Pro</td><td>LiSong Pro Light</td><td>4E3D5B8B Pro</td><td>ä¸½å®‹ Pro</td></tr><tr><td>æ ‡æ¥·ä½“</td><td>BiauKai</td><td>680769774F53</td><td>æ ‡æ¥·ä½“</td></tr><tr><td>è‹¹æœä¸½ä¸­é»‘</td><td>Apple LiGothic Medium</td><td>82F9679C4E3D4E2D9ED1</td><td>è‹¹æœä¸½ä¸­é»‘</td></tr><tr><td>è‹¹æœä¸½ç»†å®‹</td><td>Apple LiSung Light</td><td>82F9679C4E3D7EC65B8B</td><td>è‹¹æœä¸½ç»†å®‹</td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td>Windows</td><td></td><td></td><td></td></tr><tr><td>æ–°ç»†æ˜ä½“</td><td>PMingLiU</td><td>65B07EC6660E4F53</td><td>æ–°ç»†æ˜ä½“</td></tr><tr><td>ç»†æ˜ä½“</td><td>MingLiU</td><td>7EC6660E4F53</td><td>ç»†æ˜ä½“</td></tr><tr><td>æ ‡æ¥·ä½“</td><td>DFKai-SB</td><td>680769774F53</td><td>æ ‡æ¥·ä½“</td></tr><tr><td>é»‘ä½“</td><td>SimHei</td><td>9ED14F53</td><td>é»‘ä½“</td></tr><tr><td>å®‹ä½“</td><td>SimSun</td><td>5B8B4F53</td><td>å®‹ä½“</td></tr><tr><td>æ–°å®‹ä½“</td><td>NSimSun</td><td>65B05B8B4F53</td><td>æ–°å®‹ä½“</td></tr><tr><td>ä»¿å®‹</td><td>FangSong</td><td>4EFF5B8B</td><td>ä»¿å®‹</td></tr><tr><td>æ¥·ä½“</td><td>KaiTi</td><td>69774F53</td><td>æ¥·ä½“</td></tr><tr><td>ä»¿å®‹_GB2312</td><td>FangSong_GB2312</td><td>4EFF5B8B_GB2312</td><td>ä»¿å®‹_GB2312</td></tr><tr><td>æ¥·ä½“_GB2312</td><td>KaiTi_GB2312</td><td>69774F53_GB2312</td><td>æ¥·ä½“_GB2312</td></tr><tr><td>å¾®è½¯æ­£é»‘ä½“</td><td>Microsoft JhengHei</td><td>5FAEx8F6F6B639ED14F53</td><td>å¾®è½¯æ­£é»‘ä½“</td></tr><tr><td>å¾®è½¯é›…é»‘</td><td>Microsoft YaHei</td><td>5FAE8F6F96C59ED1</td><td>å¾®è½¯é›…é»‘</td></tr></tbody></table><br><h2 id="å»æ‰-H2-æ ‡é¢˜ä¸‹çš„æ¨ªçº¿"><a href="#å»æ‰-H2-æ ‡é¢˜ä¸‹çš„æ¨ªçº¿" class="headerlink" title="å»æ‰ H2 æ ‡é¢˜ä¸‹çš„æ¨ªçº¿"></a>å»æ‰ H2 æ ‡é¢˜ä¸‹çš„æ¨ªçº¿</h2><p>è¿˜æ˜¯åŒä¸€ä¸ª css æ–‡ä»¶ï¼Œæ³¨é‡Šæ‰å¦‚ä¸‹è¡Œ</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">h2</span> <span class="token punctuation">&#123;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 1.75em<span class="token punctuation">;</span>    <span class="token property">line-height</span><span class="token punctuation">:</span> 1.225<span class="token punctuation">;</span>    <span class="token comment">/* border-bottom: 1px solid #eee; æ³¨é‡Šæ‰è¿™ä¸€è¡Œ*/</span>  <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>å‚è€ƒï¼š</strong></p><ul><li><a href="https://www.cnblogs.com/asheng2016/p/8979282.html">æŠŠtyporaæ”¹ä¸ºå¾®è½¯é›…é»‘+Consolas</a> </li><li><a href="https://support.typora.io/Add-Custom-CSS/">https://support.typora.io/Add-Custom-CSS/</a></li><li><a href="https://support.typora.io/About-Themes/">https://support.typora.io/About-Themes/</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - MacOS </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨gpgæäº¤é‡åˆ°error:gpgæ•°æ®ç­¾åå¤±è´¥fatal:å†™æäº¤å¯¹è±¡å¤±è´¥</title>
      <link href="/posts/66c9c8f8/"/>
      <url>/posts/66c9c8f8/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€åœ¨ <code>mac</code> ä¸Šé¢é…ç½®å¥½äº† <code>gpg</code> çš„ç›¸å…³å¯†é’¥ä¹‹åï¼Œå°è¯•å¸¦ç€ <code>gpg</code>  éªŒè¯æäº¤ commitï¼Œå‘ç°æŠ¥é”™å¦‚ä¸‹ï¼š</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200510_005503.png" width="60%"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š"></a>ç¼–ç¨‹ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14.6 </code> ğŸ“ <code>Qt 5.12.8</code> ğŸ“ <code>gcc/g++ 9.2</code> ğŸ“ <code>gdb8.3</code> </p><br><h3 id="æŠ¥é”™é—®é¢˜ï¼š"><a href="#æŠ¥é”™é—®é¢˜ï¼š" class="headerlink" title="æŠ¥é”™é—®é¢˜ï¼š"></a>æŠ¥é”™é—®é¢˜ï¼š</h3><p>å½“æŒ‰ç…§æ•™ç¨‹ï¼Œåœ¨ <code>Mac</code>ä¸Šé¢é…ç½®å¥½äº†<code>gpg</code> çš„æ•™ç¨‹ä¹‹åï¼Œå°è¯•å¸¦éªŒè¯æäº¤ <code>commit</code> åˆ° <code>github</code> ä¸Šï¼Œå‘ç°æŠ¥é”™å¦‚ä¸‹ï¼š </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">error: gpg æ•°æ®ç­¾åå¤±è´¥fatal: å†™æäº¤å¯¹è±¡å¤±è´¥<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><br><h3 id="è§£å†³æ–¹æ³•ï¼š"><a href="#è§£å†³æ–¹æ³•ï¼š" class="headerlink" title="è§£å†³æ–¹æ³•ï¼š"></a>è§£å†³æ–¹æ³•ï¼š</h3><p>å°†ä¸‹é¢çš„ä¸‰ä¸ªæ­¥éª¤éƒ½è¿è¡Œä¸€éï¼š</p><ul><li><p>åœ¨<code>.zshrc</code>é‡Œé¢åŠ å…¥ä¸€è¡Œä»£ç  <code>export GPG_TTY=$(tty)</code></p></li><li><p><strong>é‡å¯ gpg-agent</strong></p><p>ç¬¬ä¸€æ¬¡é…ç½®ï¼Œå¿…é¡»é‡å¯ï¼Œå¦åˆ™ç­¾åä¼šå¤±è´¥ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">gpgconf â€“kill gpg-agent<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>é‡å¯ç»ˆç«¯ï¼ˆæˆ–è€…æ–°å¼€ä¸€ä¸ªç»ˆç«¯æ ‡ç­¾ï¼‰</p></li></ul><p>æˆåŠŸä¹‹åå³å¯ä»¥çœ‹åˆ°ï¼š</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200510005133.png" width="30%"/ loading="lazy"><br><h3 id="å‚è€ƒåšå®¢ï¼š"><a href="#å‚è€ƒåšå®¢ï¼š" class="headerlink" title="å‚è€ƒåšå®¢ï¼š"></a>å‚è€ƒåšå®¢ï¼š</h3><p>ä¸‹é¢çš„ 1ï¼Œ2 ä¸¤ç¯‡æ˜¯å¦‚ä½•åˆ›å»º gpg å’Œä½¿ç”¨ï¼Œ3ï¼Œ4 ç¯‡æ˜¯å®é™…ç¬¬ä¸€ä½¿ç”¨ä¼šé‡åˆ°çš„é”™è¯¯è§£å†³æ–¹æ³•ã€‚</p><p><a href="https://zhuanlan.zhihu.com/p/76861431">åœ¨Githubä¸Šä½¿ç”¨GPGçš„å…¨è¿‡ç¨‹</a></p><p><a href="https://www.xiexianbin.cn/git/2017-06-06-git-gpg/index.html">Git ä½¿ç”¨ GPG ç­¾åä½ çš„ Commit</a></p><p><a href="https://zhuanlan.zhihu.com/p/97984430">è§£å†³GPGç­¾åå¤±è´¥çš„é—®é¢˜</a></p><p><a href="https://gist.github.com/repodevs/a18c7bb42b2ab293155aca889d447f1b">github gist</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
          <category> å­¦ä¹  - MacOS </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨Macä¸Šé¢å®‰è£…HomeBrewå¤±è´¥çš„è§£å†³æ–¹æ¡ˆï¼šä¿®æ”¹hostsæ–‡ä»¶</title>
      <link href="/posts/42ca01bf/"/>
      <url>/posts/42ca01bf/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€åœ¨é‡è£… <code>Mac</code> ç³»ç»Ÿçš„ ğŸ’» ä¸Šï¼Œå®‰è£…  <code>HomeBrew</code> ï¼Œæ‰§è¡Œå®˜æ–¹å‘½ä»¤å¤±è´¥ï¼ŒæŠ¥é”™ <code>curl: (7) Failed to connect to raw.githubusercontent.com port 443: Connection refused</code>  çš„ <font color=#D0087E size=4 face="å¹¼åœ†"><strong>è§£å†³æ–¹æ³•ï¼š ä¿®æ”¹ hosts æ–‡ä»¶ [ä½¿ç”¨<code>raw.githubusercontent.com</code>çš„çœŸå®IP]</strong></font> ã€‚</p><p><code>Google</code> äº†ä¸‹ï¼Œç½‘ä¸Šé‚£è½¬è½½äº†ä¸€ç¯‡æ–‡ç« å·²ç»æœ‰å‡ åéäº†ï¼Œæˆ–è®¸ä¹Ÿå¯¹ä½ ä¸èµ·æ•ˆå§ï¼Œå³ä½¿æƒ³æ‰¾ä¸€ç¯‡ä¸ä¸€æ ·çš„ä¹Ÿè¿™ä¹ˆçš„å›°éš¾ï¼Œè¿˜æ˜¯æˆ‘è‡ªå·±åŠ¨æ‰‹ï¼›å¦‚æœå¯¹ä½ æœ‰æ•ˆï¼Œå°±æŠŠè¿™ç¯‡é¡¶ä¸Šå»ï¼Œä¸ºå…¶ä»–äººèŠ‚çº¦æ—¶é—´ï¼Œæä¾›ä¸€ä¸ªæ–°çš„æ–¹æ³•çš„ã€</p><blockquote><h3 id="æ›´æ–°-2022-08-26"><a href="#æ›´æ–°-2022-08-26" class="headerlink" title="æ›´æ–° 2022-08-26"></a>æ›´æ–° 2022-08-26</h3><p>ä¸æµªè´¹æ—¶é—´ï¼Œççˆ±ç”Ÿå‘½ï¼Œç›´æ¥ä½¿ç”¨å°è£…å¥½çš„ HomeBrew è„šæœ¬ï¼ˆå›½å†…é•œåƒï¼‰ï¼š<a href="https://zhuanlan.zhihu.com/p/111014448">https://zhuanlan.zhihu.com/p/111014448</a></p></blockquote><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="é—®é¢˜èƒŒæ™¯ï¼š"><a href="#é—®é¢˜èƒŒæ™¯ï¼š" class="headerlink" title="é—®é¢˜èƒŒæ™¯ï¼š"></a>é—®é¢˜èƒŒæ™¯ï¼š</h3><p>åœ¨æˆ‘çš„  <code>MacOS 10.14.6 </code>  ä¸Šé¢ï¼Œæ‰§è¡Œå‘½ä»¤ <code>/bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)&quot;</code> ä¹‹åï¼Œæ˜¾ç¤ºè¿æ¥ github å¤±è´¥ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æŠ¥é”™åŸå› </span>curl: <span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span> Failed to connect to raw.githubusercontent.com port <span class="token number">443</span>: Connection refused<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><br><h3 id="æŠ¥é”™åŸå› ï¼š"><a href="#æŠ¥é”™åŸå› ï¼š" class="headerlink" title="æŠ¥é”™åŸå› ï¼š"></a>æŠ¥é”™åŸå› ï¼š</h3><p>ç”±äºæŸç§åŸå› ï¼Œå¯¼è‡´<code>github</code>çš„<code>raw.githubusercontent.com</code>åŸŸåè§£æè¢«æ±¡æŸ“äº†ï¼Œæ‰€ä»¥ï¼Œéœ€è¦é€šè¿‡ä¿®æ”¹<code>hosts</code>è§£å†³è¿™ä¸ªé—®é¢˜ï¼›</p><br><h3 id="è§£å†³æ–¹æ¡ˆ-ä¿®æ”¹-hosts-æ–‡ä»¶-ï¼š"><a href="#è§£å†³æ–¹æ¡ˆ-ä¿®æ”¹-hosts-æ–‡ä»¶-ï¼š" class="headerlink" title="è§£å†³æ–¹æ¡ˆ[ä¿®æ”¹ hosts æ–‡ä»¶]ï¼š"></a>è§£å†³æ–¹æ¡ˆ[ä¿®æ”¹ hosts æ–‡ä»¶]ï¼š</h3><p><font color=#FF0000  size=4 face="å¹¼åœ†"><strong>å‰ææ¡ä»¶ï¼š</strong></font>  å®‰è£…äº† <code>xcode</code> æˆ–è€… <code>Command Line Tools for Xcode</code></p><p>è‹¥æ˜¯ä¸éœ€è¦ä½¿ç”¨ xcode å¼€å‘ï¼Œåªç”¨å®‰è£…åè€…å³å¯ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">xcode-select <span class="token parameter variable">--install</span>  //å®‰è£… Command Line Tools <span class="token keyword">for</span> Xcode<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br><ol><li><p>æŸ¥é˜…çœŸå®çš„ <code>IP</code> åœ°å€ï¼š</p><p>åœ¨<code>https://www.ipaddress.com/</code>æŸ¥è¯¢<code>raw.githubusercontent.com</code>çš„çœŸå®IPã€‚</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200508_153350.png" width="70%"/ loading="lazy"></li><li><p>ä¿®æ”¹ <code>hosts</code></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">vim</span> /etc/hosts<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åœ¨æ–‡ä»¶æœ€åä¸€è¡ŒåŠ ä¸Šï¼Œç„¶åä¿å­˜ </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">199.232</span>.68.133 raw.githubusercontent.com<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>å†æ¬¡è¾“å…¥<a href="https://brew.sh/">Homebrew å®˜ç½‘ </a>å‘½ä»¤ </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">/bin/bash <span class="token parameter variable">-c</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> <span class="token parameter variable">-fsSL</span> https://raw.githubusercontent.com/Homebrew/install/master/install.sh<span class="token variable">)</span></span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>ç­‰å¾…å³å¯å®‰è£…æˆåŠŸ</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200508_160252.png" width="90%"/ loading="lazy"></li></ol><br><h3 id="æ¢å›½å†…é•œåƒæºï¼š"><a href="#æ¢å›½å†…é•œåƒæºï¼š" class="headerlink" title="æ¢å›½å†…é•œåƒæºï¼š"></a>æ¢å›½å†…é•œåƒæºï¼š</h3><p>å®‰è£…å®Œæˆä¹‹åï¼Œå½“ç„¶æ˜¯è¦è¿›è¡Œæ›¿æ¢ <code>Homebrew</code> å’Œ <code>Homebrew Bottles</code> æ¢æºï¼Œå¦åˆ™å°±æ˜¯æµªè´¹æ—¶é—´ã€‚</p><p>ä¸‹é¢çš„å›½å†…é•œåƒæºä»»é€‰å…¶ä¸€ï¼š</p><ul><li>ä½¿ç”¨ä¸­ç§‘å¤§çš„æºï¼š<a href="https://lug.ustc.edu.cn/wiki/mirrors/help/brew.git">æ›¿æ¢åŠé‡ç½®Homebrewé»˜è®¤æº</a> ï¼ˆå…·ä½“æ“ä½œå¦‚ä¸‹ï¼‰</li><li>ä½¿ç”¨æ¸…åçš„æºï¼š<a href="https://mirror.tuna.tsinghua.edu.cn/help/homebrew/">Homebrew&#x2F;Linuxbrew é•œåƒä½¿ç”¨å¸®åŠ©</a></li></ul><br><h4 id="æ›¿æ¢åŠé‡ç½®Homebrewé»˜è®¤æº"><a href="#æ›¿æ¢åŠé‡ç½®Homebrewé»˜è®¤æº" class="headerlink" title="æ›¿æ¢åŠé‡ç½®Homebrewé»˜è®¤æº"></a>æ›¿æ¢åŠé‡ç½®Homebrewé»˜è®¤æº</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#æ›¿æ¢brew.git:</span><span class="token builtin class-name">cd</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew <span class="token parameter variable">--repo</span><span class="token variable">)</span></span>"</span><span class="token function">git</span> remote set-url origin https://mirrors.ustc.edu.cn/brew.git<span class="token comment">#æ›¿æ¢homebrew-core.git:</span><span class="token builtin class-name">cd</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew <span class="token parameter variable">--repo</span><span class="token variable">)</span></span>/Library/Taps/homebrew/homebrew-core"</span><span class="token function">git</span> remote set-url origin https://mirrors.ustc.edu.cn/homebrew-core.git<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h4 id="Homebrew-Bottlesæº"><a href="#Homebrew-Bottlesæº" class="headerlink" title="Homebrew Bottlesæº"></a>Homebrew Bottlesæº</h4><p>Homebrew Bottles æ˜¯ Homebrew æä¾›çš„äºŒè¿›åˆ¶ä»£ç åŒ…ï¼Œç›®å‰é•œåƒç«™æ”¶å½•äº†ä»¥ä¸‹ä»“åº“ï¼š</p><ul><li>homebrew&#x2F;homebrew-core</li><li>homebrew&#x2F;homebrew-dupes</li><li>homebrew&#x2F;homebrew-games</li><li>homebrew&#x2F;homebrew-gui</li><li>homebrew&#x2F;homebrew-python</li><li>homebrew&#x2F;homebrew-php</li><li>homebrew&#x2F;homebrew-science</li><li>homebrew&#x2F;homebrew-versions</li><li>homebrew&#x2F;homebrew-x11</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å¯¹äºbashç”¨æˆ·ï¼š</span><span class="token builtin class-name">echo</span> <span class="token string">'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles'</span> <span class="token operator">>></span> ~/.bash_profile<span class="token builtin class-name">source</span> ~/.bash_profile<span class="token comment"># å¯¹äºzshç”¨æˆ·ï¼š</span><span class="token builtin class-name">echo</span> <span class="token string">'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles'</span> <span class="token operator">>></span> ~/.zshrc<span class="token builtin class-name">source</span> ~/.zshrc<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="å‚è€ƒåšå®¢ï¼š"><a href="#å‚è€ƒåšå®¢ï¼š" class="headerlink" title="å‚è€ƒåšå®¢ï¼š"></a>å‚è€ƒåšå®¢ï¼š</h3><p><a href="https://lug.ustc.edu.cn/wiki/mirrors/help/homebrew-bottles">LUG@USIC</a></p><p><a href="https://blog.ponycool.com/archives/88.html">Macå®‰è£…Homebrew</a></p><p><a href="https://www.cnblogs.com/yanht/p/brew-note.html">Macä¸‹å®‰è£…brew</a></p><p><a href="https://github.com/jackzhaoyu/ceshi/blob/master/homebrew.rb">homebrew.rb</a> æ–‡ä»¶</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - MacOS </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨Macä¸Šæ‰“ä¸å¼€â€œuPic.dmgâ€ï¼Œå› ä¸º Apple æ— æ³•æ£€æŸ¥å…¶æ˜¯å¦åŒ…å«æ¶æ„è½¯ä»¶</title>
      <link href="/posts/326d4d13/"/>
      <url>/posts/326d4d13/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€åœ¨æˆ‘çš„ ğŸ’»  <code>MacOS 10.14.6 </code>  ä¸Šé¢ï¼Œç¬¬ä¸€æ¬¡é‡å¦‚ä¸‹é—®é¢˜ï¼Œé™„ä¸Šè§£å†³æ–¹æ³•</p><blockquote><p>æ‰“ä¸å¼€â€œ xxxâ€ï¼Œå› ä¸º Apple æ— æ³•æ£€æŸ¥å…¶æ˜¯å¦åŒ…å«æ¶æ„è½¯ä»¶ã€‚</p></blockquote><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="é—®é¢˜èƒŒæ™¯ï¼š"><a href="#é—®é¢˜èƒŒæ™¯ï¼š" class="headerlink" title="é—®é¢˜èƒŒæ™¯ï¼š"></a>é—®é¢˜èƒŒæ™¯ï¼š</h3><p>æ˜¨å¤©æ™šä¸Šæ‰é‡è£…çš„ <code>MacOS</code> ç³»ç»Ÿï¼Œé‡åˆ°ä¸€ä¸ªè½¯ä»¶çš„æ—¶å€™ï¼Œä½¿ç”¨è°·æ­Œæµè§ˆå™¨åœ¨ <code>github</code> ä¸Šé¢ä¸‹è½½ .<code>dmg</code> é•œåƒçš„æ—¶å€™ï¼Œç›´æ¥åŒå‡»æŠ¥é”™å¦‚ä¸‹ï¼š</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200509_141858.png" width="70%"/ loading="lazy"><br><h3 id="è§£å†³æ–¹æ¡ˆï¼š"><a href="#è§£å†³æ–¹æ¡ˆï¼š" class="headerlink" title="è§£å†³æ–¹æ¡ˆï¼š"></a>è§£å†³æ–¹æ¡ˆï¼š</h3><p>ç®€å•çº¯æœ´ï¼šåœ¨ <strong>è®¿è¾¾</strong> é‡Œæ‰¾åˆ°è¿™ä¸ªåº”ç”¨ï¼Œå³é”®ç‚¹å‡»æ‰“å¼€</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200509_141908.png" width="70%"/ loading="lazy">]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - MacOS </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å…ƒå¯¹è±¡ç³»ç»Ÿ MOC (Meat-Object System) çš„å¯¹è±¡ MetaObject å’Œ(å«åŠ¨æ€)å±æ€§ Propert çš„ç”¨æ³•</title>
      <link href="/posts/e78f52cc/"/>
      <url>/posts/e78f52cc/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€è®²è§£å…ƒå¯¹è±¡ç³»ç»Ÿ<code>moc</code>(<strong>Meat-Object System</strong>)çš„å¯¹è±¡<code>MetaObject</code>å’Œ(å«åŠ¨æ€)å±æ€§<code>Propert</code>çš„ç”¨æ³•ã€‚æ²¡æƒ³åˆ°è¿™ä¸€ç¯‡ä¼šå»¶æœŸå¦‚æ­¤ä¹‹ä¹…ä¹‹ä¹…ã€‚ <strong>ï¼ˆæ­¤ç¯‡æœ‰å¤§éƒ¨åˆ†æ˜¯å€Ÿé‰´ä¹¦ç±å’Œæˆ–äº’è”ç½‘ï¼‰ï¼Œå› ä¸ºä½œè€…å†™çš„å¾ˆæ£’ï¼Œæ•…å¤§ç¯‡å¹…çš„ç›´æ¥å€Ÿé‰´è¿‡æ¥äº†</strong> ã€‚å…¶ä¸­æ–‡ä¸­æœ‰äº›å°‘éƒ¨åˆ†æ˜¯è‡ªå·±ç…§ç€ä¿®æ”¹äº†ä¸€ç‚¹ï¼Œç¨åŠ æ”¹å†™è€Œæˆçš„ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š"></a>ç¼–ç¨‹ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>uos20 amd64</code> ğŸ“ <code>Qt 5.11.3</code> </p><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14.6 </code> ğŸ“ <code>Qt 5.12.6</code></p><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>win10 x64</code> ğŸ“ <code>Qt 5.12.7</code></p><br><h3 id="å…ƒå¯¹è±¡ç³»ç»Ÿ"><a href="#å…ƒå¯¹è±¡ç³»ç»Ÿ" class="headerlink" title="å…ƒå¯¹è±¡ç³»ç»Ÿ:"></a>å…ƒå¯¹è±¡ç³»ç»Ÿ:</h3><p>â€‹Qt çš„å…ƒå¯¹è±¡ç³»ç»Ÿ (<code>Meta-Object System</code>) æä¾›äº†å¯¹è±¡ä¹‹é—´é€šä¿¡çš„ä¿¡å·ä¸æ§½æœºåˆ¶ã€è¿è¡Œæ—¶ç±»å‹ä¿¡æ¯å’ŒåŠ¨æ€å±æ€§ç³»ç»Ÿã€‚</p><p>â€‹<font color=#FF0000  size=4 face="å¹¼åœ†"><strong>å…ƒå¯¹è±¡ç³»ç»Ÿç”±ä»¥ä¸‹ä¸‰ä¸ªåŸºç¡€ç»„æˆï¼š</strong></font></p><ul><li><p><font color=#FF0000  size=4 face="å¹¼åœ†">QObjectç±»æ˜¯æ‰€æœ‰ä½¿ç”¨å…ƒå¯¹è±¡ç³»ç»Ÿçš„ç±»çš„åŸºç±»ã€‚</font></p></li><li><p><font color=#FF0000  size=4 face="å¹¼åœ†">åœ¨ä¸€ä¸ªç±»çš„privateéƒ¨åˆ†å£°æ˜ Q OBJECT å®ï¼Œä½¿å¾—ç±»å¯ä»¥ä½¿ç”¨å…ƒå¯¹è±¡çš„ç‰¹æ€§ï¼Œå¦‚åŠ¨æ€å±æ€§ã€ä¿¡å·ä¸æ§½ã€‚</font></p></li><li><p><font color=#FF0000  size=4 face="å¹¼åœ†">MOC (å…ƒå¯¹è±¡ç¼–è¯‘å™¨)ä¸ºæ¯ä¸ª QObjeet çš„å­ç±»æä¾›å¿…è¦çš„ä»£ç æ¥å®ç°å…ƒå¯¹è±¡ç³»ç»Ÿçš„ç‰¹æ€§ã€‚æ„å»ºé¡¹ç›®æ—¶ï¼ŒMOCå·¥å…·è¯»å– C++ æºæ–‡ä»¶ï¼Œå½“å®ƒå‘ç°ç±»çš„å®šä¹‰é‡Œæœ‰ Q_ OBJECT å®æ—¶ï¼Œå®ƒå°±ä¼šä¸ºè¿™ä¸ªç±»ç”Ÿæˆå¦å¤–ä¸€ä¸ªåŒ…å«æœ‰å…ƒå¯¹è±¡æ”¯æŒä»£ç çš„ C++ æºæ–‡ä»¶ï¼Œè¿™ä¸ªç”Ÿæˆçš„æºæ–‡ä»¶è¿åŒç±»çš„å®ç°æ–‡ä»¶ä¸€èµ·è¢«ç¼–è¯‘å’Œè¿æ¥ã€‚</font></p></li><li><p><strong>é™¤äº†ä¿¡å·ä¸æ§½æœºåˆ¶å¤–ï¼Œå…ƒå¯¹è±¡è¿˜æä¾›å¦‚ä¸‹ä¸€äº›åŠŸèƒ½ã€‚</strong></p></li><li><p>Qbjet::metaOject()å‡½æ•°è¿”å›ç±»å…³è”çš„å…ƒå¯¹è±¡ï¼Œå…ƒå¯¹è±¡ç±» QMetaObject åŒ…å«äº†è®¿é—®å…ƒå¯¹è±¡çš„ä¸€äº›æ¥å£å£å‡½æ•°ï¼Œä¾‹å¦‚ QMetabjet:classNamec() å‡½æ•°å¯åœ¨è¿è¡Œæ—¶è¿”å›ç±»çš„åç§°å­—ç¬¦ä¸²ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">QObject <span class="token operator">*</span>obj <span class="token operator">=</span> <span class="token keyword">new</span> QPushButton<span class="token punctuation">;</span>obj<span class="token operator">-></span><span class="token function">metaObject</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">classNane</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//è¿”å›"QPushButton</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p><code>QMetaOjct::newInstance()</code>å‡½æ•°åˆ›å»ºç±»çš„ä¸€ä¸ªæ–°çš„å®ä¾‹ã€‚</p></li><li><p>Q0bjct:inherits(const char *className)å‡½æ•°åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡å®ä¾‹æ˜¯å¦æ˜¯åç§°ä¸º className çš„ç±»æˆ– QObject çš„å­ç±»çš„å®ä¾‹ã€‚ä¾‹å¦‚:</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">QTimer <span class="token operator">*</span>timer <span class="token operator">=</span> <span class="token keyword">new</span> QTimer<span class="token punctuation">;</span>  <span class="token comment">// OTimeræ˜¯oobjectçš„å­ç±»</span>timer<span class="token operator">-></span><span class="token function">inherits</span> <span class="token punctuation">(</span><span class="token string">"QTimer"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//è¿”å›true</span>timer<span class="token operator">-></span><span class="token function">inherits</span> <span class="token punctuation">(</span><span class="token string">"QObject"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//è¿”å›true</span>timer<span class="token operator">-></span><span class="token function">inherits</span> <span class="token punctuation">(</span><span class="token string">"QAbstractButton"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¿”å›false. ä¸æ˜¯QAbatractButtonçš„å­ç±»</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><code>QObject::tr()</code> å’Œ <code>Qbjet::trUtf8()</code> å‡½æ•°å¯ç¿»è¯‘å­—ç¬¦ä¸²ï¼Œç”¨äºå¤šè¯­è¨€ç•Œé¢è®¾è®¡ã€‚</p></li><li><p><code>QObjct:setProperty()</code> å’Œ <code>Q0bjct:property()</code> å‡½æ•°ç”¨äºé€šè¿‡å±æ€§åç§°åŠ¨æ€è®¾ç½®å’Œè·å–å±æ€§å€¼ã€‚</p><p>å¯¹äº QObject åŠå…¶å­ç±»ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ <code>qobject_cast()</code> å‡½æ•°è¿›è¡ŒåŠ¨æ€æŠ•å°„(dynamic cast)ã€‚ä¾‹å¦‚ï¼Œå‡è®¾ QMyWidget æ˜¯ QWidget çš„å­ç±»å¹¶ä¸”åœ¨ç±»å®šä¹‰ä¸­å£°æ˜äº†Q_OBJECTå®ã€‚åˆ›å»ºå®ä¾‹ä½¿ç”¨ä¸‹é¢çš„è¯­å¥: </p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">Q0bject <span class="token operator">*</span>obj <span class="token operator">=</span> <span class="token keyword">new</span> QMyWidget<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å˜é‡ obj å®šä¹‰ä¸º QObject æŒ‡é’ˆ,ä½†å®ƒå®é™…æŒ‡å‘ QMyWidget ç±»,æ‰€ä»¥å¯ä»¥æ­£ç¡®æŠ•å°„ä¸º QWidgetï¼Œå³: </p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">Qwidget <span class="token operator">*</span>widget <span class="token operator">=</span> <span class="token generic-function"><span class="token function">qobject_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>Qwidget <span class="token operator">*</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä» QObject åˆ° QWidget çš„æŠ•å°„æ˜¯æˆåŠŸçš„ï¼Œå› ä¸º obj å®é™…æ˜¯ QMyWidget ç±»ï¼Œæ˜¯ QWidge çš„å­ç±»ã€‚ä¹Ÿå¯ä»¥å°†å…¶æˆåŠŸæŠ•å°„ä¸º QMyWidgetï¼Œå³:</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">QMyWidget <span class="token operator">*</span>myWidget <span class="token operator">=</span> <span class="token generic-function"><span class="token function">qobject_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>QMyWidget <span class="token operator">*</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æŠ•å°„ä¸º QMyWidgetæ˜¯æˆåŠŸçš„ï¼Œå› ä¸º qoiect_cast() å¹¶ä¸åŒºåˆ† Qt å†…å»ºçš„ç±»å‹å’Œç”¨æˆ·è‡ªå®šä¹‰ç±»å‹ã€‚ä½†æ˜¯ï¼Œè‹¥è¦å°† obj æŠ•å°„ä¸º QLabel åˆ™æ˜¯å¤±è´¥çš„ï¼Œå› ä¸º QMyWidget ä¸æ˜¯ Qlabel çš„å­ç±»ã€‚å³: </p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">QLabe1 <span class="token operator">*</span>labol <span class="token operator">=</span> <span class="token generic-function"><span class="token function">qobject_caot</span><span class="token generic class-name"><span class="token operator">&lt;</span>QLabe1 <span class="token operator">*</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br></li></ul><h3 id="å±æ€§ç³»ç»Ÿï¼š"><a href="#å±æ€§ç³»ç»Ÿï¼š" class="headerlink" title="å±æ€§ç³»ç»Ÿï¼š"></a>å±æ€§ç³»ç»Ÿï¼š</h3><h4 id="å±æ€§å®šä¹‰ï¼š"><a href="#å±æ€§å®šä¹‰ï¼š" class="headerlink" title="å±æ€§å®šä¹‰ï¼š"></a>å±æ€§å®šä¹‰ï¼š</h4><p>Qtæä¾›ä¸€ä¸ªQ PROPERTY0å®å¯ä»¥å®šä¹‰å±æ€§ï¼Œå®ƒä¹Ÿæ˜¯åŸºäºå…ƒå¯¹è±¡ç³»ç»Ÿå®ç°çš„ã€‚Qt çš„å±æ€§ç³»çµ±ä¸C++ç¼–è¯‘å™¨æ— ç®¡ï¼Œå¯ä»¥ç”¨ä»»ä½•æŸå‡†çš„C++ç¼–è¯‘å™¨å®šä¹‰å±æ€§çš„Qt C++ç¨‹åºã€‚</p><ul><li><p>åœ¨QObijctçš„å­å¥¬ä¸­ï¼Œç”¨å®Q PROPERTYOå®šæ–‡å±æ€§ï¼Œå…¶ä½¿ç”¨æ ¼å¼å¦‚ä¸‹:</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token function">Q_PROPERTY</span><span class="token punctuation">(</span>type <span class="token function">name</span>             <span class="token punctuation">(</span>READ getFunction <span class="token punctuation">[</span>WRITE setFunction<span class="token punctuation">]</span> <span class="token operator">|</span>              MEMBER memberName <span class="token punctuation">[</span><span class="token punctuation">(</span>READ getFunction <span class="token operator">|</span> WRITE setFunction<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>             <span class="token punctuation">[</span>RESET resetFunction<span class="token punctuation">]</span>             <span class="token punctuation">[</span>NOTIFY notifySignal<span class="token punctuation">]</span>             <span class="token punctuation">[</span>REVISION <span class="token keyword">int</span><span class="token punctuation">]</span>             <span class="token punctuation">[</span>DESIGNABLE <span class="token keyword">bool</span><span class="token punctuation">]</span>             <span class="token punctuation">[</span>SCRIPTABLE <span class="token keyword">bool</span><span class="token punctuation">]</span>             <span class="token punctuation">[</span>STORED <span class="token keyword">bool</span><span class="token punctuation">]</span>             <span class="token punctuation">[</span>USER <span class="token keyword">bool</span><span class="token punctuation">]</span>             <span class="token punctuation">[</span>CONSTANT<span class="token punctuation">]</span>             <span class="token punctuation">[</span>FINAL<span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> Q_PROPERTYå®å®šä¹‰å±æ€§çš„ä¸€äº›ä¸»è¦å…³é”®å­—çš„æ„ä¹‰å¦‚ä¸‹ã€‚</p><p>â— READ æŒ‡å®šä¸€ä¸ªè¯»å–å±æ€§å€¼çš„å‡½æ•°ï¼Œæ²¡æœ‰ MEMBER å…³é”®å­—æ—¶å¿…é¡»è®¾ç½®READ.</p><p>â— WRITEæŒ‡å®šä¸€ä¸ªè®¾å®šå±æ€§å€¼çš„å‡½æ•°ï¼Œ åªè¯»å±æ€§æ²¡æœ‰WRITEè®¾ç½®ã€‚</p><p>â— MEMBERæŒ‡å®šä¸€ä¸ªæˆå‘˜å˜é‡ä¸å±æ€§å…³è”ï¼Œæˆä¸ºå¯è¯»å¯å†™çš„å±æ€§ï¼Œæ— éœ€å†è®¾ç½®READå’ŒWRITE.</p><p>â— RESETæ˜¯å¯é€‰çš„ï¼Œç”¨äºæŒ‡å®šä¸€ä¸ªè®¾ç½®å±æ€§ç¼ºçœå€¼çš„å‡½æ•°ã€‚</p><p>â— NOTIFYæ˜¯å¯é€‰çš„ï¼Œç”¨äºè®¾ç½®ä¸€ä¸ªä¿¡å·ï¼Œ å½“å±æ€§å€¼å˜åŒ–æ—¶å‘å°„æ­¤ä¿¡å·.</p><p>â— CONSTANTè¡¨ç¤ºå±æ€§å€¤æ˜¯ä¸€å¸¸æ•°ï¼Œå¯¾äºä¸€ä¸ªå¯¾è±¡å®ä¾‹ï¼ŒREAD æŒ‡å®šçš„å‡½æ•°è¿”å›å€¤æ˜¯å¸¸æ•°ï¼Œä½†æ˜¯æ¯ä¸ªå®ä¾‹çš„è¿”å›å€¼å¯ä»¥ä¸ä¸€-æ ·ã€‚å…·æœ‰CONSTANTå…³é”®å­—çš„å±æ€§ä¸èƒ½æœ‰WRITEå’ŒNOTIFYå…³é”®å­—ã€‚</p><p>FINALè¡¨ç¤ºæ‰€å®šæ–‡çš„å±æ€§ä¸èƒ½è¢«å­ç¾é‡æ ½ã€‚QWidgetç±»å®šä¹‰å±æ€§çš„ä¸€-äº›ä¾‹å­å¦‚ä¸‹:</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">Q_ <span class="token function">PROPERTY</span> <span class="token punctuation">(</span><span class="token keyword">bool</span>  focus READ hasFocus<span class="token punctuation">)</span>Q_ <span class="token function">PROPERTY</span><span class="token punctuation">(</span>b0ol enabled READ isEnabled WRITE setEnabled<span class="token punctuation">)</span>Q_ <span class="token function">PROPERTY</span> <span class="token punctuation">(</span>QCursor cursor READ cursor WRITE setCursor RESET <span class="token function">unsetCursor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li></ul><br><h4 id="å±æ€§çš„ä½¿ç”¨"><a href="#å±æ€§çš„ä½¿ç”¨" class="headerlink" title="å±æ€§çš„ä½¿ç”¨:"></a>å±æ€§çš„ä½¿ç”¨:</h4><p>ä¸ç®¡æ˜¯å¦ç”¨READå’ŒWRITEå®šä¹‰äº†æ¥å£å‡½æ•°ï¼Œåªè¦çŸ¥é“å±æ€§åç§°å°±å¯ä»¥é€šè¿‡QObjct:property()è¯»å–å±æ€§å€¼ï¼Œå¹¶é€šè¿‡QObject:setProperty0è®¾ç½®å±æ€§å€¼ã€‚ä¾‹å¦‚:</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">QPushButton <span class="token operator">*</span>button <span class="token operator">=</span> <span class="token keyword">new</span> QPushButton<span class="token punctuation">;</span>Q0bject <span class="token operator">*</span>object <span class="token operator">=</span> button<span class="token punctuation">;</span>object<span class="token operator">-></span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"flat"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">bool</span> isFlat<span class="token operator">-</span> object<span class="token operator">-></span><span class="token function">property</span><span class="token punctuation">(</span><span class="token string">"flat"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><br><h4 id="åŠ¨æ€å±æ€§"><a href="#åŠ¨æ€å±æ€§" class="headerlink" title="åŠ¨æ€å±æ€§:"></a>åŠ¨æ€å±æ€§:</h4><p> QObject:setPropert()å‡½æ•°å¯ä»¥åœ¨è¿è¡Œæ—¶ä¸ºç±»å®šä¹‰ä¸€ä¸ªæ–°çš„å±æ€§ï¼Œç§°ä¹‹ä¸ºåŠ¨æ€å±æ€§ã€‚åŠ¨æ€å±æ€§æ˜¯é’ˆå¯¹ç±»çš„å®ä¾‹å®šä¹‰çš„ã€‚åŠ¨æ€å±æ€§å¯ä»¥ä½¿ç”¨Qbjct:property()æŸ¥è¯¢ï¼Œå°±å¦‚åœ¨ç±»å®šä¹‰é‡Œç”¨ Q_PROPERTY å®å®šä¹‰çš„å±æ€§ä¸€æ ·ã€‚</p><p>  ä¾‹å¦‚ï¼Œåœ¨æ•°æ®è¡¨ç¼–è¾‘ç•Œé¢ä¸Šï¼Œä¸€äº›å­—æ®µæ˜¯å¿…å¡«å­—æ®µï¼Œå°±å¯ä»¥åœ¨åˆå§‹åŒ–ç•Œé¢æ—¶ä¸ºè¿™äº›å­—æ®µçš„å…³è”æ˜¾ç¤ºç»„ä»¶å®šä¹‰ä¸€ä¸ªæ–°çš„requiredå±æ€§ï¼Œå¹¶è®¾ç½®å€¼ä¸ºâ€trueâ€ï¼Œå¦‚:</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">editName<span class="token operator">-></span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"required"</span>ï¼Œ<span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>comboSex<span class="token operator">-></span> <span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"required"</span><span class="token punctuation">.</span> <span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> checkAgree<span class="token operator">-></span> <span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"required"</span><span class="token punctuation">,</span> <span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>  ç„¶åï¼Œå¯ä»¥åº”ç”¨ä¸‹é¢çš„æ ·å¼å®šä¹‰å°†è¿™ç§å¿…å¡«å­—æ®µçš„èƒŒæ™¯é¢œè‰²è®¾ç½®ä¸ºäº®ç»¿è‰²</p><p><code>*[required=&quot;true&quot;] (background-color: lime)</code></p><br><h4 id="ç±»çš„é™„åŠ ä¿¡æ¯"><a href="#ç±»çš„é™„åŠ ä¿¡æ¯" class="headerlink" title="ç±»çš„é™„åŠ ä¿¡æ¯:"></a>ç±»çš„é™„åŠ ä¿¡æ¯:</h4><p>  å±æ€§ç³»ç»Ÿè¿˜æœ‰ä¸€ä¸ªå®Q CLASSINFO0.å¯ä»¥ä¸ºç±»çš„å…ƒå¯¹è±¡å®šä¹‰â€œåç§°-å€¼â€ ä¿¡æ¯ï¼Œå¦‚:</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">QMyC1ass</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QObject</span></span><span class="token punctuation">&#123;</span>   Q_OBJECT  <span class="token function">Q_CLASSINFO</span><span class="token punctuation">(</span><span class="token string">"author"</span><span class="token punctuation">,</span> <span class="token string">"Wang"</span> <span class="token punctuation">)</span>  <span class="token function">Q_CLASSINFO</span><span class="token punctuation">(</span><span class="token string">"company"</span><span class="token punctuation">,</span> <span class="token string">"UPC"</span> <span class="token punctuation">)</span>  <span class="token function">Q_CLASSINFO</span><span class="token punctuation">(</span><span class="token string">"version "</span>ï¼Œ<span class="token string">"3.0.1"</span><span class="token punctuation">)</span>  <span class="token keyword">public</span><span class="token operator">:</span>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç”¨Q CLASSINFOQå®å®šä¹‰é™„åŠ ç±»ä¿¡æ¯åï¼Œå¯ä»¥é€šè¿‡å…ƒå¯¹è±¡çš„ä¸€äº›å‡½æ•°è·å–ç±»çš„é™„åŠ ä¿¡æ¯ï¼Œå¦‚classInfo(int )è·å–æŸä¸ªé™„åŠ ä¿¡æ¯ï¼Œå‡½æ•°åŸå‹å®šä¹‰å¦‚ä¸‹: .</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">QMetaClassInfo QMetaObject<span class="token operator">:</span> <span class="token operator">:</span><span class="token function">classInfo</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token keyword">const</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿”å›å€¼æ˜¯ QMetaClassInfo ç±»å‹ï¼Œæœ‰name()å’Œvalue()ä¸¤ä¸ªå‡½æ•°ï¼Œå¯è·å¾—ç±»é™„åŠ ä¿¡æ¯çš„åç§°å’Œå€¼ã€‚</p><br><h3 id="æ ¸å¿ƒæºç ï¼š"><a href="#æ ¸å¿ƒæºç ï¼š" class="headerlink" title="æ ¸å¿ƒæºç ï¼š"></a>æ ¸å¿ƒæºç ï¼š</h3><p>ã€€å†™äº†ä¸€ä¸ªä¾‹å­ï¼š</p><p>ExPerson.h</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">EXPERSON_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">EXPERSON_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QObject></span></span><span class="token keyword">class</span> <span class="token class-name">ExPerson</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QObject</span></span><span class="token punctuation">&#123;</span>    Q_OBJECT    <span class="token comment">//ç±»çš„é™„åŠ ä¿¡æ¯ï¼šåç§°â€”â€”â€”â€”å€¼</span>    <span class="token function">Q_CLASSINFO</span><span class="token punctuation">(</span><span class="token string">"author"</span><span class="token punctuation">,</span> <span class="token string">"touwoyimuli"</span><span class="token punctuation">)</span>    <span class="token function">Q_CLASSINFO</span><span class="token punctuation">(</span><span class="token string">"version"</span><span class="token punctuation">,</span> <span class="token string">"1.0.0"</span><span class="token punctuation">)</span>    <span class="token function">Q_CLASSINFO</span><span class="token punctuation">(</span><span class="token string">"info"</span><span class="token punctuation">,</span> <span class="token string">"Qt5 Meta Object and Property Example"</span><span class="token punctuation">)</span>    <span class="token comment">//å±æ€§å®šä¹‰</span>    <span class="token function">Q_PROPERTY</span><span class="token punctuation">(</span><span class="token keyword">int</span> age READ getAge WRITE setAge NOTIFY ageChanged<span class="token punctuation">)</span>    <span class="token comment">//å±æ€§age; æ–¹æ³•getAge()å’ŒsetAge()å¯¹å…¶è¯»å†™; è®¾ç½®ä¿¡å·ageChanged()</span>    <span class="token function">Q_PROPERTY</span><span class="token punctuation">(</span>QString name MEMBER m_name<span class="token punctuation">)</span>     <span class="token comment">//å±æ€§name ä¸ç±»æˆå‘˜å˜é‡m_nameå…³è”</span>    <span class="token function">Q_PROPERTY</span><span class="token punctuation">(</span><span class="token keyword">int</span> score MEMBER m_score<span class="token punctuation">)</span>       <span class="token comment">//å±æ€§scoreä¸ç±»æˆå‘˜å˜é‡m_scoreå…³è”</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">explicit</span> <span class="token function">ExPerson</span><span class="token punctuation">(</span>QString name<span class="token punctuation">,</span> QObject <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//å±æ€§ READ å‡½æ•°</span>    <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//å±æ€§ WRITE å‡½æ•°</span>    <span class="token keyword">void</span> <span class="token function">incAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">//å•ç‹¬å†™ä¸€ä¸ªæ¥å£ï¼Œä¸å±æ€§æ— å…³</span>signals<span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">ageChanged</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//å±æ€§ageå‘ç”Ÿæ”¹å˜çš„ä¿¡å·å‡½æ•°</span><span class="token keyword">private</span><span class="token operator">:</span>    <span class="token keyword">int</span> m_age <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>    QString m_name<span class="token punctuation">;</span>    <span class="token keyword">int</span> m_score <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// EXPERSON_H</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ExWidget.h</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">EXWIDGET_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">EXWIDGET_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QWidget></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ExPerson.h"</span></span><span class="token keyword">namespace</span> Ui <span class="token punctuation">&#123;</span><span class="token keyword">class</span> <span class="token class-name">ExWidget</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">ExWidget</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QWidget</span></span><span class="token punctuation">&#123;</span>    Q_OBJECT<span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">explicit</span> <span class="token function">ExWidget</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">~</span><span class="token function">ExWidget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">private</span> slots<span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">onAgeChange</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//è‡ªå®šä¹‰çš„æ§½å‡½æ•°</span>    <span class="token keyword">void</span> <span class="token function">onSpinValChange</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">onBtnClear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">//UIç•Œé¢çš„æ§½å‡½æ•°</span>    <span class="token keyword">void</span> <span class="token function">onBtnBoyInc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">onBtnGrilInc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">onClassInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">private</span><span class="token operator">:</span>    Ui<span class="token double-colon punctuation">::</span>ExWidget <span class="token operator">*</span>ui<span class="token punctuation">;</span>    ExPerson<span class="token operator">*</span> m_boy<span class="token punctuation">;</span>    ExPerson<span class="token operator">*</span> m_girl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// EXWIDGET_H</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ExPerson.cpp</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ExPerson.h"</span></span><span class="token comment">//åŠ ä¸€ä¸ªå‚åçš„æ„é€ å‡½æ•°</span><span class="token class-name">ExPerson</span><span class="token double-colon punctuation">::</span><span class="token function">ExPerson</span><span class="token punctuation">(</span>QString name<span class="token punctuation">,</span> QObject <span class="token operator">*</span>parent<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">QObject</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    m_name <span class="token operator">=</span> name<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token class-name">ExPerson</span><span class="token double-colon punctuation">::</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> m_age<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExPerson</span><span class="token double-colon punctuation">::</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    m_age <span class="token operator">=</span> value<span class="token punctuation">;</span>    emit <span class="token function">ageChanged</span><span class="token punctuation">(</span>m_age<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//å‘å°„ä¿¡å·</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExPerson</span><span class="token double-colon punctuation">::</span><span class="token function">incAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    m_age<span class="token operator">++</span><span class="token punctuation">;</span>    emit <span class="token function">ageChanged</span><span class="token punctuation">(</span>m_age<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//å‘å°„ä¿¡å·</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ExWidget.cpp</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ExWidget.h"</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ui_ExWidget.h"</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QMetaProperty></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QDebug></span></span><span class="token class-name">ExWidget</span><span class="token double-colon punctuation">::</span><span class="token function">ExWidget</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">QWidget</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token double-colon punctuation">::</span>ExWidget<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_boy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">ExPerson</span><span class="token punctuation">(</span><span class="token string">"å¼ ä¸‰"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_boy<span class="token operator">-></span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"score"</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_boy<span class="token operator">-></span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_boy<span class="token operator">-></span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"sex"</span><span class="token punctuation">,</span> <span class="token string">"Boy"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">//åŠ¨æ€å±æ€§</span>    <span class="token function">connect</span><span class="token punctuation">(</span>m_boy<span class="token punctuation">,</span> <span class="token operator">&amp;</span>ExPerson<span class="token double-colon punctuation">::</span>ageChanged<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>ExWidget<span class="token double-colon punctuation">::</span>onAgeChange<span class="token punctuation">)</span><span class="token punctuation">;</span>    m_girl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">ExPerson</span><span class="token punctuation">(</span><span class="token string">"å¼ ä¸½"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_girl<span class="token operator">-></span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"score"</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_girl<span class="token operator">-></span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_girl<span class="token operator">-></span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"sex"</span><span class="token punctuation">,</span> <span class="token string">"Gril"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">//åŠ¨æ€å±æ€§</span>    <span class="token function">connect</span><span class="token punctuation">(</span>m_girl<span class="token punctuation">,</span> <span class="token operator">&amp;</span>ExPerson<span class="token double-colon punctuation">::</span>ageChanged<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>ExWidget<span class="token double-colon punctuation">::</span>onAgeChange<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>spinBoy<span class="token operator">-></span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"isBoy"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//åŠ¨æ€å±æ€§</span>    ui<span class="token operator">-></span>spinGril<span class="token operator">-></span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"isBoy"</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>spinGril<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">valueChanged</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onSpinValChange</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>spinBoy<span class="token punctuation">,</span>  <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">valueChanged</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onSpinValChange</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>btnBoyAdd<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onBtnBoyInc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>btnGrilAdd<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onBtnGrilInc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>btnMetaObject<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onClassInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>btnClean<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onBtnClear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token class-name">QObject</span><span class="token double-colon punctuation">::</span><span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"å…ƒå¯¹è±¡MetaObjectå’Œ(å«åŠ¨æ€)å±æ€§Propertçš„ç”¨æ³•"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">ExWidget</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">ExWidget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">delete</span> ui<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExWidget</span><span class="token double-colon punctuation">::</span><span class="token function">onAgeChange</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">Q_UNUSED</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>   <span class="token comment">//å‚æ•°valæ²¡ä½¿ç”¨ï¼Œé¿å…è­¦å‘Š</span>    ExPerson<span class="token operator">*</span> person <span class="token operator">=</span> <span class="token generic-function"><span class="token function">qobject_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>ExPerson <span class="token operator">*</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token function">sender</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//ç±»å‹æŠ•å°„</span>    QString name <span class="token operator">=</span> person<span class="token operator">-></span><span class="token function">property</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QString sex <span class="token operator">=</span> person<span class="token operator">-></span><span class="token function">property</span><span class="token punctuation">(</span><span class="token string">"sex"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> age  <span class="token operator">=</span> person<span class="token operator">-></span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                             <span class="token comment">//é€šè¿‡æ¥å£å‡½æ•°ï¼Œè·å¾—å¹´é¾„</span>                                                             <span class="token comment">//æˆ–ä½¿ç”¨ int age  = person->property("age").toInt();</span>    ui<span class="token operator">-></span>textEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span>name<span class="token operator">+</span><span class="token string">","</span><span class="token operator">+</span>sex <span class="token operator">+</span> <span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">asprintf</span><span class="token punctuation">(</span><span class="token string">",å¹´é¾„=%d"</span><span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExWidget</span><span class="token double-colon punctuation">::</span><span class="token function">onSpinValChange</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">Q_UNUSED</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>    QSpinBox<span class="token operator">*</span> spin <span class="token operator">=</span> <span class="token generic-function"><span class="token function">qobject_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>QSpinBox <span class="token operator">*</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token function">sender</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//ç±»å‹æŠ•å°„</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>spin<span class="token operator">-></span><span class="token function">property</span><span class="token punctuation">(</span><span class="token string">"isBoy"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBool</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        m_boy<span class="token operator">-></span><span class="token function">setAge</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>spinBoy<span class="token operator">-></span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">else</span>        m_girl<span class="token operator">-></span><span class="token function">setAge</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>spinGril<span class="token operator">-></span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExWidget</span><span class="token double-colon punctuation">::</span><span class="token function">onBtnClear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>textEdit<span class="token operator">-></span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExWidget</span><span class="token double-colon punctuation">::</span><span class="token function">onBtnBoyInc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    m_boy<span class="token operator">-></span><span class="token function">incAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExWidget</span><span class="token double-colon punctuation">::</span><span class="token function">onBtnGrilInc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    m_girl<span class="token operator">-></span><span class="token function">incAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExWidget</span><span class="token double-colon punctuation">::</span><span class="token function">onClassInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> QMetaObject<span class="token operator">*</span> meta <span class="token operator">=</span> m_boy<span class="token operator">-></span><span class="token function">metaObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>textEdit<span class="token operator">-></span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>textEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"==å…ƒå¯¹è±¡ä¿¡æ¯(Meta Object)==="</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>textEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"ç±»åç§°: %1\n"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>meta<span class="token operator">-></span><span class="token function">className</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>textEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"å±æ€§(property)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> meta<span class="token operator">-></span><span class="token function">propertyOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> meta<span class="token operator">-></span><span class="token function">propertyCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        QMetaProperty prop <span class="token operator">=</span> meta<span class="token operator">-></span><span class="token function">property</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> propName <span class="token operator">=</span> prop<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        QString propValue <span class="token operator">=</span> m_boy<span class="token operator">-></span><span class="token function">property</span><span class="token punctuation">(</span>propName<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ui<span class="token operator">-></span>textEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"å±æ€§åç§°=%1ï¼Œ å±æ€§å€¼= %2"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>propName<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>propValue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    ui<span class="token operator">-></span>textEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>textEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"classInfo:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> meta<span class="token operator">-></span><span class="token function">classInfoOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> meta<span class="token operator">-></span><span class="token function">classInfoCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        QMetaClassInfo classInfo <span class="token operator">=</span> meta<span class="token operator">-></span><span class="token function">classInfo</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        ui<span class="token operator">-></span>textEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"Name=%1ï¼Œ Value= %2"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>classInfo<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>classInfo<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h3><p>ã€€ã€€é™„ä¸Šçš„æœ€åçš„è¿è¡Œæ•ˆæœå›¾ä¸€è§ˆï¼š</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200504_220444.gif" width="70%"/ loading="lazy"><br><h3 id="ä¸‹è½½åœ°å€ï¼š"><a href="#ä¸‹è½½åœ°å€ï¼š" class="headerlink" title="ä¸‹è½½åœ°å€ï¼š"></a>ä¸‹è½½åœ°å€ï¼š</h3><p><a href="https://github.com/xmuli/QtExamples">https://github.com/xmuli/QtExamples</a> ã€QtMeatObjectExã€‘</p>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸­å¤šçº¿ç¨‹ä½¿ç”¨ä¿¡å·é‡(ä¿¡å·ç¯)ï¼Œå’Œsem_wait()å‡½æ•°ä½¿ç”¨</title>
      <link href="/posts/67949f28/"/>
      <url>/posts/67949f28/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€<a href="https://xmuli.blog.csdn.net/article/details/105885580">ä¸Šä¸€ç¯‡</a>ä¸­è®²è§£äº†â€œæ¡ä»¶å˜é‡ + äº’æ–¥é‡â€çš„ç»„åˆä½¿ç”¨ï¼Œæ¼”ç¤ºäº† â€œç”Ÿäº§è€…-æ¶ˆè´¹è€…â€æ¨¡å‹ã€‚æœ¬ç¯‡è®²è§£ äº’æ–¥é‡çš„å‡çº§ç‰ˆï¼š<strong>ä¿¡å·é‡ï¼ˆä¿¡å·ç¯ï¼‰</strong> çš„ç†è§£å’Œä½¿ç”¨ã€‚äº’æ–¥é‡ä¸ä¿¡å·é‡çš„å…³ç³»ï¼Œå¯ä»¥ç®€å•ç†è§£ä¸º c å’Œ c++ çš„å…³ç³»ã€‚ä¿¡å·é‡çš„ä½¿ç”¨çš„æ­¥éª¤ï¼Œä¹Ÿæ˜¯å’Œå‰é¢çš„äº’æ–¥é‡å¾ˆåƒï¼Œä¸è¿‡è¿™æ¬¡çš„å¤´æ–‡ä»¶æ”¹ä¸ºäº† <code>#include &lt;semaphore.h&gt;</code>:</p><ul><li>sem_t sem; &#x2F;&#x2F;å®šä¹‰å˜é‡</li><li>sem_wait();  &#x2F;&#x2F;åŠ é”</li><li>â€¦å…¶ä»–ä»£ç </li><li>sem_post();  &#x2F;&#x2F;è§£é”</li><li>sem_destroy();  &#x2F;&#x2F;é”€æ¯</li></ul><p><font color=#D0087E size=4 face="å¹¼åœ†">è¯´æ˜ï¼š</font></p><p><strong>æœ¬ä¾‹å­æ˜¯åœ¨ Linux ä¸‹é¢è¿è¡ŒæˆåŠŸçš„ï¼Œç¼–è¯‘æ—¶å€™ï¼Œæ—¶å€™éœ€è¦åŠ å‚æ•° <code>-pthread</code> ã€‚</strong></p><p>è‹¥æ˜¯æƒ³è¦åœ¨ Mac è¿è¡Œæ”¹ç¨‹åºï¼Œéœ€è¦æ”¹å†™æ›¿æ¢éƒ¨åˆ†å‡½æ•°(mac ä¸æ”¯æŒå…¶ä¸­çš„éƒ¨åˆ†å‡½æ•°)</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š"></a>ç¼–ç¨‹ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>uos20</code> ğŸ“ <code>gcc/g++ 8.3</code> ğŸ“ <code>gdb8.0</code> </p><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14 </code> ğŸ“ <code>gcc/g++ 9.2</code> ğŸ“ <code>gdb8.3</code> </p><br><h3 id="ä¿¡å·é‡-ä¿¡å·ç¯-ï¼š"><a href="#ä¿¡å·é‡-ä¿¡å·ç¯-ï¼š" class="headerlink" title="ä¿¡å·é‡(ä¿¡å·ç¯)ï¼š"></a>ä¿¡å·é‡(ä¿¡å·ç¯)ï¼š</h3><p>ç®€å•ç†è§£ä¸ºé‡Œé¢å…·æœ‰å¤šä¸ªäº’æ–¥é‡çš„é›†åˆã€‚æ˜¯åŠ å¼ºç‰ˆçš„äº’æ–¥é”ã€‚</p><p><strong>å…¶ä»–ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">sem_t sem<span class="token punctuation">;</span> <span class="token keyword">int</span> <span class="token function">sem_init</span><span class="token punctuation">(</span>sem_t <span class="token operator">*</span>sem<span class="token punctuation">,</span> <span class="token keyword">int</span> pshared<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">int</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ä¹‹é—´çš„ä¸€äº›è§£é‡Šï¼š</p><p>sem å˜é‡å’Œ å‡½æ•° sem_init ä¸­çš„ sem å‚æ•°æ˜¯åŒä¸€ä¸ªï¼›åœ¨å‡½æ•°é‡Œé¢ï¼Œç¬¬ä¸€ä¸ªå‚æ•° sem å®é™…æ˜¯å’Œç¬¬ä¸‰ä¸ªå‚æ•° value å…³è”çš„ï¼›è¡¨é¢ä¸Šå¯¹ sem è¿›è¡Œä¿®æ”¹ï¼Œå®é™…ä¸Šæ˜¯ä¿®æ”¹å…³è”çš„ value çš„å€¼ï¼Œå¯¹å…¶è¿›è¡Œ ++ æˆ– â€“ æ“ä½œã€‚ï¼ˆå—¯å—¯ï¼ŒåŸç†å°±è¿™ä¹ˆç†è§£å°±è¡Œï¼‰ã€‚</p><br><h3 id="ä½¿ç”¨æ­¥éª¤ï¼š"><a href="#ä½¿ç”¨æ­¥éª¤ï¼š" class="headerlink" title="ä½¿ç”¨æ­¥éª¤ï¼š"></a>ä½¿ç”¨æ­¥éª¤ï¼š</h3><ol><li><p>sem_t sem; </p><br></li><li><p>åˆå§‹åŒ–ä¿¡å·é‡</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">sem_init</span><span class="token punctuation">(</span>sem_t <span class="token operator">*</span>sem<span class="token punctuation">,</span> <span class="token keyword">int</span> pshared<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">int</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><strong>å‚æ•°ï¼š</strong><ul><li>psharedï¼š<ul><li>0 - çº¿ç¨‹åŒæ­¥</li><li>1 - è¿›ç¨‹åŒæ­¥</li></ul></li><li>valueï¼š<ul><li>æœ€å¤šæœ‰å‡ ä¸ªçº¿ç¨‹æ“ä½œå…±äº«æ•°æ®</li></ul></li></ul></li></ul><br></li><li><p>åŠ é”:</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//è°ƒç”¨ä¸€æ¬¡ç›¸å½“äºå¯¹ sem åšäº†ä¸€æ¬¡ -- æ“ä½œ</span><span class="token keyword">int</span> <span class="token function">sem_wait</span><span class="token punctuation">(</span>sem_t <span class="token operator">*</span>sem<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åŠ é”ï¼› => å¦‚æœ sem å€¼ä¸º 0ï¼Œçº¿ç¨‹ä¼šé˜»å¡</span><span class="token keyword">int</span> <span class="token function">sem_trywait</span><span class="token punctuation">(</span>sem_t <span class="token operator">*</span>sem<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//å°è¯•åŠ é”ï¼› => sem == 0ï¼ŒåŠ é”å¤±è´¥ï¼Œä¸é˜»å¡ï¼Œç›´æ¥è¿”å›</span><span class="token keyword">int</span> <span class="token function">sem_timedwait</span><span class="token punctuation">(</span>sem_t <span class="token operator">*</span>sem<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">struct</span> <span class="token class-name">timespec</span> <span class="token operator">*</span>abs_timeout<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//é™æ—¶å°è¯•åŠ é”</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br></li><li><p>è§£é”:</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">sem_post</span><span class="token punctuation">(</span>sem_t <span class="token operator">*</span>sem<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//ç›¸å½“äºå¯¹äº sem åšäº† ++ æ“ä½œ</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br></li><li><p>é”€æ¯ä¿¡å·é‡</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">sem_destroy</span><span class="token punctuation">(</span>sem_t <span class="token operator">*</span>sem<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br></li></ol><h3 id="â€œç”Ÿäº§è€…-æ¶ˆè´¹è€…â€ä¾‹å­ï¼š"><a href="#â€œç”Ÿäº§è€…-æ¶ˆè´¹è€…â€ä¾‹å­ï¼š" class="headerlink" title="â€œç”Ÿäº§è€…-æ¶ˆè´¹è€…â€ä¾‹å­ï¼š"></a>â€œç”Ÿäº§è€…-æ¶ˆè´¹è€…â€ä¾‹å­ï¼š</h3><p>å°†ä¸Šä¸€ç¯‡çš„ä¾‹å­æ”¹ä¸€æ”¹ï¼Œç›´æ¥ä½¿ç”¨ä¿¡å·é‡æ¥å†™è¿™ä¸ªä¾‹å­â€œç”Ÿäº§è€…-æ¶ˆè´¹è€…â€ã€‚æœ¬ç¯‡æ–‡ç« ä¾‹å­å¦‚ä¸‹ï¼š</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200502_020639.png" width="80%"/ loading="lazy"><br><h4 id="ç†è®ºæ¨¡å‹ï¼š"><a href="#ç†è®ºæ¨¡å‹ï¼š" class="headerlink" title="ç†è®ºæ¨¡å‹ï¼š"></a>ç†è®ºæ¨¡å‹ï¼š</h4> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200502_021414.png" width="90%"/ loading="lazy"> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200502_020625.png" width="60%"/ loading="lazy"><br><h4 id="ä»£ç åˆ†æï¼š"><a href="#ä»£ç åˆ†æï¼š" class="headerlink" title="ä»£ç åˆ†æï¼š"></a>ä»£ç åˆ†æï¼š</h4><p>å¤šçœ‹ä¸€ä¸‹ç†è®ºæ¨¡å‹çš„é‚£ä¸ªä¼ªä»£ç çš„æµç¨‹å›¾ï¼Œå¤šä½“ä¼šæ£æ‘©å…¶ä¸­çš„ç®­å¤´çš„æµå‘ï¼Œä¸”ä¸€å¼€å§‹è¿™è®¾ç½®ä¸ºæ¶ˆè´¹è€…ä¸ºé˜»å¡ï¼Œå½“ç”Ÿäº§è€…ç”Ÿäº§ä¹‹åï¼Œä¸ºå…¶è§£é”ã€‚</p><br><h4 id="ä»£ç å®ç°ï¼š"><a href="#ä»£ç å®ç°ï¼š" class="headerlink" title="ä»£ç å®ç°ï¼š"></a>ä»£ç å®ç°ï¼š</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;semaphore.h></span></span>sem_t semProducer<span class="token punctuation">;</span>sem_t semCustomer<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">node</span>  <span class="token comment">//èŠ‚ç‚¹ç»“æ„</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> data<span class="token punctuation">;</span>    <span class="token keyword">struct</span> <span class="token class-name">node</span><span class="token operator">*</span> next<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> Node<span class="token punctuation">;</span>Node<span class="token operator">*</span> g_head <span class="token operator">=</span>  <span class="token keyword">nullptr</span><span class="token punctuation">;</span>  <span class="token comment">//æ°¸è¿œæŒ‡å‘é“¾è¡¨å¤´éƒ¨çš„æŒ‡é’ˆ</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">funProducer</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//ç”Ÿäº§è€…--æ·»åŠ ä¸€ä¸ªå¤´ç»“ç‚¹</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">funCustomer</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ¶ˆè´¹è€…--åˆ é™¤ä¸€ä¸ªå¤´ç»“ç‚¹</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    pthread_t p1<span class="token punctuation">;</span>    pthread_t p2<span class="token punctuation">;</span>    <span class="token function">sem_init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>semProducer<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åˆå§‹åŒ–ç”Ÿäº§è€…çº¿ç¨‹ä¿¡å·é‡ï¼Œ ï¼ˆèµ‹äºˆ 4 ä¸ªï¼Œå¯¹æ¯”ä¸‹ä¸€è¡Œï¼Œè®©ç”Ÿäº§è€…å…ˆè¿è¡Œï¼‰</span>    <span class="token function">sem_init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>semCustomer<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åˆå§‹åŒ–æ¶ˆè´¹è€…çº¿ç¨‹ä¿¡å·é‡ï¼Œ (èµ‹äºˆ 0 ä¸ªï¼Œ ä¸€å¼€å§‹å°±è®©æ¶ˆè´¹è€…å¤„äºé˜»å¡çŠ¶æ€)</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>p1<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">,</span> funProducer<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åˆ›å»ºç”Ÿäº§è€…çº¿ç¨‹</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>p2<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">,</span> funCustomer<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åˆ›å»ºæ¶ˆè´¹è€…çº¿ç¨‹</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//é˜»å¡å›æ”¶å­çº¿ç¨‹</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>p2<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">sem_destroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>semProducer<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//é”€æ¯ç”Ÿäº§è€…ä¿¡å·é‡</span>    <span class="token function">sem_destroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>semCustomer<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//é”€æ¯æ¶ˆè´¹è€…ä¿¡å·é‡</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">funProducer</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">sem_wait</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>semProducer<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//semProducer--ï¼Œ  == 0ï¼Œ åˆ™é˜»å¡</span>        Node<span class="token operator">*</span> pNew <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Node</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        pNew<span class="token operator">-></span>data <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">1000</span><span class="token punctuation">;</span>         pNew<span class="token operator">-></span>next <span class="token operator">=</span> g_head<span class="token punctuation">;</span>        g_head <span class="token operator">=</span> pNew<span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"-----funProducer(ç”Ÿäº§è€…): %lu, %d\n"</span><span class="token punctuation">,</span> <span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pNew<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">sem_post</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>semCustomer<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// semCustomer++</span>        <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//éšæœºä¼‘æ¯ 0~2 s</span>    <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">funCustomer</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">sem_wait</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>semCustomer<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//semCustomer--ï¼Œ  == 0ï¼Œ åˆ™é˜»å¡</span>        Node<span class="token operator">*</span> pDel <span class="token operator">=</span> g_head<span class="token punctuation">;</span>        g_head <span class="token operator">=</span> g_head<span class="token operator">-></span>next<span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"-----funCustomer(æ¶ˆè´¹è€…): %lu, %d\n"</span><span class="token punctuation">,</span> <span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pDel<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">delete</span> pDel<span class="token punctuation">;</span>        <span class="token function">sem_post</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>semProducer<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// semProducer++</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h4 id="è¿è¡Œç»“æœï¼š"><a href="#è¿è¡Œç»“æœï¼š" class="headerlink" title="è¿è¡Œç»“æœï¼š"></a>è¿è¡Œç»“æœï¼š</h4><p>è¿™ä¸ªä¾‹å­æ˜¯åœ¨ uos20 ä¸Šé¢è¿è¡Œçš„æˆåŠŸçš„ï¼›ç¼–è¯‘çš„æ—¶å€™ï¼Œè®°å¾—åŠ ä¸Šå‚æ•° <code>-pthread</code> ã€‚</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200502_014422.gif" width="90%"/ loading="lazy"><br><h3 id="Mac-ä¸‹å¯¹-sem-init-x2F-sem-destory-ä¸æ”¯æŒï¼š"><a href="#Mac-ä¸‹å¯¹-sem-init-x2F-sem-destory-ä¸æ”¯æŒï¼š" class="headerlink" title="Mac ä¸‹å¯¹ sem_init()&#x2F;sem_destory() ä¸æ”¯æŒï¼š"></a>Mac ä¸‹å¯¹ sem_init()&#x2F;sem_destory() ä¸æ”¯æŒï¼š</h3><p><font color=#D0087E size=4 face="å¹¼åœ†"><strong>æ³¨æ„ï¼š</strong> </font></p><p>MacOS ä¸æ”¯æŒ <code>sem_init()</code> å’Œ <code>sem_destroy()</code>ï¼›è¿™ä¸ªä¾‹å­è‹¥æ˜¯æƒ³åœ¨ mac ä¸‹ç¼–è¯‘é€šè¿‡ï¼Œéœ€è¦è‡ªè¡Œä¿®æ”¹æ›¿æ¢ç›¸å…³çš„å‡½æ•°ã€‚</p><ul><li><code>sem_init(&amp;sem, 0, 1)</code> æ”¹æˆ <code>sem_open(&quot;sem&quot;, O_CREAT|O_EXCL, S_IRWXU, 0)</code></li><li><code>sem_destory(&amp;sem)</code> æ”¹æˆ <code>sem_unlink(&quot;sem&quot;);</code></li><li>ä¸”æ”¯æŒ <code>pthread_mutex_init(&amp;mutex, NULL)</code> å´ä¸æ”¯æŒ <code>pthread_mutex_destory(&amp;mutex)</code></li></ul><br><p>Mac çš„è¯¥æ–‡ä»¶åœ¨ <code>/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/semaphore.h</code> è·¯å¾„ï¼Œå¯ä»¥æŸ¥çœ‹åˆ°è¯¥å¤´æ–‡ä»¶çš„æºç ï¼Œé™„ä¸Šè¯¦ç»† mac ä¸‹è¯¥åº“æºç ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">_SYS_SEMAPHORE_H_</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_SYS_SEMAPHORE_H_</span></span><span class="token keyword">typedef</span> <span class="token keyword">int</span> sem_t<span class="token punctuation">;</span><span class="token comment">/* this should go in limits.h> */</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">SEM_VALUE_MAX</span> <span class="token expression"><span class="token number">32767</span></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">SEM_FAILED</span> <span class="token expression"><span class="token punctuation">(</span><span class="token punctuation">(</span>sem_t <span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/cdefs.h></span></span>__BEGIN_DECLS<span class="token keyword">int</span> <span class="token function">sem_close</span><span class="token punctuation">(</span>sem_t <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">sem_destroy</span><span class="token punctuation">(</span>sem_t <span class="token operator">*</span><span class="token punctuation">)</span> __deprecated<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">sem_getvalue</span><span class="token punctuation">(</span>sem_t <span class="token operator">*</span> __restrict<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span> __restrict<span class="token punctuation">)</span> __deprecated<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">sem_init</span><span class="token punctuation">(</span>sem_t <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span> __deprecated<span class="token punctuation">;</span>sem_t <span class="token operator">*</span> <span class="token function">sem_open</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">sem_post</span><span class="token punctuation">(</span>sem_t <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">sem_trywait</span><span class="token punctuation">(</span>sem_t <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">sem_unlink</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">sem_wait</span><span class="token punctuation">(</span>sem_t <span class="token operator">*</span><span class="token punctuation">)</span> <span class="token function">__DARWIN_ALIAS_C</span><span class="token punctuation">(</span>sem_wait<span class="token punctuation">)</span><span class="token punctuation">;</span>__END_DECLS<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span>  <span class="token comment">/* _SYS_SEMAPHORE_H_ */</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="ä¸‹è½½åœ°å€ï¼š"><a href="#ä¸‹è½½åœ°å€ï¼š" class="headerlink" title="ä¸‹è½½åœ°å€ï¼š"></a>ä¸‹è½½åœ°å€ï¼š</h3><p> <a href="https://github.com/xmuli/linuxExample/tree/master/21_semaphore">21_semaphore</a></p><p>æ¬¢è¿ star å’Œ fork è¿™ä¸ªç³»åˆ—çš„ linux å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸­å¤šçº¿ç¨‹ä½¿ç”¨æ¡ä»¶å˜é‡é˜»å¡çº¿ç¨‹ï¼Œå’Œpthread_cond_wait()å‡½æ•°ä½¿ç”¨</title>
      <link href="/posts/1b3fd61f/"/>
      <url>/posts/1b3fd61f/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€ç»§ç»­<a href="https://xmuli.blog.csdn.net/article/details/105800949">ä¸Šä¸€ç¯‡</a>ä¸­ï¼Œè®²è§£äº†åŸå­âš›æ“ä½œï¼ˆç²—ç•¥çœ‹ä½œ cpu ä¼šæ‰§è¡Œå®Œè¯¥å‡ è¡Œä»£ç ï¼Œæ‰ä¼šåˆ‡æ¢åˆ°å…¶ä»–çš„çº¿ç¨‹ï¼‰å’Œé‡ç‚¹è®²è§£<strong>è¯»å†™é”</strong> çš„ä½¿ç”¨ã€‚æœ¬ç¯‡è®²è§£ <strong>æ¡ä»¶å˜é‡</strong> çš„ä½¿ç”¨æ­¥éª¤ï¼š</p><ul><li><code>pthread_cond_t g_cond()</code> &#x2F;&#x2F;æ¡ä»¶å˜é‡â€“é˜»å¡çº¿ç¨‹ï¼Œç­‰å¾…æ¡ä»¶æ»¡è¶³*</li><li><code>pthread_cond_init()</code>  &#x2F;&#x2F;åˆå§‹åŒ–</li><li><code>pthread_cond_wait()</code> &#x2F; <code>pthread_cond_timedwait()</code>  &#x2F;&#x2F;é˜»å¡çº¿ç¨‹ï¼ˆè‹¥æ˜¯æ¡ä»¶ä¸æ»¡è¶³ï¼‰</li><li>â€¦å…¶ä»–ä»£ç </li><li><code>pthread_cond_signal()</code> &#x2F; <code>pthread_cond_timedwait()</code> &#x2F;&#x2F;é€šçŸ¥é˜»å¡ä¸­çš„çº¿ç¨‹è§£é™¤é˜»å¡</li><li><code>pthread_cond_destroy()</code>  &#x2F;&#x2F;é”€æ¯</li></ul><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š"></a>ç¼–ç¨‹ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14 </code> ğŸ“ <code>gcc/g++ 9.2</code> ğŸ“ <code>gdb8.3</code> </p><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>uos20</code> ğŸ“ <code>gcc/g++ 8.3</code> ğŸ“ <code>gdb8.0</code> </p><br><h3 id="æ¡ä»¶å˜é‡æ˜¯é”ğŸ”å—ï¼Ÿ"><a href="#æ¡ä»¶å˜é‡æ˜¯é”ğŸ”å—ï¼Ÿ" class="headerlink" title="æ¡ä»¶å˜é‡æ˜¯é”ğŸ”å—ï¼Ÿ"></a>æ¡ä»¶å˜é‡æ˜¯é”ğŸ”å—ï¼Ÿ</h3><ul><li><font color=#FF0000  size=4 face="å¹¼åœ†">æ¡<strong>ä»¶å˜é‡ä¸æ˜¯é”ï¼Œ</strong></font>  ä½†æ˜¯æ¡ä»¶å˜é‡èƒ½å¤Ÿé˜»å¡çº¿ç¨‹</li><li>ä½¿ç”¨æ¡ä»¶å˜é‡ + äº’æ–¥é‡<ul><li>äº’æ–¥é‡ï¼šä¿æŠ¤ä¸€å—å…±äº«æ•°æ®</li><li>æ¡ä»¶å˜é‡ï¼šå¼•èµ·é˜»å¡<ul><li>ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…æ¨¡å‹</li></ul></li></ul></li></ul><br><h3 id="æ¡ä»¶å˜é‡çš„ä¸¤ä¸ªåŠ¨ä½œï¼Ÿ"><a href="#æ¡ä»¶å˜é‡çš„ä¸¤ä¸ªåŠ¨ä½œï¼Ÿ" class="headerlink" title="æ¡ä»¶å˜é‡çš„ä¸¤ä¸ªåŠ¨ä½œï¼Ÿ"></a>æ¡ä»¶å˜é‡çš„ä¸¤ä¸ªåŠ¨ä½œï¼Ÿ</h3><ul><li>å½“æ¡ä»¶ä¸æ»¡è¶³ï¼Œé˜»å¡çº¿ç¨‹</li><li>å½“æ¡ä»¶æ»¡è¶³ï¼›é€šçŸ¥é˜»å¡çš„çº¿ç¨‹å¼€å§‹å·¥ä½œ</li></ul><br><h3 id="ä½¿ç”¨æ¡ä»¶å˜é‡æµç¨‹ï¼š"><a href="#ä½¿ç”¨æ¡ä»¶å˜é‡æµç¨‹ï¼š" class="headerlink" title="ä½¿ç”¨æ¡ä»¶å˜é‡æµç¨‹ï¼š"></a>ä½¿ç”¨æ¡ä»¶å˜é‡æµç¨‹ï¼š</h3><p><font color=#FF0000  size=4 face="å¹¼åœ†"><strong>æ¡ä»¶å˜é‡é€šå¸¸æ˜¯ç»“åˆå’Œäº’æ–¥é‡ä¸€èµ·ä½¿ç”¨ã€‚</strong></font> å…¶ä½¿ç”¨æ–¹å¼ï¼Œå’Œäº’æ–¥é‡ä½¿ç”¨å¾ˆæ˜¯ç›¸ä¼¼ï¼ŒåŒ…æ‹¬ä¸‹ä¸€ç¯‡å‡†å¤‡å†™çš„<strong>ä¿¡å·é‡(ä¿¡å·ç¯)</strong> ï¼Œçš„ä½¿ç”¨æ–¹å¼ä¹Ÿæ˜¯å’Œäº’æ–¥é‡å¾ˆæ˜¯ç›¸ä¼¼ã€‚</p><ol><li><p>åˆå§‹åŒ–æ¡ä»¶å˜é‡</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">pthread_cond_init</span><span class="token punctuation">(</span>pthread_cond_t <span class="token operator">*</span>cond<span class="token punctuation">,</span> <span class="token keyword">const</span> pthread_condattr_t <span class="token operator">*</span>attr<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>é˜»å¡æ¡ä»¶å˜é‡</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//é˜»å¡ä¸€ä¸ªæ¡ä»¶å˜é‡</span><span class="token keyword">int</span> <span class="token function">pthread_cond_wait</span><span class="token punctuation">(</span>pthread_cond_t <span class="token operator">*</span>cond<span class="token punctuation">,</span> pthread_mutex_t <span class="token operator">*</span>mutex<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ³¨æ„ï¼šå¦ä¸€ä¸ªå‚æ•°æ˜¯äº’æ–¥é‡å‚æ•°</span><span class="token comment">//é™æ—¶é˜»å¡ä¸€ä¸ªæ¡ä»¶å˜é‡</span><span class="token keyword">int</span> <span class="token function">pthread_cond_timedwait</span><span class="token punctuation">(</span>pthread_cond_t <span class="token operator">*</span>cond<span class="token punctuation">,</span> pthread_mutex_t <span class="token operator">*</span>mutex<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">struct</span> <span class="token class-name">timespec</span> <span class="token operator">*</span>abstime<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>pthread_cond_wait() å‡½æ•°ï¼Œè¿˜æœ‰å¹²äº†å…¶ä»–äº‹æƒ…ï¼š</p><ul><li><strong>é˜»å¡çº¿ç¨‹</strong></li><li><font color=#D0087E size=4 face="å¹¼åœ†"><strong>å°†å·²ç»ä¸Šé”çš„äº’æ–¥é”è§£é”</strong></font></li><li><font color=#D0087E size=4 face="å¹¼åœ†"><strong>æ¥è§£é™¤é˜»å¡ä¹‹åï¼Œå¯¹äº’æ–¥é”è¿›è¡ŒåŠ é”æ“ä½œ</strong></font></li></ul></li><li><p><font color=#FF0000  size=4 face="å¹¼åœ†">å”¤é†’é˜»å¡åœ¨æ¡ä»¶å˜é‡ä¸Šçš„çº¿ç¨‹</font> </p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//å”¤é†’è‡³å°‘ä¸€ä¸ªé˜»å¡åœ¨æ¡ä»¶å˜é‡ä¸Šçš„çº¿ç¨‹</span><span class="token keyword">int</span> <span class="token function">pthread_cond_signal</span><span class="token punctuation">(</span>pthread_cond_t <span class="token operator">*</span>cond<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å”¤é†’å…¨éƒ¨é˜»å¡åœ¨æ¡ä»¶å˜é‡ä¸Šçš„çº¿ç¨‹</span><span class="token keyword">int</span> <span class="token function">pthread_cond_broadcast</span><span class="token punctuation">(</span>pthread_cond_t <span class="token operator">*</span>cond<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>é”€æ¯ä¸€ä¸ªæ¡ä»¶å˜é‡</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">pthread_cond_destroy</span><span class="token punctuation">(</span>pthread_cond_t <span class="token operator">*</span>cond<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol><br><h3 id="ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹ï¼š"><a href="#ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹ï¼š" class="headerlink" title="ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹ï¼š"></a>ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹ï¼š</h3><p>å¯¹äº <strong>â€œæ¡ä»¶å˜é‡ + äº’æ–¥é‡â€</strong> çš„ä½¿ç”¨ç»„åˆï¼Œæœ‰ä¸€ä¸ªå¾ˆæ˜¯æ™¯ç‚¹çš„ä¾‹å­ â€œç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹â€ã€‚</p><br><h4 id="ç†è®ºæ¨¡å‹ï¼š"><a href="#ç†è®ºæ¨¡å‹ï¼š" class="headerlink" title="ç†è®ºæ¨¡å‹ï¼š"></a>ç†è®ºæ¨¡å‹ï¼š</h4> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200502_003206.png" width="90%"/ loading="lazy"><br><h4 id="ä»£ç å®ç°ï¼š"><a href="#ä»£ç å®ç°ï¼š" class="headerlink" title="ä»£ç å®ç°ï¼š"></a>ä»£ç å®ç°ï¼š</h4><p>å°†ä¸Šé¢çš„ç†è®ºæ¨¡å‹çš„ä¼ªä»£ç ï¼Œç”¨å®é™…çš„å®Œæ•´ä»£ç å®ç°å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">node</span>  <span class="token comment">//èŠ‚ç‚¹ç»“æ„</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> data<span class="token punctuation">;</span>    <span class="token keyword">struct</span> <span class="token class-name">node</span><span class="token operator">*</span> next<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> Node<span class="token punctuation">;</span>Node<span class="token operator">*</span> g_head <span class="token operator">=</span>  <span class="token keyword">nullptr</span><span class="token punctuation">;</span>  <span class="token comment">//æ°¸è¿œæŒ‡å‘é“¾è¡¨å¤´éƒ¨çš„æŒ‡é’ˆ</span>pthread_mutex_t g_mutex<span class="token punctuation">;</span>  <span class="token comment">//äº’æ–¥é”--çº¿ç¨‹åŒæ­¥</span>pthread_cond_t g_cond<span class="token punctuation">;</span>    <span class="token comment">//æ¡ä»¶å˜é‡--é˜»å¡çº¿ç¨‹ï¼Œç­‰å¾…æ¡ä»¶æ»¡è¶³</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">funProducer</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//ç”Ÿäº§è€…--æ·»åŠ ä¸€ä¸ªå¤´ç»“ç‚¹</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">funCustomer</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ¶ˆè´¹è€…--åˆ é™¤ä¸€ä¸ªå¤´ç»“ç‚¹</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    pthread_t p1<span class="token punctuation">;</span>    pthread_t p2<span class="token punctuation">;</span>    <span class="token function">pthread_mutex_init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>g_mutex<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åˆå§‹åŒ–äº’æ–¥é”</span>    <span class="token function">pthread_cond_init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>g_cond<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//åˆå§‹åŒ–æ¡ä»¶å˜é‡</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>p1<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">,</span> funProducer<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åˆ›å»ºç”Ÿäº§è€…çº¿ç¨‹</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>p2<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">,</span> funCustomer<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åˆ›å»ºæ¶ˆè´¹è€…çº¿ç¨‹</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//é˜»å¡å›æ”¶å­çº¿ç¨‹</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>p2<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_mutex_destroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>g_mutex<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//é…å¥—é”€æ¯äº’æ–¥é”</span>    <span class="token function">pthread_cond_destroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>g_cond<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//é…å¥—é”€æ¯æ¡ä»¶å˜é‡</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">funProducer</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        Node<span class="token operator">*</span> pNew <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Node</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// Node* pNew = (Node *)malloc(sizeof(Node));</span>        pNew<span class="token operator">-></span>data <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">1000</span><span class="token punctuation">;</span>         <span class="token function">pthread_mutex_lock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>g_mutex<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åŠ é”</span>        pNew<span class="token operator">-></span>next <span class="token operator">=</span> g_head<span class="token punctuation">;</span>        g_head <span class="token operator">=</span> pNew<span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"-----funProducer(ç”Ÿäº§è€…): %lu, %d\n"</span><span class="token punctuation">,</span> <span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pNew<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">pthread_mutex_unlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>g_mutex<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//è§£é”</span>                <span class="token function">pthread_cond_signal</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>g_cond<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//é€šçŸ¥é˜»å¡çš„æ¶ˆè´¹è€…çº¿ç¨‹ï¼Œè§£é™¤é˜»å¡</span>        <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//éšæœºä¼‘æ¯ 0~2 s</span>    <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">funCustomer</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">pthread_mutex_lock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>g_mutex<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åŠ é”</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>g_head <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//è‹¥æ˜¯æ²¡æœ‰ï¼Œåˆ™ç­‰å¾…ç”Ÿäº§è€…ç”Ÿäº§å‡ºæ¥ï¼Œåœ¨æ­¤é˜»å¡ï¼Œç­‰å¾…æ¶ˆè´¹</span>            <span class="token function">pthread_cond_wait</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>g_cond<span class="token punctuation">,</span> <span class="token operator">&amp;</span>g_mutex<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//é˜»å¡çº¿ç¨‹ï¼Œä¸”è¯¥å‡½æ•°ä¼šå¯¹äº’æ–¥é”è§£é”ï¼›ä¸”æ¥è§£é™¤é˜»å¡ä¹‹åï¼Œå¯¹äº’æ–¥é”è¿›è¡ŒåŠ é”æ“ä½œ</span>        <span class="token punctuation">&#125;</span>        Node<span class="token operator">*</span> pDel <span class="token operator">=</span> g_head<span class="token punctuation">;</span>        g_head <span class="token operator">=</span> g_head<span class="token operator">-></span>next<span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"-----funCustomer(æ¶ˆè´¹è€…): %lu, %d\n"</span><span class="token punctuation">,</span> <span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pDel<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">delete</span> pDel<span class="token punctuation">;</span>        <span class="token comment">// free(pDel);</span>        <span class="token function">pthread_mutex_unlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>g_mutex<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//è§£é”</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h4 id="ä»£ç åˆ†æï¼š"><a href="#ä»£ç åˆ†æï¼š" class="headerlink" title="ä»£ç åˆ†æï¼š"></a>ä»£ç åˆ†æï¼š</h4><p>å¤šçœ‹ä¸€ä¸‹ç†è®ºæ¨¡å‹çš„é‚£ä¸ªä¼ªä»£ç çš„æµç¨‹å›¾ï¼Œç”Ÿäº§è€…ç”Ÿäº§å®Œä¸€ä¸ªä¹‹åï¼Œè¦é€šçŸ¥ï¼ˆæ­¤æ—¶å¤„äºï¼‰é˜»å¡çš„çº¿ç¨‹ï¼Œç»™å®ƒä¸€ä¸ªä¿¡å·ï¼Œè®©ä»–è§£é™¤é˜»å¡ã€‚</p><br><h4 id="è¿è¡Œç»“æœï¼š"><a href="#è¿è¡Œç»“æœï¼š" class="headerlink" title="è¿è¡Œç»“æœï¼š"></a>è¿è¡Œç»“æœï¼š</h4> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200501_173204.gif" width="90%"/ loading="lazy"><br><h3 id="ä¸‹è½½åœ°å€ï¼š"><a href="#ä¸‹è½½åœ°å€ï¼š" class="headerlink" title="ä¸‹è½½åœ°å€ï¼š"></a>ä¸‹è½½åœ°å€ï¼š</h3><p> <a href="https://github.com/xmuli/linuxExample/tree/master/20_conditton">20_conditton</a></p><p>æ¬¢è¿ star å’Œ fork è¿™ä¸ªç³»åˆ—çš„ linux å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linux è¯¥å¦‚ä½•è‡ªæˆ‘ç³»ç»Ÿçš„å­¦ä¹ ã€Œå¿ƒè·¯ã€ï¼Ÿ</title>
      <link href="/posts/63d476f1/"/>
      <url>/posts/63d476f1/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h4 id="åºè¨€ï¼š"><a href="#åºè¨€ï¼š" class="headerlink" title="åºè¨€ï¼š"></a>åºè¨€ï¼š</h4><p>æç¼–ç¨‹ï¼Œå­¦ C&#x2F;C++ æ€ä¹ˆä¸èƒ½å­¦ä¹ ä¸€ä¸‹ Linux ? äº†è§£ä¸€ä¸‹åº•å±‚çš„çŸ¥è¯†åº“å’Œç¨‹åºè¿è¡ŒåŸç†ï¼Ÿé™„ä¸Šä¸ªäººå­¦ä¹ ç›®å½•ï¼Œæ­¤ç³»åˆ—å­¦å®Œä¹‹åï¼Œå›æ¥é¢„æœŸä¼šç»§ç»­æ›´æ–° Qt ç›¸å…³çš„çŸ¥è¯† <a href="https://github.com/xmuli/QtExamples">QtExamples</a> ï¼Œå°†æ›´å¤šçš„ä¸€äº›çŸ¥è¯†åˆ†äº«å‡ºæ¥ã€‚</p><p><font color=#D0087E size=4 face="å¹¼åœ†">Linux ç³»ç»Ÿå­¦ä¹ ä¸‰éƒ¨æ›²ï¼šâ¶åŸºç¡€ç¼–ç¨‹ â·ç³»ç»Ÿç¼–ç¨‹ â¸ç½‘ç»œç¼–ç¨‹</font></p><br><h4 id="è¯´æ˜ï¼š"><a href="#è¯´æ˜ï¼š" class="headerlink" title="è¯´æ˜ï¼š"></a>è¯´æ˜ï¼š</h4><p><code>Linux / Unix</code> Exampleï¼šæ–‡ç« ä¸­çš„æ‰€æœ‰ä¾‹å­å‡åœ¨ MacOS &amp;&amp; UOS ä¸Šé¢ç¼–è¯‘å’Œè¿è¡ŒæˆåŠŸã€‚</p><br><h4 id="ç¯å¢ƒï¼š"><a href="#ç¯å¢ƒï¼š" class="headerlink" title="ç¯å¢ƒï¼š"></a>ç¯å¢ƒï¼š</h4><p><strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14.6 </code> ğŸ“ <code>gcc/g++ 9.2.0</code> ğŸ“ <code>gdb 8.3</code></p><p><strong>ğŸ’»ï¼š</strong>  <code>UOS20 (Debian8+)</code> ğŸ“ <code>gcc/g++ 8.3.0</code> ğŸ“ <code>gdb 8.0</code></p><br><h2 id="ç›®å½•ï¼š"><a href="#ç›®å½•ï¼š" class="headerlink" title="ç›®å½•ï¼š"></a>ç›®å½•ï¼š</h2><h4 id="æœåŠ¡å™¨å¼€å‘ä¹‹-Linux-åŸºç¡€ç¼–ç¨‹ï¼š"><a href="#æœåŠ¡å™¨å¼€å‘ä¹‹-Linux-åŸºç¡€ç¼–ç¨‹ï¼š" class="headerlink" title="æœåŠ¡å™¨å¼€å‘ä¹‹ Linux åŸºç¡€ç¼–ç¨‹ï¼š"></a>æœåŠ¡å™¨å¼€å‘ä¹‹ Linux åŸºç¡€ç¼–ç¨‹ï¼š</h4><h5 id="gcc-x2F-g"><a href="#gcc-x2F-g" class="headerlink" title="gcc&#x2F;g++:"></a>gcc&#x2F;g++:</h5><ul><li><a href="https://blog.csdn.net/qq_33154343/article/details/104639656">åœ¨MacOSä¸Šé¢é€šè¿‡brewå‘½ä»¤å®‰è£…gccç¼–è¯‘å™¨é›†</a> </li><li><a href="https://blog.csdn.net/qq_33154343/article/details/104645129">gccå’Œg++çš„åŒºåˆ«ï¼Œç¼–è¯‘.cå’Œ.cppæ–‡ä»¶çš„åŒºåˆ«</a> </li><li><a href="https://blog.csdn.net/qq_33154343/article/details/104693603">gccå·¥ä½œæµç¨‹ï¼šé¢„å¤„ç†ï¼Œç¼–è¯‘ï¼Œæ±‡ç¼–ï¼Œé“¾æ¥</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/104692241">Linuxä¸‹ä½¿ç”¨gccç”Ÿæˆé™æ€åº“.aå’Œè°ƒç”¨ï¼ˆå›¾æ–‡å¹¶èŒ‚ï¼Œå‘å·²è¸©å®Œï¼‰</a> </li><li><a href="https://blog.csdn.net/qq_33154343/article/details/104692370">Linuxä¸‹ä½¿ç”¨gccç”ŸæˆåŠ¨æ€åº“.soå’Œè°ƒç”¨ï¼ˆå›¾æ–‡å¹¶èŒ‚ï¼Œå‘å·²è¸©å®Œï¼‰</a> </li><li><a href="https://blog.csdn.net/qq_33154343/article/details/104758512">åœ¨Linuxä¸­ï¼Œç¼–å†™å…¥é—¨çš„makefileæ–‡ä»¶ï¼Œç„¶åé€æ¸è¿­ä»£</a></li></ul><br><h5 id="gdb"><a href="#gdb" class="headerlink" title="gdb:"></a>gdb:</h5><ul><li><a href="https://blog.csdn.net/qq_33154343/article/details/104784641"> åœ¨MacOS10.14.6å®‰è£…æœ€æ–°gdb8.3çš„è¯¦ç»†æ•™ç¨‹ï¼Œå«å¯èƒ½é‡åˆ°çš„æ‰€æœ‰å‘(ç½‘ä¸Šæœ€æ–°æ•™ç¨‹)</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/104904798">gdbè°ƒè¯•å™¨çš„ä½¿ç”¨ï¼Œåˆæ¢å…¨è²Œ</a></li></ul><br><h5 id="ç¨‹åºè¿è¡ŒåŸç†ï¼Œæ–‡ä»¶æè¿°ç¬¦ï¼ŒPCBï¼š"><a href="#ç¨‹åºè¿è¡ŒåŸç†ï¼Œæ–‡ä»¶æè¿°ç¬¦ï¼ŒPCBï¼š" class="headerlink" title="ç¨‹åºè¿è¡ŒåŸç†ï¼Œæ–‡ä»¶æè¿°ç¬¦ï¼ŒPCBï¼š"></a>ç¨‹åºè¿è¡ŒåŸç†ï¼Œæ–‡ä»¶æè¿°ç¬¦ï¼ŒPCBï¼š</h5><ul><li><a href="https://blog.csdn.net/qq_33154343/article/details/105010222">Linuxä¸­æ–‡ä»¶æ“ä½œï¼Œè½¯ç¡¬é“¾æ¥lnï¼Œç”¨æˆ·æƒé™chmodã€chownï¼Œæ–‡ä»¶æŸ¥æ‰¾å’Œæ£€ç´¢findã€grepï¼Œå‹ç¼©gzï¼Œbz2</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/105029261">Linuxä¸­è™šæ‹Ÿåœ°å€ç©ºé—´ã€pcbã€æ–‡ä»¶æè¿°ç¬¦ã€Cåº“å‡½æ•°å·¥ä½œæµç¨‹ã€æ ‡å‡†åº“å’Œç³»ç»Ÿåº“å‡½æ•°åŒºåˆ«</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/105031987">Linuxä¸­manæ‰‹å†Œï¼Œé˜»å¡å’Œéé˜»å¡ï¼Œstatï¼Œæ–‡ä»¶æ“ä½œå’Œéå†ï¼Œæ–‡ä»¶æè¿°ç¬¦å¤åˆ¶dup()</a></li></ul><br><h4 id="æœåŠ¡å™¨å¼€å‘ä¹‹-Linux-ç³»ç»Ÿç¼–ç¨‹ï¼š"><a href="#æœåŠ¡å™¨å¼€å‘ä¹‹-Linux-ç³»ç»Ÿç¼–ç¨‹ï¼š" class="headerlink" title="æœåŠ¡å™¨å¼€å‘ä¹‹ Linux ç³»ç»Ÿç¼–ç¨‹ï¼š"></a>æœåŠ¡å™¨å¼€å‘ä¹‹ Linux ç³»ç»Ÿç¼–ç¨‹ï¼š</h4><h5 id="è¿›ç¨‹é—´é€šä¿¡ï¼š"><a href="#è¿›ç¨‹é—´é€šä¿¡ï¼š" class="headerlink" title="è¿›ç¨‹é—´é€šä¿¡ï¼š"></a>è¿›ç¨‹é—´é€šä¿¡ï¼š</h5><ul><li><a href="https://blog.csdn.net/qq_33154343/article/details/105157044">Linuxä¸­forkåˆ›å»ºå…„å¼Ÿå­è¿›ç¨‹ï¼ŒéªŒè¯è¿›ç¨‹ä¹‹é—´å…¨å±€å˜é‡ä¸å…±äº«ï¼Œexecå‡½æ•°æ—</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/105164215">Linuxä¸­å­¤å„¿è¿›ç¨‹ï¼Œåƒµå°¸è¿›ç¨‹ï¼Œè¿›ç¨‹å›æ”¶waitã€waitpidå‡½æ•°</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/105254078">çˆ¶å­è¿›ç¨‹ã€å…„å¼Ÿå­è¿›ç¨‹ä¹‹é—´é€šä¿¡æ–¹å¼â€“åŒ¿åç®¡é“pipe(é€‚ç”¨äºæœ‰è¡€ç¼˜å…³ç³»çš„è¿›ç¨‹)</a></li><li><a href="https://xmuli.blog.csdn.net/article/details/105266919">Linuxä¸­æ™®é€šçš„è¿›ç¨‹é—´é€šä¿¡æ–¹å¼â€“æœ‰åç®¡é“fifo(é€‚ç”¨äºæ— è¡€ç¼˜å…³ç³»çš„è¿›ç¨‹)</a> </li><li><a href="https://xmuli.blog.csdn.net/article/details/105322927">Linuxä¸­è¿›ç¨‹é—´çš„é€šä¿¡æ–¹å¼â€“å†…å­˜æ˜ å°„åŒºmmap()</a></li></ul><br><h5 id="ä¿¡å·å’Œå®ˆæŠ¤è¿›ç¨‹ï¼š"><a href="#ä¿¡å·å’Œå®ˆæŠ¤è¿›ç¨‹ï¼š" class="headerlink" title="ä¿¡å·å’Œå®ˆæŠ¤è¿›ç¨‹ï¼š"></a>ä¿¡å·å’Œå®ˆæŠ¤è¿›ç¨‹ï¼š</h5><ul><li><a href="https://xmuli.blog.csdn.net/article/details/105357886">Linuxä¸­ç³»ç»Ÿä¿¡å·åˆè¯†ï¼Œå’Œå‡½æ•°killï¼Œraiseï¼Œabortï¼Œalarmï¼Œsetitimer</a> </li><li><a href="https://xmuli.blog.csdn.net/article/details/105448914">Linuxä¸­æœªå†³ä¿¡å·é›†å’Œé˜»å¡ä¿¡å·é›†çš„çŠ¶æ€å…³ç³»sigaddsetï¼Œä»¥åŠæ•æ‰ä¿¡å·å‡½æ•°</a> </li><li><a href="https://xmuli.blog.csdn.net/article/details/105453850">Linuxä¸­åˆ›å»ºå®ˆæŠ¤è¿›ç¨‹setsid()</a></li></ul><br><h5 id="å¤šçº¿ç¨‹ï¼š"><a href="#å¤šçº¿ç¨‹ï¼š" class="headerlink" title="å¤šçº¿ç¨‹ï¼š"></a>å¤šçº¿ç¨‹ï¼š</h5><ul><li><a href="https://xmuli.blog.csdn.net/article/details/105546234">Linuxä¸­åˆ›å»ºå¤šçº¿ç¨‹å®ä¾‹pthread_create()</a> </li><li><a href="https://xmuli.blog.csdn.net/article/details/105620043">Linuxä¸­å¤šçº¿ç¨‹æ“ä½œå‡½æ•°pthread_exit()ã€pthread_jion()ã€pthread_detach()ã€pthread_cancel()</a> </li><li><a href="https://xmuli.blog.csdn.net/article/details/105779111">Linuxä¸­ä½¿ç”¨ä½¿ç”¨äº’æ–¥é‡(é”)Mutexæ¥æ“æŒå¤šçº¿ç¨‹åŒæ­¥æ‰§è¡Œpthread_mutex_lock()</a> </li><li><a href="https://xmuli.blog.csdn.net/article/details/105800949">Linuxä¸­åŸå­æ“ä½œï¼Œæ­»é”åŸå› ä»¥åŠè§£å†³æ–¹æ³•ï¼Œè¯»å†™é”çš„å±æ€§å’Œå‡½æ•°ä½¿ç”¨pthread_rwlock_wrlock()</a></li></ul><p><br><br></p><h3 id="æˆ‘æ‰€æƒ³è¯´ï¼šğŸ™‹â€â™€ï¸"><a href="#æˆ‘æ‰€æƒ³è¯´ï¼šğŸ™‹â€â™€ï¸" class="headerlink" title="æˆ‘æ‰€æƒ³è¯´ï¼šğŸ™‹â€â™€ï¸"></a>æˆ‘æ‰€æƒ³è¯´ï¼šğŸ™‹â€â™€ï¸</h3><p>è™½ç„¶ä¸ç›ˆåˆ©ï¼Œä¼šç´¯ï¼Œä½†å› è‡ªç”±å’Œå¼€æºè½¯ä»¶è€Œå†™çš„å¼€å¿ƒyaï¼Œ é¸­é¸­</p><p>ä½† github ä¸Šï¼Œä½ çš„ star å’Œ fork æ˜¯æˆ‘æœ€å¤§é¼“åŠ±ï¼Œä¹Ÿæ˜¯æˆ‘ä¸€ç›´æŒç»­å†™ä¸‹å»çš„åŠ¨åŠ›â€¦</p><blockquote><p>ç”±äºä¼šç»å¸¸æ›´æ–°æ–°çš„æ–‡ç« ï¼Œæ‰€ä»¥æš‚æ—¶å…ˆä½¿ç”¨è¿™ä¸€ä»½ç›®å½•æ›´æ–°ï¼š<a href="https://github.com/xmuli/linuxExample">https://github.com/xmuli/linuxExample</a><br>æ›´æ–°æ—¶é—´ï¼š 2020-04-29</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
          <category> å­¦ä¹  - MacOS </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸­åŸå­æ“ä½œï¼Œæ­»é”åŸå› ä»¥åŠè§£å†³æ–¹æ³•ï¼Œè¯»å†™é”çš„å±æ€§å’Œå‡½æ•°ä½¿ç”¨pthread_rwlock_wrlock()</title>
      <link href="/posts/9e69ff46/"/>
      <url>/posts/9e69ff46/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€ä¸Šä¸€ç¯‡ä¸­ä»‹ç»äº†å¤šçº¿ç¨‹ä½¿ç”¨äº’æ–¥é‡(é”)æ¥æ§åˆ¶ç¨‹åºçš„è®¿é—®å…¬å…±èµ„æºçš„æ—¶å€™æ˜¯â€ä¸²è¡Œâ€œçš„ï¼›æœ¬ç¯‡ç»§ç»­ï¼Œé‡ç‚¹è®²è§£å¦‚ä¸‹å‡ ä¸ªæ¦‚å¿µï¼šLinux ä¸­çš„<strong>åŸå­æ“ä½œ</strong> ã€<strong>æ­»é”åŸå› </strong> ä»¥<strong>åŠè§£å†³æ–¹æ³•</strong> ã€å’Œ<strong>è¯»å†™é”</strong> å’Œå¯¹åº”çš„æºç å°ä¾‹å­ã€‚å…¶ä¸­è¯»å†™é”çš„ä½¿ç”¨ä¾‹å­ï¼Œå®Œå…¨å¯ä»¥å‚è€ƒäº’æ–¥é‡(é”)ï¼Œå…¶å¤§æ¦‚æµç¨‹å¦‚ä¸‹ï¼š</p><ul><li><code>pthread_rwlock_init()</code></li><li><code>pthread_rwlock_rdlock()</code> &#x2F; <code>pthread_rwlock_tryrdlock()</code> &#x2F; <code>pthread_rwlock_wrlock()</code> &#x2F; <code>pthread_rwlock_trywrlock()</code></li><li>ã€ã€ã€ä»£ç ç‰‡</li><li><code>pthread_rwlock_unlock()</code></li><li><code>pthread_rwlock_destroy()</code></li></ul><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š"></a>ç¼–ç¨‹ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>uos20</code> ğŸ“ <code>gcc/g++ 8.3</code> ğŸ“ <code>gdb8.0</code> </p><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14 </code> ğŸ“ <code>gcc/g++ 9.2</code> ğŸ“ <code>gdb8.3</code> </p><br><h3 id="åŸå­æ“ä½œï¼š"><a href="#åŸå­æ“ä½œï¼š" class="headerlink" title="åŸå­æ“ä½œï¼š"></a>åŸå­æ“ä½œï¼š</h3><ul><li><p><strong>åŸå­æ“ä½œï¼š</strong></p><ul><li><strong>cpu å¤„ç†ä¸€ä¸ªæŒ‡ä»¤ï¼Œçº¿ç¨‹ &#x2F; è¿›ç¨‹åœ¨å¤„ç†å®Œè¿™ä¸ªæŒ‡ä»¤ä¹‹å‰ï¼Œæ˜¯ä¸ä¼šå¤±å» cpu çš„ã€‚</strong></li></ul></li></ul><p>å€Ÿç”¨æ˜¾ç¤ºç”Ÿæ´»ä¸­çš„çŸ¥è¯†ï¼ŒåŸå­âš›æ˜¯æœ€å°çš„ä¸å¯åˆ†å‰²çš„ç‰©è´¨ï¼Œæ²¡æœ‰æ¯”å®ƒæ›´å°çš„ï¼ˆç±»æ¯”ï¼Œä¸è¯¦æ¢ç©¶å¤¸å…‹ï¼‰ï¼›åœ¨ä¸€ä¸ªç¨‹åºä¸­ï¼Œæ˜¯æœ‰å‡ ç™¾è¡Œä»£ç æ„æˆäº†ï¼Œå¯ä»¥å°†ä¸€è¡Œä»£ç ï¼ˆä¸€è¡Œè¡¨è¾¾å¼è¯­å¥ï¼‰çœ‹åšä¸ºä¸€ä¸ª <strong>â€åŸå­æ“ä½œâ€œ</strong>ï¼›</p><p>æ¯”å¦‚ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> a <span class="token operator">=</span> b <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><br><ul><li><p><strong>ä¸´ç•ŒåŒºï¼š</strong></p><ul><li>ä»ä»£ç çš„è§’åº¦ç†è§£ï¼Œå°±æ˜¯ æ‰§è¡ŒåŠ é”è¯­å¥ <code>pthread_mutex_lock()</code> å’Œè§£é”è¯­å¥ <code>pthread_mutex_unlock()</code> ä¹‹é—´ä»£ç ç‰‡ï¼Œç§°ä¹‹ä¸º <strong>ä¸´ç•ŒåŒº</strong>ï¼› ä¹Ÿå¯ä»¥çœ‹ä½œä¸º â€ä¼ªåŸå­æ“ä½œâ€œ ï¼Œå› ä¸ºå®ƒæœ‰å¯èƒ½ä¸´ç•ŒåŒºçš„ä»£ç æ‰§è¡Œåˆ°ä¸€åŠï¼Œcpu å°±è¢«æŠ¢èµ°äº†ï¼Œä½†æ˜¯å…¶è™½ç„¶æŠ¢åˆ°äº† cpu ä½†æ˜¯ä¼šé˜»å¡ï¼Œæˆ–è€…ä¸èƒ½å¤Ÿè®¿é—®è¯¥ä¸´ç•ŒåŒºçš„ä»£ç ç‰‡ï¼Œç„¶åç­‰å¾…è½®è½¬ï¼Œcpu å†æ¬¡å›æ¥ï¼Œç»§ç»­åœ¨è‡ªå·±èº«ä¸Šç»§ç»­æ‰§è¡Œæ¥ä¸‹æ¥çš„ä»£ç è¡Œï¼›ç„¶åè¿™æ ·ä¸´ç•ŒåŒºçš„ä»£ç å°±åªæœ‰å®ƒæ‰§è¡Œå®Œæ¯•äº†ã€‚å¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ª â€ä¼ªâ€œ åŸå­æ“ä½œã€‚</li></ul><p> <strong>ç¤ºæ„å›¾å¦‚ä¸‹ï¼š</strong></p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200426_231357.png" width="50%"/ loading="lazy"></li></ul><br><h3 id="é€ æˆæ­»é”çš„åŸå› ï¼š"><a href="#é€ æˆæ­»é”çš„åŸå› ï¼š" class="headerlink" title="é€ æˆæ­»é”çš„åŸå› ï¼š"></a>é€ æˆæ­»é”çš„åŸå› ï¼š</h3><h4 id="è‡ªå·±é”è‡ªå·±ï¼š"><a href="#è‡ªå·±é”è‡ªå·±ï¼š" class="headerlink" title="è‡ªå·±é”è‡ªå·±ï¼š"></a>è‡ªå·±é”è‡ªå·±ï¼š</h4><ul><li><strong>åˆ†æï¼š</strong> å½“é‡åˆ°è¿ç»­é”ä¸¤æ¬¡çš„æ—¶å€™ï¼Œçº¿ç¨‹ä¼šé˜»å¡åœ¨ ç¬¬äºŒä¸ª <code>pthread_mutex_lock()</code> å‡½æ•°è¿™ä¸€è¡Œé‡Œé¢ã€‚</li></ul> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200426_231648.png" width="70%"/ loading="lazy"><br><h4 id="å¾ªç¯é”ä½ï¼š"><a href="#å¾ªç¯é”ä½ï¼š" class="headerlink" title="å¾ªç¯é”ä½ï¼š"></a>å¾ªç¯é”ä½ï¼š</h4> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200426_231710.png" width="70%"/ loading="lazy"><br><h3 id="é¿å…æ­»é”çš„æ–¹å¼ï¼š"><a href="#é¿å…æ­»é”çš„æ–¹å¼ï¼š" class="headerlink" title="é¿å…æ­»é”çš„æ–¹å¼ï¼š"></a>é¿å…æ­»é”çš„æ–¹å¼ï¼š</h3><p>é¿å…æˆ–è€…è§£å†³æ­»é”çš„ä¸‰ç§æ–¹å¼å¦‚ä¸‹ï¼š</p><ul><li><strong>è®©çº¿ç¨‹æŒ‰ç…§ä¸€å®šçš„é¡ºåºè®¿é—®å…±äº«èµ„æº</strong></li><li><strong>åœ¨è®¿é—®å…¶ä»–é”çš„æ—¶å€™ï¼Œéœ€è¦å…ˆå°†è‡ªå·±çš„é”è§£å¼€</strong></li><li><strong>è®¾ç½®ä¸Šé”çš„ä½¿ç”¨ï¼Œå¯ä»¥ä½¿ç”¨ <code>pthread_mutex_trylock()</code> å‡½æ•°</strong></li></ul><br><h3 id="è¯»å†™é”ï¼š"><a href="#è¯»å†™é”ï¼š" class="headerlink" title="è¯»å†™é”ï¼š"></a>è¯»å†™é”ï¼š</h3><p>é™¤äº†ä½¿ç”¨äº’æ–¥é‡(é”)ä¹‹å¤–ï¼Œè¿˜å¯ä»¥é‡‡ç”¨ è¯»å†™é” æ¥æ§åˆ¶å¤šçº¿ç¨‹è®¿é—®å…±äº«èµ„æºã€‚</p><h4 id="è¯»å†™é”çš„ç†è§£ï¼š"><a href="#è¯»å†™é”çš„ç†è§£ï¼š" class="headerlink" title="è¯»å†™é”çš„ç†è§£ï¼š"></a>è¯»å†™é”çš„ç†è§£ï¼š</h4><ul><li>è¯»é” - å¯¹å†…å­˜åšè¯»æ“ä½œ</li><li>å†™é” - å¯¹å†…å­˜åšå†™æ“ä½œ</li></ul><h4 id="è¯»å†™é”çš„ç‰¹æ€§ï¼š"><a href="#è¯»å†™é”çš„ç‰¹æ€§ï¼š" class="headerlink" title="è¯»å†™é”çš„ç‰¹æ€§ï¼š"></a><font color=#FF0000 face="å¹¼åœ†">è¯»å†™é”çš„ç‰¹æ€§ï¼š</font></h4><ul><li>çº¿ç¨‹ A åŠ é”æˆåŠŸï¼Œåˆæ¥äº†ä¸‰ä¸ªçº¿ç¨‹ï¼Œåšè¯»æ“ä½œï¼Œå¯ä»¥åŠ é”æˆåŠŸ<ul><li><font color=#FF0000  size=4 face="å¹¼åœ†">è¯»å…±äº«</font> - å¹¶è¡Œå¤„ç†</li></ul></li><li>çº¿ç¨‹ A åŠ å†™é”æˆåŠŸï¼Œåˆæ¥äº†ä¸‰ä¸ªçº¿ç¨‹ï¼Œåšè¯»æ“ä½œï¼Œä¸‰ä¸ªçº¿ç¨‹é˜»å¡<ul><li><font color=#FF0000  size=4 face="å¹¼åœ†">å†™ç‹¬å </font></li></ul></li><li>çº¿ç¨‹ A åŠ è¯»é”æˆåŠŸï¼Œåˆæ¥äº† B çº¿ç¨‹åŠ å†™é”çº¿ç¨‹é˜»å¡ï¼Œåˆæ¥äº† C çº¿ç¨‹åŠ è¯»é”é˜»å¡<ul><li><font color=#FF0000  size=4 face="å¹¼åœ†">è¯»å†™ä¸èƒ½åŒæ—¶è¿›è¡Œ</font></li><li><font color=#FF0000  size=4 face="å¹¼åœ†">å†™çš„ä¼˜å…ˆçº§é«˜</font>ï¼ˆå³ä½¿åé¢çº¿ç¨‹æœ‰å…ˆåæ¥é¡ºåºæ¥ï¼Œä¹Ÿä¼šçœ‹ä¸€ä¸‹ä¼˜å…ˆçº§ï¼‰</li></ul></li></ul><br><h3 id="è¯»å†™é”çš„åœºæ™¯ç»ƒä¹ ï¼š"><a href="#è¯»å†™é”çš„åœºæ™¯ç»ƒä¹ ï¼š" class="headerlink" title="è¯»å†™é”çš„åœºæ™¯ç»ƒä¹ ï¼š"></a>è¯»å†™é”çš„åœºæ™¯ç»ƒä¹ ï¼š</h3><p>ä¸Šé¢çš„<strong>è¯»å†™é”çš„ç‰¹æ€§</strong> å¯ä»¥çœ‹åšæ˜¯ç†è®ºéƒ¨åˆ†ï¼Œç„¶åè¿™é‡Œç”¨å‡ ä¸ªå®é™…åœºæ™¯è¿›è¡Œä¸€ä¸‹åˆ†æï¼š</p><ul><li>çº¿ç¨‹ A åŠ å†™é”æˆåŠŸï¼Œçº¿ç¨‹ B è¯·æ±‚è¯»é”<ul><li>çº¿ç¨‹ B é˜»å¡</li></ul></li><li>çº¿ç¨‹ A æŒæœ‰è¯»é”ï¼Œçº¿ç¨‹ B è¯·æ±‚å†™é”<ul><li>çº¿ç¨‹ B é˜»å¡</li></ul></li><li>çº¿ç¨‹ A æ‹¥æœ‰è¯»é”ï¼Œçº¿ç¨‹ B è¯·æ±‚è¯»é”<ul><li>çº¿ç¨‹ B åŠ é”æˆåŠŸ</li></ul></li><li>çº¿ç¨‹ A æŒæœ‰è¯»é”ï¼Œç„¶åçº¿ç¨‹ B è¯·æ±‚å†™é”ï¼Œç„¶åçº¿ç¨‹ C è¯·æ±‚è¯»é”<ul><li>B é˜»å¡ï¼ŒC é˜»å¡ -å†™çš„ä¼˜å…ˆçº§é«˜</li><li>A è§£é”ï¼ŒB çº¿ç¨‹åŠ å†™é”æˆåŠŸï¼ŒCç»§ç»­é˜»å¡</li><li>B è§£é”ï¼ŒC åŠ è¯»é”æˆåŠŸ</li></ul></li><li>çº¿ç¨‹AæŒæœ‰å†™é”ï¼Œç„¶åçº¿ç¨‹Bè¯·æ±‚è¯»é”ï¼Œç„¶åçº¿ç¨‹Cè¯·æ±‚å†™é”</li></ul><br><h3 id="è¯»å†™é”çš„ä½¿ç”¨åœºæ™¯ï¼š"><a href="#è¯»å†™é”çš„ä½¿ç”¨åœºæ™¯ï¼š" class="headerlink" title="è¯»å†™é”çš„ä½¿ç”¨åœºæ™¯ï¼š"></a>è¯»å†™é”çš„ä½¿ç”¨åœºæ™¯ï¼š</h3><ul><li>äº’æ–¥é” - è¯»å†™ä¸²è¡Œ</li><li>è¯»å†™é”ï¼š<ul><li>è¯»ï¼šå¹¶è¡Œ</li><li>å†™ï¼šä¸²è¡Œ</li></ul></li><li>ç¨‹åºä¸­çš„ â€œè¯»æ“ä½œâ€ å¤§äº â€å†™æ“ä½œâ€œ çš„æ—¶å€™ï¼Œæ¯”å¦‚è¯´ 12306 ä¹°ç«è½¦ç¥¨çš„ä¾‹å­ ï¼Œå°±æœ‰å¤§é‡çš„ç‡æ–°è¯»å–æ•°æ®ï¼Œè¿œå¤§äºä¹°ç¥¨çš„æ—¶å€™å†™æ“ä½œã€‚</li></ul><br><h3 id="è¯»å†™é”çš„ä¸»è¦æ“ä½œå‡½æ•°ï¼š"><a href="#è¯»å†™é”çš„ä¸»è¦æ“ä½œå‡½æ•°ï¼š" class="headerlink" title="è¯»å†™é”çš„ä¸»è¦æ“ä½œå‡½æ•°ï¼š"></a>è¯»å†™é”çš„ä¸»è¦æ“ä½œå‡½æ•°ï¼š</h3><p>è¯»å†™é”çš„ä½¿ç”¨æµç¨‹å’Œäº’æ–¥é‡(é”)çš„æµç¨‹åŸºæœ¬ä¸€æ ·ã€‚</p><ul><li><p>åˆå§‹åŒ–è¯»å†™é”</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">pthread_rwlock_init</span><span class="token punctuation">(</span>pthread_rwlock_t <span class="token operator">*</span>lock<span class="token punctuation">,</span> <span class="token keyword">const</span> pthread_rwlockattr_t <span class="token operator">*</span>attr<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>é”€æ¯è¯»å†™é”</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">pthread_rwlock_destroy</span><span class="token punctuation">(</span>pthread_rwlock_t <span class="token operator">*</span>lock<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>åŠ è¯»é”</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">pthread_rwlock_rdlock</span><span class="token punctuation">(</span>pthread_rwlock_t <span class="token operator">*</span>lock<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>å°è¯•åŠ è¯»é”</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">pthread_rwlock_tryrdlock</span><span class="token punctuation">(</span>pthread_rwlock_t <span class="token operator">*</span>lock<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>åŠ å†™é”</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">pthread_rwlock_wrlock</span><span class="token punctuation">(</span>pthread_rwlock_t <span class="token operator">*</span>lock<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>å°è¯•åŠ å†™é”</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">pthread_rwlock_trywrlock</span><span class="token punctuation">(</span>pthread_rwlock_t <span class="token operator">*</span>lock<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>è§£é”</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">pthread_rwlock_unlock</span><span class="token punctuation">(</span>pthread_rwlock_t <span class="token operator">*</span>lock<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul><br><h3 id="å†™ä¸€ä¸ªè¿ç”¨è¯»å†™é”çš„ä¾‹å­ï¼š"><a href="#å†™ä¸€ä¸ªè¿ç”¨è¯»å†™é”çš„ä¾‹å­ï¼š" class="headerlink" title="å†™ä¸€ä¸ªè¿ç”¨è¯»å†™é”çš„ä¾‹å­ï¼š"></a>å†™ä¸€ä¸ªè¿ç”¨è¯»å†™é”çš„ä¾‹å­ï¼š</h3><p>ä¸Šé¢ä¾‹å­è®²äº†è¿™ä¹ˆå¤šç”¨æ³•å’Œå±æ€§ä½œä¸ºé“ºå«ï¼Œè¿™é‡Œæœ‰ä¸€ä»£ç ä¾‹å­ï¼Œè®²è§£è¯»å†™é”çš„ä½¿ç”¨ä¾‹å­ï¼š</p><ul><li><p><strong>éœ€æ±‚ç»ƒä¹ ï¼š</strong> </p><ul><li>3 ä¸ªçº¿ç¨‹ä¸å®šæ—¶å†™åŒä¸€å…¨å±€èµ„æºï¼Œ5 ä¸ªçº¿ç¨‹ä¸å®šæ—¶è¯»åŒä¸€å…¨å±€èµ„æº</li></ul></li><li><p><strong>ä»£ç ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token keyword">int</span> g_number <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>pthread_rwlock_t lock<span class="token punctuation">;</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">writeFunc</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">readFunc</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    pthread_t p<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token function">pthread_rwlock_init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>lock<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//åˆå§‹åŒ–ä¸€ä¸ªé”</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//åˆ›å»ºå†™çº¿ç¨‹</span>        <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">,</span> writeFunc<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//åˆ›å»ºè¯»çº¿ç¨‹</span>        <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">,</span> readFunc<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//é˜»å¡å›æ”¶å­çº¿ç¨‹çš„ pcb</span>        <span class="token function">pthread_join</span><span class="token punctuation">(</span>p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">pthread_rwlock_destroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>lock<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//é”€æ¯è¯»å†™é”ï¼Œé‡Šæ”¾é”èµ„æº</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">writeFunc</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">pthread_rwlock_wrlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>lock<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//åŠ å†™é”</span>        g_number<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"--write: %lu, %d\n"</span><span class="token punctuation">,</span> <span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> g_number<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">pthread_rwlock_unlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>lock<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//è§£é”</span>        <span class="token function">usleep</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">readFunc</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">pthread_rwlock_rdlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>lock<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åŠ è¯»é”</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"--read : %lu, %d\n"</span><span class="token punctuation">,</span> <span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> g_number<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">pthread_rwlock_unlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>lock<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//è§£é”</span>        <span class="token function">usleep</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><strong>è¿è¡Œæ•ˆæœï¼š</strong></p><ul><li><p>å±è”½å»æ‰åŠ é”è§£é”çš„å‡ è¡Œæ³¨é‡Šï¼Œåˆ™ä¼šå‡ºç°ä»¥ä¸‹å¼‚å¸¸æƒ…å†µï¼Œå°æ•°å¯èƒ½åœ¨å¤§æ•°åé¢å†æ‰§è¡Œæ‰“å°è¯­å¥ï¼š</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200427_215101.png" width="60%"/ loading="lazy"></li><li><p>åŠ ä¸Šè¯»å†™é”ä¹‹åï¼Œå¾—åˆ°é¢„æœŸæ­£ç¡®ç»“æœï¼Œå¤§æ•°åªä¼šå‡ºç°åœ¨å°æ•°åé¢æ‰“å°</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200427_214901.png" width="60%"/ loading="lazy"></li></ul></li></ul><br><h3 id="ä¸‹è½½åœ°å€ï¼š"><a href="#ä¸‹è½½åœ°å€ï¼š" class="headerlink" title="ä¸‹è½½åœ°å€ï¼š"></a>ä¸‹è½½åœ°å€ï¼š</h3><p> <a href="https://github.com/xmuli/linuxExample/tree/master/19_pthread_rwlock_wrlock">19_pthread_rwlock_wrlock</a></p><p>æ¬¢è¿ star å’Œ fork è¿™ä¸ªç³»åˆ—çš„ linux å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸­ä½¿ç”¨ä½¿ç”¨äº’æ–¥é‡(é”)Mutexæ¥æ“æŒå¤šçº¿ç¨‹åŒæ­¥æ‰§è¡Œpthread_mutex_lock()</title>
      <link href="/posts/ea6e5a6c/"/>
      <url>/posts/ea6e5a6c/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€åœ¨ Linux ä¸­ï¼Œ<strong>ä½¿ç”¨äº’æ–¥é‡ï¼ˆäº’æ–¥é”ğŸ”ï¼‰ Mutex æ¥ç»™ä¿è¯å¤šçº¿ç¨‹</strong> ï¼Œåœ¨è®¿é—®å…¬å…±å˜é‡çš„æ—¶å€™èƒ½å¤Ÿ â€œä¸²è¡Œâ€ ä»£ç ã€‚ä»è€Œä½¿å¾—å¤šçº¿ç¨‹æ­£ç¡®çš„åŒæ­¥æ‰§è¡Œã€‚å…³äºå¤šçº¿ç¨‹åˆ›å»ºå’Œä½¿ç”¨å¯ä»¥å‚è€ƒ<a href="https://blog.csdn.net/qq_33154343/article/details/105546234">å‰é¢å‡ ç¯‡</a>çš„æ–‡ç« ï¼Œäº‰å–æ—©æ—¥æŠŠ Linux ç³»ç»Ÿç¯‡ä¹‹ ç³»ç»Ÿç¼–ç¨‹ç»™å‘å¸ƒå®Œç³»åˆ—çš„æ•™ç¨‹ã€‚</p><p>PSï¼šå¥½å‡ å¤©æ²¡æœ‰æ¥ç€å­¦ä¹  Linux çš„ç³»ç»Ÿå‡½æ•°å’Œç†è®ºçŸ¥è¯†äº†ã€‚å¯èƒ½æ˜¯å‰é¢å‡ å¤©æœ‰ç‚¹å¿™äº†å§ï¼›æ—¶é—´æµé€å•Šï¼Œæ€»æ˜¯è¿™ä¹ˆå¾—å¿«ï¼Œï¼Œï¼Œï¼Œ</p><p>å…³äºäº’æ–¥é”çš„ä½¿ç”¨å¦‚ä¸‹ï¼š</p><ul><li>pthread_mutex_t *mutex;   &#x2F;&#x2F;åˆ›å»ºä¸€ä¸ªé” </li><li>pthread_mutex_init();     &#x2F;&#x2F;åˆå§‹åŒ–ä¸€ä¸ªäº’æ–¥é”</li><li>pthread_mutex_lock();     &#x2F;&#x2F;ä¸Šé”ğŸ”“ï¼Œæˆ–è€…ä½¿ç”¨ pthread_mutex_trylock()</li><li>pthread_mutex_unlock();   &#x2F;&#x2F;è§£é”ğŸ”</li><li>pthread_mutex_destroy;    &#x2F;&#x2F;é”€æ¯äº’æ–¥é”</li></ul><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š"></a>ç¼–ç¨‹ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>uos20</code> ğŸ“ <code>gcc/g++ 8.3</code> ğŸ“ <code>gdb8.0</code> </p><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14 </code> ğŸ“ <code>gcc/g++ 9.2</code> ğŸ“ <code>gdb8.3</code> </p><br><h3 id="èƒŒæ™¯é“ºå«ï¼š"><a href="#èƒŒæ™¯é“ºå«ï¼š" class="headerlink" title="èƒŒæ™¯é“ºå«ï¼š"></a>èƒŒæ™¯é“ºå«ï¼š</h3><ul><li><p><strong>ç¨‹åºï¼š</strong></p><p>å…ˆå†™ä¸€ä¸ªå¤šçº¿ç¨‹ç¨‹åºï¼ŒA å’Œ B ä¸¤ä¸ªå­çº¿ç¨‹ä¸€èµ·æ•°å‡ºè¾“å‡ºåˆ° 100000ï¼›ç„¶ååœ¨æ²¡æœ‰é”ğŸ”çš„æƒ…å†µä¸‹ï¼Œæ¯ä¸€çº¿ç¨‹è½®æµæ‰§è¡Œ 10 æ¯«ç§’ï¼Œæ¨¡æ‹Ÿæ—¶é—´ç‰‡è½®è½¬åˆ‡ç‰‡ã€‚</p></li><li><p><strong>ä»£ç ç¨‹åºï¼š</strong></p><p>è¿™ä¸ªä»£ç è¿˜æ²¡æœ‰åŠ é”ï¼Œä¿æŠ¤å…±äº«å˜é‡ã€‚å®Œæ•´ä»£ç å¦‚ä¸‹ï¼›</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token keyword">int</span> g_num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//åœ¨å…¨å±€åŒºåŸŸï¼Œå…±äº«</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAXNUMBER</span> <span class="token expression"><span class="token number">100000</span></span></span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">funA</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">funB</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    pthread_t pthreadA <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    pthread_t pthreadB <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pthreadA<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">,</span> funA<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åˆ›å»ºä¸¤ä¸ªå­çº¿ç¨‹</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pthreadB<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">,</span> funB<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>pthreadA<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//é˜»å¡ï¼Œå›æ”¶èµ„æº</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>pthreadB<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">funA</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> g_num <span class="token operator">&lt;</span> MAXNUMBER<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> a <span class="token operator">=</span> g_num<span class="token punctuation">;</span>  <span class="token comment">//27-29è¡Œï¼Œå¢åŠ å¯„å­˜å™¨å’Œå†…å­˜ä¹‹é—´çš„æ•°æ®äº¤æ¢æ“ä½œï¼Œä½¿å¾—å‡ºç°å†…å­˜æ²¡æ¥å¾—åŠä¿å­˜æ•°æ®çš„ç°è±¡çš„æ¦‚ç‡å¤§ä¸€ç‚¹</span>        a<span class="token operator">++</span><span class="token punctuation">;</span>        g_num <span class="token operator">=</span> a<span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"A thread id: %ld,   num = %d\n"</span><span class="token punctuation">,</span> <span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> g_num<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">usleep</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ²‰ç¡ 10 æ¯«ç§’ï¼Œ æ¨¡æ‹Ÿæ—¶é—´ç‰‡è½®è½¬ï¼Œæ•ˆæœæ›´æ˜æ˜¾</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">funB</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> g_num <span class="token operator">&lt;</span> MAXNUMBER<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> b <span class="token operator">=</span> g_num<span class="token punctuation">;</span>        b<span class="token operator">++</span><span class="token punctuation">;</span>        g_num <span class="token operator">=</span> b<span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"B thread id: %ld,   num = %d\n"</span><span class="token punctuation">,</span> <span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> g_num<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">usleep</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ²‰ç¡ 10 æ¯«ç§’ï¼Œ æ¨¡æ‹Ÿæ—¶é—´ç‰‡è½®è½¬ï¼Œæ•ˆæœæ›´æ˜æ˜¾</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><strong>ç»“æœåˆ†æï¼š</strong></p><p>ä¸‹é¢æˆªå›¾é‡Œé¢ï¼Œåœ¨ MacOS 10.14.6 å’Œ Ubuntu 20.04 é‡Œé¢è·‘ï¼Œéƒ½æ˜¯æ­£ç¡®çš„ç»“æœï¼›</p><p>[ç–‘æƒ‘]å¯èƒ½æ˜¯å› ä¸ºç³»ç»Ÿç³»ç»Ÿå†…æ ¸æˆ–è€…åº•å±‚ä½œäº†ä¿®æ”¹ï¼Ÿï¼Ÿï¼Ÿåˆæˆ–è€…æ˜¯æ•°æ•°çš„é—´éš”è¿‡å°ï¼Œæ•°çš„æ•°å­—ä¸å¤šï¼Ÿ é¢„åˆ¤çš„ç»“æœæ˜¯ å®é™…æ•°æ•°çš„å¤§å°ä¼šæ¯”å®é™…æ­£ç¡®ç»“æœè¦å°ä¸€ç‚¹ï¼ˆåŸå› æ˜¯æ—¶é—´ç‰‡è½®è½¬çš„åŸå› ï¼‰ï¼Œå¾…æ—¥åæŒ–åŸè€ƒå¤ï¼Ÿéš¾é“æ˜¯ç³»ç»Ÿæ¯”è¾ƒæ–°ï¼Ÿæ‰€ä»¥è¿ç»­å‡ºç°å‡ æ¬¡éƒ½æ˜¯æœ€æ­£ç¡®çš„ç»“æœã€‚ã€‚ã€‚</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200425_161541.png" width="70%"/ loading="lazy"><p>[è§£ç­”]æ²¡æœ‰å‡ºç°å†…å­˜æ¥ä¸åŠä¿å­˜å¢åŠ çš„æ•°æ®ï¼Œcpu çš„æ—¶é—´ç‰‡å°±è¢«å…¶ä»–èµ„æºå å»äº†ï¼Œå¯¼è‡´æœ€åå‡ºç°çš„å°æ•°æœ‰å¯èƒ½å‡ºç°åœ¨å¤§æ•°çš„åé¢æ‰“å°ï¼Œè¿™æ˜¯ä¸€ä¸ªæ¦‚ç‡é—®é¢˜ï¼›è€Œ 27-29 è¡Œå’Œ 42-44 è¡Œï¼Œæ˜¯åˆ»æ„å¢åŠ å¯„å­˜å™¨å’Œå†…å­˜ä¹‹é—´çš„æ•°æ®äº¤æ¢æ“ä½œæ¬¡æ•°ï¼Œä½¿å¾—å‡ºç°å†…å­˜æ²¡æ¥å¾—åŠä¿å­˜æ•°æ®çš„ç°è±¡çš„æ¦‚ç‡å¤§ä¸€ç‚¹ã€‚</p><ul><li><p>å¦‚æœåœ¨ Ubuntu 16.04 é‡Œé¢è·‘æ”¹ç¨‹åºï¼Œå¦‚æœå‡ºç°äº†æœ€åä¸€ä¸ªæ•°å­—æ¯” 100000 å°ä¸€ç‚¹ï¼Œé‚£ä¹ˆè§£é‡Šçš„å¯èƒ½å¦‚ä¸‹ï¼š</p><p>å…¶ä¸­ä¼šå‘ç°ç»“æœæœ‰ç‚¹æ··ä¹±ã€‚è¿™æ˜¯ä¸¤ä¸ªå­çº¿ç¨‹äº’ç›¸æ“ä½œåŒä¸€ä¸ªæ•°æ®ï¼Œæ—¶é—´ç‰‡åˆ‡æ¢çš„æ—¶å€™ï¼Œè¿˜æ–°çš„æ•°æ®è¿˜æ²¡æœ‰æ¥å¾—åŠä¿å­˜è¿›å†…å­˜é‡Œé¢ï¼Œå°±åˆ‡æ¢åˆ°äº†ä¸‹ä¸€ä¸ªçº¿ç¨‹ä¸­å»äº†ã€‚</p><ul><li>[å®é™…ç»“æœ]å¤šæ•°äº†ä¸€ä½ï¼Œæœ€åä¸€ä¸ªç»“æœæ˜¯100001ï¼Œä¸”æœ‰æ—¶å€™è¿˜ä¼šä¸‹é¢è¿˜ä¼šå†æ‰“å°ä¸€ä¸ªå°çš„æ•°å­—</li><li>[æœŸæœ›ç»“æœ]åªæ•°æ•°åˆ° 100000ï¼›</li><li>åˆ†æå›¾å¦‚ä¸‹ï¼š</li></ul></li></ul> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200425_145954.png" width="60%"/ loading="lazy"></li></ul><br><h3 id="ä½¿ç”¨äº’æ–¥é‡-é”-Mutex"><a href="#ä½¿ç”¨äº’æ–¥é‡-é”-Mutex" class="headerlink" title="ä½¿ç”¨äº’æ–¥é‡(é”) Mutex:"></a>ä½¿ç”¨äº’æ–¥é‡(é”) Mutex:</h3><p><font color=#FF0000  size=4 face="å¹¼åœ†"><strong>å¦‚æœæˆ‘ä»¬æƒ³ä½¿ç”¨äº’æ–¥é”åŒæ­¥çº¿ç¨‹ï¼Œé‚£ä¹ˆæ‰€æœ‰çº¿ç¨‹ï¼Œåªè¦æ˜¯æœ‰è®¿é—®åŒä¸€ä¸ªå…±äº«å…¬å…±å˜é‡çš„çº¿ç¨‹éƒ½è¦åŠ é”ã€‚</strong> </font></p><ul><li><strong>ä½¿ç”¨æµç¨‹æ­¥éª¤ï¼š</strong></li></ul><ol><li><p><strong>åˆ›å»ºä¸€æŠŠäº’æ–¥é”</strong> </p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">pthread_mutex_t <span class="token operator">*</span>mutex<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p><strong>å¯¹äº’æ–¥é”è¿›ç¨‹åˆå§‹åŒ– init</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">pthread_mutex_init</span><span class="token punctuation">(</span>pthread_mutex_t <span class="token operator">*</span>mutex<span class="token punctuation">,</span> <span class="token keyword">const</span> pthread_mutexattr_t <span class="token operator">*</span>attr<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p><strong>ä½¿ç”¨äº’æ–¥é”ï¼šæ¯ä¸ªå­çº¿ç¨‹è¦è®¿é—®å…¬å…±å˜é‡çš„æ—¶å€™ï¼Œéƒ½åŠ ä¸Šé”ï¼Œä½¿ç”¨å®Œåå°±è§£é”</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//è‹¥æœæ²¡æœ‰ä¸Šé”ï¼Œå°±ä¸Šé”ï¼›è‹¥æœå·²ç»ä¸Šé”ï¼Œç›´æ¥è¿”å›ï¼Œä¸é˜»å¡</span><span class="token keyword">int</span> <span class="token function">pthread_mutex_trylock</span><span class="token punctuation">(</span>pthread_mutex_t <span class="token operator">*</span>mutex<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è‹¥æœæ²¡æœ‰ä¸Šé”ï¼Œå°±ä¸Šé”ï¼›è‹¥æœå·²ç»ä¸Šé”ï¼Œå°±é˜»å¡è¯¥çº¿ç¨‹</span><span class="token keyword">int</span> <span class="token function">pthread_mutex_lock</span><span class="token punctuation">(</span>pthread_mutex_t <span class="token operator">*</span>mutex<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è§£é”</span><span class="token keyword">int</span> <span class="token function">pthread_mutex_unlock</span><span class="token punctuation">(</span>pthread_mutex_t <span class="token operator">*</span>mutex<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><strong>ä½¿ç”¨å®Œæ¯•ï¼Œé”€æ¯äº’æ–¥é”</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">pthread_mutex_destroy</span><span class="token punctuation">(</span>pthread_mutex_t <span class="token operator">*</span>mutex<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol><br><h3 id="æ”¹å†™ä¾‹å­ï¼Œä½¿ç”¨äº’æ–¥é‡-é”-å®ä¾‹ï¼š"><a href="#æ”¹å†™ä¾‹å­ï¼Œä½¿ç”¨äº’æ–¥é‡-é”-å®ä¾‹ï¼š" class="headerlink" title="æ”¹å†™ä¾‹å­ï¼Œä½¿ç”¨äº’æ–¥é‡(é”)å®ä¾‹ï¼š"></a>æ”¹å†™ä¾‹å­ï¼Œä½¿ç”¨äº’æ–¥é‡(é”)å®ä¾‹ï¼š</h3><p>å°†ä¸Šé¢çš„ä¾‹å­æ”¹äº†æ”¹ï¼Œç„¶ååœ¨ Aã€B ä¸¤ä¸ªå­çº¿ç¨‹é‡Œé¢ï¼Œä½¿ç”¨äº’æ–¥é‡(é”)ï¼Œä¼šå‘ç°ä¹Ÿä¼šå¾—åˆ°å–å…¶æ­£ç¡®çš„ç»“æœã€‚ç»“æœç¬¦åˆé¢„æœŸã€‚</p><ul><li><strong>ä¿®æ”¹åçš„åŠ é”ä¾‹å­ï¼š</strong></li></ul><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token keyword">int</span> g_num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//åœ¨å…¨å±€åŒºåŸŸï¼Œå…±äº«</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAXNUMBER</span> <span class="token expression"><span class="token number">100000</span></span></span>pthread_mutex_t g_mutex<span class="token punctuation">;</span> <span class="token comment">//åˆ›å»ºå…¨å±€çš„äº’æ–¥é”</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">funA</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">funB</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">pthread_mutex_init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>g_mutex<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å¯¹é”è¿›è¡Œåˆå§‹åŒ–</span>    pthread_t pthreadA <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    pthread_t pthreadB <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pthreadA<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">,</span> funA<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åˆ›å»ºä¸¤ä¸ªå­çº¿ç¨‹</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pthreadB<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">,</span> funB<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>pthreadA<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//é˜»å¡ï¼Œå›æ”¶èµ„æº</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>pthreadB<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_mutex_destroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>g_mutex<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//é‡Šæ”¾äº’æ–¥é”èµ„æº</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">funA</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> g_num <span class="token operator">&lt;</span> MAXNUMBER<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">pthread_mutex_lock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>g_mutex<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> a <span class="token operator">=</span> g_num<span class="token punctuation">;</span>        a<span class="token operator">++</span><span class="token punctuation">;</span>        g_num <span class="token operator">=</span> a<span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"A thread id: %ld,   num = %d\n"</span><span class="token punctuation">,</span> <span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> g_num<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">pthread_mutex_unlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>g_mutex<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">usleep</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ²‰ç¡ 10 æ¯«ç§’ï¼Œ æ¨¡æ‹Ÿæ—¶é—´ç‰‡è½®è½¬ï¼Œæ•ˆæœæ›´æ˜æ˜¾</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">funB</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> g_num <span class="token operator">&lt;</span> MAXNUMBER<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">pthread_mutex_lock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>g_mutex<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> b <span class="token operator">=</span> g_num<span class="token punctuation">;</span>        b<span class="token operator">++</span><span class="token punctuation">;</span>        g_num <span class="token operator">=</span> b<span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"B thread id: %ld,   num = %d\n"</span><span class="token punctuation">,</span> <span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> g_num<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">pthread_mutex_unlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>g_mutex<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">usleep</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ²‰ç¡ 10 æ¯«ç§’ï¼Œ æ¨¡æ‹Ÿæ—¶é—´ç‰‡è½®è½¬ï¼Œæ•ˆæœæ›´æ˜æ˜¾</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p><strong>è¿è¡Œç»“æœï¼š</strong></p><p>å®é™…ç»“æœå’Œé¢„æœŸç»“æœä¸€è‡´ã€‚</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200425_161541.png" width="60%"/ loading="lazy"></li></ul><br><h3 id="ä¸‹è½½åœ°å€ï¼š"><a href="#ä¸‹è½½åœ°å€ï¼š" class="headerlink" title="ä¸‹è½½åœ°å€ï¼š"></a>ä¸‹è½½åœ°å€ï¼š</h3><p> <a href="https://github.com/xmuli/linuxExample/tree/master/18_mutex">18_mutex</a></p><p>æ¬¢è¿ star å’Œ fork è¿™ä¸ªç³»åˆ—çš„ linux å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>çŸ­æ—¶é—´å¦‚ä½•æ¸…æ™°é˜è¿°ä½ çš„éœ€æ±‚ã€è§‚ç‚¹å’Œç›®çš„?</title>
      <link href="/posts/ac78579e/"/>
      <url>/posts/ac78579e/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€é‡åˆ° â€œèŒ¶å£¶é‡Œé¢ç…®é¥ºå­â€ å°±ä¸æ˜¯ä¸€ä»¶å¼€å¿ƒçš„äº‹æƒ…äº†ï¼›<strong>è™½ç„¶è¯´ï¼Œæ•²ä»£ç ä¸“å¿ƒäº«å—çš„ä¸€ä»¶å¿«ä¹çš„äº‹æƒ…ï¼Œä½†æ˜¯ä¸äººæ²Ÿé€šäº¤æµæ›´åŠ é‡è¦ï¼Œç»å¸¸é‡åˆ°éœ€è¦åœ¨å¾ˆçŸ­çš„æ—¶é—´é‡Œé¢ï¼Œå°†è‡ªå·±çš„æƒ³æ³•å’Œè§‚ç‚¹æ¸…æ™°çš„å‘Šè¯‰ å¥¹&#x2F;ä»– äººã€‚</strong> </p><p>ä»Šå¹´è¿‡å¹´é‚£ä¸€å‘¨ï¼Œä»˜è´¹å»ä¸“é—¨å­¦ä¹ äº†ä¸€ä¸‹åŸºæœ¬çš„æ²Ÿé€šäº¤æµï¼Œæœ‰æ‰€æ”¹å–„ã€‚è§‰ç€å¾ˆæ˜¯æœ‰æ•ˆï¼Œåæ•´ç†ä¸ºç¬”è®°ï¼Œä¸è¯¸å›å…±äº«ã€‚å…³äº <font color=#FF0000  size=4 face="å¹¼åœ†"><strong>é«˜æ•ˆè¡¨è¾¾ &#x3D; å®šä¸»é¢˜ + æ­æ¶å­ + å¡«ç´ æ</strong> </font></p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200420_234913.png" width="100%"/ loading="lazy"><br><h3 id="1-å®šä¸»é¢˜ï¼Œæ˜ç›®çš„ï¼Œè®©äººç§’æ‡‚ä½ çš„æƒ³æ³•"><a href="#1-å®šä¸»é¢˜ï¼Œæ˜ç›®çš„ï¼Œè®©äººç§’æ‡‚ä½ çš„æƒ³æ³•" class="headerlink" title="1.å®šä¸»é¢˜ï¼Œæ˜ç›®çš„ï¼Œè®©äººç§’æ‡‚ä½ çš„æƒ³æ³•"></a>1.å®šä¸»é¢˜ï¼Œæ˜ç›®çš„ï¼Œè®©äººç§’æ‡‚ä½ çš„æƒ³æ³•</h3><ul><li><p><strong>é¦–å¥æ·»åŠ ä¸€ä¸ªå·¥ä½œæ ¸å¿ƒçš„é‡ç‚¹å›´ç»•</strong></p></li><li><ol><li>ä»€ä¹ˆæ˜¯æ­£çœŸçš„çš„ä¸»é¢˜ï¼Ÿ</li></ol><ul><li>è®©è€æ¿çŸ¥é“æˆ‘æ¥æ˜¯å¹²å˜›çš„</li></ul></li><li><ol start="2"><li>å¦‚ä½•æ˜ç¡®çš„è¡¨è¾¾ç›®çš„?</li></ol><ul><li>å°†è¦æ±‡æŠ¥çš„å¯¹è±¡æ˜¯è°ï¼ˆç«™åœ¨å¯¹æ–¹çš„è§’åº¦æ€è€ƒï¼Œä»–æ‰€å…³å¿ƒçš„æ˜¯ä»€ä¹ˆï¼Ÿå…·æœ‰é’ˆå¯¹æ€§ï¼‰</li><li>è°åœ¨å¬æˆ‘è¯´è¯ï¼Ÿæˆ‘æƒ³è¾¾æˆçš„æ•ˆæœæ˜¯ï¼Ÿ</li></ul></li></ul><br><h3 id="2-3-ç§ç»å…¸æ¡†æ¶ï¼Œå¿«é€Ÿæ•´ç†è¡¨è¾¾æ€è·¯"><a href="#2-3-ç§ç»å…¸æ¡†æ¶ï¼Œå¿«é€Ÿæ•´ç†è¡¨è¾¾æ€è·¯" class="headerlink" title="2. 3 ç§ç»å…¸æ¡†æ¶ï¼Œå¿«é€Ÿæ•´ç†è¡¨è¾¾æ€è·¯"></a>2. 3 ç§ç»å…¸æ¡†æ¶ï¼Œå¿«é€Ÿæ•´ç†è¡¨è¾¾æ€è·¯</h3><ul><li><ol><li>æ—¶é—´è½´ç»“æ„</li></ol><ul><li>é¦–å…ˆ-ç„¶å-æœ€åï¼ˆé¡¹ç›®çš„å‘ç”Ÿé¡ºåºï¼‰</li><li>å‹åŠ›ç¯å¢ƒä¸‹ï¼Œæ€è·¯æ²¡æœ‰æ‰“å¼€çš„æ—¶å€™ä½¿ç”¨</li></ul></li><li><ol start="2"><li>è§£å†³é—®é¢˜ç»“æ„</li></ol><ul><li>é—®é¢˜</li><li>åŸå› </li><li><strong>è§£å†³æ–¹æ¡ˆ</strong></li></ul></li><li><ol start="3"><li>FAB ç»“æ„ <strong>(å±æ€§-ä¼˜åŠ¿-åˆ©ç›Š)</strong></li></ol><ul><li>åŸºæœ¬æƒ…å†µ + è¿‡äººä¹‹å¤„ + å¯æä¾›çš„å¸®åŠ©</li><li>è¦<strong>æ¸…æ¥šå¬ä¼—</strong>æ˜¯è°</li></ul></li></ul><br><h3 id="3-2-ç§ç´ æï¼Œè®©ä½ å‘è¨€æ›´å…·æœ‰è¯´æœåŠ›"><a href="#3-2-ç§ç´ æï¼Œè®©ä½ å‘è¨€æ›´å…·æœ‰è¯´æœåŠ›" class="headerlink" title="3. 2 ç§ç´ æï¼Œè®©ä½ å‘è¨€æ›´å…·æœ‰è¯´æœåŠ›"></a>3. 2 ç§ç´ æï¼Œè®©ä½ å‘è¨€æ›´å…·æœ‰è¯´æœåŠ›</h3><ul><li><strong>æ•°æ®</strong> (æ•°æ®æœ¬ç”Ÿæ²¡æœ‰æ„ä¹‰ï¼Œæˆ‘æ‰æ˜¯æ„ä¹‰çš„ç¼”é€ è€…)<ul><li>æ•°æ®è¦ç­›é€‰ ï¼ˆå¯¹å–æœ‰åˆ©äºç›®çš„è€Œè¨€ï¼‰</li><li>æ•°æ®è¦è§£é‡Š ï¼ˆæ•°æ®æ¢ç®—ï¼Œæœ‰å†²å‡»åŠ›ï¼‰</li></ul></li><li><strong>æ•…äº‹</strong><ul><li><strong>å†²çª</strong></li><li>è¡ŒåŠ¨</li><li>ç»“å±€</li></ul></li></ul><br><h3 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h3><h4 id="4-ä¸´æ—¶æ±‡æŠ¥ï¼Œè®©ä½ çš„å‘è¨€æ›´å…·æœ‰è¯´æœåŠ›ï¼Ÿ"><a href="#4-ä¸´æ—¶æ±‡æŠ¥ï¼Œè®©ä½ çš„å‘è¨€æ›´å…·æœ‰è¯´æœåŠ›ï¼Ÿ" class="headerlink" title="4. ä¸´æ—¶æ±‡æŠ¥ï¼Œè®©ä½ çš„å‘è¨€æ›´å…·æœ‰è¯´æœåŠ›ï¼Ÿ"></a>4. ä¸´æ—¶æ±‡æŠ¥ï¼Œè®©ä½ çš„å‘è¨€æ›´å…·æœ‰è¯´æœåŠ›ï¼Ÿ</h4><ul><li><strong>æ±‡æŠ¥è¿›åº¦</strong> ï¼ˆä¹Ÿæ˜¯å·¥ä½œèŒè´£ä¹‹ä¸€ï¼‰<ul><li>å¾—è®©è€æ¿å…·æœ‰æŒæ§æ„Ÿï¼Œä¸èƒ½åƒç­‰å¤–å–ä¸€æ ·æ„Ÿåˆ°ç„¦è™‘ï¼ˆå…³é”®èŠ‚ç‚¹ï¼Œä¹Ÿå¯ä¸»åŠ¨å‡ºå‡»è°ˆè°ˆï¼Œè®©å…¶çœ‹åˆ°è‡ªå·±ç§¯æçš„ä¸€é¢ï¼‰</li></ul></li><li><strong>æ±‡æŠ¥æˆæœ</strong> ï¼ˆé«˜å…‰æ—¶åˆ»ï¼‰<ul><li><strong>ä½¿ç”¨å…³é”®æ•°æ®å’Œæ•…äº‹ï¼ˆå¯åŠ å›¾è¡¨ï¼‰</strong></li><li>å¯¹æ— èƒ½çš„ç»†èŠ‚ä¸æ„Ÿå…´è¶£</li></ul></li><li><strong>æ±‡æŠ¥å›°éš¾</strong> ï¼ˆèŒåœºéå­¦æ ¡ï¼Œè€æ¿ä¸æ˜¯è€å¸ˆï¼Œæˆ‘ä¹Ÿä¸æ˜¯è¢«è€ƒè¯„çš„å­¦ç”Ÿï¼‰<ul><li><strong>é—®é¢˜ - åŸå›  - è§£å†³æ–¹æ¡ˆé€‰é¡¹ - åˆ©å¼Šåˆ†æ</strong></li><li>åƒä¸‡ä¸è¦å¸¦ç€é—®é¢˜æ±‡æŠ¥ï¼Œæ­£ç¡®çš„æ–¹å¼æ˜¯å¸¦ç€è§£å†³æ–¹æ¡ˆå»æ±‡æŠ¥</li></ul></li><li>ä½ å¾—éšæ—¶å…³æ³¨è€æ¿çš„ååº”ï¼Œå¹¶ä¸”åŠæ—¶è°ƒæ•´æ±‡æŠ¥èŠ‚å¥ï¼ˆä¸è€çƒ¦å°±èµ¶ç´§è¯´ç»“è®ºé‡ç‚¹ï¼‰</li><li>å…³æ³¨è€æ¿çš„é£æ ¼ï¼Œæœ‰åˆ©äºæ›´é«˜æ•ˆçš„æ²Ÿé€š (ç®€å•ç›´æ¥ã€‚å…³æ³¨ç»“æœï¼Œç»†è‡´è®¤çœŸï¼Œå…³æ³¨ç»†èŠ‚ï¼‰</li><li>æ±‡æŠ¥æ˜¯å½±å“è€æ¿çš„æœºä¼šï¼Œè€Œéåº”ä»˜è€æ¿çš„å·®äº‹</li></ul><br><h4 id="5-å›åº”è´¨ç–‘ï¼šé­é‡çªç„¶æé—®ï¼Œæ€ä¹ˆå›ç­”æ‰èƒ½æ»´æ°´ä¸æ¼ï¼Ÿ"><a href="#5-å›åº”è´¨ç–‘ï¼šé­é‡çªç„¶æé—®ï¼Œæ€ä¹ˆå›ç­”æ‰èƒ½æ»´æ°´ä¸æ¼ï¼Ÿ" class="headerlink" title="5. å›åº”è´¨ç–‘ï¼šé­é‡çªç„¶æé—®ï¼Œæ€ä¹ˆå›ç­”æ‰èƒ½æ»´æ°´ä¸æ¼ï¼Ÿ"></a>5. å›åº”è´¨ç–‘ï¼šé­é‡çªç„¶æé—®ï¼Œæ€ä¹ˆå›ç­”æ‰èƒ½æ»´æ°´ä¸æ¼ï¼Ÿ</h4><ul><li><strong>è®¤å¯å¯¹æ–¹çš„æé—®</strong><ul><li><strong>è®¤å¯æé—®è€…</strong> (æœ€å¸¸è§)</li><li>è®¤å¯äº‹å®</li><li>è®¤å¯æ„Ÿå—</li></ul></li><li><strong>æ¾„æ¸…å¯¹æ–¹çš„é—®é¢˜</strong> ï¼ˆè¿›ä¸€æ­¥ç¡®è®¤å¯¹æ–¹çš„é—®é¢˜ï¼‰<ul><li>ä½ èƒ½é‡å¤ä¸€éå—ï¼Ÿæˆ–è€…æ›´ç¡®å®šå—ï¼Ÿ</li><li>èƒ½å¦ä¸¾ä¸ªä¾‹ï¼Ÿå…·ä½“è¯´æ˜ä¸€ä¸‹é—®é¢˜ï¼Ÿ</li></ul></li><li>ç¡®ä¿å¯¹æ–¹å¾—åˆ°å°Šé‡ + è¿›ä¸€æ­¥ç¡®è®¤é—®é¢˜ + èµ¢å¾—æ€è€ƒæ—¶é—´ï¼Œæå‡å›ç­”è´¨é‡</li></ul><br><h4 id="6ã€ä¼šè®®å‘è¨€ï¼šè·¨å›¢é˜Ÿæ²Ÿé€šï¼Œæ€ä¹ˆè®©å¯¹æ–¹æ¥å—æˆ‘çš„æ–¹æ¡ˆï¼Ÿ"><a href="#6ã€ä¼šè®®å‘è¨€ï¼šè·¨å›¢é˜Ÿæ²Ÿé€šï¼Œæ€ä¹ˆè®©å¯¹æ–¹æ¥å—æˆ‘çš„æ–¹æ¡ˆï¼Ÿ" class="headerlink" title="6ã€ä¼šè®®å‘è¨€ï¼šè·¨å›¢é˜Ÿæ²Ÿé€šï¼Œæ€ä¹ˆè®©å¯¹æ–¹æ¥å—æˆ‘çš„æ–¹æ¡ˆï¼Ÿ"></a>6ã€ä¼šè®®å‘è¨€ï¼šè·¨å›¢é˜Ÿæ²Ÿé€šï¼Œæ€ä¹ˆè®©å¯¹æ–¹æ¥å—æˆ‘çš„æ–¹æ¡ˆï¼Ÿ</h4><ul><li>æå‰å’Œâ€œåˆºå¤´â€æ²Ÿé€šï¼Œè¿›è¡Œæ¨è¿›ï¼Œå†å¼€ä¼š</li><li><strong>åŸå› </strong><ul><li>å„éƒ¨é—¨çš„ä¼˜å…ˆçº§ä¸ä¸€æ ·</li><li>å„æ–¹çš„ç†è§£å­˜åœ¨åå·®</li><li>ï¼ˆå¡«è¡¨æ ¼åœ¨æ•°æ®éƒ¨å’Œé”€å”®éƒ¨ï¼Œé‡è¦æ€§ä¸ä¸€æ ·ï¼Œåè€…ä¸šç»©å’Œæ—¶é—´æ›´é‡è¦ï¼‰</li></ul></li><li><strong>è§£å†³</strong><ul><li>è§£å†³é—®é¢˜ç»“æ„ ï¼ˆæ¢èµ·å¯¹æ–¹çš„å…³æ³¨ï¼‰ + å±æ€§ä¼˜åŠ¿åˆ©ç›Š ï¼ˆéœ€è¦åšå‡ºä»€ä¹ˆï¼‰</li><li><strong>ã€Œè®¤å¯ã€+ ä¸ºä»€ä¹ˆ + åšä»€ä¹ˆ + æœ‰ä»€ä¹ˆå¥½å¤„ + é©¬ä¸Šè¡ŒåŠ¨</strong>ï¼ˆå®¹æ˜“çš„éƒ¨åˆ†å…ˆè®©å›¢é˜Ÿè¿›å…¥çŠ¶æ€ï¼Œä¹Ÿç§°ä¸´é—¨ä¸€è„šï¼‰</li><li>åŸåˆ™ï¼šè°ç—›è°è´Ÿè´£ï¼Œè°ç—›è°è§£å†³ï¼ˆä»–äººæ²¡æœ‰è¶³å¤Ÿçš„åŠ¨åŠ›ï¼‰</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´» - é—²æš‡çš„è¶£é—» </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸­å¤šçº¿ç¨‹æ“ä½œå‡½æ•°pthread_exit()ã€pthread_jion()ã€pthread_detach()ã€pthread_cancel()</title>
      <link href="/posts/e20f5ad6/"/>
      <url>/posts/e20f5ad6/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€<a href="https://blog.csdn.net/qq_33154343/article/details/105546234">ä¸Šä¸€ç¯‡</a>è®²è§£äº†å¤šçº¿ç¨‹çš„å…¥é—¨çš„çŸ¥è¯†ï¼Œå¦‚ä½•åˆ›å»ºå¤šçº¿ç¨‹ç¨‹åºï¼Œä»¥åŠä»è™šæ‹Ÿåœ°å€ç©ºé—´å’Œ PCB åˆ†æçº¿ç¨‹çš„ä¸€äº›ç»†èŠ‚ã€‚æœ¬ç« å†è®²è¿°ä¸€äº›çº¿ç¨‹æ“ä½œç›¸å…³çš„å‡½æ•°ï¼š</p><ul><li>pthread_exit(): é€€å‡ºä¸€ä¸ªçº¿ç¨‹ï¼Œä¸ä¼šå½±å“å…¶ä»–çº¿ç¨‹çš„</li><li>pthread_jion(): <font color=#FF0000  size=4 face="å¹¼åœ†">é˜»å¡ç­‰å¾…çº¿ç¨‹é€€å‡ºï¼Œè·å–çº¿ç¨‹é€€å‡ºçš„çŠ¶æ€</font> </li><li>pthread_detach(): è®¾ç½®çº¿ç¨‹åˆ†ç¦»çš„å±æ€§</li><li>pthread_cancel(): æ€æ­»ï¼ˆå–æ¶ˆï¼‰ä¸€ä¸ªçº¿ç¨‹</li><li>pthread_equal(): åˆ¤æ–­ä¸¤ä¸ªçº¿ç¨‹æ˜¯å¦ç›¸ç­‰ï¼Œé¢„ç•™å‡½æ•°</li></ul><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š"></a>ç¼–ç¨‹ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>uos20</code> ğŸ“ <code>gcc/g++ 8.3</code> ğŸ“ <code>gdb8.0</code> </p><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14 </code> ğŸ“ <code>gcc/g++ 9.2</code> ğŸ“ <code>gdb8.3</code> </p><br><h3 id="å•ä¸ªçº¿ç¨‹é€€å‡º-pthread-exit"><a href="#å•ä¸ªçº¿ç¨‹é€€å‡º-pthread-exit" class="headerlink" title="å•ä¸ªçº¿ç¨‹é€€å‡º pthread_exit():"></a>å•ä¸ªçº¿ç¨‹é€€å‡º pthread_exit():</h3><ul><li><strong>ä½œç”¨ï¼š</strong> ä¸€ä¸ªè¿›ç¨‹çš„é€€å‡ºä½¿ç”¨ <code>exit(0)</code>ï¼› è€Œé€€å‡ºä¸€ä¸ªçº¿ç¨‹ï¼Œä½¿ç”¨ <code>pthread_exit(NULL)</code>ï¼›</li></ul><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">pthread_exit</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>value_ptr<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><p><strong>å‚æ•°ï¼š</strong></p><ul><li>value_ptrï¼šå¿…é¡»æŒ‡å‘å…¨å±€ï¼Œæˆ–è€…å †ã€‚æ˜¯ä¸€ä¸ªä¼ å‡ºå‚æ•°ï¼Œç”¨æ¥åœ¨è¯¥çº¿ç¨‹ç»“æŸæ¨å‡ºçš„æ—¶å€™ï¼Œä¼ è¾“ä¸€ä¸ªå†…å®¹ã€‚è‹¥æ˜¯æŒ‡å‘å±€éƒ¨å˜é‡ï¼Œè¯¥çº¿ç¨‹è¢«é”€æ¯äº†çš„è¯ï¼Œå…¶ä»–çº¿ç¨‹å¯èƒ½è®¿é—®ä¸åˆ°æ­¤å—æ•°æ®å—ã€‚</li></ul></li><li><p>å†™ä¸€ä¸ªä¾‹å­ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//è®¾ç½®ä¸ºå…¨å±€å˜é‡ï¼Œåœ¨å…¨å±€åŒºåŸŸï¼Œå…±äº«</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">myfun</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">void</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>num<span class="token punctuation">;</span>  <span class="token comment">//ä¼ ä¸€ä¸ªåœ°å€è¿›å»ï¼ˆvoi* ä¹Ÿæ˜¯ 4 ä¸ªå­—èŠ‚ï¼‰</span>    pthread_t id<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token punctuation">(</span>id<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> myfun<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"i = %d, thread id: %ld\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> id<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// pthread_exit(nullptr);  //ç»ˆæ­¢ä¸»çº¿ç¨‹</span>    <span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"main thread-----%d------\n"</span><span class="token punctuation">,</span> j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">myfun</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">printf</span> <span class="token punctuation">(</span><span class="token string">"child thread-----%d------\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>             <span class="token function">_exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//é€€å‡ºè¿›ç¨‹</span>            <span class="token comment">// pthread_exit(nullptr);  //ç»ˆæ­¢ä¸»çº¿ç¨‹</span>        <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><strong>è¿è¡Œç»“æœï¼š</strong></p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200419_123512.png" width="60%"/ loading="lazy"></li></ul><br><h3 id="é˜»å¡ç­‰å¾…é€€å‡ºçº¿ç¨‹é€€å‡º-pthread-jion"><a href="#é˜»å¡ç­‰å¾…é€€å‡ºçº¿ç¨‹é€€å‡º-pthread-jion" class="headerlink" title="é˜»å¡ç­‰å¾…é€€å‡ºçº¿ç¨‹é€€å‡º pthread_jion():"></a>é˜»å¡ç­‰å¾…é€€å‡ºçº¿ç¨‹é€€å‡º pthread_jion():</h3><ul><li><p><strong>ä½œç”¨:</strong> </p><p><font color=#FF0000  size=4 face="å¹¼åœ†">é˜»å¡ç­‰å¾…çº¿ç¨‹é€€å‡ºï¼Œè·å–çº¿ç¨‹é€€å‡ºçš„çŠ¶æ€</font></p></li></ul><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">pthread_join</span><span class="token punctuation">(</span>pthread_t thread<span class="token punctuation">,</span> <span class="token keyword">void</span> <span class="token operator">*</span><span class="token operator">*</span>value_ptr<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><p><strong>å‚æ•°ï¼š</strong></p><ul><li>threadï¼š è¦å›æ”¶çš„å­çº¿ç¨‹çš„ id</li><li>value_ptrï¼šè¯»å–çº¿ç¨‹é€€å‡ºæ—¶å€™çš„æºå¸¦ä¿¡æ¯çŠ¶æ€ï¼›æŒ‡å‘çš„å†…å­˜å’Œ pthread_exit çš„å‚æ•°æ˜¯æŒ‡å‘åŒä¸€å—å†…å­˜åœ°å€ ã€‚åœ¨ä¸Šä¸€ä¸ªå‡½æ•° pthread_exit(void *value_ptr) ä¸­ï¼Œçº¿ç¨‹é€€å‡ºçš„æ—¶å€™ï¼Œä¼ å‡ºæ¥äº†å…¨å±€å˜é‡çš„æŒ‡é’ˆï¼› è€Œè¿™é‡Œç¬¬äºŒä¸ªå‚æ•°ï¼Œæ­¤äºŒçº§æŒ‡é’ˆå°±å¯ä»¥è¯»å‡ºæ¥è¿™ä¸ªå€¼ã€‚</li></ul></li><li><p><strong>å†™äº†ä¸€ä¾‹å­ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token keyword">int</span> number <span class="token operator">=</span> <span class="token number">1234</span><span class="token punctuation">;</span> <span class="token comment">//è¦æ˜¯ä¸€ä¸ªå…¨å±€çš„å˜é‡å“¦ï¼Œæˆ–è€…æ˜¯å †çš„ç©ºé—´</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">myfun</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    pthread_t pthread <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pthread<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> myfun<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ret <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"error: %s\n"</span><span class="token punctuation">,</span> <span class="token function">strerror</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"parent thread id: %ld\n"</span><span class="token punctuation">,</span> pthread_self<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span><span class="token operator">*</span> ptr <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>pthread<span class="token punctuation">,</span> <span class="token operator">&amp;</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//é˜»å¡ç­‰å¾…å­çº¿ç¨‹é€€å‡ºï¼Œå¹¶ä¸”å›æ”¶ pcb</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"number = %d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span>ptr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"parent i = %d\n"</span><span class="token punctuation">,</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">myfun</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"child thread id: %ld\n"</span><span class="token punctuation">,</span> <span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">// int number = 1234;   //è‹¥æ˜¯ä¸ºæ ˆé‡Œé¢çš„æ•°æ®ï¼Œåˆ™ä¼šç»„çº¿ç¨‹é‡Œé¢ï¼Œä¼šå´©æºƒæˆ–è€…å¤±è´¥</span>            <span class="token function">pthread_exit</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>number<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ­¤å¤„çš„åœ°å€ï¼Œå¿…é¡»æ˜¯æŒ‡å‘å †æˆ–è€…å…¨å±€å˜é‡</span>        <span class="token punctuation">&#125;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"child i = %d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><strong>è¿è¡Œæ•ˆæœï¼š</strong></p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200419_123654.png" width="60%"/ loading="lazy"></li></ul><br><h3 id="çº¿ç¨‹åˆ†ç¦»-pthread-detach"><a href="#çº¿ç¨‹åˆ†ç¦»-pthread-detach" class="headerlink" title="çº¿ç¨‹åˆ†ç¦» pthread_detach():"></a>çº¿ç¨‹åˆ†ç¦» pthread_detach():</h3><p>åœ¨ç”¨ pthread_create åˆ›å»ºå­çº¿ç¨‹çš„æ—¶å€™ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œæ˜¯å¯ä»¥è®¾ç½®ä¸ºæ­¤å±æ€§çš„ï¼›æ­£å¸¸æƒ…å†µä¸‹ï¼Œæ˜¯ç”±å­çº¿ç¨‹æ­»äº¡ï¼Œæ˜¯ç”±çˆ¶çº¿ç¨‹æ¥é‡Šæ”¾é—ç•™çš„èµ„æºï¼›ä½†å¦‚æœè®¾ç½®äº†æ­¤çº¿ç¨‹åˆ†ç¦»çš„å±æ€§ï¼Œé‚£ä¹ˆå­çº¿ç¨‹æ˜¯åœ¨åˆ›å»ºçš„æ—¶å€™ï¼Œå°±ç‹¬ç«‹äºçˆ¶çº¿ç¨‹ï¼Œå…¶æ­»äº¡æ—¶å€™èµ„æºä¹Ÿæ˜¯ç”±è‡ªå·±æ¥é‡Šæ”¾ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">pthread_detach</span><span class="token punctuation">(</span>pthread_t thread<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><strong>è°ƒç”¨è¯¥å‡½æ•°ä¹‹åï¼Œå°±ä¸åœ¨éœ€è¦è°ƒç”¨ pthread_jion() äº†</strong></li></ul><br><h3 id="æ€æ­»-å–æ¶ˆ-çº¿ç¨‹-pthread-cancel"><a href="#æ€æ­»-å–æ¶ˆ-çº¿ç¨‹-pthread-cancel" class="headerlink" title="æ€æ­»(å–æ¶ˆ)çº¿ç¨‹ pthread_cancel():"></a>æ€æ­»(å–æ¶ˆ)çº¿ç¨‹ pthread_cancel():</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">pthread_cancel</span><span class="token punctuation">(</span>pthread_t thread<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><strong>æ³¨æ„ï¼š</strong><ul><li>è¦æ€æ­»å­çº¿ç¨‹å¯¹åº”çš„å¤„ç†çš„å‡½æ•°çš„å†…éƒ¨ï¼Œå¿…é¡»åšä¸€æ¬¡ç³»ç»Ÿè°ƒç”¨ã€‚</li><li>ç³»ç»Ÿè°ƒç”¨å‡½æ•°æœ‰ï¼Œeg: open,write, printf ç­‰ï¼Œè¿™æ¬¡éƒ½æ˜¯æœ€ç»ˆä¼šè°ƒç”¨åˆ°ç³»ç»Ÿå±‚åŠçš„å‡½æ•°ã€‚</li><li>ä¸æ¶‰åŠåˆ°ç³»ç»Ÿå±‚çº§è°ƒç”¨ï¼Œegï¼š int a &#x3D; 10;</li></ul></li></ul><br><h3 id="åˆ¤æ–­çº¿ç¨‹æ˜¯å¦ç›¸ç­‰-pthread-equal"><a href="#åˆ¤æ–­çº¿ç¨‹æ˜¯å¦ç›¸ç­‰-pthread-equal" class="headerlink" title="åˆ¤æ–­çº¿ç¨‹æ˜¯å¦ç›¸ç­‰ pthread_equal():"></a>åˆ¤æ–­çº¿ç¨‹æ˜¯å¦ç›¸ç­‰ pthread_equal():</h3><p><strong>æ˜¯ä¸€ä¸ªé¢„ç•™å‡½æ•°</strong> ï¼Œé€šè¿‡çº¿ç¨‹å· åˆ¤æ–­ä¸¤ä¸ªçº¿ç¨‹æ˜¯å¦ç›¸ç­‰ï¼›ç›®å‰ä¸éœ€è¦ä½¿ç”¨è¯¥å‡½æ•°ã€‚è‹¥æ˜¯ä»¥åçº¿ç¨‹å˜ä¸ºè¿”å›ä¸€ä¸ªç»“æ„ä½“ã€‚å°±å¯ä»¥ç”¨æ­¤é¢„ç•™å‡½æ•°(ä¿®æ”¹ä¸€ä¸‹å®ç°)æ¥åˆ¤æ–­ä¸¤ä¸ªçº¿ç¨‹æ˜¯å¦å®ç°äº†ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">pthread_equal</span><span class="token punctuation">(</span>pthread_t t1<span class="token punctuation">,</span> pthread_t t2<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br><h3 id="ä¸‹è½½åœ°å€ï¼š"><a href="#ä¸‹è½½åœ°å€ï¼š" class="headerlink" title="ä¸‹è½½åœ°å€ï¼š"></a>ä¸‹è½½åœ°å€ï¼š</h3><p> <a href="https://github.com/xmuli/linuxExample/tree/master/17_thread">17_thread</a></p><p>æ¬¢è¿ star å’Œ fork è¿™ä¸ªç³»åˆ—çš„ linux å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸­åˆ›å»ºå¤šçº¿ç¨‹å®ä¾‹pthread_create()</title>
      <link href="/posts/28f8209f/"/>
      <url>/posts/28f8209f/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€å‰é¢å‡ ç¯‡ï¼Œå­¦ä¹ äº† Linux ä¸‹å¤šè¿›ç¨‹ä½¿ç”¨  fork() åˆ†æçš„å…¶æ„é€ å’ŒåŸç†ï¼›è¿™é‡Œè¿›ä¸€æ­¥ï¼Œæ¢ç©¶ä¸€ä¸‹å¦‚ä½•åˆ›å»ºå¤šçº¿ç¨‹ï¼Œä»¥åŠå¤šçº¿ç¨‹å’Œå¤šè¿›ç¨‹ä¹‹é—´çš„å·®å¼‚ã€‚æœ€åå†™å‡ ä¸ªå®ä¾‹ï¼›éªŒè¯åˆ†æã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š"></a>ç¼–ç¨‹ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>uos20</code> ğŸ“ <code>gcc/g++ 8.3</code> ğŸ“ <code>gdb8.0</code> </p><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14 </code> ğŸ“ <code>gcc/g++ 9.2</code> ğŸ“ <code>gdb8.3</code> </p><br><h3 id="çº¿ç¨‹ï¼š"><a href="#çº¿ç¨‹ï¼š" class="headerlink" title="çº¿ç¨‹ï¼š"></a>çº¿ç¨‹ï¼š</h3><p>çº¿ç¨‹å’Œè¿›ç¨‹çš„ç†è®ºæ¦‚å¿µä¸å†ç§°è¿°ï¼›è¿™é‡Œä¸»è¦æ˜¯ä»è™šæ‹Ÿåœ°å€ç©ºé—´å’Œ PCB çš„è§’åº¦æ¥çœ‹ï¼Œä¸»ã€å­çº¿ç¨‹ã€‚</p><p>Linux ä¸­ï¼Œç³»ç»Ÿæ˜¯ä¸è®¤è¯†çº¿ç¨‹è¿˜æ˜¯è¿›ç¨‹çš„ï¼Œå®ƒä»¬åªè®¤è¯† PCBï¼›</p><p>Unix å’Œ Linux çš„çº¿ç¨‹åœ¨ç³»ç»Ÿçš„åº•å±‚å®ç°æ˜¯ä¸ä¸€æ ·çš„ï¼Œæœ‰åŒºåˆ«çš„ï¼Œä½†æ˜¯å®ƒä»¬åœ¨åº”ç”¨å±‚æ˜¯çœ‹èµ·æ¥æ²¡ä»€ä¹ˆåŒºåˆ«ï¼›Linux ä¸­ä¸€å¼€å§‹æ²¡æœ‰çº¿ç¨‹ï¼Œæ˜¯ Windows ä¸­å…ˆæœ‰çš„ï¼Œåé¢è¢«å‰è¾ˆä»¬ç§»æ¤è¿‡æ¥çš„ï¼Œæ‰€ä»¥ Linux ä¸­çº¿ç¨‹çš„å®ç°ï¼Œç³»ç»Ÿåº•å±‚æ˜¯ç”±åˆ›å»ºè¿›ç¨‹æ”¹äº†æ”¹ã€‚</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200411_215259.png" width="80%"/ loading="lazy"><ul><li><p><font color=#FF0000  size=4 face="å¹¼åœ†"><strong>ä¸»çº¿ç¨‹å’Œå­çº¿ç¨‹ï¼š</strong></font></p><ul><li><font color=#FF0000  size=4 face="å¹¼åœ†"><strong>å…±äº«ï¼š</strong></font><ul><li>ç”¨æˆ·åŒºå†…ï¼Œé™¤äº†æ ˆåŒºæ˜¯ä¸å…±äº«çš„ï¼Œå…¶ä½™éƒ½æ˜¯ä¸å…±äº«çš„ã€‚</li></ul></li><li><font color=#FF0000  size=4 face="å¹¼åœ†"><strong>ä¸å…±äº«ï¼š</strong></font><ul><li>æ ˆåŒºï¼ˆå½“æœ‰ 1 ä¸» + 4 å­çº¿ç¨‹æ—¶å€™ï¼Œæ ˆåŒºä¼šè¢«å¹³åˆ†ä¸º 5 ä»½ï¼‰</li></ul></li></ul></li><li><p><strong>åœ¨ Linux ä¸‹ï¼š</strong></p><ul><li>çº¿ç¨‹å°±æ˜¯è¿›ç¨‹ â€“ è½»é‡çº§çš„è¿›ç¨‹</li><li>å¯¹äºå†…æ ¸æ¥è¯´ï¼Œçº¿ç¨‹å°±æ˜¯è¿›ç¨‹ï¼ˆå†…æ ¸åªä¼šç”¨ï¼‰</li></ul></li><li><p><strong>å¤šçº¿ç¨‹å’Œå¤šè¿›ç¨‹çš„åŒºåˆ«ï¼š</strong></p><ul><li><strong>å¤šè¿›ç¨‹å…±äº«çš„èµ„æºï¼š</strong><ul><li>ä»£ç </li><li>æ–‡ä»¶æè¿°ç¬¦</li><li>å†…å­˜æ˜ å°„åŒº â€“mmap</li></ul></li><li><strong>å¤šçº¿ç¨‹å…±äº«çš„èµ„æºï¼š</strong><ul><li>å †</li><li>å…¨å±€å˜é‡</li><li>ç›¸æ¯”å¤šè¿›ç¨‹ï¼Œæ›´åŠ èŠ‚çœç³»ç»Ÿèµ„æºï¼›å¯¹äºç³»ç»Ÿ CPU è½®è½¬æ—¶é—´ç‰‡æ¥è¯´ï¼Œä¸è®ºæ˜¯çº¿ç¨‹è¿˜æ˜¯è¿›ç¨‹ï¼Œå®ƒä¸è®¤è¯†ï¼Œåªè®¤ PCBã€‚</li></ul></li></ul></li></ul><br><h3 id="å®‰è£…çº¿ç¨‹-man-pageï¼š"><a href="#å®‰è£…çº¿ç¨‹-man-pageï¼š" class="headerlink" title="å®‰è£…çº¿ç¨‹ man pageï¼š"></a>å®‰è£…çº¿ç¨‹ man pageï¼š</h3><ul><li><p>å®‰è£…çº¿ç¨‹ man page å‘½ä»¤ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> manpages-posix-dev<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul><br><h3 id="æŸ¥çœ‹æŒ‡å®šçº¿ç¨‹çš„-LWP-å·ï¼š"><a href="#æŸ¥çœ‹æŒ‡å®šçº¿ç¨‹çš„-LWP-å·ï¼š" class="headerlink" title="æŸ¥çœ‹æŒ‡å®šçº¿ç¨‹çš„ LWP å·ï¼š"></a>æŸ¥çœ‹æŒ‡å®šçº¿ç¨‹çš„ LWP å·ï¼š</h3><ul><li>çº¿ç¨‹å·å’Œçº¿ç¨‹ ID æ˜¯æœ‰åŒºåˆ«çš„</li><li>çº¿ç¨‹å·æ˜¯ç»™å†…æ ¸çœ‹çš„</li><li>æŸ¥çœ‹æ–¹å¼ï¼š<ul><li>æ‰¾åˆ°ç¨‹åºçš„è¿›ç¨‹ ID</li><li><code>ps -Lf pid</code></li></ul></li></ul><p>ä¸€ä¸ªä¾‹å­ï¼ŒæŸ¥çœ‹ç«ç‹æµè§ˆå™¨ç¨‹åºç”±å¤šçº¿ç¨‹æ„æˆï¼š</p><p>å¦‚ï¼š Linux ä¸‹ æŸ¥çœ‹ç«ç‹æµè§ˆå™¨ï¼Œå‘ç°å…¶æ˜¯ç”±å¤šçº¿ç¨‹æ„æˆçš„</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ps ajx <span class="token operator">|</span> grep <span class="token string">"firefox"</span>ps <span class="token operator">-</span>Lf <span class="token number">31102</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><br><h3 id="pthread-create-ï¼š"><a href="#pthread-create-ï¼š" class="headerlink" title="pthread_create()ï¼š"></a>pthread_create()ï¼š</h3><ul><li><strong>ä½œç”¨ï¼š</strong> åˆ›å»ºå­çº¿ç¨‹</li></ul><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">pthread_create</span><span class="token punctuation">(</span>pthread_t <span class="token operator">*</span>thread<span class="token punctuation">,</span> <span class="token keyword">const</span> pthread_attr_t <span class="token operator">*</span>attr<span class="token punctuation">,</span> <span class="token keyword">void</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span>start_routine<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">void</span> <span class="token operator">*</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><p>ä¸»çº¿ç¨‹é€€å‡ºï¼Œå­çº¿ç¨‹ä¸€å®šä¼šè¢«å¼ºåˆ¶ç»“æŸé€€å‡ºã€‚</p></li><li><p><strong>å‚æ•°ï¼š</strong></p><ul><li><strong>threadï¼š</strong> ä¼ å‡ºå‚æ•°ï¼Œçº¿ç¨‹åˆ›å»ºæˆåŠŸåï¼Œä¼šè®¾ç½®ä¸€ä¸ªåˆé€‚å€¼ï¼Œé€šå¸¸æ¯”è¾ƒå¤§ã€‚</li><li><strong>attrï¼š</strong> çº¿ç¨‹å±æ€§ï¼Œé»˜è®¤ä½¿ç”¨ NULL</li><li><strong>start_routineï¼š</strong> å­çº¿ç¨‹çš„å¤„ç†å‡½æ•°ï¼ˆä¹Ÿè¢«ç§°ä¸ºå›è°ƒå‡½æ•°ï¼‰</li><li><strong>argï¼š</strong> å­çº¿ç¨‹çš„å¤„ç†å‡½æ•°çš„å‚æ•°</li></ul></li><li><p><strong>è¿”å›å€¼ï¼š</strong></p><ul><li><p>å‡½æ•°è°ƒç”¨æˆåŠŸè¿”å› 0ï¼Œå¤±è´¥è¿”å›é”™è¯¯å·ï¼›ä½†æ­¤å¤„çš„é”™è¯¯å·ä¸æ˜¯ä¹‹å‰é‚£ä¸ªèƒ½å¤Ÿç”¨ perror() æ‰“å°çš„é”™è¯¯å·ï¼Œè¿™ä¸¤ä¸ªä¸æ˜¯ä¸€ä¸ªä¸œè¥¿ï¼Œä»–ä»¬å„è‡ªä½¿ç”¨çš„åº“ä¸é€šç”¨ã€‚</p></li><li><p>æƒ³è¦æ‰“å°é”™è¯¯ä¿¡æ¯ï¼Œéœ€è¦ä½¿ç”¨æ ‡å‡†åº“å‡½æ•° strerror()</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">pthread_creator</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token keyword">if</span> <span class="token punctuation">(</span>ret <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"error: %s\n"</span><span class="token punctuation">,</span> <span class="token function">strerror</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li></ul></li></ul><h3 id="å†™ä¸€ä¸ªä¾‹å­ï¼š"><a href="#å†™ä¸€ä¸ªä¾‹å­ï¼š" class="headerlink" title="å†™ä¸€ä¸ªä¾‹å­ï¼š"></a>å†™ä¸€ä¸ªä¾‹å­ï¼š</h3><h4 id="ä¾‹å­ä¸€ï¼š"><a href="#ä¾‹å­ä¸€ï¼š" class="headerlink" title="ä¾‹å­ä¸€ï¼š"></a>ä¾‹å­ä¸€ï¼š</h4><p>ä½¿ç”¨ä¸å¸¦å‚æ•°çš„ï¼Œå­çº¿ç¨‹çš„å¤„ç†å‡½æ•°ï¼ŒéªŒè¯å­çº¿ç¨‹æ‰§è¡Œçš„ä»£ç ï¼Œåªæœ‰è¯¥å›è°ƒå‡½æ•°é‡Œé¢çš„å†…å®¹ã€‚</p><ul><li><p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">myfun</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    pthread_t pthread <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token comment">//åˆ›å»ºä¸€ä¸ªå­çº¿ç¨‹</span>    <span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pthread<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> myfun<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"parent thread id: %ld\n"</span><span class="token punctuation">,</span> pthread_self<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//é¿å…ä¸»çº¿ç¨‹è¿è¡Œåï¼Œå°±æ­»äº¡äº†ï¼Œè€Œå­çº¿ç¨‹æ²¡æœºä¼š</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//éªŒè¯å­çº¿ç¨‹ï¼Œå¹¶ä¸ä¼šæ‰§è¡Œè¿™é‡Œé¢çš„ä»£ç ï¼Œåªä¼šæ‰§è¡Œå›è°ƒå‡½æ•° muyfun é‡Œé¢çš„</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"i = %d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">myfun</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"child thread id: %ld\n"</span><span class="token punctuation">,</span> pthread_self<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><strong>è¿è¡Œç»“æœï¼š</strong></p>  <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200411_214058.png" width="60%"/ loading="lazy"></li></ul><br><h4 id="ä¾‹å­äºŒï¼š"><a href="#ä¾‹å­äºŒï¼š" class="headerlink" title="ä¾‹å­äºŒï¼š"></a>ä¾‹å­äºŒï¼š</h4><p>å†™ä¸€ä¸ªèƒ½å¤Ÿåˆ›å»ºå¤šä¸ªå­çº¿ç¨‹çš„å‡½æ•°ï¼Œè¦ä½¿ç”¨åˆ°å…¶å‚æ•°ã€‚</p><p>æ³¨æ„å…¶æ˜¯åœ°å€ä¼ é€’çš„è¯ï¼Œæœ‰è¿™æ ·ä¸€ç§å¯èƒ½ï¼Œè¯¥å˜é‡æ˜¯åœ¨ä¸»çº¿ç¨‹çš„åœ°å€ç©ºé—´ä¸­ï¼Œå…¶ä»–å‡ ä¸ªå­çº¿ç¨‹éƒ½æ˜¯åœ¨è¯¥çº¿ç¨‹ä¸­è¯»å–æ”¹å€¼ï¼›ä½†æ˜¯ç”±äºä»–ä»¬åˆ†åˆ«æŠ¢å  CPU æ—¶é—´ç‰‡ï¼Œä¼šå¯¼è‡´ç»“æœå¯èƒ½å’Œé¢„æœŸç»“æœä¸ç¬¦ï¼›æ­¤æ—¶å¯ä»¥è€ƒè™‘ä½¿ç”¨å€¼ä¼ é€’ã€‚</p><ul><li><p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span> <span class="token comment">//è®¾ç½®ä¸ºå…¨å±€å˜é‡ï¼Œåœ¨å…¨å±€åŒºåŸŸï¼Œå…±äº«</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">myfun</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">void</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>num<span class="token punctuation">;</span>  <span class="token comment">//ä¼ ä¸€ä¸ªåœ°å€è¿›å»ï¼ˆvoi* ä¹Ÿæ˜¯ 4 ä¸ªå­—èŠ‚ï¼‰</span>    pthread_t id<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token punctuation">(</span>id<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> myfun<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"i = %d, thread id: %ld\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> id<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">myfun</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"num = %d, child thread id: %ld\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span>arg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">++</span><span class="token punctuation">,</span> <span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><strong>ç¨‹åºåˆ†æï¼š</strong></p><p>å¯ä»¥çœ‹å‡ºï¼Œå…¶å…¶åˆ›å»ºå¤šä¸ªå­çº¿ç¨‹æˆåŠŸäº†ğŸ¤“ğŸ¤“ï¼Œå’Œé¢„æœŸç»“æœç›¸ç¬¦ã€‚</p></li><li><p><strong>è¿è¡Œç»“æœï¼š</strong></p>  <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200413_220730.png" width="70%"/ loading="lazy"></li><li><p>å…¶å®ƒ</p><p>å¦‚æœå°†å…¨å±€å˜é‡ <code>int num = 13;</code> æ”¾åˆ°  main() é‡Œé¢ï¼Œå½“åšå±€éƒ¨å˜é‡çš„è¯ï¼Œå°±ä¼šå‡ºç°å¦‚ä¸‹ç»“æœ!!! æœ‰ä¸€å¤„å°çš„ç‘•ç–µï¼Œæœ‰ç‚¹å›°æƒ‘ï¼Ÿæ³¨æ„å…¶ mun çš„å€¼ï¼Œæœ‰æ—¶å€™ä¼šå¼‚å¸¸ï¼Œæ€€ç–‘æ˜¯å¤šä¸ªçº¿ç¨‹æŠ¢å  CPU çš„æ—¶é—´ç‰‡ + æ˜¯ä¼ é€’çš„åœ°å€ï¼Œæˆ–è€…æœ‰å…¶ä»–ç³»ç»Ÿæˆ–è€…æ•°æ®ä¿®æ”¹è¿‡è¯¥å€¼ï¼Ÿï¼Ÿï¼Ÿæ‰€ä»¥æœ‰æ—¶å€™å€¼å¾—èŒƒå›´æ˜¯é 13-17ï¼›å¼‚å¸¸å˜å¾—å·¨å¤§ï¼› åŸå› è¿˜åœ¨æ‰¾ï¼Œæˆ–è€…ä½ çŸ¥é“çš„è¯ï¼Œå¯ä»¥åœ¨ä¸‹æ–¹ç•™è¨€å‘Šè¯‰æˆ‘ï¼Œå­¦ä¹ çŸ¥è¯†è¿™ç§äº‹ï¼Œè¾¾è€…ä¸ºå…ˆï¼Œç›¸äº’æŒ‡ç‚¹ä¸€ä¸‹ååˆ°â€œæ™šè¾ˆâ€ã€‚</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200411_232406.png" width="100%"/ loading="lazy"></li></ul><br><h3 id="ä¸‹è½½åœ°å€ï¼š"><a href="#ä¸‹è½½åœ°å€ï¼š" class="headerlink" title="ä¸‹è½½åœ°å€ï¼š"></a>ä¸‹è½½åœ°å€ï¼š</h3><p> <a href="https://github.com/xmuli/linuxExample/tree/master/17_thread">17_thread</a></p><p>æ¬¢è¿ star å’Œ fork è¿™ä¸ªç³»åˆ—çš„ linux å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸­åˆ›å»ºå®ˆæŠ¤è¿›ç¨‹setsid()</title>
      <link href="/posts/2c6bb236/"/>
      <url>/posts/2c6bb236/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€å‰é¢å‡ ç¯‡ï¼Œåˆšå†™è¿‡äº†çˆ¶å­è¿›ç¨‹çš„å®ä¾‹ã€‚è¿™é‡Œå†™ä¸€ä¸ª<strong>å®ˆæŠ¤è¿›ç¨‹</strong> çš„ä¾‹å­ï¼Œä»äº†è§£åˆ°è¿ç”¨ <code>setsid()</code> ï¼›å®ˆæŠ¤è¿›ç¨‹ä¹Ÿå°±æ˜¯è„±ç¦»äºç»ˆç«¯ï¼Œä¸éœ€è¦å’Œç”¨æˆ·äº¤æµçš„ï¼Œä¸å—æ³¨é”€å½±å“çš„åå°ç¨‹åºï¼ˆå¯ç†è§£ä¸º win ä¸­çš„<strong>æœåŠ¡</strong> ï¼‰ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š"></a>ç¼–ç¨‹ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>uos20</code> ğŸ“ <code>gcc/g++ 8.3</code> ğŸ“ <code>gdb8.0</code> </p><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14 </code> ğŸ“ <code>gcc/g++ 9.2</code> ğŸ“ <code>gdb8.3</code> </p><br><h3 id="å®ˆæŠ¤è¿›ç¨‹çš„ç‰¹ç‚¹ï¼š"><a href="#å®ˆæŠ¤è¿›ç¨‹çš„ç‰¹ç‚¹ï¼š" class="headerlink" title="å®ˆæŠ¤è¿›ç¨‹çš„ç‰¹ç‚¹ï¼š"></a>å®ˆæŠ¤è¿›ç¨‹çš„ç‰¹ç‚¹ï¼š</h3><ul><li>åå°æœåŠ¡ç¨‹åº</li><li>ç‹¬ç«‹ï¼ˆæ˜¯è„±ç¦»äºï¼‰æ§åˆ¶ç»ˆç«¯çš„ï¼Œç”¨æˆ·ä¸éœ€è¦å’Œç»ˆç«¯äº¤äº’</li><li>å‘¨æœŸæ€§çš„æ‰§è¡ŒæŸä»»åŠ¡</li><li>ä¸å—ç”¨æˆ·ç™»å½•æ³¨é”€çš„å½±å“</li><li>ä¸€èˆ¬é‡‡ç”¨ d ç»“å°¾çš„åå­—ï¼ˆæœåŠ¡ï¼‰</li></ul><br><h3 id="è¿›ç¨‹ç»„-å¤šä¸ªè¿›ç¨‹ï¼š"><a href="#è¿›ç¨‹ç»„-å¤šä¸ªè¿›ç¨‹ï¼š" class="headerlink" title="è¿›ç¨‹ç»„ - å¤šä¸ªè¿›ç¨‹ï¼š"></a>è¿›ç¨‹ç»„ - å¤šä¸ªè¿›ç¨‹ï¼š</h3><ul><li><font color=#FF0000  size=4 face="å¹¼åœ†">è¿›ç¨‹ç»„çš„ç»„é•¿ï¼Ÿ</font><ul><li><font color=#FF0000  size=4 face="å¹¼åœ†">ç»„é•¿æ˜¯æ˜¯ç»„é‡Œçš„ç¬¬ä¸€ä¸ªè¿›ç¨‹</font></li><li><font color=#FF0000  size=4 face="å¹¼åœ†">è¿›ç¨‹ç»„çš„ ID &#x3D;&#x3D; è¿›ç¨‹ç»„çš„ç»„é•¿çš„ ID</font></li></ul></li></ul><br><h3 id="ä¼šè¯-å¤šä¸ªè¿›ç¨‹ç»„ï¼š"><a href="#ä¼šè¯-å¤šä¸ªè¿›ç¨‹ç»„ï¼š" class="headerlink" title="ä¼šè¯ - å¤šä¸ªè¿›ç¨‹ç»„ï¼š"></a>ä¼šè¯ - å¤šä¸ªè¿›ç¨‹ç»„ï¼š</h3><p>è¿›ç¨‹ç»„æ˜¯ç”±å¤šä¸ªè¿›ç¨‹ç»„æˆï¼Œè€Œä¼šè¯æ˜¯ç”±å¤šä¸ªè¿›ç¨‹ç»„ç»„æˆæˆã€‚</p><ul><li><strong>åˆ›å»ºä¸€ä¸ªä¼šè¯æ³¨æ„çš„äº‹é¡¹ï¼š</strong><ul><li><font color=#FF0000  size=4 face="å¹¼åœ†"><strong>ä¸èƒ½æ˜¯ç»„é•¿è¿›ç¨‹</strong></font></li><li>åˆ›å»ºä¼šè¯çš„è¿›ç¨‹æˆä¸ºæ–°è¿›ç¨‹ç»„çš„ç»„é•¿</li><li>æœ‰äº› Linux ç‰ˆæœ¬éœ€è¦ root æƒé™æ‰§è¡Œæ­¤æ“ä½œï¼ˆUbuntu ä¸éœ€è¦ï¼‰</li><li><font color=#FF0000  size=4 face="å¹¼åœ†"><strong>åˆ›å»ºå‡ºçš„æ–°ä¼šè¯ä¼šä¸¢å¼ƒåŸæœ‰çš„æ§åˆ¶ç»ˆç«¯</strong></font></li><li>ä¸€èˆ¬æ­¥éª¤ï¼šå…ˆ fork()ï¼Œçˆ¶äº²æ­»ï¼Œå„¿å­åˆ›å»ºç»˜ç”»æ“ä½œ(setsid())</li></ul></li><li><strong>è·å–è¿›ç¨‹æ‰€å±çš„ä¼šè¯ IDï¼š</strong><ul><li><code>pid_t getsid(pid_t pid);</code></li></ul></li><li><strong>åˆ›å»ºä¸€ä¸ªä¼šè¯ï¼š</strong><ul><li><code>pid_t setsid(void);</code></li></ul></li></ul><br><h3 id="åˆ›å»ºå®ˆæŠ¤è¿›ç¨‹æ¨¡å‹ï¼š"><a href="#åˆ›å»ºå®ˆæŠ¤è¿›ç¨‹æ¨¡å‹ï¼š" class="headerlink" title="åˆ›å»ºå®ˆæŠ¤è¿›ç¨‹æ¨¡å‹ï¼š"></a>åˆ›å»ºå®ˆæŠ¤è¿›ç¨‹æ¨¡å‹ï¼š</h3><p>ä¸‹é¢åˆ—å‡ºåˆ›å»ºä¸€ä¸ªæ ‡å‡†çš„è¿›ç¨‹å®ˆæŠ¤æ¨¡å‹æ“ä½œæµç¨‹ï¼š</p><ol><li><strong>fork() è¿›ç¨‹ï¼Œçˆ¶è¿›ç¨‹é€€å‡º (å¿…é¡»)</strong></li><li><strong>å­è¿›ç¨‹åˆ›å»ºæ–°çš„ä¼šè¯ (å¿…é¡»)</strong><ul><li>ä½¿ç”¨ <code>setsid()</code></li></ul></li><li><strong>æ”¹å˜å½“å‰å·¥ä½œç›®å½• chdir (å¯é€‰)</strong><ul><li>æ¯”å¦‚ï¼ŒU ç›˜æ’åœ¨ç¬”è®°æœ¬ï¼Œè¿è¡Œ U ç›˜æ–‡ä»¶å¤¹é‡Œé¢çš„å¯æ‰§è¡Œç¨‹åºï¼Œç„¶åæ‹”æ‰ï¼Œä¼šæœ‰ä¸€äº›å½±å“</li></ul></li><li><strong>é‡è®¾æ–‡ä»¶æ©ç  (å¯é€‰)</strong><ul><li>å­è¿›ç¨‹ä¼šç»§æ‰¿çˆ¶è¿›ç¨‹çš„æ©ç </li><li>å¢åŠ å­è¿›ç¨‹ç¨‹åºæ“ä½œçš„çµæ´»æ€§</li><li>umask(0)</li></ul></li><li><strong>å…³é—­æ–‡ä»¶æè¿°ç¬¦ (å¯é€‰)</strong><ul><li>èŠ‚çº¦èµ„æºï¼Œå…³é—­æ­¤è¿›ç¨‹çš„ PCB çš„æ–‡ä»¶æè¿°ç¬¦è¡¨ä¸­ 0ã€1ã€2 ä¸‰ä¸ªï¼Œå› ä¸ºé¢„è­¦ä¸éœ€è¦å’Œç»ˆç«¯äº¤äº’ï¼Œæ•…å¯å…³é—­</li></ul></li><li><strong>æ‰§è¡Œæ ¸å¿ƒå·¥ä½œ (å¿…é¡»)</strong><ul><li>ä½ æƒ³è®©è¯¥å®ˆæŠ¤è¿›ç¨‹å¹²çš„äº‹æƒ…</li></ul></li></ol><br><h3 id="å†™ä¸€ä¸ªä¾‹å­ï¼š"><a href="#å†™ä¸€ä¸ªä¾‹å­ï¼š" class="headerlink" title="å†™ä¸€ä¸ªä¾‹å­ï¼š"></a>å†™ä¸€ä¸ªä¾‹å­ï¼š</h3><p>å¯¹ä¸Šé¢çš„å‡½æ•°ä½¿ç”¨ï¼Œå†™ä¸€ä¸ªä¾‹å­ï¼šå†™ä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹ï¼Œæ¯éš” 2s è·å–ä¸€æ¬¡ç³»ç»Ÿæ—¶é—´ï¼Œå†™å…¥åˆ°æ–‡æœ¬æ–‡ä»¶ä¸­ã€‚</p><ul><li><p><strong>ä»£ç ç¤ºä¾‹</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/wait.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/time.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;fcntl.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;signal.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/stat.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span><span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">int</span> no<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ç”¨ä½œå›è°ƒå‡½æ•°ï¼Œç»™ signal() è°ƒç”¨</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    pid_t pid <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">_exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//çˆ¶è¿›ç¨‹é€€å‡º</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">setsid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//å­è¿›ç¨‹åˆ›å»ºä¸ºä¼šè¯</span>        <span class="token function">chdir</span><span class="token punctuation">(</span><span class="token string">"/Users/muli/Desktop/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ”¹å˜è¿›ç¨‹çš„å·¥ä½œç›®å½•</span>        <span class="token function">umask</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//é‡è®¾ç½®æ–‡ä»¶æ©ç </span>        <span class="token function">close</span><span class="token punctuation">(</span>STDIN_FILENO<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//å…³é—­å’Œç»ˆç«¯çš„è”ç³»ï¼Œæ–‡ä»¶æè¿°ç¬¦</span>        <span class="token function">close</span><span class="token punctuation">(</span>STDOUT_FILENO<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">close</span><span class="token punctuation">(</span>STDERR_FILENO<span class="token punctuation">)</span><span class="token punctuation">;</span>        __sigaction_u sigactu<span class="token punctuation">;</span>  <span class="token comment">//è®¾ç½®ä¿¡å·æ•æ‰</span>        sigactu<span class="token punctuation">.</span>__sa_handler <span class="token operator">=</span> func<span class="token punctuation">;</span>        <span class="token keyword">struct</span> <span class="token class-name">sigaction</span> act<span class="token punctuation">;</span>        act<span class="token punctuation">.</span>sa_flags <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        act<span class="token punctuation">.</span>__sigaction_u <span class="token operator">=</span> sigactu<span class="token punctuation">;</span>        <span class="token function">sigaddset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>act<span class="token punctuation">.</span>sa_mask<span class="token punctuation">,</span> SIGQUIT<span class="token punctuation">)</span><span class="token punctuation">;</span>        itimerval time<span class="token punctuation">;</span>  <span class="token comment">//è®¾ç½®å‘¨æœŸæ€§çš„å®šæ—¶å™¨</span>        time<span class="token punctuation">.</span>it_value<span class="token punctuation">.</span>tv_sec <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>        time<span class="token punctuation">.</span>it_value<span class="token punctuation">.</span>tv_usec <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        time<span class="token punctuation">.</span>it_interval<span class="token punctuation">.</span>tv_sec <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        time<span class="token punctuation">.</span>it_interval<span class="token punctuation">.</span>tv_usec <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token function">sigaction</span><span class="token punctuation">(</span>SIGVTALRM<span class="token punctuation">,</span> <span class="token operator">&amp;</span>act<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">//æ•æ‰ï¼ˆä¸‹é¢ä¸€è¡Œå‘å°„çš„ï¼‰ä¿¡å·ï¼Œåœ¨ fun() é‡Œé¢å®ç°</span>        <span class="token function">setitimer</span><span class="token punctuation">(</span>ITIMER_VIRTUAL<span class="token punctuation">,</span> <span class="token operator">&amp;</span>time<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//ä½¿ç”¨å®šæ—¶å™¨ï¼Œå‘å°„ä¿¡å·</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ä¿æŒè¯¥å®ˆæŠ¤è¿›ç¨‹ä¸æ­»äº¡</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">int</span> no<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    time_t currtime<span class="token punctuation">;</span>  <span class="token comment">//è·å–ç³»ç»Ÿå½“å‰æ—¶é—´ï¼Œä¼ å‡ºå‚æ•°</span>    <span class="token function">time</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>currtime<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">char</span><span class="token operator">*</span> ptr <span class="token operator">=</span> <span class="token function">ctime</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>currtime<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> fd <span class="token operator">=</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"/Users/muli/Desktop/setsid.txt"</span><span class="token punctuation">,</span> O_CREAT <span class="token operator">|</span> O_WRONLY <span class="token operator">|</span> O_APPEND<span class="token punctuation">,</span> <span class="token number">0777</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//å†™å…¥ç£ç›˜æ–‡ä»¶</span>    <span class="token function">write</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> ptr<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">close</span><span class="token punctuation">(</span>fd<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><strong>ä»£ç åˆ†æï¼š</strong></p><p>è¿™é‡Œ <code>sigaction(SIGVTALRM, &amp;act, NULL);</code> å’Œä»£ç  <code>setitimer(ITIMER_VIRTUAL, &amp;time, NULL);</code> è¿™ä¸€è¡Œï¼Œæˆä¸ºäº’ç›¸å¯¹åº”çš„å…³ç³»ã€‚</p><p>ï¼Œä½¿ç”¨äº†å‘¨æœŸå®šæ—¶å™¨ setitimerï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¡«äº†ä¸‰ä¸ªæšä¸¾ä¹‹ä¸€ï¼Œä½†æ˜¯å¯¹åº”çš„ sigaction ä¿¡å·æ•æ‰ä¸­ï¼Œå°±è¦å¡«å†™å¯¹åº”çš„å‚æ•°ï¼ˆè§ man æ‰‹å†Œï¼‰ï¼›<strong>æ³¨æ„ï¼Œè¦å…ˆæœ‰æ•æ‰å‡½æ•°ï¼Œåå®ç°ä¿¡å·å‘å°„å‡½æ•°ï¼Œé¿å…å‡ºç°ä¿¡å·å·²ç»å‘å°„äº†ï¼Œä½†æ˜¯æ•æ‰å‡½æ•°è¿˜æ²¡æœ‰å®ç°æˆ–æ‰§è¡Œã€‚</strong> </p></li><li><p><strong>è¿è¡Œæ•ˆæœï¼š</strong></p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200411175755.gif" width="90%"/ loading="lazy"></li></ul><br><h3 id="æ–‡ä»¶æ©ç æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#æ–‡ä»¶æ©ç æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="æ–‡ä»¶æ©ç æ˜¯ä»€ä¹ˆï¼Ÿ"></a>æ–‡ä»¶æ©ç æ˜¯ä»€ä¹ˆï¼Ÿ</h3><ul><li>linuxä¸­çš„ umask å‡½æ•°ä¸»è¦ç”¨äºï¼šåœ¨åˆ›å»ºæ–°æ–‡ä»¶æˆ–ç›®å½•æ—¶ å±è”½æ‰æ–°æ–‡ä»¶æˆ–ç›®å½•ä¸åº”æœ‰çš„è®¿é—®å…è®¸æƒé™ã€‚</li><li>æ–‡ä»¶çš„è®¿é—®å…è®¸æƒé™å…±æœ‰9ç§ï¼Œåˆ†åˆ«æ˜¯ï¼šrwxrwxrwx</li><li>å®ƒä»¬åˆ†åˆ«ä»£è¡¨ï¼šç”¨æˆ·è¯» ç”¨æˆ·å†™ ç”¨æˆ·æ‰§è¡Œã€€ç»„è¯» ç»„å†™ã€€ç»„æ‰§è¡Œã€€å…¶å®ƒè¯» å…¶å®ƒå†™ å…¶å®ƒæ‰§è¡Œ</li><li>æ›´å¤šæ˜¯ä½¿ç”¨ umask å‘½ä»¤æˆ–è€… umask() å‡½æ•°è€è¡¨ç¤ºï¼Œæ¯”å¦‚ï¼š 777ï¼›</li></ul><br><h3 id="ä¸‹è½½åœ°å€ï¼š"><a href="#ä¸‹è½½åœ°å€ï¼š" class="headerlink" title="ä¸‹è½½åœ°å€ï¼š"></a>ä¸‹è½½åœ°å€ï¼š</h3><p> <a href="https://github.com/xmuli/linuxExample/tree/master/16_daemon">16_daemon</a></p><p>æ¬¢è¿ star å’Œ fork è¿™ä¸ªç³»åˆ—çš„ linux å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸­æœªå†³ä¿¡å·é›†å’Œé˜»å¡ä¿¡å·é›†çš„çŠ¶æ€å…³ç³»sigaddsetï¼Œä»¥åŠæ•æ‰ä¿¡å·å‡½æ•°signalã€sigaction</title>
      <link href="/posts/1a716682/"/>
      <url>/posts/1a716682/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€åœ¨<a href="https://blog.csdn.net/qq_33154343/article/details/105357886">ä¸Šä¸€ç¯‡</a>ä¸­ï¼Œè®²è§£äº† Linux çš„ç³»ç»Ÿä¸­åŸºæœ¬ä¿¡å·æ¦‚å¿µå…¥é—¨ã€‚è¿™é‡Œå°±è¯´ä¸€ä¸‹ä¸¤ä¸ªé‡è¦çš„æ¦‚å¿µï¼Œç³»ç»Ÿå†…æ ¸é‡Œé¢çš„ <strong>æœªå†³ä¿¡å·é›†</strong> å’Œ <strong>é˜»å¡ä¿¡å·é›†</strong> çš„çŠ¶æ€å…³ç³»ï¼Œä»¥åŠå¤„äºç”¨æˆ·åŒºåŸŸçš„ <strong>è‡ªå®šä¹‰çš„ä¿¡å·é›†</strong> ï¼Œå¦‚ä½•å¤„ç†è¿™ä¸‰è€…ä¹‹é—´çš„å…³ç³»ã€‚å’Œ Linux ä¸­çš„<strong>ä¿¡å·æ•æ‰</strong> ï¼Œä»¥åŠæ•æ‰å‡½æ•°ç›¸å…³å‡½æ•°ç›¸å…³çš„ä½¿ç”¨ã€‚</p><ul><li><strong>è‡ªå®šä¹‰ä¿¡å·é›†ï¼š</strong><ul><li>sigaddset()    &#x2F;&#x2F;å°†æŒ‡å®šä¿¡å·ç½®ä¸º 1ï¼Œæ·»åŠ åˆ°è‡ªå®šä¹‰é›†ä¸­ </li><li>sigdelset()    &#x2F;&#x2F;å°†æŒ‡å®šä¿¡å·ç½®ä¸º 0ï¼Œæ·»åŠ åˆ°è‡ªå®šä¹‰é›†ä¸­ </li><li>sigemptyset()  &#x2F;&#x2F;å°†æ‰€æœ‰ä¿¡å·ç½®ä¸º 0ï¼Œæ¸…ç©º</li><li>sigfillset()   &#x2F;&#x2F;å°†æ‰€æœ‰ä¿¡å·ç½®ä¸º 1ï¼Œå¡«å……</li><li>sigismember()  &#x2F;&#x2F;åˆ¤æ–­æŒ‡å®šä¿¡å·æ˜¯å¦å­˜åœ¨ï¼Œæ˜¯å¦ä¸º 1</li></ul></li><li><strong>ç³»ç»Ÿä¿¡å·é›†ï¼š</strong><ul><li>sigprocmask()   &#x2F;&#x2F;å°†è‡ªå®šä¹‰ä¿¡å·é›†è®¾ç½®ç»™é˜»å¡ä¿¡å·é›†ã€‚</li><li>sigprocmask()   &#x2F;&#x2F;è¯»å–å½“å‰ä¿¡å·çš„æœªå†³ä¿¡å·é›†ã€‚å‚æ•°ä¸ºè¾“å‡ºå‚æ•°ï¼Œå†…æ ¸å°†æœªå†³ä¿¡å·é›†å†™å…¥ set</li></ul></li><li><strong>ä¿¡å·æ•æ‰ï¼š</strong><ul><li>signal()        &#x2F;&#x2F;å®ç°ä¿¡å·æ•æ‰çš„åŠŸèƒ½ï¼›æœ€ç®€å•ä½¿ç”¨ä¸€ä¸ªå‡½æ•°ã€‚</li><li>sigaction()     &#x2F;&#x2F;åŒä¸Šï¼Œå¤šä¸€ä¸ªé¢å¤–åŠŸèƒ½ï¼Œè¿è¡ŒæœŸé—´èƒ½å¤Ÿ<strong>ä¸´æ—¶</strong> å±è”½æŒ‡å®šä¿¡å·</li></ul></li></ul><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š"></a>ç¼–ç¨‹ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>uos20</code> ğŸ“ <code>gcc/g++ 8.3</code> ğŸ“ <code>gdb8.0</code> </p><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14 </code> ğŸ“ <code>gcc/g++ 9.2</code> ğŸ“ <code>gdb8.3</code> </p><br><h3 id="æœªå†³ä¿¡å·é›†ï¼š"><a href="#æœªå†³ä¿¡å·é›†ï¼š" class="headerlink" title="æœªå†³ä¿¡å·é›†ï¼š"></a>æœªå†³ä¿¡å·é›†ï¼š</h3><ul><li><strong>æ¦‚å¿µï¼š</strong> æ²¡æœ‰è¢«å½“å‰è¿›ç¨‹å¤„ç†çš„ä¿¡å·</li></ul><h3 id="é˜»å¡ä¿¡å·é›†ï¼š"><a href="#é˜»å¡ä¿¡å·é›†ï¼š" class="headerlink" title="é˜»å¡ä¿¡å·é›†ï¼š"></a>é˜»å¡ä¿¡å·é›†ï¼š</h3><ul><li><strong>æ¦‚å¿µï¼š</strong> å°†æŸä¸ªä¿¡å·æ”¾åˆ°é˜»å¡ä¿¡å·é›†ä¸­ï¼Œè¿™ä¸ªä¿¡å·å°±ä¸ä¼šè¢«è¿›ç¨‹å¤„ç†ï¼›å½“é˜»å¡è§£é™¤åï¼Œä¿¡å·å°±ä¼šè¢«å¤„ç†ã€‚</li></ul><p>ç»˜ç”»ä¸€ä¸ªè‰å›¾ç†è§£ä¸€ä¸‹è¿™å‡ åˆ™ä¹‹é—´çš„å…³ç³»ï¼Œå½“ä¸€ä¸ªç¨‹åºè·‘èµ·æ¥ä¹‹åï¼Œä¼šç”Ÿæˆä¸€ä¸ªè¿›ç¨‹ï¼Œæœ‰è‡ªå·±è™šæ‹Ÿåœ°å€æ§ä»¶ï¼Œç„¶ååœ¨å†…æ ¸åŒºåŸŸçš„ PCB ä¸­ï¼Œæœ‰ç€æœªå†³ä¿¡å·é›†åˆé˜»å¡ä¿¡å·é›†ä¸¤ä¸ªï¼Œè¢«ç³»ç»Ÿå†…æ ¸æ‰€æ§åˆ¶ï¼ŒåŒ…æ‹¬å…¶å’Œè‡ªå®šä¹‰ä¿¡å·é›†çš„ç±»å‹éƒ½æ˜¯ä¸€æ ·çš„ã€‚å·¦ä¾§çš„æ•°å€¼æ˜¯ç³»ç»Ÿä¿¡å· 1-64(æˆ–æ›´å¤š)å¯¹åº”çš„ï¼Œç„¶åæ ¼å­é‡Œé¢çš„æ˜¯è¯¥ n å·ä¿¡å·å¯¹åº”çš„å€¼ï¼Œå€¼ä¸º 0 æˆ– 1ï¼›å½“å‘é€ä¸€ä¸ª 2 å·ä¿¡å·åœ¨æœªå†³ä¿¡å·é›†é‡Œé¢æ—¶å€™ï¼Œç³»ç»Ÿå°±ä¼šå»é˜»å¡ä¿¡å·é›†é‡Œé¢ç…§ç‰‡ 2 å·ä¿¡å·çš„å€¼ï¼Œè‹¥æ˜¯ä¸º 1ï¼Œè¡¨ç¤ºé˜»å¡ï¼Œä¸ä½œå¤„ç†ï¼Œè®©å…¶ä¸€ç›´å¾…åœ¨æœªå†³ä¿¡å·é›†ä¸­ï¼›è‹¥æ˜¯ä¸º 0ï¼Œåˆ™å°† 2 å·ä¿¡å·åœ¨æœªå†³ä¿¡å·é›†ä¸­çš„å€¼ä¿®æ”¹ä¸º 1ï¼Œä¸”å¯¹å‡ºå¯¹åº”çš„å¤„ç†ã€‚</p><p>è‹¥æ˜¯è¦ä¿®æ”¹é˜»å¡ä¿¡å·é›†åˆé‡Œé¢çš„å€¼ï¼Œåªèƒ½å¤Ÿå…ˆèµ‹å€¼å·è‡ªé¡¶ä¸€ä¸ªä¿¡å·é›†ï¼Œç„¶åå†è®²è‡ªå®šä¹‰çš„è¿™ä¸ªå€¼è®¾ç½®åˆ°ç³»ç»Ÿçš„é˜»å¡ä¿¡å·ä¸­ã€‚</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200407_233036.png" width="80%"/ loading="lazy"><br><h3 id="è‡ªå®šä¹‰ä¿¡å·é›†ï¼š"><a href="#è‡ªå®šä¹‰ä¿¡å·é›†ï¼š" class="headerlink" title="è‡ªå®šä¹‰ä¿¡å·é›†ï¼š"></a>è‡ªå®šä¹‰ä¿¡å·é›†ï¼š</h3><p>æŸ¥çœ‹ man æ–‡æ¡£ï¼Œé‡Œé¢å¸¸è§çš„ è‡ªå®šä¹‰ä¿¡å·é›† çš„æ¥å£å‡½æ•°ä¸ºå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">sigaddset</span><span class="token punctuation">(</span>sigset_t <span class="token operator">*</span>set<span class="token punctuation">,</span> <span class="token keyword">int</span> signo<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">//å°†æŒ‡å®šä¿¡å·ç½®ä¸º 1ï¼Œæ·»åŠ åˆ°è‡ªå®šä¹‰é›†ä¸­ </span><span class="token keyword">int</span> <span class="token function">sigdelset</span><span class="token punctuation">(</span>sigset_t <span class="token operator">*</span>set<span class="token punctuation">,</span> <span class="token keyword">int</span> signo<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">//å°†æŒ‡å®šä¿¡å·ç½®ä¸º 0ï¼Œæ·»åŠ åˆ°è‡ªå®šä¹‰é›†ä¸­ </span><span class="token keyword">int</span> <span class="token function">sigemptyset</span><span class="token punctuation">(</span>sigset_t <span class="token operator">*</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token comment">//å°†æ‰€æœ‰ä¿¡å·ç½®ä¸º 0ï¼Œæ¸…ç©º</span><span class="token keyword">int</span> <span class="token function">sigfillset</span><span class="token punctuation">(</span>sigset_t <span class="token operator">*</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">//å°†æ‰€æœ‰ä¿¡å·ç½®ä¸º 1ï¼Œå¡«å……</span><span class="token keyword">int</span> <span class="token function">sigismember</span><span class="token punctuation">(</span><span class="token keyword">const</span> sigset_t <span class="token operator">*</span>set<span class="token punctuation">,</span> <span class="token keyword">int</span> signo<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åˆ¤æ–­æŒ‡å®šä¿¡å·æ˜¯å¦å­˜åœ¨ï¼Œæ˜¯å¦ä¸º 1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="sigprocmask-å‡½æ•°ï¼š"><a href="#sigprocmask-å‡½æ•°ï¼š" class="headerlink" title="sigprocmask() å‡½æ•°ï¼š"></a>sigprocmask() å‡½æ•°ï¼š</h3><ul><li><strong>ä½œç”¨ï¼š</strong>  å°†è‡ªå®šä¹‰ä¿¡å·é›†è®¾ç½®ç»™é˜»å¡ä¿¡å·é›†ã€‚</li></ul><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">sigprocmask</span><span class="token punctuation">(</span><span class="token keyword">int</span> how<span class="token punctuation">,</span> <span class="token keyword">const</span> sigset_t <span class="token operator">*</span>restrict set<span class="token punctuation">,</span> sigset_t <span class="token operator">*</span>restrict oset<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><strong>å‚æ•°ï¼š</strong><ul><li><strong>howï¼š</strong> å‡è®¾å½“å‰å±è”½çš„ä¿¡å·å±è”½å­—ç¬¦ä¸º maskï¼›<ul><li><code>SIG_BLOCK</code>: ç›¸å½“äº <strong>mask &#x3D; mask | set</strong>  (set ä¸ºéœ€è¦å±è”½çš„ä¿¡å·é›†)</li><li><code>SIG_UNBLOCK</code>ï¼š ç›¸å½“äº <strong>mask &#x3D; mask &amp; ~set</strong>  (set ä¸ºéœ€è¦è§£é™¤å±è”½çš„ä¿¡å·é›†)</li><li><code>SIG_SETMASK</code>ï¼š ç›¸å½“äº <strong>mask &#x3D; set</strong>  (set ä¸ºç”¨äºæ›¿ä»£åŸå§‹å±è”½é›†çš„æ–°å±è”½é›†)</li></ul></li></ul></li></ul><br><h3 id="sigpending-å‡½æ•°ï¼š"><a href="#sigpending-å‡½æ•°ï¼š" class="headerlink" title="sigpending() å‡½æ•°ï¼š"></a>sigpending() å‡½æ•°ï¼š</h3><ul><li><strong>ä½œç”¨ï¼š</strong>  è¯»å–å½“å‰ä¿¡å·çš„æœªå†³ä¿¡å·é›†ã€‚å‚æ•°ä¸ºè¾“å‡ºå‚æ•°ï¼Œå†…æ ¸å°†æœªå†³ä¿¡å·é›†å†™å…¥ set</li></ul><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">sigpending</span><span class="token punctuation">(</span>sigset_t <span class="token operator">*</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br><h3 id="å†™ä¸€ä¸ªå°çš„ä¾‹å­ï¼š"><a href="#å†™ä¸€ä¸ªå°çš„ä¾‹å­ï¼š" class="headerlink" title="å†™ä¸€ä¸ªå°çš„ä¾‹å­ï¼š"></a>å†™ä¸€ä¸ªå°çš„ä¾‹å­ï¼š</h3><p>ç¼–å†™ä¸€ä¸ªå°çš„ä¾‹å­æ¥ä½¿ç”¨ä¸€ä¸‹ï¼Œè®¾ç½®é˜»å¡ä¿¡å·é›†ï¼Œå¹¶æŠŠæ‰€æœ‰å¸¸è§„çš„ä¿¡å·çš„æœªå†³çŠ¶æ€æ‰“å°åˆ°ç»ˆç«¯ã€‚</p><ul><li><p><strong>ä»£ç å®ç°ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/wait.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/time.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;signal.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        sigset_t pendest<span class="token punctuation">;</span>        <span class="token function">sigpending</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pendest<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">64</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">//æ¯éš”ä¸€ç§’ï¼Œå¯¹ç³»ç»Ÿä¿¡å·é˜»å¡é›†çš„ä¿¡å·åšä¸€æ¬¡æ ¡éªŒ</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">sigismember</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pendest<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">else</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><strong>è¿è¡Œæ•ˆæœï¼š</strong></p><p> è¿™é‡Œçš„ 1-64 å·ä¿¡å·ï¼Œåœ¨ç³»ç»Ÿçš„é˜»å¡ä¿¡å·é›†ä¸­ï¼Œéƒ½æ˜¯ 0ï¼Œè¯´æ˜è¯¥è¿›ç¨‹æ²¡æœ‰è®¾ç½®ä¿¡å·é˜»å¡ã€‚</p>  <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200408175735.gif" width="70%"/ loading="lazy"></li></ul><br><h3 id="ä¿¡å·æ•æ‰ï¼š"><a href="#ä¿¡å·æ•æ‰ï¼š" class="headerlink" title="ä¿¡å·æ•æ‰ï¼š"></a>ä¿¡å·æ•æ‰ï¼š</h3><p>åœ¨ Linux ä¸­ï¼Œ ç³»ç»Ÿä¼šé‡Šæ”¾ä¿¡å·ï¼Œç„¶åå†…æ ¸åˆä¼šæ ¹æ®è¿™ä¸ªä¿¡å·å¯¹å¯¹åº”çš„è¿›ç¨‹åšç›¸åº”çš„åŠ¨ä½œã€‚ç„¶åå¯¹äºä¿¡å·æ•æ‰å¸¸ç”¨æœ‰å¦‚ä¸‹å‡½æ•°çš„ä½¿ç”¨ã€‚</p><p>å…¶ä¸­åˆ†ä¸ºç®€å•çš„ <code>signal()</code> å‡½æ•°ï¼Œå’Œ <code>sigaction()</code> å‡½æ•°ï¼Œè¿™ä¸¤ä¸ªéƒ½èƒ½å¤Ÿæ•æ‰æŒ‡å®šçš„ä¿¡å·ï¼Œä¹Ÿæ¯”è¾ƒå¸¸ä½¿ç”¨</p><h4 id="signal-å‡½æ•°ï¼š"><a href="#signal-å‡½æ•°ï¼š" class="headerlink" title="signal() å‡½æ•°ï¼š"></a>signal() å‡½æ•°ï¼š</h4><p>å®ç°ä¿¡å·æ•æ‰çš„åŠŸèƒ½ï¼›æœ€ç®€å•ä¸€ä¸ªå‡½æ•°ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">typedef</span> <span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">*</span>sig_t<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>sig_t <span class="token function">signal</span><span class="token punctuation">(</span><span class="token keyword">int</span> sig<span class="token punctuation">,</span> sig_t func<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li><p>è¿™ä¸ªå‡½æ•°æ¯”è¾ƒç‰¹åˆ«ï¼Œå½“ç„¶ï¼Œä¹Ÿå¯ä»¥ç®€å†™ä¸º <code> void (* signal(int sig, void (*func)(int));)(int);</code> è¿™ç§å¤æ‚å½¢å¼çš„ã€‚</p><ul><li>ç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆï¼Œä½œä¸ºåé¢çš„å‡½æ•°çš„å›è°ƒå‡½æ•°ä½¿ç”¨ã€‚</li><li>ç¬¬äºŒè¡Œæ˜¯çœŸæ­£çš„ä¿¡å·æ•æ‰å‡½æ•°è°ƒç”¨</li></ul></li><li><p><strong>ä»£ç ä¾‹å­ï¼š</strong></p><p>å†™ä¸€ä¸ªä¾‹å­ï¼Œæ•æ‰ä¿¡å· <code>SIGINT</code> å‡½æ•°ï¼Œé”®ç›˜æŒ‰ä¸‹ <code>ctrl + c</code> ä¼šå‘å°„æ­¤ä¿¡å·ï¼Œç„¶åä¿è¯æ­¤è¿›ç¨‹æ²¡æœ‰ç»ˆæ­¢æˆ–è€…æ­»äº¡çš„æƒ…å†µä¸‹ï¼Œæ•æ‰è¿™ä¸ªå‡½æ•°ï¼Œåšå‡ºè‡ªå®šä¹‰çš„è¡Œä¸ºï¼Œå…·ä½“çš„åœ¨ func() å‡½æ•°é‡Œé¢å®ç°ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/wait.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/time.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;signal.h></span></span><span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">int</span> no<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ç”¨ä½œå›è°ƒå‡½æ•°ï¼Œç»™ signal() è°ƒç”¨</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">signal</span><span class="token punctuation">(</span>SIGINT<span class="token punctuation">,</span> func<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è®¾ç½®ä¿¡å·æ•æ‰å‡½æ•°ï¼Œ æ•æ‰ ctrl + c</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Keep the thread running for the non-death state.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">int</span> no<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"æ•æ‰çš„ä¿¡å·ä¸º: %d\n"</span><span class="token punctuation">,</span> no<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><strong>è¿è¡Œæ•ˆæœï¼š</strong></p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200408175755.gif" width="80%"/ loading="lazy"></li></ul><br><h4 id="Unix-ä¸­çš„-sigaction-å‡½æ•°ï¼š"><a href="#Unix-ä¸­çš„-sigaction-å‡½æ•°ï¼š" class="headerlink" title="Unix ä¸­çš„ sigaction() å‡½æ•°ï¼š"></a>Unix ä¸­çš„ sigaction() å‡½æ•°ï¼š</h4><p>æ•æ‰ä¿¡å·çš„å‡½æ•°ï¼Œæ¯”ä¸Šé¢ä½¿ç”¨ç•¥å¾®å¤æ‚ç‚¹ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªé¢å¤–çš„åŠŸèƒ½ï¼Œ<strong>å¯ä»¥åœ¨ç¨‹åºè¿è¡ŒæœŸé—´ï¼Œä¸´æ—¶å±è”½æŒ‡å®šçš„ä¿¡å·ã€‚</strong> </p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">sigaction</span><span class="token punctuation">(</span><span class="token keyword">int</span> sig<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">struct</span> <span class="token class-name">sigaction</span> <span class="token operator">*</span>restrict act<span class="token punctuation">,</span> <span class="token keyword">struct</span> <span class="token class-name">sigaction</span> <span class="token operator">*</span>restrict oact<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/* union for signal handlers */</span><span class="token keyword">union</span> __sigaction_u <span class="token punctuation">&#123;</span><span class="token keyword">void</span>    <span class="token punctuation">(</span><span class="token operator">*</span>__sa_handler<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span>    <span class="token punctuation">(</span><span class="token operator">*</span>__sa_sigaction<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">struct</span> <span class="token class-name">__siginfo</span> <span class="token operator">*</span><span class="token punctuation">,</span>    <span class="token keyword">void</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">/* Signal vector template for Kernel user boundary */</span><span class="token keyword">struct</span>  <span class="token class-name">__sigaction</span> <span class="token punctuation">&#123;</span><span class="token keyword">union</span> __sigaction_u __sigaction_u<span class="token punctuation">;</span>  <span class="token comment">/* signal handler */</span><span class="token keyword">void</span>    <span class="token punctuation">(</span><span class="token operator">*</span>sa_tramp<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">,</span> siginfo_t <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">void</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//å·²è¢«åºŸå¼ƒçš„å‚æ•°ï¼Œä¸å¡«</span>sigset_t sa_mask<span class="token punctuation">;</span>               <span class="token comment">/* signal mask to apply */</span><span class="token keyword">int</span>     sa_flags<span class="token punctuation">;</span>               <span class="token comment">/* see signal options below */</span> <span class="token comment">//åœ¨ä¿¡å·å¤„ç†å‡½æ•°æ‰§è¡Œä¸­ï¼Œæ˜¯ "ä¸´æ—¶" å±è”½æŒ‡å®šä¿¡å·</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">/* if SA_SIGINFO is set, sa_sigaction is to be used instead of sa_handler. */</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">sa_handler</span>      <span class="token expression">__sigaction_u<span class="token punctuation">.</span>__sa_handler</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">sa_sigaction</span>    <span class="token expression">__sigaction_u<span class="token punctuation">.</span>__sa_sigaction</span></span><span class="token comment">//--------------------------------------------------------------------</span><span class="token comment">//__sigaction() å‡½æ•°ä¹Ÿå¯ä»¥ æ”¹ä¸ºä½¿ç”¨ sigaction() å‡½æ•°</span><span class="token comment">/* * Signal vector "template" used in sigaction call. */</span><span class="token keyword">struct</span>  <span class="token class-name">sigaction</span> <span class="token punctuation">&#123;</span><span class="token keyword">union</span> __sigaction_u __sigaction_u<span class="token punctuation">;</span>  <span class="token comment">/* signal handler */</span>sigset_t sa_mask<span class="token punctuation">;</span>               <span class="token comment">/* signal mask to apply */</span><span class="token keyword">int</span>     sa_flags<span class="token punctuation">;</span>               <span class="token comment">/* see signal options below */</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><strong>å‚æ•°ï¼š</strong><ul><li>sigï¼š æ•æ‰çš„ä¿¡å·</li><li>actï¼š æ–°çš„ï¼Œå°†è¦æ‰§è¡Œçš„è‡ªå®šä¹‰åŠ¨ä½œçš„è®¾å®šæ“ä½œ</li><li>oactï¼š è¢«è®¾ç½®ä¹‹å‰çš„æ—§çš„è®¾å®šçš„æ“ä½œå—ï¼Œä¸€èˆ¬ä¸éœ€è¦ï¼Œä¼ å…¥ NULL</li></ul></li></ul><p>restrictæ˜¯c99æ ‡å‡†å¼•å…¥çš„ï¼Œå®ƒåªå¯ä»¥ç”¨äºé™å®šå’Œçº¦æŸæŒ‡é’ˆï¼Œå¹¶è¡¨æ˜æŒ‡é’ˆæ˜¯è®¿é—®ä¸€ä¸ªæ•°æ®å¯¹è±¡çš„å”¯ä¸€ä¸”åˆå§‹çš„æ–¹å¼.å³å®ƒå‘Šè¯‰ç¼–è¯‘å™¨ï¼Œæ‰€æœ‰ä¿®æ”¹è¯¥æŒ‡é’ˆæ‰€æŒ‡å‘å†…å­˜ä¸­å†…å®¹çš„æ“ä½œéƒ½å¿…é¡»é€šè¿‡è¯¥æŒ‡é’ˆæ¥ä¿®æ”¹,è€Œä¸èƒ½é€šè¿‡å…¶å®ƒé€”å¾„(å…¶å®ƒå˜é‡æˆ–æŒ‡é’ˆ)æ¥ä¿®æ”¹;è¿™æ ·åšçš„å¥½å¤„æ˜¯,èƒ½å¸®åŠ©ç¼–è¯‘å™¨è¿›è¡Œæ›´å¥½çš„ä¼˜åŒ–ä»£ç ,ç”Ÿæˆæ›´æœ‰æ•ˆç‡çš„æ±‡ç¼–ä»£ç .å¦‚ int *restrict ptr, ptr æŒ‡å‘çš„å†…å­˜å•å…ƒåªèƒ½è¢« ptr è®¿é—®åˆ°ï¼Œä»»ä½•åŒæ ·æŒ‡å‘è¿™ä¸ªå†…å­˜å•å…ƒçš„å…¶ä»–æŒ‡é’ˆéƒ½æ˜¯æœªå®šä¹‰çš„ï¼Œç›´ç™½ç‚¹å°±æ˜¯æ— æ•ˆæŒ‡é’ˆ(é‡æŒ‡é’ˆ)ã€‚è¿™ä¸ªå…³é”®å­—åªèƒ½åœ¨C99æ ‡å‡†çš„Cç¨‹åºé‡Œä½¿ç”¨ï¼ŒC++ç¨‹åºä¸æ”¯æŒï¼Œrestrictçš„èµ·æºæœ€æ—©å¯ä»¥è¿½æº¯åˆ°Fortranã€‚</p><ul><li><p><strong>å†™ä¸€ä¸ªä¾‹å­ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/wait.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/time.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;signal.h></span></span><span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">int</span> no<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ç”¨ä½œå›è°ƒå‡½æ•°</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    __sigaction_u sigactu<span class="token punctuation">;</span>    sigactu<span class="token punctuation">.</span>__sa_handler <span class="token operator">=</span> func<span class="token punctuation">;</span> <span class="token comment">//å¦ä¸€ä¸ªå˜é‡ sigactu.__sa_sigaction ä¸ç”¨èµ‹å€¼</span>    <span class="token keyword">struct</span> <span class="token class-name">sigaction</span> act<span class="token punctuation">;</span>    act<span class="token punctuation">.</span>sa_flags <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>     <span class="token comment">//é€šå¸¸ç»™ 0</span>    act<span class="token punctuation">.</span>__sigaction_u <span class="token operator">=</span> sigactu<span class="token punctuation">;</span>    <span class="token function">sigemptyset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>act<span class="token punctuation">.</span>sa_mask<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ¸…ç©º è‡ªå®šä¹‰ä¿¡å·é›†</span>    <span class="token function">sigaddset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>act<span class="token punctuation">.</span>sa_mask<span class="token punctuation">,</span> SIGQUIT<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//å‘æŒ‡å®š ç³»ç»Ÿé˜»å¡é›† ä¸­å†™å…¥ è‡ªå®šä¹‰çš„ä¿¡å·é›†ï¼Œæ·»åŠ éœ€è¦å±è”½çš„ä¿¡å·(ctrl + åæ–œæ  è§¦å‘)</span>    <span class="token function">sigaction</span><span class="token punctuation">(</span>SIGINT<span class="token punctuation">,</span> <span class="token operator">&amp;</span>act<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Keep the thread running for the non-death state.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">int</span> no<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"æ•æ‰çš„ä¿¡å·ä¸º: %d\n"</span><span class="token punctuation">,</span> no<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"é†’äº†\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><strong>åˆ†æè¿è¡Œï¼š</strong></p><p>è¿™é‡Œæ•…æ„è¿è¡Œä¸¤æ¬¡ï¼š</p><p><font color=#D0087E size=4 face="å¹¼åœ†"><strong>ç¬¬ä¸€æ¬¡ï¼š</strong></font>  å…ˆæŒ‰ä¸‹ <code>ctrl + c</code> å‘å°„ 2 å·ä¿¡å· <code>SIGINT</code>ï¼Œ ç­‰å¾…å…¶æ”¶åˆ°ä¿¡å·åï¼Œ<strong>æ‰§è¡Œ 3s å</strong> ï¼Œå°† func() å†…å®¹è·‘å®Œï¼Œ<strong>å†æ¬¡æŒ‰ä¸‹</strong>  <code>ctrl + \</code> å‘å°„å…¶ä»–ä¿¡å· <code>SIGINT</code>ï¼Œç³»ç»Ÿæ”¶åˆ°åï¼Œ<font color=#FF0000  size=4 face="å¹¼åœ†">ç¨‹åºç«‹å³æ­»äº¡ï¼ˆæ­¤æ—¶è¯¥ <code>SIGINT</code> å·²ç»è¿‡äº†ä¸´æ­»å±è”½çš„çŠ¶æ€ï¼‰</font></p><p><font color=#D0087E size=4 face="å¹¼åœ†"><strong>ç¬¬äºŒæ¬¡ï¼š</strong></font>  å…ˆæŒ‰ä¸‹ <code>ctrl + c</code> å‘å°„ 2 å·ä¿¡å· <code>SIGINT</code>ï¼Œ ç­‰å¾…å…¶æ”¶åˆ°ä¿¡å·åï¼Œ<strong>æ‰§è¡Œä¸åˆ° 3s</strong>  ï¼Œfunc() å†…å®¹è¿˜æ²¡è·‘å®Œï¼Œ<strong>ç«‹å³æŒ‰ä¸‹</strong>  <code>ctrl + \</code> å‘å°„å…¶ä»–ä¿¡å· <code>SIGINT</code>ï¼Œç³»ç»Ÿæ”¶åˆ°åï¼Œ<font color=#FF0000  size=4 face="å¹¼åœ†">ç¨‹åºæ²¡æœ‰ç«‹å³æ­»äº¡ï¼ˆæ­¤æ—¶è¯¥ <code>SIGINT</code>Â æ­£å¤„äºä¸´æ­»å±è”½çš„çŠ¶æ€ï¼‰ï¼Œ è€Œæ˜¯è¿‡äº†å‡ ç§’é’Ÿåœ¨æ­»äº¡ã€‚</font></p></li><li><p><strong>è¿è¡Œæ•ˆæœ:</strong></p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200410_224339.png" width="60%"/ loading="lazy"></li></ul><br><h4 id="Linux-ä¸­çš„-sigaction-å‡½æ•°ï¼š"><a href="#Linux-ä¸­çš„-sigaction-å‡½æ•°ï¼š" class="headerlink" title="Linux ä¸­çš„ sigaction() å‡½æ•°ï¼š"></a>Linux ä¸­çš„ sigaction() å‡½æ•°ï¼š</h4><p>Linux ä¸­çš„è¯¥å‡½æ•°ï¼Œå’Œ Unix æœ‰ç‚¹ä¸ä¸€è‡´ï¼Œ<strong>ä½†ä¸»è¦å¡«å†™çš„å››ä¸ªå‚æ•°æ˜¯ä¸€æ ·çš„ï¼Œè¿™æ˜¯ä¸å˜çš„ï¼›</strong> </p><p>è¿™é‡Œè´´å‡º Linux ä¸‹çš„å‡½æ•°åŸå‹ï¼Œå¯ä»¥å’Œ Unix ä¸‹çš„ <code>sigaction()</code> æ¯”è¾ƒä¸€ä¸‹ï¼š</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200410_221353.png" width="70%"/ loading="lazy"> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200410_221434.png" width="70%"/ loading="lazy"><br><h3 id="ä¸‹è½½åœ°å€ï¼š"><a href="#ä¸‹è½½åœ°å€ï¼š" class="headerlink" title="ä¸‹è½½åœ°å€ï¼š"></a>ä¸‹è½½åœ°å€ï¼š</h3><p> <a href="https://github.com/xmuli/linuxExample/tree/master/15_sys_usr_signal">15_sys_usr_signal</a></p><p>æ¬¢è¿ star å’Œ fork è¿™ä¸ªç³»åˆ—çš„ linux å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸­ç³»ç»Ÿä¿¡å·åˆè¯†ï¼Œå’Œå‡½æ•°killï¼Œraiseï¼Œabortï¼Œalarmï¼Œsetitimer</title>
      <link href="/posts/cef3b890/"/>
      <url>/posts/cef3b890/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€æ­¤å¤„æŒ‡ Linux ä¸­ç³»ç»Ÿå†…æ ¸å‘å‡ºçš„ä¿¡å·ï¼›è€Œä¸æ˜¯ä¹‹å‰ Qt å­¦ä¹ çš„ä¿¡å·ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š"></a>ç¼–ç¨‹ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>uos20</code> ğŸ“ <code>gcc/g++ 8.3</code> ğŸ“ <code>gdb8.0</code> </p><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14 </code> ğŸ“ <code>gcc/g++ 9.2</code> ğŸ“ <code>gdb8.3</code> </p><br><h3 id="ä¿¡å·åˆè¯†ï¼š"><a href="#ä¿¡å·åˆè¯†ï¼š" class="headerlink" title="ä¿¡å·åˆè¯†ï¼š"></a>ä¿¡å·åˆè¯†ï¼š</h3><ul><li><p><strong>ç‰¹ç‚¹ï¼š</strong></p><ul><li>ç®€å•</li><li>æºå¸¦ä¿¡æ¯é‡å¾ˆå°‘</li><li>ç”¨åœ¨æŸä¸ªç‰¹å®šçš„åœºæ™¯ä¸­</li></ul></li><li><p><strong>å‹å·çš„çŠ¶æ€ï¼š</strong></p><ul><li><strong>äº§ç”ŸåŸå› ï¼š</strong><ol><li>é”®ç›˜ Ctrl + C</li><li>å‘½ä»¤ï¼škill</li><li>ç³»ç»Ÿå‡½æ•°ï¼škill()</li><li>è½¯æ¡ä»¶ï¼šå®šæ—¶å™¨</li><li>ç¡¬ä»¶ï¼šæ®µé”™è¯¯ï¼Œé™¤ 0 é”™è¯¯</li></ol></li><li><strong>æœªå†³çŠ¶æ€</strong>  â€“ æ²¡æœ‰è¢«å¤„ç†</li><li><strong>é€’è¾¾çŠ¶æ€</strong>  â€“ ä¿¡å·è¢«å¤„ç†äº†</li></ul></li><li><p><strong>å¤„ç†æ–¹å¼ï¼š</strong></p><ul><li>å¿½ç•¥</li><li>æ•æ‰ï¼Œç„¶åè‡ªå®šä¹‰åŠ¨ä½œ</li><li>æ‰§è¡Œäº†é»˜è®¤åŠ¨ä½œ</li></ul></li><li><p><strong>ä¿¡å·çš„å››è¦ç´ ï¼š</strong></p><ul><li><p>ä¿¡å·åã€ä¿¡å·ç¼–å·ã€ä¿¡å·é»˜è®¤åŠ¨ä½œã€äº‹ä»¶æè¿°</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200405_210927.png" width="100%"/ loading="lazy"></li><li><p>â€œåŠ¨ä½œ(Action)â€æ  çš„ å­—æ¯ æœ‰ ä¸‹åˆ— å«ä¹‰:</p><table><thead><tr><th>A</th><th>ç¼ºçœåŠ¨ä½œæ˜¯ç»“æŸè¿›ç¨‹.</th></tr></thead><tbody><tr><td>B</td><td>ç¼ºçœåŠ¨ä½œæ˜¯å¿½ç•¥è¿™ä¸ªä¿¡å·.</td></tr><tr><td>C</td><td>ç¼ºçœåŠ¨ä½œæ˜¯ç»“æŸè¿›ç¨‹, å¹¶ä¸”æ ¸å¿ƒè½¬å‚¨.</td></tr><tr><td>D</td><td>ç¼ºçœåŠ¨ä½œæ˜¯åœæ­¢è¿›ç¨‹.</td></tr><tr><td>E</td><td>ä¿¡å·ä¸èƒ½è¢«æ•è·.</td></tr><tr><td>F</td><td>ä¿¡å·ä¸èƒ½è¢«å¿½ç•¥.</td></tr></tbody></table><p>è¯‘æ³¨: è¿™é‡Œ â€œç»“æŸâ€ æŒ‡ è¿›ç¨‹ ç»ˆæ­¢ å¹¶ é‡Šæ”¾èµ„æº, â€œåœæ­¢â€ æŒ‡ è¿›ç¨‹ åœæ­¢ è¿è¡Œ, ä½†æ˜¯ èµ„æº æ²¡æœ‰ é‡Šæ”¾ï¼Œæœ‰å¯èƒ½ ç»§ç»­ è¿è¡Œã€‚</p></li></ul></li><li><p><strong>é€šè¿‡ man æ–‡æ¡£æŸ¥çœ‹ä¿¡å·</strong></p><ul><li>æ‰§è¡Œ <code>man 7 signal</code></li><li><font color=#FF0000  size=4 face="å¹¼åœ†">æ³¨æ„(man æ‰‹å†Œä¸­æœ‰å†™)ï¼š<code>SIGKILL</code>ã€<code>SIGSTOP</code> è¿™ä¸¤ä¸ªä¿¡å·ä¸èƒ½å¤Ÿè¢«æ•æ‰ï¼Œé˜»å¡ï¼Œå¿½ç•¥çš„</font></li></ul><blockquote><p> The signals SIGKILL and SIGSTOP cannot be caught, blocked, or ignored.</p></blockquote></li><li><p><strong>æ¦‚å¿µï¼šé˜»å¡ä¿¡å·é›†ï¼Œæœªå†³ä¿¡å·é›†</strong></p><ul><li>æ˜¯åœ¨ PCB ä¸­</li><li>é˜»å¡ä¿¡å·é›†ï¼šè®©ä¿¡å·å¤„äºä¸€ä¸ªæœªå†³çš„çŠ¶æ€</li><li>æœªå†³ä¿¡å·é›†ï¼šå¦‚æœä¿¡å·è¢«é˜»å¡äº†ï¼Œè¯¥ä¿¡å·é›†ä¼šå¯¹é˜»å¡çš„ä¿¡å·åšè®°å½•</li></ul></li><li><p><strong>å›¾è§£è¿›ç¨‹äº§ç”Ÿå’Œå¤„ç†ï¼š</strong></p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200405_212602.png" width="50%"/ loading="lazy"> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200405_212734.png" width="70%"/ loading="lazy"></li></ul><br><h3 id="kill-å‡½æ•°ï¼š"><a href="#kill-å‡½æ•°ï¼š" class="headerlink" title="kill() å‡½æ•°ï¼š"></a>kill() å‡½æ•°ï¼š</h3><p><strong>ä½œç”¨ï¼š</strong> å‘å°„ä¿¡å·ç»™æŒ‡å®šè¿›ç¨‹ã€æˆ–è€…åŒç»„çš„ä¿¡å·ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">kill</span><span class="token punctuation">(</span>pid_t pid<span class="token punctuation">,</span> <span class="token keyword">int</span> sig<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><p><strong>å‚æ•°ï¼š</strong></p><ul><li>pidï¼š<ul><li>pid &gt; 0ï¼› å‘é€ä¿¡å·ç»™æŒ‡å®šçš„è¿›ç¨‹</li><li>pid &#x3D; 0ï¼› å‘é€ä¿¡å·ç»™ è°ƒç”¨ kill å‡½æ•°è¿›ç¨‹å±äºåŒä¸€ä¸ªç»„çš„æ‰€æœ‰è¿›ç¨‹</li><li>pid &#x3D; -1ï¼›å¦‚æœç”¨æˆ·æ‹¥æœ‰è¶…çº§ç”¨æˆ·æƒé™ï¼Œåˆ™ä¿¡å·å°†è¢«å‘é€åˆ°æ‰€æœ‰è¿›ç¨‹</li><li>pid &lt; -1ï¼›å– |pid| å‘ç»™å¯¹åº”è¿›ç¨‹ç»„</li></ul></li><li>sigï¼š<ul><li>æ¨èä½¿ç”¨å®Œæ•´çš„å®åç§°è€Œéæ•°å­—ï¼Œåœ¨å°‘æ•°å‘è¡Œç‰ˆä¸‹ï¼Œå¯èƒ½æŒ‡å®šå®å¯¹åº”çš„æ•°å€¼æœ‰å˜åŒ–</li></ul></li></ul></li><li><p><strong>è¿”å›å€¼ï¼š</strong></p><ul><li>æˆåŠŸï¼š 0</li><li>å¤±è´¥ï¼š-1ï¼ˆID éæ³•ï¼Œä¿¡å·éæ³•ï¼Œæ™®é€šä¿¡å·æ€ initè¿›ç¨‹ç­‰æƒé™çº§åˆ«é—®é¢˜ï¼Œè®¾ç½® errnoï¼‰</li></ul></li></ul><p>å†™ä¸€ä¸ªå°çš„ä¾‹å­éªŒè¯ kill ä¿¡å·çš„ä½¿ç”¨ï¼Œå­è¿›ç¨‹åœ¨ 5S åï¼Œé€šçŸ¥ç³»ç»Ÿå†…æ ¸å‘é€ SIGKILL ç»™å®ƒçš„çˆ¶è¿›ç¨‹ï¼Œç„¶åç³»ç»Ÿå°†çˆ¶è¿›ç¨‹æ€æ­»ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    pid_t pid <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"this is a parent process = %d\n"</span><span class="token punctuation">,</span> <span class="token function">getpid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">kill</span><span class="token punctuation">(</span><span class="token function">getppid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> SIGKILL<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œæ•ˆæœï¼š</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200406_163402.png" width="60%"/ loading="lazy"><br><h3 id="raise-å‡½æ•°ï¼š"><a href="#raise-å‡½æ•°ï¼š" class="headerlink" title="raise() å‡½æ•°ï¼š"></a>raise() å‡½æ•°ï¼š</h3><p><strong>ä½œç”¨ï¼š</strong> è‡ªå·±ç»™è‡ªå·±å‘å°„ä¿¡å·ã€‚åœ¨å•çº¿ç¨‹ç¨‹åºä¸­ï¼Œå®ƒç›¸å½“äº kill(getpid(), sig)ï¼›</p><p>åœ¨ä¸€ä¸ªå¤šçº¿ç¨‹ç¨‹åºä¸­ï¼Œå®ƒç­‰åŒäº pthread_kill(pthread_self(), sig)ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">raise</span><span class="token punctuation">(</span><span class="token keyword">int</span> sig<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¯”è¾ƒç®€å•ï¼Œä½†ä¾æ—§å†™ä¸€ä¸ªä¾‹å­ä½¿ç”¨ä¸€ä¸‹ï¼šå­è¿›ç¨‹ç»™æœºå­å‘å°„ç»ˆæ­¢è¿›ç¨‹çš„ä¿¡å·ã€‚ç„¶åçˆ¶è¿›ç¨‹åœ¨å›æ”¶å­è¿›ç¨‹çš„æ—¶å€™ï¼Œç­”åº”å…¶æ­»äº¡çš„ä¿¡å·å€¼</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    pid_t pid <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> s<span class="token punctuation">;</span>        pid_t wpid <span class="token operator">=</span> <span class="token function">wait</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"this is a child process dide pid = %d\n"</span><span class="token punctuation">,</span> wpid<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">WIFSIGNALED</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"dide by signal: %d\n"</span><span class="token punctuation">,</span> <span class="token function">WTERMSIG</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">raise</span><span class="token punctuation">(</span>SIGINT<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ç»™è‡ªå·±å‘å°„ä¿¡å·</span>    <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»£ç ä¸­ 19 è¡Œï¼Œé€‰ä¸­çš„ <code>SIGINT</code> ä¿¡å·ï¼Œé»˜è®¤åŠ¨ä½œæ˜¯ç»ˆæ­¢è¿›ç¨‹ã€‚å…¶å¯¹åº”çš„äº‹ä»¶ä¸º å½“ç”¨æˆ·æŒ‰ä¸‹&lt;ctrl + c&gt;ç»„åˆé”®æ—¶å€™ï¼Œ<strong>ç”¨æˆ·ç»ˆç«¯å‘æ­£åœ¨è¿è¡Œä¸­çš„</strong> ï¼ˆç”±è¯¥ç»ˆç«¯å¯åŠ¨çš„ï¼‰<strong>ç¨‹åº å‘å‡ºæ­¤ä¿¡å·ã€‚</strong> </p><p>è¿è¡Œæˆªå›¾ï¼š</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200406_171152.png" width="70%"/ loading="lazy"><br><h3 id="abort-å‡½æ•°ï¼š"><a href="#abort-å‡½æ•°ï¼š" class="headerlink" title="abort() å‡½æ•°ï¼š"></a>abort() å‡½æ•°ï¼š</h3><p><strong>ä½œç”¨ï¼š</strong> ç»™è‡ªå·±å‘é€å¼‚å¸¸ç»ˆæ­¢çš„ä¿¡å·ã€‚è¯¥å‡½æ•°æ²¡æœ‰å‚æ•°å’Œè¿”å›å€¼ï¼Œä¹Ÿæ°¸è¿œä¸ä¼šè°ƒç”¨å¤±è´¥ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">abort</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br><h3 id="å®šæ—¶å™¨ï¼š"><a href="#å®šæ—¶å™¨ï¼š" class="headerlink" title="å®šæ—¶å™¨ï¼š"></a>å®šæ—¶å™¨ï¼š</h3><h4 id="alarm-å‡½æ•°ï¼š"><a href="#alarm-å‡½æ•°ï¼š" class="headerlink" title="alarm() å‡½æ•°ï¼š"></a>alarm() å‡½æ•°ï¼š</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">unsigned</span> <span class="token keyword">int</span> <span class="token function">alarm</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span> seconds<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><p>è®¾ç½®å®šæ—¶å™¨ï¼ˆæ¯ä¸€ä¸ªè¿›ç¨‹åªæœ‰ä¸€ä¸ªå®šæ—¶å™¨ï¼‰</p></li><li><p>ä½¿ç”¨çš„æ˜¯è‡ªç„¶å®šæ—¶æ³•åˆ™ï¼›ä¸å—è¿›ç¨‹çŠ¶æ€çš„å½±å“</p></li><li><p>å½“æ—¶é—´åˆ°è¾¾ä¹‹åï¼Œå‡½æ•°å‘å‡ºä¸€ä¸ªä¿¡å· <code>SIGALRM</code></p><ul><li>SIGALRM â€“ è°ƒç”¨ abort() å‡½æ•°æ—¶å€™äº§ç”Ÿè¯¥ä¿¡å· â€“ ç»ˆæ­¢è¿›ç¨‹å¹¶äº§ç”Ÿ core æ–‡ä»¶</li></ul></li><li><p>è¿”å›å€¼ï¼šå§‹ç»ˆæ˜¯è¿”å›ä¸Šä¸€æ¬¡è°ƒç”¨æ­¤å‡½æ•°ï¼Œè¿˜å‰©äº›çš„æ—¶é—´ã€‚</p></li><li><p><strong>å†™ä¸€ä¸ªä¾‹å­ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">alarm</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ret = %d\n"</span><span class="token punctuation">,</span> ret<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ret <span class="token operator">=</span> <span class="token function">alarm</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//é‡æ–°è®¾å®šå®šæ—¶å™¨ï¼Œè¿”å›å€¼æ˜¯è¿”å›ä¹‹å‰é—¹é’Ÿçš„å‰©ä½™çš„æ—¶é—´</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ret = %d\n"</span><span class="token punctuation">,</span> ret<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"-------test-----\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><strong>åˆ†æï¼š</strong></p><p>è¿™é‡Œ ret &#x3D; 0 ï¼Œæ˜¯å› ä¸ºç¬¬ä¸€æ¬¡è°ƒç”¨ï¼Œå®ƒçš„ä¸Šä¸€æ¬¡çš„å‰©ä½™æ—¶é—´ä¸º 0ï¼›ç„¶å ret &#x3D; 3 æ˜¯å› ä¸º 5 - 2 sï¼Œç„¶åå®šæ—¶å™¨è¢«å……é‡ç½®äº†æ–°çš„ 10 sã€‚æ•…åé¢ä¼šæ‰“å° 10 æ¬¡è¾“å‡ºè¯­å¥ï¼Œç„¶åæ”¶åˆ°ç³»ç»Ÿçš„ç»ˆæ­¢ä¿¡å·ï¼Œæ€æ­»æœ¬è¿›ç¨‹ã€‚å› ä¸ºæ˜¯æ‰§è¡Œçš„ <code>alarm()</code> çš„é»˜è®¤åŠ¨ä½œï¼Œä¸ºç»ˆæ­¢è¿›ç¨‹ï¼Œä¸”æ²¡æœ‰æ•æ‰è¯¥å‡½æ•°å‘å°„çš„å¯¹åº”çš„ä¿¡å·ï¼Œä¹Ÿæ²¡æœ‰å®šä¹‰è‡ªå®šä¹‰åŠ¨ä½œï¼Œæ‰€ä»¥æœ¬è¿›ç¨‹ä¼šè¢«ç»ˆæ­¢ã€‚</p></li><li><p><strong>è¿è¡Œç»“æœï¼š</strong></p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200406_173535.png" width="50%"/ loading="lazy"></li></ul><h4 id="åˆ†æç¨‹åºè¿è¡Œçš„æŸè€—ï¼š"><a href="#åˆ†æç¨‹åºè¿è¡Œçš„æŸè€—ï¼š" class="headerlink" title="åˆ†æç¨‹åºè¿è¡Œçš„æŸè€—ï¼š"></a>åˆ†æç¨‹åºè¿è¡Œçš„æŸè€—ï¼š</h4><p><font color=#FF0000  size=5 face="å¹¼åœ†">å®é™…è€—æ—¶ &#x3D;&#x3D;  ç”¨æˆ· +  ç³»ç»Ÿ + æŸè€— </font></p><ul><li><p>å†™ä¸€ä¸ªä¾‹å­ï¼Œæ£€æµ‹ä¸€ä¸‹è®¡ç®—æœºåœ¨ 1s å†…å¯ä»¥è®¡ç®—å¤šå°‘ä¸ªæ•°å­—ï¼Ÿ</p></li><li><p><strong>ä»£ç å¦‚ä¸‹:</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">alarm</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> n<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><strong>è¿è¡Œæ¼”ç¤ºï¼š</strong></p><p>åˆ†æï¼šå…¶ä¸­æŸè€—æ–‡ä»¶æ¥è‡ªæ–‡ä»¶ IO æ“ä½œ</p><p><strong>è¾“å‡ºåˆ°ç»ˆç«¯ï¼š</strong> 1.012 &#x3D; 0.31 + 0.34 + æŸè€— ï¼ˆçº¦  70wï¼‰</p><p><strong>è¾“å‡ºåˆ°æ–‡ä»¶ï¼š</strong> 1.012 &#x3D; 0.93 + 0.07 + æŸè€— ï¼ˆçº¦ 800wï¼‰</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//æ‰§è¡Œ time ./myAlarmCountï¼ˆè¾“å‡ºåˆ°ç»ˆç«¯ï¼‰</span><span class="token number">0.31</span>s user <span class="token number">0.34</span>s system <span class="token number">64</span><span class="token operator">%</span>   cpu <span class="token number">1.012</span> <span class="token function">total</span>  <span class="token punctuation">(</span>è¾“å‡ºåˆ° <span class="token number">692977</span><span class="token punctuation">)</span>  <span class="token comment">//time ./myAlarmCount > fileï¼ˆè¾“å‡ºåˆ°æ–‡æœ¬ï¼‰</span><span class="token number">0.93</span>s user <span class="token number">0.07</span>s system <span class="token number">98</span><span class="token operator">%</span>   cpu <span class="token number">1.012</span> <span class="token function">total</span>  <span class="token punctuation">(</span>è¾“å‡ºåˆ° <span class="token number">8686215</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><br><h4 id="setitimer-å‡½æ•°ï¼š"><a href="#setitimer-å‡½æ•°ï¼š" class="headerlink" title="setitimer() å‡½æ•°ï¼š"></a>setitimer() å‡½æ•°ï¼š</h4><ul><li><strong>ä½œç”¨ï¼š</strong> å®šæ—¶å™¨ï¼Œå¹¶ä¸”å®ç°<strong>å‘¨æœŸæ€§</strong> å®šæ—¶ã€‚</li></ul><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">setitimer</span><span class="token punctuation">(</span><span class="token keyword">int</span> which<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">struct</span> <span class="token class-name">itimerval</span> <span class="token operator">*</span>new_value<span class="token punctuation">,</span> <span class="token keyword">struct</span> <span class="token class-name">itimerval</span> <span class="token operator">*</span>old_value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">itimerval</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">struct</span> <span class="token class-name">timeval</span> it_interval<span class="token punctuation">;</span> <span class="token comment">/* å®šæ—¶å™¨çš„å¾ªç¯å‘¨æœŸ */</span>  <span class="token keyword">struct</span> <span class="token class-name">timeval</span> it_value<span class="token punctuation">;</span>    <span class="token comment">/* ç¬¬ä¸€æ¬¡è§¦å‘å®šæ—¶å™¨çš„æ—¶é—´ */</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">timeval</span> <span class="token punctuation">&#123;</span>  time_t      tv_sec<span class="token punctuation">;</span>         <span class="token comment">/* ç§’ */</span>  suseconds_t tv_usec<span class="token punctuation">;</span>        <span class="token comment">/* å¾®ç§’ */</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p><strong>å‚æ•°ï¼š</strong></p><ul><li>whichï¼š<ul><li>ITIMER_REALï¼š   è‡ªç„¶å®šæ—¶æ³•ï¼Œä¼šå‘å‡ºä¿¡å· <code>SIGALRM</code></li><li>ITIMER_VIRTUALï¼šè™šæ‹Ÿå®šæ—¶æ³•ï¼Œåªä¼šè®¡ç®— <strong>ç”¨æˆ·æ—¶é—´</strong> ï¼Œå¯¹åº”ä¿¡å· <code>SIGVTALRM</code></li><li>ITIMER_PROFï¼š   åªè®¡ç®— <strong>ç”¨æˆ·æ—¶é—´ + ç³»ç»Ÿæ—¶é—´</strong> ï¼Œå¯¹åº”å‘å°„ <code>ITIMER_VIRTUAL</code> ä¿¡å·</li></ul></li><li>new_valueï¼šæˆ‘ä»¬éœ€è¦è®¾ç½®çš„å‚æ•°ï¼Œæ€»çš„å®šæ—¶æ—¶é—´æ˜¯ <code>tv_sec + tv_usec</code> ä¹‹å’Œ</li><li>old_valueï¼šä¼ å‡ºå‚æ•°ï¼Œä¼ å‡ºä¸Šä¸€æ¬¡å®šæ—¶å™¨çš„è®¾ç½®ï¼Œä¸€èˆ¬ç”¨ä¸åˆ°ï¼Œç”¨ NULL</li></ul></li><li><p>å†™ä¸€ä¸ªä¾‹å­ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    itimerval time<span class="token punctuation">;</span>    <span class="token comment">// time.it_interval = 3;  //æ¯éš” 3s ä¸€æ¬¡å¾ªç¯å®šæ—¶</span>    <span class="token comment">//ç¬¬ä¸€æ¬¡è§¦å‘å®šæ—¶å™¨çš„æ—¶é—´ä¸º 5s + 3ms</span>    time<span class="token punctuation">.</span>it_value<span class="token punctuation">.</span>tv_sec <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>     <span class="token comment">//5s </span>    time<span class="token punctuation">.</span>it_value<span class="token punctuation">.</span>tv_usec <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>    <span class="token comment">//3 ms</span>    <span class="token function">setitimer</span><span class="token punctuation">(</span>ITIMER_REAL<span class="token punctuation">,</span> <span class="token operator">&amp;</span>time<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"-----printf()-----\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><strong>è¿è¡Œæ•ˆæœï¼š</strong></p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200406_215441.png" width="60%"/ loading="lazy"></li></ul><br><h3 id="ä¸‹è½½åœ°å€ï¼š"><a href="#ä¸‹è½½åœ°å€ï¼š" class="headerlink" title="ä¸‹è½½åœ°å€ï¼š"></a>ä¸‹è½½åœ°å€ï¼š</h3><p><a href="https://github.com/xmuli/linuxExample/tree/master/14_signal">14_signal</a></p><p>æ¬¢è¿ star å’Œ fork è¿™ä¸ªç³»åˆ—çš„ linux å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸­è¿›ç¨‹é—´çš„é€šä¿¡æ–¹å¼--å†…å­˜æ˜ å°„åŒºmmap()</title>
      <link href="/posts/54396db8/"/>
      <url>/posts/54396db8/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€æœ¬ç¯‡è®²è§£å¦å¤–ä¸€ç§è¿›ç¨‹é—´é€šä¿¡æ–¹å¼ï¼Œ<strong>å†…å­˜æ˜ å°„åŒº</strong> <code>mmap()</code>ï¼Œä»¥åŠå¯¹åº”çš„é‡Šæ”¾å†…å­˜æ˜ å°„åŒº <code>munmap()</code> ï¼Œã€‚å‰é¢ä¸¤ç¯‡è®²è§£äº†è¿›ç¨‹é—´é€šä¿¡ï¼Œä½¿ç”¨<a href="https://blog.csdn.net/qq_33154343/article/details/105266919">æœ‰åç®¡é“</a>å’Œ<a href="https://blog.csdn.net/qq_33154343/article/details/105254078">åŒ¿åç®¡é“</a>çš„æ–¹å¼è¿›è¡Œ IPCï¼Œä¹Ÿæ˜¯ç»å¸¸ç”¨åˆ°çš„ï¼Œå¯ä»¥å»æ¥è§¦ä¸€ä¸‹ã€‚</p><ul><li><strong>å¯¹äºæœ‰è¡€ç¼˜å…³ç³»çš„è¿›ç¨‹é—´é€šä¿¡ï¼š</strong><ul><li>æœ‰åå†…å­˜æ˜ å°„åŒº</li><li>åŒ¿åå†…å­˜æ˜ å°„åŒº(æ¨è)</li></ul></li><li><strong>å¯¹äºæ— è¡€ç¼˜å…³ç³»çš„è¿›ç¨‹é—´é€šä¿¡ï¼š</strong><ul><li>(åªèƒ½ç”¨)æœ‰åå†…å­˜æ˜ å°„åŒº</li></ul></li></ul><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š"></a>ç¼–ç¨‹ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14 </code> ğŸ“ <code>gcc/g++ 9.2</code> ğŸ“ <code>gdb8.3</code> </p><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>uos20</code> ğŸ“ <code>gcc/g++ 8.3</code> ğŸ“ <code>gdb8.0</code> </p><br><h3 id="mmapå†…å­˜æ˜ å°„åŸç†"><a href="#mmapå†…å­˜æ˜ å°„åŸç†" class="headerlink" title="mmapå†…å­˜æ˜ å°„åŸç†:"></a>mmapå†…å­˜æ˜ å°„åŸç†:</h3><p><strong>ï¼ˆä¸€ï¼‰è¿›ç¨‹å¯åŠ¨æ˜ å°„è¿‡ç¨‹ï¼Œå¹¶åœ¨è™šæ‹Ÿåœ°å€ç©ºé—´ä¸­ä¸ºæ˜ å°„åˆ›å»ºè™šæ‹Ÿæ˜ å°„åŒºåŸŸ</strong></p><p>1ã€è¿›ç¨‹åœ¨ç”¨æˆ·ç©ºé—´è°ƒç”¨åº“å‡½æ•°mmapï¼ŒåŸå‹ï¼švoid *mmap(void *start, size_t length, int prot, int flags, int fd, off_t offset);</p><p>2ã€åœ¨å½“å‰è¿›ç¨‹çš„è™šæ‹Ÿåœ°å€ç©ºé—´ä¸­ï¼Œå¯»æ‰¾ä¸€æ®µç©ºé—²çš„æ»¡è¶³è¦æ±‚çš„è¿ç»­çš„è™šæ‹Ÿåœ°å€</p><p>3ã€ä¸ºæ­¤è™šæ‹ŸåŒºåˆ†é…ä¸€ä¸ªvm_area_structç»“æ„ï¼Œæ¥ç€å¯¹è¿™ä¸ªç»“æ„çš„å„ä¸ªåŸŸè¿›è¡Œäº†åˆå§‹åŒ–</p><p>4ã€å°†æ–°å»ºçš„è™šæ‹ŸåŒºç»“æ„ï¼ˆvm_area_structï¼‰æ’å…¥è¿›ç¨‹çš„è™šæ‹Ÿåœ°å€åŒºåŸŸé“¾è¡¨æˆ–æ ‘ä¸­</p><p><strong>ï¼ˆäºŒï¼‰è°ƒç”¨å†…æ ¸ç©ºé—´çš„ç³»ç»Ÿè°ƒç”¨å‡½æ•° mmapï¼ˆä¸åŒäºç”¨æˆ·ç©ºé—´å‡½æ•°ï¼‰ï¼Œå®ç°æ–‡ä»¶ç‰©ç†åœ°å€å’Œè¿›ç¨‹è™šæ‹Ÿåœ°å€çš„ä¸€ä¸€æ˜ å°„å…³ç³»</strong></p><p>5ã€ä¸ºæ˜ å°„åˆ†é…äº†æ–°çš„è™šæ‹Ÿåœ°å€åŒºåŸŸåï¼Œé€šè¿‡å¾…æ˜ å°„çš„æ–‡ä»¶æŒ‡é’ˆï¼Œåœ¨æ–‡ä»¶æè¿°ç¬¦è¡¨ä¸­æ‰¾åˆ°å¯¹åº”çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œé€šè¿‡æ–‡ä»¶æè¿°ç¬¦ï¼Œé“¾æ¥åˆ°å†…æ ¸â€œå·²æ‰“å¼€æ–‡ä»¶é›†â€ä¸­è¯¥æ–‡ä»¶çš„æ–‡ä»¶ç»“æ„ä½“ï¼ˆstruct fileï¼‰ï¼Œæ¯ä¸ªæ–‡ä»¶ç»“æ„ä½“ç»´æŠ¤ç€å’Œè¿™ä¸ªå·²æ‰“å¼€æ–‡ä»¶ç›¸å…³å„é¡¹ä¿¡æ¯ã€‚</p><p>6ã€é€šè¿‡è¯¥æ–‡ä»¶çš„æ–‡ä»¶ç»“æ„ä½“ï¼Œé“¾æ¥åˆ°file_operationsæ¨¡å—ï¼Œè°ƒç”¨å†…æ ¸å‡½æ•°mmapï¼Œå…¶åŸå‹ä¸ºï¼šint mmap(struct file *filp, struct vm_area_struct *vma)ï¼Œä¸åŒäºç”¨æˆ·ç©ºé—´åº“å‡½æ•°ã€‚</p><p>7ã€å†…æ ¸mmapå‡½æ•°é€šè¿‡è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿinodeæ¨¡å—å®šä½åˆ°æ–‡ä»¶ç£ç›˜ç‰©ç†åœ°å€ã€‚</p><p>8ã€é€šè¿‡remap_pfn_rangeå‡½æ•°å»ºç«‹é¡µè¡¨ï¼Œå³å®ç°äº†æ–‡ä»¶åœ°å€å’Œè™šæ‹Ÿåœ°å€åŒºåŸŸçš„æ˜ å°„å…³ç³»ã€‚æ­¤æ—¶ï¼Œè¿™ç‰‡è™šæ‹Ÿåœ°å€å¹¶æ²¡æœ‰ä»»ä½•æ•°æ®å…³è”åˆ°ä¸»å­˜ä¸­ã€‚</p><p><strong>ï¼ˆä¸‰ï¼‰è¿›ç¨‹å‘èµ·å¯¹è¿™ç‰‡æ˜ å°„ç©ºé—´çš„è®¿é—®ï¼Œå¼•å‘ç¼ºé¡µå¼‚å¸¸ï¼Œå®ç°æ–‡ä»¶å†…å®¹åˆ°ç‰©ç†å†…å­˜ï¼ˆä¸»å­˜ï¼‰çš„æ‹·è´</strong></p><p>æ³¨ï¼šå‰ä¸¤ä¸ªé˜¶æ®µä»…åœ¨äºåˆ›å»ºè™šæ‹ŸåŒºé—´å¹¶å®Œæˆåœ°å€æ˜ å°„ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å°†ä»»ä½•æ–‡ä»¶æ•°æ®çš„æ‹·è´è‡³ä¸»å­˜ã€‚çœŸæ­£çš„æ–‡ä»¶è¯»å–æ˜¯å½“è¿›ç¨‹å‘èµ·è¯»æˆ–å†™æ“ä½œæ—¶ã€‚</p><p>9ã€è¿›ç¨‹çš„è¯»æˆ–å†™æ“ä½œè®¿é—®è™šæ‹Ÿåœ°å€ç©ºé—´è¿™ä¸€æ®µæ˜ å°„åœ°å€ï¼Œé€šè¿‡æŸ¥è¯¢é¡µè¡¨ï¼Œå‘ç°è¿™ä¸€æ®µåœ°å€å¹¶ä¸åœ¨ç‰©ç†é¡µé¢ä¸Šã€‚å› ä¸ºç›®å‰åªå»ºç«‹äº†åœ°å€æ˜ å°„ï¼ŒçœŸæ­£çš„ç¡¬ç›˜æ•°æ®è¿˜æ²¡æœ‰æ‹·è´åˆ°å†…å­˜ä¸­ï¼Œå› æ­¤å¼•å‘ç¼ºé¡µå¼‚å¸¸ã€‚</p><p>10ã€ç¼ºé¡µå¼‚å¸¸è¿›è¡Œä¸€ç³»åˆ—åˆ¤æ–­ï¼Œç¡®å®šæ— éæ³•æ“ä½œåï¼Œå†…æ ¸å‘èµ·è¯·æ±‚è°ƒé¡µè¿‡ç¨‹ã€‚</p><p>11ã€è°ƒé¡µè¿‡ç¨‹å…ˆåœ¨äº¤æ¢ç¼“å­˜ç©ºé—´ï¼ˆswap cacheï¼‰ä¸­å¯»æ‰¾éœ€è¦è®¿é—®çš„å†…å­˜é¡µï¼Œå¦‚æœæ²¡æœ‰åˆ™è°ƒç”¨nopageå‡½æ•°æŠŠæ‰€ç¼ºçš„é¡µä»ç£ç›˜è£…å…¥åˆ°ä¸»å­˜ä¸­ã€‚</p><p>12ã€ä¹‹åè¿›ç¨‹å³å¯å¯¹è¿™ç‰‡ä¸»å­˜è¿›è¡Œè¯»æˆ–è€…å†™çš„æ“ä½œï¼Œå¦‚æœå†™æ“ä½œæ”¹å˜äº†å…¶å†…å®¹ï¼Œä¸€å®šæ—¶é—´åç³»ç»Ÿä¼šè‡ªåŠ¨å›å†™è„é¡µé¢åˆ°å¯¹åº”ç£ç›˜åœ°å€ï¼Œä¹Ÿå³å®Œæˆäº†å†™å…¥åˆ°æ–‡ä»¶çš„è¿‡ç¨‹ã€‚</p><p>æ³¨ï¼šä¿®æ”¹è¿‡çš„è„é¡µé¢å¹¶ä¸ä¼šç«‹å³æ›´æ–°å›æ–‡ä»¶ä¸­ï¼Œè€Œæ˜¯æœ‰ä¸€æ®µæ—¶é—´çš„å»¶è¿Ÿï¼Œå¯ä»¥è°ƒç”¨msync()æ¥å¼ºåˆ¶åŒæ­¥, è¿™æ ·æ‰€å†™çš„å†…å®¹å°±èƒ½ç«‹å³ä¿å­˜åˆ°æ–‡ä»¶é‡Œäº†ã€‚</p><br><h3 id="åˆ›å»ºå†…å­˜æ˜ å°„åŒº-mmap-ï¼š"><a href="#åˆ›å»ºå†…å­˜æ˜ å°„åŒº-mmap-ï¼š" class="headerlink" title="åˆ›å»ºå†…å­˜æ˜ å°„åŒº mmap()ï¼š"></a>åˆ›å»ºå†…å­˜æ˜ å°„åŒº mmap()ï¼š</h3><p><strong>ä½œç”¨ï¼š</strong> å°†ç£ç›˜æ–‡ä»¶çš„æ•°æ®æ˜ å°„åˆ°å†…å­˜ï¼Œç”¨æˆ·é€šè¿‡ä¿®æ”¹å†…å­˜å°±èƒ½ä¿®æ”¹ç£ç›˜æ–‡ä»¶ã€‚</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200404_172709.png" width="70%"/ loading="lazy"> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200402_181944.png" width="65%"/ loading="lazy"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">mmap</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>addr<span class="token punctuation">,</span> size_t len<span class="token punctuation">,</span> <span class="token keyword">int</span> prot<span class="token punctuation">,</span> <span class="token keyword">int</span> flags<span class="token punctuation">,</span> <span class="token keyword">int</span> fd<span class="token punctuation">,</span> off_t offset<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><strong>å‚æ•°ï¼š</strong><ul><li><strong>addrï¼š</strong><ul><li><strong>æ˜ å°„åŒºçš„é¦–åœ°å€ï¼Œä¼  <code>NULL</code></strong> ï¼›ç³»ç»Ÿä¼šè‡ªåŠ¨åœ¨è™šæ‹Ÿåœ°å€ç©ºé—´çš„åŠ¨æ€åŠ è½½åŒºï¼Œå¼€è¾Ÿä¸€å—å¤§å°ä¸º len çš„å†…å­˜åŒºåŸŸç©ºé—´ã€‚</li></ul></li><li><strong>lenï¼š &#x2F;&#x2F;æ˜ å°„åŒºçš„å¤§å°</strong><ul><li><font color=#FF0000  size=4 face="å¹¼åœ†">å¿…é¡»æ˜¯ 4K çš„æ•´æ•°å€ï¼Œä¸”ä¸èƒ½å¤Ÿä¸º 0ã€‚</font></li><li>ä¸€èˆ¬æ–‡ä»¶æœ‰å¤šå¤§ï¼Œlen å°±æœ‰å¤šå¤§</li></ul></li><li><strong>protï¼š &#x2F;&#x2F;æ˜ å°„åŒºçš„æƒé™</strong><ul><li><code>PROT_READ</code>  â€“ æ˜ å°„åŒºå¿…é¡»è¦æœ‰è¯»æƒé™</li><li><code>PROT_WRITE</code> â€“ å†™æƒé™</li></ul></li><li>**flagsï¼š &#x2F;&#x2F;æ ‡å¿—ä½å‚æ•° **<ul><li><code>MAP_SHARED</code>  å…±äº«åŒºåŸŸï¼Œå¼€å¯æ­¤æƒé™ï¼Œåˆ™å†…å­˜ä¸­æ˜ å°„åŒºåŸŸçš„å†…å®¹ï¼Œæ˜¯å’Œç£ç›˜æ–‡ä»¶çš„å†…å®¹ä¿æŒä¸€è‡´</li><li><code>MAP_PRIVATR</code>  å†…å­˜åŒºåŸŸçš„æ˜ å°„å†…å®¹ï¼Œæ˜¯å’Œç£ç›˜æ–‡ä»¶çš„å†…å®¹ï¼Œä¸æ˜¯æ—¶åˆ»åŒæ­¥çš„ã€‚</li></ul></li><li><strong>fdï¼š &#x2F;&#x2F;æ–‡ä»¶æè¿°ç¬¦</strong><ul><li>ç£ç›˜æ–‡ä»¶ï¼ˆæƒ³è¦æ˜ å°„åˆ°å†…å­˜ä¸­çš„å…±äº«åŒºï¼‰çš„é‚£ä¸ªæ–‡ä»¶çš„æ–‡ä»¶æè¿°ç¬¦</li></ul></li><li><strong>offsetï¼š &#x2F;&#x2F;åç§»æ–‡ä»¶çš„åç§»é‡</strong><ul><li>å½“æƒ³è¦ä»æ–‡ä»¶çš„ä¸­é—´æŸå¤„åˆ°ç»“æŸåŒºåŸŸï¼Œæ˜ å°„åˆ°å†…å­˜ä¸­ï¼Œå°±å¯ä»¥åªç”¨è¿™ä¸ªåç§»</li></ul></li></ul></li><li><strong>è¿”å›å€¼ï¼š</strong><ul><li>*<em>void <em>ï¼š</em></em>  å¼€è¾Ÿçš„é‚£ä¸ªåŒºåŸŸçš„é¦–åœ°å€ï¼Œç”¨æŒ‡é’ˆä¼ å‡ºæ¥ã€‚<ul><li>æ˜ å°„åŒºçš„é¦–åœ°å€ â€“ è°ƒç”¨æˆåŠŸ</li><li>è°ƒç”¨å¤±è´¥ï¼Œ è¿”å› MAP_FAILED</li></ul></li></ul></li></ul><br><h3 id="é‡Šæ”¾å†…å­˜æ˜ å°„åŒº-munmap-ï¼š"><a href="#é‡Šæ”¾å†…å­˜æ˜ å°„åŒº-munmap-ï¼š" class="headerlink" title="é‡Šæ”¾å†…å­˜æ˜ å°„åŒº munmap()ï¼š"></a>é‡Šæ”¾å†…å­˜æ˜ å°„åŒº munmap()ï¼š</h3><p>å°±åƒ malloc - freeï¼› new - deleteï¼› mmap - munmap ä¸€æ ·ï¼Œæœ‰å¼€è¾Ÿç©ºé—´ï¼Œå°±æœ‰é‡Šæ”¾è¯¥å†…å­˜åŒºåŸŸ</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">munmap</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>addr<span class="token punctuation">,</span> size_t len<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸¤ä¸ªå‚æ•°ï¼Œå°±æ˜¯ mmap() çš„ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªå‚æ•°ã€‚</p><br><h3 id="å†™ä¸€ä¸ªä¾‹å­ï¼ŒéªŒè¯å†…å­˜å†…å®¹å’Œç£ç›˜æ–‡ä»¶ä¼šåŒæ­¥ï¼š"><a href="#å†™ä¸€ä¸ªä¾‹å­ï¼ŒéªŒè¯å†…å­˜å†…å®¹å’Œç£ç›˜æ–‡ä»¶ä¼šåŒæ­¥ï¼š" class="headerlink" title="å†™ä¸€ä¸ªä¾‹å­ï¼ŒéªŒè¯å†…å­˜å†…å®¹å’Œç£ç›˜æ–‡ä»¶ä¼šåŒæ­¥ï¼š"></a>å†™ä¸€ä¸ªä¾‹å­ï¼ŒéªŒè¯å†…å­˜å†…å®¹å’Œç£ç›˜æ–‡ä»¶ä¼šåŒæ­¥ï¼š</h3><p>å¯¹äºä¸€ä¸ªå·²æœ‰çš„æ–‡æœ¬æ–‡ä»¶ it.txt è¿›è¡Œæ˜ å°„ï¼Œåˆ›å»ºä¸€ä¸ªå†…å­˜æ˜ å°„åŒºï¼Œç„¶ååœ¨å†…å­˜æ˜ å°„åŒºé‡Œé¢ä¿®æ”¹æ–‡ä»¶çš„è‚è£ï¼Œå†é‡æ–°æ‰“å¼€ç£ç›˜çš„æ–‡æœ¬æ–‡ä»¶æŸ¥çœ‹å†…å®¹æ˜¯å¦åŒæ—¶å‘ç”Ÿäº†æ”¹å˜ã€‚æ˜¾ç¤ºä¿®æ”¹ä¹‹å‰æ–‡ä»¶å’Œä½¿ç”¨å†…å­˜æ˜ å°„åŒºçš„å†…å®¹åçš„æ–‡ä»¶å†…å®¹åï¼Œå‘ç°ç£ç›˜é‡Œé¢çš„å†…å®¹çš„ç¡®æ˜¯å’ŒåŒæ­¥çš„æ”¹å˜äº†ã€‚æœ€åè¦è®°å¾—ä½¿ç”¨ <code>munmap()</code> å…³é—­ä½ ä½¿ç”¨ <code>mmap()</code> åˆ›å»ºçš„å†…å­˜æ˜ å°„åŒºçš„ç©ºé—´å“¦ã€‚</p><ul><li><p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span> </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/wait.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/stat.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;fcntl.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/mman.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> fd <span class="token operator">=</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"it.txt"</span><span class="token punctuation">,</span> O_RDWR<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>fd <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"[open file] "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">_exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token function">lseek</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token constant">SEEK_END</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span><span class="token operator">*</span> ptr <span class="token operator">=</span> <span class="token function">mmap</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> len<span class="token punctuation">,</span> PROT_READ <span class="token operator">|</span> PROT_WRITE<span class="token punctuation">,</span> MAP_SHARED<span class="token punctuation">,</span> fd<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åˆ›å»ºå†…å­˜æ˜ å°„åŒº</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ptr <span class="token operator">==</span> MAP_FAILED<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"[mmap fail] "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>ptr<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'a'</span><span class="token punctuation">;</span>    <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>ptr<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'b'</span><span class="token punctuation">;</span>    <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>ptr<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'c'</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//é‡Šæ”¾å†…å­˜æ˜ å°„åŒº</span>    <span class="token function">munmap</span><span class="token punctuation">(</span>ptr<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">close</span><span class="token punctuation">(</span>fd<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><strong>è¿è¡Œæ•ˆæœï¼š</strong> </p><p>å’Œé¢„æœŸçš„æ•ˆæœä¸€ç›´ï¼Œåœ¨å†…å­˜ä¸­æ”¹åŠ¨å†…å®¹ï¼Œç£ç›˜çš„æ–‡ä»¶çš„å†…å®¹ä¹Ÿéšä¹‹æ”¹å˜ã€‚</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200402_203940.png" width="80%"/ loading="lazy"></li></ul><br><h3 id="å¯¹äº-mmap-çš„ä¸€äº›æ€è€ƒï¼š"><a href="#å¯¹äº-mmap-çš„ä¸€äº›æ€è€ƒï¼š" class="headerlink" title="å¯¹äº mmap() çš„ä¸€äº›æ€è€ƒï¼š"></a>å¯¹äº mmap() çš„ä¸€äº›æ€è€ƒï¼š</h3><ul><li>å¦‚æœ mmap() çš„è¿”å›å€¼ (ptr)åš++æ“ä½œï¼ˆptr++)ï¼Œmunmapæ˜¯å¦èƒ½å¤ŸæˆåŠŸï¼Ÿ<ul><li>ä¸èƒ½ï¼Œå¦‚æœè¦åšæŒ‡é’ˆåç§»çš„çš„è¯ï¼Œå¯ä»¥ char* pt &#x3D; ptrï¼›</li></ul></li><li>å¦‚æœ open() æ—¶å€™ O_RDONLYï¼Œmmap æ—¶ prot å‚æ•°æŒ‡å®š PROR_READ | PROT_WRITE ä¼šæ€æ ·ï¼Ÿ<ul><li>mmap ä¼šè°ƒç”¨å¤±è´¥</li><li><strong>open() æ–‡ä»¶æŒ‡å®šæƒé™åº”è¯¥å¤§äºç­‰äº mmap() çš„ç¬¬ä¸‰ä¸ªå‚æ•° prot æŒ‡å®šçš„æƒé™</strong></li></ul></li><li>å¦‚æœæ–‡ä»¶çš„åç§»é‡ä¸º 1000 ä¼šæ€ä¹ˆæ ·ï¼Ÿ<ul><li><strong>ä¼šå¤±è´¥ï¼Œå…¶å¿…é¡»æ˜¯ 4096 çš„æ•´æ•°å€</strong></li></ul></li><li>å¦‚æœä¸æ£€æŸ¥ mmap() çš„è¿”å›å€¼ä¼šæ€æ ·ï¼Ÿ<ul><li>ä¹Ÿä¸ä¼šæ€ä¹ˆæ ·</li></ul></li><li>mmap() ä»€ä¹ˆæ—¶å€™ä¼šè°ƒç”¨å¤±è´¥ï¼Ÿ<ul><li>ç¬¬äºŒä¸ªå‚æ•° len &#x3D; 0</li><li>ç¬¬ä¸‰ä¸ªå¿…é¡»è¦æœ‰ PROT_READ æƒé™ï¼›ä¸” open()æ‰“å¼€çš„æƒé™è¦å¤§äº mmap() çš„ port å‚æ•°æƒé™</li></ul></li><li>å¯ä»¥open()çš„æ—¶å€™ï¼ŒO_CREAT ä¸€ä¸ªæ–°æ–‡ä»¶æ¥åˆ›å»ºæ˜ å°„åŒºå—ï¼Ÿ<ul><li>å¯ä»¥ï¼Œä½†æ˜¯éœ€è¦åšæ–‡ä»¶æ‰©å±•</li><li>lseek()</li><li>truncate(pathï¼Œlength)</li></ul></li><li>mmap åå…³é—­æ–‡ä»¶æè¿°ç¬¦ï¼Œå¯¹ mmap æ˜ å°„æœ‰æ²¡æœ‰å½±å“ï¼Ÿ<ul><li>æ–‡ä»¶è¢«æ‰“å¼€ä¹‹åï¼Œå°±æ²¡æœ‰å½±å“äº†ã€‚</li></ul></li><li>å¯¹ ptr è¶Šç•Œæ“ä½œä¼šæ€ä¹ˆæ ·ï¼Ÿ<ul><li>è¿™ä¸ªå–å†³äº ptr è¶Šç•Œåé¢çš„å†…å­˜å†™çš„æ˜¯ä»€ä¹ˆã€‚ä½†æ˜¯<strong>å¤§æ¦‚ç‡çš„ä¼šé‡åˆ°æ®µé”™è¯¯</strong></li></ul></li></ul><br><h3 id="mmap-å®ç°å†…å­˜æ˜ å°„ï¼Ÿ"><a href="#mmap-å®ç°å†…å­˜æ˜ å°„ï¼Ÿ" class="headerlink" title="mmap å®ç°å†…å­˜æ˜ å°„ï¼Ÿ"></a>mmap å®ç°å†…å­˜æ˜ å°„ï¼Ÿ</h3><ul><li>å¿…é¡»è¦æœ‰ä¸€ä¸ªæ–‡ä»¶</li><li>æ–‡ä»¶æ•°æ®ä»€ä¹ˆæ—¶å€™æœ‰ç”¨ï¼Ÿ<ul><li>å•çº¯çš„å®ç°æ–‡ä»¶æ˜ å°„</li><li>è¿›è¡Œè¿›ç¨‹é—´é€šä¿¡ï¼Œç£ç›˜çš„æ–‡ä»¶æ•°æ®æ—¶æ²¡æœ‰ç”¨çš„ã€‚ï¼ˆåœ¨å†…å­˜æ“ä½œä¼šæ›´æœ‰æ•ˆç‡ï¼Œä½†æ˜¯å±äºéé˜»å¡ï¼‰</li></ul></li></ul><br><h3 id="çˆ¶å­è¿›ç¨‹é—´æ°¸è¿œå…±äº«çš„ä¸œè¥¿ï¼Ÿ"><a href="#çˆ¶å­è¿›ç¨‹é—´æ°¸è¿œå…±äº«çš„ä¸œè¥¿ï¼Ÿ" class="headerlink" title="çˆ¶å­è¿›ç¨‹é—´æ°¸è¿œå…±äº«çš„ä¸œè¥¿ï¼Ÿ"></a><font color=#FF0000 face="å¹¼åœ†">çˆ¶å­è¿›ç¨‹é—´æ°¸è¿œå…±äº«çš„ä¸œè¥¿ï¼Ÿ</font></h3><ul><li><font color=#FF0000 face="å¹¼åœ†">æ–‡ä»¶æè¿°ç¬¦</font></li><li><font color=#FF0000 face="å¹¼åœ†">å†…å­˜æ˜ å°„åŒº</font></li></ul><br><h3 id="ä¾‹å­å®ç°çˆ¶å­è¿›ç¨‹é—´çš„é€šä¿¡ï¼š"><a href="#ä¾‹å­å®ç°çˆ¶å­è¿›ç¨‹é—´çš„é€šä¿¡ï¼š" class="headerlink" title="ä¾‹å­å®ç°çˆ¶å­è¿›ç¨‹é—´çš„é€šä¿¡ï¼š"></a>ä¾‹å­å®ç°çˆ¶å­è¿›ç¨‹é—´çš„é€šä¿¡ï¼š</h3><p>é€šè¿‡æ”¹å†™ä¸Šé¢çš„ä¾‹å­ï¼Œåˆ›å»º <a href="https://github.com/xmuli/linuxExample/blob/master/13_mmap/anonMmap">anonMmap.cpp</a> æ–‡ä»¶ï¼Œåˆ›å»ºå­è¿›ç¨‹ï¼Œçˆ¶è¿›ç¨‹å¯¹å†…å­˜æ˜ å°„åŒºè¿›è¡Œä¿®æ”¹å†…å®¹ï¼Œåœ¨é¦–æ®µä½¿ç”¨ strcpy() æ·»åŠ ä¸€æ®µä¸­æ–‡è¯­å¥ï¼Œç„¶ååœ¨å­è¿›ç¨‹é‡Œé¢å¯¹å¤åˆ¶è¿›æ¥çš„å°¾éƒ¨â€™\0â€™è¿›è¡Œè¦†ç›–ï¼Œå†æ¬¡ä¿®æ”¹ä¸€æ®µå†…å®¹ï¼Œç„¶ååœ¨å­è¿›ç¨‹é‡Œé¢é—´è¯¥çŸ­å†…å®¹è¾“å‡ºåˆ°ç»ˆç«¯æ˜¾ç¤ºã€‚</p><ul><li><p><strong>ä»£ç å®ç°ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span> </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/wait.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/stat.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;fcntl.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/mman.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> fd <span class="token operator">=</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"it.txt"</span><span class="token punctuation">,</span> O_RDWR<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>fd <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"[open file] "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">_exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token function">lseek</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token constant">SEEK_END</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span><span class="token operator">*</span> ptr <span class="token operator">=</span> <span class="token function">mmap</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> len<span class="token punctuation">,</span> PROT_READ <span class="token operator">|</span> PROT_WRITE<span class="token punctuation">,</span> MAP_SHARED<span class="token punctuation">,</span> fd<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åˆ›å»ºå†…å­˜æ˜ å°„åŒº</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ptr <span class="token operator">==</span> MAP_FAILED<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"[mmap fail] "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    pid_t pid <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//çˆ¶è¿›ç¨‹</span>         <span class="token function">strcpy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>ptr<span class="token punctuation">,</span> <span class="token string">"(æˆ‘æ˜¯çˆ¶è¿›ç¨‹å†™å…¥æ•°æ®åˆ°å†…å­˜æ˜ å°„åŒºå†…å®¹)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//ä¸‹æ ‡0-53ï¼Œä¸€å…± 54 ä¸ªï¼Œå…¶ä¸­ptr[53]ä¸º'\0'</span>         <span class="token function">wait</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">//å›æ”¶å­è¿›ç¨‹</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//å­è¿›ç¨‹</span>        <span class="token comment">// sleep(2);</span>        <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>ptr<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">53</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'a'</span><span class="token punctuation">;</span>  <span class="token comment">//æ•…æ„è¦†ç›–æ‰'\0'ï¼Œæ–¹ä¾¿æ‰“å°å‡ºæ¥åé¢æ–‡ç« </span>        <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>ptr<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">54</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'b'</span><span class="token punctuation">;</span>        <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>ptr<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">57</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'c'</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">munmap</span><span class="token punctuation">(</span>ptr<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">close</span><span class="token punctuation">(</span>fd<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><strong>è¿è¡Œæ•ˆæœï¼š</strong></p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200404_181557.png" width="50%"/ loading="lazy"></li></ul><br><h3 id="åˆ›å»ºåŒ¿åå†…å­˜æ˜ å°„åŒºï¼š"><a href="#åˆ›å»ºåŒ¿åå†…å­˜æ˜ å°„åŒºï¼š" class="headerlink" title="åˆ›å»ºåŒ¿åå†…å­˜æ˜ å°„åŒºï¼š"></a>åˆ›å»ºåŒ¿åå†…å­˜æ˜ å°„åŒºï¼š</h3><p>ä¸Šé¢å†™çš„ä¾‹å­ï¼Œéƒ½æ˜¯å¯¹äºæœ‰è¡€ç¼˜å…³ç³»çš„çˆ¶å­è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ä¾‹å­ï¼Œé€šè¿‡ç£ç›˜æ–‡ä»¶ä½¿ç”¨ <code>mmap()</code> åˆ›å»ºçš„æ˜¯<strong>ï¼ˆæœ‰åï¼‰å†…å­˜æ˜ å°„åŒº</strong>ï¼› ä½†æ˜¯æ”¹ä¸€ä¸‹ mmap() åˆ›å»ºçš„å€’æ•°ç¬¬äºŒä¸ªå‚æ•°ï¼Œä¸”ä¸éœ€è¦ open() ç£ç›˜æ–‡ä»¶ï¼Œåˆ›å»ºå‡ºæ¥çš„å°±æ˜¯<strong>ï¼ˆåŒ¿åï¼‰å†…å­˜æ˜ å°„åŒº</strong> ï¼›</p><p><strong>ä½†æ˜¯åŒ¿åå†…å­˜æ˜ å°„åŒºåªèƒ½å¤Ÿé€‚ç”¨äºæœ‰è¡€ç¼˜å…³ç³»ä¹‹é—´çš„è¿›ç¨‹é€šä¿¡ã€‚è€Œæœ‰åå†…å­˜æ˜ å°„åŒºï¼Œå¯ä»¥ä½¿ç”¨ä¸åœ¨æœ‰æœ‰è¡€ç¼˜çš„è¿›ç¨‹å’Œæ— è¡€ç¼˜çš„è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼Œéƒ½å¯ä»¥ã€‚</strong> </p><h4 id="åŒ¿åå†…å­˜æ˜ å°„åŒºï¼ˆæœ‰è¡€ç¼˜å…³ç³»è¿›ç¨‹é€šä¿¡ï¼‰ï¼š"><a href="#åŒ¿åå†…å­˜æ˜ å°„åŒºï¼ˆæœ‰è¡€ç¼˜å…³ç³»è¿›ç¨‹é€šä¿¡ï¼‰ï¼š" class="headerlink" title="åŒ¿åå†…å­˜æ˜ å°„åŒºï¼ˆæœ‰è¡€ç¼˜å…³ç³»è¿›ç¨‹é€šä¿¡ï¼‰ï¼š"></a>åŒ¿åå†…å­˜æ˜ å°„åŒºï¼ˆæœ‰è¡€ç¼˜å…³ç³»è¿›ç¨‹é€šä¿¡ï¼‰ï¼š</h4><ul><li><p><strong>ï¼ˆåŒ¿åï¼‰å†…å­˜æ˜ å°„åŒº ä»£ç ä¾‹å­:</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token number">4096</span><span class="token punctuation">;</span>    <span class="token keyword">void</span><span class="token operator">*</span> ptr <span class="token operator">=</span> <span class="token function">mmap</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> len<span class="token punctuation">,</span> PROT_READ <span class="token operator">|</span> PROT_WRITE<span class="token punctuation">,</span> MAP_SHARED <span class="token operator">|</span> MAP_ANON<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åˆ›å»ºåŒ¿åå†…å­˜æ˜ å°„åŒºï¼Œåªéœ€è¦ä¿®æ”¹å€’æ•° 2ã€3 ä¸¤ä¸ªé˜è¿°å³å¯</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ptr <span class="token operator">==</span> MAP_FAILED<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"[mmap fail] "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    pid_t pid <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//çˆ¶è¿›ç¨‹</span>         <span class="token function">strcpy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>ptr<span class="token punctuation">,</span> <span class="token string">"this is parent process"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token function">wait</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">//å›æ”¶å­è¿›ç¨‹</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//å­è¿›ç¨‹</span>        <span class="token comment">// sleep(2);</span>        <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>ptr<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'a'</span><span class="token punctuation">;</span>  <span class="token comment">//æ•…æ„è¦†ç›–æ‰'\0'ï¼Œæ‰“å°å‡ºæ¥åé¢æ–‡ç« </span>        <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>ptr<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'b'</span><span class="token punctuation">;</span>        <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>ptr<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'c'</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">munmap</span><span class="token punctuation">(</span>ptr<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><strong>è¿è¡Œæ•ˆæœï¼š</strong></p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200404_225528.png" width="80%"/ loading="lazy"></li></ul><br><h4 id="æœ‰åå†…å­˜æ˜ å°„åŒºï¼ˆæ— è¡€ç¼˜å…³ç³»è¿›ç¨‹é€šä¿¡ï¼‰ï¼š"><a href="#æœ‰åå†…å­˜æ˜ å°„åŒºï¼ˆæ— è¡€ç¼˜å…³ç³»è¿›ç¨‹é€šä¿¡ï¼‰ï¼š" class="headerlink" title="æœ‰åå†…å­˜æ˜ å°„åŒºï¼ˆæ— è¡€ç¼˜å…³ç³»è¿›ç¨‹é€šä¿¡ï¼‰ï¼š"></a>æœ‰åå†…å­˜æ˜ å°„åŒºï¼ˆæ— è¡€ç¼˜å…³ç³»è¿›ç¨‹é€šä¿¡ï¼‰ï¼š</h4><p>è€Œå¯¹äºæ— è¡€ç¼˜å…³ç³»çš„è¿›ç¨‹é—´é€šä¿¡ï¼Œåªéœ€è¦éƒ½æ‰“å¼€åŒä¸€ä¸ªç£ç›˜æ–‡ä»¶ï¼Œå„è‡ªçš„è¿›ç¨‹ä¼šæŒ‰ç…§è¿™ä¸ªé¡ºåºï¼Œ <code>ç£ç›˜æ–‡ä»¶å --&gt; (å„è‡ªçš„è¿›ç¨‹è™šæ‹Ÿåœ°å€ç©ºé—´çš„)å†…å­˜æ˜ å°„åŒº --&gt; ï¼ˆå…±ç”¨ä¸€ä»½çš„ï¼‰ç‰©ç†å†…å­˜çš„åŒºåŸŸ </code>ï¼Œ ç„¶åéƒ½å¯ä»¥ä¿®æ”¹å’Œè¯»å–è¿™ä¸€æ®µå†…å­˜åŒºåŸŸï¼Œä»è€Œå®ç°è¿›ç¨‹é—´é€šä¿¡ã€‚</p><p>åˆ›å»º aProcess.cpp ç”Ÿæˆ a è¿›ç¨‹ï¼Œåˆ›å»º bProcess.cpp ç”Ÿæˆ b è¿›ç¨‹ï¼›a è¿›ç¨‹å…ˆå¯¹ c.txt æ–‡ä»¶æ”¹å†™æ·»åŠ  â€œabcâ€ï¼Œç„¶å b è¿›ç¨‹å†å¯¹ c.txt æ–‡ä»¶æ”¹å†™æ·»åŠ  â€œABCâ€ï¼Œç„¶åè¾“å‡ºåˆ°ç»ˆç«¯æ˜¾ç¤ºã€‚</p><ul><li><p><strong>ä»£ç æ˜¾ç¤ºï¼š</strong></p><p>å®ç°ä¼ªä»£ç å¦‚ä¸‹ï¼Œè¯¦ç»†çš„æºç è§ä¸‹é¢ä¸‹è½½é“¾æ¥</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//aProcess.cpp</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> fd <span class="token operator">=</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"c.txt"</span><span class="token punctuation">,</span> O_RDWR<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token function">lseek</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token constant">SEEK_END</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span><span class="token operator">*</span> ptr <span class="token operator">=</span> <span class="token function">mmap</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> len<span class="token punctuation">,</span> PROT_READ <span class="token operator">|</span> PROT_WRITE<span class="token punctuation">,</span> MAP_SHARED<span class="token punctuation">,</span> fd<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>ptr<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'a'</span><span class="token punctuation">;</span>    <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>ptr<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'b'</span><span class="token punctuation">;</span>    <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>ptr<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'c'</span><span class="token punctuation">;</span>        <span class="token function">munmap</span><span class="token punctuation">(</span>ptr<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">&#125;</span><span class="token comment">//bProcess.cpp</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> fd <span class="token operator">=</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"c.txt"</span><span class="token punctuation">,</span> O_RDWR<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token function">lseek</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token constant">SEEK_END</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span><span class="token operator">*</span> ptr <span class="token operator">=</span> <span class="token function">mmap</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> len<span class="token punctuation">,</span> PROT_READ <span class="token operator">|</span> PROT_WRITE<span class="token punctuation">,</span> MAP_SHARED<span class="token punctuation">,</span> fd<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>ptr<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'A'</span><span class="token punctuation">;</span>    <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>ptr<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'B'</span><span class="token punctuation">;</span>    <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>ptr<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'C'</span><span class="token punctuation">;</span>        <span class="token function">munmap</span><span class="token punctuation">(</span>ptr<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><strong>è¿è¡Œæ•ˆæœï¼š</strong></p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200404_231307.png" width="70%"/ loading="lazy"></li></ul><br><h3 id="å€Ÿé‰´åšå®¢ä¸æ€»ç»“ï¼š"><a href="#å€Ÿé‰´åšå®¢ä¸æ€»ç»“ï¼š" class="headerlink" title="å€Ÿé‰´åšå®¢ä¸æ€»ç»“ï¼š"></a>å€Ÿé‰´åšå®¢ä¸æ€»ç»“ï¼š</h3><p>å‘ç°ä¸€ç¯‡è®²è§£çš„å¾ˆæ£’çš„åšå®¢ï¼Œæ›´å¤šçš„æ˜¯ç†è®ºå’Œæ¦‚å¿µä¸Šé¢çš„åˆ†æ mmap() çš„åŸç†ï¼š<a href="https://www.cnblogs.com/huxiao-tee/p/4660352.html">è®¤çœŸåˆ†æmmapï¼šæ˜¯ä»€ä¹ˆ ä¸ºä»€ä¹ˆ æ€ä¹ˆç”¨</a>ï¼Œ å…¶ä¸­æ–‡ç« å¼€å¤´çš„ä¸€æ®µæ‹¿æ¥å†æè¿°ä¸€ä¸‹ï¼Œå…¶ä½™åˆ™æ˜¯æœ¬ç¯‡çš„ä¾§é‡ç‚¹æ˜¯ç”¨ä»£ç æ¥å†™ä¸¤ä¸ªä¾‹å­ï¼Œä»¥åŠéœ€è¦æ³¨æ„çš„ä¸€äº›å‘ï¼ŒéªŒè¯å’Œå­¦ä¹ è¿™ä¸ªå†…å­˜æ˜ å°„åŒºã€‚</p><br><h3 id="ä¸‹è½½åœ°å€ï¼š"><a href="#ä¸‹è½½åœ°å€ï¼š" class="headerlink" title="ä¸‹è½½åœ°å€ï¼š"></a>ä¸‹è½½åœ°å€ï¼š</h3><p><a href="https://github.com/xmuli/linuxExample/tree/master/13_mmap">13_mmap</a></p><p>æ¬¢è¿ star å’Œ fork <strong>è¿™ä¸ªç³»åˆ—</strong> çš„ linux å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸­æ™®é€šçš„è¿›ç¨‹é—´é€šä¿¡æ–¹å¼--æœ‰åç®¡é“fifo(é€‚ç”¨äºæ— è¡€ç¼˜å…³ç³»çš„è¿›ç¨‹)</title>
      <link href="/posts/fe544e10/"/>
      <url>/posts/fe544e10/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€åœ¨<a href="https://blog.csdn.net/qq_33154343/article/details/105254078">ä¸Šä¸€ç¯‡</a>ä¸­ï¼Œå†™äº†æœ‰è¡€ç¼˜å…³ç³»çš„è¿›ç¨‹é—´çš„é€šä¿¡ï¼Œä½¿ç”¨åŒ¿åç®¡é“ <code>pipe</code>ï¼Œæœ¬ç¯‡æ˜¯ä»‹ç»ï¼Œ<strong>å¯¹äºæ— è¡€ç¼˜å…³ç³»çš„è¿›ç¨‹é—´é€šä¿¡ï¼Œå¯ä»¥é‡‡ç”¨ï¼ˆæœ‰åï¼‰ç®¡é“çš„ <code>fifo</code> æ–¹å¼ã€‚</strong>   </p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š"></a>ç¼–ç¨‹ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>uos20</code> ğŸ“ <code>gcc/g++ 8.3</code> ğŸ“ <code>gdb8.0</code> </p><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14 </code> ğŸ“ <code>gcc/g++ 9.2</code> ğŸ“ <code>gdb8.3</code> </p><br><h3 id="è¿›ç¨‹é—´é€šä¿¡-IPCï¼š"><a href="#è¿›ç¨‹é—´é€šä¿¡-IPCï¼š" class="headerlink" title="è¿›ç¨‹é—´é€šä¿¡ IPCï¼š"></a>è¿›ç¨‹é—´é€šä¿¡ IPCï¼š</h3><p>è¿›ç¨‹é—´é€šä¿¡ï¼ˆInter Process Communicationï¼‰ï¼Œå­—æ¯é¦–å†™å³ä¸º IPCã€‚</p><ul><li><font color=#FF0000  size=4 face="å¹¼åœ†"><strong>è¿›ç¨‹é—´å¸¸ç”¨çš„ 4 ç§æ–¹å¼ï¼š</strong></font><ul><li><strong>ç®¡é“</strong> ï¼ˆç®€å•ï¼‰</li><li><strong>ä¿¡å·</strong> ï¼ˆç³»ç»Ÿå¼€é”€å°ï¼‰</li><li><strong>å…±äº«æ˜ å°„åŒº</strong> ï¼ˆæœ‰æ— è¡€ç¼˜å…³ç³»çš„è¿›ç¨‹é—´é€šä¿¡éƒ½å¯ä»¥ï¼‰</li><li><strong>æœ¬åœ° socket å¥—æ¥å­—</strong> (ç¨³å®š)</li></ul></li></ul><br><h3 id="æœ‰åç®¡é“ï¼ˆfifoï¼‰ï¼š"><a href="#æœ‰åç®¡é“ï¼ˆfifoï¼‰ï¼š" class="headerlink" title="æœ‰åç®¡é“ï¼ˆfifoï¼‰ï¼š"></a>æœ‰åç®¡é“ï¼ˆfifoï¼‰ï¼š</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">fifo</span><span class="token punctuation">(</span><span class="token keyword">int</span> fildes<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><font color=#FF0000  size=4 face="å¹¼åœ†">é€‚ç”¨äºæ— è¡€ç¼˜å…³ç³»çš„è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ã€‚</font>è¿›ç¨‹ä¹‹é—´æ˜¯ä¸è¦ä½¿ç”¨ sleep() å‡½æ•°çš„ï¼Œå› ä¸ºç®¡é“é»˜è®¤å°±æ˜¯å µå¡çš„ã€‚è™½ç„¶å®ç°å½¢æ€ä¸Šæ˜¯æ–‡ä»¶ï¼Œä½†æ˜¯ç®¡é“æœ¬èº«å¹¶ä¸å ç”¨ç£ç›˜æˆ–è€…å…¶ä»–å¤–éƒ¨å­˜å‚¨çš„ç©ºé—´ã€‚åœ¨Linuxçš„å®ç°ä¸Šï¼Œå®ƒå ç”¨çš„æ˜¯å†…æ ¸çš„ä¸€æ®µç¼“å†²åŒºç©ºé—´ã€‚</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200401202233.png" width="50%"/ loading="lazy"><br><ul><li><strong>æœ¬è´¨ï¼š</strong> <ul><li><font color=#FF0000  size=4 face="å¹¼åœ†">æ˜¯å†…æ ¸ç¼“å†²åŒºã€‚ä¹Ÿæ˜¯ä¼ªæ–‡ä»¶ï¼ˆä¸å ç”¨ç£ç›˜ç©ºé—´ï¼‰</font></li></ul></li><li><strong>ç‰¹ç‚¹ï¼š</strong><ul><li>æœ‰åç®¡é“</li><li>åœ¨ç£ç›˜ä¸Šæœ‰è¿™æ ·ä¸€ä¸ªæ–‡ä»¶ <code>ls -l -&gt; p</code></li><li>ä¼ªæ–‡ä»¶ï¼Œåœ¨ç£ç›˜å¤§å°æ°¸è¿œä¸º 0</li><li>åœ¨å†…æ ¸ä¸­æœ‰ä¸€ä¸ªå¯¹åº”çš„ç¼“å†²åŒº</li><li>ä½¿ç”¨åŠåŒå·¥çš„é€šä¿¡æ–¹å¼</li></ul></li><li><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong><ul><li>é€‚ç”¨äºæ²¡æœ‰è¡€ç¼˜å…³ç³»çš„è¿›ç¨‹é—´çš„é€šä¿¡</li></ul></li><li><strong>åˆ›å»ºæ–¹å¼ï¼š</strong><ul><li>å‘½ä»¤ï¼š mkfifo ç®¡é“å</li><li>å‡½æ•°ï¼š mkfifo()</li></ul></li><li><strong>fifo æ–‡ä»¶å¯ä»¥ä½¿ç”¨ IO å‡½æ•°è¿›è¡Œæ“ä½œ</strong><ul><li>open() &#x2F; close()</li><li>read() &#x2F; write()</li><li>ä¸èƒ½æ‰§è¡Œ lseek æ“ä½œ</li></ul></li></ul><br><h3 id="å†™ä¸€ä¸ªä¾‹å­ï¼š"><a href="#å†™ä¸€ä¸ªä¾‹å­ï¼š" class="headerlink" title="å†™ä¸€ä¸ªä¾‹å­ï¼š"></a>å†™ä¸€ä¸ªä¾‹å­ï¼š</h3><p>æœ‰ä¸¤ä¸ªè¿›ç¨‹ a å’Œ bï¼Œåˆ†åˆ«ç”¨ write.cpp å’Œ read.cpp è¿›è¡Œå®ç°ï¼Œç„¶åè¿›ç¨‹ a å¾€ä¸€ä¸ªç®¡é“é‡Œé¢å†™æ•°æ®ï¼Œè¿›ç¨‹ b ä»è¿™ä¸ªç®¡é“é‡Œé¢è¯»å–æ•°æ®ã€‚</p><ul><li><p><strong>ä»£ç å®ç°ï¼š</strong></p><p>è¿™é‡Œå†™ <code>writ.cpp</code>ï¼Œä¹‹åè¿è¡Œå¯æ‰§è¡Œç¨‹åº writï¼Œå½“åš <strong>a è¿›ç¨‹</strong> ï¼Œå¾€è¿™ä¸ªç®¡é“é‡Œé¢ä¸€ç›´å†™æ•°æ®ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span> </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/wait.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;fcntl.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/stat.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>argc <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"è¯·æŒ‰ç…§æ ¼å¼è¾“å…¥: ./write myfifo\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">_exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">access</span><span class="token punctuation">(</span>argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> F_OK<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ret <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> r <span class="token operator">=</span> <span class="token function">mkfifo</span><span class="token punctuation">(</span>argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">0777</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"[creator fifo file] "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">_exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"creator fifo success: %d\n"</span><span class="token punctuation">,</span> argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> fd <span class="token operator">=</span> <span class="token function">open</span><span class="token punctuation">(</span>argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> O_WRONLY<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>fd <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"[open file] "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">_exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">char</span> <span class="token keyword">const</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token string">"this is 2020-04-01, code"</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//        sleep(2);  //ç”¨æ¥éªŒè¯ç®¡é“é˜»å¡è¿™ä¸€å±æ€§çš„</span>        <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token function">write</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> p<span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">close</span><span class="token punctuation">(</span>fd<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™é‡Œå†™ <code>read.cpp</code>ï¼Œä¹‹åè¿è¡Œå¯æ‰§è¡Œç¨‹åº readï¼Œå½“åš <strong>b è¿›ç¨‹</strong> ï¼Œå¾€è¿™ä¸ªç®¡é“é‡Œé¢ä¸€ç›´è¯»æ•°æ®ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span> </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/wait.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;fcntl.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/stat.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>argc <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"è¯·æŒ‰ç…§æ ¼å¼è¾“å…¥: ./read myfifo\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">access</span><span class="token punctuation">(</span>argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> F_OK<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ret <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> r <span class="token operator">=</span> <span class="token function">mkfifo</span><span class="token punctuation">(</span>argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">0777</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"[creator fifo file] "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"creator fifo success: %d\n"</span><span class="token punctuation">,</span> argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> fd <span class="token operator">=</span> <span class="token function">open</span><span class="token punctuation">(</span>argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> O_RDONLY<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>fd <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"[open file] "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token number">512</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> buf<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        buf<span class="token punctuation">[</span>len<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'\0'</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"buf = %s,  len = %d\n"</span><span class="token punctuation">,</span> buf<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">close</span><span class="token punctuation">(</span>fd<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><p>â€‹</p><ul><li><p><strong>ä»£ç åˆ†æï¼š</strong><br>ä¸ºäº†æ¸…æ™°æ¼”ç¤ºç®¡é“çš„é˜»å¡å±æ€§ï¼Œæˆ‘ä»¬æ‰“å¼€å†™ç«¯çš„ <code>sleep(2)</code> è¿™ä¸€è¡Œä»£ç ï¼Œæ•…æ„ç”¨æ¥åˆ¶é€ å†™ç«¯çš„é€Ÿåº¦æ¯”è¯»ç«¯è¦æ…¢ï¼Œç„¶åè§‚å¯Ÿè¯»ç«¯çš„æ‰“å°æ˜¾ç¤ºã€‚å¯ä»¥æ¸…æ¥šçš„å¾—åˆ°ç®¡é“æ˜¯é˜»å¡çš„è¿™ä¸€ç»“è®ºã€‚</p></li><li><p><strong>è¿è¡Œæ•ˆæœï¼š</strong></p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200401_210833.png" width="90%"/ loading="lazy"></li></ul><br><h3 id="ä¸‹è½½åœ°å€ï¼š"><a href="#ä¸‹è½½åœ°å€ï¼š" class="headerlink" title="ä¸‹è½½åœ°å€ï¼š"></a>ä¸‹è½½åœ°å€ï¼š</h3><p><a href="https://github.com/xmuli/linuxExample/tree/master/11_pipe">11_pipe</a></p><p>æ¬¢è¿ star å’Œ fork è¿™ä¸ªç³»åˆ—çš„ linux å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸­çˆ¶å­è¿›ç¨‹ã€å…„å¼Ÿå­è¿›ç¨‹ä¹‹é—´é€šä¿¡æ–¹å¼--åŒ¿åç®¡é“pipe(é€‚ç”¨äºæœ‰è¡€ç¼˜å…³ç³»çš„è¿›ç¨‹)</title>
      <link href="/posts/145c9de9/"/>
      <url>/posts/145c9de9/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€<strong>å¯¹äºæœ‰è¡€ç¼˜å…³ç³»çš„è¿›ç¨‹é—´é€šä¿¡ï¼Œå¦‚çˆ¶å­è¿›ç¨‹ã€å…„å¼Ÿå­è¿›ç¨‹å­ä¹‹é—´çš„é€šä¿¡ï¼Œå¯ä»¥é‡‡ç”¨ï¼ˆåŒ¿åï¼‰ç®¡é“çš„ <code>pipe</code> æ–¹å¼ã€‚</strong> è€Œè¿›ç¨‹é—´é€šä¿¡ä¸€å…±æœ‰å››ç§æ–¹å¼ï¼šç®¡é“ã€ä¿¡å·ã€å…±äº«æ˜ å°„åŒºã€å¥—æ¥å­—ã€‚ä¸”è¯´ä¸€ä¸ªæ¦‚å¿µï¼Œè¿›ç¨‹é—´é€šä¿¡ï¼ˆInter Process Communicationï¼‰ï¼Œå­—æ¯é¦–å†™å³ä¸º IPCã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š"></a>ç¼–ç¨‹ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>uos20</code> ğŸ“ <code>gcc/g++ 8.3</code> ğŸ“ <code>gdb8.0</code> </p><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14 </code> ğŸ“ <code>gcc/g++ 9.2</code> ğŸ“ <code>gdb8.3</code> </p><br><h3 id="è¿›ç¨‹é—´é€šä¿¡-IPCï¼š"><a href="#è¿›ç¨‹é—´é€šä¿¡-IPCï¼š" class="headerlink" title="è¿›ç¨‹é—´é€šä¿¡ IPCï¼š"></a>è¿›ç¨‹é—´é€šä¿¡ IPCï¼š</h3><p>è¿›ç¨‹é—´é€šä¿¡ï¼ˆInter Process Communicationï¼‰ï¼Œå­—æ¯é¦–å†™å³ä¸º IPCã€‚</p><ul><li><font color=#FF0000  size=4 face="å¹¼åœ†"><strong>è¿›ç¨‹é—´å¸¸ç”¨çš„ 4 ç§æ–¹å¼ï¼š</strong></font><ul><li><strong>ç®¡é“</strong> ï¼ˆç®€å•ï¼‰</li><li><strong>ä¿¡å·</strong> ï¼ˆç³»ç»Ÿå¼€é”€å°ï¼‰</li><li><strong>å…±äº«æ˜ å°„åŒº</strong> ï¼ˆæœ‰æ— è¡€ç¼˜å…³ç³»çš„è¿›ç¨‹é—´é€šä¿¡éƒ½å¯ä»¥ï¼‰</li><li><strong>æœ¬åœ° socket å¥—æ¥å­—</strong> (ç¨³å®š)</li></ul></li></ul><br><h3 id="åŒ¿åç®¡é“ï¼ˆpipeï¼‰ï¼š"><a href="#åŒ¿åç®¡é“ï¼ˆpipeï¼‰ï¼š" class="headerlink" title="åŒ¿åç®¡é“ï¼ˆpipeï¼‰ï¼š"></a>åŒ¿åç®¡é“ï¼ˆpipeï¼‰ï¼š</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">pipe</span><span class="token punctuation">(</span><span class="token keyword">int</span> fildes<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸€èˆ¬éƒ½æ˜¯æŒ‡åˆ›å»ºåŒ¿åç®¡é“ï¼Œå…¶ä¸­ä¼ å‡º <code>int fildes[2]</code> å‚æ•°æ˜¯å›ºå®šçš„ï¼›fildes[0] ä»£è¡¨è¯»ç«¯ï¼Œfildes[1] ä»£è¡¨å†™ç«¯ã€‚<font color=#FF0000  size=4 face="å¹¼åœ†">é€‚ç”¨äºæœ‰è¡€ç¼˜å…³ç³»çš„è¿›ç¨‹ã€‚</font>é€šå¸¸çˆ¶å­è¿›ç¨‹ä¹‹é—´æ˜¯ä¸è¦ä½¿ç”¨ sleep() å‡½æ•°çš„ï¼Œå› ä¸ºç®¡é“é»˜è®¤å°±æ˜¯å µå¡çš„ã€‚è™½ç„¶å®ç°å½¢æ€ä¸Šæ˜¯æ–‡ä»¶ï¼Œä½†æ˜¯ç®¡é“æœ¬èº«å¹¶ä¸å ç”¨ç£ç›˜æˆ–è€…å…¶ä»–å¤–éƒ¨å­˜å‚¨çš„ç©ºé—´ã€‚åœ¨Linuxçš„å®ç°ä¸Šï¼Œå®ƒå ç”¨çš„æ˜¯å†…å­˜ç©ºé—´ã€‚æ‰€ä»¥ï¼ŒLinuxä¸Šçš„ç®¡é“å°±æ˜¯ä¸€ä¸ªæ“ä½œæ–¹å¼ä¸ºæ–‡ä»¶çš„å†…å­˜ç¼“å†²åŒºã€‚</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200329_165752.png" width="70%"/ loading="lazy"><br><ul><li><strong>æœ¬è´¨ï¼š</strong> <ul><li><font color=#FF0000  size=4 face="å¹¼åœ†">æ˜¯å†…æ ¸ç¼“å†²åŒºã€‚ä¹Ÿæ˜¯ä¼ªæ–‡ä»¶ï¼ˆä¸å ç”¨ç£ç›˜ç©ºé—´ï¼‰</font></li></ul></li><li><strong>ç‰¹ç‚¹ï¼š</strong><ul><li>å…¶è¯»ç«¯å’Œå†™ç«¯ï¼Œå¯¹åº”ä¸¤ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼›æ•°æ®å†™ç«¯æµå…¥ï¼Œè¯»ç«¯æµå‡º</li><li>æ“ä½œç®¡é“çš„è¿›ç¨‹è¢«é”€æ¯ä¹‹åï¼Œç®¡é“è‡ªåŠ¨è¢«é‡Šæ”¾äº†</li><li>ç®¡é“é»˜è®¤æ˜¯é˜»å¡çš„ï¼ˆè¯»å†™ç«¯ï¼‰</li></ul></li><li><strong>å®ç°åŸç†ï¼š</strong><ul><li>å†…éƒ¨å®ç°æ–¹å¼ï¼šç¯å½¢é˜Ÿåˆ—ã€‚åªæœ‰ä¸€æ¬¡è¯»å†™çš„æœºä¼šã€‚å…ˆè¿›å…ˆå‡ºã€‚</li><li>å…¶ç¼“å†²åŒºé»˜è®¤æ˜¯ 4K å¤§å°ï¼›ä½†æ˜¯å¤§å°ä¼šéšç€å®é™…æƒ…å†µ<strong>é€‚å½“</strong> è°ƒæ•´ã€‚</li></ul></li><li><strong>å±€é™æ€§ï¼š</strong><ul><li>é˜Ÿåˆ—ï¼šæ•°æ®åªèƒ½å¤Ÿè¯»å–ä¸€æ¬¡ï¼Œä¸èƒ½å¤Ÿé‡å¤è¯»å–</li><li>åŠå…¨å·¥æ–¹å¼å·¥ä½œ</li></ul></li></ul><br><h4 id="çˆ¶å­è¿›ç¨‹é—´é€šä¿¡ï¼š"><a href="#çˆ¶å­è¿›ç¨‹é—´é€šä¿¡ï¼š" class="headerlink" title="çˆ¶å­è¿›ç¨‹é—´é€šä¿¡ï¼š"></a>çˆ¶å­è¿›ç¨‹é—´é€šä¿¡ï¼š</h4><ul><li><p><strong>å†™ä¸€ä¸ªçˆ¶å­è¿›ç¨‹é—´ï¼Œä½¿ç”¨ç®¡é“é€šä¿¡çš„ä¾‹å­ï¼š</strong></p><p>æ¯”å¦‚è¯´ï¼Œå†™ä¸€ä¸ªä¾‹å­ï¼Œå®ç°çˆ¶å­è¿›ç¨‹é—´çš„é€šä¿¡ï¼Œå®ç° <code>ps aux | grep bash</code> çš„å®ç°ã€‚ä½ å¯ä»¥çœ‹ä¸‹é¢çš„æ€è·¯å›¾è§£æï¼Œç„¶åè‡ªå·±å°è¯•æ•²å†™ä¸€éï¼Œæ²¡æœ‰å‡ºæ¥çš„è¯ï¼Œå†æ¥çœ‹æˆ‘çš„ã€‚å­¦ä¹ ä¹‹äº‹ï¼Œä¸èƒ½æ€¥äºæ±‚æˆï¼Œå§‹ç»ˆæ˜¯é‚£å¥è¯ï¼š<strong>çº¸ä¸Šå­¦æ¥ç»ˆè§‰æµ…ï¼Œè§‰çŸ¥æ­¤äº‹è¦èº¬è¡Œã€‚</strong> å½“ä½ å¼€å§‹å†™ä¸‹ç¬¬ä¸€è¡Œä»£ç çš„æ—¶å€™ï¼Œä½ ä¼šæ„Ÿå—åˆ°åˆ›é€ çš„å¿«ä¹ã€‚</p></li><li><p><strong>ä»£ç å®ç°ï¼š</strong></p></li></ul><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/wait.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> fd<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>   <span class="token comment">//ç”¨æ¥æ ‡è®°ç®¡é“çš„ä¸¤ç«¯çš„æ–‡ä»¶æè¿°ç¬¦</span>    <span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">pipe</span><span class="token punctuation">(</span>fd<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åˆ›å»ºç®¡é“ pipe. fd[2] æ˜¯å›ºå®šçš„è¾“å‡ºå‚æ•°</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ret <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"[pipe create file] "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>            <span class="token keyword">int</span> pipeRead <span class="token operator">=</span> fd<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>       <span class="token keyword">int</span> pipeWrite <span class="token operator">=</span> fd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    pid_t pid <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                         <span class="token comment">//parent process</span>        <span class="token function">dup2</span><span class="token punctuation">(</span>pipeWrite<span class="token punctuation">,</span> STDOUT_FILENO<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//é‡å®šå‘</span>        <span class="token function">close</span><span class="token punctuation">(</span>pipeRead<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">execlp</span><span class="token punctuation">(</span><span class="token string">"ps"</span><span class="token punctuation">,</span> <span class="token string">"ps"</span><span class="token punctuation">,</span> <span class="token string">"aux"</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                 <span class="token comment">//child process</span>        <span class="token function">dup2</span><span class="token punctuation">(</span>pipeRead<span class="token punctuation">,</span> STDIN_FILENO<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//é‡å®šå‘</span>        <span class="token function">close</span><span class="token punctuation">(</span>pipeWrite<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">execlp</span><span class="token punctuation">(</span><span class="token string">"grep"</span><span class="token punctuation">,</span> <span class="token string">"grep"</span><span class="token punctuation">,</span> <span class="token string">"bash"</span><span class="token punctuation">,</span> <span class="token string">"--color=auto"</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p><strong>ä»£ç åˆ†æï¼š</strong></p><ul><li><p>çˆ¶è¿›ç¨‹çš„ 3 å·æ–‡ä»¶æè¿°ç¬¦è¡¨ï¼ŒæŒ‡å‘ pipe ç®¡é“çš„å†™ç«¯ï¼Œè¦è®°å¾—æ­¤åˆ»æŠŠå®ƒçš„è¯»ç«¯å…³é—­</p></li><li><p>å­è¿›ç¨‹çš„ 4 å·æ–‡ä»¶æè¿°ç¬¦è¡¨ï¼ŒæŒ‡å‘ pipe ç®¡é“çš„è¯»ç«¯ï¼Œè¦è®°å¾—æ­¤åˆ»æŠŠå®ƒçš„å†™ç«¯å…³é—­</p></li><li><p>å› ä¸ºç®¡é“åªèƒ½å¤Ÿä¸€æ¬¡æœºä¼šè¯»å†™æœºä¼šã€‚å¦‚æœè¦çˆ¶å­è¿›ç¨‹éƒ½èƒ½å¤Ÿè¯»å†™ï¼Œé‚£ä¹ˆè¿˜å¾—åŠ ä¸€ä¸ªç®¡é“</p></li><li><p>ç®¡é“æ˜¯é»˜è®¤æ˜¯é˜»å¡çš„</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200331_160109.png" width="100%"/ loading="lazy"></li><li><p>å…¶ä¸­å¯¹ä»£ç è¿›ç¨‹ä¸­çš„ 20-28è¡Œçš„ç†è§£ï¼Œå’Œæ–‡ä»¶æè¿°è¡¨ä¸­çš„æ–‡ä»¶æè¿°ç¬¦ 0-4å· çš„å¯¹åº”å…³ç³»å¦‚ä¸‹ï¼š</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200331_154545.png" width="70%"/ loading="lazy"></li></ul></li><li><p><strong>è¿è¡Œç»“æœï¼š</strong></p><ul><li><p>åœ¨ Ubuntu 18.4 ä¸Šé¢çš„æ•ˆæœå¦‚å›¾ï¼š</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200331_143343.png" width="90%"/ loading="lazy"></li><li><p>åœ¨ Mac 10.14.6 ä¸Šé¢æ•ˆæœï¼ˆåé¢é‚£ä¸€ä¸²å¤šä½™çš„ï¼Œéƒ½æ˜¯å®ƒè‡ªå¸¦çš„ä¸€äº›å‘½ä»¤å‚æ•°ï¼‰</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200331_143639.png" width="90%"/ loading="lazy"><ul><li>å½“ä½ æ•…æ„å¼€å¤šä¸ªç»ˆç«¯çš„æ—¶å€™ï¼Œä¹Ÿä¼šæŠŠå…¶ä»–çš„ç»ˆç«¯æœç´¢å‡ºæ¥</li></ul> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200330_212720.png" width="90%"/ loading="lazy"></li></ul><p>â€‹ </p><ul><li>ç”±ä¸Šé¢æ˜¯å¯ä»¥çœ‹åˆ° åœ¨ Linux å’Œ Unix ç³»ç»Ÿä¹‹é—´æ˜¯æœ‰ç€ä¸€äº›åŒºåˆ«çš„ï¼Œç¬¬1ã€2 å¼ æˆªå›¾ï¼Œå…¶è¿›ç¨‹çš„æ‰€æœ‰è€…ï¼ŒLinux ä¸­ä¸¤ä¸ªéƒ½æ˜¯ muli ç”¨æˆ·ï¼›è€Œ Unix ä¸€ä¸ªæ˜¯ root ç³»ç»Ÿ ï¼Œä¸€ä¸ªæ˜¯ muli ç”¨æˆ·ã€‚ä½†æ˜¯è¿™é‡Œæœ‰ä¸€æ®µå›°æƒ‘ï¼Œæ€ä¹ˆ Unix ä¸­æ˜¾ç¤º root çš„é‚£ä¸ªè¿›ç¨‹ï¼Œ åé¢æ˜¯æœ‰æ˜¾ç¤ºä¸ºæˆ‘çš„ä¸€ä¸ªè™šæ‹Ÿæœºè½¯ä»¶yï¼Ÿæ€ä¹ˆå’Œä»–æ‰¯ä¸Šå…³ç³»çš„ï¼Ÿï¼Ÿï¼Ÿè¿™é‡Œæš‚æ—¶æœ‰ä¸€ä¸ªå°çš„å›°æƒ‘ã€‚åœ¨ä¸‹ä¸€ä¸ªä¾‹å­ä¸­ï¼Œä¼šçœ‹åˆ°æ›´æœ‰å…¶ä»–çš„ä¸åŒã€‚</li></ul></li></ul><br><h4 id="å…„å¼Ÿå­è¿›ç¨‹é—´é€šä¿¡ï¼š"><a href="#å…„å¼Ÿå­è¿›ç¨‹é—´é€šä¿¡ï¼š" class="headerlink" title="å…„å¼Ÿå­è¿›ç¨‹é—´é€šä¿¡ï¼š"></a>å…„å¼Ÿå­è¿›ç¨‹é—´é€šä¿¡ï¼š</h4><p>è¿™é‡Œå®ç°ä¸¤ä¸ªå…„å¼Ÿå­è¿›ç¨‹ï¼ˆæ— å­™å­è¿›ç¨‹ï¼‰ä¹‹é—´ï¼Œåˆ©ç”¨ç®¡é“è¿›ç¨‹ pipe è¿›ç¨‹é€šä¿¡çš„ä¾‹å­</p><ul><li><p><strong>å…ˆä¸Šä»£ç ï¼š</strong> è¿™æ˜¯ç”±ä¸Šé¢ä¸€ä¸ªä¾‹å­æ”¹å†™çš„ï¼Œæ€è·¯å¯ä»¥å‚è€ƒå‰é¢é‚£ä¸ªå›¾</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/wait.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> fd<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>   <span class="token comment">//ç”¨æ¥æ ‡è®°ç®¡é“çš„ä¸¤ç«¯çš„æ–‡ä»¶æè¿°ç¬¦</span>    <span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">pipe</span><span class="token punctuation">(</span>fd<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åˆ›å»ºç®¡é“ pipe. fd[2] æ˜¯å›ºå®šçš„è¾“å‡ºå‚æ•°</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ret <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"[pipe create file] "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>            <span class="token keyword">int</span> pipeRead <span class="token operator">=</span> fd<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>       <span class="token keyword">int</span> pipeWrite <span class="token operator">=</span> fd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        pid_t pid <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>            <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"[creator process file:]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                         <span class="token comment">//child process 1</span>        <span class="token function">dup2</span><span class="token punctuation">(</span>pipeWrite<span class="token punctuation">,</span> STDOUT_FILENO<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token function">close</span><span class="token punctuation">(</span>pipeRead<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">execlp</span><span class="token punctuation">(</span><span class="token string">"ps"</span><span class="token punctuation">,</span> <span class="token string">"ps"</span><span class="token punctuation">,</span> <span class="token string">"aux"</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                 <span class="token comment">//child process 2</span>        <span class="token function">dup2</span><span class="token punctuation">(</span>pipeRead<span class="token punctuation">,</span> STDIN_FILENO<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">close</span><span class="token punctuation">(</span>pipeWrite<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">execlp</span><span class="token punctuation">(</span><span class="token string">"grep"</span><span class="token punctuation">,</span> <span class="token string">"grep"</span><span class="token punctuation">,</span> <span class="token string">"bash"</span><span class="token punctuation">,</span> <span class="token string">"--color=auto"</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                 <span class="token comment">//parent process</span>        <span class="token function">close</span><span class="token punctuation">(</span>pipeWrite<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">close</span><span class="token punctuation">(</span>pipeRead<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// sleep(2);</span>        <span class="token keyword">int</span> wpid<span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span> wpid <span class="token operator">=</span> <span class="token function">waitpid</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> WNOHANG<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//å›æ”¶å­è¿›ç¨‹</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>wpid <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">///sbin/init splash è¿›ç¨‹    /sbin/launchd</span>                <span class="token keyword">continue</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>wpid <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>                 <span class="token keyword">continue</span><span class="token punctuation">;</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"child dide pid = %d\n"</span><span class="token punctuation">,</span> wpid<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"pipeWrite = %d,  pipeRead = %d\n"</span><span class="token punctuation">,</span> pipeWrite<span class="token punctuation">,</span> pipeRead<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><strong>é™„ä¸Šè¯¥ä¾‹å­çš„æ€è·¯å›¾ï¼š</strong></p><ul><li>è¦æ³¨æ„å…³é—­çˆ¶è¿›ç¨‹å’Œä¸å¿…è¦çš„è¿›ç¨‹çš„å¯¹åº”å¯¹ç®¡é“çš„è¯»å†™çš„æ–‡ä»¶æè¿°ç¬¦ã€‚ä¸”æ³¨æ„åˆ°ç®¡é“é»˜è®¤æ˜¯é˜»å¡çš„ã€‚</li></ul> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200331_154612.png" width="60%"/ loading="lazy"></li><li><p><strong>è¿è¡Œæ•ˆæœï¼š</strong></p><ul><li><p>åœ¨ Ubuntu 18.4 ä¸­çš„æ•ˆæœï¼š</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200331_143330.png" width="90%"/ loading="lazy"></li><li><p>åœ¨ Mac 10.14ã€‚6 ä¸­çš„æ•ˆæœï¼š</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200331_143655.png" width="90%"/ loading="lazy"></li></ul></li><li><p><strong>è¿è¡Œç»“æœä»¥åŠä»£ç åˆ†æï¼š</strong></p><ul><li>åœ¨ Linux å’Œ Unix ä¸‹ï¼Œå‡å¯çœ‹åˆ°ï¼Œæ˜¯ ä¸‰è¡Œæ‰“å°è¾“å‡ºçš„ç»“æœ<ul><li>ç¬¬ä¸€è¡Œæ˜¯æŸ¥è¯¢åˆ° <code>å­è¿›ç¨‹ 1</code> çš„ä¿¡æ¯ï¼Œå¾€ç®¡é“é‡Œé¢å†™å…¥ <code>ps aux</code> çš„é‚£ä¸ª</li><li>ç¬¬äºŒè¡Œæ˜¯æŸ¥è¯¢åˆ° <code>å­è¿›ç¨‹ 2</code> çš„ä¿¡æ¯ï¼Œå¾€ç®¡é“é‡Œé¢å†™å…¥ <code>grep â€œbashâ€ --color=auto</code>  çš„é‚£ä¸ª</li><li>ç¬¬ä¸‰è¡Œæ˜¯çˆ¶è¿›ç¨‹ï¼Œæ‰“å°çš„è¾“å‡ºä¿¡æ¯ã€‚</li></ul></li><li>æ€è€ƒï¼Œå¦‚æœå»æ‰ä»£ç 42ï¼Œ45ï¼Œ46 è¡Œï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿï¼Ÿï¼Ÿä¼šå‘ç°åœ¨ Linux å’Œ Unix ä¸Šé¢ï¼Œéƒ½ä¼šç­”åº”æ‰¹é‡çš„ <code>child dide pid = 1</code> ä¿¡æ¯ã€‚æŸ¥çœ‹äº†ä¸€ä¸‹ï¼Œ<font color=#FF0000  size=4 face="å¹¼åœ†">è¯¥è¿›ç¨‹å· pid &#x3D;&#x3D; 1ï¼Œåœ¨ Linux ä¸‹æ˜¯ <code>/sbin/init splash</code> ï¼›åœ¨ Unix ä¸‹æ˜¯ <code>/sbin/launchd</code> è¿›ç¨‹ã€‚</font> ä¹Ÿå°±æ˜¯ä¹¦ä¸Šå’Œä¸€äº›åšå®¢è¯´çš„ init è¿›ç¨‹ï¼Œä¸“é—¨ç”¨æ¥é¢†å…»å­¤å„¿è¿›ç¨‹çš„ï¼Œ<strong>ç”¨æ¥é‡Šæ”¾</strong> å­ï¼ˆå­¤å„¿ï¼‰è¿›ç¨‹çš„ <strong>ç³»ç»Ÿç©ºé—´çš„ PCB</strong> ã€‚</li></ul></li></ul><br><h3 id="ç®¡é“çš„è¯»å†™è¡Œä¸ºï¼š"><a href="#ç®¡é“çš„è¯»å†™è¡Œä¸ºï¼š" class="headerlink" title="ç®¡é“çš„è¯»å†™è¡Œä¸ºï¼š"></a>ç®¡é“çš„è¯»å†™è¡Œä¸ºï¼š</h3><p>æ­¤éƒ¨åˆ†ä¸ºç†è§£ï¼Œä½†æ˜¯å½’æ€»ç»“çº³ä¸€ä¸‹ï¼š</p><h4 id="è¯»æ“ä½œï¼š"><a href="#è¯»æ“ä½œï¼š" class="headerlink" title="è¯»æ“ä½œï¼š"></a>è¯»æ“ä½œï¼š</h4><ul><li><strong>æœ‰æ•°æ®ï¼š</strong><ul><li>read(fd)ï¼Œ -æ­£å¸¸è¯»ï¼Œè¿”å›è¯»å‡ºçš„å­—èŠ‚æ•°</li></ul></li><li><strong>æ— æ•°æ®ï¼š</strong><ul><li>å†™ç«¯å…¨éƒ¨å…³é—­<ul><li>read è§£é™¤é˜»å¡ï¼Œè¿”å› 0</li><li>ç›¸å½“äºè¯»æ–‡ä»¶åˆ°äº†å°¾éƒ¨</li></ul></li><li>æ²¡æœ‰å…¨éƒ¨å…³é—­<ul><li>read é˜»å¡ï¼ˆæ¯”å¦‚è®¾ç½®äº†ä¸€ä¸ª sleep(10)ï¼‰</li></ul></li></ul></li></ul><h4 id="å†™æ“ä½œï¼š"><a href="#å†™æ“ä½œï¼š" class="headerlink" title="å†™æ“ä½œï¼š"></a>å†™æ“ä½œï¼š</h4><ul><li><strong>è¯»ç«¯å…¨éƒ¨å…³é—­ï¼š</strong><ul><li>ç®¡é“ç ´è£‚ï¼Œè¿›ç¨‹è¢«ç»ˆæ­¢<ul><li>å†…æ ¸ç»™å½“å‰è¿›ç¨‹å‘é€ SIGPIPE ä¿¡å·ï¼ˆ13 å·ä¿¡å·ï¼‰</li></ul></li></ul></li><li><strong>è¯»ç«¯æ²¡æœ‰å…¨éƒ¨å…³é—­</strong><ul><li>ç¼“å†²åŒºå†™æ»¡äº†<ul><li>write é˜»å¡</li></ul></li><li>ç¼“å†²åŒºæ²¡æœ‰å†™æ»¡<ul><li>write ç»§ç»­å†™</li></ul></li></ul></li></ul><br><h3 id="æŸ¥çœ‹ç®¡é“ç¼“å†²åŒºå¤§å°ï¼š"><a href="#æŸ¥çœ‹ç®¡é“ç¼“å†²åŒºå¤§å°ï¼š" class="headerlink" title="æŸ¥çœ‹ç®¡é“ç¼“å†²åŒºå¤§å°ï¼š"></a>æŸ¥çœ‹ç®¡é“ç¼“å†²åŒºå¤§å°ï¼š</h3><ul><li><p><strong>å‘½ä»¤ï¼š</strong>  <del><code>ulimix -a</code></del> ç°åœ¨åœ¨ Linux å’Œ Unix ä¸Šé¢ï¼Œéƒ½æ²¡æœ‰ pipe size è¿™ä¸€æ è¯¦ç»†ä¿¡æ¯äº†</p></li><li><p><strong>å‡½æ•°ï¼š</strong> <code>fpathconf()</code></p><ul><li><p>ä¸€ä¸ªä¾‹å­ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> fd<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>   <span class="token comment">//ç”¨æ¥æ ‡è®°ç®¡é“çš„ä¸¤ç«¯çš„æ–‡ä»¶æè¿°ç¬¦</span><span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">pipe</span><span class="token punctuation">(</span>fd<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åˆ›å»ºç®¡é“ pipe. fd[2] æ˜¯å›ºå®šçš„è¾“å‡ºå‚æ•°</span><span class="token keyword">int</span> pipeSize <span class="token operator">=</span> <span class="token function">fpathconf</span><span class="token punctuation">(</span>fd<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> _PC_PIPE_BUF<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//fd[1] ä¹Ÿè¡Œ</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"pipeSize = %d\n"</span><span class="token punctuation">,</span> pipeSize<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>è¾“å‡ºç»“æœï¼šUnix ä¸‹æ˜¯ 512 å¤§å°</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200331_165502.png" width="60%"/ loading="lazy"></li></ul></li></ul><br><h3 id="è®¾ç½®ç®¡é“çš„éé˜»å¡å±æ€§ï¼š"><a href="#è®¾ç½®ç®¡é“çš„éé˜»å¡å±æ€§ï¼š" class="headerlink" title="è®¾ç½®ç®¡é“çš„éé˜»å¡å±æ€§ï¼š"></a>è®¾ç½®ç®¡é“çš„éé˜»å¡å±æ€§ï¼š</h3><ul><li><p><strong>é»˜è®¤ç®¡é“æ˜¯è¯»å†™ä¸¤ç«¯éƒ½æ˜¯é˜»å¡</strong></p></li><li><p>fcntl()  â€“å˜å‚å‡½æ•°</p><ul><li>ä½œç”¨ä¸€ï¼šå¤åˆ¶æ–‡ä»¶æè¿°ç¬¦ -dup</li><li>ä½œç”¨äºŒï¼šä¿®æ”¹æ–‡ä»¶å±æ€§ -open çš„æ—¶å€™å¯¹åº” flag å±æ€§</li></ul></li><li><p>ä¾‹å¦‚å®ç°è¯»ç«¯ä¸ºéé˜»å¡ pipe(fd)</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> flags <span class="token operator">=</span> <span class="token function">fcntl</span><span class="token punctuation">(</span>fd<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> F_GETFL<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//è·å–åŸæ¥çš„ flagsï¼Œ F_GET FL ï¼ˆget flags çš„ç¼©å†™ï¼‰</span>flags <span class="token operator">|=</span> O_NONBLOCK<span class="token punctuation">;</span>                <span class="token comment">//æ·»åŠ éé˜»å¡å±æ€§</span><span class="token function">fcntl</span><span class="token punctuation">(</span>fd<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> F_SETFL<span class="token punctuation">,</span> flages<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//è®¾ç½®æ–°çš„å±æ€§</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li></ul><br><h3 id="ä¸‹è½½åœ°å€ï¼š"><a href="#ä¸‹è½½åœ°å€ï¼š" class="headerlink" title="ä¸‹è½½åœ°å€ï¼š"></a>ä¸‹è½½åœ°å€ï¼š</h3><p><a href="https://github.com/xmuli/linuxExample/tree/master/11_pipe">11_pipe</a></p><p>æ¬¢è¿ star å’Œ fork è¿™ä¸ªç³»åˆ—çš„ linux å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Macçš„é‚®ä»¶å®¢æˆ·ç«¯ä½¿ç”¨--ç™»å½•GMailé‚®ç®±å’ŒQQé‚®ç®±çš„è§£å†³æ–¹æ¡ˆ</title>
      <link href="/posts/7c9c6ccc/"/>
      <url>/posts/7c9c6ccc/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€åœ¨ MacOS ä¸­ä½¿ç”¨ <strong>é‚®ä»¶</strong> ï¼ˆé‚®ç®±ï¼‰ ç™»å½• <strong>GMail</strong> é‚®ç®±å’Œ <strong>QQ</strong> é‚®ç®±</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14.6 </code> ğŸ“ <code>é‚®ä»¶ 12.4 </code> </p><br><h3 id="é‚®ä»¶ä¸Šç™»å½•-è°·æ­Œé‚®ç®±ï¼ˆGMailï¼‰ï¼š"><a href="#é‚®ä»¶ä¸Šç™»å½•-è°·æ­Œé‚®ç®±ï¼ˆGMailï¼‰ï¼š" class="headerlink" title="é‚®ä»¶ä¸Šç™»å½• è°·æ­Œé‚®ç®±ï¼ˆGMailï¼‰ï¼š"></a>é‚®ä»¶ä¸Šç™»å½• è°·æ­Œé‚®ç®±ï¼ˆGMailï¼‰ï¼š</h3><ul><li><p>è°·æ­Œé‚®ç®±è¦å¼€å¯ IMAP è®¾ç½®ï¼Œç„¶ååœ¨ V2rayU çš„ PAC ä¸­æ·»åŠ ä¸€æ¡è§„åˆ™å³å¯ã€‚</p></li><li><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p><ol><li><p>ç™»å½•ç½‘é¡µç‰ˆçš„è°·æ­Œé‚®ç®± <a href="https://accounts.google.com/">https://accounts.google.com</a></p></li><li><p>ç‚¹å‡»å³ä¸Šè§’çš„è®¾ç½®ï¼Œè¿›å…¥ <code>è®¾ç½® - è½¬å‘å’Œ POP/IMAP - IMAP è®¿é—®</code>ï¼Œ å¼€å¯ <code>å¯ç”¨ IMAP</code> è®¾ç½®</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200331_223505.png" width="70%"/ loading="lazy"></li><li><p>ç‚¹å‡»ä¿å­˜ï¼›</p></li><li><p>ç‚¹å‡»ä½ è‡ªå·±çš„è®¾ç½®è‡ªç”±ä¸Šç½‘çš„ï¼Œä¿®æ”¹ PAC è§„åˆ™ï¼Œåœ¨è¿™é‡Œæ·»åŠ è¿™æ ·ä¸€è¡Œ <code>||*.gmail.com</code></p><p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200331_225500.png" width="25%"/ loading="lazy">  <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200331_225556.png" width="60%"/ loading="lazy"></p></li><li><p>ç„¶åè¿›å…¥é‚®ä»¶è¾“å…¥ google gmail çš„è´¦å·å’Œå¯†ç ã€‚å³å¯ç™»å½•æˆåŠŸ</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200331_222942.png" width="70%"/ loading="lazy"></li></ol></li></ul><br><h3 id="é‚®ä»¶ä¸Šç™»å½•-QQ-é‚®ç®±ï¼ˆqq-comï¼‰ï¼š"><a href="#é‚®ä»¶ä¸Šç™»å½•-QQ-é‚®ç®±ï¼ˆqq-comï¼‰ï¼š" class="headerlink" title="é‚®ä»¶ä¸Šç™»å½• QQ é‚®ç®±ï¼ˆqq.comï¼‰ï¼š"></a>é‚®ä»¶ä¸Šç™»å½• QQ é‚®ç®±ï¼ˆqq.comï¼‰ï¼š</h3><ul><li><p>å®é™…æ“ä½œä¸­ï¼Œä¼šå‘ç°ï¼Œç›´æ¥è¾“å…¥ QQ é‚®ç®±çš„è´¦å·å¯†ç å³ä½¿æ˜¯æ­£ç¡®çš„ï¼Œä¹Ÿä¼šæç¤ºç™»å½•å¤±è´¥ï¼Œä¹Ÿä¼šæç¤ºæ˜¯é”™è¯¯çš„ã€‚å› ä¸ºå¯†ç ä¸æ˜¯ QQ é‚®ç®±å¯†ç ï¼Œè€Œæ˜¯ä½ å¼€å¯çš„ POP3&#x2F;IMAP éªŒè¯ä¹‹åçš„å¯†ç ã€‚ å¦åˆ™ä¼šæç¤ºå¦‚ä¸‹ï¼š</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200331_185458.png" width="50%"/ loading="lazy"></li></ul><br><ul><li><p><strong>è§£å†³æ–¹æ³•ï¼š</strong></p><ol><li><p>ç™»å½•ç½‘é¡µç‰ˆ QQ é‚®ç®±ï¼š <a href="https://mail.qq.com/">https://mail.qq.com</a></p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200331_185205.png" width="70%"/ loading="lazy"></li><li><p>è¿›å…¥åˆ° <code>ä¸»é¡µ-è®¾ç½®-è´¦æˆ·</code> </p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200331_185235.png" width="70%"/ loading="lazy"></li><li><p>ç„¶åå¾€ä¸‹æ‹‰ï¼Œæ‰¾åˆ°è®¾ç½® POP3&#x2F;IMAP æœåŠ¡çš„åœ°æ–¹ï¼Œå¼€å¯å¦‚ä¸‹ä¸¤ä¸ªæœåŠ¡ï¼ˆè‹¥æ˜¯å¼€å¯æ—¶å€™ï¼Œç³»ç»Ÿç»™çš„å¯†ç æ²¡æœ‰æ˜¾ç¤ºï¼Œå¯ä»¥åˆ·æ–°ï¼Œæˆ–è€…é€€å‡ºåå†æ¬¡å°è¯•ï¼Œå³å¯åˆ·æ–°å‡ºæ¥ï¼‰</p><ul><li><p>POP3&#x2F;SMTPæœåŠ¡ (<a href="http://service.mail.qq.com/cgi-bin/help?subtype=1&&id=28&&no=371">å¦‚ä½•ä½¿ç”¨ Foxmail ç­‰è½¯ä»¶æ”¶å‘é‚®ä»¶ï¼Ÿ</a>)</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200331_184900.png" width="50%"/ loading="lazy"></li><li><p>MAP&#x2F;SMTPæœåŠ¡ (<a href="http://service.mail.qq.com/cgi-bin/help?subtype=1&&id=28&&no=331">ä»€ä¹ˆæ˜¯ IMAPï¼Œå®ƒåˆæ˜¯å¦‚ä½•è®¾ç½®ï¼Ÿ</a>)</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200331_185104.png" width="50%"/ loading="lazy"></li></ul></li><li><p>å¼€å¯ä¹‹åï¼Œç„¶åå†æ¬¡è¾“å…¥ä½ çš„é‚®ç®±ï¼Œå¯†ç ä¸€æ è¾“å…¥ IMAP çš„æˆæƒå¯†ç ã€‚å³å¯ç™»é™†æˆåŠŸã€‚</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200331_223704.png" width="70%"/ loading="lazy"></li></ol></li></ul><br><h3 id="é‚®ä»¶ä¸Šç™»å½•-Gmail-å’Œ-QQ-Mail-æˆåŠŸï¼š"><a href="#é‚®ä»¶ä¸Šç™»å½•-Gmail-å’Œ-QQ-Mail-æˆåŠŸï¼š" class="headerlink" title="é‚®ä»¶ä¸Šç™»å½• Gmail å’Œ QQ Mail æˆåŠŸï¼š"></a>é‚®ä»¶ä¸Šç™»å½• Gmail å’Œ QQ Mail æˆåŠŸï¼š</h3> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200331_224144.png" width="70%"/ loading="lazy">]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - MacOS </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸­å­¤å„¿è¿›ç¨‹ï¼Œåƒµå°¸è¿›ç¨‹ï¼Œè¿›ç¨‹å›æ”¶waitã€waitpidå‡½æ•°</title>
      <link href="/posts/19535392/"/>
      <url>/posts/19535392/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€è¿™ç¯‡ç»§æ‰¿<a href="https://blog.csdn.net/qq_33154343/article/details/105157044">ä¸Šä¸€ç¯‡</a>ï¼Œå…ˆè¦è‡ªå·±æ¢³ç†æ¸…æ¥šä¸€ä¸‹è¿›ç¨‹ç›¸å…³çš„çŸ¥è¯†ï¼Œ <a href="https://blog.csdn.net/qq_33154343/article/details/105029261">ä¸Šä¸Šä¸€ç¯‡</a>çš„è™šæ‹Ÿåœ°å€ç©ºé—´å’Œè¿›ç¨‹æ§åˆ¶å— <code>PCB</code> ï¼Œä»¥åŠä¸Šä¸€ç¯‡çš„è¿›ç¨‹ç›¸å…³çŸ¥è¯†ï¼Œå¸¦ç€æ€è€ƒæ¥å­¦ä¹  <strong>å­¤å„¿è¿›ç¨‹ã€åƒµå°¸è¿›ç¨‹</strong>ã€ ä»¥åŠ<strong>è¿›ç¨‹å›æ”¶</strong> <code>wait()</code>ï¼Œ <code>waitpid()</code>ç›¸å…³çš„æ¦‚å¿µã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š"></a>ç¼–ç¨‹ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>uos20</code> ğŸ“ <code>gcc/g++ 8.3</code> ğŸ“ <code>gdb8.0</code> </p><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14 </code> ğŸ“ <code>gcc/g++ 9.2</code> ğŸ“ <code>gdb8.3</code> </p><br><h3 id="å­¤å„¿è¿›ç¨‹ï¼š"><a href="#å­¤å„¿è¿›ç¨‹ï¼š" class="headerlink" title="å­¤å„¿è¿›ç¨‹ï¼š"></a>å­¤å„¿è¿›ç¨‹ï¼š</h3><ul><li><p>çˆ¶è¿›ç¨‹åˆ›å»ºå­è¿›ç¨‹</p></li><li><p><strong>çˆ¶è¿›ç¨‹æ­»äº†ï¼Œå­è¿›ç¨‹è¿˜æ´»ç€ï¼Œè¯¥è¿›ç¨‹å«å­¤å„¿è¿›ç¨‹(Orphan Process)</strong></p></li><li><p><font color=#FF0000  face="å¹¼åœ†">åœ¨ä¼ ç»Ÿçš„ Linux ç³»ç»Ÿä¸­ï¼Œå­¤å„¿è¿›ç¨‹è¢« init è¿›ç¨‹é¢†å…»ï¼Œinit è¿›ç¨‹æˆä¸ºå­¤å„¿è¿›ç¨‹çš„çˆ¶äº²</font></p><ul><li><font color=#FF0000  face="å¹¼åœ†">init è¿›ç¨‹è¿™æ ·åšï¼Œä¸»è¦æ˜¯ä¸ºäº†é‡Šæ”¾å­è¿›ç¨‹å ç”¨çš„ç³»ç»Ÿèµ„æºã€‚</font></li><li><font color=#FF0000  face="å¹¼åœ†">å› ä¸ºè¿›ç¨‹ç»“æŸä¹‹åï¼Œèƒ½å¤Ÿé‡Šæ”¾ç”¨æˆ·æ§ç©ºé—´ï¼›ä½†æ˜¯é‡Šæ”¾ä¸äº†ç³»ç»Ÿç©ºé—´çš„ PCBï¼Œè¿™å—èµ„æºå¿…é¡»ç”±çˆ¶è¿›ç¨‹é‡Šæ”¾ã€‚</font></li></ul></li><li><p><strong>å†™ä¸€ä¸ªä»£ç ä¾‹å­ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    pid_t pid <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åˆ›å»ºå­è¿›ç¨‹</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//å­˜æ´»æ—¶é—´å¤§äº 1sï¼ˆæ­¤æ—¶çˆ¶è¿›ç¨‹å·²ç»æ‰§è¡Œå®Œæˆé”€æ¯ï¼‰, ä¸ºå­¤å„¿å­è¿›ç¨‹</span>        <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"this is a child process, pid = %d  ppid = %d\n"</span><span class="token punctuation">,</span> <span class="token function">getpid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getppid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//çˆ¶è¿›ç¨‹</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"this is a parent process, pid = %d  ppid = %d\n"</span><span class="token punctuation">,</span> <span class="token function">getpid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getppid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ‰§è¡Œå®Œåï¼Œçˆ¶è¿›ç¨‹å°±ç»“æŸäº†</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><strong>ä»£ç åˆ†æï¼š</strong></p><p>å½“çˆ¶è¿›ç¨‹åˆ›å»ºå­è¿›ç¨‹ä¹‹åï¼Œå¾ˆå¿«çš„å°±æ‰§è¡Œå®Œåå°±ç»“æŸé”€æ¯è‡ªå·±ï¼ˆå°äº 1s å†…ï¼‰ï¼›å› ä¸ºå­è¿›ç¨‹çš„ç”Ÿå­˜æ—¶é—´å¤§äº 1sï¼Œæ•…æ­¤æ—¶å®ƒä¸ºå­¤å„¿è¿›ç¨‹ï¼ˆä¸‹å›¾å¯è¯æ˜ï¼šæ­¤æ—¶å…¶çˆ¶è¿›ç¨‹å·æ˜¯ 1 è€Œé 17441ï¼‰ï¼Œç„¶åè¢«ç³»ç»Ÿçš„ init è¿›ç¨‹é¢†å…»ï¼Œå¸®åŠ©é”€æ¯å­è¿›ç¨‹çš„ PCBï¼›</p></li><li><p><strong>è¿è¡Œç»“æœï¼š</strong></p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200328_000041.png" width="90%"/ loading="lazy"></li></ul><br><h3 id="åƒµå°¸è¿›ç¨‹ï¼š"><a href="#åƒµå°¸è¿›ç¨‹ï¼š" class="headerlink" title="åƒµå°¸è¿›ç¨‹ï¼š"></a>åƒµå°¸è¿›ç¨‹ï¼š</h3><ul><li><p>çˆ¶è¿›ç¨‹åˆ›å»ºå­è¿›ç¨‹</p></li><li><p><strong>å­è¿›ç¨‹æ­»äº†ï¼Œçˆ¶è¿›ç¨‹è¿˜æ´»ç€ï¼Œä¸”ä¸å»é‡Šæ”¾å­è¿›ç¨‹çš„ PCBï¼Œè¯¥å­è¿›ç¨‹å°±å˜æˆäº†åƒµå°¸è¿›ç¨‹(Zombie Process)ã€‚</strong></p></li><li><p><font color=#FF0000  face="å¹¼åœ†">åƒµå°¸è¿›ç¨‹æ˜¯ä¸€ä¸ªå·²ç»æ­»æ‰çš„è¿›ç¨‹ã€‚</font></p></li><li><p><strong>å†™ä¸€ä¸ªä»£ç ä¾‹å­ï¼š</strong> </p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    pid_t pid <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åˆ›å»ºå­è¿›ç¨‹</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//ï¼ˆæ­¤æ—¶å­è¿›ç¨‹å·²ç»æ‰§è¡Œå®Œæˆé”€æ¯ï¼‰, è€Œçˆ¶è¿›ç¨‹æ²¡æœ‰æ—¶é—´å»é”€æ¯è¿™ä¸ªå­è¿›ç¨‹çš„ pcbï¼Œæ•…ä¸ºåƒµå°¸è¿›ç¨‹</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"this is a child process, pid = %d  ppid = %d\n"</span><span class="token punctuation">,</span> <span class="token function">getpid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getppid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//çˆ¶è¿›ç¨‹</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>        <span class="token punctuation">&#123;</span>            <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"this is a parent process, pid = %d  ppid = %d\n"</span><span class="token punctuation">,</span> <span class="token function">getpid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getppid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ‰§è¡Œå®Œåï¼Œçˆ¶è¿›ç¨‹å°±ç»“æŸäº†</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><strong>ä»£ç åˆ†æï¼š</strong></p><p>çˆ¶è¿›ç¨‹åˆ›å»ºå­è¿›ç¨‹ä¹‹åï¼Œå­è¿›ç¨‹åœ¨æçŸ­çš„æ—¶é—´å†…æ‰§è¡Œå®Œæ‰€æœ‰ä»£ç åï¼Œå…¶ç”¨æˆ·åŒºçš„èµ„æºè¢«é‡Šæ”¾ï¼Œå…¶ç³»ç»ŸåŒºçš„ pcb ç­‰å¾…å…¶çˆ¶è¿›ç¨‹æ¥é‡Šæ”¾ï¼›ä½†æ˜¯çˆ¶è¿›ç¨‹ä¸€ç›´åœ¨å¿™å…¶å®ƒçš„æ—¶é—´ï¼Œæ²¡æœ‰åšå¤„ç†ï¼Œé‡Šæ”¾è‡ªå·±æˆçš„ PCBï¼Œåœ¨ä¸‹å›¾å·¦ä¾§è¿˜æ²¡æœ‰è¿è¡Œ <code>ctrl c</code> çš„æ—¶å€™ï¼Œä½¿ç”¨ <code>ps</code> åœ¨ç®¡é“é‡Œé¢æŸ¥è¯¢è¯¥å­è¿›ç¨‹çš„å· 5563ï¼Œå¯ä»¥å‘ç°å…¶å·²ç»è¢«æ ‡æ³¨ä¸ºæ­»äº¡çš„è¿›ç¨‹ï¼ˆå…¶ Z+ ä¸­çš„æ˜¯å•è¯åƒµå°¸ Zombie çš„é¦–å­—æ¯ï¼‰ã€‚</p></li><li><p><strong>è¿è¡Œç»“æœï¼š</strong></p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200328_002130.png" width="100%"/ loading="lazy"></li></ul><br><h3 id="è¿›ç¨‹å›æ”¶ï¼š"><a href="#è¿›ç¨‹å›æ”¶ï¼š" class="headerlink" title="è¿›ç¨‹å›æ”¶ï¼š"></a>è¿›ç¨‹å›æ”¶ï¼š</h3><h4 id="wait-ï¼š"><a href="#wait-ï¼š" class="headerlink" title="wait()ï¼š"></a>wait()ï¼š</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">pid_t <span class="token function">wait</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>stat_loc<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><p><strong>ä½œç”¨ï¼š</strong></p><ul><li><font color=#FF0000  face="å¹¼åœ†"><strong>é˜»å¡å¹¶ä¸”ç­‰å¾…å­è¿›ç¨‹é€€å‡º</strong></font></li><li><font color=#FF0000 face="å¹¼åœ†"><strong>å›æ”¶å­è¿›ç¨‹æ®‹ç•™çš„èµ„æº</strong></font></li><li><font color=#FF0000 face="å¹¼åœ†"><strong>è·å–å­è¿›ç¨‹ç»“æŸçš„çŠ¶æ€ï¼ˆé€€å‡ºåŸå› ï¼‰</strong></font></li><li>æ¯æ¬¡åªèƒ½å¤Ÿå›æ”¶ä¸€ä¸ªè¿›ç¨‹ï¼Œè°ƒç”¨ä¸€æ¬¡ wait() ä¹Ÿåªèƒ½å›æ”¶ä¸€ä¸ªè¿›ç¨‹</li></ul></li><li><p><strong>å‚æ•°ï¼š</strong></p><ul><li><code>WIFEXITED(status)</code>: ä¸ºé 0   â€“&gt; è¿›ç¨‹æ­£å¸¸é€€å‡º<ul><li><code>WEXITSTATUS(status)</code>: å¦‚æœè¿™ä¸ªå®ä¸ºçœŸï¼Œä½¿ç”¨æ­¤å® â€“&gt; è·å–è¿›ç¨‹é€€å‡ºçŠ¶æ€(exit &#x2F; return) çš„å‚æ•°</li></ul></li><li><code>WIFSIGNALED(status)</code>: ä¸ºé 0   â€“&gt; è¿›ç¨‹å¼‚å¸¸ç»ˆæ­¢<ul><li><code>WTERMSIG(status)</code>: å¦‚æœè¿™ä¸ªå®ä¸ºçœŸï¼Œä½¿ç”¨æ­¤å® â€“&gt; è·å–ä½¿è¿›ç¨‹é€€å‡ºçš„é‚£ä¸ªä¿¡å·çš„ç¼–å·ã€‚</li></ul></li></ul></li><li><p><strong>è¿”å›å€¼ï¼š</strong></p><ul><li>æˆåŠŸï¼šæ¸…ç†æ‰çš„å­è¿›ç¨‹ ID</li><li>å¤±è´¥ï¼š-1ï¼ˆæ²¡æœ‰å­è¿›ç¨‹ï¼‰</li></ul></li><li><p><strong>å†™ä¸€ä¸ªä»£ç ä¾‹å­éªŒè¯ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/wait.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"-----å¼€å§‹-----\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    pid_t pid <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åˆ›å»ºå­è¿›ç¨‹</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//ï¼ˆæ­¤æ—¶å­è¿›ç¨‹å·²ç»æ‰§è¡Œå®Œæˆé”€æ¯ï¼‰, è€Œçˆ¶è¿›ç¨‹æ²¡æœ‰æ—¶é—´å»é”€æ¯è¿™ä¸ªå­è¿›ç¨‹çš„ pcbï¼Œæ•…ä¸ºåƒµå°¸è¿›ç¨‹</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"this is a child process, pid = %d  ppid = %d\n"</span><span class="token punctuation">,</span> <span class="token function">getpid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getppid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//çˆ¶è¿›ç¨‹</span>        <span class="token comment">//sleep(1);</span>                <span class="token keyword">int</span> status <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        pid_t wpid <span class="token operator">=</span> <span class="token function">wait</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//å›æ”¶å­è¿›ç¨‹</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">WIFEXITED</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">//åˆ¤æ–­æ˜¯å¦æ­£å¸¸é€€å‡º</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"é€€å‡ºå€¼æ˜¯ val = %d\n"</span><span class="token punctuation">,</span> <span class="token function">WEXITSTATUS</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">WIFSIGNALED</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">//åˆ¤æ–­æ˜¯è¢«ä¿¡å·æ€æ­»</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"é€šè¿‡ä¿¡å·é€€å‡º val = %d\n"</span><span class="token punctuation">,</span> <span class="token function">WTERMSIG</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"this is a parent process, pid = %d  ppid =  %d\n"</span><span class="token punctuation">,</span> <span class="token function">getpid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getppid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ‰§è¡Œå®Œåï¼Œçˆ¶è¿›ç¨‹å°±ç»“æŸäº†</span>    <span class="token punctuation">&#125;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"+++++ç»“æŸ+++++\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">9</span><span class="token punctuation">;</span>  <span class="token comment">//è‹¥æ˜¯æ³¨é‡Šæ‰ 12 å’Œ 15 è¡Œä»£ç ï¼Œä¼šæ˜¾ç¤ºçˆ¶çˆ¶è¿›ç¨‹çš„ é€€å‡ºå€¼æ˜¯ 9</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p><strong>ä»£ç åˆ†æï¼š</strong></p><p><strong>ä»£ç æ˜¯åœ¨ MacOSï¼ˆUnixï¼‰ç³»ç»Ÿä¸Šé¢è¿è¡Œçš„ï¼›</strong> </p><p>è‹¥æ˜¯æ³¨é‡Šæ‰ 12 å’Œ 15 è¡Œä»£ç ï¼Œåˆ™ä¼šè¿è¡Œç¬¬ä¸€ä¸ªå®ï¼Œå¯ä»¥çœ‹åˆ°è¿›ç¨‹ç»“æŸçš„è¿”å›å€¼æ˜¯ 9 ï¼ˆäººä¸ºéšæœºæŒ‡å®šçš„ä¸€ä¸ªæ•°å€¼ï¼Œreturn 9ï¼‰ï¼›è¿è¡Œç»“æœè§ä¸‹é¢ç¬¬ä¸€ä¸ªå›¾ã€‚</p><p>è€Œä¸æ³¨é‡Šæ‰ 12 å’Œ 15 è¡Œä»£ç ï¼›è¿è¡Œç¨‹åºåï¼Œæ‰§è¡Œ <code>kill è¿›ç¨‹å·</code> æ€æ­»å­è¿›ç¨‹ï¼Œ åˆ™ä¼šæ‰§è¡Œç¬¬äºŒä¸ªå®ï¼Œæ˜¾ç¤ºæ˜¯è¢«ä¿¡å·ï¼ˆ15ï¼‰æ‰€æ€ã€Œè‹¥æœæ˜¯ Linux è¿è¡Œï¼Œè¿™é‡Œä¼šæ˜¾ç¤ºä¿¡å·æ˜¯ 9ã€ï¼›è¿è¡Œç»“æœè§ä¸‹é¢ç¬¬äºŒä¸ªå›¾ã€‚</p></li><li><p><strong>è¿è¡Œæˆªå›¾ï¼š</strong></p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200328_163037.png" width="70%"/ loading="lazy"><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200328_163741.png" width="100%"/ loading="lazy"></li></ul></li></ul><br><h4 id="waitpid"><a href="#waitpid" class="headerlink" title="waitpid():"></a>waitpid():</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">pid_t <span class="token function">waitpid</span><span class="token punctuation">(</span>pid_t pid<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>stat_loc<span class="token punctuation">,</span> <span class="token keyword">int</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><p><strong>ä½œç”¨ï¼š</strong></p><p>åŒ wait()ï¼Œä½†æ˜¯å¯ä»¥æŒ‡å®šè¦å›æ”¶çš„è¿›ç¨‹ pid å·ï¼Œä¸”èƒ½å¤ŸæŒ‡å®šæ˜¯é˜»å¡è¿˜æ˜¯éé˜»å¡æ¨¡å¼ã€‚</p></li><li><p><strong>å‚æ•°ï¼š</strong></p><ul><li><p>pidï¼š</p><p><font color=#FF0000 face="å¹¼åœ†">pid &#x3D;&#x3D; -1ï¼›å›æ”¶æ‰€æœ‰çš„å­è¿›ç¨‹ã€‚ä¸ wait ç­‰æ•ˆ</font></p><p><font color=#FF0000 face="å¹¼åœ†">pid &gt; 0ï¼›  å›æ”¶æŒ‡å®š pid çš„è¿›ç¨‹</font></p><p>pid &#x3D;&#x3D; 0ï¼› å›æ”¶å½“å‰ç»„çš„æ‰€æœ‰å­è¿›ç¨‹</p><p>pid &lt; -1ï¼› å›æ”¶è¿›ç¨‹çš„ pid å–åï¼ˆåŠ å‡å·ï¼‰</p></li><li><p>statusï¼š</p><p>å­è¿›ç¨‹çš„é€€å‡ºçŠ¶æ€ï¼Œç”¨æ³•åŒ wait()</p></li><li><p>optionsï¼š</p><p>è®¾ç½®ä¸º WNOHANGï¼Œå‡½æ•°éé˜»å¡ï¼Œè®¾ç½®ä¸º 0ï¼Œå‡½æ•°é˜»å¡</p></li></ul></li><li><p><strong>è¿”å›å€¼ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token operator">></span> <span class="token number">0</span>  <span class="token comment">//è¿”å›æ¸…ç†æ‰çš„å­è¿›ç¨‹ ID</span><span class="token operator">-</span><span class="token number">1</span>   <span class="token comment">//æ— å­è¿›ç¨‹</span><span class="token operator">=</span><span class="token number">0</span>   <span class="token comment">//å‚æ•° 3 ä¸º WHOHANGï¼Œä¸”å­è¿›ç¨‹æ­£åœ¨è¿è¡Œ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li></ul><br><h3 id="ä¸‹è½½åœ°å€ï¼š"><a href="#ä¸‹è½½åœ°å€ï¼š" class="headerlink" title="ä¸‹è½½åœ°å€ï¼š"></a>ä¸‹è½½åœ°å€ï¼š</h3><p><a href="https://github.com/xmuli/linuxExample/tree/master/10_orphan_zombie_process">10_orphan_zombie_process</a></p><p>æ¬¢è¿ star å’Œ fork è¿™ä¸ªç³»åˆ—çš„ linux å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸­forkåˆ›å»º(å…„å¼Ÿ)å­è¿›ç¨‹ï¼ŒéªŒè¯è¿›ç¨‹ä¹‹é—´å…¨å±€å˜é‡ä¸å…±äº«ï¼Œexecå‡½æ•°æ—</title>
      <link href="/posts/5e8d6319/"/>
      <url>/posts/5e8d6319/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong> æœ¬ç¯‡ä¸»è¦è®²è§£å¦‚ä¸‹çŸ¥è¯†ç‚¹ï¼š</p><ul><li>å¹¶è¡Œå’Œå¹¶å‘çš„åŒºåˆ«</li><li>è¿›ç¨‹æ§åˆ¶å— <code>PCB</code> å’Œè¿›ç¨‹çš„äº”ç§çŠ¶æ€</li><li>ä½¿ç”¨ <code>fork()</code> åˆ›å»ºå­è¿›ç¨‹ï¼Œåˆ›å»ºå¤šä¸ªå…„å¼Ÿå­è¿›ç¨‹ï¼ˆä¸å«å­™è¿›ç¨‹ï¼‰</li><li>éªŒè¯è¿›ç¨‹ä¹‹é—´æ²¡æœ‰å…±äº«å…¨å±€å˜é‡</li><li><code>exec()</code> å‡½æ•°æ—çš„ä½¿ç”¨ï¼š<code>execl()</code> å’Œ <code>execlp()</code></li></ul><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š"></a>ç¼–ç¨‹ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>uos20</code> ğŸ“ <code>gcc/g++ 8.3</code> ğŸ“ <code>gdb8.0</code> </p><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14 </code> ğŸ“ <code>gcc/g++ 9.2</code> ğŸ“ <code>gdb8.3</code> </p><br><h3 id="å¹¶è¡Œå’Œå¹¶å‘ï¼š"><a href="#å¹¶è¡Œå’Œå¹¶å‘ï¼š" class="headerlink" title="å¹¶è¡Œå’Œå¹¶å‘ï¼š"></a>å¹¶è¡Œå’Œå¹¶å‘ï¼š</h3><h4 id="å¹¶å‘ï¼šä¸€ä¸ªæ—¶é—´æ®µï¼Œå¤„ç†è¯·æ±‚çš„ä¸ªæ•°"><a href="#å¹¶å‘ï¼šä¸€ä¸ªæ—¶é—´æ®µï¼Œå¤„ç†è¯·æ±‚çš„ä¸ªæ•°" class="headerlink" title="å¹¶å‘ï¼šä¸€ä¸ªæ—¶é—´æ®µï¼Œå¤„ç†è¯·æ±‚çš„ä¸ªæ•°"></a>å¹¶å‘ï¼šä¸€ä¸ªæ—¶é—´æ®µï¼Œå¤„ç†è¯·æ±‚çš„ä¸ªæ•°</h4><p>egï¼š<font color=#FF0000 face="å¹¼åœ†"><strong>åœ¨ä¸€ä¸ªæ—¶é—´æ®µå†…ï¼Œ</strong> </font> <strong>å¤„ç†çš„è¯·æ±‚ä¸ªæ•°ã€‚</strong> åªæœ‰ä¸€ä¸ª cpu å¯¹ä»»åŠ¡è¿›è¡Œå¤„ç†ã€‚ ï¼ˆæ¯ä¸ªäººéƒ½åƒä¸€å£é¥­ï¼Œä½†æ˜¯æ‰€æœ‰äººéƒ½æ²¡æœ‰åƒé¥±ï¼ŒçŸ­æ—¶é—´å†…è®©å¤§é‡çš„å¿«é€Ÿåƒï¼Œç„¶åè¿™æ ·è½®å¾ªç¯ã€‚ï¼‰</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200325_204310.png" width="50%"/ loading="lazy"> <bt><h4 id="å¹¶è¡Œï¼šå¤šä¸ªè¿›ç¨‹åŒæ—¶è¿›è¡Œä»»åŠ¡åˆ†é…ï¼š"><a href="#å¹¶è¡Œï¼šå¤šä¸ªè¿›ç¨‹åŒæ—¶è¿›è¡Œä»»åŠ¡åˆ†é…ï¼š" class="headerlink" title="å¹¶è¡Œï¼šå¤šä¸ªè¿›ç¨‹åŒæ—¶è¿›è¡Œä»»åŠ¡åˆ†é…ï¼š"></a>å¹¶è¡Œï¼šå¤šä¸ªè¿›ç¨‹åŒæ—¶è¿›è¡Œä»»åŠ¡åˆ†é…ï¼š</h4><p>å¯ä»¥çœ‹åšï¼Œæœ‰å¤šä¸ª cpu å¯¹å¤šä¸ªä»»åŠ¡è¿›è¡ŒåŒæ—¶å¤„ç†ã€‚</p>  <img src='https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/vQbYAF.png' width="50%"/ loading="lazy"><br><h3 id="PCB-å’Œ-è¿›ç¨‹çš„äº”ç§çŠ¶æ€ï¼š"><a href="#PCB-å’Œ-è¿›ç¨‹çš„äº”ç§çŠ¶æ€ï¼š" class="headerlink" title="PCB å’Œ è¿›ç¨‹çš„äº”ç§çŠ¶æ€ï¼š"></a>PCB å’Œ è¿›ç¨‹çš„äº”ç§çŠ¶æ€ï¼š</h3><h4 id="è¿›ç¨‹æ§åˆ¶å—-PCBï¼š"><a href="#è¿›ç¨‹æ§åˆ¶å—-PCBï¼š" class="headerlink" title="è¿›ç¨‹æ§åˆ¶å— PCBï¼š"></a>è¿›ç¨‹æ§åˆ¶å— PCBï¼š</h4><p><strong>æ­¤éƒ¨åˆ†äº†è§£å³å¯ï¼š</strong> æ¯ä¸€ä¸ªè¿›ç¨‹åœ¨å†…æ ¸ä¸­éƒ½æœ‰ä¸€ä¸ªè¿›ç¨‹æ§åˆ¶å— PCB æ¥ç»´æŠ¤è¿›ç¨‹ç›¸å…³çš„ä¿¡æ¯ï¼Œå…¶æ˜¯æœ‰ä¸€ä¸ª 400 å¤šè¡Œçš„ç»“æ„ä½“ç»„æˆï¼Œå…¶ä¸­ä¸»è¦çš„éœ€è¦äº†è§£çš„éƒ¨åˆ†å¦‚ä¸‹ï¼š</p><ul><li>è¿›ç¨‹ idã€‚ç³»ç»Ÿä¸­æ¯ä¸€ä¸ªè¿›ç¨‹æœ‰å”¯ä¸€çš„ä¸€ä¸ª idï¼Œåœ¨ C è¯­è¨€ä¸­ï¼Œç”¨ pid_t ç±»å‹è¡¨ç¤ºã€‚ï¼ˆå‡¡æ˜¯ xxx_t ä¸€èˆ¬éƒ½æ˜¯ #define é‡æ–°å®šä¸€ä¸ªç±»å‹ï¼Œ è¿™é‡Œå®é™…å°±ä¸Šè¯¾éè´Ÿæ•´æ•°ï¼‰</li><li>è¿›ç¨‹çš„çŠ¶æ€ï¼Œæœ‰<strong>å°±ç»ªï¼Œè¿è¡Œï¼ŒæŒ‚èµ·ï¼Œåœæ­¢</strong> ç­‰çŠ¶æ€ã€‚ï¼ˆè¿˜æœ‰ä¸€ä¸ª<strong>åˆå§‹æ€</strong> ï¼‰</li><li>è¿›ç¨‹åˆ‡æ¢æ—¶å€™ï¼Œéœ€è¦ä¿å­˜å’Œæ¢å¤ä¸€äº›çš„ CPU å¯„å­˜å™¨</li><li>æè¿°è™šæ‹Ÿåœ°å€ç©ºé—´çš„ä¿¡æ¯ï¼ˆæ¯å¯åŠ¨ä¸€ä¸ªè¿›ç¨‹ï¼Œå°±å¯¹åº”ä¸€ä¸ªè™šæ‹Ÿåœ°å€ç©ºé—´ï¼‰</li><li>æè¿°æ§åˆ¶ç»ˆç«¯çš„ä¿¡æ¯</li><li>å½“å‰çš„å·¥ä½œç›®å½•</li><li>umask æ©ç ï¼ˆæ‰§è¡Œ umaskï¼‰</li><li>æ–‡ä»¶æè¿°ç¬¦è¡¨ï¼ŒåŒ…å«å¾ˆå¤šæ‰§è¡Œ file ç»“æ„ä½“çš„æŒ‡é’ˆï¼ˆä¸€ä¸ªè¿›ç¨‹æœ€å¤šæ‰“å¼€ 1024 ä¸ªï¼‰</li><li>å’Œä¿¡å·ç›¸å…³çš„ä¿¡æ¯</li><li>ç”¨æˆ· uid å’Œç»„ gid (ç”¨stat xxx å¯ä»¥æŸ¥çœ‹)</li><li>ä¼šè¯ï¼ˆSessionï¼‰å’Œè¿›ç¨‹ç»„ã€‚ï¼ˆä¼šè¯å°±æ˜¯å¤šä¸ªè¿›ç¨‹ç»„ï¼‰</li><li>è¿›ç¨‹å¯ä»¥ä½¿ç”¨çš„èµ„æºä¸Šé™ï¼ˆResource Limitï¼‰ã€‚ï¼ˆä½¿ç”¨ <code>ulimit -a</code> å¯çœ‹ï¼‰</li></ul><br><h4 id="è¿›ç¨‹çš„äº”ç§çŠ¶æ€ï¼š"><a href="#è¿›ç¨‹çš„äº”ç§çŠ¶æ€ï¼š" class="headerlink" title="è¿›ç¨‹çš„äº”ç§çŠ¶æ€ï¼š"></a>è¿›ç¨‹çš„äº”ç§çŠ¶æ€ï¼š</h4><p>çœ‹ç€å¦‚ä¸‹çš„è¿™å¼ å›¾ï¼Œæƒ³èµ·é‡Œäº†æˆ‘ä¹‹å‰åˆçœ‹çš„è®¡ç®—æœºæ“ä½œç³»ç»Ÿçš„ç›¸å…³çŸ¥è¯†çš„æ—¶å€™ï¼Œæ„Ÿæ…¨é¢‡å¤šã€‚</p><ul><li>çŠ¶æ€åˆ‡æ¢çš„å…³é”®ï¼š<ul><li>è·å¾— cpu</li><li>cpu æ‰§è¡Œ</li></ul></li></ul> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200325_212716.png" width="70%"/ loading="lazy"><br><h3 id="è¿›ç¨‹æ§åˆ¶å—ï¼Œçˆ¶è¿›ç¨‹åˆ›å»ºå­è¿›ç¨‹çš„åˆ†æ-ğŸƒï¼š"><a href="#è¿›ç¨‹æ§åˆ¶å—ï¼Œçˆ¶è¿›ç¨‹åˆ›å»ºå­è¿›ç¨‹çš„åˆ†æ-ğŸƒï¼š" class="headerlink" title="è¿›ç¨‹æ§åˆ¶å—ï¼Œçˆ¶è¿›ç¨‹åˆ›å»ºå­è¿›ç¨‹çš„åˆ†æ ğŸƒï¼š"></a>è¿›ç¨‹æ§åˆ¶å—ï¼Œçˆ¶è¿›ç¨‹åˆ›å»ºå­è¿›ç¨‹çš„åˆ†æ ğŸƒï¼š</h3><p>çˆ¶å­è¿›ç¨‹ç©ºé—´ï¼Œå…¶è™šæ‹Ÿåœ°å€ç©ºé—´æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼ˆç”¨æˆ·åŒºçš„æ‰€æœ‰æ•°æ®éƒ½æ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿæ˜¯ä¼šè¿è¡Œçš„ç›¸åŒçš„ä¸€æ®µä»£ç ï¼›ç³»ç»ŸåŒºä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œå”¯ä¸€ä¸ä¸€æ ·çš„å°±æ˜¯ç³»ç»ŸåŒºçš„ id å·ï¼‰ã€‚</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200325_215524.png" width="90%"/ loading="lazy"><p>åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹ï¼Œæ˜¯ä½¿ç”¨ <code>int fork(void)</code> å‡½æ•°æ¥åˆ›å»ºï¼Œåœ¨æ‰§è¡Œå®Œè¿™ä¸ª fork å‡½æ•°ä¹‹åï¼Œå°†ç”¨æˆ·åŒºçš„å†…å®¹å…¨éƒ¨æ‹·è´ï¼ˆåŒ…æ‹¬æ¥ä¸‹æ¥è¦æ‰§è¡Œçš„ä»£ç ï¼‰è¿‡å»ã€‚<font color=#FF0000  size=4 face="å¹¼åœ†">ä¸”è¯¥ fork å‡½æ•°æœ‰ä¸¤ä¸ªè¿”å›å€¼ï¼Œ<strong>æ‰§è¡Œå®Œ fork() åï¼Œçˆ¶è¿›ç¨‹ä¼šè¿”å›å­è¿›ç¨‹çš„ idï¼ˆå¤§äº 0ï¼‰ï¼Œå­è¿›ç¨‹ä¼šè¿”å›ä¸€ä¸ª 0ï¼Œåé¢æ‰§è¡Œç›¸åŒçš„ä»£ç ï¼Œä¾é è¿™ä¸ªæ¥åŒºåˆ†çˆ¶å­è¿›ç¨‹ã€‚</strong></font> ä¸‹é¢å†™ä¸€ä¸ªä»£ç ç‰‡æ¥è¡¨æ˜ï¼š</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200325_220405.png" width="70%"/ loading="lazy"><p>å¯¹ç…§ä¸Šé¢çš„ä¸¤ä¸ªå›¾ï¼Œå¯ä»¥æ€è€ƒå¦‚ä¸‹é—®é¢˜ï¼š</p><ul><li>fork ä¹‹åï¼Œå‡½æ•°çš„è¿”å›å€¼ï¼Ÿ<ul><li>fork() è¿”å›å€¼ &gt; 0ï¼Œå°±æ˜¯çˆ¶è¿›ç¨‹ï¼›fork() è¿”å›å€¼ &#x3D;&#x3D; 0ï¼Œå°±æ˜¯å­è¿›ç¨‹</li></ul></li><li>å­è¿›ç¨‹åˆ›å»ºæˆåŠŸä¹‹åï¼Œä»£ç çš„æ‰§è¡Œä½ç½®ï¼Ÿ<ul><li><font color=#FF0000  size=4 face="å¹¼åœ†"><strong>çˆ¶è¿›ç¨‹æ‰§è¡Œå“ªé‡Œï¼ˆæ‰åˆ›å»ºå­è¿›ç¨‹ï¼‰ï¼Œå­è¿›ç¨‹å°±é‡å“ªé‡Œé‡Œå¼€å§‹æ‰§è¡Œã€‚</strong></font></li></ul></li><li>çˆ¶å­è¿›ç¨‹çš„æ‰§è¡Œé¡ºåºï¼Ÿ<ul><li>ä¸ä¸€å®šï¼Œè‡ªå·±å»æŠ¢å  cpu èµ„æºã€‚æ‰§è¡Œé¡ºåºæ˜¯ç¨‹åºå‘˜æ— æ³•æ§åˆ¶çš„ã€‚<strong>ï¼ˆcpu è½®å¾ªæ‰§è¡Œï¼‰</strong></li></ul></li><li>å¦‚ä½•åŒºåˆ†çˆ¶å­è¿›ç¨‹ï¼Ÿ<ul><li>é€šè¿‡ fork() è¿”å›å€¼</li></ul></li><li>å¦‚ä½•è·å–å½“å‰è¿›ç¨‹å’Œçˆ¶è¿›ç¨‹çš„ idï¼Ÿ<ul><li>è·å–è¿›ç¨‹ idï¼šè·å–å½“å‰è¿›ç¨‹çš„ PIDï¼š<code>getpid()</code> ï¼›è·å–å½“å‰è¿›ç¨‹çš„çˆ¶è¿›ç¨‹çš„ PIDï¼š <code>getppid()</code></li></ul></li></ul><p>å¯¹ä¸ä¸Šé¢çš„é—®é¢˜ï¼Œå†™å¦‚ä¸‹ä»£ç ç‰‡æ®µè¿›ç¨‹æµ‹è¯•ï¼Œmain.cpp é‡Œé¢çš„ä»£ç æ˜¯ï¼š<a href="https://github.com/xmuli/linuxExample/tree/master/08_fork">ä»£ç ä¸‹è½½ main.cpp</a></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"++++i = %d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    pid_t pid <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    pid <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"this is a parent process, pid = %d\n"</span><span class="token punctuation">,</span> <span class="token function">getpid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"this is a child process, pid = %d  ppid = %d\n"</span><span class="token punctuation">,</span> <span class="token function">getpid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getppid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>       <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"----i = %d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å…¶è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200325_223752.png" width="60%"/ loading="lazy"><br><h3 id="çˆ¶è¿›ç¨‹å¦‚ä½•åˆ›å»ºå¤šä¸ªå…„å¼Ÿå­è¿›ç¨‹ï¼ˆä¸å«å­™è¿›ç¨‹ï¼‰ğŸƒï¼š"><a href="#çˆ¶è¿›ç¨‹å¦‚ä½•åˆ›å»ºå¤šä¸ªå…„å¼Ÿå­è¿›ç¨‹ï¼ˆä¸å«å­™è¿›ç¨‹ï¼‰ğŸƒï¼š" class="headerlink" title="çˆ¶è¿›ç¨‹å¦‚ä½•åˆ›å»ºå¤šä¸ªå…„å¼Ÿå­è¿›ç¨‹ï¼ˆä¸å«å­™è¿›ç¨‹ï¼‰ğŸƒï¼š"></a>çˆ¶è¿›ç¨‹å¦‚ä½•åˆ›å»ºå¤šä¸ªå…„å¼Ÿå­è¿›ç¨‹ï¼ˆä¸å«å­™è¿›ç¨‹ï¼‰ğŸƒï¼š</h3><p>çœ‹äº†ä¸Šé¢çš„å°çš„ä¾‹å­ä¹‹åï¼Œå‘ç°è¿™æ ·å¯ä»¥åˆ›å»ºå­è¿›ç¨‹ï¼›è¿›ä¸€æ­¥ï¼Œæ€ä¹ˆåˆ›å»ºå¤šä¸ªå­è¿›ç¨‹ï¼Œä½†æ˜¯ä¸è¦å­™åˆ›å»ºè¿›ç¨‹ï¼Ÿæœ‰æ€ä¹ˆåˆ¤æ–­å­è¿›ç¨‹çš„é¡ºåºç¼–å·ï¼Ÿæ€ä¹ˆå¾—åˆ°æœ€å¼€å§‹çˆ¶è¿›ç¨‹ï¼Ÿ</p><p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong> <a href="https://github.com/xmuli/linuxExample/tree/master/08_fork">ä»£ç ä¸‹è½½ childProcess.cpp</a></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    pid_t pid <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        pid <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment">//å¦‚æœå½“å‰è¿›ç¨‹æ˜¯å­è¿›ç¨‹ï¼Œå°±è·³å‡ºæ­¤å¾ªç¯ï¼Œä¸åœ¨è¿›è¡Œ fork() åˆ›å»ºæ–°çš„å­è¿›ç¨‹</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"this is a child process (i == 0), pid = %d  ppid = %d\n"</span><span class="token punctuation">,</span> <span class="token function">getpid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getppid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"this is a child process (i == 1), pid = %d  ppid = %d\n"</span><span class="token punctuation">,</span> <span class="token function">getpid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getppid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"this is a child process (i == 2), pid = %d  ppid = %d\n"</span><span class="token punctuation">,</span> <span class="token function">getpid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getppid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"this is a parent process (i == 3), pid = %d  ppid = %d\n"</span><span class="token punctuation">,</span> <span class="token function">getpid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getppid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><p><strong>åˆ†æä»£ç ç‰‡ï¼š</strong></p><p><strong>è‹¥æ˜¯æ²¡æœ‰ä¸Šé¢çš„ 13ã€14 è¡Œä»£ç ï¼Œé‚£ä¹ˆåˆ›å»ºçš„å°±ä¸æ­¢ 3 ä¸ªå­è¿›ç¨‹ï¼›å°±æ˜¯å¦‚ä¸‹å›¾ç‰‡æ‰€ç¤ºçš„ç»“æœï¼›</strong> <font color=#FF0000  size=4 face="å¹¼åœ†"><strong>ä½¿ç”¨ fork() åˆ›å»ºå­è¿›ç¨‹çš„æ—¶å€™ï¼Œæ˜¯è¿›è¡Œè™šæ‹Ÿåœ°å€æ§ä»¶çš„æ‹·è´ï¼ˆå¯åœ¨è‰ç¨¿çº¸ä¸Šé¢ç”»å›¾ç†è§£ï¼Œæ˜¯ä¸€ä¸ªåœ°å€å—æ‰€æœ‰çš„ä»£ç å’Œå˜é‡å€¼éƒ½å¤åˆ¶ä¸€ä»½ï¼‰ï¼Œä»–ä»¬çš„å½“æ—¶ i æ˜¯ 1 çš„æ—¶å€™ï¼Œåˆ›å»ºçš„æ–°çš„å­è¿›ç¨‹çš„ i ä¹Ÿæ˜¯ 1ï¼Œä¸ä¼šæ˜¯åˆå€¼ 0ï¼›åŒç†ï¼Œå½“ i æ˜¯ 2 æ—¶å€™åˆ›å»ºæ–°è¿›ç¨‹ï¼Œå…¶æ–°è¿›ç¨‹çš„ i å€¼æ˜¯ 2ï¼Œè€Œä¸æ˜¯ 1ï¼›</strong></font> ä½†æ˜¯ç¦æ­¢å­è¿›ç¨‹åˆ›å»ºå­™è¿›ç¨‹ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨ for() å¾ªç¯ç”Ÿæˆå¤šä¸ªå…„å¼Ÿå­è¿›ç¨‹ï¼Œä¸”æ²¡æœ‰ä»»ä½•çš„å­™è¿›ç¨‹ã€‚</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200325_230510.png" width="80%"/ loading="lazy"><p><strong>è¿è¡Œç»“æœï¼š</strong></p><p>å¯ä»¥è‡ªå·±æ¯è¿è¡Œè¡Œä»£ç ï¼Œæ ‡è®°ä¸€ä¸‹ i çš„å€¼ï¼Œä»¥åŠæ­¤ i çš„å€¼æ—¶åˆ»å¤åˆ¶å½“å‰è¿›ç¨‹çš„è™šæ‹Ÿåœ°å€ç©ºé—´ï¼Œç»™æ–°çš„å­è¿›ç¨‹ï¼›æ‰€ä»¥ å¯ä»¥é€šè¿‡ç¼–å· i çš„æ•°å€¼ï¼Œæ¥åˆ¤æ–­å…„å¼Ÿå­è¿›ç¨‹çš„å…ˆåé¡ºåºï¼›æœ€åç¼–å·æœ€å¤§çš„é‚£ä¸ªï¼Œå°±æ˜¯æœ€åˆçš„çˆ¶è¿›ç¨‹ã€‚</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200325_233741.png" width="80%"/ loading="lazy"><br><h3 id="è¿›ç¨‹ä¹‹é—´æ˜¯å¦å…±äº«å…¨å±€å˜é‡ï¼šğŸƒ"><a href="#è¿›ç¨‹ä¹‹é—´æ˜¯å¦å…±äº«å…¨å±€å˜é‡ï¼šğŸƒ" class="headerlink" title="è¿›ç¨‹ä¹‹é—´æ˜¯å¦å…±äº«å…¨å±€å˜é‡ï¼šğŸƒ"></a>è¿›ç¨‹ä¹‹é—´æ˜¯å¦å…±äº«å…¨å±€å˜é‡ï¼šğŸƒ</h3><ul><li><p>è¯»æ—¶å…±äº«ï¼ˆåŒä¸€ä¸ªç‰©ç†å†…å­˜çš„ä¸Šé¢åŒºåŸŸï¼Œå†…å­˜åœ°å€ä¸ºåŒä¸€ä¸ªå˜é‡ï¼‰</p></li><li><p>å†™çš„æ—¶å€™å¤åˆ¶</p></li><li><p><font color=#FF0000  face="å¹¼åœ†">çˆ¶å­è¿›ç¨‹ä¹‹é—´èƒ½å¦ä½¿ç”¨å…¨å±€å˜é‡é€šä¿¡ï¼Ÿ</font></p><ul><li><font color=#FF0000  face="å¹¼åœ†">ä¸èƒ½ã€‚å› ä¸ºä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´å†…å­˜ä¸å…±äº«</font>ï¼ˆè¯»æ—¶å…±äº«ï¼Œå†™æ—¶å¤åˆ¶ï¼‰</li></ul><p>ä»£ç éªŒè¯ï¼Œæ”¹å†™ä¸Šé¢çš„ä»£ç ï¼Œæ·»åŠ ä¸€ä¸ªå…¨å±€å˜é‡ int g_num &#x3D; 200ï¼Œè¿›è¡ŒéªŒè¯ï¼š</p><p><a href="https://github.com/xmuli/linuxExample/tree/master/08_fork">ä»£ç ä¸‹è½½ sharedGlobalvariable.cpp</a></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">  <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>  <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span>      <span class="token keyword">int</span> g_num <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span>      pid_t pid <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          pid <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment">//å¦‚æœå½“å‰è¿›ç¨‹æ˜¯å­è¿›ç¨‹ï¼Œå°±è·³å‡ºæ­¤å¾ªç¯ï¼Œä¸åœ¨è¿›è¡Œ fork() åˆ›å»ºæ–°çš„å­è¿›ç¨‹</span>              <span class="token keyword">break</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          g_num <span class="token operator">+=</span> <span class="token number">5</span><span class="token punctuation">;</span>          <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"this is a child process (i == 2), pid = %d  ppid = %d\n"</span><span class="token punctuation">,</span> <span class="token function">getpid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getppid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>          g_num <span class="token operator">+=</span> <span class="token number">5</span><span class="token punctuation">;</span>          <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"this is a child process (i == 2), pid = %d  ppid = %d\n"</span><span class="token punctuation">,</span> <span class="token function">getpid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getppid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          g_num <span class="token operator">+=</span> <span class="token number">5</span><span class="token punctuation">;</span>          <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"this is a child process (i == 2), pid = %d  ppid = %d\n"</span><span class="token punctuation">,</span> <span class="token function">getpid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getppid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          g_num <span class="token operator">+=</span> <span class="token number">100</span><span class="token punctuation">;</span>          <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"this is a parent process (i == 3), pid = %d  ppid = %d\n"</span><span class="token punctuation">,</span> <span class="token function">getpid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getppid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"g_nmu = %d\n"</span><span class="token punctuation">,</span> g_num<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œæˆªå›¾ï¼š</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200326_232753.png" width="90%"/ loading="lazy"><p>è‰ç¨¿å›¾åˆ†æï¼š</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200326_233718.png" width="80%"/ loading="lazy"></li></ul><br><h3 id="æ˜¾ç¤ºå½“å‰è¿›ç¨‹çš„çŠ¶æ€-ps"><a href="#æ˜¾ç¤ºå½“å‰è¿›ç¨‹çš„çŠ¶æ€-ps" class="headerlink" title="æ˜¾ç¤ºå½“å‰è¿›ç¨‹çš„çŠ¶æ€ ps:"></a>æ˜¾ç¤ºå½“å‰è¿›ç¨‹çš„çŠ¶æ€ ps:</h3><ul><li><code>ps aus</code> æ˜¾ç¤ºä¸ä¾èµ–äºç»ˆç«¯çš„è¿›ç¨‹ï¼ˆç»ˆç«¯æ˜¯ç”¨æ¥å’Œç”¨æˆ·è¿›è¡Œäº¤äº’çš„ï¼‰</li><li><code>ps aux | grep æŸ¥æ‰¾çš„è¿›ç¨‹å</code> ä½¿ç”¨ç®¡é“æŸ¥æ‰¾æŒ‡å®šçš„è¿›ç¨‹åç§°</li><li><code>ps ajx</code> æ˜¾ç¤ºæ›´å¤šçš„è¿›ç¨‹ä¿¡æ¯ï¼› PIDã€PPIDã€PGIDã€SIDï¼ˆè¿›ç¨‹ï¼Œçˆ¶è¿›ç¨‹ï¼Œç»„è¿›ç¨‹ï¼Œä¼šè¯ï¼‰ï¼ˆä¼šè¯å°±æ˜¯å¤šä¸ªç»„è¿›ç¨‹ï¼‰</li><li><code>ps ajx | grep æŸ¥æ‰¾çš„è¿›ç¨‹å</code> è‹¥æ˜¯æ²¡æœ‰æ‰¾åˆ°ï¼Œä¹Ÿä¼šæœ‰ä¸€è¡Œæ˜¾ç¤ºä¿¡æ¯ï¼Œæ˜¾ç¤ºçš„æ˜¯ grep è¿›ç¨‹ç›¸å…³çš„ä¿¡æ¯</li></ul><br><h3 id="åˆ é™¤æ‰§è¡Œä¸­çš„ç¨‹åºæˆ–å·¥ä½œ-kill"><a href="#åˆ é™¤æ‰§è¡Œä¸­çš„ç¨‹åºæˆ–å·¥ä½œ-kill" class="headerlink" title="åˆ é™¤æ‰§è¡Œä¸­çš„ç¨‹åºæˆ–å·¥ä½œ kill:"></a>åˆ é™¤æ‰§è¡Œä¸­çš„ç¨‹åºæˆ–å·¥ä½œ kill:</h3><p>Linux killå‘½ä»¤ç”¨äºåˆ é™¤æ‰§è¡Œä¸­çš„ç¨‹åºæˆ–å·¥ä½œã€‚</p><p>killå¯å°†æŒ‡å®šçš„ä¿¡æ¯é€è‡³ç¨‹åºã€‚é¢„è®¾çš„ä¿¡æ¯ä¸ºSIGTERM(15)ï¼Œå¯å°†æŒ‡å®šç¨‹åºç»ˆæ­¢ã€‚è‹¥ä»æ— æ³•ç»ˆæ­¢è¯¥ç¨‹åºï¼Œå¯ä½¿ç”¨SIGKILL(9)ä¿¡æ¯å°è¯•å¼ºåˆ¶åˆ é™¤ç¨‹åºã€‚ç¨‹åºæˆ–å·¥ä½œçš„ç¼–å·å¯åˆ©ç”¨psæŒ‡ä»¤æˆ–jobsæŒ‡ä»¤æŸ¥çœ‹ã€‚</p><ul><li><code>kill -9 å°†è¢«æ€æ­»çš„è¿›ç¨‹</code>  -9 ä¸º æ€æ­»ä¿¡å·</li><li><code>kill -l</code> æ˜¾ç¤ºæ‰€æœ‰ï¼Œ1-31 é€šå¸¸ä½¿ç”¨ï¼›32 å’Œ 33 æ²¡æœ‰ï¼› 34-51 å·é€šå¸¸ä¸ºç³»ç»Ÿé¢„ç•™</li></ul><p>ä½¿ç”¨ kill å‘½ä»¤ä¹‹åï¼Œæœ‰ä¸€ç‚¹å›°æƒ‘ï¼Œä½¿ç”¨ <code>kill -l</code> å‘½ä»¤ä¹‹åï¼›</p><ul><li><p>åœ¨ Ubuntu 18.4 æ˜¾ç¤ºå¦‚ä¸‹ï¼Œ å’Œ MacOS æ˜¾ç¤ºæœ‰åŒºåˆ«ï¼Œ æœ‰æ¸…æ¥šçš„ï¼Œå¯ä»¥åœ¨ä¸‹é¢ç•™è¨€å¸®æˆ‘è§£ç­”ä¸€ä¸‹ä¹Ÿå¯ä»¥å“¦ã€‚</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200327_144507.png" width="70%"/ loading="lazy"> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200327_144548.png" width="80%"/ loading="lazy"></li><li><p><strong>åªæœ‰ç¬¬9ç§ä¿¡å·(SIGKILL)æ‰å¯ä»¥æ— æ¡ä»¶ç»ˆæ­¢è¿›ç¨‹ï¼Œå…¶ä»–ä¿¡å·è¿›ç¨‹éƒ½æœ‰æƒåˆ©å¿½ç•¥ã€‚ ä¸‹é¢æ˜¯å¸¸ç”¨çš„ä¿¡å·ï¼š</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">HUP     <span class="token number">1</span>    ç»ˆç«¯æ–­çº¿INT     <span class="token number">2</span>    ä¸­æ–­ï¼ˆåŒ Ctrl + Cï¼‰QUIT    <span class="token number">3</span>    é€€å‡ºï¼ˆåŒ Ctrl + <span class="token punctuation">\</span>ï¼‰KILL    <span class="token number">9</span>    å¼ºåˆ¶ç»ˆæ­¢<span class="token environment constant">TERM</span>   <span class="token number">15</span>    ç»ˆæ­¢CONT   <span class="token number">18</span>    ç»§ç»­ï¼ˆä¸STOPç›¸åï¼Œ fg/bgå‘½ä»¤ï¼‰STOP   <span class="token number">19</span>    æš‚åœï¼ˆåŒ Ctrl + Zï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><br><h3 id="exec-å‡½æ•°æ—-ğŸƒï¼š"><a href="#exec-å‡½æ•°æ—-ğŸƒï¼š" class="headerlink" title="exec å‡½æ•°æ— ğŸƒï¼š"></a>exec å‡½æ•°æ— ğŸƒï¼š</h3><p><strong>ä½œç”¨ï¼š</strong> <font color=#FF0000  size=4 face="å¹¼åœ†"><strong>è®©çˆ¶å­è¿›ç¨‹æ‰§è¡Œä¸ç›¸å¹²çš„æ“ä½œï¼›èƒ½å¤Ÿæ›¿æ¢è¿›ç¨‹ç©ºé—´ä¸­æºä»£ç çš„ <code>.txt</code> æ®µï¼›å½“å‰ç¨‹åºä¸­è°ƒç”¨å¦å¤–ä¸€ä¸ªåº”ç”¨ç¨‹åº ï¼ˆè°ƒç”¨ exec ä¹‹å‰ï¼Œéœ€è¦ fork ï¼‰ï¼›</strong></font></p><p><font color=#FF0000  size=4 face="å¹¼åœ†"><strong>exec() å‡½æ•°æ—ï¼Œ ä¹Ÿä¸è¦åˆ¤æ–­è¿”å›å€¼ï¼šè‹¥æ˜¯å‡½æ•°æ‰§è¡ŒæˆåŠŸï¼Œä¸è¿”å›ï¼ˆ.text çš„ä»£ç ç«‹å³è¢«å…¨éƒ¨æ›¿æ¢ï¼Œåé¢çš„ä»£ç ä¹Ÿä¸ä¼šæ‰§è¡Œï¼‰ï¼›è‹¥æ˜¯æ‰§è¡Œå¤±è´¥ï¼Œå¯ä»¥è°ƒç”¨ perror(â€œxx æç¤º:â€) æ¥æ‰“å°é”™è¯¯ä¿¡æ¯ï¼Œé€€å‡ºå½“å‰è¿›ç¨‹ï¼›</strong></font></p><br><h4 id="æ‰§è¡ŒæŒ‡å®šç›®å½•ä¸‹çš„ç¨‹åº-execl"><a href="#æ‰§è¡ŒæŒ‡å®šç›®å½•ä¸‹çš„ç¨‹åº-execl" class="headerlink" title="æ‰§è¡ŒæŒ‡å®šç›®å½•ä¸‹çš„ç¨‹åº execl():"></a>æ‰§è¡ŒæŒ‡å®šç›®å½•ä¸‹çš„ç¨‹åº execl():</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">execl</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>path<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>arg<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token comment">/*, (char *)0 */</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><p><strong>path:</strong> éœ€è¦æ‰§è¡Œçš„ç¨‹åºçš„ç»å¯¹è·¯å¾„(æ¨èç»å¯¹è·¯ç»)</p></li><li><p><strong>å˜å‚ argï¼š</strong> è¦æ‰§è¡Œçš„ç¨‹åºçš„éœ€è¦çš„å‚æ•°</p><ul><li><strong>ç¬¬ä¸€ä¸ª argï¼š</strong> å ä½ï¼ˆå†…å®¹éšä¾¿å†™ä»€ä¹ˆï¼Œä½†ä¸å¯ä¸ºç©ºï¼‰</li><li><strong>åè¾¹çš„ argï¼š</strong> å‘½ä»¤çš„å‚æ•°</li></ul></li><li><p><strong>å‚æ•°å†™å®Œä¹‹åï¼š</strong> NULL ï¼ˆä½œç”¨æ˜¯å“¨å…µï¼Œè¡¨ç¤ºè¯¥å‘½ä»¤çš„å‚æ•°å·²ç»è¾“å…¥å®Œæ¯•ï¼‰</p></li><li><p>ä¸€èˆ¬æ˜¯æ‰§è¡Œè‡ªå·±å†™çš„ç¨‹åºï¼ˆä¹Ÿå¯ä»¥æ‰§è¡Œç³»ç»Ÿè‡ªå¸¦çš„å‘½ä»¤ï¼‰</p></li><li><p>å†™ä¸€ä¸ªä¾‹å­éªŒè¯ä¸€ä¸‹ï¼š<a href="https://github.com/xmuli/linuxExample/tree/master/09_exec">ä»£ç ä¸‹è½½</a></p><ul><li><strong>ä»£ç å¦‚ä¸‹ï¼š</strong></li></ul><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"-----i = %d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>    pid_t pid <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åˆ›å»ºå­è¿›ç¨‹</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>        <span class="token function">execl</span><span class="token punctuation">(</span><span class="token string">"/bin/ls"</span><span class="token punctuation">,</span> <span class="token string">"å ä½å‚æ•°"</span><span class="token punctuation">,</span> <span class="token string">"-al"</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//ls ç¨‹åºä½¿ç”¨å­è¿›ç¨‹çš„åœ°å€ç©ºé—´</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>         <span class="token comment">//è¿™æ®µæ‰“å°åªä¼šï¼ˆçˆ¶è¿›ç¨‹ï¼‰è¢«æ‰§è¡Œä¸€éã€‚</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"+++++i = %d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p><strong>è¿‡ç¨‹åˆ†æï¼š</strong></p><p>ç¬¬ä¸€æ®µæ‰“å°â€â€”â€“i &#x3D;â€ å†…å®¹ï¼Œæ˜¯åªä¼šè¢«çˆ¶è¿›ç¨‹æ‰§è¡Œä¸€éçš„ï¼Œå­è¿›ç¨‹ä¸ä¼šæ‰§è¡Œè¯¥æ®µä»£ç ï¼ˆåˆ†æè§ä¸Šï¼‰ï¼›ç»“æŸæ—¶å€™æ‰“å° â€œ+++++i &#x3D;â€ å†…å®¹æ—¶å€™ï¼Œæ˜¯åªä¼šæ‰§è¡Œä¸€éçš„ï¼Œè¿˜æ˜¯è¢«çˆ¶è¿›ç¨‹æ‰§è¡Œçš„ï¼Œè€Œå­è¿›ç¨‹ä¸æ‰§è¡Œ çš„åŸå› æ˜¯ï¼Œå½“ç¬¬ 12 è¡Œçš„ä»£ç execl(â€œlsâ€) æ‰§è¡Œç»“æŸä¹‹åï¼Œå…¶å­è¿›ç¨‹çš„è™šæ‹Ÿåœ°å€ç©ºé—´çš„ä»¥ç”¨æˆ·åŒºåŸŸçš„ .text ä»£ç æ®µçš„äºŒè¿›åˆ¶ä»£ç è¢«æ›¿æ¢ä¸º &#x2F;bin&#x2F;ls è¿™ä¸ªç¨‹åºçš„ä»£ç ï¼›å…¶åé¢é¢ä¹Ÿéƒ½æ˜¯è¿è¡Œ ls ç¨‹åºçš„ä»£ç å†…å®¹ã€‚</p></li><li><p><strong>è¿è¡Œç»“æœï¼š</strong></p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200327_150211.png" width="70%"/ loading="lazy"></li></ul></li></ul><br><h4 id="æ‰§è¡Œ-PATH-ç›®å½•ä¸‹çš„ç¨‹åº-execlp"><a href="#æ‰§è¡Œ-PATH-ç›®å½•ä¸‹çš„ç¨‹åº-execlp" class="headerlink" title="æ‰§è¡Œ PATH ç›®å½•ä¸‹çš„ç¨‹åº execlp():"></a>æ‰§è¡Œ PATH ç›®å½•ä¸‹çš„ç¨‹åº execlp():</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">execlp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>file<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>arg<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token comment">/*, (char *)0 */</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><strong>file:</strong> éœ€è¦æ‰§è¡Œçš„ç¨‹åºçš„åå­—</li><li><strong>å˜å‚ argï¼š</strong> è¦æ‰§è¡Œçš„ç¨‹åºçš„éœ€è¦çš„å‚æ•°<ul><li><strong>ç¬¬ä¸€ä¸ª argï¼š</strong> å ä½ï¼ˆå†…å®¹éšä¾¿å†™ä»€ä¹ˆï¼Œä½†ä¸å¯ä¸ºç©ºï¼‰</li><li><strong>åè¾¹çš„ argï¼š</strong> å‘½ä»¤çš„å‚æ•°</li></ul></li><li><strong>å‚æ•°å†™å®Œä¹‹åï¼š</strong> NULL ï¼ˆä½œç”¨æ˜¯å“¨å…µï¼Œè¡¨ç¤ºè¯¥å‘½ä»¤çš„å‚æ•°å·²ç»è¾“å…¥å®Œæ¯•ï¼‰</li><li>ä¸€èˆ¬æ˜¯æ‰§è¡Œç³»ç»Ÿè‡ªå¸¦çš„å‘½ä»¤ï¼ˆä¹Ÿå°±æ˜¯ &#x2F;bin ä¸‹çš„ç¨‹åºï¼‰<ul><li>execlp æ‰§è¡Œè‡ªå®šä¹‰ç¨‹åºçš„ç¨‹åºï¼š file å‚æ•°ç»å¯¹è·¯å¾„</li></ul></li></ul><br><h3 id="ä¸‹è½½-x2F-ç³»åˆ—åœ°å€ï¼š"><a href="#ä¸‹è½½-x2F-ç³»åˆ—åœ°å€ï¼š" class="headerlink" title="ä¸‹è½½&#x2F;ç³»åˆ—åœ°å€ï¼š"></a>ä¸‹è½½&#x2F;ç³»åˆ—åœ°å€ï¼š</h3><p><a href="https://github.com/xmuli/linuxExample">https://github.com/xmuli/linuxExample</a></p><p>æ¬¢è¿ star å’Œ fork è¿™ä¸ªç³»åˆ—çš„ linux å­¦ä¹ ï¼Œé™„å­¦ä¹ è¿›é˜¶çš„è·¯çº¿å›¾ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>æœ‰äº›å¿«ä¹æ˜¯çœŸçš„å¿«ä¹å—ï¼Ÿ</title>
      <link href="/posts/ce29b8ce/"/>
      <url>/posts/ce29b8ce/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€ æ¯”å¦‚æœ‰äº›å¿«ä¹æ˜¯çœŸçš„å¿«ä¹å—ï¼ŸçœŸçš„æ˜¯æˆ‘å¿ƒåº•æ‰€æ¸´æœ›çš„å¿«ä¹å—ï¼Ÿè¿˜åªæ˜¯å•å•çš„ï¼Œæˆ‘è§‰å¾—æˆ‘åšäº†è¿™ä»¶äº‹ï¼Œæ‰€ä»¥æˆ‘åº”è¯¥ä¼šæ„Ÿè§‰å¿«ä¹ï¼Ÿï¼Ÿï¼Ÿ</p><span id="more"></span><p>â€‹<strong>äºŒåå¤šå²çš„å›°æƒ‘æœ‰å¾ˆå¤šï¼š æ¯”å¦‚æœ‰äº›å¿«ä¹æ˜¯çœŸçš„å¿«ä¹å—ï¼ŸçœŸçš„æ˜¯æˆ‘å¿ƒåº•æ‰€æ¸´æœ›çš„å¿«ä¹å—ï¼Ÿ</strong> è¿˜åªæ˜¯å•å•çš„ï¼Œæˆ‘è§‰å¾—æˆ‘åšäº†è¿™ä»¶äº‹ï¼Œæ‰€ä»¥æˆ‘åº”è¯¥ä¼šæ„Ÿè§‰å¿«ä¹ï¼Ÿï¼Ÿï¼Ÿ</p><p>â€‹åœ¨<a href="https://xmuli.blog.csdn.net/article/details/104735123">ä¸Šä¸€ç¯‡</a>ä¸­ï¼Œç®€å•çš„é™ˆè¿°äº†ä¸€ä¸‹æƒ³æ³•ã€‚è¿™ç¯‡å°±æ¢ä¸€ä¸ªè¯é¢˜ï¼šæœ‰äº›å¿«ä¹æ˜¯çœŸçš„å¿«ä¹å—ï¼Ÿæ˜¯ä¸€æ—¶çš„å¿«æ„Ÿï¼Ÿè¿˜æ˜¯ä¸€ç¬é—´çš„å¿«ä¹ï¼Ÿè¿˜æ˜¯ä½ å†…å¿ƒé•¿æœŸæ¸´æœ›ä¹‹åçš„ï¼Œå¾—åˆ°ä¹‹åçš„å¿«ä¹ï¼Ÿ</p><br><p>â€‹<strong>åœ¨è´­ç‰©æ–¹é¢ï¼›è´­ä¹°çš„ä¸œè¥¿ä¸€å®šæ˜¯å½“ä¸‹è‡ªå·±æ‰€éœ€è¦çš„å—ï¼Ÿä»¥åŠè´­ä¹°åï¼Œå®ƒçœŸçš„æœ‰å¸¦ç»™æˆ‘ä»¬çº¯æ­£çš„å¿«ä¹å—ï¼Ÿ</strong></p><p>â€‹åœ¨ç½‘çº¿å’Œ WiFi è¿æ¥äº†ä¸–ç•Œä¹‹åï¼Œè·å–ä¿¡æ¯å˜å¾—å¼‚å¸¸å®¹æ˜“ï¼›åœ¨å„ä¸ª App å‰²æ®æµé‡åœŸåœ°ï¼›å„è‡ªæ²¦ä¸ºä¸ºå­¤å²›çš„ç°åœ¨ï¼›å¯åŠ¨ App ä¹‹åï¼Œçœ‹åˆ°çš„å°±æ˜¯ <strong>å¤§æ•°æ® + ç®—æ³•</strong> å¸¦æ¥çš„ <strong>å•†ä¸šæ¨èï¼›</strong>ä½†è¿™é€šå¸¸ä¸æ˜¯æˆ‘ä»¬æ‰€å¸Œæœ›çœ‹åˆ°çš„ï¼Œ<strong>åœ¨ â€œå¤§é‡ä¿¡æ¯æµ + å¤æ‚ä¼˜æƒ åˆ¸ + äººä¸ºåˆ¶é€ æ¦œå• + æ˜æ˜Ÿæ•ˆåº” + ç½‘çº¢å¸¦è´§â€</strong> ä¸€è½®è½®çš„è½°ç‚¸æˆ‘ä»¬çš„å¤§è„‘ï¼Œå½“æµè§ˆä¿¡æ¯éº»æœ¨çš„æ—¶å€™ï¼Œç‚¹å‡»è´­ä¹°åªæ˜¯ä¸€ç¬é—´çš„å†²åŠ¨ï¼ˆè€Œä¸æ˜¯æ·±æ€ç†Ÿè™‘çš„å’ŒçœŸçš„æ‰€éœ€çš„è´­ä¹°ï¼‰ã€‚</p><p>â€‹ï¼ˆä¹Ÿå¹¶éæ˜¯è¯´ï¼Œåªæœ‰æœ‰æ‰€éœ€è¦æ‰ä¼šå»è´­ä¹°è¡Œä¸ºï¼‰ï¼šä¹°ä¸œè¥¿å¯ä»¥å¸¦æ¥çš„å¿«ä¹æœ‰å¾ˆå¤šï¼Œæœ‰æœåŠ¡æœŸé—´çš„äº«å—ã€å“ç‰Œä»·å€¼çš„è®¤å¯ã€å·¥åŒ ç²¾æ¹›çš„æŠ€è‰ºçš„è®¤å¯ã€ç”Ÿæ´»æ‰€éœ€çš„ç—›ç‚¹è§£å†³ã€å•çº¯æ¶ˆè´¹çš„å¿«ä¹ç­‰ã€‚ã€‚ã€‚<strong>é‡è¦çš„æ˜¯åŸºäºè‡ªå·±çš„é’±åŒ…å†³å®šè´­ä¹°ã€‚</strong>ï¼ˆä»¥åæœ‰ç©ºå†å±•å¼€è¯´ï¼‰</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/IMG_216622.JPG" width="15%"/ loading="lazy"><br><p>â€‹<strong>åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸Šï¼Œå¯¹ä½ åŒæ¶çš„äººè¿›è¡Œçš„ä½¿ç»Šå­ï¼Œæ—¶å€™çœŸçš„ä¼šæœ‰å¦‚é‡Šé‡è´Ÿï¼Œé…£ç•…æ·‹æ¼“çš„å¿«ä¹å—ï¼Ÿè¿™åˆæ˜¯çœŸçš„å¿ƒçµçš„å¿«ä¹å—ï¼Ÿ</strong> </p><p>â€‹å’Œå¤§å­¦çš„å®¤å‹ï¼ˆæˆ–è€…å·¥ä½œåˆç§Ÿçš„ï¼‰ï¼Œå› é•¿æ—¶é—´çš„çç¢æ‘©æ“¦ï¼Œè€Œäº§ç”Ÿçš„éš”é˜‚ï¼Œåˆæˆ–è€…ä»–äººçš„ä¸€äº›ä¸è‰¯å—œå¥½è‡ªå·±æ— æ³•å®¹å¿ï¼Œä½¿å¾—å½¼æ­¤ä¹‹é—´äº§ç”ŸåŒæ¶ï¼›æ•…è€Œæ‰“å‡»æŠ¥å¤ï¼Œæš—å¤„ä½¿è¢¢å­ï¼Œå›¾ä¸€ä¸ªå¿«æ„æ©ä»‡çš„å¿«æ„Ÿã€‚</p><p>â€‹<strong>è¿™ç§è¡Œä¸ºå¾ˆéš¾çš„è¯„åˆ¤ï¼Œ</strong> <strong>æ²¡æœ‰å¯¹é”™ä¹‹åˆ†ï¼Œäººç”Ÿæ•°åè½½ï¼Œä½ çš„äººç”Ÿä½ å†³å®šï¼Œæ‰€å¸¦çš„ååæœéƒ½æ˜¯è‡ªå·±æ‰¿æ‹…ï¼›ä¸ç®¡ä½ æ„¿ä¸æ„¿æ„ã€‚</strong>ï¼ˆä¸–ç•Œçš„è§„åˆ™å·²ç»è¢«å…ˆå‰çš„äººç»™åˆ¶å®šäº†ï¼‰ã€‚ä½†ä»–äººä¸æ‚¦ä½ ï¼Œä»–ä¼šè½¬èº«å°±å¿˜è®°äº†ï¼Œå¯ä½ å´ä¸€ç›´æš—æš—è®°äºå¿ƒï¼Œæ—¶åˆ»æé†’è‡ªå·±ï¼Œè‡ªæˆ‘ç”Ÿæ°”ï¼Œç”¨ä»–äººçš„æƒ©ç½šæ¥ä¼¤å®³è‡ªå·±çš„èº«ä½“ï¼Ÿï¼Ÿï¼Ÿå²‚ä¸æ˜¯å¾ˆäºï¼Ÿï¼Ÿï¼Ÿä½ å¯ä»¥æš‚æ—¶æ€§çš„å¿˜è®°ï¼ŒæœŸé—´åŠªåŠ›æå‡è‡ªå·±ï¼Œå½“ä½ èƒ½åŠ›æå‡äº†èµ·æ¥ï¼Œä¸ªäººå¢ƒç•Œä¹Ÿä¼šæ”¹å˜äº†ï¼Œåˆ°æ—¶å€™ä½ ä¼šæœ‰æ›´å¤šçš„é€‰æ‹©ï¼Œæ…·æ…¨å¤§åº¦å¿˜è®°å½“åˆå°äº‹ï¼›æˆ–æ˜¯è§£å†³æ—§äº‹åå¿˜è®°æ©ä»‡ï¼›æˆ–æ˜¯å’Œå¹³è°ˆèµ·ä¸€ç¬‘æ³¯æ©ä»‡ï¼›éƒ½ç”±ä½ é€‰æ‹©ã€‚</p><img src='https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/IMG_2138.JPG' width="15%" / loading="lazy"><br><p>â€‹<strong>åœ¨æ‹çˆ±æ„Ÿæƒ…æ–¹é¢ï¼Œæ— è®ºä½ æ˜¯æœ‰äº† 1 ï¼š1ã€è¿˜æ˜¯ 1ï¼šnã€è¿˜æ˜¯ n : n çš„æƒ…æ„Ÿï¼›è¿™äº›æƒ…æ„«éƒ½å·²ç»äº§ç”Ÿï¼Œå®ƒä»¬å¸¦ç»™ä½ çš„æ˜¯å·²ç»å‘ç”Ÿè¿‡çš„å¿«ä¹ï¼Ÿåªæ˜¯è¿™ç§å¿«ä¹ï¼Œæ˜¯çœŸå‡éš¾è¾¨çš„å¿«ä¹ï¼Ÿ</strong> </p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200322_213226.png" width="25%"/ loading="lazy"><br><p>â€‹å¯¹äºè¿™ä¸ªã€‚æ¯•ç«Ÿç”·äººéƒ½æ˜¯å¤§çŒªè¹„å­ï¼›é…ä¸Š å‘µå‘µï¼Œ å¥³äººã€‚ è°ˆåˆ°è¿™ä¸ªï¼Œæ¯•ç«Ÿå°±æ˜¯å‰ªä¸æ–­ï¼Œç†è¿˜ä¹±çš„ä¸€ç§æ„Ÿæƒ…ã€‚ å¦‚æœä½ æ˜¯ä¸€ä¸ªå•èº«ç‹—ï¼Œé‚£ä¹ˆæ­å–œï¼Œä½ æš‚æ—¶å¤„äºå®‰å…¨åŒºï¼Œä½†æ˜¯ä½ è‹¥æ˜¯æƒ³è¦æ¥åˆ°æµ…æ°´åŒºæ¸¸ç©ï¼Œæˆ–è€…ä¸æ…è·Œè½æ·±æ°´åŒºï¼Œé‚£éƒ½æ˜¯æ²¡æœ‰é—æ†¾çš„ã€‚æ¯•ç«Ÿæœ‰äº›äº‹æƒ…ï¼Œè‡ªå·±ä¸å»å°è¯•ä¸€æŠŠï¼Œä½ éƒ½ä¸çŸ¥é“å®ƒå¯¹ä½ åˆ°åº•æ˜¯å¤©å¤©çš„ç³–æœğŸ¬ï¼Œè¿˜æ˜¯ç ’éœœâ˜ ï¸ï¸ã€‚<strong>ä¸è¿‡èƒ½å¤Ÿçœ‹åˆ°è¿™é‡Œçš„ï¼Œæˆ‘æƒ³éƒ½æ˜¯ç”·çš„éƒ½æ˜¯çº¯æƒ…åšå®šçš„ç—´å¿ƒç”·ï¼Œå¥³çš„éƒ½æ˜¯æŸ”æƒ…ä¼¼æ°´çš„ä»™å¥³ã€‚</strong></p><p>â€‹å¦‚æœåœ¨äº¤å¾€æ¯”è¾ƒçŸ­æ—¶é—´åï¼Œå°±å‘ç”Ÿäº†é—­æœˆç¾èŠ±çš„äº‹æƒ…ï¼Ÿå—¯ã€ï¼Ÿï¼Ÿï¼Ÿè¿™ç§äº‹æƒ…æœ¬ç”Ÿå°±æ²¡æœ‰è°æœ‰èµ„æ ¼è¯„åˆ¤ä»€ä¹ˆï¼åªè¦ä½ èƒ½å¤Ÿå¯¹ä½ åšçš„å†³å®šè´Ÿè´£ï¼Œèƒ½å¤Ÿæ‰¿æ‹…åæœå°±å¥½ï¼ˆå¾ˆå¤šæ—¶å€™åæœå¹¶ä¸å¯æ€•ï¼Œä¹Ÿå¹¶éæ˜¯ä»€ä¹ˆä¸å¯æ‰¿å—ä¹‹é‡ï¼‰ã€‚</p><p>â€‹<strong>å”¯ä¸€éœ€è¦åˆ¤æ–­çš„å°±æ˜¯ï¼Œä½ æ˜¯æ„Ÿå—åˆ°çš„æ˜¯ä½ ä¾¬æˆ‘ä¾¬çš„å¿«ä¹ï¼Ÿè¿˜æ˜¯è¢«å®ˆæŠ¤çš„å¿«ä¹ï¼Ÿè¿˜æ˜¯æœ‰äººå€¼å¾—ä½ å®ˆæŠ¤çš„å¿«ä¹ï¼Ÿè¿˜æ˜¯å•çº¯çš„å¸Œæœ›å¸Œæœ›æœ‰äººé™ªä¼´ä½ çš„å¿«ä¹ï¼Ÿè¿˜æ˜¯ä½ çš„ pua å®è·µæˆåŠŸçš„å¿«ä¹ï¼Ÿè¿˜æ˜¯å•çº¯çš„å¯»æ±‚ä½†æ—¶é—´çš„å¿«æ„Ÿçš„å¿«ä¹ï¼Ÿå¼„æ¸…æ¥šè‡ªå·±å¿ƒåº•åˆ°åº•æ˜¯éœ€è¦é‚£ç§å¿«ä¹ï¼Ÿä¸å»éª—è‡ªå·±æœ¬å¿ƒå°±å¥½ã€‚</strong> å¯¹äºæŸäº›ã€‚ã€‚ã€‚ï¼Œè¯·ç»™è€å®çš„å®…ç”·å®…å¥³ä»¬ï¼Œç•™ä¸€å—è‡ªç•™åœ°ï¼Œä¸è¦å†ç ´åè¿™ä¸ªæ„Ÿæƒ…å¸‚åœºäº†ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200322_213213.png" width="25%"/ loading="lazy"><br><p>â€‹åœ¨è¿™ä¸ªæ–¹é¢å»åšè‡ªå·±ï¼Œçˆ±è‡ªå·±ï¼Œå»æ¢å¯»è‡ªå·±å¿ƒåº•çš„çœŸæ­£å¿«ä¹ï¼Œå»è¯•æ¢ç€è¿™ç‰‡æ‹çˆ±åŒºåŸŸï¼Œå®ƒå¯èƒ½å¸¦ç»™ä½ æƒŠå–œå’Œç”œç¾çš„ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯æœªçŸ¥ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´» - é—²æš‡çš„è¶£é—» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¶ç„¶ä¹è¶£ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸­manæ‰‹å†Œï¼Œé˜»å¡å’Œéé˜»å¡ï¼Œstatï¼Œæ–‡ä»¶æ“ä½œå’Œéå†ï¼Œæ–‡ä»¶æè¿°ç¬¦å¤åˆ¶dup()</title>
      <link href="/posts/85526a5a/"/>
      <url>/posts/85526a5a/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€è®²è§£åœ¨ <code>Unix / Linux</code> ä¸‹ï¼Œ<code>man</code> æ‰‹å†Œçš„ä½¿ç”¨ï¼›å†™äº†ä¸€ä¸ªä¾‹å­è°ƒç”¨ç³»ç»Ÿåº“å‡½æ•°æ¥è¯»å†™æ–‡æœ¬æ–‡ä»¶ï¼Œå’Œæ‰“å°æ–‡ä»¶æè¿°ç¬¦ï¼›<strong>é˜»å¡å’Œéé˜»å¡å®é™…æ˜¯æ–‡ä»¶çš„å±æ€§ï¼Œè€Œéæ ‡å‡†è¾“å…¥è¾“å‡ºçš„ I&#x2F;O å‡½æ•°çš„å±æ€§ã€‚</strong> ä»¥åŠæ–‡ä»¶è¯¦ç»†æè¿°çš„ <code>stat</code> å‘½ä»¤å’Œ <code>stat()</code> å‡½æ•°çš„ä½¿ç”¨ï¼›æ–‡ä»¶å±æ€§ç›¸å…³çš„æ“ä½œï¼›æ–‡ä»¶å¤¹éå†å’Œåˆ›å»ºã€åˆ é™¤çš„ç›¸å…³å‡½æ•°ï¼Œå¯èƒ½ <code>Linux</code> æœ‰æ—¶å€™ä¼šè°ƒç”¨åˆ°ä»–ä»¬ï¼Œç°åœ¨å®é™…ä¸Šï¼Œæ›´å¤šçš„ä½¿ç”¨ Qt çš„åº“æ¥å¯¹æ–‡ä»¶è¿›è¡Œè¯»å†™æ“ä½œï¼›ä»¥åŠå…³äºå¤åˆ¶æ–‡ä»¶æè¿°ç¬¦çš„å‡½æ•° <code>dup()</code> å‡½æ•°çš„è®²è§£</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š"></a>ç¼–ç¨‹ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>uos20</code> ğŸ“ <code>gcc/g++ 8.3</code> ğŸ“ <code>gdb8.0</code> </p><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14 </code> ğŸ“ <code>gcc/g++ 9.2</code> ğŸ“ <code>gdb8.3</code> </p><br><h3 id="man-æ‰‹å†Œçš„ä½¿ç”¨ï¼š"><a href="#man-æ‰‹å†Œçš„ä½¿ç”¨ï¼š" class="headerlink" title="man æ‰‹å†Œçš„ä½¿ç”¨ï¼š"></a>man æ‰‹å†Œçš„ä½¿ç”¨ï¼š</h3><ul><li><p><code>man 2 open</code> åœ¨ç¬¬äºŒç« é‡Œé¢ï¼Œç²¾ç¡®æŸ¥æ‰¾ open å‡½æ•°</p></li><li><p><code>man man</code> æŸ¥çœ‹ man æ‰‹å†Œçš„å¤§è‡´ä»‹ç» ï¼ˆLinux ä¸‹ï¼‰</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200322_171732.png" width="80%"/ loading="lazy"></li><li><p>mac ä¸‹å®‰è£…ä¸­æ–‡ man æ–‡æ¡£ï¼š<a href="https://www.cnblogs.com/himonkey/p/11853564.html">Macé…ç½®ä¸­æ–‡ man æ‰‹å†Œ</a> </p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200314_205616.png" width="70%"/ loading="lazy"></li></ul><br><h3 id="ç³»ç»Ÿå‡½æ•°è¯»å†™æ–‡ä»¶ï¼š"><a href="#ç³»ç»Ÿå‡½æ•°è¯»å†™æ–‡ä»¶ï¼š" class="headerlink" title="ç³»ç»Ÿå‡½æ•°è¯»å†™æ–‡ä»¶ï¼š"></a>ç³»ç»Ÿå‡½æ•°è¯»å†™æ–‡ä»¶ï¼š</h3><p><strong>å¦‚ä¸‹ä¸º Unix &#x2F; Linuxç³»ç»Ÿçš„åº“å‡½æ•°ï¼š</strong></p><ul><li><p><code>open()</code> ï¼šæ‰“å¼€æ–‡ä»¶</p></li><li><p><code>read()</code> ï¼šå¯¹æ–‡ä»¶è¿›è¡Œè¯»æ“ä½œ</p></li><li><p><code>write()</code> ï¼šå¯¹æ–‡ä»¶è¿›è¡Œå†™æ“ä½œ</p></li><li><p><code>lseek()</code> ï¼šç§»åŠ¨æ–‡ä»¶æŒ‡é’ˆï¼›æ‰©å±•æ–‡ä»¶å¤§å°ï¼ˆç§»åŠ¨æŒ‡é’ˆåï¼Œè¦è¿›è¡Œä¸€æ¬¡å†™æ“ä½œï¼‰</p><ul><li><p>æ–‡ä»¶æŒ‡é’ˆç§»åŠ¨åˆ°å¤´éƒ¨ï¼šlseek(fd, 0, SEEK_SET);</p></li><li><p>æ–‡ä»¶æŒ‡é’ˆç§»åŠ¨åˆ°å°¾éƒ¨ï¼šlseek(fd, 0, SEEK_END);</p></li><li><p>æ–‡ä»¶æŒ‡é’ˆç§»åŠ¨åˆ°å½“å‰ä½ç½®ï¼šlseek(fd, 0, SEEK_SUR);</p></li><li><p>æ–‡ä»¶å¤§å†™ä¸º 100K, æ‰©å±•åˆ° 1000K:</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token function">lseek</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token constant">SEEK_END</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//æ–‡ä»¶æŒ‡é’ˆä»æ–‡ä»¶å°¾éƒ¨åç§» 1000 å¤§å°ï¼Œè¿™éƒ¨åˆ†ç”¨^@ å¡«å……å ä½</span><span class="token function">wrire</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//éšä¾¿å†™ä¸€ä¸ªä»€ä¹ˆåˆ°æ–‡ä»¶ä¸­ï¼Œè¿›è¡Œä¸€æ¬¡å†™æ“ä½œ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ul></li><li><p><code>å…¨å±€å˜é‡ errno</code> ï¼šå¯¹äºè°ƒç”¨ç³»ç»Ÿå‡½æ•°å¯¹æ–‡ä»¶è¿›è¡Œè¯»å†™æ“ä½œï¼Œå‡½æ•°ä¼šè¿”å›ä¸€ä¸ªé”™è¯¯ int ç±»å‹çš„æ•°å€¼ã€‚è€Œ errno å˜é‡å°±æ˜¯ä¸åŒçš„é”™è¯¯è¿”å›å€¼çš„å«ä¹‰æ‰“å°å‡ºæ¥ï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼Œä½¿å¾—äººç±»å¯ä»¥çœ‹æ‡‚ã€‚è°ƒç”¨æ–¹æ³•:  <code>perror(&quot;[æ³¨é‡Šä¿¡æ¯: ]&quot;);</code></p></li></ul><br><h4 id="å†™ä¸€ä¾‹å­ï¼š"><a href="#å†™ä¸€ä¾‹å­ï¼š" class="headerlink" title="å†™ä¸€ä¾‹å­ï¼š"></a>å†™ä¸€ä¾‹å­ï¼š</h4><ul><li><p>å°† <code>Linux</code> ç³»ç»Ÿçš„å‡½æ•°ï¼Œè°ƒç”¨ <code>open</code> ã€<code>printf</code>ã€<code>read</code> å†™ä¸€ä¸ªä¾‹å­ï¼š</p></li><li><p>ç¼–å†™ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/stat.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;fcntl.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;errno.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> fp <span class="token operator">=</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"hello.txt"</span><span class="token punctuation">,</span> O_RDWR<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> fp2 <span class="token operator">=</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"temp.txt"</span><span class="token punctuation">,</span> O_WRONLY <span class="token operator">|</span> O_CREAT<span class="token punctuation">,</span> <span class="token number">0777</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åˆ›å»ºæ–‡ä»¶æ—¶å€™ï¼Œå¿…é¡»è¦æœ‰æƒé™</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"fp = %d\n"</span><span class="token punctuation">,</span> fp<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"fp2 = %d\n"</span><span class="token punctuation">,</span> fp2<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>fp <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"[æ³¨é‡Šä¿¡æ¯: ]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//å¦‚æœè¿”å›é”™è¯¯ï¼Œä¼šæ‰“å°äººç±»å¯è¯»æ‡‚çš„å‡ºå­—ç¬¦ä¸²</span>    <span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token number">4096</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span>fp<span class="token punctuation">,</span> buf<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>len <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">write</span><span class="token punctuation">(</span>fp2<span class="token punctuation">,</span> buf<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>        len <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span>fp<span class="token punctuation">,</span> buf<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ret = %d\n"</span><span class="token punctuation">,</span> ret<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">close</span><span class="token punctuation">(</span>fp<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">close</span><span class="token punctuation">(</span>fp2<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>ç¼–è¯‘ï¼š<code>g++-9 main.cpp -o main</code></p></li><li><p>è¿è¡Œï¼šå…¶ä¸­ fp ä¾¿æ˜¯æ‰“å¼€æ–‡ä»¶ hello.txt çš„æ–‡ä»¶æè¿°ç¬¦ï¼ˆå› ä¸º 0ã€1ã€2 è¢« stdinã€stdoutã€stdout å äº†ï¼Œæ‰€ä»¥æœ€å°å°±æ˜¯ 3ï¼‰ï¼›ç„¶åå½“æ‰“å¼€ç¬¬äºŒä¸ªæ–‡æœ¬æ–‡ä»¶ temp.txt çš„æ—¶å€™ï¼Œå…¶è¿”å›çš„æ–‡ä»¶æè¿°ç¬¦è‡ªç„¶å°±æ˜¯ 4ã€‚å…³äºæ–‡ä»¶æè¿°ç¬¦ï¼Œè¯¦ç»†åŸç†è§£é‡Šå¯å‚è€ƒ <a href="https://github.com/xmuli/linuxExample/tree/master/07_sysfun">æ­¤ç¯‡</a> ã€‚</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200322_172958.png" width="50%"/ loading="lazy"></li></ul><p><strong>æºç ä¸‹è½½ï¼š</strong> <a href="https://github.com/xmuli/linuxExample/tree/master/07_sysfun">07_sysfun</a></p><br><h3 id="é˜»å¡å’Œéé˜»å¡ï¼š"><a href="#é˜»å¡å’Œéé˜»å¡ï¼š" class="headerlink" title="é˜»å¡å’Œéé˜»å¡ï¼š"></a>é˜»å¡å’Œéé˜»å¡ï¼š</h3><p>ç»ˆç«¯ç¨‹åºï¼š bash ä¸ºå‰å°ç¨‹åºï¼Œå½“æ‰§è¡Œ a.out ç¨‹åºæ—¶å€™ï¼Œbash å°±æˆä¸ºäº†åå°ç¨‹åºï¼Œa.out æˆä¸ºäº†å‰å°ç¨‹åºï¼ˆä»£ç æ‰§è¡Œåˆ°ï¼Œç­‰å¾…è¾“å…¥ï¼‰ï¼›å½“é”®ç›˜è¾“å…¥å®Œæˆï¼Œa.out æˆä¸ºäº†åå°ç¨‹åºï¼Œbash æˆä¸ºäº†å‰å°ç¨‹åºã€‚</p><p>å½“è¾“å…¥çš„é•¿åº¦ å¤§äº buf[10] ä¸­çš„ 10 æ—¶å€™ï¼Œ å¤šä½™çš„éƒ¨åˆ†å°±ä¼šæˆä¸ºåé¢çš„å‘½ä»¤è¾“å…¥ã€‚</p><p>å°†ä¸‹é¢çš„ä¸¤ç§ï¼Œæ‰‹åŠ¨æ•²ä¸€éã€‚</p><p><font color=#FF0000 face="å¹¼åœ†"><strong>é˜»å¡</strong> å’Œ <strong>éé˜»å¡</strong> æƒ…å†µä¸‹ï¼Œæ˜¯æ–‡ä»¶çš„å±æ€§ï¼Œè€Œéæ ‡å‡†è¾“å…¥è¾“å‡ºçš„ I&#x2F;O å‡½æ•°çš„å±æ€§ã€‚</font></p><ul><li><p>æ™®é€šæ–‡ä»¶ï¼šhello.cpp </p><ul><li>é»˜è®¤æ˜¯éé˜»å¡</li></ul></li><li><p>ç»ˆç«¯è®¾å¤‡ &#x2F;dev&#x2F;tty ï¼ˆé»˜è®¤æ˜¯é˜»å¡ï¼‰</p><ul><li>ç»ˆç«¯</li><li>ç®¡é“</li><li>å¥—æ¥å­—</li></ul></li></ul><br><h3 id="stat-x2F-lstat-å‡½æ•°-ï¼š"><a href="#stat-x2F-lstat-å‡½æ•°-ï¼š" class="headerlink" title="stat &#x2F; lstat å‡½æ•° ï¼š"></a><font color=#FF0000 face="å¹¼åœ†">stat &#x2F; lstat å‡½æ•° ï¼š</font></h3><ul><li><p>å†™ä¸€ä¸ªå°çš„ç¨‹åºï¼Œåˆ¤æ–­ <code>ls -l</code> å‘½ä»¤ï¼ŒåŸºæœ¬å¯ä»¥å®ç° æ”¹ç”¨ switch()</p></li><li><p><code>lstat</code> å’Œ <code>stat</code> å‡½æ•°å¯¹äºé“¾æ¥ l çš„åŒºåˆ«ä¸ä¸€æ ·ã€‚</p><ul><li>lstat è¯»å–çš„æ˜¯é“¾æ¥æ–‡ä»¶ï¼Œ æœ¬èº«çš„å±æ€§</li><li>stat è¯»å–çš„æ˜¯é“¾æ¥æ–‡ä»¶æŒ‡å‘çš„æ–‡ä»¶çš„å±æ€§ ï¼ˆä¹Ÿè¢«ç§°å‘¼ï¼šè¿½è¸ªï¼Œç©¿é€ï¼‰</li><li>fstat ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æŒ‡æ–‡ä»¶æè¿°ç¬¦</li></ul></li></ul><br><blockquote><p>#å¯¹åº”çš„ stat å‘½ä»¤ï¼š</p><p><font color=#FF0000  size=4 face="å¹¼åœ†"><strong>ä½œç”¨ï¼šæ˜¾ç¤ºæ–‡ä»¶æˆ–æ–‡ä»¶ç³»ç»Ÿçš„çŠ¶æ€</strong></font></p><p>uinx: stat -x hello.txt</p><p>linux: stat hello.txt</p></blockquote><br><p>è¿è¡Œå‘½ä»¤å¯ä»¥çœ‹åˆ°ï¼šhell.txt æ–‡ä»¶çš„æ‰€æœ‰ä¿¡æ¯</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200322_165144.png" width="60%"/ loading="lazy"> <br><p>ç”± <code>ls -l hello.txt</code> æŸ¥çœ‹çœ‹çš„ï¼Œå‰é¢çš„ <code>-rwxrwxrwx</code> å°±æ˜¯è¡¨ç¤ºä¸‹å›¾çš„ <strong>æ–‡ä»¶ç±»å‹</strong> ã€<strong>æ–‡ä»¶æ‰€æœ‰è€…æƒé™</strong> ã€<strong>æ–‡ä»¶æ‰€å±ç»„æƒé™</strong> ã€<strong>å…¶ä»–äººå¯¹è¯¥æ–‡ä»¶çš„æƒé™</strong> ï¼Œ</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200322_171459.png" width="60%"/ loading="lazy"><br><ul><li>å…¶ç”¨ å«ä¹‰å°±æ˜¯å¦‚ä¸‹ï¼š</li></ul> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200322_163434.png" width="80%"/ loading="lazy"><ul><li><strong>å…¶åœ¨ä»£ç é‡Œé¢ï¼Œç”¨ struct æ‰€è¡¨ç¤ºçš„ä¸ºï¼š</strong></li></ul> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200322_163416.png" width="70%"/ loading="lazy"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">st_ mode <span class="token operator">--</span> <span class="token number">16</span>ä½æ•´æ•°  <span class="token number">0</span><span class="token operator">-</span><span class="token number">2</span> bit<span class="token operator">--</span>å…¶ä»–äººæƒé™      <span class="token operator">-</span> S_IROTH  <span class="token number">00004</span>    è¯»æƒé™      <span class="token operator">-</span> S_IWOTH  <span class="token number">00002</span>    å†™æƒé™      <span class="token operator">-</span> S_IXOTH  <span class="token number">00001</span>    æ‰§è¡Œæƒé™      <span class="token operator">-</span> S_IRIvxO <span class="token number">00007</span>    æ©ç <span class="token punctuation">,</span>è¿‡æ»¤ st_mode ä¸­é™¤å…¶ä»–äººæƒé™ä»¥å¤–çš„ä¿¡æ¯      <span class="token number">3</span><span class="token operator">-</span><span class="token number">5</span> bit <span class="token operator">--</span>æ‰€å±ç»„æƒé™      <span class="token operator">-</span>S_IRGRP   <span class="token number">00040</span>    è¯»æƒé™      <span class="token operator">-</span>S_IWGRP   <span class="token number">00020</span>    å†™æƒé™      <span class="token operator">-</span>S_IXGRP   <span class="token number">00010</span>    æ‰§è¡Œæƒé™      <span class="token operator">-</span>S_IRWXG   <span class="token number">00070</span>    æ©ç <span class="token punctuation">,</span>è¿‡æ»¤ st_mode ä¸­é™¤æ‰€å±ç»„æƒé™ä»¥å¤–çš„ä¿¡æ¯    <span class="token number">6</span><span class="token operator">-</span><span class="token number">8</span> bit <span class="token operator">--</span>æ–‡ä»¶æ‰€æœ‰è€…æƒé™      <span class="token operator">-</span>S_IRUSR   <span class="token number">00400</span>    è¯»æƒé™      <span class="token operator">-</span>S_IWUSR   <span class="token number">00200</span>    å†™æƒé™      <span class="token operator">-</span>S_IXUSR   <span class="token number">00100</span>    æ‰§è¡Œæƒé™      <span class="token operator">-</span>S_IRWXU   <span class="token number">00700</span>    æ©ç <span class="token punctuation">,</span>è¿‡æ»¤ st_mode ä¸­é™¤æ–‡ä»¶æ‰€æœ‰è€…æƒé™ä»¥å¤–çš„ä¿¡æ¯ã€‚    <span class="token number">12</span><span class="token operator">-</span><span class="token number">15</span> bit <span class="token operator">--</span>æ–‡ä»¶ç±»å‹      <span class="token operator">-</span>S_IFSOCK  <span class="token number">0140000</span>  å¥—æ¥å­—      <span class="token operator">-</span>S_IFLNK   <span class="token number">0120000</span>  ç¬¦å·é“¾æ¥<span class="token punctuation">(</span>è½¯é“¾æ¥<span class="token punctuation">)</span>      <span class="token operator">-</span>S_IFREG   <span class="token number">0100000</span>  æ™®é€šæ–‡ä»¶      <span class="token operator">-</span>S_IFBLK   <span class="token number">0060000</span>  å—è®¾å¤‡      <span class="token operator">-</span>S_IFDIR   <span class="token number">0040000</span>  ç›®å½•      <span class="token operator">-</span>S_IFCHR   <span class="token number">0020000</span>  å­—ç¬¦è®¾å¤‡      <span class="token operator">-</span>S_IFIFO   <span class="token number">0010000</span>  ç®¡é“      <span class="token operator">-</span>S_IFMT0   <span class="token number">0017000</span>  æ©ç <span class="token punctuation">,</span>è¿‡æ»¤ st_mode ä¸­é™¤æ–‡ä»¶ç±»å‹ä»¥å¤–çš„ä¿¡æ¯         <span class="token comment">// å‘½ä»¤å¯¹åº”çš„å‡½æ•° </span><span class="token keyword">int</span> <span class="token function">stat</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>path<span class="token punctuation">,</span> <span class="token keyword">struct</span> <span class="token class-name">stat</span> <span class="token operator">*</span>buf<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">Istat</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>path<span class="token punctuation">,</span> <span class="token keyword">struct</span> <span class="token class-name">stat</span> <span class="token operator">*</span>buf<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="æ–‡ä»¶å±æ€§ç›¸å…³çš„å‡½æ•°ï¼š"><a href="#æ–‡ä»¶å±æ€§ç›¸å…³çš„å‡½æ•°ï¼š" class="headerlink" title="æ–‡ä»¶å±æ€§ç›¸å…³çš„å‡½æ•°ï¼š"></a>æ–‡ä»¶å±æ€§ç›¸å…³çš„å‡½æ•°ï¼š</h3><ul><li><code>access()</code> åˆ¤æ–­ä¼ å…¥çš„æ–‡ä»¶ï¼Œæ‰€å…·æœ‰çš„ï¼ˆè¯»ã€å†™ã€æ‰§è¡Œã€æ˜¯å¦å­˜ï¼‰çš„æƒé™</li><li><code>chmod()</code> ä¿®æ”¹æ–‡ä»¶æƒé™</li><li><code>chown()</code> ä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…å’Œæ‰€å±ç»„</li><li><code>truncate()</code> ä¿®æ”¹æ–‡ä»¶å¤§å°</li><li><code>^@</code> æ–‡ä»¶ç©ºæ´ï¼Œ å¡«å……å ä½ç¬¦å·ï¼Œå®é™…å°±æ˜¯ <code>\0</code></li></ul><br><h3 id="ç›®å½•æ“ä½œç›¸å…³å‡½æ•°ï¼š"><a href="#ç›®å½•æ“ä½œç›¸å…³å‡½æ•°ï¼š" class="headerlink" title="ç›®å½•æ“ä½œç›¸å…³å‡½æ•°ï¼š"></a>ç›®å½•æ“ä½œç›¸å…³å‡½æ•°ï¼š</h3><h4 id="ç›®å½•æ“ä½œç›¸å…³å‡½æ•°ï¼š-1"><a href="#ç›®å½•æ“ä½œç›¸å…³å‡½æ•°ï¼š-1" class="headerlink" title="ç›®å½•æ“ä½œç›¸å…³å‡½æ•°ï¼š"></a>ç›®å½•æ“ä½œç›¸å…³å‡½æ•°ï¼š</h4><ul><li><code>rename()</code> æ–‡ä»¶é‡å‘½å</li><li><code>chdir()</code> ä¿®æ”¹ <font color=#D0087E size=4 face="å¹¼åœ†">å½“å‰è¿›ç¨‹ï¼ˆåº”ç”¨ç¨‹åºï¼‰</font>çš„è·¯å¾„ï¼›cd</li><li><code>getcwd()</code> è·å–å½“å‰è¿›ç¨‹çš„å·¥ä½œç›®å½•ï¼›pwd</li><li><code>mkdir()</code> åˆ›å»ºç›®å½•ï¼›mkdir</li><li><code>rmdir()</code> åˆ é™¤ä¸€ä¸ªç©ºç›®å½•ï¼›rm</li></ul><br><h4 id="ç›®å½•éå†ç›¸å…³å‡½æ•°ï¼š"><a href="#ç›®å½•éå†ç›¸å…³å‡½æ•°ï¼š" class="headerlink" title="ç›®å½•éå†ç›¸å…³å‡½æ•°ï¼šÂ "></a><font color=#FF0000 face="å¹¼åœ†">ç›®å½•éå†ç›¸å…³å‡½æ•°ï¼šÂ </font></h4><ul><li><code>opendir()</code> æ‰“å¼€ä¸€ä¸ªç›®å½•</li><li><code>readdir()</code> è¯»ç›®å½•ï¼ˆè¿›å…¥å­ç›®å½•ï¼Œéœ€è¦æ‰‹åŠ¨åˆ›å»ºé€’å½’å‡½æ•°ï¼‰ </li><li><code>close()</code> å…³é—­ç›®å½•</li></ul><br><h3 id="dup-x2F-dup2-x2F-fcntl-å‡½æ•°ï¼š"><a href="#dup-x2F-dup2-x2F-fcntl-å‡½æ•°ï¼š" class="headerlink" title="dup &#x2F; dup2 &#x2F; fcntl å‡½æ•°ï¼š"></a><font color=#FF0000 face="å¹¼åœ†">dup &#x2F; dup2 &#x2F; fcntl å‡½æ•°ï¼š</font></h3><ul><li><code>dup()</code> å¤åˆ¶æ–‡ä»¶æè¿°ç¬¦</li><li><code>dup2()</code> åŒä¸Šï¼Œå½¢å‚ä¸åŒï¼ˆä¹Ÿä¼šç§°ä¸º å‚æ•° 2ï¼šæ–‡ä»¶æè¿°ç¬¦çš„é‡å®šå‘ï¼‰</li><li><code>fcntl()</code> ä¿®æ”¹æ–‡ä»¶çš„çŠ¶æ€æ ‡å¿—</li></ul><br><h3 id="ä¸‹è½½åœ°å€ï¼š"><a href="#ä¸‹è½½åœ°å€ï¼š" class="headerlink" title="ä¸‹è½½åœ°å€ï¼š"></a>ä¸‹è½½åœ°å€ï¼š</h3><p><img src="https://cdn.jsdelivr.net/gh/touwoyimuli/xmuliPic@pic/2020/github.svg" width="5%"/ loading="lazy"> <a href="https://github.com/xmuli/linuxExample">https://github.com/xmuli/linuxExample</a> </p><p>æ¬¢è¿ star å’Œ fork è¿™ä¸ªç³»åˆ—çš„ linux å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸­è™šæ‹Ÿåœ°å€ç©ºé—´ã€pcbã€æ–‡ä»¶æè¿°ç¬¦ã€Cåº“å‡½æ•°å·¥ä½œæµç¨‹ã€æ ‡å‡†åº“å’Œç³»ç»Ÿåº“å‡½æ•°åŒºåˆ«</title>
      <link href="/posts/29bf4f80/"/>
      <url>/posts/29bf4f80/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€å¯¹äº <code>Linux</code> å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸€äº›åŸºæœ¬çš„çŸ¥è¯†ç‚¹ã€å…³äºç³»ç»Ÿï¼Œä»¥ä¸‹å‡æ˜¯ä»¥ 32 ä½ç³»ç»Ÿä¸Šçš„ä¸ºä¾‹çš„çŸ¥è¯†ç‚¹ï¼š</p><ul><li><p>è™šæ‹Ÿåœ°å€ç©ºé—´</p></li><li><p>pcb å’Œ<strong>æ–‡ä»¶æè¿°ç¬¦</strong> è¡¨</p></li><li><p>C åº“ I&#x2F;O å‡½æ•°å·¥ä½œæµç¨‹</p></li><li><p>æ ‡å‡† c åº“å‡½æ•°å’Œ linux ç³»ç»Ÿå‡½æ•°çš„åŒºåˆ«</p></li></ul><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š"></a>ç¼–ç¨‹ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>uos20</code> ğŸ“ <code>gcc/g++ 8.3</code> ğŸ“ <code>gdb8.0</code> </p><br><h3 id="è™šæ‹Ÿåœ°å€ç©ºé—´ï¼š"><a href="#è™šæ‹Ÿåœ°å€ç©ºé—´ï¼š" class="headerlink" title="è™šæ‹Ÿåœ°å€ç©ºé—´ï¼š"></a>è™šæ‹Ÿåœ°å€ç©ºé—´ï¼š</h3><p><font color=#FF0000  size=4 face="å¹¼åœ†"><strong>Linux æ¯ä¸€ä¸ªè¿è¡Œçš„ç¨‹åºï¼ˆè¿›ç¨‹ï¼‰æ“ä½œç³»ç»Ÿéƒ½ä¼šä¸ºå…¶åˆ†é…ä¸€ä¸ª 0~4G çš„åœ°å€ç©ºé—´ï¼ˆè™šæ‹Ÿåœ°å€ç©ºé—´ï¼‰ã€‚</strong> </font></p><p><font color=#FF0000  size=4 face="å¹¼åœ†"><strong>è¿›ç¨‹ï¼šæ­£åœ¨è¿è¡Œçš„ç¨‹åºã€‚</strong>   </font></p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200322_135017.png" width="90%"/ loading="lazy"><p>Linux ç¨‹åºè¿è¡Œç†è§£å›¾ï¼š</p><ul><li>env æŸ¥çœ‹ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡</li><li>static int a &#x3D; 0; å˜é‡ a ä»ç„¶æ˜¯æ”¾åœ¨ .bss åŒºåŸŸï¼ˆå…¶å€¼ä¸º0ï¼‰</li><li><strong>æ ˆï¼ˆå±€åŸŸå˜é‡ï¼‰ï¼š</strong> ä»é«˜ä½ åˆ° ä½ä½ ç”Ÿé•¿</li><li><strong>å †ï¼ˆnew ï¼‰ï¼š</strong>  ä»ä½ä½ åˆ° é«˜ä½ ç”Ÿé•¿</li><li>MMUï¼ˆå†…å­˜ç®¡ç†å•å…ƒï¼‰ï¼šå°† è™šæ‹Ÿåœ°å€ç©ºé—´ï¼ˆç¡¬ç›˜ï¼‰çš„åœ°å€ï¼Œ æ˜ å°„ åˆ° ç‰©ç†å†…å­˜ é‡Œé¢è¿›è¡Œç®¡ç†å’Œæ“ä½œã€‚</li><li>æ²¡æœ‰å¿…è¦ç ”ç©¶ï¼Œå¤§è‡´çŸ¥é“å…¶åŸç†å³å¯ã€‚</li></ul><br><h3 id="pcb-å’Œæ–‡ä»¶æè¿°ç¬¦è¡¨ï¼š"><a href="#pcb-å’Œæ–‡ä»¶æè¿°ç¬¦è¡¨ï¼š" class="headerlink" title="pcb å’Œæ–‡ä»¶æè¿°ç¬¦è¡¨ï¼š"></a>pcb å’Œæ–‡ä»¶æè¿°ç¬¦è¡¨ï¼š</h3> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200322_135513.png" width="90%"/ loading="lazy"><ul><li><p><strong>è¿›ç¨‹æ§åˆ¶å—ï¼ˆPCBï¼‰ï¼š</strong> è¿›ç¨‹åœ¨æ“ä½œç³»ç»Ÿä¸­éƒ½æœ‰ä¸€ä¸ªæˆ·å£ï¼Œç”¨äºè¡¨ç¤ºè¿™ä¸ªè¿›ç¨‹ã€‚è¿™ä¸ªæˆ·å£æ“ä½œç³»ç»Ÿè¢«ç§°ä¸ºPCBï¼ˆè¿›ç¨‹æ§åˆ¶å—ï¼‰ï¼Œåœ¨ linux ä¸­å…·ä½“å®ç°æ˜¯ task_struct æ•°æ®ç»“æ„ã€‚</p></li><li><p><strong>è¿›ç¨‹å°±æ˜¯ä¸€ä¸ªè¿è¡Œå½“ä¸­çš„ç¨‹åºã€‚</strong> æˆ‘ä»¬åœ¨ç¼–è¾‘å™¨æˆ– IDE ä¸Šå†™äº†åå‡ ä¸ªçš„.cpp æ–‡æœ¬æ–‡ä»¶ï¼Œå®ƒä»¬ç»„åˆèµ·æ¥å°±æ˜¯ä¸€ä¸ªå·¥ç¨‹ã€‚ç¨‹åºæœ¬æ¥æ˜¯å­˜å‚¨åœ¨ç£ç›˜çš„,å½“æˆ‘ä»¬éœ€è¦æ‰§è¡Œå®ƒçš„æ—¶å€™ï¼Œå…ˆæŠŠä»–è¯»å–åˆ°å†…å­˜å½“ä¸­ï¼Œå†ç„¶åæ”¾å…¥åˆ°å¯„å­˜å™¨ä¸­ï¼Œæœ€åè®©cpuæ‰§è¡Œç¨‹åºï¼Œè¿™ä¸ªæ—¶å€™ç¨‹åºå°±å˜æˆäº†ä¸€ä¸ªè¿›ç¨‹ã€‚</p></li><li><p>æ¯ä¸ªè¿›ç¨‹è¿è¡Œçš„æ—¶å€™éƒ½ä¼šæ‹¿åˆ°æœ€å¤š 4G çš„è™šæ‹Ÿå†…å­˜ã€‚å…¶ä¸­ 3G æ˜¯äº¤ç»™ç”¨æˆ·çš„,ç„¶åå‰©ä¸‹çš„ 1G å†…å­˜å­˜å‚¨å†…æ ¸çš„ä¸œè¥¿äº†ã€‚</p></li><li><p><strong>æ–‡ä»¶æè¿°ç¬¦</strong> è¡¨ï¼Œç³»ç»Ÿæœ€å¤šå¯ä»¥æ‰“å¼€ 1024 ä¸ªæ–‡ä»¶ï¼Œå…¶ä¸­ 0ã€1ã€2 ä¾æ¬¡è¢« stdinã€stdoutã€stderr è¿™ä¸ªç»™ä½¿ç”¨äº†ï¼›ä¸”è¿™ä¸ªä¸‰ä¸ªæ–‡ä»¶æè¿°ç¬¦æ‰€æŒ‡å‘çš„å¯¹è±¡éƒ½æ˜¯å½“å‰ç»ˆç«¯ï¼Œå½“å‰ç»ˆç«¯ä¹Ÿå¯ä»¥è¢«çœ‹ä¸ºä¸€ä¸ªæ–‡ä»¶ <code>/dev/tty</code> ï¼ˆLinux ä¸‹ä¸€åˆ‡çš†æ–‡ä»¶ï¼‰ï¼› å…¶ä½™æ¯æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œå°±ä¼šç”³è¯·ä¸€ä¸ªç©ºçš„ã€æœ€å°çš„ æ–‡ä»¶æè¿°ç¬¦ã€‚å…¶å°±æ˜¯ä¸€ä¸ª int å‹çš„æ•°å€¼ã€‚egï¼šæ­¤æ—¶ä½¿ç”¨ç³»ç»Ÿ open() å‡½æ•°æ‰“å¼€ä¸€ä¸ª .txt æ–‡ä»¶ï¼Œprintf() æ‰“å°å…¶çš„è¿”å›å€¼ï¼Œä¼šæ˜¾ç¤ºæ˜¯ 4ã€‚</p></li></ul><br><h3 id="C-åº“-I-x2F-O-å‡½æ•°å·¥ä½œæµç¨‹ï¼š"><a href="#C-åº“-I-x2F-O-å‡½æ•°å·¥ä½œæµç¨‹ï¼š" class="headerlink" title="C åº“ I&#x2F;O å‡½æ•°å·¥ä½œæµç¨‹ï¼š"></a>C åº“ I&#x2F;O å‡½æ•°å·¥ä½œæµç¨‹ï¼š</h3> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200322_134219.png" width="90%"/ loading="lazy"><ul><li><p>ç”±è¿™ä¸ªå›¾å¯ä»¥æ€è€ƒä¸€ä¸ªé—®é¢˜ğŸ¤”ï¼Ÿé‚£ä¹ˆæ˜¯ä¸æ˜¯ä½¿ç”¨ç³»ç»Ÿçš„è¯»å†™å‡½æ•°ï¼Œä¸€å®šæ¯”ä½¿ç”¨ c åº“çš„å‡½æ•°çš„æ•ˆç‡ä¸€å®šé«˜å‘¢â“â“â“</p><p>å½“ç„¶ä¸æ˜¯ï¼›è¿™ä¸ªçš„çœ‹å®é™…æƒ…å†µçš„ã€‚ä½¿ç”¨ç³»ç»Ÿçš„è¯»å†™å‡½æ•°ï¼Œå°±æ˜¯ç›´æ¥å’Œç¡¬ä»¶ï¼Œç›´æ¥åœ¨ç£ç›˜ä¸Šé¢è¯»å†™æ“ä½œï¼Œé€Ÿåº¦è‚¯å®šæ¯”ç›´æ¥åœ¨å†…å­˜ä¸Šé¢è¯»å†™è¦æ…¢çš„å¤šã€‚æ‰€ä»¥å°±å¼•å‘å†…å­˜å—ä¸Šæœ‰ç¼“å†²åŒºçš„æœºåˆ¶ï¼Œå†…å­˜ä¸Šé¢å†™å…¥å¤šæ¬¡ä¹‹åï¼Œç¼“å†²åŒºæ»¡äº†åï¼Œå†ä¸€æ¬¡éƒ½å†™å…¥åˆ°ç£ç›˜ä¸Šé¢çš„æ–‡ä»¶ã€‚</p></li></ul> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200322_134304.png" width="70%"/ loading="lazy"><br><h3 id="C-åº“å‡½æ•°ä¸ç³»ç»Ÿå‡½æ•°çš„å…³ç³»ï¼š"><a href="#C-åº“å‡½æ•°ä¸ç³»ç»Ÿå‡½æ•°çš„å…³ç³»ï¼š" class="headerlink" title="C åº“å‡½æ•°ä¸ç³»ç»Ÿå‡½æ•°çš„å…³ç³»ï¼š"></a>C åº“å‡½æ•°ä¸ç³»ç»Ÿå‡½æ•°çš„å…³ç³»ï¼š</h3> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200322_134320.png" width="90%"/ loading="lazy"><ul><li>å½“è°ƒç”¨æ ‡å‡†çš„ C åº“å‡½æ•°æ—¶å€™ï¼ˆ<code># include &lt;stdio.h&gt;</code>ï¼‰çš„ <code>printf()</code> æ—¶å€™ï¼Œå®ƒä¼šåœ¨é‡Œé¢è°ƒç”¨åº”ç”¨å±‚çš„ <code>weite()</code> å‡½æ•°ï¼Œç„¶ååº”ç”¨å±‚å®é™…åˆæ˜¯è°ƒç”¨ ç³»ç»Ÿçš„ <code>sys_write()</code>ï¼Œå…¶ç³»ç»Ÿå±‚å®é™…åˆæ˜¯è°ƒç”¨é©±åŠ¨å±‚çš„å†™å‡½æ•°ï¼Œè€Œé©±åŠ¨å±‚çš„å‡½æ•°å½“ç„¶æ˜¯å¯ä»¥ç›´æ¥æ“ä½œç¡¬ä»¶çš„ï¼ˆæ¯”å¦‚æ˜¾ç¤ºå™¨ğŸ–¥ï¼‰ã€‚æœ€åå°±ç»ˆç«¯é‡Œé¢çœ‹åˆ°äº†ä¸€å¥è¾“å‡ºè¯­å¥å‡½æ•°ã€‚</li></ul> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200322_134342.png" width="50%"/ loading="lazy"><br><h3 id="ä¸‹è½½åœ°å€ï¼š"><a href="#ä¸‹è½½åœ°å€ï¼š" class="headerlink" title="ä¸‹è½½åœ°å€ï¼š"></a>ä¸‹è½½åœ°å€ï¼š</h3><p><img src="https://cdn.jsdelivr.net/gh/touwoyimuli/xmuliPic@pic/2020/github.svg" width="5%"/ loading="lazy"> <a href="https://github.com/xmuli/linuxExample">https://github.com/xmuli/linuxExample</a> </p><p>æ¬¢è¿ star å’Œ fork è¿™ä¸ªç³»åˆ—çš„ linux å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸­æ–‡ä»¶æ“ä½œï¼Œè½¯ç¡¬é“¾æ¥lnï¼Œç”¨æˆ·æƒé™chmodã€chownï¼Œæ–‡ä»¶æŸ¥æ‰¾å’Œæ£€ç´¢findã€grepï¼Œå‹ç¼©gzï¼Œbz2</title>
      <link href="/posts/ecefa455/"/>
      <url>/posts/ecefa455/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong> åœ¨ <code>Linux</code> ä¸­ï¼Œå¯¹äºä¸€äº›ç»å¸¸ä¼šä½¿ç”¨åˆ°çš„å‘½ä»¤ï¼ˆä¸åšçŸ¥è¯†ç‚¹çš„æ¬è¿å·¥ï¼‰ï¼Œä½œä¸šä¸ªç®€çŸ­çš„è®°å½•ğŸ“ï¼Œä¸»è¦ä½œä¸ºæ—¥åå¿«é€ŸæŸ¥æ‰¾ã€‚è¿˜æœ‰å¯¹äºæ“ä½œç³»ç»Ÿçš„ä¸»æ¬¡ç‰ˆæœ¬å·çš„å«ä¹‰ï¼Œ<code>shell</code>ï¼Œ<code>bash</code> çš„åŒºåˆ«ç­‰ç®€å•åšä¸€ä¸ªè¯´æ˜ã€‚ä¸»è¦æœ‰å¦‚ä¸‹çŸ¥è¯†ç‚¹ï¼š</p><ul><li>Linux å’Œ GNU çš„åŒºåˆ«</li><li>shell å’Œ bash çš„åŒºåˆ«</li><li>å…‰æ ‡ç›¸å…³å¿«æ·é”®</li><li>æ–‡ä»¶ç›®å½•çš„ç»“æ„ç»„æˆï¼Œ</li><li>æ–‡ä»¶ &#x2F; æ–‡ä»¶å¤¹æ“ä½œå‘½ä»¤ treeï¼Œpwdï¼Œmkdirï¼Œrmï¼Œcpï¼Œmvï¼Œtouch</li><li>æ˜¾ç¤ºæ–‡ä»¶ç›¸å…³ä¿¡æ¯ catï¼Œmoreï¼Œheadï¼Œlessï¼Œtial</li><li>è½¯ç¡¬é“¾æ¥ ln -s</li><li>ç”¨æˆ·ç»„ï¼Œæƒé™ chmodï¼Œ chown</li><li>æ–‡ä»¶æŸ¥æ‰¾å’Œæ£€ç´¢æ–‡ä»¶å†…å®¹ findï¼Œgrep</li><li>å‹ç¼©ä¸è§£å‹ tarï¼Œrarï¼Œzipï¼Œgzï¼Œbz2</li></ul><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="Linux-å’Œ-GNU-çš„åŒºåˆ«ä¸è”ç³»ï¼š"><a href="#Linux-å’Œ-GNU-çš„åŒºåˆ«ä¸è”ç³»ï¼š" class="headerlink" title="Linux å’Œ GNU çš„åŒºåˆ«ä¸è”ç³»ï¼š"></a>Linux å’Œ GNU çš„åŒºåˆ«ä¸è”ç³»ï¼š</h3><blockquote><p>Linux å‘è¡Œç‰ˆ &#x3D;&#x3D; Linux å†…æ ¸ + GNU åº”ç”¨è½¯ä»¶çš„æ“ä½œç³»ç»Ÿ</p></blockquote><ul><li><p>Linux æ˜¯ç±» Unix è®¡ç®—æœºæ“ä½œç³»ç»Ÿçš„ç»Ÿç§°</p></li><li><p>Linux æ“ä½œç³»ç»Ÿçš„å†…æ ¸ä¹Ÿæ˜¯ â€Linuxâ€œ</p></li><li><p>Linux è¿™ä¸ªå•è¯åªè¡¨ç¤º Linux å†…æ ¸ï¼Œä½†æ˜¯å®é™…ä¸Šäººä»¬å·²ç»ä¹ æƒ¯ç”¨ Linux æ¥å½¢å®¹åŸºäº Linux å†…æ ¸çš„æ•´ä¸ªæ“ä½œç³»ç»Ÿ</p></li><li><p>Linux æ˜¯ç”±èŠ¬å…°å¤§å­¦ç”Ÿ Linus Torvallds 1991 å¹´ç¼–å†™</p></li><li><p>GNU æ˜¯ä¸€ä¸ªç±» Unix æ“ä½œç³»ç»Ÿã€‚å®ƒæ˜¯ç”±å¤šä¸ªåº”ç”¨ç¨‹åºã€ç³»ç»Ÿåº“ã€å¼€å‘å·¥å…·ä¹ƒè‡³æ¸¸æˆæ„æˆçš„ç¨‹åºé›†åˆã€‚</p></li></ul><p><strong>æ€»ç»“ï¼š</strong></p><p>Linux ç¡®å®å­˜åœ¨ï¼Œè®¸å¤šäººéƒ½åœ¨ä½¿ç”¨å®ƒï¼Œä½†å®ƒä»…ä»…æ˜¯æ‰€ç”¨ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ã€‚Linuxæ˜¯å†…æ ¸ï¼šå®ƒæ˜¯ä¸ºä½ è¿è¡Œçš„å…¶ä»–ç¨‹åºåˆ†é…è®¡ç®—æœºèµ„æºçš„ç¨‹åºã€‚å†…æ ¸æ˜¯æ“ä½œç³»ç»Ÿçš„åŸºæœ¬éƒ¨åˆ†ï¼Œä½†æ˜¯å®ƒè‡ªå·±å¹¶æ— ç”¨å¤„ï¼›å®ƒåªèƒ½åœ¨å®Œæ•´çš„æ“ä½œç³»ç»Ÿæ¡†æ¶ä¸‹æ‰èƒ½å‘æŒ¥ä½œç”¨ã€‚Linuxä¸€èˆ¬å’ŒGNUæ“ä½œç³»ç»Ÿä¸€èµ·ä½¿ç”¨ï¼šæ•´ä¸ªç³»ç»ŸåŸºæœ¬ä¸Šå°±æ˜¯GNUåŠ ä¸ŠLinuxï¼Œæˆ–å«GNU&#x2F;Linuxã€‚æ‰€æœ‰è¢«å«åšâ€œLinuxâ€çš„å‘è¡Œç‰ˆå®é™…ä¸Šæ˜¯GNU&#x2F;Linuxå‘è¡Œç‰ˆã€‚</p><p><strong>è¯¦ç»†å‚è€ƒï¼š</strong></p><ul><li>Linuxå’ŒGNUç³»ç»Ÿ <a href="https://www.gnu.org/gnu/linux-and-gnu.html">https://www.gnu.org/gnu/linux-and-gnu.html</a></li><li>GNUæ˜¯ä»€ä¹ˆï¼Ÿ <a href="https://www.gnu.org/">https://www.gnu.org</a></li></ul> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200321_163227.png" width="70%"/ loading="lazy"><br><h3 id="Linux-ç‰ˆæœ¬å·å’Œ-PATHï¼š"><a href="#Linux-ç‰ˆæœ¬å·å’Œ-PATHï¼š" class="headerlink" title="Linux ç‰ˆæœ¬å·å’Œ PATHï¼š"></a>Linux ç‰ˆæœ¬å·å’Œ PATHï¼š</h3><ul><li><p><strong>Linux ç‰ˆæœ¬å·ï¼š</strong> ä¸»ç‰ˆæœ¬å·æ˜¯åŒæ•°ä¸º STL æ”¯æŒ 5 å¹´ï¼›æ­¤ç‰ˆæœ¬.04 (4æœˆä»½ç¨³å®šç‰ˆ)ï¼Œ.10ä¸º debug ç‰ˆæœ¬</p></li><li><p><strong>ç¯å¢ƒå˜é‡ï¼š</strong> ä¸€äº›åˆ—çš„è·¯å¾„ï¼Œåœ¨ shell é‡Œé¢è¾“å…¥çš„å‘½ä»¤ï¼Œç³»ç»Ÿå°±ä¼šåœ¨è¿™ä¸ªè·¯å¾„é‡Œé¢å»æŸ¥æ‰¾è¯¥å‘½ä»¤æ˜¯å¦å­˜åœ¨ï¼›è‹¥å­˜åœ¨åˆ™æ‰§è¡Œå¯¹åº”çš„æ“ä½œ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token environment constant">$HOME</span> <span class="token builtin class-name">echo</span> <span class="token environment constant">$PATH</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ul><br><h3 id="shell-å’Œ-bash-çš„åŒºåˆ«ï¼š"><a href="#shell-å’Œ-bash-çš„åŒºåˆ«ï¼š" class="headerlink" title="shell å’Œ bash çš„åŒºåˆ«ï¼š"></a>shell å’Œ bash çš„åŒºåˆ«ï¼š</h3><ul><li><code>shell</code> â€“unix  å…¨ç§°ï¼šBourneï¼ˆä¼¯æ©ï¼‰ shell</li><li><code>bash</code>  â€“linux  é¦–å­—æ¯ç¼©å†™ï¼šBourne age shell</li></ul><p>è§£é‡Šä¸€ä¸‹ï¼Œå…ˆæœ‰ Unix ç³»ç»Ÿï¼Œå½“æ—¶æ˜¯ä»¥ä¼¯æ©å¼€å‘çš„å’Œç³»ç»Ÿè¿›è¡Œäº¤äº’çš„è½¯ä»¶ï¼Œå‘½åä¸º shell ï¼›éšååœ¨å‡ºç° Linux ï¼ˆç±» Unixï¼‰ç³»ç»Ÿï¼Œä¼¯æ©æƒ³è¦å°† shell è¿ç§»åˆ° Linux ä¸Šé¢ï¼Œä½†æ˜¯åˆä¸é‡åï¼Œæ‰€ä»¥ç§°å‘¼ä¸º Bourne age shellï¼Œç®€å†™ä¸º bashã€‚</p><br><h3 id="shell-å‘½ä»¤å‚æ•°é£æ ¼ï¼š"><a href="#shell-å‘½ä»¤å‚æ•°é£æ ¼ï¼š" class="headerlink" title="shell å‘½ä»¤å‚æ•°é£æ ¼ï¼š"></a>shell å‘½ä»¤å‚æ•°é£æ ¼ï¼š</h3><p>å‘½ä»¤å‚æ•°ï¼Œå…¶å®æ˜¯ç”±å¸¦ - å’Œä¸å¸¦ - ä¸¤ç§çš„ã€‚</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200321_163207.png" width="90%"/ loading="lazy"><br><h3 id="å…‰æ ‡ç›¸å…³å¿«æ·é”®ï¼š"><a href="#å…‰æ ‡ç›¸å…³å¿«æ·é”®ï¼š" class="headerlink" title="å…‰æ ‡ç›¸å…³å¿«æ·é”®ï¼š"></a>å…‰æ ‡ç›¸å…³å¿«æ·é”®ï¼š</h3><ul><li><code>history</code> (crtl + p&#x2F;n  å‘ä¸Šå‘ä¸‹éå†å†å²å‘½ä»¤)</li><li><code>crtl + b/f</code> (å‰è¿›åé€€ï¼šbackwardï¼Œforward)</li><li><code>crtl + a/e</code> (ç§»åŠ¨åˆ°é¦–å°¾ï¼šbeginï¼Œend)</li><li><code>crtl + u/k</code> (åˆ é™¤ä¸€è¡Œã€åˆ é™¤å…‰æ ‡åˆ°ç»“å°¾)</li><li><code>crtl + h/d</code> ï¼ˆåˆ é™¤å…‰æ ‡å‰é¢ã€åé¢ä¸€ä¸ªå­—æ¯ï¼š delï¼‰</li><li><code>Tab</code> å•è¯æç¤ºè¡¥å…¨</li></ul><br><h3 id="Linux-ç›®å½•æ–‡ä»¶ç»“æ„ï¼š"><a href="#Linux-ç›®å½•æ–‡ä»¶ç»“æ„ï¼š" class="headerlink" title="Linux ç›®å½•æ–‡ä»¶ç»“æ„ï¼š"></a>Linux ç›®å½•æ–‡ä»¶ç»“æ„ï¼š</h3><ul><li><p>Linux ç›®å½•æ ¹æ–‡ä»¶&#x2F;ç»“æ„</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200320_000515.png" width="100%"/ loading="lazy"></li><li><p><code>/bin</code> äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¯æ‰§è¡Œæ–‡ä»¶ï¼Œshell å‘½ä»¤</p></li><li><p><code>/dev</code> Linux ä¸‹ä¸€åˆ‡çš†æ–‡ä»¶ï¼Œç¡¬ç›˜ï¼Œæ˜¾å¡ï¼Œæ˜¾ç¤ºå™¨</p></li><li><p><code>/lib</code> åŠ¨æ€åº“</p></li><li><p><code>/met</code> æ‰‹åŠ¨çš„æŒ‚è½½ç›®å½•</p></li><li><p><code>/media</code> å¤–è®¾çš„è‡ªåŠ¨çš„æŒ‚è½½ç›®å½•ï¼Œå¦‚ U ç›˜</p></li><li><p><code>/root</code> è¶…çº§ç”¨æˆ·çš„å®¶ç›®å½•</p></li><li><p><code>/usr</code> -&gt;unix system resource</p></li><li><p>å¤´æ–‡ä»¶ï¼Œæ¸¸æˆï¼Œç”¨æˆ·å®‰è£…çš„ç¨‹åºï¼ˆusr&#x2F;localï¼‰ <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200320_000631.png" width="100%"/ loading="lazy"></p></li><li><p><code>/etc</code> å­˜æ”¾é…ç½®æ–‡ä»¶</p></li><li><p><code>/opt</code> å®‰è£…ç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºï¼ˆå¦‚ï¼šç«ç‹æµè§ˆå™¨ï¼Œnotepadqqï¼‰ </p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200320_001451.png" width="60%"/ loading="lazy"></li><li><p><code>/home</code> Linux æ“ä½œç³»ç»Ÿä¸‹æ‰€æœ‰ç”¨æˆ·çš„å®¶ç›®å½•</p></li><li><p><code>/tmp</code> å­˜æ”¾ä¸´æ—¶æ–‡ä»¶ï¼Œå¯èƒ½é‡å¯ä¼šè¢«æ¸…é™¤é‡Œé¢çš„æ–‡ä»¶</p></li><li><p><code>/boot</code> ç³»ç»Ÿå¼€æœºçš„ä¸€äº›é…ç½®æ–‡ä»¶</p></li></ul><br><h3 id="æ–‡ä»¶ç›®å½•ç›¸å…³çš„å‘½ä»¤ï¼š"><a href="#æ–‡ä»¶ç›®å½•ç›¸å…³çš„å‘½ä»¤ï¼š" class="headerlink" title="æ–‡ä»¶ç›®å½•ç›¸å…³çš„å‘½ä»¤ï¼š"></a>æ–‡ä»¶ç›®å½•ç›¸å…³çš„å‘½ä»¤ï¼š</h3><ul><li><p><code>tree</code> æŸ¥çœ‹ç›®å½•çš„å†…å®¹</p><ul><li># -C è¡¨ç¤ºè¾“å‡ºå¸¦å½©è‰²ï¼Œ -N ç›´æ¥æ˜¾ç¤ºç¼–ç è¾“å‡ºï¼ˆä¸­æ–‡ä¸ä¹±ç ï¼‰ï¼›<code>alias tree=&#39;tree -CN&#39;</code></li><li>-L æ˜¾ç¤ºå¤šå°‘å±‚çš„æ ‘</li></ul></li><li><p><code>ls</code> æŸ¥çœ‹æ–‡ä»¶æˆ–è€…ç›®å½•</p><ul><li><p>-a æ˜¾ç¤ºåŒ…æ‹¬å½±éšè—æ–‡ä»¶ï¼Œ -l æ¯ä¸ªæ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯</p></li><li><p>-F è‹¥æ˜¯æ–‡ä»¶å¤¹ï¼Œåˆ™æ–‡ä»¶å¤¹åå­—ååŠ  &#x2F; æ ‡è¯†</p></li><li><p>-h ä»¥äººç±»èƒ½å¤Ÿçœ‹å¾—æ‡‚çš„æ–¹å¼æ˜¾ç¤ºï¼Œå¤§å°å¸¦å•ä½</p><p><font color=#FF0000  size=4 face="å¹¼åœ†"><strong>Linux ä¸‹æ–‡ä»¶å¤¹æ°¸è¿œæ˜¯ 4Kï¼›</strong> </font> è€Œ unix ä¸‹ä¸æ˜¯ 4Kã€‚</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200320_004653.png" width="90%"/ loading="lazy"> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200320_004531.png" width="90%"/ loading="lazy"></li></ul></li><li><p><code>pwd</code> æ˜¾ç¤ºå®Œæ•´å½“å‰è·¯å¾„ (printf work dir)</p></li><li><p><code>mkdir</code> åˆ›å»ºæ–‡ä»¶å¤¹</p><ul><li>-p å¾ªç¯åˆ›å»ºå¤šä¸ªæ–‡ä»¶å¤¹</li></ul></li><li><p><code>touch</code> åˆ›å»ºæ–‡ä»¶</p><ul><li>è‹¥æ˜¯æ–‡ä»¶å·²å­˜åœ¨ï¼Œåˆ™åªæ›´æ”¹æ–‡ä»¶åˆ›å»ºæ—¶é—´</li></ul></li><li><p><code>rm</code> åˆ é™¤ç›®å½•ï¼ˆåˆ é™¤ä¹‹åï¼Œä¸èƒ½æ¢å¤ï¼‰</p><ul><li><p>-r é€’å½’åˆ é™¤ï¼›-f åˆ é™¤æ—¶å€™ä¸å¼¹å‡ºç¡®è®¤æ˜¯å¦ï¼›-i åˆ é™¤æ—¶å€™æ·»åŠ æç¤ºä¿¡æ¯</p><p>rmdir ï¼ˆè¾£é¸¡ï¼Œåªèƒ½åˆ é™¤ç©ºæ–‡ä»¶å¤¹ï¼‰</p></li></ul></li><li><p><code>cp</code> å¤åˆ¶æ–‡ä»¶ã€æ–‡ä»¶å¤¹</p><ul><li>cp fileA fileB (fileB æ— ï¼Œåˆ™åˆ›å»ºï¼›fileB å·²å­˜åœ¨ï¼Œåˆ™è¦†ç›–)</li><li>cp dirA&#x2F; dirB <ul><li>dirB æ—    (dirA æ–‡ä»¶å¤¹(å«) æ‹·è´åˆ° ç›®å½• dirB)</li><li>dirB å­˜åœ¨  (dirA æ–‡ä»¶å¤¹(ä¸å«) æ‹·è´åˆ° ç›®å½• dirB)</li></ul></li></ul></li><li><p><code>mv</code> ç§»åŠ¨ã€æ”¹å</p></li></ul><br><h3 id="æ˜¾ç¤ºæ–‡ä»¶å†…å®¹å‘½ä»¤-cat-x2F-moreï¼š"><a href="#æ˜¾ç¤ºæ–‡ä»¶å†…å®¹å‘½ä»¤-cat-x2F-moreï¼š" class="headerlink" title="æ˜¾ç¤ºæ–‡ä»¶å†…å®¹å‘½ä»¤ cat &#x2F; moreï¼š"></a>æ˜¾ç¤ºæ–‡ä»¶å†…å®¹å‘½ä»¤ cat &#x2F; moreï¼š</h3><ul><li><code>cat</code> æŠŠæ–‡ä»¶å†…å®¹æ‰“å°åˆ°ç»ˆç«¯</li><li><code>more</code> æµè§ˆæ–‡ä»¶ï¼ˆå›è½¦æµè§ˆä¸‹ä¸€è¡Œï¼›ç©ºæ ¼ç¿»é¡µï¼›q é€€å‡ºï¼‰</li><li><code>less</code> å’Œ more ç›¸ä¼¼</li><li><code>head</code> æ˜¾ç¤ºæ–‡ä»¶å¤´éƒ¨çš„å‰ 10 è¡Œ</li><li><code>tail</code> æ˜¾ç¤ºæ–‡ä»¶å°¾éƒ¨ 10 è¡Œ</li></ul><br><h3 id="è½¯ç¡¬é“¾æ¥ï¼š"><a href="#è½¯ç¡¬é“¾æ¥ï¼š" class="headerlink" title="è½¯ç¡¬é“¾æ¥ï¼š"></a>è½¯ç¡¬é“¾æ¥ï¼š</h3><h4 id="è½¯è¿æ¥-ln-sï¼š"><a href="#è½¯è¿æ¥-ln-sï¼š" class="headerlink" title="è½¯è¿æ¥ ln -sï¼š"></a>è½¯è¿æ¥ ln -sï¼š</h4><ul><li><p>å¯ä»¥çœ‹åš <strong>å¿«æ·æ–¹å¼</strong></p></li><li><p><code>ln -s æ–‡ä»¶å å¿«æ·æ–¹å¼å</code> (æ–‡ä»¶åå¸¦ä¸Šç»å¯¹è·¯åŠ²ï¼Œå¿«æ·æ–¹å¼ä»»ä½•åœ°æ–¹éƒ½å¯ç”¨)</p></li><li><p>ç›®å½•ä¹Ÿå¯ä»¥åˆ›å»ºå¿«æ·æ–¹å¼</p></li></ul><h4 id="ç¡¬é“¾æ¥-lnï¼š"><a href="#ç¡¬é“¾æ¥-lnï¼š" class="headerlink" title="ç¡¬é“¾æ¥ lnï¼š"></a>ç¡¬é“¾æ¥ lnï¼š</h4><ul><li><p><code>ln æ–‡ä»¶å ç¡¬é“¾æ¥å</code> ï¼ˆä¸éœ€è¦å¸¦è·¯å¾„ï¼‰</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200320220735.png" width="50%"/ loading="lazy"></li></ul><br><h3 id="ç”¨æˆ·æƒé™ï¼Œç”¨æˆ·ï¼Œç”¨æˆ·ç»„-chmod-x2F-chownï¼š"><a href="#ç”¨æˆ·æƒé™ï¼Œç”¨æˆ·ï¼Œç”¨æˆ·ç»„-chmod-x2F-chownï¼š" class="headerlink" title="ç”¨æˆ·æƒé™ï¼Œç”¨æˆ·ï¼Œç”¨æˆ·ç»„ chmod &#x2F; chownï¼š"></a>ç”¨æˆ·æƒé™ï¼Œç”¨æˆ·ï¼Œç”¨æˆ·ç»„ chmod &#x2F; chownï¼š</h3><blockquote><ul><li>ç›®å½•å¿…é¡»è¦æœ‰æ‰§è¡Œæƒé™ï¼Œæ‰å¯ä»¥è¿›å»</li><li>æŸ¥çœ‹æ‰€å±ç”¨æˆ· cat &#x2F;etc&#x2F;passwd </li><li>æŸ¥çœ‹æ‰€å±äºç»„ cat &#x2F;etc&#x2F;group ï¼ˆçœ‹åˆ°çš„ x è¡¨ç¤ºåŠ å¯†çš„å¯†ç ï¼‰</li></ul></blockquote><ul><li><code>chmod</code> ä¿®æ”¹æ–‡ä»¶æˆ–è€…ç›®å½•çš„æƒé™ï¼ˆåŒå‘½ä»¤ï¼Œåœ¨ Linux å¯è¿è¡Œï¼Œåœ¨ Unix ä¸ä¸€å®šå¯ä»¥é€šè¿‡ï¼‰ï¼›<strong>å«ä¹‰ï¼šuã€gã€oã€a ï¼ˆusr&#x2F;group&#x2F;other&#x2F;allï¼‰</strong> <ul><li>é»˜è®¤æ˜¯ä½¿ç”¨ a(all) æ‰€æœ‰äººçš„æƒé™<ul><li>eg: chmod ugo+x 20200314_205632.png (åŠ å‡ä¸åŒæƒé™ç”¨é€—å·)</li><li>eg: chmod 777 20200314_205632.png ï¼ˆè¦†ç›–æƒé™ï¼‰</li><li>eg: chmod -440 20200314_205616.png ï¼ˆåŠ å‡æƒé™ï¼‰</li></ul></li></ul></li><li><code>chown</code> ä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…æˆ–æ‰€å±ç»„<ul><li>chown æ–°çš„æ‰€æœ‰è€… æ–‡ä»¶å</li><li>chown æ–°çš„æ‰€æœ‰è€…ï¼šæ–°çš„ç»„ æ–‡ä»¶å</li></ul></li><li><code>chgrp</code> ä¿®æ”¹æ–‡ä»¶æ‰€å±ç»„(å¯ä»¥çœ‹åšå¼±ä¸€ç‚¹çš„å‘½ä»¤)<ul><li>chgrp æ–°çš„ç»„ æ–‡ä»¶å</li></ul></li></ul><br><h3 id="æ–‡ä»¶æŸ¥æ‰¾å’Œæ£€ç´¢-find-x2F-grepï¼š"><a href="#æ–‡ä»¶æŸ¥æ‰¾å’Œæ£€ç´¢-find-x2F-grepï¼š" class="headerlink" title="æ–‡ä»¶æŸ¥æ‰¾å’Œæ£€ç´¢ find &#x2F; grepï¼š"></a><font color=#FF0000 face="å¹¼åœ†">æ–‡ä»¶æŸ¥æ‰¾å’Œæ£€ç´¢ find &#x2F; grepï¼š</font></h3><ul><li><p><font color=#FF0000 face="å¹¼åœ†"><code>find</code> æ ¹æ®æ–‡ä»¶å±æ€§æŸ¥æ‰¾</font></p><ul><li><p><strong>nameã€typeã€sizeã€ctime&#x2F;mtime&#x2F;atime</strong> (åˆ›å»ºã€ä¿®æ”¹ã€è®¿é—®æ—¥æœŸ)ã€<strong>mindepth&#x2F;maxdepth&#x2F;</strong> (æœ€æµ…ã€æ·±çš„å±‚æ•°)</p><ul><li>eg: find ~&#x2F; -name â€œ*.txtâ€</li><li>eg: find . -type d (ä¸ƒç§æ–‡ä»¶ç±»å‹:f,d,l,p,s,c,b)</li><li>eg: find . -size +4k -size -1M <strong>(4k &lt; æ–‡ä»¶å¤§äº &lt; 1M)</strong></li><li>eg: find . -ctime -2 (åœ¨2å¤©ä¹‹å†…åˆ›å»ºçš„æ–‡ä»¶)</li><li>eg: find . -maxdepth 2 (æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æœ€æ·±ä¸º 2 å±‚çš„ç›®å½•)</li></ul></li><li><p>é«˜çº§æŸ¥æ‰¾ï¼š </p><ul><li><p>find . -type d <font color=#FF0000 face="å¹¼åœ†">-exec</font> ls -l <font color=#FF0000 face="å¹¼åœ†">{} ;</font>  (ls -l ä¸ºå…·ä½“çš„shell å‘½ä»¤ï¼Œ<strong>çº¢è‰²ä¸ºå›ºå®šæ ¼å¼</strong> )</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># exec ä¹Ÿå¯ä»¥æ›¿æ¢ä¸º ok; okè¿˜ä¼šå¼¹å‡ºç¡®è®¤æç¤ºï¼Œè¦åŠ ä¸Šåˆ†å·</span><span class="token function">find</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">-type</span> d <span class="token parameter variable">-exec</span> å‘½ä»¤ <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">\</span><span class="token punctuation">;</span>  <span class="token function">find</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">-type</span> d <span class="token parameter variable">-ok</span> å‘½ä»¤ <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">\</span><span class="token punctuation">;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li><p>find . -type d | xargs shellå‘½ä»¤ (ç”¨ç®¡é“æ•ˆç‡æ¯”ä¸Šé¢é«˜)</p></li></ul></li></ul></li><li><p><font color=#FF0000 face="å¹¼åœ†"><code>grep</code> æ ¹æ®æ–‡ä»¶å†…å®¹æŸ¥æ‰¾</font></p><ul><li>grep -r (æœ‰æ–‡ä»¶å¤¹) â€æŸ¥æ‰¾çš„å†…å®¹â€œ æœç´¢è·¯å¾„ -nï¼› <strong>ï¼ˆ-n æ˜¾ç¤ºåŒ¹é…åˆ°çš„å­—ç¬¦ä¸²çš„è¡Œæ•°ï¼‰</strong><ul><li>eg: grep -r â€œaaâ€ ~&#x2F;Desktop -n  ï¼ˆæ–‡ä»¶å¤¹å¯ä»¥æ²¡æœ‰ï¼‰</li></ul></li></ul></li></ul><br><h3 id="å‹ç¼©åŒ…çš„ç®¡ç†"><a href="#å‹ç¼©åŒ…çš„ç®¡ç†" class="headerlink" title="å‹ç¼©åŒ…çš„ç®¡ç†:"></a><font color=#FF0000 face="å¹¼åœ†">å‹ç¼©åŒ…çš„ç®¡ç†:</font></h3><h4 id="Linux-å¸¸è§å‹ç¼©æ ¼å¼-gz-x2F-bz2ï¼š"><a href="#Linux-å¸¸è§å‹ç¼©æ ¼å¼-gz-x2F-bz2ï¼š" class="headerlink" title="Linux å¸¸è§å‹ç¼©æ ¼å¼ .gz &#x2F; .bz2ï¼š"></a><font color=#FF0000 face="å¹¼åœ†">Linux å¸¸è§å‹ç¼©æ ¼å¼ .gz &#x2F; .bz2ï¼š</font></h4><ul><li><code>.gz</code>   â€“gzip å·¥å…·å‹å‹ç¼©å‡ºæ¥çš„ </li><li><code>.bz2</code>  â€“bzip2 å·¥å…·å‹å‹ç¼©å‡ºæ¥çš„</li><li>ä¸Šé¢ä¸¤ä¸ªå‘½ä»¤ï¼Œåªèƒ½å‹ç¼©æ–‡ä»¶ï¼Œå¾ˆå¼±ï¼Œä¸€èˆ¬æ˜¯è¢«é—´æ¥ä½¿ç”¨</li></ul><h4 id="å¸¸ç”¨å‹ç¼©å‘½ä»¤-tar-x2F-rar-x2F-zipï¼š"><a href="#å¸¸ç”¨å‹ç¼©å‘½ä»¤-tar-x2F-rar-x2F-zipï¼š" class="headerlink" title="å¸¸ç”¨å‹ç¼©å‘½ä»¤ tar &#x2F; rar &#x2F; zipï¼š"></a><font color=#FF0000 face="å¹¼åœ†">å¸¸ç”¨å‹ç¼©å‘½ä»¤ tar &#x2F; rar &#x2F; zipï¼š</font></h4><blockquote><p><font color=#FF0000 face="å¹¼åœ†"><strong>æ€»ç»“ï¼š</strong> </font></p><p><strong>å‹ç¼©ï¼š</strong></p><p>tar zcvf  å‹ç¼©åŒ…å åŸææ–™    ï¼ˆè‹¥å«æ–‡ä»¶å¤¹ï¼Œå‹ç¼©åˆ™éœ€è¦ -rï¼‰</p><p>rar a     å‹ç¼©åŒ…å åŸææ–™    ï¼ˆè‹¥å«æ–‡ä»¶å¤¹ï¼Œå‹ç¼©åˆ™éœ€è¦ -rï¼‰</p><p>zip       å‹ç¼©åŒ…å åŸææ–™    ï¼ˆè‹¥å«æ–‡ä»¶å¤¹ï¼Œå‹ç¼©åˆ™éœ€è¦ -rï¼‰</p><p><strong>è§£ç¼©ï¼š</strong></p><p>tar   zxvf å‹ç¼©åŒ…å -C è§£å‹è·¯å¾„</p><p>rar   x    å‹ç¼©åŒ…å    è§£å‹è·¯å¾„</p><p>unzip      å‹ç¼©åŒ…å -d è§£å‹è·¯å¾„</p></blockquote> <br><ul><li><code>tar</code>   <strong>â€“å‹ç¼©è§£å‹</strong><ul><li><strong>å‚æ•°ï¼š</strong><ul><li>c  -åˆ›å»ºå‹ç¼©æ–‡ä»¶</li><li>x  -é‡Šæ”¾å‹ç¼©æ–‡ä»¶</li><li>v  -æ‰“å°æç¤ºä¿¡æ¯ï¼ˆå¯ä¸å†™ï¼‰</li><li>f  -æŒ‡å®šå‹ç¼©åŒ…çš„åå­—</li><li>z  -ä½¿ç”¨ gzip å‹ç¼©æ–‡ä»¶    -xxx.tar.gz</li><li>j  -ä½¿ç”¨ bzip å‹ç¼©è¯¥æ–‡ä»¶  -xxx.tar.bz2</li></ul></li><li><strong>å‹ç¼©ï¼š</strong><ul><li>tar å‚æ•° å‹ç¼©åŒ…åå­— åŸææ–™</li><li><code>tar zcvf test.tar.gz A b.txt c.png d.exe</code></li></ul></li><li><strong>è§£å‹ï¼š</strong><ul><li>-C  -è§£å‹ç›®å½•</li><li><code>tar zxvf test.tar.gz -C è§£å‹ç›®å½•</code></li></ul></li></ul></li></ul><br><ul><li><code>rar</code>    <strong>â€“å‹ç¼©è§£å‹</strong><ul><li><strong>å‹ç¼©ï¼š</strong> <code>rar a å‹ç¼©åŒ…å(ä¸ç”¨æŒ‡å®šåç¼€) å‹ç¼©å†…å®¹</code>  (æœ‰ç›®å½•åˆ™åŠ  -r å‚æ•°)</li><li><strong>è§£å‹ï¼š</strong> <code>rar x å‹ç¼©åŒ…å è§£å‹ç›®å½•</code></li></ul></li></ul><br><ul><li><code>zip</code>   <strong>â€“å‹ç¼©è§£å‹</strong><ul><li><strong>å‹ç¼©ï¼š</strong> <code>zip å‚æ•° å‹ç¼©åŒ…å åŸææ–™</code></li><li><strong>è§£å‹ç¼©ï¼š</strong> <code>unzip è§£å‹æ–‡ä»¶ -d è§£å‹è·¯å¾„</code></li></ul></li></ul><br><h3 id="ç³»åˆ—åœ°å€ï¼š"><a href="#ç³»åˆ—åœ°å€ï¼š" class="headerlink" title="ç³»åˆ—åœ°å€ï¼š"></a>ç³»åˆ—åœ°å€ï¼š</h3><p><a href="https://github.com/xmuli/linuxExample">https://github.com/xmuli/linuxExample</a></p><p>æ¬¢è¿ star å’Œ fork è¿™ä¸ªç³»åˆ—çš„ linux å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>QStyle/DTKé‡ç»˜è‡ªå®šä¹‰éœ€æ±‚æ§ä»¶,ä¸¾ä¾‹MySwitchButton</title>
      <link href="/posts/70928d69/"/>
      <url>/posts/70928d69/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€ä½¿ç”¨ QStyle &#x2F; DTK æ¥å®ç°é‡ç»˜è‡ªå®šä¹‰éœ€æ±‚æ§ä»¶ï¼ˆQt-GUI æ²¡æœ‰çš„ï¼‰ï¼Œæ­¤å¤„ä»¥é‡ç»˜ ios çš„æ§ä»¶ MySwitchButton ä¸¾ä¾‹ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š"></a>ç¼–ç¨‹ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>uos 20 amd64 </code> ğŸ“ <code>Qt 5.11.3</code></p><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14.6 </code> ğŸ“ <code>Qt 5.12.6</code></p><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>win10 x64 </code> ğŸ“ <code>Qt 5.9.8</code></p><br><h3 id="èƒŒæ™¯é“ºå«ï¼š"><a href="#èƒŒæ™¯é“ºå«ï¼š" class="headerlink" title="èƒŒæ™¯é“ºå«ï¼š"></a>èƒŒæ™¯é“ºå«ï¼š</h3><p>â€‹    ç”±<a href="https://blog.csdn.net/qq_33154343/article/details/104367878">ä¸Šä¸Šä¸€ç¯‡</a> çš„æ–‡ç« ï¼Œå·²ç†è§£ <code>QStyle</code> ã€ <code>QCommonStyle</code> å’Œè‡ªå®šä¹‰çš„ <code>MyStyle</code> ä¸‰è€…çš„å…³ç³»ï¼›å¯¹åŸºç¡€çš„é£æ ¼æ§ä»¶ä¹Ÿæœ‰æ‰€å­¦ä¹ äº†ï¼›</p><p>â€‹    å’Œ<a href="https://blog.csdn.net/qq_33154343/article/details/104537944">ä¸Šä¸€ç¯‡</a> æ–‡ç« ä¸­ï¼Œå·²ç†è§£å¦‚ä½•ä½¿ç”¨ <code>MyStyle</code> æ¥ç»˜ç”» Qt è‡ªå¸¦çš„æ§ä»¶çš„é£æ ¼ï¼Œä¹Ÿæœ‰ä¸€æ¬¡çš„å®æˆ˜é‡ç»˜ <code>QCommonStyle</code> é‡Œé¢çš„è™šå‡½æ•°çš„é¡¹ç›®ï¼›</p><p>â€‹    åœ¨æ­¤ï¼Œæœ¬æ–‡æ”¶å°¾ï¼Œåˆ†æå¼€æºç¤¾åŒºç²¾ç¥å°ä¼™ä»¬ï¼Œå®ƒä»¬æ˜¯æ€ä¹ˆå¯¹ DTK çš„åº“è¿›è¡Œé‡ç»˜æ§ä»¶çš„ã€‚æƒ³åˆ°çš„æ–°å­¦ä¹ çš„æ¡†æ¶ï¼Œè‰¯å¿ƒè¯´ï¼Œ<strong>å¼€æºï¼ŒçœŸçš„èƒ½å¤Ÿå­¦ä¹ åˆ°å¾ˆå¤šçŸ¥è¯†ã€‚</strong> æœ¬ç¯‡é‡ç‚¹ä»‹ç»ï¼Œå¦‚ä½•åˆ›å»ºä¸€ä¸ªæ–°çš„è‡ªå®šä¹‰çš„æ§ä»¶ï¼Œå¹¶ä¸”å¯¹å…¶è¿›è¡Œç»˜ç”»ï¼Œå†™ä¸€ä¸ªç®€å•å·¥ç¨‹ï¼Œè¿›è¡Œç¤ºèŒƒã€‚</p><br><h3 id="éœ€æ±‚åˆ†æï¼š"><a href="#éœ€æ±‚åˆ†æï¼š" class="headerlink" title="éœ€æ±‚åˆ†æï¼š"></a>éœ€æ±‚åˆ†æï¼š</h3><p>â€‹    å›  <code>DTk/QStyle</code> ç»˜ç”»çš„è¿™ä¸ªç³»åˆ—çš„å®Œæ•´æ€§ï¼Œå¾—è‡ªå·±æƒ³ä¸€ä¸ªæ¯”è¾ƒå¥½çš„æ§ä»¶å•Šï¼ŒæŒ äº†æŒ å¤´ï¼ŒiPhone ç»™äº†æˆ‘æ„Ÿè§‰ã€‚<code>SwitchButton</code> æ§ä»¶æ˜¯ ios &#x2F; Andiroad ğŸ“±çš„æ§ä»¶ï¼Œä¸å±äº PC çš„æ§ä»¶ï¼Œæ›´éæ˜¯ Qt è‡ªå¸¦çš„ä¸€ä¸ªæ§ä»¶ï¼›ç”¨ç”µè„‘è¿›è¡Œç»˜ç”»ï¼Œæ­£å¥½æ˜¯å¦™å“‰ã€‚å…¶ UI åŸå‹å›¾å¦‚ä¸‹ï¼›åŠŸèƒ½å°±æ˜¯ç‚¹å‡»ä¸€ä¸‹ï¼Œå°±ä¼šåœ¨ å¼€&#x2F;å…³ çŠ¶æ€ä¹‹é—´æ¥å›åˆ‡æ¢ï¼Œä¸”å±•ç¤ºä¸åŒçš„é¢œè‰²èƒŒæ™¯ã€‚</p>  <img src='https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200320_122334b.png' width="30%"/ loading="lazy"><br><h3 id="å·¥ç¨‹æ–‡ä»¶åˆ†æï¼š"><a href="#å·¥ç¨‹æ–‡ä»¶åˆ†æï¼š" class="headerlink" title="å·¥ç¨‹æ–‡ä»¶åˆ†æï¼š"></a>å·¥ç¨‹æ–‡ä»¶åˆ†æï¼š</h3><p>â€‹    è¿™é‡Œåˆ†æä¸‹ï¼Œæ•´ä¸ªé¡¹ç›®çš„æ„æˆç»„æˆï¼›è¿™é‡Œè¿˜æ˜¯å†æ¬¡ç®€å•æ¢³ç†ä¸€ç•ªï¼š</p> <img src='https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200320_122343a.png' width="50%"/ loading="lazy"><ul><li><font color=#FE7207  size=4 face="Courier">QtStyleEx:</font><ul><li><font color=#FE7207  size=4 face="Courier">main.cpp:</font> ç¨‹åºçš„æ€»å…¥å£</li><li><font color=#FE7207  size=4 face="Courier">widget.h:</font> æ˜¾ç¤º GUI æ§ä»¶çš„èƒŒæ™¯çª—å£ï¼Œç»§æ‰¿äº QWidget çš„<strong>ç±»çš„å£°æ˜</strong> </li><li><font color=#FE7207  size=4 face="Courier">widget.cpp:</font> æ˜¾ç¤º GUI æ§ä»¶çš„èƒŒæ™¯çª—å£ï¼Œç»§æ‰¿äº QWidget çš„<strong>ç±»å®šä¹‰</strong> </li><li><font color=#FE7207  size=4 face="Courier">mystyle.h:</font> è‡ªå®šä¹‰é£æ ¼ï¼ˆä¸å±äº OS è‡ªå¸¦é£æ ¼ï¼‰<strong>ç±»çš„å£°æ˜</strong> </li><li><font color=#FE7207  size=4 face="Courier">mystyle.cpp:</font> è‡ªå®šä¹‰é£æ ¼ï¼ˆä¸å±äº OS è‡ªå¸¦é£æ ¼ï¼‰çš„<strong>ç±»å®šä¹‰</strong> </li><li><font color=#FE7207  size=4 face="Courier">myswitchbutton.hï¼š</font> è‡ªå®šä¹‰éœ€æ±‚çš„æ§ä»¶<strong>ç±»çš„å£°æ˜</strong> </li><li><font color=#FE7207  size=4 face="Courier">myswitchbutton_p.h:</font> è‡ªå®šä¹‰éœ€æ±‚çš„æ§ä»¶ç±»<strong>çš„æ•°æ®ç±» Private çš„å£°æ˜</strong> </li><li><font color=#FE7207  size=4 face="Courier">myswitchbutton.cpp:</font> è‡ªå®šä¹‰éœ€æ±‚çš„æ§ä»¶<strong>ç±»å’Œå˜é‡ Private ç±»çš„å®ç°</strong></li></ul></li></ul><p>å…¶ä¸­ä¸»è¦æ¶‰åŠçš„å‡ ä¸ªç±»å¦‚ä¸‹ï¼š</p><br><h3 id="æ•´ç†æ‰€æœ‰ç±»çš„æ€ç»´å¯¼å›¾ï¼š"><a href="#æ•´ç†æ‰€æœ‰ç±»çš„æ€ç»´å¯¼å›¾ï¼š" class="headerlink" title="æ•´ç†æ‰€æœ‰ç±»çš„æ€ç»´å¯¼å›¾ï¼š"></a>æ•´ç†æ‰€æœ‰ç±»çš„æ€ç»´å¯¼å›¾ï¼š</h3><p>â€‹    è¿™ä¸Šé¢çš„è¿™äº›é—®é¢˜ï¼Œé¡ºå…¶è‡ªç„¶çš„æ‰¾åˆ°å®ƒä»¬å¯¹åº”çš„ç±»ã€‚æŒ‰ç…§å„è‡ªçš„åŠŸèƒ½åˆ’åˆ†ï¼Œå¯ä»¥å¾—åˆ°å¦‚ä¸‹çš„æ€ç»´å¯¼å›¾ã€‚æçº²æŒˆé¢†ï¼Œå†™ä»£ç ä¸ä¼šè¿·å¤±åœ¨ç»†èŠ‚ğŸ‘©â€ğŸ’»ï¼›</p> <img src='https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/axsrJt.png' width="100%"/ loading="lazy"><br><h3 id="å®ç°æµç¨‹å›¾ï¼š"><a href="#å®ç°æµç¨‹å›¾ï¼š" class="headerlink" title="å®ç°æµç¨‹å›¾ï¼š"></a>å®ç°æµç¨‹å›¾ï¼š</h3><p>â€‹    æœ‰äº† UI è®¾è®¡å›¾ï¼Œå’Œç†Ÿæ‚‰çš„åŠŸèƒ½ï¼Œå·²ç»è¿›è¡Œé‡ç»˜æ§ä»¶ï¼›é€šè¿‡ä»¥ä¸Šçš„ä»£ç é€»è¾‘æµç¨‹ï¼Œå¤ç›˜ä¸€ä¸‹ DTK ç»˜ç”»è‡ªå®šä¹‰éœ€æ±‚çš„æºç æ€è·¯ã€‚å°†è‡ªå·±çš„é€»è¾‘æ’å…¥åˆ° Qt åŸæœ¬çš„ç»˜ç”»æ¶æ„ä¸­ï¼Œåˆ©ç”¨å·²ç»æœ‰çš„ QStyle æ¶æ„æ¥è¿›è¡Œç»˜ç”»ã€‚æ¢³ç†å‡ºæ¥çš„æµç¨‹å›¾å¦‚ä¸‹ã€‚</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200320_115759.png" width="100%"/ loading="lazy"><br><h3 id="ä»£ç å®ç°ï¼š"><a href="#ä»£ç å®ç°ï¼š" class="headerlink" title="ä»£ç å®ç°ï¼š"></a>ä»£ç å®ç°ï¼š</h3><p>â€‹    å…¶ä¸­ä»£ç å®ç°çš„åœ°æ–¹ï¼Œæœ‰å‡ å¤„æ˜¯çš„è®¾è®¡å¾ˆç²¾å¦™ï¼Œå¯èƒ½æˆ‘æ˜¯æ‰çœ¼ç•Œåˆçœ‹å¼€ï¼Œå¾ˆæœ‰å¿…è¦çš„ğŸŒ¶å‡ºæ¥å•ç‹¬è®²ï¼›çœ‹ç€ä»£ç æ¥å®ç°å¤ç°ä¸€ä¸ªåŠŸèƒ½å¾ˆå®¹æ˜“ï¼Œå±äºå€Ÿé‰´æŠ€å·§ä¸å­¦ä¹ ï¼Œä½†å®¹æ˜“è®©è‡ªå·±ä¸Šé’©æ€æƒ³æ‡’æƒ°ï¼Œä¸å»æ€è€ƒåŸç†ã€‚æœ‰ä¸€äº›ç»†èŠ‚æ˜¯å«ç³Šè¿‡å»çš„åœ°æ–¹ï¼›åœ¨æ­£å¼å®ç°ä¹‹å‰ï¼Œ<strong>ä¸»è¦è§£å†³çš„é—®é¢˜æœ‰å¦‚ä¸‹éš¾ç‚¹ï¼š</strong></p><ul><li>å¦‚ä½•åˆ›å»º MySwitchButton æ§ä»¶ï¼Ÿ éœ€è¦ç»§æ‰¿å“ªäº›ç±»â“<ul><li>æ§ä»¶çŸ©å½¢å¤§å°â“</li><li>æ§ä»¶çš„ UI æ ·å¼â“</li><li>æ§ä»¶å¦‚ä½•æ‹†åˆ†éƒ¨ä»¶ MyStyle::CE_SwitchButton â“</li></ul></li><li>å¦‚ä½•è¿›å…¥åˆ°ç»˜ç”»æ­¥éª¤ä¸­â“<ul><li>QPainter å¦‚ä½•ç»˜ç”»è¯¥å°éƒ¨ä»¶ï¼Ÿè¿›å…¥åˆ°æ§ä»¶çš„ paintEvent()å‡½æ•°â“</li></ul></li><li>MyStyle å¦‚ä½•åŒºåˆ† Qt åŸç”Ÿæ§ä»¶å’Œè‡ªå®šä¹‰çš„æ§ä»¶â“<ul><li>å¦‚ä½•å¢åŠ è‡ªå®šä¹‰æšä¸¾ CE_ , SE_ , PM_ , PE_ ç­‰â“</li><li>å¦‚ä½•åŒºåˆ†é‡ç»˜ç”»çš„æ§ä»¶æ˜¯ Qt è‡ªå¸¦çš„è¿˜æ˜¯è‡ªå®šä¹‰æšä¸¾å…ƒç´ â“</li></ul></li><li>ä»¥åŠ MyStyle å¦‚ä½•è°ƒç”¨è¿™äº›é‡è½½çš„å‡½æ•°â“</li></ul><p>â€‹    ä¸Šé¢ğŸ‘†è¿™äº›æƒ³çš„æ¸…æ¥šäº†ï¼Œé‚£ä¹ˆè¿™ä¸ªæ¶æ„ä¹Ÿæ¸…æ¥šäº†å¾ˆå¤šã€‚ä¹ŸçŸ¥æ™“äº†ç»˜ç”»çš„æµç¨‹ã€‚</p><br><h4 id="æ·»åŠ è‡ªå®šä¹‰çš„æšä¸¾ï¼š"><a href="#æ·»åŠ è‡ªå®šä¹‰çš„æšä¸¾ï¼š" class="headerlink" title="æ·»åŠ è‡ªå®šä¹‰çš„æšä¸¾ï¼š"></a>æ·»åŠ è‡ªå®šä¹‰çš„æšä¸¾ï¼š</h4><p>â€‹    è¿™é‡Œæ–°å¢åŠ çš„æšä¸¾ï¼Œæ˜¯å±äº MyStyle:: , è€Œé QStyle:: èŒƒå›´ã€‚</p><p>ä¸”è¦ä» <code>CE_CustomBase</code> &#x3D; <code>QStyle::CE_CustomBase + 0xf00000</code> å¼€å§‹ï¼Œæ–°çš„æšä¸¾æŒ‰ç…§ int ç±»å‹ä¾æ¬¡åŠ ä¸€ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">MyStyle</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QCommonStyle</span></span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token comment">//è¿™é‡Œæ–°å¢åŠ çš„æšä¸¾ï¼Œæ˜¯å±äº MyStyle:: , è€Œé QStyle:: èŒƒå›´</span>    <span class="token keyword">enum</span> <span class="token class-name">ControlElement</span> <span class="token punctuation">&#123;</span>        CE_SwitchButton <span class="token operator">=</span> QStyle<span class="token double-colon punctuation">::</span>CE_CustomBase <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>                   <span class="token comment">//switchButton æ§ä»¶</span>        CE_CustomBase <span class="token operator">=</span> QStyle<span class="token double-colon punctuation">::</span>CE_CustomBase <span class="token operator">+</span> <span class="token number">0xf00000</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h4 id="é‡å†™-QCommonStyle-çš„è™šå‡½æ•°ï¼š"><a href="#é‡å†™-QCommonStyle-çš„è™šå‡½æ•°ï¼š" class="headerlink" title="é‡å†™ QCommonStyle çš„è™šå‡½æ•°ï¼š"></a>é‡å†™ QCommonStyle çš„è™šå‡½æ•°ï¼š</h4><p>â€‹    è¿™é‡Œçš„å¿«æ·æ–¹å¼åˆ›å»ºçš„æšä¸¾,éƒ½æ˜¯ä¸å¸¦QStyle::ï¼Œ ä½†æ˜¯å¿«æ·æ–¹å¼çš„å®šä¹‰æ˜¯å¸¦æ˜¯QStyle:: , æ­¤å¤„å£°æ˜çš„åœ°æ–¹å¿…é¡»åŠ ä¸Š QStyle::ï¼Œåé¢æ”¹å†™æ›´å¤æ‚çš„å¾—å†™ä¸ŠMyStyle:: å› æ·»åŠ è‡ªå®šä¹‰çš„æšä¸¾ã€‚</p><p>â€‹    è¿™é‡Œ override çš„è™šå‡½æ•°ï¼Œåªèƒ½å¤Ÿè°ƒç”¨æ—§æœ‰çš„  QStyle:: çš„å‡½æ•°ã€‚ä¸»è¦ç”¨æ¥ç»˜ç”» Qt ã€ è‡ªå®šä¹‰æ–°å¢ çš„æ§ä»¶æšä¸¾ã€‚</p><p>â€‹    åé¢æ”¹å†™æ›´å¤æ‚çš„å¾—å†™ä¸ŠMyStyle:: å› æ·»åŠ è‡ªå®šä¹‰çš„æšä¸¾  </p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">MyStyle</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QCommonStyle</span></span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">drawControl</span><span class="token punctuation">(</span>QStyle<span class="token double-colon punctuation">::</span>ControlElement element<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOption <span class="token operator">*</span>opt<span class="token punctuation">,</span> QPainter <span class="token operator">*</span>p<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>w<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span>    <span class="token keyword">virtual</span> QRect <span class="token function">subElementRect</span><span class="token punctuation">(</span>QStyle<span class="token double-colon punctuation">::</span>SubElement subElement<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOption <span class="token operator">*</span>option<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>widget<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span>    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">drawComplexControl</span><span class="token punctuation">(</span>QStyle<span class="token double-colon punctuation">::</span>ComplexControl cc<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOptionComplex <span class="token operator">*</span>opt<span class="token punctuation">,</span> QPainter <span class="token operator">*</span>p<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>widget<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span>    <span class="token keyword">virtual</span> QSize <span class="token function">sizeFromContents</span><span class="token punctuation">(</span>QStyle<span class="token double-colon punctuation">::</span>ContentsType ct<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOption <span class="token operator">*</span>opt<span class="token punctuation">,</span> <span class="token keyword">const</span> QSize <span class="token operator">&amp;</span>contentsSize<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>w<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span>    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">polish</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>widget<span class="token punctuation">)</span> <span class="token keyword">override</span><span class="token punctuation">;</span>    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">unpolish</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>widget<span class="token punctuation">)</span> <span class="token keyword">override</span><span class="token punctuation">;</span>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h4 id="å†…æ•›å‡½æ•°è°ƒç”¨-MyStyle-å¼ºåˆ¶è½¬æ¢ä¸º-QStyle-è°ƒç”¨ï¼š"><a href="#å†…æ•›å‡½æ•°è°ƒç”¨-MyStyle-å¼ºåˆ¶è½¬æ¢ä¸º-QStyle-è°ƒç”¨ï¼š" class="headerlink" title="å†…æ•›å‡½æ•°è°ƒç”¨ MyStyle:: å¼ºåˆ¶è½¬æ¢ä¸º QStyle:: è°ƒç”¨ï¼š"></a>å†…æ•›å‡½æ•°è°ƒç”¨ MyStyle:: å¼ºåˆ¶è½¬æ¢ä¸º QStyle:: è°ƒç”¨ï¼š</h4><p>â€‹    æ–°å¢åŠ çš„æšä¸¾å± MyStyle:: , ä¹‹èƒ½å¤Ÿåœ¨æ­¤å†…æ•›å‡½æ•°é‡Œé¢è°ƒç”¨ï¼›ä¸»è¦ç”¨æ¥ç»˜ç”» è‡ªå®šä¹‰æ–°å¢ çš„æ§ä»¶æšä¸¾ â€“&gt; å®é™…è°ƒç”¨åœ¨ ä¸‹é¢çš„ virtual é‡Œé¢ç»˜ç”»ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">MyStyle</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QCommonStyle</span></span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>  <span class="token comment">//å£°æ˜å¦‚ä¸‹ï¼š</span>    <span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">drawPrimitive</span><span class="token punctuation">(</span>MyStyle<span class="token double-colon punctuation">::</span>PrimitiveElement pe<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOption <span class="token operator">*</span>opt<span class="token punctuation">,</span> QPainter <span class="token operator">*</span>p<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>w <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>    <span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">drawControl</span><span class="token punctuation">(</span>MyStyle<span class="token double-colon punctuation">::</span>ControlElement element<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOption <span class="token operator">*</span>opt<span class="token punctuation">,</span> QPainter <span class="token operator">*</span>p<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>w<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">&#125;</span><span class="token comment">//å®šä¹‰å¦‚ä¸‹ï¼š</span><span class="token keyword">void</span> <span class="token class-name">MyStyle</span><span class="token double-colon punctuation">::</span><span class="token function">drawPrimitive</span><span class="token punctuation">(</span>MyStyle<span class="token double-colon punctuation">::</span>PrimitiveElement pe<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOption <span class="token operator">*</span>opt<span class="token punctuation">,</span> QPainter <span class="token operator">*</span>p<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>w<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">&#123;</span>    <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">drawPrimitive</span><span class="token punctuation">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>QStyle<span class="token double-colon punctuation">::</span>PrimitiveElement<span class="token operator">></span></span></span><span class="token punctuation">(</span>pe<span class="token punctuation">)</span><span class="token punctuation">,</span> opt<span class="token punctuation">,</span> p<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">MyStyle</span><span class="token double-colon punctuation">::</span><span class="token function">drawControl</span><span class="token punctuation">(</span>MyStyle<span class="token double-colon punctuation">::</span>ControlElement element<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOption <span class="token operator">*</span>opt<span class="token punctuation">,</span> QPainter <span class="token operator">*</span>p<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>w<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">&#123;</span>    <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">drawControl</span><span class="token punctuation">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>QStyle<span class="token double-colon punctuation">::</span>ControlElement<span class="token operator">></span></span></span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">,</span> opt<span class="token punctuation">,</span> p<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h4 id="è®¾è®¡é™æ€å‡½æ•°åŒåæ¥å£è®©-MyStylrHelp-è°ƒç”¨ï¼š"><a href="#è®¾è®¡é™æ€å‡½æ•°åŒåæ¥å£è®©-MyStylrHelp-è°ƒç”¨ï¼š" class="headerlink" title="è®¾è®¡é™æ€å‡½æ•°åŒåæ¥å£è®© MyStylrHelp è°ƒç”¨ï¼š"></a>è®¾è®¡é™æ€å‡½æ•°åŒåæ¥å£è®© MyStylrHelp è°ƒç”¨ï¼š</h4><p>â€‹    static å‡½æ•°ï¼Œä¾› MyStylrHelp è°ƒç”¨ [ç”¨æ¥ç»˜ç”»è‡ªå¢åŠ çš„æ§ä»¶æšä¸¾]ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">MyStyle</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QCommonStyle</span></span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>  <span class="token comment">//å£°æ˜å¦‚ä¸‹ï¼š</span>  <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">drawPrimitive</span><span class="token punctuation">(</span><span class="token keyword">const</span> QStyle <span class="token operator">*</span>style<span class="token punctuation">,</span> MyStyle<span class="token double-colon punctuation">::</span>PrimitiveElement pe<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOption <span class="token operator">*</span>opt<span class="token punctuation">,</span> QPainter <span class="token operator">*</span>p<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>w <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">drawControl</span><span class="token punctuation">(</span><span class="token keyword">const</span> QStyle <span class="token operator">*</span>style<span class="token punctuation">,</span> MyStyle<span class="token double-colon punctuation">::</span>ControlElement element<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOption <span class="token operator">*</span>opt<span class="token punctuation">,</span> QPainter <span class="token operator">*</span>p<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">&#125;</span><span class="token comment">//å®šä¹‰å¦‚ä¸‹ï¼š</span><span class="token keyword">void</span> <span class="token class-name">MyStyle</span><span class="token double-colon punctuation">::</span><span class="token function">drawPrimitive</span><span class="token punctuation">(</span><span class="token keyword">const</span> QStyle <span class="token operator">*</span>style<span class="token punctuation">,</span> MyStyle<span class="token double-colon punctuation">::</span>PrimitiveElement pe<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOption <span class="token operator">*</span>opt<span class="token punctuation">,</span> QPainter <span class="token operator">*</span>p<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>w<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//æ²¡æœ‰ä½¿ç”¨åˆ°ï¼Œå› ä¸ºå…·ä½“çš„è®¾è®¡å› ä¸ºæ¯ä¸ªäººçš„æ€è·¯è®¾è®¡ä¸åŒï¼Œå†³å®šçš„å…·ä½“çš„ç»˜ç”»åœ°æ–¹ä¹Ÿä¸ä¸€æ ·ï¼›è¿™é‡Œæˆ‘æ˜¯æ”¾åˆ° é‡å†™çš„è™šå‡½æ•°é‡Œé¢ï¼Œå’Œç»˜ç”» Qt çš„è™šå‡½æ•°çš„æ¡†æ¶é‡Œé¢ä¸€èµ·ç»˜ç”»</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h4 id="è¾…åŠ©ç±»-MyStyleHelp-ï¼Œ-åŒºåˆ†ç»˜ç”»æ§ä»¶ï¼š"><a href="#è¾…åŠ©ç±»-MyStyleHelp-ï¼Œ-åŒºåˆ†ç»˜ç”»æ§ä»¶ï¼š" class="headerlink" title="è¾…åŠ©ç±» MyStyleHelp ï¼Œ åŒºåˆ†ç»˜ç”»æ§ä»¶ï¼š"></a>è¾…åŠ©ç±» MyStyleHelp ï¼Œ åŒºåˆ†ç»˜ç”»æ§ä»¶ï¼š</h4><p>â€‹    è¾…åŠ©ç±» MyStyleHelp ï¼Œ å¸®åŠ©åŒºåˆ†ç»˜ç”»åˆ°åº•æ˜¯ç»˜ç”» MyStyle::PrimitiveElement è¿˜æ˜¯ï¼Œå®ƒçš„ç±»çš„å®ç°å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">MyStyleHelp</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">inline</span> <span class="token function">MyStyleHelp</span> <span class="token punctuation">(</span><span class="token keyword">const</span> QStyle<span class="token operator">*</span> style <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">drawPrimitive</span><span class="token punctuation">(</span>MyStyle<span class="token double-colon punctuation">::</span>PrimitiveElement pe<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOption <span class="token operator">*</span>opt<span class="token punctuation">,</span> QPainter <span class="token operator">*</span>p<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>w <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>    <span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">drawControl</span><span class="token punctuation">(</span>MyStyle<span class="token double-colon punctuation">::</span>ControlElement element<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOption <span class="token operator">*</span>opt<span class="token punctuation">,</span> QPainter <span class="token operator">*</span>p<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>w<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">private</span><span class="token operator">:</span>    <span class="token keyword">const</span> QStyle<span class="token operator">*</span> m_qStyle<span class="token punctuation">;</span>    <span class="token keyword">const</span> MyStyle<span class="token operator">*</span> m_myStyle<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    å…¶ä¸­æ”¾ä¸€ä¸ªå‡½æ•°çš„å®ç°ï¼Œä¼šç®€å•å‘ç°è¿™ä¸ª ä¸‰ç›®è¡¨è¾¾å¼ï¼Œå¾ˆæ˜¯ç²¾åï¼Œå±äºä¸€æ®µç‚¹ç›ä¹‹ç¬”ï¼›è®¾è®¡ä¸Šé¢ï¼Œæ—¢å¯ä»¥ä¸“é—¨ç»˜ç”»è‡ªå®šä¹‰çš„æ–°å¢åŠ çš„æ§ä»¶ï¼Œä¹Ÿå¯ä»¥ç»˜ç”» Qt çš„æ§ä»¶ï¼›æœ‰ç€å¾ˆå¥½çš„æ‰©å±•æ€§å’Œä»£ç çš„å¥å£®æ€§ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token class-name">MyStyleHelp</span><span class="token double-colon punctuation">::</span><span class="token function">drawPrimitive</span><span class="token punctuation">(</span>MyStyle<span class="token double-colon punctuation">::</span>PrimitiveElement pe<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOption <span class="token operator">*</span>opt<span class="token punctuation">,</span> QPainter <span class="token operator">*</span>p<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>w<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">&#123;</span>    m_myStyle <span class="token operator">?</span> m_myStyle<span class="token operator">-></span><span class="token function">drawPrimitive</span><span class="token punctuation">(</span>pe<span class="token punctuation">,</span> opt<span class="token punctuation">,</span> p<span class="token punctuation">,</span> w<span class="token punctuation">)</span>              <span class="token operator">:</span> <span class="token class-name">MyStyle</span><span class="token double-colon punctuation">::</span><span class="token function">drawPrimitive</span><span class="token punctuation">(</span>m_qStyle<span class="token punctuation">,</span> pe<span class="token punctuation">,</span> opt<span class="token punctuation">,</span> p<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h4 id="MyStylePainter-ç”»å®¶ï¼Œåœ¨æŒ‡å®šçš„â€œç”»æ¿â€ä¸Šç»˜ç”»ï¼š"><a href="#MyStylePainter-ç”»å®¶ï¼Œåœ¨æŒ‡å®šçš„â€œç”»æ¿â€ä¸Šç»˜ç”»ï¼š" class="headerlink" title="MyStylePainter ç”»å®¶ï¼Œåœ¨æŒ‡å®šçš„â€œç”»æ¿â€ä¸Šç»˜ç”»ï¼š"></a>MyStylePainter ç”»å®¶ï¼Œåœ¨æŒ‡å®šçš„â€œç”»æ¿â€ä¸Šç»˜ç”»ï¼š</h4><p>â€‹    å…¶ç›´æ¥ç»§æ‰¿äº class MyStylePainter : public QPainterï¼›æœ¬ä¹Ÿå¯ä»¥ä¸è¿™æ ·å†å•ç‹¬è®¾è®¡ä¸€ä¸ªç”»å®¶ç±»ï¼Œä¸ºäº†å±•ç°æ­¤æ¶æ„çš„å¯æ‰©å±•æ€§ï¼Œæ­¤å¤„ä¼šå†å°è£…ä¸€ä¸‹ï¼Œæ˜¯çš„åˆ†é£æ ¼æ›´ä¸ºç»Ÿä¸€ã€‚å…¶ç±»çš„è®¾è®¡å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">MyStylePainter</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QPainter</span></span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">MyStylePainter</span><span class="token punctuation">(</span>QWidget<span class="token operator">*</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">drawPrimitive</span><span class="token punctuation">(</span>MyStyle<span class="token double-colon punctuation">::</span>PrimitiveElement pe<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOption <span class="token operator">*</span>opt<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">drawPrimitive</span><span class="token punctuation">(</span>QStyle<span class="token double-colon punctuation">::</span>PrimitiveElement pe<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOption <span class="token operator">*</span>opt<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">private</span><span class="token operator">:</span>    QWidget<span class="token operator">*</span> m_widget<span class="token punctuation">;</span>    QStyle<span class="token operator">*</span> m_qStyle<span class="token punctuation">;</span>    MyStyleHelp m_myStyleHelp<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™é‡Œé¢ï¼Œç›¸åï¼Œæˆ‘è§‰å¾—æœ€é‡è¦çš„é™¤äº†ä¸‰ä¸ªæˆå‘˜å˜é‡ä¹‹å¤–ï¼Œå°±æ˜¯è¿™ä¸ªæ„é€ å‡½æ•°ï¼Œé‡Œé¢è°ƒç”¨çˆ¶ç±»çš„å‡½æ•° <code>QPainter::begin(w);</code>ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token class-name">MyStylePainter</span><span class="token double-colon punctuation">::</span><span class="token function">MyStylePainter</span><span class="token punctuation">(</span>QWidget<span class="token operator">*</span> w<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    m_widget <span class="token operator">=</span> w<span class="token punctuation">;</span>    m_qStyle <span class="token operator">=</span> w<span class="token operator">-></span><span class="token function">style</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_myStyleHelp<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span>m_qStyle<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">QPainter</span><span class="token double-colon punctuation">::</span><span class="token function">begin</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ˜¯è°ƒç”¨çˆ¶ç±»çš„ begin(), è°ƒè¯•åŠå¤©æ‰å‘ç°</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h4 id="æ§ä»¶-MySwitchButton-è®¾è®¡ï¼š"><a href="#æ§ä»¶-MySwitchButton-è®¾è®¡ï¼š" class="headerlink" title="æ§ä»¶ MySwitchButton è®¾è®¡ï¼š"></a>æ§ä»¶ MySwitchButton è®¾è®¡ï¼š</h4><p>â€‹    ä½œä¸ºæ–°çš„æ§ä»¶ï¼Œä½¿ç”¨ xxx å’Œå®ƒçš„æ•°æ®ç±» xxxPrivate è¿›è¡Œæ„å»ºï¼Œä¸¤ä¸ªç±»ä¹‹é—´ä¾é å® Q_D å’Œ Q_Q æ¥è¿›è¡Œäº’ç›¸çš„è°ƒç”¨ï¼›</p><ul><li>MySwitchButton &amp;&amp; MySwitchButtonPrivate</li><li>Q_D(MySwitchButton) &amp;&amp; Q_Q(MySwitchButton)</li></ul><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">MySwitchButtonPrivate</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">MySwitchButton</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QAbstractButton</span></span><span class="token punctuation">&#123;</span>    Q_OBJECT<span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">explicit</span> <span class="token function">MySwitchButton</span><span class="token punctuation">(</span>QWidget<span class="token operator">*</span> parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">~</span><span class="token function">MySwitchButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">virtual</span> QSize <span class="token function">sizeHint</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span><span class="token keyword">protected</span><span class="token operator">:</span>    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">paintEvent</span><span class="token punctuation">(</span>QPaintEvent <span class="token operator">*</span>event<span class="token punctuation">)</span> <span class="token keyword">override</span><span class="token punctuation">;</span><span class="token keyword">private</span><span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">initStyleOption</span><span class="token punctuation">(</span>QStyleOptionButton <span class="token operator">*</span>opt<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>    <span class="token function">Q_DECLARE_PRIVATE</span><span class="token punctuation">(</span>MySwitchButton<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    </p><p>â€‹    <strong>è¿™é‡Œçš„è‡ªå®šä¹‰æ§ä»¶ï¼Œ åœ¨ paintEvent å‡½æ•°é‡Œé¢ï¼Œé€šè¿‡ç”»ç¬”è¿›è¡Œç»˜ç”»ï¼Œä¸ MyStyle::CE_SwitchButton å…³è”ä¸Šã€‚</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token class-name">MySwitchButton</span><span class="token double-colon punctuation">::</span><span class="token function">paintEvent</span><span class="token punctuation">(</span>QPaintEvent <span class="token operator">*</span>event<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">Q_UNUSED</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span>    QStyleOptionButton opt<span class="token punctuation">;</span>    <span class="token function">initStyleOption</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>opt<span class="token punctuation">)</span><span class="token punctuation">;</span>    MyStylePainter <span class="token function">painter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    painter<span class="token punctuation">.</span><span class="token function">setRenderHint</span><span class="token punctuation">(</span>QPainter<span class="token double-colon punctuation">::</span>Antialiasing<span class="token punctuation">)</span><span class="token punctuation">;</span>    painter<span class="token punctuation">.</span><span class="token function">drawControl</span><span class="token punctuation">(</span>MyStyle<span class="token double-colon punctuation">::</span>CE_SwitchButton<span class="token punctuation">,</span> <span class="token operator">&amp;</span>opt<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//é‡ç‚¹</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h3><p>â€‹    é™„ä¸Šä¸€å¼ å®Œæ•´çš„ gif çš„åŠ¨å›¾ï¼šå½“ç„¶æ˜¯é‡ç‚¹çœ‹çš„ switchButton æ§ä»¶æ•ˆæœï¼Œå’³å’³ï¼ŒğŸ‘€ ä¸è¦è·Ÿç€é¼ æ ‡ä¹±åŠ¨ã€‚</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200227175734.gif" width="90%"/ loading="lazy"><br><h3 id="ä¸‹è½½åœ°å€ï¼š"><a href="#ä¸‹è½½åœ°å€ï¼š" class="headerlink" title="ä¸‹è½½åœ°å€ï¼š"></a>ä¸‹è½½åœ°å€ï¼š</h3><p><a href="https://github.com/xmuli/QtExamples/tree/master/QtMyStyleEx/QtExample03/QtStyleEx">QtExample03</a></p><p>æ¬¢è¿ star å’Œ fork è¿™ä¸ªç³»åˆ—çš„ qt&#x2F;dtk å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p><br><h3 id="ç³»åˆ—æ–‡ç« "><a href="#ç³»åˆ—æ–‡ç« " class="headerlink" title="ç³»åˆ—æ–‡ç« :"></a>ç³»åˆ—æ–‡ç« :</h3><ol><li><a href="https://blog.csdn.net/qq_33154343/article/details/104367878">QStyleè®¾ç½®ç•Œé¢çš„å¤–è§‚å’ŒQCommonStyleç»§æ‰¿å…³ç³»å›¾è®²è§£å’Œä½¿ç”¨</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/104537944">QStyle&#x2F;DTKé‡ç»˜Qt-GUIå·²æœ‰æ§ä»¶,ä¸¾ä¾‹QScrollBar</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/104987446">QStyle&#x2F;DTKé‡ç»˜è‡ªå®šä¹‰éœ€æ±‚æ§ä»¶,ä¸¾ä¾‹MySwitchButton</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>gdbè°ƒè¯•å™¨çš„ä½¿ç”¨ï¼Œåˆæ¢å…¨è²Œ</title>
      <link href="/posts/9157b0d0/"/>
      <url>/posts/9157b0d0/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€åœ¨ Mac ä¸‹å®‰è£…å’Œè°ƒç”¨ gdb è°ƒè¯•ç¨‹åºã€‚å’Œ gdb ä¸€äº›å¸¸ç”¨çš„ä½¿ç”¨å‚æ•°å«ä¹‰ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š"></a>ç¼–ç¨‹ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14.6 </code> ğŸ“ <code>gcc/g++ 9.2.0</code> ğŸ“ <code>gdb8.3</code></p><br><h3 id="åœ¨-Mac-å®‰è£…-gdb-ç¨‹åºï¼š"><a href="#åœ¨-Mac-å®‰è£…-gdb-ç¨‹åºï¼š" class="headerlink" title="åœ¨ Mac å®‰è£… gdb ç¨‹åºï¼š"></a>åœ¨ Mac å®‰è£… gdb ç¨‹åºï¼š</h3><p>åœ¨ Linux ä¸‹é¢å®‰è£…gdb çœŸçš„ so å®¹æ˜“ï¼› ä½†æ˜¯åœ¨ Mac ä¸Šé¢ï¼Œå°¤å…¶æ˜¯é«˜ç‰ˆæœ¬çš„ï¼Œå®‰è£…è¿‡ç¨‹ä¸­å°±ä¼šé‡åˆ°å„ç§å‘ï¼Œäº²è‡ªæŠŠæ‰€æœ‰çš„å‘éƒ½è¸©äº†ä¸€éï¼Œå®‰è£…æ•™ç¨‹å¦‚æ–‡ï¼š</p><p><a href="https://blog.csdn.net/qq_33154343/article/details/104784641">åœ¨MacOS10.14.6å®‰è£…æœ€æ–°gdb8.3çš„è¯¦ç»†æ•™ç¨‹ï¼Œå«å¯èƒ½é‡åˆ°çš„æ‰€æœ‰å‘(ç½‘ä¸Šæœ€æ–°æ•™ç¨‹)</a></p><br><h4 id="ç¼–è¯‘ç¨‹åºï¼š"><a href="#ç¼–è¯‘ç¨‹åºï¼š" class="headerlink" title="ç¼–è¯‘ç¨‹åºï¼š"></a>ç¼–è¯‘ç¨‹åºï¼š</h4><p>æ²¿ç”¨å‰é¢çš„é¡¹ç›®æµ‹è¯•æµ‹è¯•ä»£ç  <a href="https://github.com/xmuli/linuxExample/tree/master/06_gdb">06_gdb</a>ï¼Œæ‰§è¡Œå‘½ä»¤ <code>g++-9 *.cpp -o mainApp -g</code> ç”Ÿæˆå¸¦æœ‰è°ƒè¯•ä¿¡æ¯çš„å¯æ‰§è¡Œæ–‡ä»¶ mainAppã€‚ ï¼ˆå¯¹ C &#x2F; C++ ç¨‹åºçš„è°ƒè¯•ï¼Œéœ€è¦åœ¨ç¼–è¯‘å‰å°±åŠ ä¸Š-gé€‰é¡¹:ï¼‰</p> <img src="https://cdn.jsdelivr.net/gh/touwoyimuli/xmuliPic@pic/2020/20200315_175719.png" width="90%"/ loading="lazy"><br><h4 id="è¿è¡Œè°ƒè¯•ï¼š"><a href="#è¿è¡Œè°ƒè¯•ï¼š" class="headerlink" title="è¿è¡Œè°ƒè¯•ï¼š"></a>è¿è¡Œè°ƒè¯•ï¼š</h4><p>è¿è¡Œ <code>sudo gdb mainApp</code> å¯¹å¯æ‰§è¡Œç¨‹åºè¿›è¡Œè°ƒè¯•ã€‚</p><br><h3 id="gdb-ä»‹ç»ï¼š"><a href="#gdb-ä»‹ç»ï¼š" class="headerlink" title="gdb ä»‹ç»ï¼š"></a>gdb ä»‹ç»ï¼š</h3><p>GDB æ˜¯ä¸€ä¸ªç”± GNU å¼€æºç»„ç»‡å‘å¸ƒçš„ã€UNIX &#x2F; LINUX æ“ä½œç³»ç»Ÿä¸‹çš„ã€<strong>åŸºäºå‘½ä»¤è¡Œçš„</strong> ã€åŠŸèƒ½å¼ºå¤§çš„ç¨‹åº<strong>è°ƒè¯•å·¥å…·ã€‚</strong>  </p><br><h3 id="gdbäº¤äº’å‘½ä»¤ï¼š"><a href="#gdbäº¤äº’å‘½ä»¤ï¼š" class="headerlink" title="gdbäº¤äº’å‘½ä»¤ï¼š"></a>gdbäº¤äº’å‘½ä»¤ï¼š</h3><p>å¯åŠ¨gdbåï¼Œè¿›å…¥åˆ°äº¤äº’æ¨¡å¼ï¼Œé€šè¿‡ä»¥ä¸‹å‘½ä»¤å®Œæˆå¯¹ç¨‹åºçš„è°ƒè¯•ï¼›æ³¨æ„é«˜é¢‘ä½¿ç”¨çš„å‘½ä»¤ä¸€èˆ¬éƒ½ä¼šæœ‰ç¼©å†™ï¼Œç†Ÿç»ƒä½¿ç”¨è¿™äº›ç¼©å†™å‘½ä»¤èƒ½æé«˜è°ƒè¯•çš„æ•ˆç‡ï¼›</p><br><h4 id="è¿è¡Œï¼š"><a href="#è¿è¡Œï¼š" class="headerlink" title="è¿è¡Œï¼š"></a>è¿è¡Œï¼š</h4><ul><li><code>run</code>ï¼šç®€è®°ä¸º r ï¼Œå…¶ä½œç”¨æ˜¯è¿è¡Œç¨‹åºï¼Œå½“é‡åˆ°æ–­ç‚¹åï¼Œç¨‹åºä¼šåœ¨æ–­ç‚¹å¤„åœæ­¢è¿è¡Œï¼Œç­‰å¾…ç”¨æˆ·è¾“å…¥ä¸‹ä¸€æ­¥çš„å‘½ä»¤ã€‚</li><li><code>continue</code> ï¼ˆç®€å†™c ï¼‰ï¼šç»§ç»­æ‰§è¡Œï¼Œåˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹å¤„ï¼ˆæˆ–è¿è¡Œç»“æŸï¼‰</li><li><code>next</code>ï¼šï¼ˆç®€å†™ nï¼‰ï¼Œå•æ­¥è·Ÿè¸ªç¨‹åºï¼Œå½“é‡åˆ°å‡½æ•°è°ƒç”¨æ—¶ï¼Œä¹Ÿä¸è¿›å…¥æ­¤å‡½æ•°ä½“ï¼›æ­¤å‘½ä»¤åŒ step çš„ä¸»è¦åŒºåˆ«æ˜¯ï¼Œstep é‡åˆ°ç”¨æˆ·è‡ªå®šä¹‰çš„å‡½æ•°ï¼Œå°†æ­¥è¿›åˆ°å‡½æ•°ä¸­å»è¿è¡Œï¼Œè€Œ next åˆ™ç›´æ¥è°ƒç”¨å‡½æ•°ï¼Œä¸ä¼šè¿›å…¥åˆ°å‡½æ•°ä½“å†…ã€‚</li><li><code>step</code> ï¼ˆç®€å†™sï¼‰ï¼šå•æ­¥è°ƒè¯•å¦‚æœæœ‰å‡½æ•°è°ƒç”¨ï¼Œåˆ™è¿›å…¥å‡½æ•°ï¼›ä¸å‘½ä»¤nä¸åŒï¼Œnæ˜¯ä¸è¿›å…¥è°ƒç”¨çš„å‡½æ•°çš„</li><li><code>until</code>ï¼šå½“ä½ åŒå€¦äº†åœ¨ä¸€ä¸ªå¾ªç¯ä½“å†…å•æ­¥è·Ÿè¸ªæ—¶ï¼Œè¿™ä¸ªå‘½ä»¤å¯ä»¥è¿è¡Œç¨‹åºç›´åˆ°é€€å‡ºå¾ªç¯ä½“ã€‚</li><li><code>until + è¡Œå·</code>ï¼š è¿è¡Œè‡³æŸè¡Œï¼Œä¸ä»…ä»…ç”¨æ¥è·³å‡ºå¾ªç¯</li><li><code>finish</code>ï¼š è¿è¡Œç¨‹åºï¼Œç›´åˆ°å½“å‰å‡½æ•°å®Œæˆè¿”å›ï¼Œå¹¶æ‰“å°å‡½æ•°è¿”å›æ—¶çš„å †æ ˆåœ°å€å’Œè¿”å›å€¼åŠå‚æ•°å€¼ç­‰ä¿¡æ¯ã€‚</li><li><code>call å‡½æ•°(å‚æ•°)</code>ï¼šè°ƒç”¨ç¨‹åºä¸­å¯è§çš„å‡½æ•°ï¼Œå¹¶ä¼ é€’â€œå‚æ•°â€ï¼Œå¦‚ï¼šcall gdb_test(55)</li><li><code>quit</code>ï¼šç®€è®°ä¸º q ï¼Œé€€å‡ºgdb</li></ul><br><h4 id="è®¾ç½®æ–­ç‚¹ï¼š"><a href="#è®¾ç½®æ–­ç‚¹ï¼š" class="headerlink" title="è®¾ç½®æ–­ç‚¹ï¼š"></a>è®¾ç½®æ–­ç‚¹ï¼š</h4><ul><li><p><code>break n</code> ï¼ˆç®€å†™b nï¼‰:åœ¨ç¬¬nè¡Œå¤„è®¾ç½®æ–­ç‚¹</p><p>ï¼ˆå¯ä»¥å¸¦ä¸Šä»£ç è·¯å¾„å’Œä»£ç åç§°ï¼š b OAGUPDATE.cpp:578ï¼‰</p></li><li><p><code>b fn1 if aï¼b</code>ï¼šæ¡ä»¶æ–­ç‚¹è®¾ç½®</p></li><li><p><code>break func</code>ï¼ˆbreakç¼©å†™ä¸ºbï¼‰ï¼šåœ¨å‡½æ•°func()çš„å…¥å£å¤„è®¾ç½®æ–­ç‚¹ï¼Œå¦‚ï¼šbreak cb_button</p></li><li><p><code>delete æ–­ç‚¹å·n</code>ï¼šåˆ é™¤ç¬¬nä¸ªæ–­ç‚¹</p></li><li><p><code>disable æ–­ç‚¹å·n</code>ï¼šæš‚åœç¬¬nä¸ªæ–­ç‚¹</p></li><li><p><code>enable æ–­ç‚¹å·n</code>ï¼šå¼€å¯ç¬¬nä¸ªæ–­ç‚¹</p></li><li><p><code>clear è¡Œå·n</code>ï¼šæ¸…é™¤ç¬¬nè¡Œçš„æ–­ç‚¹</p></li><li><p><code>info b</code> ï¼ˆinfo breakpointsï¼‰ ï¼šæ˜¾ç¤ºå½“å‰ç¨‹åºçš„æ–­ç‚¹è®¾ç½®æƒ…å†µ</p></li><li><p><code>delete breakpoints</code>ï¼šæ¸…é™¤æ‰€æœ‰æ–­ç‚¹ï¼š</p></li></ul><br><h4 id="æŸ¥çœ‹æºä»£ç ï¼š"><a href="#æŸ¥çœ‹æºä»£ç ï¼š" class="headerlink" title="æŸ¥çœ‹æºä»£ç ï¼š"></a>æŸ¥çœ‹æºä»£ç ï¼š</h4><ul><li><code>list</code> ï¼šç®€è®°ä¸º l ï¼Œå…¶ä½œç”¨å°±æ˜¯åˆ—å‡ºç¨‹åºçš„æºä»£ç ï¼Œé»˜è®¤æ¯æ¬¡æ˜¾ç¤º10è¡Œã€‚</li><li><code>list è¡Œå·</code>ï¼šå°†æ˜¾ç¤ºå½“å‰æ–‡ä»¶ä»¥â€œè¡Œå·â€ä¸ºä¸­å¿ƒçš„å‰å10è¡Œä»£ç ï¼Œå¦‚ï¼šlist 12</li><li><code>list å‡½æ•°å</code>ï¼šå°†æ˜¾ç¤ºâ€œå‡½æ•°åâ€æ‰€åœ¨å‡½æ•°çš„æºä»£ç ï¼Œå¦‚ï¼šlist main</li><li><code>list</code> ï¼šä¸å¸¦å‚æ•°ï¼Œå°†æ¥ç€ä¸Šä¸€æ¬¡ list å‘½ä»¤çš„ï¼Œè¾“å‡ºä¸‹è¾¹çš„å†…å®¹ã€‚</li></ul><br><h4 id="æ‰“å°è¡¨è¾¾å¼ï¼š"><a href="#æ‰“å°è¡¨è¾¾å¼ï¼š" class="headerlink" title="æ‰“å°è¡¨è¾¾å¼ï¼š"></a>æ‰“å°è¡¨è¾¾å¼ï¼š</h4><ul><li><code>print</code> è¡¨è¾¾å¼ï¼šç®€è®°ä¸º p ï¼Œå…¶ä¸­â€œè¡¨è¾¾å¼â€å¯ä»¥æ˜¯ä»»ä½•å½“å‰æ­£åœ¨è¢«æµ‹è¯•ç¨‹åºçš„æœ‰æ•ˆè¡¨è¾¾å¼ï¼Œæ¯”å¦‚å½“å‰æ­£åœ¨è°ƒè¯•Cè¯­è¨€çš„ç¨‹åºï¼Œé‚£ä¹ˆâ€œè¡¨è¾¾å¼â€å¯ä»¥æ˜¯ä»»ä½•Cè¯­è¨€çš„æœ‰æ•ˆè¡¨è¾¾å¼ï¼ŒåŒ…æ‹¬æ•°å­—ï¼Œå˜é‡ç”šè‡³æ˜¯å‡½æ•°è°ƒç”¨ã€‚</li><li><code>print a</code>ï¼šå°†æ˜¾ç¤ºæ•´æ•° a çš„å€¼</li><li><code>print ++a</code>ï¼šå°†æŠŠ a ä¸­çš„å€¼åŠ 1,å¹¶æ˜¾ç¤ºå‡ºæ¥</li><li><code>print name</code>ï¼šå°†æ˜¾ç¤ºå­—ç¬¦ä¸² name çš„å€¼</li><li><code>print gdb_test(22)</code>ï¼šå°†ä»¥æ•´æ•°22ä½œä¸ºå‚æ•°è°ƒç”¨ gdb_test() å‡½æ•°</li><li><code>print gdb_test(a)</code>ï¼šå°†ä»¥å˜é‡ a ä½œä¸ºå‚æ•°è°ƒç”¨ gdb_test() å‡½æ•°</li><li><code>display è¡¨è¾¾å¼</code>ï¼šåœ¨å•æ­¥è¿è¡Œæ—¶å°†éå¸¸æœ‰ç”¨ï¼Œä½¿ç”¨displayå‘½ä»¤è®¾ç½®ä¸€ä¸ªè¡¨è¾¾å¼åï¼Œå®ƒå°†åœ¨æ¯æ¬¡å•æ­¥è¿›è¡ŒæŒ‡ä»¤åï¼Œç´§æ¥ç€è¾“å‡ºè¢«è®¾ç½®çš„è¡¨è¾¾å¼åŠå€¼ã€‚å¦‚ï¼š display a</li><li><code>watch è¡¨è¾¾å¼</code>ï¼šè®¾ç½®ä¸€ä¸ªç›‘è§†ç‚¹ï¼Œä¸€æ—¦è¢«ç›‘è§†çš„â€œè¡¨è¾¾å¼â€çš„å€¼æ”¹å˜ï¼Œgdbå°†å¼ºè¡Œç»ˆæ­¢æ­£åœ¨è¢«è°ƒè¯•çš„ç¨‹åºã€‚å¦‚ï¼š watch a</li><li><code>whatis</code> ï¼šæŸ¥è¯¢å˜é‡æˆ–å‡½æ•°</li><li><code>info function</code>ï¼š æŸ¥è¯¢å‡½æ•°</li><li><code>æ‰©å±•info locals</code>ï¼š æ˜¾ç¤ºå½“å‰å †æ ˆé¡µçš„æ‰€æœ‰å˜é‡</li></ul><br><h4 id="æŸ¥è¯¢è¿è¡Œä¿¡æ¯ï¼š"><a href="#æŸ¥è¯¢è¿è¡Œä¿¡æ¯ï¼š" class="headerlink" title="æŸ¥è¯¢è¿è¡Œä¿¡æ¯ï¼š"></a>æŸ¥è¯¢è¿è¡Œä¿¡æ¯ï¼š</h4><ul><li><code>where/bt</code> ï¼šå½“å‰è¿è¡Œçš„å †æ ˆåˆ—è¡¨ï¼›</li><li><code>bt backtrace</code> æ˜¾ç¤ºå½“å‰è°ƒç”¨å †æ ˆ</li><li><code>up/down</code> æ”¹å˜å †æ ˆæ˜¾ç¤ºçš„æ·±åº¦</li><li><code>set args å‚æ•°</code>:æŒ‡å®šè¿è¡Œæ—¶çš„å‚æ•°</li><li><code>show args</code>ï¼šæŸ¥çœ‹è®¾ç½®å¥½çš„å‚æ•°</li><li><code>info program</code>ï¼š æ¥æŸ¥çœ‹ç¨‹åºçš„æ˜¯å¦åœ¨è¿è¡Œï¼Œè¿›ç¨‹å·ï¼Œè¢«æš‚åœçš„åŸå› ã€‚</li></ul><br><h4 id="åˆ†å‰²çª—å£ï¼š"><a href="#åˆ†å‰²çª—å£ï¼š" class="headerlink" title="åˆ†å‰²çª—å£ï¼š"></a>åˆ†å‰²çª—å£ï¼š</h4><ul><li><code>layout</code>ï¼šç”¨äºåˆ†å‰²çª—å£ï¼Œå¯ä»¥ä¸€è¾¹æŸ¥çœ‹ä»£ç ï¼Œä¸€è¾¹æµ‹è¯•ï¼š</li><li><code>layout src</code>ï¼šæ˜¾ç¤ºæºä»£ç çª—å£</li><li><code>layout asm</code>ï¼šæ˜¾ç¤ºåæ±‡ç¼–çª—å£</li><li><code>layout regs</code>ï¼šæ˜¾ç¤ºæºä»£ç &#x2F;åæ±‡ç¼–å’ŒCPUå¯„å­˜å™¨çª—å£</li><li><code>layout split</code>ï¼šæ˜¾ç¤ºæºä»£ç å’Œåæ±‡ç¼–çª—å£</li><li><code>Ctrl + L</code>ï¼šåˆ·æ–°çª—å£</li></ul><br><p><strong>æ³¨è§£ï¼š</strong></p><p>äº¤äº’æ¨¡å¼ä¸‹ç›´æ¥å›è½¦çš„ä½œç”¨æ˜¯é‡å¤ä¸Šä¸€æŒ‡ä»¤ï¼Œå¯¹äºå•æ­¥è°ƒè¯•éå¸¸æ–¹ä¾¿ï¼›</p><br><h3 id="æ›´å¼ºå¤§çš„å·¥å…·-cgdbï¼š"><a href="#æ›´å¼ºå¤§çš„å·¥å…·-cgdbï¼š" class="headerlink" title="æ›´å¼ºå¤§çš„å·¥å…· cgdbï¼š"></a>æ›´å¼ºå¤§çš„å·¥å…· cgdbï¼š</h3><p><code>cgdb</code> å¯ä»¥çœ‹ä½œ gdb çš„ç•Œé¢å¢å¼ºç‰ˆ,ç”¨æ¥æ›¿ä»£ gdb çš„ gdb -tuiã€‚cgdb ä¸»è¦åŠŸèƒ½æ˜¯åœ¨è°ƒè¯•æ—¶è¿›è¡Œä»£ç çš„åŒæ­¥æ˜¾ç¤ºï¼Œè¿™æ— ç–‘å¢åŠ äº†è°ƒè¯•çš„æ–¹ä¾¿æ€§ï¼Œæé«˜äº†è°ƒè¯•æ•ˆç‡ã€‚ç•Œé¢ç±»ä¼¼ viï¼Œç¬¦åˆ unix &#x2F; linux ä¸‹å¼€å‘äººå‘˜ä¹ æƒ¯; å¦‚æœç†Ÿæ‚‰ gdb å’Œ viï¼Œå‡ ä¹å¯ä»¥ç«‹å³ä½¿ç”¨ cgdbã€‚</p><br><p><strong>è½¬è½½äºï¼š</strong></p><p><a href="https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/gdb.html">gdb è°ƒè¯•åˆ©å™¨</a></p><br><h3 id="å¸¸ç”¨è‡ªæˆ‘æ£€æµ‹ï¼š"><a href="#å¸¸ç”¨è‡ªæˆ‘æ£€æµ‹ï¼š" class="headerlink" title="å¸¸ç”¨è‡ªæˆ‘æ£€æµ‹ï¼š"></a>å¸¸ç”¨è‡ªæˆ‘æ£€æµ‹ï¼š</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">//æµ‹è¯•å›å¿† <span class="token number">2020</span>-03-15ï¼šbrewå’Œbrew caskæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿg++ <span class="token parameter variable">-g</span>å¯åŠ¨ gdb mainApplshow ?size<span class="token builtin class-name">set</span> ?size <span class="token number">20</span>   è®¾ç½®ä¸€æ¬¡æ˜¾ç¤ºå¤šå°‘è¡Œä»£ç b æ–­ç‚¹i b      <span class="token punctuation">(</span>info<span class="token punctuation">)</span>  æŸ¥çœ‹æ–­ç‚¹ä¿¡æ¯d <span class="token number">2</span> <span class="token number">3</span> <span class="token punctuation">(</span>d <span class="token number">4</span>-11<span class="token punctuation">)</span> åˆ é™¤æ–­ç‚¹dis/ena <span class="token number">4</span>  è®¾ç½®/å–æ¶ˆ æ— æ•ˆæ–­ç‚¹b <span class="token number">17</span> <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token number">3</span> è®¾ç½®æ¡ä»¶æ–­ç‚¹ptype b æŸ¥çœ‹å˜é‡ç±»å‹p a æŸ¥çœ‹å˜é‡çš„å€¼ï¼ˆprintï¼‰n æ‰§è¡Œä¸‹ä¸€è¡Œ<span class="token punctuation">(</span>next<span class="token punctuation">)</span>  åé¢ä¸€ç›´æŒ‰å›è½¦display a æ¯èµ°ä¸€è¡Œä»£ç ï¼Œéƒ½æ˜¾ç¤ºå‡ºå˜é‡ a çš„å€¼i display æŸ¥çœ‹æ‰€æœ‰çš„æ˜¾ç¤ºå˜é‡undisplay <span class="token number">1</span> ä¸å†æ˜¾ç¤ºå˜é‡çš„å€¼ï¼ˆå…ˆè¿è¡Œ i displayï¼‰c ä¸€æ¬¡è¿è¡Œå¤šè¡Œ <span class="token punctuation">(</span>continue<span class="token punctuation">)</span>s è¿›å…¥åˆ°å‡½æ•°ä½“ <span class="token punctuation">(</span>step<span class="token punctuation">)</span>start åœåœ¨ <span class="token function-name function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> çš„åœ°æ–¹r åœåœ¨äº†ç¬¬ä¸€ä¸ªæ–­ç‚¹ <span class="token punctuation">(</span>run<span class="token punctuation">)</span><span class="token builtin class-name">set</span> val i <span class="token operator">=</span> <span class="token number">5</span> è®¾ç½®å¾ªç¯å˜é‡çš„å€¼<span class="token keyword">until</span> è·³å‡º <span class="token keyword">for</span> å¾ªç¯ ï¼ˆæ­¤for é‡Œé¢æ²¡æœ‰æ–­ç‚¹ï¼‰finsish è·³å‡ºå‡½æ•°ä½“å†…éƒ¨ ï¼ˆé‡Œé¢ä¹Ÿæ²¡æœ‰æ–­ç‚¹ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨MacOS10.14.6å®‰è£…æœ€æ–°gdb8.3çš„è¯¦ç»†æ•™ç¨‹ï¼Œå«å¯èƒ½é‡åˆ°çš„æ‰€æœ‰å‘(ç½‘ä¸Šæœ€æ–°æ•™ç¨‹)</title>
      <link href="/posts/a75b2ced/"/>
      <url>/posts/a75b2ced/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€åœ¨ mac ä½¿ç”¨ gdb è°ƒè¯•ç¨‹åºæ—¶å€™ï¼Œä¼šé‡åˆ°æŠ¥é”™å¦‚ä¸‹ï¼Œæœ¬æ–‡å°±æ˜¯ä¸“é—¨è§£å†³è¿™ä¸ªé—®é¢˜çš„ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> runStarting program: /Users/muli/project/github/linuxExample/06_gdb/mainApp Note: this version of macOS has System Integrity Protection.Because `startup-with-shell' is enabled, gdb has worked around this bycaching a copy of your shell.  The shell used by <span class="token string">"run"</span> is now:    /Users/muli/Library/Caches/gdb/bin/zshUnable to <span class="token function">find</span> Mach task port <span class="token keyword">for</span> process-id <span class="token number">20050</span>: <span class="token punctuation">(</span>os/kern<span class="token punctuation">)</span> failure <span class="token punctuation">(</span>0x5<span class="token punctuation">)</span>. <span class="token punctuation">(</span>please check gdb is codesigned - see taskgated<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">))</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨ MacOS 10.14.6 çš„ç³»ç»Ÿä¸‹ï¼Œå‘ç°å®‰è£… gdb 8.3 ï¼ˆå½“å‰æœ€æ–°ï¼‰ çš„å‘ä¸æ˜¯ä¸€èˆ¬çš„å¤šï¼Œé‚£çœŸçœŸçš„å¤šã€‚é‰´äºç½‘ä¸Šçš„æ•™ç¨‹éƒ½æ˜¯è¿‡æ—¶çš„ï¼Œä¸”æŒ‰ç…§æŸä¸€ç¯‡ï¼Œ ä½ æ˜¯ä¸å¯èƒ½é¡ºåˆ©è¿è¡Œå®‰è£…æˆåŠŸçš„ã€‚æ‰€ä»¥æµªè´¹æˆ‘æ˜¨å¤©ä¸€ä¸ªæ™šä¸Šè§£å†³è¿™ä¸ªé—®é¢˜ï¼ˆæˆ‘çš„æ—¶é—´ä¹Ÿå¾ˆå®è´µçš„ï¼‰ï¼Œä»Šå¤©åˆèŠ±è´¹ä¸€æ™šä¸Šæ—¶é—´ï¼Œå®Œæˆè¿™ç¯‡å›¾æ–‡å¹¶èŒ‚çš„çš„å®‰è£…æ•™ç¨‹ã€‚ä½œä¸ºä¸€ä¸ªæ—¥åçš„è®°å½•å’Œç»™åæ¥è€…ä¸€ä¸ªæ–¹ä¾¿ã€‚</p><p>ä¹Ÿ<strong>æ˜¯ç›®å‰ç½‘ä¸Šæœ€æ–°æœ€è¯¦ç»†çš„åœ¨ mac å®‰è£… gdb çš„æ•™ç¨‹</strong> ï¼›å…¶ä¸­å¤§æ¦‚æ€è·¯ï¼š</p><ul><li>åˆ›å»ºæ•´è¯ä¹¦ï¼Œè¯ä¹¦æˆæƒ</li><li>å…³é—­ SIP å®‰å…¨é˜²æŠ¤ï¼Œé‡å¯ç³»ç»Ÿï¼›</li><li>sudo è¿è¡Œ gdb è°ƒè¯•ï¼›</li><li>kill å¡æ­»è¿›ç¨‹ï¼Œ å†æ¬¡é‡æ–° gdb è°ƒè¯•ï¼›</li><li>æˆåŠŸ</li></ul><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¬”è®°æœ¬ç³»ç»Ÿç¯å¢ƒï¼š"><a href="#ç¬”è®°æœ¬ç³»ç»Ÿç¯å¢ƒï¼š" class="headerlink" title="ç¬”è®°æœ¬ç³»ç»Ÿç¯å¢ƒï¼š"></a>ç¬”è®°æœ¬ç³»ç»Ÿç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14.6 </code> </p><br><h3 id="æŸ¥çœ‹æ˜¯å¦å®‰è£…-gdb"><a href="#æŸ¥çœ‹æ˜¯å¦å®‰è£…-gdb" class="headerlink" title="æŸ¥çœ‹æ˜¯å¦å®‰è£… gdb:"></a>æŸ¥çœ‹æ˜¯å¦å®‰è£… gdb:</h3><ul><li><p>æ‰§è¡Œ <code>brew search gdb</code> ï¼Œæœç´¢ brew ä»“åº“ï¼š</p> <img src="https://cdn.jsdelivr.net/gh/touwoyimuli/xmuliPic@pic/2020/20200310_185237.png" width="70%"/ loading="lazy"></li></ul><br><h3 id="å‘½ä»¤-brew-å®‰è£…-gdbï¼š"><a href="#å‘½ä»¤-brew-å®‰è£…-gdbï¼š" class="headerlink" title="å‘½ä»¤ brew å®‰è£… gdbï¼š"></a>å‘½ä»¤ brew å®‰è£… gdbï¼š</h3><ul><li><p>æ‰§è¡Œ <code>brew install gdb</code> ä½¿ç”¨ brew å·¥å…·å®‰è£… gdb ï¼ˆé»˜è®¤æœ€æ–°ï¼‰ï¼Œç­‰å¾…å®‰è£…å®Œæ¯•ï¼›</p></li><li><p>æ‰§è¡Œ <code>which gdb</code> æŸ¥çœ‹å®‰è£…çš„è·¯å¾„ä¸º <code>/usr/local/bin/gdb</code> </p> <img src="https://cdn.jsdelivr.net/gh/touwoyimuli/xmuliPic@pic/2020/20200310_185446.png" width="70%"/ loading="lazy"></li><li><p>æ‰§è¡Œ <code>gdb -v</code> æŸ¥çœ‹çš„ gdb å®‰è£…ç‰ˆæœ¬ï¼Œç‰ˆæœ¬ä¸º <code>8.3</code></p> <img src="https://cdn.jsdelivr.net/gh/touwoyimuli/xmuliPic@pic/2020/20200310_185458.png" width="80%"/ loading="lazy"></li></ul><br><h3 id="åˆ›å»ºç³»ç»Ÿè¯ä¹¦ï¼š"><a href="#åˆ›å»ºç³»ç»Ÿè¯ä¹¦ï¼š" class="headerlink" title="åˆ›å»ºç³»ç»Ÿè¯ä¹¦ï¼š"></a>åˆ›å»ºç³»ç»Ÿè¯ä¹¦ï¼š</h3><ul><li><p>æ‰“å¼€ <strong>é’¥åŒ™ä¸²è®¿é—®</strong> </p> <img src="https://cdn.jsdelivr.net/gh/touwoyimuli/xmuliPic@pic/2020/20200310_185515.png" width="20%"/ loading="lazy"></li><li><p>å·¦ä¸Šè§’è¿›å…¥ <code>é’¥åŒ™ä¸²è®¿é—® - è¯ä¹¦åŠ©ç† - åˆ›å»ºè¯ä¹¦</code></p> <img src="https://cdn.jsdelivr.net/gh/touwoyimuli/xmuliPic@pic/2020/20200310_185639.png" width="50%"/ loading="lazy"></li><li><p>åˆ›å»ºè¯ä¹¦ï¼Œ åç§°éšæ„ï¼Œå¦‚ gdb_codesigned ï¼Œå…¶ä¸­é€‰æ‹©ä¸º <strong>è‡ªç­¾åæ ¹è¯ä¹¦</strong> ï¼Œ<strong>ä»£ç ç­¾å</strong> ï¼Œè¿˜æœ‰âœ… <strong>è®©æˆ‘è¦†ç›–è¿™äº›é»˜è®¤å€¼</strong> </p> <img src="https://cdn.jsdelivr.net/gh/touwoyimuli/xmuliPic@pic/2020/20200310_185816.png" width="50%"/ loading="lazy"></li><li><p>åé¢ä¸€è·¯<strong>ç‚¹å‡»ä¸‹ä¸€æ­¥ï¼Œä¸ç”¨åšä»»ä½•ä¿®æ”¹</strong> ï¼Œè´´å‡ºæ¥ä¸­é—´çš„è¿‡ç¨‹å›¾</p> <img src="https://cdn.jsdelivr.net/gh/touwoyimuli/xmuliPic@pic/2020/20200310_185829.png" width="50%"/ loading="lazy"> <img src="https://cdn.jsdelivr.net/gh/touwoyimuli/xmuliPic@pic/2020/20200310_185835.png" width="50%"/ loading="lazy"> <img src="https://cdn.jsdelivr.net/gh/touwoyimuli/xmuliPic@pic/2020/20200310_185840.png" width="50%"/ loading="lazy"> <img src="https://cdn.jsdelivr.net/gh/touwoyimuli/xmuliPic@pic/2020/20200310_185844.png" width="50%"/ loading="lazy"> <img src="https://cdn.jsdelivr.net/gh/touwoyimuli/xmuliPic@pic/2020/20200310_185849.png" width="50%"/ loading="lazy"> <img src="https://cdn.jsdelivr.net/gh/touwoyimuli/xmuliPic@pic/2020/20200310_185854.png" width="50%"/ loading="lazy"> <img src="https://cdn.jsdelivr.net/gh/touwoyimuli/xmuliPic@pic/2020/20200310_185858.png" width="50%"/ loading="lazy"> </li><li><p>ä¸€ç›´åˆ°è¿™æ­¥éª¤ï¼Œè¿›è¡Œä¿®æ”¹ï¼Œé€‰æ‹© â€œ<strong>ç³»ç»Ÿ</strong> â€œï¼Œ </p> <img src="https://cdn.jsdelivr.net/gh/touwoyimuli/xmuliPic@pic/2020/20200310_185915.png" width="50%"/ loading="lazy"></li><li><p>è¯ä¹¦åˆ›å»ºæˆåŠŸ ï¼ˆè‹¥æ˜¯å¤±è´¥ï¼Œå‚è€ƒä¸‹é¢è§£å†³æ–¹æ¡ˆï¼‰</p> <img src="https://cdn.jsdelivr.net/gh/touwoyimuli/xmuliPic@pic/2020/20200310_191146.png" width="50%"/ loading="lazy"></li></ul><br><h3 id="ä¿®æ”¹è¯ä¹¦ï¼š"><a href="#ä¿®æ”¹è¯ä¹¦ï¼š" class="headerlink" title="ä¿®æ”¹è¯ä¹¦ï¼š"></a>ä¿®æ”¹è¯ä¹¦ï¼š</h3><ul><li><p><strong>åŒå‡»</strong> è¯ä¹¦æ‰“å¼€ï¼Œ å‹¾é€‰ä½¿ç”¨ <strong>å§‹ç»ˆä¿¡ä»»</strong> ï¼Œç„¶åå…³é—­æ­¤æ­¤çª—å£ï¼Œä¼šè‡ªåŠ¨ä¿å­˜ä¿®æ”¹</p> <img src="https://cdn.jsdelivr.net/gh/touwoyimuli/xmuliPic@pic/2020/20200310_191412.png" width="70%"/ loading="lazy"></li></ul><br><h3 id="å¯¹è¯ä¹¦æˆæƒï¼š"><a href="#å¯¹è¯ä¹¦æˆæƒï¼š" class="headerlink" title="å¯¹è¯ä¹¦æˆæƒï¼š"></a>å¯¹è¯ä¹¦æˆæƒï¼š</h3><ul><li><p>æ‰§è¡Œ <code>codesign -fs gdb_codesigned /usr/local/bin/gdb</code> å‘½ä»¤ï¼Œ<strong>ç»™è¯ä¹¦æˆæƒ</strong>ï¼›åœ¨æ‰§è¡Œ <code>echo &quot;set startup-with-shell off&quot; &gt;&gt; ~/.gdbinit</code> ï¼Œ <strong>å…³é—­ MacOS ç³»ç»Ÿçš„ SIP å®‰å…¨éªŒè¯</strong> ï¼›è®¾ç½®å®Œè¿™å’¯çˆ±é‚£ä¸ªæ­¥éª¤åï¼Œ <strong>è¦é‡å¯ç”µè„‘</strong> ï¼Œä½¿å¾—é…ç½®ç”Ÿæ•ˆã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">codesign <span class="token parameter variable">-fs</span> gdb_codesigned /usr/local/bin/gdb<span class="token builtin class-name">echo</span> <span class="token string">"set startup-with-shell off"</span> <span class="token operator">>></span> ~/.gdbinit<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre> <img src="https://cdn.jsdelivr.net/gh/touwoyimuli/xmuliPic@pic/2020/20200310_211131.png" width="80%"/ loading="lazy"></li></ul><br><h3 id="éªŒè¯-gdb-è¯ä¹¦åˆ›å»ºï¼Œå…³é—­-SIP-æˆåŠŸï¼š"><a href="#éªŒè¯-gdb-è¯ä¹¦åˆ›å»ºï¼Œå…³é—­-SIP-æˆåŠŸï¼š" class="headerlink" title="éªŒè¯ gdb è¯ä¹¦åˆ›å»ºï¼Œå…³é—­ SIP æˆåŠŸï¼š"></a>éªŒè¯ gdb è¯ä¹¦åˆ›å»ºï¼Œå…³é—­ SIP æˆåŠŸï¼š</h3><ul><li><p>ä½¿ç”¨ä¸€ä¸ªå°çš„ c++ é¡¹ç›®æµ‹è¯•ä¸‹ï¼Œ<a href="https://github.com/touwoyimuli/linuxExample/tree/master/05_makefile">ä¸‹è½½åœ°å€</a>ï¼Œæ‰§è¡Œ <code>g++-9 *.cpp -o mainApp -g</code>  ç”Ÿæˆå¯è°ƒè¯•çš„<strong>å¯æ‰§è¡Œç¨‹åº</strong> mainApp  ï¼Œç„¶åè¿è¡Œ <code>sudo gdb mainApp</code></p> <img src="https://cdn.jsdelivr.net/gh/touwoyimuli/xmuliPic@pic/2020/20200310_192435.png" width="70%"/ loading="lazy"></li></ul><br><hr><h3 id="æœŸé—´å¯èƒ½ä¼šé‡åˆ°çš„å¥‡æ€ªçš„é—®é¢˜ï¼Ÿ"><a href="#æœŸé—´å¯èƒ½ä¼šé‡åˆ°çš„å¥‡æ€ªçš„é—®é¢˜ï¼Ÿ" class="headerlink" title="æœŸé—´å¯èƒ½ä¼šé‡åˆ°çš„å¥‡æ€ªçš„é—®é¢˜ï¼Ÿ"></a>æœŸé—´å¯èƒ½ä¼šé‡åˆ°çš„å¥‡æ€ªçš„é—®é¢˜ï¼Ÿ</h3><h4 id="é‡åˆ°è¯ä¹¦åˆ›å»ºå¤±è´¥ï¼Ÿ"><a href="#é‡åˆ°è¯ä¹¦åˆ›å»ºå¤±è´¥ï¼Ÿ" class="headerlink" title="é‡åˆ°è¯ä¹¦åˆ›å»ºå¤±è´¥ï¼Ÿ"></a>é‡åˆ°è¯ä¹¦åˆ›å»ºå¤±è´¥ï¼Ÿ</h4><ul><li><p>è‹¥æ˜¯å¤±è´¥ï¼Œçœ‹åˆ°ä¸‹å›¾æç¤ºï¼š</p> <img src="https://cdn.jsdelivr.net/gh/touwoyimuli/xmuliPic@pic/2020/20200310_185938.png" width="50%"/ loading="lazy"></li><li><p>è§£å†³æ–¹æ³•ï¼šåˆ™é‡å¤´åˆ›å»ºä¸€æ¬¡ç³»ç»Ÿè¯ä¹¦ï¼Œæœ€åè¿™ä¸€æ­¥é€‰æ‹© â€œ<strong>ç™»å½•</strong>â€ ï¼Œç¼–ç»˜åˆ›å»ºæˆåŠŸã€‚</p> <img src="https://cdn.jsdelivr.net/gh/touwoyimuli/xmuliPic@pic/2020/image-20200310191044729.png" width="50%"/ loading="lazy"></li><li><p>ä¸”è¯ä¹¦åˆ›å»ºæˆåŠŸåï¼Œéœ€è¦æ‰‹åŠ¨å°†å…¶ä»ç™»å½•åŒºåŸŸï¼Œ ç§»åŠ¨åˆ°ç³»ç»ŸåŒºåŸŸ</p></li></ul> <img src="https://cdn.jsdelivr.net/gh/touwoyimuli/xmuliPic@pic/2020/20200310_191315.png" width="70%"/ loading="lazy"><br><h4 id="é‡åˆ°-Unable-to-find-Mach-task-port-for-process-id-2358-os-kern-failure-0x5-ï¼š"><a href="#é‡åˆ°-Unable-to-find-Mach-task-port-for-process-id-2358-os-kern-failure-0x5-ï¼š" class="headerlink" title="é‡åˆ° Unable to find Mach task port for process-id 2358: (os/kern) failure (0x5).ï¼š"></a>é‡åˆ° <code>Unable to find Mach task port for process-id 2358: (os/kern) failure (0x5).</code>ï¼š</h4><ul><li><p>å‡ºç°å¦‚ä¸‹å¦‚ä¸‹ä»£ç ï¼š  <code>Unable to find Mach task port for process-id 2358: (os/kern) failure (0x5).</code> <code>(please check gdb is codesigned - see taskgated(8))</code> </p> <img src="https://cdn.jsdelivr.net/gh/touwoyimuli/xmuliPic@pic/2020/20200310_212227.png" width="80%"/ loading="lazy"></li><li><p>è§£å†³æ–¹æ³•ï¼šæŒ‰ä¸‹ <code>control + z</code> <strong>é€€å‡ºç»ˆç«¯</strong> ï¼Œ<strong>ä½¿ç”¨ sudo æƒé™</strong> ï¼Œè¿è¡Œå‘½ä»¤ <code>sudo gdb mainApp</code> è°ƒè¯•</p></li></ul><br><h4 id="é‡åˆ°-New-Thread-0x1303-of-process-971-å¡æ­»"><a href="#é‡åˆ°-New-Thread-0x1303-of-process-971-å¡æ­»" class="headerlink" title="é‡åˆ° [New Thread 0x1303 of process 971] å¡æ­»:"></a>é‡åˆ° <code>[New Thread 0x1303 of process 971]</code> å¡æ­»:</h4><ul><li><p>å‡ºç°å¦‚ä¸‹ä»£ç  <code>[New Thread 0x1303 of process 971]</code> ä»£ç ï¼Œè¢«è¿›ç¨‹è¢«å¡æ­»ï¼ˆ<strong>é€šå¸¸ç¬¬ä¸€æ¬¡ä¼šé‡åˆ°è¿™ä¸ªé—®é¢˜ï¼‰</strong> ã€‚</p> <img src="https://cdn.jsdelivr.net/gh/touwoyimuli/xmuliPic@pic/2020/20200310_192247.png" width="80%"/ loading="lazy"></li></ul><br><ul><li><p>è§£å†³æ–¹æ³•ï¼šæŒ‰ä¸‹ <code>control + z</code> <strong>é€€å‡ºç»ˆç«¯</strong>ï¼Œæ‰§è¡Œ <code>killall 2415</code> æ€æ­»è¯¥è¿›ç¨‹ï¼›ç„¶åå†æ¬¡è¿è¡Œ <code>sudo gdb mainApp</code> è°ƒè¯•ï¼Œ æŒ‰ä¸‹ <code>r</code> è°ƒè¯•ã€‚</p> <img src="https://cdn.jsdelivr.net/gh/touwoyimuli/xmuliPic@pic/2020/20200310_192130.png" width="70%"/ loading="lazy"></li></ul><br><h3 id="ä¸€äº›å¿…é¡»æ³¨æ„ç‚¹"><a href="#ä¸€äº›å¿…é¡»æ³¨æ„ç‚¹" class="headerlink" title="ä¸€äº›å¿…é¡»æ³¨æ„ç‚¹:"></a>ä¸€äº›å¿…é¡»æ³¨æ„ç‚¹:</h3><ul><li>æ‰§è¡Œå‘½ä»¤æ—¶å€™ï¼Œè¯ä¹¦ç”Ÿæ•ˆï¼Œæœ‰çš„å¸¦ -f å‚æ•°ï¼›</li><li>å‘½ä»¤ <code>codesign -fs gdb_codesigned /usr/local/bin/gdb</code> æ—¶å€™ï¼Œ<code>gdb_codesigned</code> è¦æ¢æˆä½ çš„è¯ä¹¦åç§°</li><li>æœ‰çš„è¯ä¹¦åšå®¢è¯ä¹¦çš„èµ·åç§°ä¸º gdb_certï¼Œ ä½†æ˜¯å‘½ä»¤ å’Œç»ˆç«¯æˆªå›¾ä¸º gdb-certï¼› æ³¨æ„çŸ­æ </li><li>å¦å¤–ä¸€ä¸ªæ˜¯ dgb æœ€å¥½éœ€è¦å¸¦ç»å¯¹è·¯å¾„ï¼Œé¿å…æ‰¾ä¸åˆ°ï¼›</li><li><strong>çœ‹å®Œè¿™ç¯‡æ•™ç¨‹ï¼Œä¸€å®šè¦ç‚¹èµ</strong></li></ul><br><p><strong>å‚è€ƒåšå®¢ï¼š</strong></p><p><a href="https://zhuanlan.zhihu.com/p/68398728">åœ¨macOS10.14ä¸Šä½¿ç”¨GDBçš„æ•™ç¨‹</a></p><p><a href="https://www.zhihu.com/question/264381471">macbookåˆ›å»ºè‡ªç­¾åæ ¹è¯ä¹¦å¤±è´¥,æ€ä¹ˆåŠï¼Ÿ</a></p><p><a href="https://blog.csdn.net/zg_hover/article/details/82453862">mac bookä¸Šå®‰è£…å’Œä½¿ç”¨gdb</a></p><p><a href="https://studygolang.com/articles/26715?fr=sidebar">Tips:å¦‚ä½•ä¼˜é›…çš„ä½¿ç”¨GDBè°ƒè¯•Go</a></p><p><a href="https://segmentfault.com/a/1190000004136351">è§£å†³GDBåœ¨Macä¸‹ä¸èƒ½è°ƒè¯•çš„é—®é¢˜</a></p><p><a href="https://blog.csdn.net/angus_monroe/article/details/78515468">MAC OSXç³»ç»Ÿä½¿ç”¨gdbç¼–è¯‘ç¨‹åºæ—¶çš„æŠ¥é”™å¤„ç†</a></p><p><a href="https://juejin.im/post/5acdc6bef265da239a6029f4">macOS High Sierraä¸‹æ— æ³•ä½¿ç”¨gdbçš„è§£å†³åŠæ³•</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - MacOS </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨Linuxä¸­ï¼Œç¼–å†™å…¥é—¨çš„makefileæ–‡ä»¶ï¼Œç„¶åé€æ¸è¿­ä»£</title>
      <link href="/posts/11bba156/"/>
      <url>/posts/11bba156/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€åœ¨ <code>Uinx / Linux</code> ä¸‹ï¼Œå†™ä¸‹è¿™ç¯‡é€‚åˆå°ç™½å­¦ä¹ çš„å…¥é—¨æ•™ç¨‹ï¼Œç†è§£ <code>make</code>ï¼Œ<code>makefile</code> æ–‡ä»¶ã€‚å’Œå¼€å§‹ç¼–å†™è‡ªå·±çš„ <code>makefile</code> æ–‡ä»¶ï¼Œä½¿ç”¨ <code>make</code> å‘½ä»¤æ‰§è¡Œï¼Œç”Ÿæˆæˆ‘ä»¬æ‰€éœ€è¦çš„é¡¹ç›®ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š"></a>ç¼–ç¨‹ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14.6 (18G103)</code> ğŸ“ <code>gcc/g++ 9.2.0</code> </p><br><h3 id="make-ä»‹ç»ï¼š"><a href="#make-ä»‹ç»ï¼š" class="headerlink" title="make ä»‹ç»ï¼š"></a>make ä»‹ç»ï¼š</h3><ul><li>make æ˜¯ Linux è‡ªå¸¦çš„æ„å»ºå™¨ã€‚</li><li>æ„å»ºè§„åˆ™æ˜¯ä¾æ® makefile æ–‡ä»¶å†…å®¹</li></ul><p>ä»£ç å˜æˆå¯æ‰§è¡Œæ–‡ä»¶ï¼Œå«åš<strong>ç¼–è¯‘</strong> ï¼›å…ˆç¼–è¯‘è¿™ä¸ªï¼Œè¿˜æ˜¯å…ˆç¼–è¯‘é‚£ä¸ªï¼ˆå³ç¼–è¯‘çš„å®‰æ’ï¼‰ï¼Œå«åš<strong>æ„å»º</strong> ã€‚</p><p>æ›´å¤šå‚è€ƒï¼š<a href="https://blog.csdn.net/qq_33154343/article/details/98170236">makeã€makefileã€cmakeã€qmakeéƒ½æ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a> </p><br><h3 id="makefile-ä»‹ç»ï¼š"><a href="#makefile-ä»‹ç»ï¼š" class="headerlink" title="makefile ä»‹ç»ï¼š"></a>makefile ä»‹ç»ï¼š</h3><h4 id="å‘½åï¼š"><a href="#å‘½åï¼š" class="headerlink" title="å‘½åï¼š"></a>å‘½åï¼š</h4><ul><li>è¯¥æ–‡ä»¶çš„åç§°æ˜¯å”¯ä¸€ï¼š<code>makefile</code> æˆ– <code>Makefile</code></li></ul><br><h4 id="è§„åˆ™ï¼š"><a href="#è§„åˆ™ï¼š" class="headerlink" title="è§„åˆ™ï¼š"></a>è§„åˆ™ï¼š</h4><ul><li><p>ç›®æ ‡ï¼Œä¾èµ–ï¼Œå‘½ä»¤</p></li><li><p>ä¸€ä¸ªå®Œæ•´çš„ makefile æ–‡ä»¶ï¼Œç”±å¤šä¸ªè§„åˆ™ç»„æˆ</p><ul><li>æœ€ä¸Šé¢çš„ä¸€è¡Œè§„åˆ™ï¼Œæ˜¯<strong>ç»ˆæç›®æ ‡</strong> ï¼Œä¸‹é¢çš„éƒ½æ˜¯<strong>è¿‡ç¨‹ç›®æ ‡</strong></li></ul><p><font color=#D0087E size=4 face="å¹¼åœ†">ç›®æ ‡: ä¾èµ–</font></p><p><font color=#D0087E size=4 face="å¹¼åœ†">å‘½ä»¤          &#x2F;&#x2F;æ­¤å¤„æœ‰ Tab ç¼©è¿›ï¼Œä¸èƒ½ç”¨å¤šä¸ªç©ºæ ¼ä»£æ›¿</font></p><pre class="line-numbers language-makefile" data-language="makefile"><code class="language-makefile"><span class="token comment">#ä¸€ä¸ªè§„åˆ™ eg :</span><span class="token target symbol">mainApp</span><span class="token punctuation">:</span> *.cppg++ *.cpp -o mainApp  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li></ul><br><h4 id="æ‰§è¡ŒåŸç†ï¼š"><a href="#æ‰§è¡ŒåŸç†ï¼š" class="headerlink" title="æ‰§è¡ŒåŸç†ï¼š"></a>æ‰§è¡ŒåŸç†ï¼š</h4><ul><li>æ£€æµ‹ä¾èµ–æ˜¯å¦å­˜åœ¨ï¼Ÿ<ul><li>å‘ä¸‹æœç´¢ä¸‹è¾¹çš„è§„åˆ™ï¼Œä¸‹é¢çš„è§„åˆ™é€šå¸¸æ˜¯ç”¨æ¥ç”Ÿæˆä¾èµ–çš„</li></ul></li><li>åˆ¤æ–­æ˜¯å¦é‡æ–°ç¼–è¯‘ç”Ÿæˆï¼Ÿ<ul><li>æœ€ç»ˆç›®æ ‡æ–‡ä»¶çš„åˆ›å»ºæ—¶é—´ä¸€å®šæ˜¯è¦æ™šäºä¸­é—´çš„ç”Ÿæˆçš„ç›®æ ‡(ä½œä¸ºä¾èµ–æ–‡ä»¶)</li></ul></li><li>è‹¥æ˜¯æœ¬æŸæ¡è§„åˆ™æ²¡æœ‰å†™ä¾èµ–<ul><li>é‚£ä¹ˆå®ƒæ°¸è¿œæ˜¯æœ€æ–°çš„ç›®æ ‡æ–‡ä»¶ï¼ˆæœ¬æ¡ä¸ºï¼Œåˆ†æç¬¬äº”ç‰ˆçš„ make cleanï¼‰</li></ul></li></ul><br><h3 id="ç¼–å†™è‡ªå·±çš„-makefile-æ–‡ä»¶ï¼š"><a href="#ç¼–å†™è‡ªå·±çš„-makefile-æ–‡ä»¶ï¼š" class="headerlink" title="ç¼–å†™è‡ªå·±çš„ makefile æ–‡ä»¶ï¼š"></a>ç¼–å†™è‡ªå·±çš„ makefile æ–‡ä»¶ï¼š</h3><h4 id="å‡†å¤‡é“ºå«ï¼š"><a href="#å‡†å¤‡é“ºå«ï¼š" class="headerlink" title="å‡†å¤‡é“ºå«ï¼š"></a>å‡†å¤‡é“ºå«ï¼š</h4><p>ä¾æ—§æ²¿ç”¨<a href="https://blog.csdn.net/qq_33154343/article/details/104692370">ä¸Šä¸€ç¯‡</a>æ–‡ç« çš„å·¥ç¨‹ä»£ç ï¼Œä¸”æœ‰è®²è§£ gcc&#x2F;g++ çš„ç”¨æ³•ï¼Œé¡¹ç›®ä»£ç å†…å®¹é¢„è§ˆå¦‚ä¸‹ï¼š</p> <img src="https://cdn.jsdelivr.net/gh/touwoyimuli/xmuliPic@pic/2020/81soxRT22.png" width="90%"/ loading="lazy"><p>è¿™é‡ŒæŒ‰ç…§æƒ³æ³•ï¼Œä»¥å‰æ˜¯æ‰§è¡Œ <code>g++-9 *.cpp -o mainApp</code> è¿™ä¸€è¡Œå‘½ä»¤ï¼Œç°åœ¨ä½¿ç”¨ makefile è§„åˆ™ï¼Œä½¿ç”¨ make å‘½ä»¤æ‰§è¡Œï¼Œå°±ç›¸å½“äºä½¿ç”¨å¦å¤–ä¸€ä¸ªè¯­è¨€ï¼ˆè§„åˆ™ï¼‰ï¼Œæ¥é‡å†™è¿™å¥è¯ã€‚äºæ˜¯ä¹ï¼Œæˆ‘ä»¬ä½¿ç”¨ vim åˆ›å»º makefile æ–‡ä»¶ï¼Œåœ¨é‡Œé¢å†™ä¸‹å¦‚ä¸‹è¯­å¥ï¼›ç„¶åæ‰§è¡Œ makeï¼Œå³å¯å¾—åˆ° mainApp å¯æ‰§è¡Œç¨‹åºï¼ˆæˆ‘ä»¬çš„ç›®æ ‡ï¼‰ï¼Œå°±å±äºå¤§åŠŸå‘Šæˆã€‚</p><br><h4 id="ç¬¬1ç‰ˆæœ¬ï¼š"><a href="#ç¬¬1ç‰ˆæœ¬ï¼š" class="headerlink" title="ç¬¬1ç‰ˆæœ¬ï¼š"></a>ç¬¬1ç‰ˆæœ¬ï¼š</h4><p>è®²é“ç†ï¼Œå°† gcc å‘½ä»¤å†™æˆç¬¦åˆ makefile è§„åˆ™ï¼ˆå‚è€ƒä¸Šé¢ï¼‰çš„è¯­å¥å°±å¥½äº†ï¼Œæœ€ç®€å•çš„æƒ³æ³•å¦‚ä¸‹ï¼Œå…¶ä¸­ mainApp çš„åç§°æ˜¯ä»»æ„çš„ï¼Œæ˜¯æœ€åç”Ÿæˆçš„ç»ˆæç›®æ ‡çš„å¯æ‰§è¡Œç¨‹åºçš„åç§°ã€‚å†™å¥½åä¿å­˜ï¼Œç»ˆç«¯æ‰§è¡Œæ‰§è¡Œ make ï¼Œå°±å¾—åˆ°äº†æˆ‘ä»¬æ‰€éœ€è¦çš„ã€‚</p><pre class="line-numbers language-makefile" data-language="makefile"><code class="language-makefile"><span class="token target symbol">mainApp</span><span class="token punctuation">:</span> *.cppg++-9 *.cpp -o mainApp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><br><h4 id="ç¬¬2ç‰ˆæœ¬ï¼š"><a href="#ç¬¬2ç‰ˆæœ¬ï¼š" class="headerlink" title="ç¬¬2ç‰ˆæœ¬ï¼š"></a>ç¬¬2ç‰ˆæœ¬ï¼š</h4><ul><li><strong>æ”¹è¿›ä¹‹å¤„ï¼š</strong> <ul><li>é¿å…æ”¹åŠ¨ä¸€ä¸ª .cppï¼Œä½†æ˜¯æ‰€æœ‰ .cpp æ–‡ä»¶éƒ½è¦é‡æ–°ç¼–è¯‘ä¸º .O æ–‡ä»¶</li></ul></li></ul><pre class="line-numbers language-makefile" data-language="makefile"><code class="language-makefile"><span class="token target symbol">mainAPP</span><span class="token punctuation">:</span> *.og++-9 *.o -o mainApp<span class="token target symbol">*.o</span><span class="token punctuation">:</span> *.cppg++-9 -c *.cpp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h4 id="ç¬¬3ç‰ˆæœ¬ï¼š"><a href="#ç¬¬3ç‰ˆæœ¬ï¼š" class="headerlink" title="ç¬¬3ç‰ˆæœ¬ï¼š"></a>ç¬¬3ç‰ˆæœ¬ï¼š</h4><ul><li><strong>æ”¹è¿›ä¹‹å¤„ï¼š</strong><ul><li>ä½¿ç”¨ makefile é‡Œé¢çš„å˜é‡</li><li><font color=#FF0000  size=4 face="å®‹ä½“">$( )</font>  è¡¨ç¤ºå–å˜é‡é‡Œé¢çš„å€¼</li><li><font color=#FF0000  size=4 face="å®‹ä½“">%.o: %.cpp</font>  æ¨¡å¼åŒ¹é…ï¼Œç›¸å½“äºå…¬å¼ï¼Œä¸¤ä¸ªç™¾åˆ†å·æ˜¯åŒä¸€ä¸ª â€œé‡â€</li></ul></li></ul><pre class="line-numbers language-makefile" data-language="makefile"><code class="language-makefile">val_a <span class="token operator">=</span> ExAdd.o ExDiv.o ExMul.o ExSub.o main.o  <span class="token comment">#èµ‹å€¼ç»™å˜é‡ val_a</span>val_app <span class="token operator">=</span> mainAPP<span class="token target symbol"><span class="token variable">$</span>(val_app)</span><span class="token punctuation">:</span> <span class="token variable">$</span><span class="token punctuation">(</span>val_a<span class="token punctuation">)</span>g++-9 <span class="token variable">$</span><span class="token punctuation">(</span>val_a<span class="token punctuation">)</span> -o <span class="token variable">$</span><span class="token punctuation">(</span>val_app<span class="token punctuation">)</span>    <span class="token comment">#å¯æ›¿æ¢ä¸º g++-9 $^ -o $(val_app)</span><span class="token target symbol">%.o</span><span class="token punctuation">:</span> %.cppg++-9 -c <span class="token variable">$&lt;</span> -o <span class="token variable">$@</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h4 id="ç¬¬4ç‰ˆæœ¬ï¼š"><a href="#ç¬¬4ç‰ˆæœ¬ï¼š" class="headerlink" title="ç¬¬4ç‰ˆæœ¬ï¼š"></a>ç¬¬4ç‰ˆæœ¬ï¼š</h4><ul><li><strong>æ”¹è¿›ä¹‹å¤„ï¼š</strong><ul><li><strong>ä½¿ç”¨è‡ªåŠ¨å˜é‡ï¼š</strong><ul><li><font color=#D0087E size=4 face="å¹¼åœ†">$@</font> è§„åˆ™ä¸­çš„ç›®æ ‡</li><li><font color=#D0087E size=4 face="å¹¼åœ†">$ &lt;</font> è§„åˆ™ä¸­çš„ç¬¬ä¸€ä¸ªä¾èµ–</li><li><font color=#D0087E size=4 face="å¹¼åœ†">$^</font> è§„åˆ™ä¸­çš„æ‰€æœ‰ä¾èµ–</li><li><font color=#FF0000  size=4 face="å¹¼åœ†">å®ƒä»¬åªèƒ½å¤Ÿè®¤è¯†æœ¬æ¡è§„åˆ™çš„å‘½ä»¤ï¼Œåœ¨æœ¬æ¡è§„åˆ™ä¸­ä½¿ç”¨</font></li></ul></li><li><strong>ä½¿ç”¨å‡½æ•°ï¼š</strong><ul><li><font color=#D0087E size=4 face="å¹¼åœ†">wildcard</font>  ä¸ºæŸ¥æ‰¾æŒ‡å®šæ–‡ä»¶å¤¹ï¼Œé‡Œé¢çš„æŒ‡å®šç±»å‹çš„æ–‡ä»¶ï¼Œåé¢ä¸ºå‚æ•°</li><li><font color=#D0087E size=4 face="å¹¼åœ†">patsubst</font>  ä¸ºå­—ç¬¦æ›¿æ¢å‡½æ•°</li></ul></li></ul></li></ul><pre class="line-numbers language-makefile" data-language="makefile"><code class="language-makefile">val_a <span class="token operator">=</span> <span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">wildcard</span> ./*.cpp<span class="token punctuation">)</span>val_b <span class="token operator">=</span> <span class="token variable">$</span><span class="token punctuation">(</span><span class="token function">patsubst</span> %.cpp, %.o, <span class="token variable">$</span><span class="token punctuation">(</span>val_a<span class="token punctuation">)</span><span class="token punctuation">)</span>val_app <span class="token operator">=</span> mainAPP<span class="token target symbol"><span class="token variable">$</span>(val_app)</span><span class="token punctuation">:</span> <span class="token variable">$</span><span class="token punctuation">(</span>val_b<span class="token punctuation">)</span>g++-9 <span class="token variable">$^</span> -o <span class="token variable">$</span><span class="token punctuation">(</span>val_app<span class="token punctuation">)</span><span class="token target symbol">%.o</span><span class="token punctuation">:</span> %.cppg++-9 -c <span class="token variable">$&lt;</span> -o <span class="token variable">$@</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h4 id="ç¬¬5ç‰ˆæœ¬ï¼š"><a href="#ç¬¬5ç‰ˆæœ¬ï¼š" class="headerlink" title="ç¬¬5ç‰ˆæœ¬ï¼š"></a>ç¬¬5ç‰ˆæœ¬ï¼š</h4><ul><li><strong>æ”¹è¿›ä¹‹å¤„ï¼š</strong><ul><li>æ·»åŠ å·¥ç¨‹é¡¹ç›®æ¸…ç†ä¸­é—´åŠŸèƒ½ï¼Œé¿å…æ‰‹åŠ¨æ¸…ç†ï¼Œåªéœ€è¦è¿è¡Œ <code>make clean</code> è¿™ä¸ªä¸­é—´ç›®æ ‡å³å¯</li></ul></li><li>è‹¥æ˜¯å·¥ç¨‹æ–‡ä»¶å¤¹ä¸‹ï¼Œæœ‰å’Œ makefile çš„ä¸­é—´ç›®æ ‡åŒåçš„æ–‡ä»¶ã€‚é‚£ä¹ˆä¾æ®<strong>æ£€æµ‹ä¾èµ–æ˜¯å¦å­˜åœ¨çš„å·¥ä½œåŸç†</strong> ï¼Œå…¶ä¼šä¸æ‰§è¡Œï¼Œä¸”å†²çªã€‚ï¼ˆå®ƒè®¤ä¸ºç¼–è¯‘çš„ä¾èµ–æ–‡ä»¶   clean ï¼Œæœ€æ–°ä¸”å­˜åœ¨çš„ï¼‰<ul><li>è§£å†³ï¼šå£°æ˜ä¸ºä¼ªç›®æ ‡ .PHONY:</li></ul></li></ul><p>(è‹¥æ˜¯æœ€å­˜åœ¨åŒåæ–‡ä»¶) ï¼Œå…¶ç›®æ ‡æ–‡ä»¶ claen åˆæ²¡æœ‰ä¾èµ–æ–‡ä»¶ï¼Œæ‰€ä»¥æ€»æ˜¯æœ€æ–°çš„ï¼Œä¹Ÿå°±ä¸ä¼šæ‰§è¡Œ make clean çš„ä¸‹é¢å‘½ä»¤</p><pre class="line-numbers language-makefile" data-language="makefile"><code class="language-makefile"><span class="token comment">#.PHONY: clean   #æ˜ä¼ªç›®æ ‡: ä¸ä¼šåšä¾èµ–å’Œæ›´æ–°æ£€æŸ¥( æ–‡ä»¶æ—¥æœŸæ—¶é—´å…ˆååˆ¤æ–­)</span><span class="token target symbol">clean</span><span class="token punctuation">:</span> <span class="token comment">#-mkdir /abc  # ç¬¬ä¸€ä¸ª"-"   è¡¨ç¤ºè‹¥æ˜¯æ‰§è¡Œå¤±è´¥ï¼Œåˆ™æ‰§è¡Œåé¢ä¼šçš„å‘½ä»¤ï¼Œ</span>-rm <span class="token variable">$</span><span class="token punctuation">(</span>val_b<span class="token punctuation">)</span> <span class="token variable">$</span><span class="token punctuation">(</span>val_app<span class="token punctuation">)</span>   <span class="token comment">#åé¢-f æ˜¯å¼ºåˆ¶æ‰§è¡Œ </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h3><ul><li><p>å†™å¥½ makefile æ–‡ä»¶</p></li><li><p>æ‰§è¡Œ make å‘½ä»¤</p></li><li><p>ä¸å†éœ€è¦æ¼”ç¤ºï¼Œæ‰§è¡Œæ¸…ç†å‘½ä»¤[è¿è¡Œä¸­é—´è§„åˆ™]ï¼šmake clean</p> <img src="https://cdn.jsdelivr.net/gh/touwoyimuli/xmuliPic@pic/2020/20200309_183011.png" width="80%"/ loading="lazy"></li></ul><br><h3 id="ä»£ç ä¸‹è½½ï¼š"><a href="#ä»£ç ä¸‹è½½ï¼š" class="headerlink" title="ä»£ç ä¸‹è½½ï¼š"></a>ä»£ç ä¸‹è½½ï¼š</h3><p><a href="https://github.com/touwoyimuli/linuxExample/tree/master/05_makefile">05_makefile</a> </p><br><p><strong>å…¶å®ƒï¼š</strong></p><p>å‡è£…æœ‰å…¶ ta ï¼Œï¼Œï¼Œ ï¼ˆç‚¹ä¸ªèµï¼‰ï¼Ÿ</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
          <category> å­¦ä¹  - MacOS </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>äººçš„ä¸€ç”Ÿä¸ƒå…«åå¹´ï¼Œåˆ°åº•è¯¥å¦‚ä½•åº¦è¿‡ï¼Ÿ</title>
      <link href="/posts/b7a609d6/"/>
      <url>/posts/b7a609d6/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€<strong>äºŒåå²çš„æ‰€å›°æƒ‘æ‰€æ€è€ƒï¼š</strong> äººçš„ä¸€ç”Ÿä¸ƒå…«åå¹´ï¼Œåˆ°åº•è¯¥å¦‚ä½•åº¦è¿‡ï¼Ÿå…¥ç¤¾ä¼šä¹‹å‰åˆè¯¥å¦‚ä½•å‡†å¤‡ï¼Ÿ</p><span id="more"></span><p>â€‹äºŒåå¤šå²çš„å›°æƒ‘æœ‰å¾ˆå¤šï¼Œå…ˆä»æ¯”è¾ƒå®è§‚çš„æ–¹é¢ä½œä¸ºåˆ‡å…¥ç‚¹ã€‚æ­¤å‰æ¯æ¯å¤œæ·±äººé™ï¼Œæˆ‘ç»å¸¸ä¼šæ€è€ƒï¼š<strong>äººçš„ä¸€ç”Ÿä¸ƒå…«åå¹´ï¼Œåˆ°åº•è¯¥æ€ä¹ˆæ ·æ´»åº¦è¿‡ï¼Ÿæ€ä¹ˆæ ·åº¦è¿‡æˆ–è®¸è‡ªå·±æ‰ä¼šæ²¡æœ‰é—æ†¾ï¼Ÿ</strong>è¿™ä¸ªé—®é¢˜ï¼Œç›´åˆ°åæ¥æ‰æ¸…æ™°äº†èµ·æ¥ã€‚</p><br><p>â€‹<strong>å¦‚ä½•æ‹¥æœ‰è‡ªå·±ç‹¬ç«‹çš„æ„è¯†å‘¢ï¼Ÿ</strong>ä¸Šå¤§å­¦ä¹‹å‰ï¼Œä¸€åˆ‡çš„éƒ½æ˜¯æŒ‰éƒ¨å°±ç­ï¼Œä¸¤è€³ä¸é—»çª—å¤–äº‹é‚£ç§ï¼Œç”Ÿæ´»æ¯ç‡¥è€Œåˆæ— è¶£ã€‚ä½†æ˜¯ä¸Šäº†å¤§å­¦åï¼Œæœ€å¤§çš„æ”¶è·æ˜¯ç»™äº†æˆ‘å¾ˆå¤šæ—¶é—´å»æ€è€ƒï¼Œå¼€å§‹æ„Ÿå—å¤§å­¦è¿™ä¸ªå°çš„è±¡ç‰™å¡”ï¼Œä»¥åŠå®ƒé‡Œé¢çš„è§„åˆ™ã€‚ç¬¬ä¸€å¹´ï¼Œæ¯ä¸€é—¨è¯¾éƒ½æ˜¯è®¤çœŸçš„å¬è€å¸ˆæˆè¯¾ï¼Œè™½ç„¶å­¦ä¹ æœ«æœŸè€ƒè¯•ï¼Œæ‰€æœ‰å­¦ç§‘çš„æˆç»©éƒ½æ˜¯85&#x2F;90+ï¼Œä¸æˆ‘åˆ†æ•°ç›¸ä¼¼é«˜çš„åªæœ‰ä¸€ä¸¤äººã€‚ä½†æ˜¯å­¦é™¢å¤šæ•°äººåŸºæœ¬æ²¡æ€ä¹ˆå¬è¯¾(éƒ¨åˆ†åŸºæœ¬æ²¡å¬è¿‡ä¸€èŠ‚è®²)ï¼Œä½†æ˜¯ä¹Ÿéƒ½75&#x2F;80+ï¼Œæˆ‘æ„Ÿè§‰åˆ°äº†æœ‰ç‚¹æ°”ã€‚ä¸ºä»€ä¹ˆæˆ‘èŠ±è´¹äº†å¤§æŠŠæ—¶é—´å’Œå»åšè¯¾åä¹ é¢˜ï¼Œå’Œå¤§å®¶åˆ†æ•°éš¾ä»¥æ‹‰å¼€å·®è·å‘¢ï¼Ÿå¹¶ä¸”ï¼Œæˆ‘å‘ç°åœ¨åªéœ€è¦åŠæ ¼å°±è¿‡ï¼Œ<strong>å¤§å­¦çš„åˆ†æ•°å¥½åƒæ²¡æœ‰ä»€ä¹ˆé‡é‡çº§çš„æ„ä¹‰ã€‚</strong></p><br><p>â€‹é‚£æ˜¯æˆ‘ç¬¬ä¸€æ¬¡å¼€å§‹æ€è€ƒå­¦ä¹ ä»¥å¤–çš„é—®é¢˜ï¼Œä¸ªäººæ„è¯†å¼€å§‹èŒèŠ½ã€‚<strong>å‘ç°æ‰€æœ‰ç§‘ç›®éƒ½é«˜å¼ºåº¦çš„å­¦ä¹ ï¼Œæ˜¯å¾ˆåƒåŠ›ä¸è®¨å¥½çš„ä¸€ä»¶äº‹æƒ…ã€‚å…³é”®æ˜¯ä¸€ä»¶å®Œå…¨æ²¡æœ‰å¿…è¦çš„äº‹æƒ…ï¼Œäºæ˜¯å°±åªå­¦ä¹ å’Œæœ¬ä¸“ä¸šå…³ç³»æ¯”è¾ƒç´§å¯†ï¼Œå’Œæ„Ÿè¶£çš„è¯¾ç¨‹ï¼Œå…¶å®ƒé—²æ‚è¯¾ç¨‹å…¨éƒ¨åˆ’æ°´å¯ä»¥åŠæ ¼å³å¯ã€‚</strong>äººç”Ÿæ­¤é˜¶æ®µçš„å­¦ä¹ åŒ…è¢±ä¸¢æ‰äº†ä¸€å¤§åŒ…ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200318_223754.png" width="30%"/ loading="lazy"><br><p>â€‹<strong>æˆ‘å¼€å§‹æ€è€ƒè‡ªå·±çš„å…´è¶£å’Œçˆ±å¥½ï¼Œæˆ‘åœ¨å¤§å­¦å‰©ä¸‹ä¸‰å¹´åº”è¯¥åšä¸€äº›ä»€ä¹ˆäº‹æƒ…ï¼Ÿ</strong>æˆ‘å–œæ¬¢å¤é£å¤è¯—è¯ï¼Œä¼ ç»Ÿå­¦æœ¯çš„é“ä¸æŠ€ï¼Œå¬å¸¦æˆè…”çš„ç½‘æ˜“äº‘æ­Œæ›²ï¼Œæˆ‘å‘å¾€æ²‰é†‰äºäº’è”ç½‘ä¼ å¥‡å¤§ä½¬çš„ç¥è¯ã€‚æƒ³è¦ä¸ºå¤§å››é‚£å¹´æ¯•ä¸šï¼Œå®ä¹ æ‰¾ä¸€ä»½è–ªæ°´ä¸é”™çš„ç¼–ç¨‹å·¥ä½œã€‚äºæ˜¯å»å›¾ä¹¦é¦†å€Ÿé˜…äº†ä¸¤æœ¬æœ¬ä¸Šå‡ åå¹´å‰ä¸€ä½å°æ¹¾è€å­¦ç©¶å†™çš„ã€Šè®ºè¯­åˆ«è£ã€‹ï¼Œè‡ªè´­ã€Šæµªæ½®ä¹‹å·…ã€‹ã€Šç›®é€ã€‹ç­‰ï¼ŒæŠ¥åäº†ä¸€ä¸ªç¼–ç¨‹åŸ¹è®­ç­ï¼Œé—²æš‡ä¹‹ä½™ï¼Œå¬æ­Œé€›æ ¡é—¨å‰çš„ä¸€ä¸ªæ¹–ï¼Œé‚£ä¼šè¿˜è§‰ç€æœ‰æŒºå¤§ã€‚</p><br><p>â€‹<strong>ä»ä¹¦ç±ä¸­ï¼Œ</strong>åœ¨çœ‹å¤è®ºè¯­ä»Šæ–°è§£æ„ä¸­ï¼Œä¸ªäººä¸‰è§‚æ­£ç¡®çš„æ¡†æ¶æœ‰äº†åŸºç¡€çš„æ­å»ºï¼Œäº†è§£äº†äº’è”ç½‘å·¨å¤´å…¬å¸ç™¾å¹´æµä¼ æ²‰æµ®å’Œå„è‡ªçš„è½¬å‹åº”å¯¹ï¼Œè¿˜æœ‰äº†ä¸€ç‚¹å¯¹å®¶åº­æƒ…äº²æ¯çˆ±çš„é‚£ç§ç†è§£ï¼Œé™„ä¸Šäº†ä¸€ç‚¹ç‚¹çš„å°æ–‡è‰ºï¼›è¿˜æœ‰æˆ‘çš„ç¼–ç¨‹è¯­è¨€ï¼Œä¹Ÿå¼€å§‹å…¥é—¨å­¦ä¹ æ‰“åŸºç¡€ï¼›å’Œæœ‹å‹ä¸€èµ·è®¨è®ºå­¦ä¹ å’Œèšé¤ä¹Ÿç»™è‡ªå·±ç”Ÿæ´»å¸¦ä¸€æŠ¹åˆä¸€æŠ¹çš„å½©è‰²ã€‚æ‰€æœ‰è¡Œä¸ºä¸ºä¸¤å¹´åå®ä¹ ï¼Œæ‰¾ä¸€ä»½å¾…é‡è¾ƒé«˜çš„å®ä¹ ï¼Œå›æ ¡ç­”è¾©æ—¶å€™èƒ½å¤Ÿå’ŒåŒå­¦è°ˆèµ·å¾…é‡ä¹‹æ—¶ï¼Œæ»¡è¶³ä¸€ä¸‹å¿ƒç†ï¼Œèƒ½å¤Ÿå˜šç‘Ÿä¸€ä¸‹æ‰“ä¸‹åŸºç¡€ï¼Œä¸ºæ­¥å…¥ç¤¾ä¼šèµ°æŠ€æœ¯äººå‘˜è·¯çº¿åŸ‹ä¸‹ä¼ç¬”ï¼Œä¸‡ä¸€æŸä¸€å¤©å˜æˆäº†æŠ€æœ¯å¤§ä½¬å‘¢ï¼Ÿ</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200318_223736.png" width="35%"/ loading="lazy"><br><p>â€‹<strong>å·¥ä½œåˆï¼Œå¦‚ä½•èƒ½å¤Ÿåœ¨å·¥ä½œä¹‹å¤–çš„æ—¶é—´ç»™è‡ªå·±å……ç”µï¼Ÿæœ‰æ—¶é—´å†²çªæ€ä¹ˆç ´ï¼Ÿ</strong> å¾—ç›Šäºå…¬å¸çš„æ—©ä¹æ™šå…­ï¼Œå‘¨æœ«åŒä¼‘ï¼Œèƒ½å¤Ÿè®©æˆ‘åœ¨æ™šä¸Šç»§ç»­å­¦ä¹ æ–°çš„çŸ¥è¯†ï¼Œå’Œæ€è€ƒå¾ˆå¤šæ–°çš„äººç”Ÿå›°æƒ‘å’Œæ— èŠçš„é—®é¢˜ï¼›ä¹Ÿå¾—ç›Šäºå…¬å¸æœ‰å¼€æºç¤¾åŒºï¼Œæœ‰ç€è‰¯å¥½çš„æ²Ÿé€šæ°›å›´ã€‚</p><p>â€‹<strong>æƒ³åˆ°äººç”Ÿï¼Œä¸ç®¡è´¢å¯Œç§¯ç´¯å¤šå°‘ï¼Œå¤–è²Œå·®å¼‚ä¸æƒ³å°½åŒï¼Œéƒ½çº¦ä¸ƒå…«åå¹´åº¦è¿‡ä¸€ç”Ÿï¼Œè¯¥å¦‚ä½•åº¦è¿‡è‡ªå·±çš„ä¸€ç”Ÿå‘¢ï¼Ÿ</strong>æ‰ä¸æ„§äºæ¥è¿™ä¸ªæ—¶é—´é©»è¶³åœç•™çœ‹çœ‹ç¾ä¸½ä¸–é—´ã€‚æˆ–æœ‰é’±äºæ²‰é†‰äºç‰©è´¨äº«å—ï¼Œçº¸é†‰é‡‘è¿·ï¼Œäº«å—äººé—´ï¼›æˆ–è´«å›°æ½¦å€’ï¼Œç¹çäºå®¶ä¸­é¸¡æ¯›è’œçš®å°äº‹ï¼›æˆ–å½»å¤œå®éªŒå®¤ä¸“å¿ƒç§‘ç ”ï¼›æˆ–å›é€†è½¬å‘è‡ªæˆ‘å°é—­ï¼›æˆ–åœ¨åº•å±‚å¥‹æ–—æ‹¼æå°è¯•è·ƒè¿›ä¸Šå±‚ç¤¾ä¼šï¼Œè‡³å°‘å°è¯•è¿‡ï¼›æˆ–äº¦æˆ–æ˜¯ç™½å«–å®Œæ–‡ç« ä¸ç‚¹èµï¼›äº¦æˆ–æ˜¯æˆ‘æ²¡è§è¿‡çš„ä¸€ç§æ–¹å¼æ¥åº¦è¿‡ä¸€ç”Ÿã€‚</p><p>â€‹<strong>è¿™é‡Œæˆ‘å·²ç»æ‰¾äº†åˆ°è®©æˆ‘å¼€å¿ƒçš„äº‹æƒ…ï¼Œå‚ä¸ github å¼€æºé¡¹ç›®ï¼Œæäº¤è´¡çŒ®ã€‚</strong>å¯ä»¥å¢è¿›æŠ€æœ¯ï¼Œä½“éªŒè·¨åœ°åŸŸå’Œé™Œç”Ÿäººç»„é˜Ÿï¼Œæé«˜è‡ªå·±çš„å½±å“åŠ›ï¼Œ æä¾›ç¨³å®šå¯é çš„è½¯ä»¶ç»™ä½¿ç”¨è€…ç”¨ï¼Œè®©ä»–ä»¬å¼€å¿ƒã€‚ä½¿ç”¨æŠ€æœ¯ï¼Œè®©ç§‘æŠ€é€ ç¦ç¤¾ä¼šã€‚ï¼ˆè‹¥æ˜¯ä¸æ‡‚ï¼Œæ­¤ç›¸å½“äºä¹‰åŠ¡å¼€å‘é¡¹ç›®ï¼ŒåŠ©äººä¹å·±ï¼Œä¸”å…¨å‡­å…´è¶£åšè‡ªå·±å–œæ¬¢çš„äº‹æƒ…ï¼Œè¿˜å¯ä»¥æ¨èç¤¾ä¼šè¿›æ­¥ï¼‰</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/IMG_12843.GIF" width="20%"/ loading="lazy"><br><p>â€‹<strong>æˆ–è®¸ä½ æš‚æ—¶è¿˜æ˜¯ä¸èƒ½å¤Ÿæ‰¾åˆ°çš„çˆ±å¥½ï¼Œæ¥åº¦è¿‡äººç”Ÿä¸€ä¸ªå¤§é˜¶æ®µçš„äº‹æƒ…ï¼Ÿ</strong>ä½ å¯ä»¥å°†<strong>è‡ªå·±å…´è¶£ + ä¸“ä¸š + é¢„æƒ³çš„ç”Ÿæ´» + ä½ ä¼šæ„Ÿåˆ°å¼€å¿ƒ + è–ªé…¬</strong> (æ²¡å®ƒä¸èƒ½ç»´æŒç”Ÿæ´»)ï¼ŒæŒ‰ç…§è¿™ä¸ªå…¬å¼æ‰¾åˆ°ä½ æ‰€æƒ³è¦çš„ç”Ÿæ´»æ–¹å¼ï¼Œåº¦è¿‡ä¸€ç”Ÿçš„æŸä¸€é˜¶æ®µã€‚è‹¥æ˜¯é‡åˆ°äº†å¯¹æŸä»¶äº‹å¼ºçƒˆçš„å¿ƒåŠ¨å’Œæƒ³å‚ä¸ï¼Œè¯·å¿½ç•¥å‰æ–‡ï¼Œç›´æ¥å»å¹²ï¼›è‹¥æ˜¯å°è¯•å‘è§‰ä¸å¯¹ï¼ŒåæœŸè¿˜å¯ä»¥éšç€è‡ªå·±çš„è§„åˆ’å»è°ƒæ•´ã€‚äººç”Ÿè™½è‹¦çŸ­ï¼Œå´ä¸ä¹ç²¾å½©ç”œç”œã€‚</p><p>â€‹ä¹Ÿå¯çœ‹ä¸€äº›éæŠ€æœ¯ç±»çš„ä¹¦ç±ï¼Œæ„Ÿå—ä¸€ä¸‹ç¤¾ä¼šçš„è„‰æä¸è·³åŠ¨ï¼Œè§‚çœ‹ç¤¾ä¼šç™¾æ€çš„ä¸€è§’è½ã€‚å°è¯•ç†è§£æ¯ä¸€ä»¶äº‹ä»¶èƒŒåæ·±å±‚æ¬¡çš„åŸå› ã€‚æ€è·¯è·³è·ƒï¼Œéš”æ®µæ—¶é—´å†æƒ³è¿™ä¸ªé—®é¢˜ï¼Ÿæ—©æ™šä¼šå‘ç°æ–°å¤§é™†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´» - é—²æš‡çš„è¶£é—» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¶ç„¶ä¹è¶£ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆšä¹°çš„åŸŸåæ€ä¹ˆç»‘å®šè‡ªå·±åšå®¢ï¼Ÿå†ç™½å«–ä¸€å¹´çš„SSLï¼Œä½¿ç”¨httpsè®¿é—®åšå®¢</title>
      <link href="/posts/7ba1510/"/>
      <url>/posts/7ba1510/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€æœ¬ç¯‡åªæ˜¯è¯´è¯´æ€ä¹ˆå°†åˆšä¹°çš„åŸŸåç»‘å®šåˆ°è‡ªå·±çš„åšå®¢ï¼› åˆå¦‚ä½•ç™½å«–ä¸€å¹´çš„ SSL è¯ä¹¦ï¼Œç»™ä½ åšå®¢ç½‘ç«™è®¿é—®å»æ‰<em>ä¸å®‰å…¨</em> è®¿é—®æ ‡ç­¾ï¼Œä½¿ç”¨ https è®¿é—®åšå®¢ç½‘å€ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="èƒŒæ™¯é“ºå«ï¼š"><a href="#èƒŒæ™¯é“ºå«ï¼š" class="headerlink" title="èƒŒæ™¯é“ºå«ï¼š"></a>èƒŒæ™¯é“ºå«ï¼š</h3><p>ä½¿ç”¨ Hexo + githubPage æ­å»ºçš„åšå®¢ï¼Œæƒ³è¦ç»‘å®šåŸŸå + å¼€å¯ https è®¿é—®ã€‚</p><p>å°†åšå®¢ç»‘å®šåŸŸåï¼Œå¯ç”¨ SSL è¯ä¹¦ï¼Œå‡çº§ä¸º https è®¿é—®ï¼Œå…¶å…·ä½“æ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li>è´­ä¹°åŸŸå</li><li>ç»‘å®šåšå®¢åœ°å€å’ŒåŸŸåï¼ˆè®¾ç½®åŸŸåè§£æï¼‰</li><li>å¯ç”¨ç™½å«– SSL è¯ä¹¦ï¼Œè®¾ç½® https æ–¹å¼ã€‚</li><li>é…ç½® github åšå®¢ä»“åº“ï¼Œå‹¾é€‰ä¸­ <code>Enforce HTTPS</code> åŠŸèƒ½ã€‚</li></ol><br><h3 id="æœåŠ¡å•†è´­ä¹°åŸŸåï¼š"><a href="#æœåŠ¡å•†è´­ä¹°åŸŸåï¼š" class="headerlink" title="æœåŠ¡å•†è´­ä¹°åŸŸåï¼š"></a>æœåŠ¡å•†è´­ä¹°åŸŸåï¼š</h3><p>é€‰æ‹©ä¸€ä¸ªæœåŠ¡å•†ï¼Œè¿™é‡Œä»¥é˜¿é‡Œäº‘çš„ä¸‡ç½‘ä¸ºä¾‹ï¼š<a href="https://wanwang.aliyun.com/domain/">wanwang.aliyun.com</a> ï¼›åœ¨è¿™é‡Œè´­ä¹°ä½ æ‰€æƒ³è¦çš„åŸŸåï¼ˆæå°‘éƒ¨åˆ†ä¸èƒ½å¤Ÿå¤‡æ¡ˆï¼Œæå…¶ä¸æ¨èè´­ä¹°ï¼‰ã€‚é€‰å¥½ä¹‹åï¼ŒæŒ‰ç…§æµç¨‹ï¼Œåˆ›å»ºå®åæ¨¡æ¿ï¼Œç»‘å®šè”ç³»é‚®ç®±ï¼Œä»˜é’±ä¸‹å•ï¼Œç„¶ååˆ° <code>æ§åˆ¶ä¸­å¿ƒ-åŸŸåæœåŠ¡ä¸­å»</code>ã€‚ é€‰æ‹©ä½ è´­ä¹°çš„åŸŸåä¸‹çš„å³ä¾§ <code>è§£æ</code> è®¾ç½®ã€‚</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/img/2020/mark_20200308_012701.png" width="70%"/ loading="lazy"><br><h3 id="è®¾ç½®åŸŸåè§£æï¼š"><a href="#è®¾ç½®åŸŸåè§£æï¼š" class="headerlink" title="è®¾ç½®åŸŸåè§£æï¼š"></a>è®¾ç½®åŸŸåè§£æï¼š</h3><p>ä»¥æˆ‘è‡ªå·±çš„ä¸ºä¾‹ï¼š</p><p>é¡¶çº§åŸŸå: xmuli.tech<br>åšå®¢åœ°å€: <a href="https://touwoyimuli.github.io/">https://touwoyimuli.github.io</a></p><p>æ‰“å¼€ç»ˆç«¯ï¼Œping ä¸€ä¸‹åšå®¢çš„åœ°å€ï¼Œå¾—åˆ°åšå®¢æœåŠ¡å™¨çš„åœ°å€ï¼š<code>185.199.111.153</code>ï¼›</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/img/2020/mark_20200308_013049.png" width="60%"/ loading="lazy"><p>ç„¶åå°†åŸŸåè§£æçš„è®¾ç½®ä¸ºå¦‚ä¸‹ï¼š</p><p>é€‰æ‹© A ç±»ï¼Œå°†å­åŸŸåè§£æåˆ°å¯¹åº”çš„ ip åœ°å€çš„æœåŠ¡å™¨ã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/img/2020/mark_20200308_013736.png" width="100%"/ loading="lazy"><p>è¿™é‡Œçš„ TTL çš„å«ä¹‰æ˜¯ï¼Œä¿®æ”¹ä¸€è¡Œé…ç½®ä¹‹åï¼Œè¿™ä¸ªè§£æè¦ååˆ†é’Ÿæ‰èƒ½å¤Ÿç”Ÿæ•ˆã€‚åœ¨ 10 åˆ†é’Ÿåï¼Œå†æ¬¡åœ¨æµè§ˆå™¨é‡Œé¢æ‰“å¼€æ­¤ç½‘å€ã€‚ä¼šæ˜¾ç¤º github çš„ 404 é¡µé¢ï¼›æ­¤æ—¶è¯´æ˜è§£æå·²ç»ç”Ÿæ•ˆï¼Œä½†æ˜¯è¿˜æœ‰ä¸€æ­¥éª¤æ²¡æœ‰è®¾ç½®ã€‚</p><p>è¿›å…¥åˆ°æœ¬åœ°ç”µè„‘çš„ blog çš„æ–‡ä»¶å¤¹ï¼Œåœ¨ source æ–‡ä»¶å¤¹ä¸‹åˆ›å»º CNAME æ–‡ä»¶ï¼Œåœ¨é‡Œé¢å†™ä¸‹ä½ çš„åŸŸåï¼›å‰é¢ä¸è¦åŠ  http ï¼Œhttps ï¼Œwww æˆ–è€…æœ€åé¢è¿˜æœ‰ä¸€ä¸ª &#x2F; è¿™äº›ç¬¦å·ã€‚</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/img/2020/mark_20200308_014715.png" width="70%"/ loading="lazy"><p>åœ¨æ‰§è¡Œå¦‚ä¸‹ç†Ÿæ‚‰çš„å‘½ä»¤ï¼Œå°† blog æ–‡ä»¶å¤¹çš„å†…å®¹ç”Ÿæ•ˆä¸”ä¸Šä¼ åˆ°ç«™ç‚¹ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo clean   //æ¸…é™¤æ—§çš„ç¼“å­˜æ•°æ®hexo g <span class="token parameter variable">-d</span>    //é…ç½®å’ŒåŒæ­¥ä¸Šä¼ åˆ° github ä»“åº“<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>åœ¨æ­¤æ‰“å¼€è®¿é—®ç½‘å€ï¼Œ ä¼šå‘ç°æˆåŠŸçš„æ‰“å¼€ä½ çš„åšå®¢ç½‘å€äº†ï¼ˆç¬¬ä¸€æ¬¡è§£æä¼šæœ‰ç‚¹æ…¢ï¼‰ã€‚</p><br><h3 id="å¯ç”¨-SSLï¼Œè®¾ç½®-https-è®¿é—®ï¼š"><a href="#å¯ç”¨-SSLï¼Œè®¾ç½®-https-è®¿é—®ï¼š" class="headerlink" title="å¯ç”¨ SSLï¼Œè®¾ç½® https è®¿é—®ï¼š"></a>å¯ç”¨ SSLï¼Œè®¾ç½® https è®¿é—®ï¼š</h3><p>æ­¤æ—¶ä¼šå‘ç°ï¼Œè¯¥ç½‘å€è¢«æ ‡è®°ä¸ºä¸å®‰å…¨ï¼ŒåŸå› æ˜¯è®¿é—®çš„å…¨ç§°<br>æ˜¯ <a href="http://xmuli.tech/">http://xmuli.tech</a> ï¼Œè€Œéæ˜¯ <a href="https://xmuli.tech/">https://xmuli.tech</a> è¿™ä¸ªã€‚</p><p>æŸ¥è¯¢äº†ä¸€ä¸‹ï¼ŒgithubPage æ˜¯æ”¯æŒ https æ–¹å¼ï¼Œä½†æ˜¯ä¸èƒ½å¤Ÿç›´æ¥ä¸Šä¼  SSL è¯ä¹¦ã€‚è¢«é™åˆ¶ä½äº†ã€‚</p><p>äºæ˜¯ä¹ä½ çš„ç½‘å€å°±è¢«æ ‡è®°ä¸ºä¸å®‰å…¨ï¼›ä½œä¸ºæ–‡è‰ºé’å¹´ï¼Œè¿™æ€ä¹ˆèƒ½å¤Ÿå®¹å¿ï¼Œwtfï¼ï¼ï¼</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/img/2020/mark_Snip20200307_204719.png" width="70%"/ loading="lazy"><p>å¿…é¡»ç»™å®ƒå®‰æ’äº†ï¼Œæ­¤æ—¶çš„å°† http å‡çº§ä¸º https çš„è§£å†³æ–¹å¼å¦‚ä¸‹ï¼š</p><ul><li>å€Ÿç”¨ CloudFlare CDN æä¾›å•†çš„æœåŠ¡</li><li>ä½¿ç”¨ SSL è¯ä¹¦ï¼ˆç™½å«–ä¸€å¹´ï¼‰</li><li>è‡ªå·±ä»·æ ¼ä¸è²è´­ä¹°è¯ä¹¦ï¼Œéƒ¨ç½²åˆ°æœºå™¨ï¼Œæœºå™¨éƒ¨ç½²<code>nginx</code>ï¼Œ<code>stunnel</code>ç­‰ä»£ç†</li></ul><p>ä½œä¸ºä¸€ä¸ªåœ¨å®¶è¹²äº†å¿«ä¸¤ä¸ªæœˆï¼Œèº²é¿ç–«æƒ…çš„<del>ç©·ä¸”å±Œä¸çš„</del>å·¥ç¨‹å¸ˆï¼Œæˆ‘å€¾å‘äºç¬¬äºŒæ¡ï¼Œè¿™æ˜¯æ— æ„ä¹‹ä¸­å¼€å¯çš„æ–°ä¸–ç•Œå¤§é—¨ï¼›</p><p>é’±ä¸æ˜¯é—®é¢˜ï¼Œå…³é”®æ˜¯å¯¹äºå’³å’³ï¼ŒæŠ€æœ¯çš„å…´è¶£çš„æŠ˜è…¾ã€‚</p><p>æ‰“å¼€é˜¿é‡Œäº‘æ§åˆ¶å°çš„ <code>åŸºæœ¬ä¿¡æ¯</code>ï¼Œé€‰æ‹©  <code>å¼€å¯ SSL è¯ä¹¦</code>ï¼Œ</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/img/2020/mark_Snip20200307_210418.png" width="60%"/ loading="lazy"> <p>ç„¶åç‚¹å‡»è´­ä¹° â€œGeoTrustâ€ çš„è¯ä¹¦ï¼Œé»˜è®¤æ˜¯ç¬¬ä¸€ä¸ªã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ä¸ºä½•è—èµ·å¦‚æ­¤ä¹‹æ·±ï¼ï¼ï¼</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/img/2020/mark_Snip20200307_210507.png" width="70%"/ loading="lazy"><p>ä½œä¸ºä¸€å£æ°”ä¹°äº† 10 å¹´çš„åŸŸåï¼Œå› ä¸º<del>é’±ä¸æ˜¯é—®é¢˜ï¼Œ</del>æ‡’æƒ°ç®¡ç†ï¼Œé€‰æ‹©è´­ä¹°å¹´é™æœ€é•¿çš„ SSL è¯ä¹¦ï¼Œçœå»ä¸€å¹´å¹´çš„ç»­è´¹ï¼Œå‡†å¤‡ ä»˜æ¬¾ä¸‹å•ä¸€æ°”å‘µæˆï¼Œç­‰ç­‰ï¼Œï¼Œè¿™ä¸ªæœ‰ç‚¹è¶…å‡ºäº†ï¼Œï¼Œï¼Œï¼ˆæ•°äº†æ•°è´¹ç”¨çš„å°æ•°ç‚¹ï¼Œè¿™ç©æ„æ€ä¹ˆæ¯”åŸŸåè¿˜è´µï¼Œè¿˜æ˜¯ç»­è´¹æ–¹å¼çš„ã€‚ä¸èƒ½å¤Ÿä¹°æ–­ï¼‰ã€‚ä¸å¥½æ€æ€ï¼Œ æˆ‘å†å»çœ‹çœ‹å…¶ä»–æ–¹å¼åŠ ä¸Šå°ç»¿é”ã€‚</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/img/2020/mark_Snip20200307_210541.png" width="50%"/ loading="lazy"><p>å°±åœ¨è¿™ä¸ªé¡µé¢ï¼Œå‘ç°æœ‰ <code>ä¸ªäººç‰ˆçš„è¯ä¹¦ </code> ï¼Œä¸”å…è´¹ï¼Œæœæ–­ä¸‹å•ï¼Œå®Œæˆæ¬¡ç¬”äº¤æ˜“ã€‚æ­¤åˆ»åŒæ–¹éƒ½è¡¨ç¤ºåˆä½œå¾ˆæ„‰å¿«</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/img/2020/mark_Snip20200307_210717.png" width="50%"/ loading="lazy"><p>æ¥ä¸‹æ¥å°±æ˜¯é…ç½®è¯ä¹¦ï¼Œç‚¹å‡»è¯ä¹¦çš„å³ä¾§çš„ <code>è¯ä¹¦ç”³è¯·</code> ï¼Œå†å¡«å†™ä¸€ä¸‹ï¼Œç­‰å¾…å¤§çº¦ 10 åˆ†é’Ÿï¼Œä¼šçœ‹åˆ°ä¸Šé¢é‚£å¼ å›¾é‡Œé¢ ï¼Œé…ç½®åŸŸåè§£æçš„å›¾ï¼Œé‡Œé¢å¤šå‡ºä¸€è¡Œ txt çš„é…ç½®ï¼Œçœ‹åˆ°å¥¹å‡ºæ¥ï¼Œå°±å±äºé…ç½®æˆåŠŸã€‚<img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/img/2020/mark_Snip20200307_211124.png" width="100%"/ loading="lazy"></p><br><h3 id="å¼€å¯-github-blog-ä»“åº“çš„HTTPSï¼š"><a href="#å¼€å¯-github-blog-ä»“åº“çš„HTTPSï¼š" class="headerlink" title="å¼€å¯ github blog ä»“åº“çš„HTTPSï¼š"></a>å¼€å¯ github blog ä»“åº“çš„HTTPSï¼š</h3><p>è¿˜å·®æœ€åä¸€è„šï¼Œè¿›å…¥åˆ° github çš„è¿™ä¸ªå¯¹åº”çš„åšå®¢çš„ä»“åº“ï¼Œç‚¹å‡» <code>setitng</code>ï¼Œå¾€ä¸‹ç¿»ç½‘é¡µï¼Œ æ‰¾åˆ° <code>GitHub Pages </code> è¿™ä¸ªæ ‡ç­¾ï¼Œå‹¾é€‰ä¸­ <code>Enforce HTTPS</code> è¿™ä¸€æ ã€‚ç„¶åå†æ¬¡åœ¨æµè§ˆå™¨é‡Œé¢è¾“å…¥ç½‘å€ï¼Œä¼šå‘ç° æ˜¾ç¤ºä¸ºå®‰å…¨çš„è®¿é—®ã€‚</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/img/2020/mark_20200308_023426.png" width="50%"/ loading="lazy">  <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/img/2020/mark_Snip20200307_202022.png" width="50%"/ loading="lazy"><p>å†æ¬¡ç‚¹å‡»ç½‘é¡µæµè§ˆï¼Œä¼šå‘ç°ä¸ºå®‰å…¨çš„è®¿é—®ï¼Œå°é”çš„æ ‡è®°ä¹Ÿæœ‰äº†ï¼Œä¸”æ— è®ºæ˜¯è¾“å…¥ httpï¼Œ åŸŸåï¼Œæ—§çš„ github.io æ–¹å¼ï¼Œéƒ½ä¼šè¢«å¼ºåˆ¶è·³è½¬ä¸º https é“¾æ¥æ–¹å¼æµè§ˆã€‚å¼€å¿ƒã€‚</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/img/2020/mark_20200308_024317.png" width="70%"/ loading="lazy"><br><h3 id="ä¸€å¹´ä¹‹åï¼š"><a href="#ä¸€å¹´ä¹‹åï¼š" class="headerlink" title="ä¸€å¹´ä¹‹åï¼š"></a>ä¸€å¹´ä¹‹åï¼š</h3><p>ä¸è¿‡åœ¨ SSL ä¸€å¹´ååˆ°æœŸï¼Œå¯ä»¥å†æ¬¡è´­ä¹°æ­¤è¯ä¹¦ä¸€å¹´ï¼›æˆ–è€…å°è¯•ä½¿ç”¨ <a href="https://www.cloudflare.com/">CloudFlare</a> æ¥è§£å†³ï¼ˆæ–¹å¼å‚è€ƒæ–‡æœ«é“¾æ¥ï¼‰ï¼Œäº¦æˆ–æ˜¯é‚£ä¸ªæ—¶å€™ï¼Œä½ å·²ç»æœ‰ä¸ªå¾ˆå¤šä¸ªè¯ä¹¦ã€‚æ¯•ç«Ÿäº‹æƒ…æ€»æ˜¯åœ¨å‘å±•å’Œå˜åŒ–çš„ã€‚å¦å¤–ï¼Œè¿˜ç™½å«–äº†ä¸€ç¯‡é…ç½®æ–‡ç« ï¼Œè¿˜å›¾æ–‡å¹¶èŒ‚ï¼Œç‚¹ä¸ªèµç•™è¨€å†ç•™å¦‚ä½•ï¼Ÿä¸‹æ¬¡ä¸€å®šä¹Ÿå¯ä»¥å•Šï¼</p><br><p><strong>å‚è€ƒï¼š</strong></p><p><a href="https://tzhou2018.github.io/2018/04/%E4%B8%BAGitHub-Pages%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D%E5%B9%B6%E6%B7%BB%E5%8A%A0SSL-%E5%BC%80%E5%90%AFHTTPS%E5%BC%BA%E5%88%B6/">ä¸ºGitHub Pagesè‡ªå®šä¹‰åŸŸåå¹¶æ·»åŠ SSL-å¼€å¯httpså¼ºåˆ¶</a> </p><p><a href="https://juejin.im/post/5a308ae551882540f363879a">ä¸ºä½ çš„hexoåšå®¢é…ç½®ä¸ªæ€§åŸŸå</a> </p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Hexo </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>äºŒåå²çš„æ‰€å›°æƒ‘æ‰€æ€è€ƒ</title>
      <link href="/posts/4105a4b6/"/>
      <url>/posts/4105a4b6/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>ã€€ æ¥”å­ï¼ŒäºŒåå²çš„æ‰€å›°æƒ‘æ‰€æ€è€ƒ</p><span id="more"></span><p>â€‹<strong>äºŒåè€Œç«‹ï¼Œä¸‰åä¸æƒ‘</strong> æ˜¯ä¸€ä¸ªå¾ˆå¤šçš„æ–°äººï¼Œå°¤å…¶æ€ç»´æ„è¯†åˆšè§‰é†’çš„äººï¼Œåœ¨æ°å¥½å¹´è½»çš„å¹´é¾„ï¼Œåœ¨è¿½å¯»è‡ªæˆ‘æ„è¯†å’Œé’±è´¢çš„ç‹¬ç«‹çš„ç†æƒ³é˜¶æ®µæ ‡å¿—è¯­ã€‚å®é™…è¿‡ç¨‹ä¸­å´æ˜¯äºŒåå¤šå²æœ‰å¾ˆå¤šå›°æƒ‘ï¼Œåœ¨æ¢å¯»è§£æƒ‘çš„è¿‡ç¨‹ã€‚</p><p>â€‹ä½†å¾ˆå¤šçš„åšå®¢ã€ä¹¦ç±å’Œèº«è¾¹äººçš„æ•™å¯¼ï¼Œéƒ½åªè¯´äº†é‚£ä¸ªé˜¶æ®µçš„ä¼šæœ‰ä»€ä¹ˆæ ·å­çš„äº«å—ï¼Œåªè¯´éœ€è¦åŠªåŠ›ï¼Œä½†å´æ²¡æœ‰è¯´è¿™ä¸ªå¥‹æ–—è¿‡ç¨‹ä¸­çš„ä½ ï¼Œä¼šé‡åˆ°çš„é‚£äº›æ„è¯†ä¸Šçš„å›°æƒ‘ï¼Ÿä»¥åŠæ€ä¹ˆè‡ªæˆ‘èµ°å‡ºå›°æƒ‘ã€‚<strong>æ‰€ä»¥æˆ‘åˆ†äº«ä¸€ä¸‹å…³äºç¼–ç¨‹æŠ€æœ¯å’Œç”Ÿæ´»çš„æ–¹æ–¹é¢é¢çš„åˆ†äº«ï¼Œå¯ä»¥äº’ç›¸ä½œä¸ºå‚è€ƒå€Ÿé‰´ï¼Œè®©ä½ ä»¬åœ¨è¿ˆå‡ºè‡ªå·±çš„ä¸‹ä¸€æ­¥å‰ï¼Œä¼šæœ‰è‡ªå·±çš„ä¸çŠ¹è±«ï¼Œä¸åæ‚”çš„é€‰æ‹©ã€‚</strong></p><br><p>â€‹ ä¸€ä¸ªæ­¤é˜¶æ®µçš„è‡ªå·±çš„å¹¼ç¨šæ€æƒ³ï¼Œå›°æƒ‘ï¼Œè®¤è¯†è‡ªæˆ‘ï¼Œæ¢å¯»è‡ªå·±çœŸæ­£æ‰€å–œå¥½ï¼Œå±¡æ¬¡æ‘¸çŸ³å¤´å°è¯•çš„æ¢ç´¢ï¼Œå¸Œæœ›å¯ä»¥å°†æœ‰ç”¨çš„æ–¹æ³•å½’çº³å‡ºæ¥ï¼Œè®©å¤åˆ¶æŸä¸€æ–¹é¢æˆä¸ºé€šç”¨ï¼›æœ€ç»ˆè¾¾åˆ°æ¯ä¸ªäººå¾—åˆ°è‡ªå·±ç­”æ¡ˆåï¼Œå¯ä»¥å¯¹å¾ˆå¤šäº‹æƒ…ä¸å›°æƒ‘ï¼Œä»è€Œåšå‡ºå†³å®šã€‚ä¹Ÿå¸¦æœ‰è‡ªå·±çš„ä¸åå¡Œçš„ä¸‰è§‚å’Œå¼ºå¤§è‡ªä¿¡å¿ƒï¼Œæ„Ÿå—ç”Ÿæ´»çš„ä¸–ç•Œç¾å¥½ã€‚</p><br><p>â€‹éšæ—¶é—´å»¶ç»­ï¼Œç¤¾ä¼šæ„è¯†å˜åŒ–ï¼ŒäºŒåå¤šçš„å¤§å­¦ç”Ÿå’Œæ¯•ä¸šç”Ÿæ–°äººï¼Œåœ¨ç»å†ä¸­å­¦çš„åˆ†æ•°å­¦ä¹ ï¼Œå¤§å­¦çš„æ”¾æ¾å­¦ä¹ ï¼›ä¸€ç›´åˆ°æœ€è¿‘ä¸¤å¹´æ‰æœ‰æ—¶é—´ï¼Œæ¥æ€è€ƒå’Œæ„Ÿæ‚Ÿå­¦ä¹ ä¹‹å¤–çš„äº‹æƒ…ã€‚ä¹Ÿæ‰å¼€å§‹æ…¢æ…¢æœ‰äº†è‡ªå·±æ„è¯†ï¼Œæ€è€ƒè‡ªå·±å‰è¡Œçš„è·¯ã€‚å¼€å§‹æ—¶å€™ï¼Œæ˜¯å•ç‹¬å¥‹æ–—ï¼Œæˆé•¿ä¸­é™ªä¼´çš„æ›´å¤šæ˜¯è®¸è®¸å¤šå¤šçš„å›°æƒ‘ï¼Œæˆ–è€…ä¸€äº›æ™®éè®¤çŸ¥æ— æ„ä¹‰çš„ï¼Œç°åœ¨æƒ³ä¹Ÿæ²¡æœ‰ç”¨çš„çš„é—®é¢˜ï¼Ÿæˆ–è€…ä¸€äº›é¥è¿œçš„ç»ˆæé—®é¢˜ï¼š</p><p>â€‹ æˆ‘æ˜¯è°ï¼Ÿæˆ‘è¦å¹²ä»€ä¹ˆï¼Ÿæˆ‘è¦åˆ°å“ªé‡Œå»ï¼Ÿ<strong>ä½†æ­£æ˜¯è¿™äº›é—®é¢˜ï¼Œè¡å°„å‡ºæ¥çš„ä¸€äº›è´´è¿‘æˆ‘ä»¬æ¯ä¸ªäººçš„æ›´åŠ å…·ä½“çš„é—®é¢˜ã€‚</strong> æˆ‘æ˜¯ä¸€ä¸ªä»€ä¹ˆæ ·çš„äººï¼Ÿæˆ‘æƒ³è¦æˆä¸ºä»€ä¹ˆæ ·çš„äººï¼Ÿæˆ‘å‘å¾€çš„ç”Ÿæ´»æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿæˆ‘è¦åšå“ªäº›åŠªåŠ›å’Œèˆå¼ƒï¼Ÿæˆ‘è‹¥æ˜¯çœŸçš„å®ç°äº†æˆ‘æ‰€å‘å¾€çš„çš„ç”Ÿæ´»ï¼Œæˆ‘æ˜¯çœŸçš„å¼€å¿ƒå—ï¼Ÿè¿™ç§å¼€å¿ƒæ˜¯å¯æŒç»­æ€§çš„å‘è‡ªä½ å†…å¿ƒçš„å¼€å¿ƒï¼Ÿè¿˜æ˜¯ä»…ä»…æˆ‘åšäº†è¿™ä»¶äº‹æƒ…ä»¥åï¼Œæˆ‘æœ¬åº”è¯¥æ„Ÿåˆ°çš„å¼€å¿ƒï¼Ÿ</p><br><p>â€‹è¿™äº›è®¸è®¸å¤šçš„é—®é¢˜ï¼Œéƒ½åªæœ‰æ¯ä¸ªäººåœ¨ç»å†è¿‡ç¤¾ä¼šçš„æ¯’æ‰“æ‰èƒ½åœ¨èƒ½å¤Ÿå¾—åˆ°å…·ä½“ç­”æ¡ˆã€‚è€Œæˆ‘æ‰€åšçš„åˆ†äº«ï¼Œå°±æ˜¯å¯¹ä¸€äº›æŠ€æœ¯ã€ç”Ÿæ´»ã€ç¤¾ä¼šå’Œä¸ºäººçš„æ€è€ƒå’Œæ„Ÿæ‚Ÿã€‚å…¶ä¸­çš„ç›¸ä¼¼ç»å†çš„å¥½çš„è§£å†³æ–¹æ³•ï¼Œç”¨æ¥è¢«å¤åˆ¶ï¼Œè¿ç”¨åˆ°ç¾å¥½çš„ç”Ÿæ´»ä¸­ã€‚</p><br><p>â€‹<del>ç¬¬ä¸€ç¯‡å…¬ä¼—å·ä½œ</del> ä¸ºå¼•å‡ºæ¥é—®é¢˜çš„æ¥”å­ï¼šäºŒåå²ä¸­ä¼šé‡åˆ°å“ªäº›å›°æƒ‘ï¼Ÿåé¢çš„å†è¯¦ç»†ä»‹ç»å®é™…ç”Ÿæ´»æ‰€é‡ï¼Œä»¥ç‚¹ç ´é¢çš„ï¼Œè®²è¿°è¿™ä¸ªç”Ÿæ´»äºé­”å¹»ç°å®ä¸–ç•ŒæŠ½è±¡åçš„ä¸€äº›åŸç†ï¼Œæ€ä¹ˆåº”å¯¹å®ƒä»¬å°±å–å†³è‡ªå·±çš„ â€œå¿—â€ å’Œ â€œé“â€ ã€‚æœ€åï¼Œè¿™é‡Œè®©æˆ‘é‡è§ä¸€ç¾¤å¿—åŒé“åˆçš„ä½ ä»¬ï¼Œå¼€å¿ƒã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´» - é—²æš‡çš„è¶£é—» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¶ç„¶ä¹è¶£ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸‹ä½¿ç”¨gccç”ŸæˆåŠ¨æ€åº“.soå’Œè°ƒç”¨ï¼ˆå›¾æ–‡å¹¶èŒ‚ï¼Œå‘å·²è¸©å®Œï¼‰</title>
      <link href="/posts/7f5979a7/"/>
      <url>/posts/7f5979a7/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€ ç»§ <a href="https://blog.csdn.net/qq_33154343/article/details/104692241">ä¸Šä¸€ç¯‡</a>ã€‚æœ¬ç¯‡å°±ç»§ç»­å®è·µè¸©å‘ï¼Œå®ç°åœ¨Linuxä¸Šé¢ï¼Œä½¿ç”¨gccç¼–è¯‘åŠ¨æ€åº“.soï¼Œæ–‡ä»¶ï¼Œä¸”è°ƒç”¨åŠ¨æ€åº“ã€‚æ­¤å¤„ä¾‹å­å®é™…ï¼šä½¿ç”¨g++8.3.0åœ¨uos20(Linux)å¹³å°ä¸‹å®Œæˆè¿™ä¸ªçŸ¥è¯†ç‚¹çš„å®è·µæ•™ç¨‹ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š"></a>ç¼–ç¨‹ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>UOS20 (å³deepin20)</code> ğŸ“ <code>gcc/g++ 8.3.0</code> </p><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14.6 (18G103)</code> ğŸ“ <code>gcc/g++ 9.2.0</code> </p><br><h3 id="åŠ¨æ€åº“æ¦‚å¿µï¼š"><a href="#åŠ¨æ€åº“æ¦‚å¿µï¼š" class="headerlink" title="åŠ¨æ€åº“æ¦‚å¿µï¼š"></a>åŠ¨æ€åº“æ¦‚å¿µï¼š</h3><p><strong>åŠ¨æ€åº“</strong> åœ¨ç¨‹åºç¼–è¯‘æ—¶å¹¶ä¸ä¼šè¢«è¿æ¥åˆ°ç›®æ ‡ä»£ç ä¸­ï¼Œè€Œæ˜¯åœ¨<strong>ç¨‹åºè¿è¡Œæ˜¯æ‰è¢«è½½å…¥ï¼Œå› æ­¤åœ¨ç¨‹åºè¿è¡Œæ—¶è¿˜éœ€è¦åŠ¨æ€åº“å­˜åœ¨</strong> ã€‚åŠ¨æ€åº“çš„åç¼€ä¸€èˆ¬æ˜¯ <code>.so</code>ä½œä¸ºåç¼€ã€‚</p><p><strong>åº“ï¼š</strong> äºŒè¿›åˆ¶æ–‡ä»¶ï¼›æ˜¯åŠ å¯†ä¹‹åçš„.c&#x2F;.cppçš„æ–‡ä»¶</p><p><strong>åŠ¨æ€åº“ï¼š</strong>  <code>.dll æˆ– .so</code></p><br><h3 id="å‰æœŸé“ºå«ï¼š"><a href="#å‰æœŸé“ºå«ï¼š" class="headerlink" title="å‰æœŸé“ºå«ï¼š"></a>å‰æœŸé“ºå«ï¼š</h3><ul><li><strong>é‡è¦æé†’ï¼š</strong></li></ul><p><font color=#FF0000  size=3 face="å¹¼åœ†"><strong>æœ¬æ¬¡è¿è¡Œç¯å¢ƒæ˜¯åœ¨uos20ï¼ˆLinuxï¼‰ç³»ç»Ÿä¸Šé¢è·‘æˆåŠŸçš„ï¼Œ</strong></font> <font color=#FF0000  size=4 face="å¹¼åœ†">  åœ¨è¿è¡Œä¹‹å‰ï¼Œæ·»åŠ åŠ¨æ€åº“çš„ï¼ˆç»å¯¹ï¼‰è·¯å¾„æ—¶å€™ï¼Œéœ€è¦æ‰§è¡Œ <code>export LD_LIBRARY_PATH=åŠ¨æ€åº“çš„ç»å¯¹è·¯å¾„:$LD_LIBRARY_PATH</code> </font></p><p>â€‹</p><p><font color=#FF0000  size=4 face="å¹¼åœ†">è‹¥æ˜¯åœ¨MacOS10.14ä¸Šé¢è·‘æˆåŠŸï¼ˆå·²ç»æµ‹è¯•æˆåŠŸï¼‰ï¼Œåœ¨è¿è¡Œä¹‹å‰ï¼Œæ·»åŠ åŠ¨æ€åº“çš„ï¼ˆç»å¯¹ï¼‰è·¯å¾„æ—¶å€™ï¼Œéœ€è¦æ‰§è¡Œ <code>export DYLD_LIBRARY_PATH=åŠ¨æ€åº“çš„ç»å¯¹è·¯å¾„:$DYLD_LIBRARY_PATH</code> </font></p><p><font color=#0000FF size=4 face="å¹¼åœ†">è®¾ç½®ç¯å¢ƒå˜é‡çš„æ—¶å€™ï¼šLinux çš„ <code>LD_LIBRARY_PATH</code> å¯¹åº”çš„å°±æ˜¯ Mac çš„ <code>DYLD_LIBRARY_PATH</code> ã€‚ï¼ˆåŠ¨æ€é“¾æ¥å™¨ä¼šæŸ¥æ‰¾ï¼‰ã€‚</font></p><p>ä¸‹é¢æ¯ä¸ªæ–‡ä»¶é‡Œé¢å†™çš„ä»£ç å¦‚ä¸‹ï¼š<strong>æ³¨æ„æ­¤å¤„ï¼Œå…¶ä¸­æ‰€æœ‰çš„.cppæ–‡ä»¶éƒ½æ²¡æœ‰åŒ…å«ExHeader.hæˆ–è€…å…¶ä»–çš„.hå¤´æ–‡ä»¶</strong>ï¼Œ æ˜¯ä¸ºäº†éªŒè¯ä¸€ä¸ªçŒœæƒ³ï¼Œ.cppç”Ÿæˆçš„.oæ–‡ä»¶ï¼Œåœ¨åˆ°.oç”Ÿæˆçš„.soæ–‡ä»¶ï¼Œæ˜¯å•ç‹¬çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚åªåœ¨æœ€åç¼–è¯‘å’Œé“¾æ¥main.cppæ–‡ä»¶æ—¶å€™ï¼Œæ‰ä¼šåŒ…å«è¿™ä¸ªExHeader.hæ–‡ä»¶ã€‚é‡æœ€åç»“æœæ¥çœ‹ï¼Œè¿™ä¸ªç»“æœæ˜¯âœ…çš„ã€‚ </p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/img/2020/81soxRT22.png" width="100%"/ loading="lazy"><p> åˆ›å»ºçš„å‡ ä¸ªæ–‡ä»¶ç›®å½•ç»“æ„å¦‚å›¾ï¼š</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/img/2020/mark_Snip20200307_181130.png" width="35%"/ loading="lazy"><br><h3 id="å°†-cppæ–‡ä»¶ç”Ÿæˆ-oæ–‡ä»¶ï¼š"><a href="#å°†-cppæ–‡ä»¶ç”Ÿæˆ-oæ–‡ä»¶ï¼š" class="headerlink" title="å°†.cppæ–‡ä»¶ç”Ÿæˆ.oæ–‡ä»¶ï¼š"></a>å°†.cppæ–‡ä»¶ç”Ÿæˆ.oæ–‡ä»¶ï¼š</h3><ul><li><p>è¿è¡Œå‘½ä»¤ <code>g++-8 -c ExAdd.cpp ExDiv.cpp ExMul.cpp ExSub.cpp -fpic</code>ï¼Œå°†é™¤äº†main.cppä¹‹å¤–çš„æ‰€æœ‰.cppæ–‡ä»¶ï¼Œå…¨éƒ¨åˆ¶ä½œä¸ºäºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#ç”¨æ³•ï¼šä½¿ç”¨ gcc åŠ å‚æ•° -fpic(æˆ– FPIC)åˆ¶ä½œ.oæ–‡ä»¶</span>g++-8 <span class="token parameter variable">-c</span> ExAdd.cpp ExDiv.cpp ExMul.cpp ExSub.cpp <span class="token parameter variable">-fpic</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ul><br><h3 id="å°†-oæ–‡ä»¶å¤§åŒ…ä¸º-soæ–‡ä»¶ï¼š"><a href="#å°†-oæ–‡ä»¶å¤§åŒ…ä¸º-soæ–‡ä»¶ï¼š" class="headerlink" title="å°†.oæ–‡ä»¶å¤§åŒ…ä¸º.soæ–‡ä»¶ï¼š"></a>å°†.oæ–‡ä»¶å¤§åŒ…ä¸º.soæ–‡ä»¶ï¼š</h3><ul><li><p>æ‰§è¡Œå‘½ä»¤ <code>g++-8 -shared ExAdd.o ExDiv.o ExMul.o ExSub.o -o libxxx.so</code> å°†ä¸Šé¢ç”Ÿæˆçš„æ‰€æœ‰.oæ–‡ä»¶ï¼Œæ‰“åŒ…ä¸ºä¸€ä¸ªåŠ¨æ€åº“.soæ–‡ä»¶</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#ç”¨æ³•ï¼šä½¿ç”¨ gcc åŠ å‚æ•° -shared,å°†.oæ‰“åŒ…ä¸º.soæ–‡ä»¶</span>g++-8 <span class="token parameter variable">-shared</span> ExAdd.o ExDiv.o ExMul.o ExSub.o <span class="token parameter variable">-o</span> libxxx.so<span class="token function">mv</span> *.so ./lib       //å°†.soæ–‡ä»¶æ”¾å…¥libæ–‡ä»¶å¤¹<span class="token function">mv</span> *.o ./lib        //å°†.oæ–‡ä»¶æ”¾å…¥libæ–‡ä»¶å¤¹<span class="token function">mv</span> *.h ./include    //å°†.hæ–‡ä»¶æ”¾å…¥includeæ–‡ä»¶å¤¹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><p> æ­¤æ—¶è¯¥æ–‡ä»¶çš„ç»“æ„å¦‚ä¸‹ï¼š</p>  <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/img/2020/20200307181518.png" width="35%"/ loading="lazy"><br><h3 id="è°ƒç”¨-soæ–‡ä»¶ï¼š"><a href="#è°ƒç”¨-soæ–‡ä»¶ï¼š" class="headerlink" title="è°ƒç”¨.soæ–‡ä»¶ï¼š"></a>è°ƒç”¨.soæ–‡ä»¶ï¼š</h3><ul><li><p>æ‰§è¡Œå‘½ä»¤ <code>g++-8 main.cpp -I ./include -L ./lib -lxxx -o mainApp</code> ï¼Œä½¿ç”¨gccå°†main.cppè¿›è¡Œç¼–è¯‘é“¾æ¥ï¼Œå…¶ä¸­éœ€è¦çš„å¤´æ–‡ä»¶åœ¨includeæ–‡ä»¶å¤¹é‡Œé¢æ‰¾ï¼Œéœ€è¦çš„åŠ¨æ€é“¾æ¥åº“æ–‡ä»¶åœ¨libæ–‡ä»¶å¤¹é‡Œé¢æ‰¾ï¼Œè°ƒç”¨çš„åŠ¨æ€åº“çš„åº“åå«xxxï¼Œæœ€åè¾“å‡ºä¸€ä¸ªåä¸ºmainAppçš„å¯æ‰§è¡Œç¨‹åº</p><ul><li><font color=#D0087E size=4 face="å¹¼åœ†">æ³¨æ„ï¼Œæ‰€è¦ç”Ÿæˆçš„.aæ–‡ä»¶çš„åå­—å‰ä¸‰ä½å¿…é¡»æ˜¯libï¼Œå¦åˆ™åœ¨é“¾æ¥çš„æ—¶å€™ï¼Œå°±å¯èƒ½å¯¼è‡´æ‰¾ä¸åˆ°è¿™ä¸ªåº“</font> </li><li><strong>å‘½ä»¤è§„åˆ™ï¼š</strong> <font color=#FF0000  size=4 face="å¹¼åœ†">lib</font>xxx<font color=#FF0000  size=4 face="å¹¼åœ†">.a</font> ï¼›<font color=#D0087E size=4 face="å¹¼åœ†"><strong>çº¢è‰²éƒ¨åˆ†ä¸ºå›ºå®šçš„æ ¼å¼ï¼Œä¸­é—´çš„xxxæ‰æ˜¯åº“å</strong></font></li><li><font color=#D0087E size=4 face="å¹¼åœ†">-l ä¸ºè°ƒç”¨çš„åº“çš„åç§°(-l åé¢æ²¡æœ‰ç©ºæ ¼ï¼Œç›´æ¥åŠ åº“å)</font></li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#-I ä¸ºæŒ‡å®šçš„åº“çš„å¤´æ–‡ä»¶çš„è·¯å¾„</span><span class="token comment">#-L ä¸ºæŒ‡å®šçš„åº“çš„äºŒè¿›åˆ¶æ–‡ä»¶æ–‡ä»¶</span><span class="token comment">#-l ä¸ºè°ƒç”¨çš„åº“çš„åç§°(-l åé¢æ²¡æœ‰ç©ºæ ¼ï¼Œç›´æ¥åŠ åº“å)</span><span class="token comment">#-o è¾“å‡ºæ–‡ä»¶ï¼Œç”Ÿæˆçš„å¯æ‰§è¡Œç¨‹åºçš„åç§°</span>g++-8 main.cpp <span class="token parameter variable">-I</span> ./include <span class="token parameter variable">-L</span> ./lib <span class="token parameter variable">-lxxx</span> <span class="token parameter variable">-o</span> mainApp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><p> æ­¤æ—¶æ–‡ä»¶å¤¹çš„ç»“æ„å¦‚ä¸‹ï¼š</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/img/2020/20200307181554.png" width="35%"/ loading="lazy"><br><h3 id="è®¾ç½®-soçš„è¿è¡Œæ—¶çš„PATHï¼š"><a href="#è®¾ç½®-soçš„è¿è¡Œæ—¶çš„PATHï¼š" class="headerlink" title="è®¾ç½®.soçš„è¿è¡Œæ—¶çš„PATHï¼š"></a>è®¾ç½®.soçš„è¿è¡Œæ—¶çš„PATHï¼š</h3><ul><li><p>æ‰§è¡Œå‘½ä»¤ <code>export LD_LIBRARY_PATH=åº“çš„ç»å¯¹è·¯å¾„:$LD_LIBRARY_PATH</code> æ¥è®¾ç½®ä¸´æ—¶çš„ç¯å¢ƒå˜é‡ï¼›å‘ŠçŸ¥ç³»ç»Ÿè¿™é‡Œæœ‰ä¸€ä¸ªç»å¯¹è·¯å¾„çš„åŠ¨æ€åº“è·¯å¾„ï¼Œ<strong>åŠ¨æ€åº“ä¸èƒ½å¤Ÿä½¿ç”¨ç›¸å¯¹è·¯å¾„ã€‚</strong> è‹¥æ˜¯è®¾ç½®ç»å¯¹è·¯å¾„çš„ç¯å¢ƒå˜é‡ï¼Œåˆ™ç¨‹åºä¸€å®šä¼šè·‘å¤±è´¥ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">export</span> <span class="token assign-left variable">LD_LIBRARY_PATH</span><span class="token operator">=</span>/home/muli/Desktop/04_02_so/lib:<span class="token variable">$LD_LIBRARY_PATH</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul><h4 id="è§£å†³-Linux-åŠ è½½åŠ¨æ€åº“-so-æ–‡ä»¶å¤±è´¥çš„æ–¹æ³•ï¼š"><a href="#è§£å†³-Linux-åŠ è½½åŠ¨æ€åº“-so-æ–‡ä»¶å¤±è´¥çš„æ–¹æ³•ï¼š" class="headerlink" title="è§£å†³ Linux åŠ è½½åŠ¨æ€åº“ .so æ–‡ä»¶å¤±è´¥çš„æ–¹æ³•ï¼š"></a>è§£å†³ Linux åŠ è½½åŠ¨æ€åº“ .so æ–‡ä»¶å¤±è´¥çš„æ–¹æ³•ï¼š</h4><ul><li><p>è‹¥æ˜¯<strong>è¿è¡Œä¹‹åï¼Œè‹¥é¦–æ¬¡æœªåšè®¾ç½®ï¼Œåˆ™å°±ä¼šå‘ç°è¿æ¬¡å¤±è´¥ï¼ï¼ï¼ï¼Œä¼šæŠ¥é”™è¯¯æç¤ºï¼Œè¯´æ‰¾ä¸åˆ°libxxx.so;</strong> </p><p><strong>åŸå› æ˜¯ï¼š</strong> <font color=#70AD47 size=4 face="å¹¼åœ†"><strong>å› ä¸ºlinux çš„å·¥ä½œæœºåˆ¶ï¼Œå…¶åŠ è½½åŠ¨æ€åº“.soçš„é¡ºåºã€‚è¦çŸ¥é“æ‰€ä¾èµ–åº“çš„.so çš„åç§°ï¼Œè¿˜è¦çŸ¥é“å…¶ç»å¯¹è·¯å¾„ã€‚</strong> </font></p></li></ul> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/img/2020/20200307181652.png" width="60%"/ loading="lazy">  <br><ul><li><p><strong>è§£å†³ Linux åŠ è½½åŠ¨æ€åº“ .so æ–‡ä»¶å¤±è´¥çš„æ–¹æ³•ï¼š</strong></p><p>æ€è·¯ï¼šæ·»åŠ åŠ¨æ€åº“çš„ï¼ˆç»å¯¹ï¼‰è·¯å¾„ã€‚</p><ul><li><p><font color=#0000FF size=4 face="å¹¼åœ†"><strong>ã€Œæ–¹æ³•1ã€æ‹·è´è‡ªå·±åˆ¶ä½œçš„å…±äº«åº“ï¼š</strong> </font></p><ul><li>æ‹·è´è‡ªå·±åˆ¶ä½œçš„å…±äº«åº“ .so æ–‡ä»¶åˆ° <code>/lib</code> æˆ– <code>/usr/lib</code>[ä¸æ¨èï¼Œå®¹æ˜“é‡åæ›¿æ¢è®©ç³»ç»Ÿå´©æºƒ]</li></ul></li><li><p><font color=#0000FF size=4 face="å¹¼åœ†"><strong>ã€Œæ–¹æ³•2ã€ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼š</strong> </font></p><ul><li>ä¸´æ—¶è®¾ç½®ï¼š<code>export LD_LIBRARY_PATH=åŠ¨æ€åº“çš„ç»å¯¹è·¯å¾„:$LD_LIBRARY_PATH</code>(åªæ·»åŠ æ–°å€¼ï¼Œ<em>ç­‰å·ä¸¤è¾¹ä¸èƒ½ç©ºæ ¼ï¼Œè·¯å¾„ä¹Ÿä¸éœ€è¦åŒå¼•å·</em> )</li><li>æ°¸ä¹…è®¾ç½®ï¼š<ul><li>ã€Œç”¨æˆ·çº§åˆ«ã€å°†<code>export LD_LIBRARY_PAT = åŠ¨æ€åº“çš„åŠ è½½è·¯å¾„</code>æ·»åŠ åˆ°<code>~/.zshrc</code>æ–‡ä»¶ï¼›ç„¶åé‡æ–°åŠ è½½ï¼Œæ–¹æ³•ä¸ºé‡å¯ç»ˆç«¯æˆ–è€… è¿è¡Œ <code>sources ./zshrc</code>; å³å¯ç”Ÿæ•ˆ.</li><li>ã€Œç³»ç»Ÿçº§åˆ«ã€å°†ç»å¯¹è·¯å¾„åŠ å…¥åˆ°<code>/etc/profile</code>æ–‡ä»¶ï¼Œç„¶åç”¨å‘½ä»¤<code>source /etc/profile </code>é‡æ–°åŠ è½½è¯¥æ–‡ä»¶.</li></ul></li></ul></li><li><p><font color=#0000FF size=4 face="å¹¼åœ†"><strong>ã€Œæ–¹æ³•3ã€ä½¿ç”¨æ–‡ä»¶åˆ—è¡¨ï¼š</strong> </font></p><ul><li>å°†åŠ¨æ€åº“çš„ç»å¯¹è·¯å¾„æ·»åŠ åˆ°<code>/etc/ld.so.conf</code>æ–‡ä»¶ä¸­ï¼›ç„¶åæ‰§è¡Œ <code>sudo ldconfig -v</code></li></ul></li><li><p><font color=#0000FF size=4 face="å¹¼åœ†"><strong>ã€Œæ–¹æ³•4ã€ä½¿ç”¨å‡½æ•°è°ƒåŠ¨æ€åº“ï¼š</strong> </font></p><ul><li>å‡½æ•°åï¼š<code>dlopen()</code>  <code>dlclose()</code>  <code>dlsym()</code></li></ul></li></ul><br><p><strong>è¡¥å……ä¸€ä¸ªå°çš„çŸ¥è¯†ç‚¹ï¼š</strong></p><ul><li><code>file appTest(å¯æ‰§è¡Œç¨‹åº)</code>: æŸ¥çœ‹æ–‡ä»¶çš„ç±»å‹ï¼Œå¯ä»¥çœ‹åˆ°ä¸º elf ç±»å‹</li><li>ldd appTest(å¯æ‰§è¡Œç¨‹åº)<code> æŸ¥çœ‹ appTest çš„æ‰€éœ€è¦çš„åŠ è½½åŠ¨æ€åº“çš„æ–‡ä»¶ï¼Œä»¥åŠæ˜¾ç¤ºè¿™äº›æ–‡ä»¶æ˜¯å¦èƒ½æ‰¾åˆ°</code> </li><li><code>echo $PATH</code> each æ˜¾ç¤ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿™é‡Œå– PATH çš„å€¼</li></ul></li></ul><br><h3 id="è¿è¡Œå¯æ‰§è¡Œç¨‹åºï¼š"><a href="#è¿è¡Œå¯æ‰§è¡Œç¨‹åºï¼š" class="headerlink" title="è¿è¡Œå¯æ‰§è¡Œç¨‹åºï¼š"></a>è¿è¡Œå¯æ‰§è¡Œç¨‹åºï¼š</h3><ul><li><p>æ‰§è¡Œå¯æ‰§è¡Œç¨‹åº <code>./mainApp</code> ï¼Œå¯ä»¥çœ‹åˆ°ç¨‹åºè·‘èµ·æ¥çš„æˆåŠŸç»“æœã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">./mainApp<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul><p> æ­¤æ—¶è¿è¡Œæ•ˆæœä¸ºï¼ˆuos20[Linux]ä¸‹ï¼‰ï¼š</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/img/2020/mark_Snip20200307_182031.png" width="80%"/ loading="lazy"><p> æ­¤æ—¶è¿è¡Œæ•ˆæœä¸ºï¼ˆMacOS10.14 [Uinx]ä¸‹ï¼‰ï¼š</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/img/2020/20200307183004.png" width="90%"/ loading="lazy"><br><h3 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h3><ul><li><a href="https://github.com/xmuli/linuxExample/tree/master/04_make_so_a">04_make_so_a</a></li><li>04_02_soï¼ŒLinuxç‰ˆï¼šuos20 ä¾‹å­</li><li>04_03_soï¼ŒUinxç‰ˆï¼šMacOS10.14 ä¾‹</li></ul><br><h3 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h3><p>çœ‹èµ·æ¥å¾ˆç®€å•ï¼Œ<strong>æ®Šä¸çŸ¥ï¼Œçº¸ä¸Šå­¦æ¥ç»ˆè§‰æµ…ï¼Œ</strong> è¿˜æ˜¯äº²è‡ªå®ç°ä¸€ç•ªæ‰ä»¥è®°å¿†æ·±åˆ»ã€‚è‹¥æ˜¯æˆåŠŸçš„ç™½å«–åˆ°äº†è¿™ç¯‡æ–‡ç« ï¼Œå¯ä»¥ç‚¹ä¸ªèµï¼Œç»™æˆ‘ç•™ä¸ªè¨€ï¼Œé¼“åŠ±ä¸€ä¸‹ã€‚ä½ çš„åŠ æ²¹ï¼Œæˆ‘ä¼šæŒç»­ä¸æ–­çš„å‡ºæ–°çš„æ–‡ç« ï¼Œé‚£å•¥ï¼Œç™½å«–ä¸€æ—¶çˆ½ï¼Œä¸€ç›´ç™½å«–ä¸€ç›´     ã€‚ğŸ¥º</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸‹ä½¿ç”¨gccç”Ÿæˆé™æ€åº“.aå’Œè°ƒç”¨ï¼ˆå›¾æ–‡å¹¶èŒ‚ï¼Œå‘å·²è¸©å®Œï¼‰</title>
      <link href="/posts/1661e315/"/>
      <url>/posts/1661e315/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong> ã€€åœ¨Linuxç³»ç»Ÿä¸‹ï¼Œä½¿ç”¨gccæ¥ç¼–è¯‘ï¼Œç”Ÿæˆé™æ€åº“ï¼Œä¸”è°ƒç”¨é™æ€åº“.aæ–‡ä»¶ï¼Œç”Ÿæˆå¯æ‰§è¡Œç¨‹åºã€‚æ­¤å¤„ä¾‹å­å®é™…ï¼šä½¿ç”¨g++9.2åœ¨macå¹³å°ä¸‹å®Œæˆè¿™ä¸ªçŸ¥è¯†ç‚¹çš„æ•™ç¨‹ã€‚åœ¨ <a href="https://blog.csdn.net/qq_33154343/article/details/104692370">ä¸‹ä¸€ç¯‡</a> è¸©å‘ç”ŸæˆåŠ¨æ€åº“çš„.soåˆ¶ä½œå’Œä½¿ç”¨ã€‚</p><span id="more"></span><hr><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š"></a>ç¼–ç¨‹ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14.6 (18G103)</code> ğŸ“ <code>gcc/g++ 9.2.0</code> </p><br><h3 id="é™æ€åº“æ¦‚å¿µï¼š"><a href="#é™æ€åº“æ¦‚å¿µï¼š" class="headerlink" title="é™æ€åº“æ¦‚å¿µï¼š"></a>é™æ€åº“æ¦‚å¿µï¼š</h3><p><strong>é™æ€åº“</strong> æ˜¯åœ¨å¯æ‰§è¡Œç¨‹åºè¿è¡Œä¹‹å‰å°±å·²ç»åŠ å…¥åˆ°æ‰§è¡Œä»£ç ä¸­ï¼Œæˆä¸ºæ‰§è¡Œç¨‹åºçš„ä¸€éƒ¨åˆ†ï¼›é™æ€åº“çš„åç¼€ä¸€èˆ¬æ˜¯ <code>.a</code>ä½œä¸ºåç¼€ã€‚</p><p><strong>åº“ï¼š</strong> äºŒè¿›åˆ¶æ–‡ä»¶ï¼›æ˜¯åŠ å¯†ä¹‹åçš„.c&#x2F;.cppçš„æ–‡ä»¶</p><p><strong>é™æ€åº“ï¼š</strong> <code>.lib æˆ– .a</code></p><br><h3 id="å‰æœŸé“ºå«ï¼š"><a href="#å‰æœŸé“ºå«ï¼š" class="headerlink" title="å‰æœŸé“ºå«ï¼š"></a>å‰æœŸé“ºå«ï¼š</h3><p>åˆ›å»ºå¦‚ä¸‹ä¾‹å­å‡ ä¸ªæ–‡ä»¶ï¼šæ³¨æ„æ˜¯.cppæ–‡ä»¶ï¼Œé‡Œé¢å†™çš„ä¹Ÿæ˜¯c++çš„è¯­æ³•ã€‚</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/img/2020/20200308003020.png" width="35%"/ loading="lazy"><br><h3 id="å°†-cppç”Ÿæˆ-oï¼š"><a href="#å°†-cppç”Ÿæˆ-oï¼š" class="headerlink" title="å°†.cppç”Ÿæˆ.oï¼š"></a>å°†.cppç”Ÿæˆ.oï¼š</h3><ul><li><p>æ‰§è¡Œå‘½ä»¤ <code>g++-9 -c *.cpp</code> å°†æ‰€æœ‰.cpp æ–‡ä»¶éƒ½ç¼–è¯‘ä¸é“¾æ¥ç”Ÿæˆå¯¹åº”çš„.oï¼›ä¸”å°†.oæ–‡ä»¶éƒ½å­˜æ”¾äºlibæ–‡ä»¶å¤¹ä¸‹ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">g++-9 <span class="token parameter variable">-c</span> *.cpp  //æ³¨æ„ <span class="token parameter variable">-c</span> æ˜¯å°å†™ï¼Œéå¤§å†™<span class="token function">mv</span> *.o ./lib <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><br></li></ul><h3 id="å°†-oç”Ÿæˆ-aï¼š"><a href="#å°†-oç”Ÿæˆ-aï¼š" class="headerlink" title="å°†.oç”Ÿæˆ.aï¼š"></a>å°†.oç”Ÿæˆ.aï¼š</h3><ul><li><p>æ‰§è¡Œå‘½ä»¤ <code>ar cr libxxx.a ./lib/*.o</code> å°†æ‰€æœ‰çš„.oæ–‡ä»¶å…¨éƒ¨å½’æ¡£ï¼Œç„¶åæ›¿æ¢åˆ›å»ºä¸ºä¸€ä¸ªé™æ€æ–‡ä»¶.aï¼›<font color=#D0087E size=4 face="å¹¼åœ†">ar æ˜¯GNU å½’æ¡£å·¥å…·ï¼Œrcs è¡¨ç¤ºï¼ˆreplace and createï¼‰</font> </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#ç”¨æ³•ï¼šar rcs é™æ€åº“çš„åå­— åŸææ–™  </span><span class="token comment">#ar -archive</span>ar cr libxxx.a ./lib/*.o  //ç”Ÿæˆé™æ€åº“æ–‡ä»¶.a<span class="token function">mv</span> *.h ./include          //å°†æ‰€æœ‰çš„.hæ–‡ä»¶æ”¾åœ¨includeæ–‡ä»¶å¤¹ä¸‹<span class="token function">mv</span> libxxx.a ./lib         //å°†.aæ–‡ä»¶ä¹Ÿæ”¾åœ¨libæ–‡ä»¶å¤¹ä¸‹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ­¤æ—¶çš„å·¥ç¨‹ç»“æ„å¦‚ä¸‹:</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/img/2020/20200308003054.png" width="35%"/ loading="lazy"><br></li></ul><h3 id="é“¾æ¥åº“ï¼Œè°ƒç”¨é™æ€å‡½æ•°-aï¼š"><a href="#é“¾æ¥åº“ï¼Œè°ƒç”¨é™æ€å‡½æ•°-aï¼š" class="headerlink" title="é“¾æ¥åº“ï¼Œè°ƒç”¨é™æ€å‡½æ•°.aï¼š"></a>é“¾æ¥åº“ï¼Œè°ƒç”¨é™æ€å‡½æ•°.aï¼š</h3><ul><li><p>æ‰§è¡Œå‘½ä»¤ <code>g++-9 -I ./include -L ./lib -lxxx -o mainApp</code> è°ƒç”¨ç”Ÿæˆçš„.aæ–‡ä»¶ï¼Œå¹¶ä¸”é“¾æ¥ï¼Œç”Ÿæˆå¯æ‰§è¡Œç¨‹åºmainApp</p><ul><li><font color=#D0087E size=4 face="å¹¼åœ†">æ³¨æ„ï¼Œæ‰€è¦ç”Ÿæˆçš„.aæ–‡ä»¶çš„åå­—å‰ä¸‰ä½å¿…é¡»æ˜¯libï¼Œå¦åˆ™åœ¨é“¾æ¥çš„æ—¶å€™ï¼Œå°±å¯èƒ½å¯¼è‡´æ‰¾ä¸åˆ°è¿™ä¸ªåº“</font> </li><li><strong>å‘½ä»¤è§„åˆ™ï¼š</strong> <font color=#FF0000  size=4 face="å¹¼åœ†">lib</font>xxx<font color=#FF0000  size=4 face="å¹¼åœ†">.a</font> ï¼›<font color=#D0087E size=4 face="å¹¼åœ†"><strong>çº¢è‰²éƒ¨åˆ†ä¸ºå›ºå®šçš„æ ¼å¼ï¼Œä¸­é—´çš„xxxæ‰æ˜¯åº“å</strong></font></li><li><font color=#D0087E size=4 face="å¹¼åœ†">-l ä¸ºè°ƒç”¨çš„åº“çš„åç§°(-l åé¢æ²¡æœ‰ç©ºæ ¼ï¼Œç›´æ¥åŠ åº“å)</font></li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#-I ä¸ºæŒ‡å®šçš„åº“çš„å¤´æ–‡ä»¶çš„è·¯å¾„</span><span class="token comment">#-L ä¸ºæŒ‡å®šçš„åº“çš„äºŒè¿›åˆ¶æ–‡ä»¶æ–‡ä»¶</span><span class="token comment">#-l ä¸ºè°ƒç”¨çš„åº“çš„åç§°(-l åé¢æ²¡æœ‰ç©ºæ ¼ï¼Œç›´æ¥åŠ åº“å)</span><span class="token comment">#-o è¾“å‡ºæ–‡ä»¶ï¼Œç”Ÿæˆçš„å¯æ‰§è¡Œç¨‹åºçš„åç§°</span>g++-9 <span class="token parameter variable">-I</span> ./include <span class="token parameter variable">-L</span> ./lib <span class="token parameter variable">-lxxx</span> <span class="token parameter variable">-o</span> mainApp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>æ­¤æ—¶å·¥ç¨‹çš„ç»“æ„ï¼š</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/img/2020/20200308003118.png" width="35%"/ loading="lazy"></li><li><p>è¿è¡ŒæˆåŠŸå¯ä»¥æŸ¥çœ‹.aæ–‡ä»¶é‡Œé¢çš„å†…å®¹ï¼Œæœ¬è´¨æ˜¯æŠŠå…¶ä½™çš„.oæ–‡ä»¶å…¨éƒ¨å¡åˆ°äº†.aé‡Œé¢</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#æˆåŠŸä¹‹åï¼Œå¯ä»¥æŸ¥çœ‹.aé‡Œé¢çš„åŒ…å«å…·ä½“çš„æ‰€æœ‰çš„.oæ–‡ä»¶ </span>nm libmytest.a<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/img/2020/20200308003143.png" width="50%"/ loading="lazy"></li></ul><br><h3 id="è¿è¡Œå¯æ‰§è¡Œç¨‹åºæˆåŠŸï¼š"><a href="#è¿è¡Œå¯æ‰§è¡Œç¨‹åºæˆåŠŸï¼š" class="headerlink" title="è¿è¡Œå¯æ‰§è¡Œç¨‹åºæˆåŠŸï¼š"></a>è¿è¡Œå¯æ‰§è¡Œç¨‹åºæˆåŠŸï¼š</h3><p>è¿è¡Œå‘½ä»¤ <code>./mainApp</code>ï¼Œæ‰§è¡Œå¯æ‰§è¡Œç¨‹åºï¼Œèƒ½å¤Ÿçœ‹åˆ°ç»“æœè¾“å‡ºï¼Œè¡¨ç¤ºæˆåŠŸã€‚</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/img/2020/20200308003233.png" width="80%"/ loading="lazy"><br><h3 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h3><p><a href="https://github.com/xmuli/linuxExample/tree/master/04_make_so_a">04_make_so_a</a></p><br><h3 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h3><p>çœ‹èµ·æ¥å¾ˆç®€å•ï¼Œ<strong>æ®Šä¸çŸ¥ï¼Œçº¸ä¸Šå­¦æ¥ç»ˆè§‰æµ…ï¼Œ</strong> è¿˜æ˜¯äº²è‡ªå®ç°ä¸€ç•ªæ‰ä»¥è®°å¿†æ·±åˆ»ã€‚è‹¥æ˜¯æˆåŠŸçš„ç™½å«–åˆ°äº†è¿™ç¯‡æ–‡ç« ï¼Œå¯ä»¥<strong>ç‚¹ä¸ªèµï¼Œ</strong> ç»™æˆ‘ç•™ä¸ªè¨€ï¼Œé¼“åŠ±ä¸€ä¸‹ã€‚ä½ çš„åŠ æ²¹ï¼Œæˆ‘ä»¬æŒç»­ä¸æ–­çš„å‡ºæ–°çš„æ–‡ç« ï¼Œé‚£å•¥ï¼Œç™½å«–ä¸€æ—¶çˆ½ï¼Œä¸€ç›´ç™½å«–ä¸€ç›´ ã€‚ğŸ¥º</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>gccå·¥ä½œæµç¨‹ï¼šé¢„å¤„ç†ï¼Œç¼–è¯‘ï¼Œæ±‡ç¼–ï¼Œé“¾æ¥</title>
      <link href="/posts/2fcf9322/"/>
      <url>/posts/2fcf9322/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€<font color=#D0087E size=4 face="å¹¼åœ†"><strong>åœ¨ uinx&#x2F;Linux ä¸‹ï¼Œä½¿ç”¨ gcc çš„å·¥ä½œæµç¨‹ï¼šé¢„å¤„ç†ï¼Œç¼–è¯‘ï¼Œæ±‡ç¼–ï¼Œé“¾æ¥ã€‚</strong></font> è¿™é‡Œå®é™…æµ‹è¯•ï¼Œä¸¾ä¾‹åˆ†æï¼šä½¿ç”¨ g++ï¼ˆç”¨ c++ï¼‰çš„ç¼–è¯‘ main.cpp ï¼Œæœ€ç»ˆå¾—åˆ°å¯æ‰§è¡Œç¨‹åºçš„è¿‡ç¨‹åˆ†æã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š"></a>ç¼–ç¨‹ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14.6 (18G103)</code> ğŸ“ <code>gcc/g++ 9.2.0</code> </p><br><h3 id="gccå·¥ä½œæµç¨‹ï¼š"><a href="#gccå·¥ä½œæµç¨‹ï¼š" class="headerlink" title="gccå·¥ä½œæµç¨‹ï¼š"></a>gccå·¥ä½œæµç¨‹ï¼š</h3><ul><li><p>é¢„å¤„ç†(<code>gcc -E</code>;  <strong>é¢„å¤„ç†å™¨cpp</strong>)  :<code>xxx.c --&gt; xxx.i</code>  (.i æ–‡ä»¶æœ¬è´¨è¿˜æ˜¯.c æ–‡ä»¶)</p><ul><li>å®æ›¿æ¢</li><li>å¤´æ–‡ä»¶å±•å¼€</li><li>æ³¨é‡Šå»æ‰</li></ul></li><li><p>ç¼–è¯‘ï¼ˆ<code>gcc -S</code>; <strong>ç¼–è¯‘å™¨ gcc</strong>ï¼‰: <code>xxx.i --&gt; xxx.s</code></p><ul><li>ç”Ÿæˆæ±‡ç¼–æ–‡ä»¶</li></ul></li><li><p>æ±‡ç¼–ï¼ˆ<code>gcc -c</code>ï¼› <strong>æ±‡ç¼–å™¨as</strong>ï¼‰: <code>xxx.s  --&gt;  xxx.o</code></p><ul><li>ç”ŸæˆäºŒè¿›åˆ¶æ–‡ä»¶</li></ul></li><li><p>é“¾æ¥ï¼ˆ<code>gcc</code>ï¼› <strong>é“¾æ¥å™¨ld</strong>ï¼‰</p><ul><li><code>xxx.o  --&gt;  xxxï¼ˆå¯æ‰§è¡Œï¼‰</code></li></ul></li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/mark_image-20200118120643285.png"/ loading="lazy"><br><h3 id="gccå¸¸ç”¨å‚æ•°ï¼š"><a href="#gccå¸¸ç”¨å‚æ•°ï¼š" class="headerlink" title="gccå¸¸ç”¨å‚æ•°ï¼š"></a>gccå¸¸ç”¨å‚æ•°ï¼š</h3><ul><li><code>-v/--versionï¼š</code> æŸ¥çœ‹ç‰ˆæœ¬</li><li><code>-Iï¼š</code> æŒ‡å®šåŒ…å«å¤´æ–‡ä»¶è·¯å¾„ï¼ˆæ¨èç›¸å¯¹è·¯å¾„ï¼‰</li><li><code>-cï¼š </code> æ±‡ç¼–æ–‡ä»¶ç”ŸæˆäºŒè¿›åˆ¶æ–‡ä»¶ </li><li><code>-oï¼š </code> æŒ‡å®šç”Ÿæˆæ–‡ä»¶çš„åå­—</li><li><code>-gï¼š</code> gccè°ƒè¯•æ—¶å€™ï¼Œæ·»åŠ çš„å‚æ•°</li><li><code>-Dï¼š </code> ç¼–è¯‘çš„æ—¶å€™ï¼Œç”Ÿæˆä¸€ä¸ªä½ æ‰€æŒ‡å®šçš„å®ï¼ˆåœºæ™¯ï¼šå¤šä½¿ç”¨åœ¨æµ‹è¯•ç¨‹åºä¸­ï¼‰</li><li><code>-Wallï¼š </code> gcc ç¼–è¯‘æ—¶å€™ï¼Œæ·»åŠ æ˜¾ç¤ºè­¦å‘Šâš ï¸ä¿¡æ¯</li><li><code>-Onï¼š</code> ä¼˜åŒ–ä»£ç ï¼Œn æ˜¯ä¼˜åŒ–çº§åˆ«ï¼š1ï¼Œ2ï¼Œ3ï¼ˆ3 å°±æ˜¯æœ€å¤§ï¼Œå¡«å†™ 100 ä¹Ÿæ˜¯ 3ï¼‰</li></ul><br><h3 id="ä¾‹å­éªŒè¯ï¼š"><a href="#ä¾‹å­éªŒè¯ï¼š" class="headerlink" title="ä¾‹å­éªŒè¯ï¼š"></a>ä¾‹å­éªŒè¯ï¼š</h3><ul><li><p><strong>åˆ›å»ºc++æºæ–‡ä»¶ï¼š</strong></p><p>åˆ›å»ºä¸€ä¸ª main.cpp çš„æºæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// insert code here...</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Hello, World!\n"</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><br><ul><li><p><strong>gcc é¢„å¤„ç†ï¼š</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">g++-9 <span class="token parameter variable">-E</span> main.cpp <span class="token parameter variable">-o</span> main.i <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p> åŸå§‹çš„ .cpp æ–‡ä»¶ï¼š</p></li></ul><p>â€‹       <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200304_142044.png" width="50%"/ loading="lazy"></p><ul><li><p><strong>gcc ç¼–è¯‘ï¼š</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">g++-9 <span class="token parameter variable">-S</span> main.i <span class="token parameter variable">-o</span> main.s<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p> å¤´æ–‡ä»¶å±•å¼€ï¼Œå®æ›¿æ¢ï¼Œå»æ‰æ³¨é‡Šä¹‹åçš„ .cpp æ–‡ä»¶ã€‚(.i æ–‡ä»¶æœ¬è´¨è¿˜æ˜¯ .cpp æ–‡ä»¶)</p></li></ul><p>â€‹     <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200304_142209.png" width="50%"/ loading="lazy"></p><ul><li><p><strong>gcc æ±‡ç¼–ï¼š</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">g++-9 <span class="token parameter variable">-c</span> main.s <span class="token parameter variable">-o</span> main.o  //-c æ˜¯å°å†™ï¼Œéå¤§å†™C<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç”Ÿæˆçš„æ±‡ç¼–æ–‡ä»¶ï¼š</p>   <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200304_142314.png" width="50%"/ loading="lazy"></li><li><p><strong>gcc é“¾æ¥ï¼š</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">g++-9 main.s <span class="token parameter variable">-o</span> main<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç”Ÿæˆçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆæ‰“å¼€ä¼šçœ‹åˆ°ä¹±ç ï¼‰ï¼š</p>   <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200304_142338.png" width="50%"/ loading="lazy"></li><li><p><strong>è¿è¡Œå¯æ‰§è¡Œç¨‹åºï¼š</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">./main<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç»ˆç«¯çœ‹åˆ°è¾“å‡ºç»“æœï¼šHello, World!</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200304_140529.png" width="60%"/ loading="lazy"></li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>gccå’Œg++çš„åŒºåˆ«ï¼Œç¼–è¯‘.cå’Œ.cppæ–‡ä»¶çš„åŒºåˆ«</title>
      <link href="/posts/61be1e74/"/>
      <url>/posts/61be1e74/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€åœ¨<a href="https://blog.csdn.net/qq_33154343/article/details/104639656">ä¸Šä¸€ç¯‡</a>ä¸­ï¼Œæœ€åä¸ºäº†æµ‹è¯• gcc 9.2.0 ç‰ˆæœ¬çš„å®‰è£…æ˜¯å¦æˆåŠŸã€‚å¯¹åˆ›å»ºçš„æµ‹è¯•æ–‡ä»¶ main<font color=#D0087E size=4 face="å¹¼åœ†">.cpp</font> æ–‡ä»¶ï¼Œæ‰§è¡Œ <code>gcc-9 main.cpp -o mainApp -lstdc++</code> å‘½ä»¤ï¼›è™½ç„¶æœ€åè¿è¡ŒæˆåŠŸäº†ï¼›ä½†æ˜¯æ˜¯å§‹ç»ˆæ˜¯æœ‰ä¸€ç‚¹å›°æƒ‘ï¼š</p><ul><li>è°ƒç”¨ gcc å’Œ gcc-9â—ï¸</li><li>èƒ½å¦è‡ªåŠ¨æ‰§è¡Œ gcc çš„æ—¶å€™ï¼Œå»æ‰ <code>-lstdc++</code>ï¼Œä½¿å¾—çœ‹èµ·æ¥æ¸…çˆ½èµ·æ¥ â‰ï¸</li></ul><p>æœ€åæŸ¥è¯¢ä¸€ä¸‹ã€‚å‘ç°å…¶ä¸­å¦æœ‰ä¸€ç•ªå¤©åœ°ï¼Œå·®ç‚¹å°±é”™è¿‡äº†ã€‚ <strong>æœ¬ç« ä¸»è¦è®²è§£ gcc å’Œ g++çš„åŒºåˆ«ï¼Œç¼–è¯‘.cå’Œ.cppæ–‡ä»¶çš„åŒºåˆ«</strong> â“</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š"></a>ç¼–ç¨‹ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14.6 (18G103)</code> ğŸ“ <code>gcc 9.2.0</code></p><br><h3 id="èƒŒæ™¯ï¼š"><a href="#èƒŒæ™¯ï¼š" class="headerlink" title="èƒŒæ™¯ï¼š"></a>èƒŒæ™¯ï¼š</h3><p>å› ä¸ºåšä¸»ä½¿ç”¨çš„æ˜¯ MacOS ç³»ç»Ÿï¼Œä¹Ÿå°±æ˜¯ Uinx ç³»ç»Ÿï¼Œå’Œ Linux è¿˜æ˜¯æœ‰ä¸€ç‚¹åŒºåˆ«çš„ã€‚</p><p>åœ¨ä¸Šé¢æ‰§è¡Œ <code>gcc-9 main.cpp -o mainApp -lstdc++</code> çš„å‘½ä»¤ä¸­ï¼Œ-lstdc++ è¡¨ç¤ºä¼šå»é“¾æ¥ STL åº“ã€‚æŸ¥è¯¢å¯çŸ¥ï¼Œæ˜¯ gcc å’Œ g++ å¯¹ .c .cpp æ–‡ä»¶çš„æ‰§è¡Œä¸¥æ ¼ç¨‹åº¦ä¸ä¸€æ ·é€ æˆçš„ï¼›ä¸”è¿˜æœ‰æ˜¯å¦ä¼šè‡ªåŠ¨é“¾æ¥ STL åº“çš„åŒºåˆ«é€ æˆã€‚</p><br><h3 id="MacOS-ä¸‹-gcc-å’Œ-clang-åŒºåˆ«ï¼š"><a href="#MacOS-ä¸‹-gcc-å’Œ-clang-åŒºåˆ«ï¼š" class="headerlink" title="MacOS ä¸‹ gcc å’Œ clang åŒºåˆ«ï¼š"></a>MacOS ä¸‹ gcc å’Œ clang åŒºåˆ«ï¼š</h3><p>Mac åœ¨æ˜¯è‡ªå¸¦ gcc å‘½ä»¤çš„ï¼ˆå®‰è£… xcode åï¼‰ã€‚ä½†è¿™å¹¶éè¯´çœŸçš„æœ‰ gcc ç¼–è¯‘å™¨ç¾¤ï¼Œåªæ˜¯å°†ç»ˆç«¯é‡Œé¢çš„å‘½ä»¤ gcc æ˜ å°„è°ƒç”¨ clang ç¼–è¯‘å™¨ã€‚åœ¨æ˜¨å¤©æˆ‘ä¸‹è½½äº†çœŸæ­£çš„ gcc9.2.0 ä¹‹åï¼Œè°ƒç”¨å®ƒï¼Œå°±å¿…é¡»çš„ä½¿ç”¨ gcc-9 è¿™ä¸ªå‘½ä»¤ã€‚</p><p><font color=#0000FF size=4 face="å¹¼åœ†"><strong>ä¸ºäº†åé¢çš„å­¦ä¹ çš„å®Œæ•´æ€§ï¼›åé¢åšæŒä½¿ç”¨ gcc 9.2.0 åœ¨ MacOS 10.14 ä¸‹è¿›è¡Œ Linux çš„ç›¸å…³å‘½ä»¤å­¦ä¹ ã€‚å¶å°”ä¹Ÿä¼šå°† uos20ï¼ˆDebain 8ï¼‰ ç³»ç»Ÿä½œä¸ºéªŒè¯ä¸€äº›å‘½ä»¤æˆ–è€…ä¹ æƒ¯çš„ä½¿ç”¨ã€‚</strong></font> </p><p><font color=#0000FF size=4 face="å¹¼åœ†"><strong>ä»¥åæ–‡ç« ä¸­çš„ gcc æŒ‡ä»£çš„å°±æ˜¯ç»ˆç«¯ä¸­è°ƒç”¨çš„ gcc-9ï¼›æ–‡ç« ä¸­çš„ g++ æŒ‡ä»£çš„å°±æ˜¯ç»ˆç«¯ä¸­è°ƒç”¨çš„ g++-9ï¼›</strong></font></p><p>ä¹Ÿå°±æ˜¯åšæŒåœ¨ç»ˆç«¯é‡Œé¢è°ƒç”¨ gcc-9 å’Œ g++-9 ï¼›</p><br><h3 id="gcc-å’Œ-g-çš„åŒºåˆ«ï¼š"><a href="#gcc-å’Œ-g-çš„åŒºåˆ«ï¼š" class="headerlink" title="gcc å’Œ g++çš„åŒºåˆ«ï¼š"></a>gcc å’Œ g++çš„åŒºåˆ«ï¼š</h3><p>é¦–å…ˆçœ‹ä¸€ä¸‹ä¸¤è€…çš„åŒºåˆ«ï¼š</p><p>GCC:GNU Compiler Collection(GUN ç¼–è¯‘å™¨é›†åˆ)ï¼Œå®ƒå¯ä»¥ç¼–è¯‘Cã€C++ã€JAVã€Fortranã€Pascalã€Object-Cã€Adaç­‰è¯­è¨€ã€‚</p><p>gccæ˜¯GCCä¸­çš„GUN C Compilerï¼ˆC ç¼–è¯‘å™¨ï¼‰</p><p>g++æ˜¯GCCä¸­çš„GUN C++ Compilerï¼ˆC++ç¼–è¯‘å™¨ï¼‰</p><p>ä¸€ä¸ªæœ‰è¶£çš„äº‹å®å°±æ˜¯ï¼Œå°±æœ¬è´¨è€Œè¨€ï¼Œgccå’Œg++å¹¶ä¸æ˜¯ç¼–è¯‘å™¨ï¼Œä¹Ÿä¸æ˜¯ç¼–è¯‘å™¨çš„é›†åˆï¼Œå®ƒä»¬åªæ˜¯ä¸€ç§é©±åŠ¨å™¨ï¼Œæ ¹æ®å‚æ•°ä¸­è¦ç¼–è¯‘çš„æ–‡ä»¶çš„ç±»å‹ï¼Œè°ƒç”¨å¯¹åº”çš„GUNç¼–è¯‘å™¨è€Œå·²ï¼Œæ¯”å¦‚ï¼Œç”¨gccç¼–è¯‘ä¸€ä¸ªcæ–‡ä»¶çš„è¯ï¼Œä¼šæœ‰ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p><p>Step1ï¼šCall a preprocessor, like cpp.</p><p>Step2ï¼šCall an actual compiler, like cc or cc1.</p><p>Step3ï¼šCall an assembler, like as.</p><p>Step4ï¼šCall a linker, like ld</p><p>ç”±äºç¼–è¯‘å™¨æ˜¯å¯ä»¥æ›´æ¢çš„ï¼Œæ‰€ä»¥gccä¸ä»…ä»…å¯ä»¥ç¼–è¯‘Cæ–‡ä»¶</p><p>æ‰€ä»¥ï¼Œæ›´å‡†ç¡®çš„è¯´æ³•æ˜¯ï¼š<strong>gccè°ƒç”¨äº†C compilerï¼Œè€Œg++è°ƒç”¨äº†C++ compiler</strong></p><p><strong>gccå’Œg++çš„ä¸»è¦åŒºåˆ«ï¼š</strong> </p><ol><li><p>å¯¹äº <em>.cå’Œ</em>.cppæ–‡ä»¶ï¼Œgccåˆ†åˆ«å½“åšcå’Œcppæ–‡ä»¶ç¼–è¯‘ï¼ˆcå’Œcppçš„è¯­æ³•å¼ºåº¦æ˜¯ä¸ä¸€æ ·çš„ï¼‰</p></li><li><p>å¯¹äº <em>.cå’Œ</em>.cppæ–‡ä»¶ï¼Œg++åˆ™ç»Ÿä¸€å½“åšcppæ–‡ä»¶ç¼–è¯‘</p></li><li><p>ä½¿ç”¨g++ç¼–è¯‘æ–‡ä»¶æ—¶ï¼Œ<strong>g++ä¼šè‡ªåŠ¨é“¾æ¥æ ‡å‡†åº“STLï¼Œè€Œgccä¸ä¼šè‡ªåŠ¨é“¾æ¥STL</strong></p></li><li><p>gccåœ¨ç¼–è¯‘Cæ–‡ä»¶æ—¶ï¼Œå¯ä½¿ç”¨çš„é¢„å®šä¹‰å®æ˜¯æ¯”è¾ƒå°‘çš„</p></li><li><p>gccåœ¨ç¼–è¯‘cppæ–‡ä»¶æ—¶&#x2F;g++åœ¨ç¼–è¯‘cæ–‡ä»¶å’Œcppæ–‡ä»¶æ—¶ï¼ˆè¿™æ—¶å€™gccå’Œg++è°ƒç”¨çš„éƒ½æ˜¯cppæ–‡ä»¶çš„ç¼–è¯‘å™¨ï¼‰ï¼Œä¼šåŠ å…¥ä¸€äº›é¢å¤–çš„å®ï¼Œè¿™äº›å®å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">__GXX_WEAK__</span> <span class="token expression"><span class="token number">1</span></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">__cplusplus</span> <span class="token expression"><span class="token number">1</span></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">__DEPRECATED</span> <span class="token expression"><span class="token number">1</span></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">__GNUG__</span> <span class="token expression"><span class="token number">4</span></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">__EXCEPTIONS</span> <span class="token expression"><span class="token number">1</span></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">__private_extern__</span> <span class="token expression"><span class="token keyword">extern</span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>åœ¨ç”¨gccç¼–è¯‘c++æ–‡ä»¶æ—¶ï¼Œä¸ºäº†èƒ½å¤Ÿä½¿ç”¨STLï¼Œéœ€è¦åŠ å‚æ•° â€“lstdc++ ï¼Œä½†è¿™å¹¶ä¸ä»£è¡¨ gcc â€“lstdc++ å’Œ g++ç­‰ä»·ã€‚</p></li></ol><br><h3 id="å†æ¬¡å®è·µï¼š"><a href="#å†æ¬¡å®è·µï¼š" class="headerlink" title="å†æ¬¡å®è·µï¼š"></a>å†æ¬¡å®è·µï¼š</h3><br><p>åˆ›å»º main.c å’Œ main.cpp ä¸¤ä¸ªæ–‡ä»¶ï¼›é‡Œé¢å†…å®¹éƒ½ä¸º</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// insert code here...</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Hello, World!\n"</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ä½¿ç”¨-gcc-ç¼–è¯‘-c-æ–‡ä»¶ï¼š"><a href="#ä½¿ç”¨-gcc-ç¼–è¯‘-c-æ–‡ä»¶ï¼š" class="headerlink" title="ä½¿ç”¨ gcc ç¼–è¯‘ .c æ–‡ä»¶ï¼š"></a>ä½¿ç”¨ gcc ç¼–è¯‘ .c æ–‡ä»¶ï¼š</h4><p>è¿è¡Œ <code>gcc-9 main.c </code> å’Œ <code>gcc-9 main.c -lstdc++</code> éƒ½ç¼–è¯‘ä¸è¿‡ã€‚è¿è¡Œç»“æœï¼š</p>  <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200303_204442.png" width="50%"/ loading="lazy"><p><strong>ç»“è®ºï¼š</strong> å³ä½¿æ·»åŠ  -lstdc++ ä¾æ—§æŠ¥é”™ï¼Œå› ä¸º iostream æ˜¯å±äº c++çš„å†…å®¹ï¼Œ*.c æ–‡ä»¶ä½¿ç”¨ gcc ä¼šå½“åš Cè¯­è¨€çš„ä¸¥æ ¼ç¨‹åº¦å’ŒèŒƒå›´æ¥ç¼–è¯‘ã€‚<font color=#FF0000  size=4 face="å¹¼åœ†"><strong>cè¯­è¨€</strong> åº”è¯¥ç”¨ stdio.hï¼Œ<strong>c++</strong> æ‰ç”¨ iostream</font> </p><h4 id="ä½¿ç”¨-gcc-ç¼–è¯‘-cpp-æ–‡ä»¶ï¼š"><a href="#ä½¿ç”¨-gcc-ç¼–è¯‘-cpp-æ–‡ä»¶ï¼š" class="headerlink" title="ä½¿ç”¨ gcc ç¼–è¯‘ .cpp æ–‡ä»¶ï¼š"></a>ä½¿ç”¨ gcc ç¼–è¯‘ .cpp æ–‡ä»¶ï¼š</h4><p>è¿è¡Œ <code>gcc-9 main.cpp</code> ç¼–è¯‘å¤±è´¥ï¼›è¿è¡Œ <code>gcc-9 main.cpp -lstdc++</code> ç¼–è¯‘è¿è¡ŒæˆåŠŸã€‚è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p>  <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200303_205222.png" width="70%" / loading="lazy"><p><strong>ç»“è®ºï¼š</strong>  gcc éƒ½æ˜¯ å°† cpp æŒ‰ç…§ c++ çš„ä¸¥æ ¼ç¨‹åº¦å’ŒèŒƒå›´æ¥ç¼–è¯‘ï¼Œä½†æ˜¯ä¸ä¼šè‡ªåŠ¨é“¾æ¥ STL åº“ã€‚</p><h4 id="ä½¿ç”¨-g-ç¼–è¯‘-c-æ–‡ä»¶ï¼š"><a href="#ä½¿ç”¨-g-ç¼–è¯‘-c-æ–‡ä»¶ï¼š" class="headerlink" title="ä½¿ç”¨ g++ ç¼–è¯‘ .c æ–‡ä»¶ï¼š"></a>ä½¿ç”¨ g++ ç¼–è¯‘ .c æ–‡ä»¶ï¼š</h4><p>è¿è¡Œå‘½ä»¤ï¼Œè¿è¡Œç»“æœï¼š</p>  <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200303_210956.png" width="50%" / loading="lazy"><p><strong>ç»“è®ºï¼š</strong> g++ å°† .c æŒ‰ç…§ c++ çš„ä¸¥æ ¼ç¨‹åº¦å’ŒèŒƒå›´æ¥ç¼–è¯‘ï¼Œä¸”ä¼šè‡ªåŠ¨é“¾æ¥ STL åº“ã€‚</p><h4 id="ä½¿ç”¨-g-ç¼–è¯‘-cpp-æ–‡ä»¶ã€Œæ¨èã€ï¼š"><a href="#ä½¿ç”¨-g-ç¼–è¯‘-cpp-æ–‡ä»¶ã€Œæ¨èã€ï¼š" class="headerlink" title="ä½¿ç”¨ g++ ç¼–è¯‘ .cpp æ–‡ä»¶ã€Œæ¨èã€ï¼š"></a>ä½¿ç”¨ g++ ç¼–è¯‘ .cpp æ–‡ä»¶ã€Œæ¨èã€ï¼š</h4><p>è¿è¡Œ <code>g++-9 main.cpp</code>ï¼Œç®€ç›´å¤ªæ¸…çˆ½äº†ã€‚è¿è¡Œç»“æœï¼š</p>  <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200303_210444.png" width="50%" / loading="lazy"><p><strong>ç»“è®º:</strong>  g++ ç”¨æ¥ç¼–è¯‘ .cpp æ–‡ä»¶æ˜¯æœ€ä¸ºæ¸…çˆ½çš„å’Œåˆé€‚çš„ã€‚</p><br><h3 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h3><p>gcc å’Œ g++ éƒ½æ˜¯æ ¹æ® æ–‡ä»¶çš„åç¼€åç§° .c .cppï¼›æ¥åˆ¤æ–­æ˜¯å¦ä»¥ Cè¯­è¨€ è¿˜æ˜¯ c++ æ¥ç¼–è¯‘æ–‡ä»¶ã€‚</p><p>ä¸”<strong>g++ä¼šè‡ªåŠ¨é“¾æ¥æ ‡å‡†åº“STLï¼Œè€Œgccä¸ä¼šè‡ªåŠ¨é“¾æ¥STL</strong> ã€‚</p><p>ä»¥åæ›´æ¨èä½¿ç”¨ g++ã€‚</p><br><h3 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h3><p><a href="https://github.com/xmuli/linuxExample/tree/master/02_c_cpp">02_c_cpp</a></p><br><p><strong>å‚è€ƒæ–‡ç« ï¼š</strong></p><p><a href="https://www.zhihu.com/question/20940822/answer/536826078">https://www.zhihu.com/question/20940822/answer/536826078</a> </p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
          <category> å­¦ä¹  - MacOS </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨MacOSä¸Šé¢é€šè¿‡brewå‘½ä»¤å®‰è£…gccç¼–è¯‘å™¨é›†</title>
      <link href="/posts/20cab4ae/"/>
      <url>/posts/20cab4ae/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€åœ¨ <code>MacOS 10.14.6</code> é‡Œé¢ä½¿ç”¨å‘½ä»¤ <code>brew</code> ä¸‹è½½ã€å®‰è£… <code>gcc</code> ç¼–è¯‘å™¨é›†ã€‚å¹¶ä¸”å†™ä¸€ä¸ªå°çš„ä¾‹å­ .cpp æ–‡ä»¶æ¥ç¼–è¯‘è¿è¡Œï¼Œä¸‹è½½çš„ gcc æ˜¯å¦æˆåŠŸã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š"></a>ç¼–ç¨‹ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14.6 (18G103)</code></p><br><h3 id="GCC-ç®€ä»‹ï¼š"><a href="#GCC-ç®€ä»‹ï¼š" class="headerlink" title="GCC ç®€ä»‹ï¼š"></a>GCC ç®€ä»‹ï¼š</h3><p><font color=#D0087E size=4 face="å¹¼åœ†">GCCæ˜¯åº“å’Œå‰ç«¯çš„å…¨é¢é›†åˆï¼Œä½¿æ‚¨èƒ½å¤Ÿå°†æºä»£ç ç¼–è¯‘æˆäºŒè¿›åˆ¶åº”ç”¨ç¨‹åºã€‚</font> </p><p>GNU ç¼–è¯‘å™¨é›†åˆï¼ˆç®€ç§°<strong>GCCï¼‰</strong>åŒ…æ‹¬ Cï¼ŒObjective-Cï¼ŒC ++ï¼ŒJavaï¼ŒFortranï¼ŒGo å’Œ Ada çš„å‰ç«¯ï¼Œä»¥åŠæ‰€æåŠè¯­è¨€çš„åº“ã€‚</p><p>GCC æ˜¯ GNU å·¥å…·é“¾çš„ä¸»è¦ç»„æˆéƒ¨åˆ†ï¼Œå®ƒæ˜¯æ ¹æ® GNU é€šç”¨å…¬å…±è®¸å¯è¯å‘è¡Œçš„ï¼Œåœ¨è‡ªç”±è½¯ä»¶çš„æŒç»­å¢é•¿ä¸­èµ·ç€æ ¸å¿ƒä½œç”¨ã€‚</p><p>æœ€åˆï¼ŒGCC ä»…å¤„ç† C ç¼–ç¨‹è¯­è¨€ï¼Œä½†æ˜¯éšç€å…¶ä»–å‰ç«¯çš„å¼€å‘ï¼ŒGCC æ‰©å±•åˆ°å¯ä»¥ç¼–è¯‘ C++ï¼ŒObjective-Cï¼ŒObjective-C ++ï¼ŒGoï¼ŒFortranï¼ŒAdaï¼ŒJavaç­‰ã€‚</p><p>GCC è¿˜æä¾›å¯¹å¤šç§å¤„ç†å™¨ä½“ç³»ç»“æ„çš„æ”¯æŒï¼Œå› æ­¤ï¼Œå®ƒç»å¸¸ç”¨ä½œå…è´¹å’Œä¸“æœ‰åº”ç”¨ç¨‹åºçš„å¼€å‘å·¥å…·ã€‚GCC ä¹Ÿå¯ç”¨äºå¤§å¤šæ•°åµŒå…¥å¼å¹³å°ï¼ŒåŒ…æ‹¬ AMCCï¼ŒSymbian å’ŒåŸºäº Freescale Power Architecture çš„èŠ¯ç‰‡ã€‚</p><p>GNU ç¼–è¯‘å™¨é›†åˆè¿˜é’ˆå¯¹å„ç§å¹³å°ï¼Œä¾‹å¦‚ Dreamcast å’Œ PlayStation ç­‰è§†é¢‘æ¸¸æˆæœºã€‚è€Œä¸”ï¼ŒGCC æ˜¯è®¸å¤šç±»Unix æ“ä½œç³»ç»Ÿçš„æ ‡å‡†ç¼–è¯‘å™¨ï¼ŒåŒ…æ‹¬ Linux å’Œ BSD ç³»åˆ—ï¼ŒFreeBSD å’Œ LLVM ç³»ç»Ÿã€‚</p><br><h3 id="GCC-å®˜ç½‘ï¼š"><a href="#GCC-å®˜ç½‘ï¼š" class="headerlink" title="GCC å®˜ç½‘ï¼š"></a>GCC å®˜ç½‘ï¼š</h3><p><a href="https://mac.softpedia.com/get/Development/Compilers/GCC.shtml">GCC for Mac å®˜ç½‘</a> </p><br><h3 id="GCC-å‘½ä»¤å®‰è£…ï¼š"><a href="#GCC-å‘½ä»¤å®‰è£…ï¼š" class="headerlink" title="GCC å‘½ä»¤å®‰è£…ï¼š"></a>GCC å‘½ä»¤å®‰è£…ï¼š</h3><ul><li><p><strong>æŸ¥çœ‹ gcc ç‰ˆæœ¬ï¼š</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">brew search gcc<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul><p>å…¶ä¸­ç¬¬ä¸€ä¸ªä¸º gcc é»˜è®¤çš„å½“å‰æœ€é«˜ç‰ˆæœ¬ã€‚</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210315230852.png" width="90%"/ loading="lazy"><ul><li><p><strong>å®‰è£… gcc :</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">brew <span class="token function">install</span> gcc<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é»˜è®¤æ˜¯å®‰è£…å®˜ç½‘é‡Œé¢æœ€é«˜çš„ç‰ˆæœ¬ï¼Œæˆªå›¾å¯çŸ¥æ˜¯ gcc 9.2</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210315230913.png" width="90%"/ loading="lazy"></li></ul><br><h3 id="æŸ¥çœ‹-gcc-å®‰è£…ç‰ˆæœ¬"><a href="#æŸ¥çœ‹-gcc-å®‰è£…ç‰ˆæœ¬" class="headerlink" title="æŸ¥çœ‹ gcc å®‰è£…ç‰ˆæœ¬:"></a>æŸ¥çœ‹ gcc å®‰è£…ç‰ˆæœ¬:</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">gcc <span class="token parameter variable">-v</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å‘ç°æ˜¾ç¤ºçš„ gcc è¿™ä¸ªåå­—ï¼Œå·²ç»è¢«å äº†ï¼Œå®é™…æ˜¯é€šè¿‡æ˜ å°„æ¥è°ƒç”¨ clang ï¼›</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210315230933.png" width="90%"/ loading="lazy"><p>ä½†å…¶å®æ˜¯å®‰è£…æˆåŠŸäº†çš„ï¼Œé€šè¿‡ä¸€ä¸ªå‘½ä»¤çš„å®‰è£…åœ°å€å¯çŸ¥æ˜¯ gcc 9.2 ç‰ˆæœ¬ï¼Œæ‰€ä»¥ï¼Œå¯ä»¥çœ‹å‡ºæ­£ç¡®ç‰ˆæœ¬çš„æŸ¥çœ‹å‘½ä»¤ï¼š<code>gcc-9 -v</code>  ï¼ˆæŒ‰ä¸‹ Tabï¼‰ï¼›å…¶ä¸­è¦è°ƒç”¨æ­£çœŸçš„ gcc å·¥å…·å°±ä½¿ç”¨ç”¨ <code>gcc-9</code> , è€Œé gccï¼ˆclangï¼‰ï¼›</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210315230954.png" width="80%"/ loading="lazy"><br><h3 id="éªŒè¯-gcc-å®‰è£…æ˜¯å¦æˆåŠŸï¼š"><a href="#éªŒè¯-gcc-å®‰è£…æ˜¯å¦æˆåŠŸï¼š" class="headerlink" title="éªŒè¯ gcc å®‰è£…æ˜¯å¦æˆåŠŸï¼š"></a>éªŒè¯ gcc å®‰è£…æ˜¯å¦æˆåŠŸï¼š</h3><p>åˆ›å»ºä¸€ä¸ªåç§°ä¸º <code>main.cpp</code> çš„æ–‡æœ¬ï¼Œå†™å…¥ä»¥ä¸‹å†…å®¹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//  Created by muli on 2020/3/2.</span><span class="token comment">//  Copyright Â© 2020 muli. All rights reserved.</span><span class="token comment">//</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// insert code here...</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Hello, World!\n"</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œ <code>gcc-9 main.cpp -o mainApp -lstdc++</code>ï¼Œç”¨ gcc ç¼–è¯‘ç”Ÿæˆ main.cpp æ–‡ä»¶ç”Ÿæˆä¸€ä¸ªåç§°ä¸º mainApp çš„å¯æ‰§è¡Œç¨‹åºã€ŒLinux ä¸‹çš„æ–‡ä»¶é»˜è®¤æ˜¯æ²¡æœ‰åç¼€åçš„ã€ï¼›å…¶ä¸­ç¼–è¯‘é€‰é¡¹æ·»åŠ  -lstdc++ ï¼Œå³ä½¿ç”¨æ ‡å‡†C++åº“ï¼Œå¦åˆ™ä½  Mac ä¸‹å›ç¼–è¯‘å¤±è´¥ã€‚è¿è¡Œå‘½ä»¤ <code>./mainApp</code> æ‰§è¡Œ mainApp ç¨‹åºï¼ŒæŸ¥çœ‹è¾“å‡ºç»“æœï¼š</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2021/20210315231018.png" width="40%"/ loading="lazy"><p>ç»“è®ºï¼šä½¿ç”¨ gcc ç¼–è¯‘ç”Ÿæˆè¿æ¥è¿è¡Œç¨‹åºæˆåŠŸã€‚</p><br><h3 id="å…¶å®ƒç–‘é—®ï¼š"><a href="#å…¶å®ƒç–‘é—®ï¼š" class="headerlink" title="å…¶å®ƒç–‘é—®ï¼š"></a>å…¶å®ƒç–‘é—®ï¼š</h3><p>å…³äºä¸Šé¢æ‰§è¡Œ <code>gcc-9 main.cpp -o mainApp -lstdc++</code> ä¸­ï¼Œæ‰§è¡Œè¿™ä¸ªè¯­å¥å¸¦ä¸Š <code>-lstdc++</code> è¿™ä¸ªå‚æ•°ï¼›å§‹ç»ˆè§‰å¾—æœ‰ç‚¹å›°æƒ‘ï¼Œéœ€è¦æ·±ç©¶ä¸€ä¸‹ã€‚ åœ¨ä¸‹ä¸€ç¯‡ä¸­å†ä½œæ¢ç©¶ã€‚</p><br><h3 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h3><p><a href="https://github.com/xmuli/linuxExample/tree/master/01_test_gcc">01_test_gcc</a> </p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
          <category> å­¦ä¹  - MacOS </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>QStyle/DTKé‡ç»˜Qt-GUIå·²æœ‰æ§ä»¶,ä¸¾ä¾‹QScrollBar</title>
      <link href="/posts/9514c440/"/>
      <url>/posts/9514c440/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€ä½¿ç”¨ QStyle &#x2F; DTK æ¥å®ç°é‡ç»˜ Qt-GUI å·²æœ‰çš„æ§ä»¶ï¼Œæ­¤å¤„ä»¥é‡ç»˜ QScrollBar ä¸¾ä¾‹ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š"></a>ç¼–ç¨‹ç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>MacOS10.14 (18G103)</code> ğŸ“ <code>Qt 5.12.6</code></p><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>win10 x64 ä¸“ä¸šç‰ˆ (1803)</code> ğŸ“ <code>Qt 5.9.8</code></p><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>uos20 amd64 ä¸“ä¸šç‰ˆ (Kernel 4.19)</code> ğŸ“ <code>Qt 5.11.3</code></p><br><h3 id="èƒŒæ™¯ï¼š"><a href="#èƒŒæ™¯ï¼š" class="headerlink" title="èƒŒæ™¯ï¼š"></a>èƒŒæ™¯ï¼š</h3><p>ã€€ã€€ç”±<a href="https://blog.csdn.net/qq_33154343/article/details/104367878">ä¸Šä¸€ç¯‡</a> çš„æ–‡ç« å·²ç»å¯ç†è§£ <code>QStyle</code> ã€ <code>QCommonStyle</code> å’Œè‡ªå®šä¹‰çš„ <code>MyStyle</code> ä¸‰è€…ä¹‹é—´çš„å…³ç³»ï¼›å¯¹äºåŸºç¡€çš„é£æ ¼æ§ä»¶ä¹Ÿæœ‰æ‰€å­¦ä¹ äº†ã€‚æœ¬ç¯‡æ‰¿æ¥ä¸Šæ–‡ï¼Œå¼€å§‹å°è¯•ï¼Œè‡ªå·±ç»˜ç”»ä¸€ä¸ªæ–°çš„é£æ ¼ï¼ˆæ ·å¼ï¼‰çš„æ§ä»¶ï¼Œä¸ºäº†æœ¬ç¯‡çš„ç®€æ´ï¼Œè¿™é‡Œå°±ä»¥ <code>QScrollBar</code> ä¸ºä¾‹ã€‚</p><br><h3 id="æŸ¥çœ‹-QScrollBar-çš„æ„æˆï¼Œå¦‚ä½•æŸ¥æ‰¾æºç ï¼Ÿ"><a href="#æŸ¥çœ‹-QScrollBar-çš„æ„æˆï¼Œå¦‚ä½•æŸ¥æ‰¾æºç ï¼Ÿ" class="headerlink" title="æŸ¥çœ‹ QScrollBar çš„æ„æˆï¼Œå¦‚ä½•æŸ¥æ‰¾æºç ï¼Ÿ"></a>æŸ¥çœ‹ QScrollBar çš„æ„æˆï¼Œå¦‚ä½•æŸ¥æ‰¾æºç ï¼Ÿ</h3><p>ã€€ã€€æƒ³è¦ç»˜ç”»æŸä¸€ä¸ª GUI æ§ä»¶ï¼Œå¿…é¡»äº†è§£å®ƒæ˜¯ç”±é‚£äº›å°éƒ¨ä»¶ç»„æˆçš„ï¼Œæ¢è¨€ä¹‹ï¼Œåœ¨å‰é¢çš„é‡è½½å‡½æ•°é‡Œé¢ï¼Œéœ€è¦çš„æŒ‡å¯¼é‡ç»˜å“ªä¸€äº›æšä¸¾å‚æ•°â“</p><p>ã€€ã€€æ­¤å¤„æä¾›å¦å¤–ä¸€ç¯‡æ¯”çš„å…ˆå†™çš„é‡ç»˜æ–‡ç« : <a href="https://blog.csdn.net/qq_33154343/article/details/100943187">QStyleè‡ªå®šä¹‰é‡ç»˜QScrollBar</a>ï¼Œé‡Œé¢æ˜¯ä»å¦å¤–ä¸€ä¸ªè§’åº¦æ¥è§£æ <code>QScrollBar</code> æ§ä»¶çš„æ„æˆï¼›å¯ä»¥ç»“åˆç€æ¥çœ‹ï¼›</p><br><h3 id="è§£æç»˜ç”»æ§ä»¶çš„æ­¥éª¤ï¼š"><a href="#è§£æç»˜ç”»æ§ä»¶çš„æ­¥éª¤ï¼š" class="headerlink" title="è§£æç»˜ç”»æ§ä»¶çš„æ­¥éª¤ï¼š"></a><strong>è§£æç»˜ç”»æ§ä»¶çš„æ­¥éª¤ï¼š</strong></h3><ol><li><p><strong>æ‰“å¼€ QtCreator æ­¤ IDEï¼Œåœ¨è‡ªå·±çš„å·¦ä¾§çš„å·¥ç¨‹é¡¹ç›®ä¸­ï¼Œå†æ‰“å¼€qt-coreâ€“gui-base æºç çš„å·¥ç¨‹ï¼Œä¾¿äºæŸ¥æ‰¾å’ŒğŸ”æ‰€éœ€çš„æºç </strong></p><p><code>src</code> å·¥ç¨‹æ‰“å¼€ï¼Œåªæ˜¯ä¸ºäº†ä¾¿äºåœ¨ä¸‹é¢æœç´¢æ¡†é‡Œé¢æŸ¥æ‰¾éœ€è¦çš„ qt æºç æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„åœ¨ <code>/Users/muli/Qt5.12.6/5.12.6/Src/qtbase/src/src.pro</code>ï¼›</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200227_142504.png"  / loading="lazy"><p>win ç³»ç»Ÿä¸‹çš„è·¯å¾„ä¹Ÿå·®ä¸å¤šï¼›Linux ç³»ç»Ÿè·¯å¾„åˆ™æ˜¯åœ¨è‡ªå®šä¹‰å®‰è£… qt æºç åœ°æ–¹ï¼ˆ<strong>å‘½ä»¤å®‰è£…</strong>ï¼‰æˆ–è€…é»˜è®¤å®‰è£…çš„åœ°æ–¹ï¼ˆ***.runå®‰è£…** ï¼‰ã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200227_142952.png" width="50%" / loading="lazy"><br></li><li><p><strong>æœç´¢ qcommonstyle.cpp è¿™ä¸ªæ–‡ä»¶ï¼ŒæŸ¥çœ‹ç¼ºçœé£æ ¼æ˜¯å¦‚ä½•å†™æˆçš„</strong></p><p>é€šè¿‡æŸ¥çœ‹ qcommonstyle.cpp è¿™ä¸ªæ–‡ä»¶ï¼Œæ¥ğŸ”  <code>QScrollBar</code> åœ¨é»˜è®¤ç¼ºçœé£æ ¼ä¸‹é¢çš„çš„ç»˜ç”»æ–¹å¼ï¼›å…¶ä¸­å‚è€ƒæœ€å¤šçš„å°±æ˜¯ <code>qcommonstyle</code> é£æ ¼ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ä¹Ÿå¯ä»¥å‚è€ƒ <code>qfusionstyle</code> é£æ ¼çš„ç»˜ç”»æ€è·¯ï¼›ä¸¤è€…å¯ä»¥æ€è·¯äº’ç›¸å°è¡¬ï¼Œå¾—åˆ°èŠæš—èŠ±æ˜åˆä¸€æ‘çš„æŸ‘æ©˜ï¼›</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200227_143821.png" width="50%" / loading="lazy"><br></li><li><p><strong>æå–å…³é”®å…ƒç´ æšä¸¾</strong></p><p>æ‰“å¼€ä¸Šé¢çš„æ–‡ä»¶ï¼Œç‚¹å‡» command + F è¿›è¡ŒğŸ” <code>ScrooBar</code> è¿™ä¸ªå•è¯ï¼Œå°†æ‰€æœ‰çš„æšä¸¾éƒ½ç»˜ç”»è®°å½•ä¸‹æ¥ï¼›ç”¨æ¥é‡æ„è¿™ä¸ªå…ƒç´ </p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200227_144929.png" width="80%" / loading="lazy"><p>æ‰¾åˆ°å¯¹åº”çš„ </p><p>CC_ScrollBarï¼Œ CC_ScrollBarï¼Œ SC_ScrollBarSubLine ï¼Œ SC_ScrollBarAddLineï¼Œ SC_ScrollBarSubPageï¼Œ SC_ScrollBarAddPageï¼Œ SC_ScrollBarGrooveï¼Œ SC_ScrollBarSliderï¼ŒPM_ScrollBarSliderMinï¼Œ PM_ScrollBarExtentï¼Œ SH_ScrollBar_ContextMenuï¼Œ SH_ScrollBar_RollBetweenButtonsï¼Œ SH_ScrollBar_Transient</p><p>è¿™äº›æšä¸¾ï¼›åˆçœ‹ï¼Œè¿™ä¹ˆå¤šçš„æšä¸¾è²Œä¼¼è¿˜æŒºå¤šï¼ˆåˆ’æ‰è²Œä¼¼ï¼‰ï¼›å¯ä»¥æŒ‰ç…§ä½ æƒ³å®Œæˆçš„å·¥è¶³é‡ï¼Œå…¶ä¸­æœ‰äº›æ˜¯é‡è¦çš„ï¼Œå±äºå¿…ä¸å¯å°‘ï¼›æœ‰äº›æ˜¯ä¸é‚£ä¹ˆé‡è¦çš„ï¼Œå¯ä»¥å…ˆä¸ç”¨é‡ç»˜ä½¿ç”¨åˆ°çš„ï¼›<strong>è¦èƒ½æŒ‰ç…§ CC_ ï¼ŒSC_ï¼Œ æ¥ç»„è£…è¯¥æ§ä»¶ï¼Œç»„è£…å®Œæˆå‘ç°å„è‡ªå¸¦è¾¹çš„éƒ¨åˆ†å¦‚ä¸‹ï¼›</strong> </p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190910224200.png" style="zoom: 67%;" / loading="lazy"><br></li><li><p><strong>æ‰¾åˆ°å¯¹åº”çš„é‡è½½å‡½æ•°ï¼Œå¼€å§‹é‡å†™æ­¤è™šå‡½æ•°</strong></p><p>ä¸ºäº†æ¯”è¾ƒç®€å•çš„å†™å‡ºè¿™ä¸ªğŸŒ°ï¼Œç®€åŒ–å¤„ç†ï¼›åªéœ€é‡æ–°ç»˜ç”»é‡Œé¢çš„äº”ä¸ªæšä¸¾ï¼Œé¡ºç€ <code>CE_</code> çš„ä½œä¸ºå‚æ•°ï¼Œé€†å‘æ¨å‡½æ•°ï¼Œå‘ç°éœ€è¦åªè¦è°ƒç”¨ <code>drawControl()</code> å³å¯ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">drawControl</span><span class="token punctuation">(</span>ControlElement element<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOption <span class="token operator">*</span>opt<span class="token punctuation">,</span> QPainter <span class="token operator">*</span>p<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>w<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><br></li><li><p><strong>æŒ‰ç…§ é£æ ¼ + éœ€æ±‚ï¼Œæ¥è¿›è¡Œç»˜ç”»</strong></p><p>è¿™é‡Œé‡ç»˜ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token class-name">MyStyle</span><span class="token double-colon punctuation">::</span><span class="token function">drawControl</span><span class="token punctuation">(</span>QStyle<span class="token double-colon punctuation">::</span>ControlElement element<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOption <span class="token operator">*</span>opt<span class="token punctuation">,</span> QPainter <span class="token operator">*</span>p<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>w<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">&#123;</span>    p<span class="token operator">-></span><span class="token function">setRenderHint</span><span class="token punctuation">(</span>QPainter<span class="token double-colon punctuation">::</span>Antialiasing<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">switch</span> <span class="token punctuation">(</span>element<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">case</span> CE_ScrollBarAddPage<span class="token operator">:</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//å¢åŠ æ»‘æ§½</span>        p<span class="token operator">-></span><span class="token function">fillRect</span><span class="token punctuation">(</span>opt<span class="token operator">-></span>rect<span class="token punctuation">,</span> <span class="token function">QColor</span><span class="token punctuation">(</span><span class="token string">"#bfe9ff"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">case</span> CE_ScrollBarSubPage<span class="token operator">:</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//å‡å°‘æ»‘æ§½</span>        p<span class="token operator">-></span><span class="token function">fillRect</span><span class="token punctuation">(</span>opt<span class="token operator">-></span>rect<span class="token punctuation">,</span> <span class="token function">QColor</span><span class="token punctuation">(</span><span class="token string">"#EC6EAD"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">case</span> CE_ScrollBarSlider<span class="token operator">:</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//æ»‘å—</span>        p<span class="token operator">-></span><span class="token function">fillRect</span><span class="token punctuation">(</span>opt<span class="token operator">-></span>rect<span class="token punctuation">,</span> <span class="token function">QColor</span><span class="token punctuation">(</span><span class="token string">"#A8BFFF"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">case</span> CE_ScrollBarAddLine<span class="token operator">:</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//å¢åŠ æŒ‰é’®</span>        p<span class="token operator">-></span><span class="token function">fillRect</span><span class="token punctuation">(</span>opt<span class="token operator">-></span>rect<span class="token punctuation">,</span> <span class="token function">QColor</span><span class="token punctuation">(</span><span class="token string">"#21d4fd"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">case</span> CE_ScrollBarSubLine<span class="token operator">:</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//å‡å°‘æŒ‰é’®</span>        p<span class="token operator">-></span><span class="token function">fillRect</span><span class="token punctuation">(</span>opt<span class="token operator">-></span>rect<span class="token punctuation">,</span> <span class="token function">QColor</span><span class="token punctuation">(</span><span class="token string">"#de6161"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">default</span><span class="token operator">:</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token class-name">QCommonStyle</span><span class="token double-colon punctuation">::</span><span class="token function">drawControl</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> opt<span class="token punctuation">,</span> p<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br></li><li><p><strong>æŸ¥çœ‹æœ€ç»ˆæ•ˆæœï¼Œè‹¥æ˜¯æˆåŠŸï¼Œåˆ™é¡¹ç›®æˆåŠŸç»“æŸğŸ”š</strong></p><p>è¿™é‡Œè¿™é‡Œæœ€åçš„æ•ˆæœå¦‚ä¸‹ï¼Œå…¶åŒä¸€ä¸ªæ§ä»¶åœ¨ MacOS å’Œ Linux(uos20) ä¸‹é¢çš„è¡¨ç°æ ·å¼æ˜¯ä¸€æ ·çš„ï¼›å¯ä»¥è§å…¶å·²ç»ç»˜ç”»æˆåŠŸ.</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/Snip20200227_152044.png" width="100%" / loading="lazy"></li></ol><h3 id="è‡ªå®šä¹‰é£æ ¼å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š"><a href="#è‡ªå®šä¹‰é£æ ¼å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š" class="headerlink" title="è‡ªå®šä¹‰é£æ ¼å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š"></a>è‡ªå®šä¹‰é£æ ¼å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</h3><p>ã€€ã€€å›é¡¾ä¸€ä¸‹ä»£ç å’Œç»˜ç”»æµç¨‹ï¼›åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„é£æ ¼ <code>class MyStyle : public QCommonStyle</code>ï¼Œå…¶ä¸­é€‰æ‹©è‡ªå·±éœ€è¦çš„ç»§æ‰¿çš„å‡½æ•°è¿›è¡Œé‡å†™ï¼›ç„¶åé‡å†™ è™šå‡½æ•°ã€‚</p><p><strong>MyStyleï¼šMyStyle çš„å®Œæ•´å£°æ˜ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">MYSTYLE_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MYSTYLE_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QCommonStyle></span></span><span class="token keyword">class</span> <span class="token class-name">MyStyle</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QCommonStyle</span></span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">MyStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// QStyle interface</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">drawControl</span><span class="token punctuation">(</span>ControlElement element<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOption <span class="token operator">*</span>opt<span class="token punctuation">,</span> QPainter <span class="token operator">*</span>p<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>w<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// MYSTYLE_H</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="é¡¹ç›®åˆ†æï¼š"><a href="#é¡¹ç›®åˆ†æï¼š" class="headerlink" title="é¡¹ç›®åˆ†æï¼š"></a>é¡¹ç›®åˆ†æï¼š</h3><p>ã€€ã€€è¿™é‡Œï¼Œå¯¹æ•´ä¸ªç®€å•çš„é¡¹ç›®è¿›è¡Œåˆ†æä¸€ä¸‹ï¼Œä¸ºåé¢ç»˜ç”»ä¸€ä¸ªå¤æ‚çš„ Qt æ²¡æœ‰çš„æ§ä»¶åšå‡†å¤‡ï¼Œä¹Ÿå°±æ˜¯ç»˜ç”»è‡ªå®šä¹‰æ§ä»¶ï¼›åœ¨è¿™é‡Œå†æ¬¡æ¢³ç†ä¸€ä¸‹ï¼Œä¸‹ä¸€ç¯‡æå‡å°±æ˜¯åœ¨æ­¤æ–‡ç« åŸºç¡€ä¸Šè¿›è¡Œç»˜ç”»é‡å†™ã€‚</p><ul><li><strong>QtStyle</strong><ul><li><strong>QStyleEx.proï¼š</strong> ç”¨ qmake æ¥ç”Ÿæˆçš„ makefile æ–‡ä»¶çš„é…ç½®æ–‡ä»¶</li><li>myshtyle.h: è‡ªå®šä¹‰é£æ ¼çš„ç±»çš„å£°æ˜</li><li>myshtyle.cpp: è‡ªå®šä¹‰é£æ ¼çš„ç±»çš„å®šä¹‰</li><li>widget.h: ç”¨æ¥è¡¬æ‰˜ <code>ScrollBar</code> çš„èƒŒæ™¯æ§ä»¶ç±»çš„å£°æ˜</li><li>widget.cpp: ç”¨æ¥è¡¬æ‰˜ <code>ScrollBar</code> çš„èƒŒæ™¯æ§ä»¶ç±»çš„å®šä¹‰</li><li>main.cpp: æ•´ä¸ªé¡¹ç›®å¯åŠ¨çš„å…¥å£</li></ul></li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200227_153044.png" width="65%" / loading="lazy"><br><h3 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h3><p><a href="https://github.com/xmuli/QtExamples/tree/master/QtMyStyleEx/QtExample02/QtStyleEx">QtExample02</a></p><br><h3 id="ç³»åˆ—æ–‡ç« "><a href="#ç³»åˆ—æ–‡ç« " class="headerlink" title="ç³»åˆ—æ–‡ç« :"></a>ç³»åˆ—æ–‡ç« :</h3><ol><li><a href="https://blog.csdn.net/qq_33154343/article/details/104367878">QStyleè®¾ç½®ç•Œé¢çš„å¤–è§‚å’ŒQCommonStyleç»§æ‰¿å…³ç³»å›¾è®²è§£å’Œä½¿ç”¨</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/104537944">QStyle&#x2F;DTKé‡ç»˜Qt-GUIå·²æœ‰æ§ä»¶,ä¸¾ä¾‹QScrollBar</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/104987446">QStyle&#x2F;DTKé‡ç»˜è‡ªå®šä¹‰éœ€æ±‚æ§ä»¶,ä¸¾ä¾‹MySwitchButton</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨Macä½¿ç”¨Wineè¿è¡ŒWindowsè½¯ä»¶ï¼šPanDownload_Beat(éè™šæ‹Ÿæœº)</title>
      <link href="/posts/15e60acb/"/>
      <url>/posts/15e60acb/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€<strong>åœ¨ MacOS10.14.6 ä¸­ï¼Œå®‰è£… Wine è¿è¡Œ Windows è½¯ä»¶ç™¾åº¦ç½‘ç›˜ã€‚è¯¦ç»†è®²è¿° Wine çš„ä¸‹è½½ï¼Œå®‰è£…ï¼Œä½¿ç”¨æ•™ç¨‹ã€‚</strong> <font color=#0000FF size=4 face="å¹¼åœ†"><strong>æœ¬ç¯‡ä¹Ÿæ˜¯åœ¨ Macä¸‹ä½¿ç”¨ç ´è§£ç‰ˆä¸é™é€Ÿç™¾åº¦äº‘ PanDownload_Beat ï¼Œç›´æ¥è¿è¡Œè¯¥ç¨‹åºï¼Œéå®‰è£…è™šæ‹Ÿæœºæ–¹å¼ä½¿ç”¨ã€‚</strong></font></p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="è¿è¡Œç¯å¢ƒï¼š"><a href="#è¿è¡Œç¯å¢ƒï¼š" class="headerlink" title="è¿è¡Œç¯å¢ƒï¼š"></a>è¿è¡Œç¯å¢ƒï¼š</h3><p>ã€€ã€€<strong>ğŸ’»ï¼š</strong>  <code>MacOS 10.14.6 </code> ğŸ“ <code>XQuartz &gt;= 2.7.7 </code> ğŸ“ <code>winehq-stable-5.0</code> ğŸ“ <code>PanDownload_Beat2.2.2</code></p><br><h3 id="Wine-ç®€è¿°ï¼š"><a href="#Wine-ç®€è¿°ï¼š" class="headerlink" title="Wine ç®€è¿°ï¼š"></a>Wine ç®€è¿°ï¼š</h3><p>ã€€ã€€Wine ï¼ˆâ€œWine Is Not an Emulatorâ€ çš„é¦–å­—æ¯ç¼©å†™ï¼‰æ˜¯ä¸€ä¸ªèƒ½å¤Ÿåœ¨å¤šç§ POSIX-compliant æ“ä½œç³»ç»Ÿï¼ˆè¯¸å¦‚ Linuxï¼ŒmacOS åŠ BSD ç­‰ï¼‰ä¸Šè¿è¡Œ Windows åº”ç”¨çš„å…¼å®¹å±‚ã€‚Wine ä¸æ˜¯åƒè™šæ‹Ÿæœºæˆ–è€…æ¨¡æ‹Ÿå™¨ä¸€æ ·æ¨¡ä»¿å†…éƒ¨çš„ Windows é€»è¾‘ï¼Œè€Œæ˜¯å°‡ Windows API è°ƒç”¨ç¿»è¯‘æˆä¸ºåŠ¨æ€çš„ POSIX è°ƒç”¨ï¼Œå…é™¤äº†æ€§èƒ½å’Œå…¶ä»–ä¸€äº›è¡Œä¸ºçš„å†…å­˜å ç”¨ï¼Œè®©ä½ èƒ½å¤Ÿå¹²å‡€åœ°é›†åˆ Windows åº”ç”¨åˆ°ä½ çš„æ¡Œé¢ã€‚</p><p>ã€€ã€€Wineã€€é€šè¿‡æä¾›ä¸€ä¸ªå…¼å®¹å±‚æ¥å°†ã€€Windowsã€€çš„ç³»ç»Ÿè°ƒç”¨è½¬æ¢æˆä¸ã€€POSIXã€€æ ‡å‡†çš„ç³»ç»Ÿè°ƒç”¨ã€‚å®ƒè¿˜æä¾›äº†ã€€Windowsã€€ç³»ç»Ÿè¿è¡Œåº“çš„æ›¿ä»£å“å’Œä¸€äº›ç³»ç»Ÿç»„ä»¶çš„æ›¿ä»£å“ã€‚ä¸ºäº†é¿å…è‘—ä½œæƒé—®é¢˜ï¼ŒWineã€€ä¸»è¦ä½¿ç”¨é»‘ç®±æµ‹è¯•é€†å‘å·¥ç¨‹æ¥ç¼–å†™ã€‚</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200225_193945.png" width="60%"/ loading="lazy"><p><font color=#D0087E size=5 face="å¹¼åœ†">å…¶ç›¸å…³å®˜ç½‘ï¼š</font></p><ol><li><p><strong>wineï¼š</strong></p><p>å®˜ç½‘ï¼š<a href="https://www.winehq.org/">https://www.winehq.org/</a></p><p>github: <a href="https://github.com/wine-mirror/wine">https://github.com/wine-mirror/wine</a></p></li><li><p><strong>wineBottle:</strong></p><p>å®˜ç½‘ï¼š<a href="https://winebottler.kronenberg.org/">https://winebottler.kronenberg.org/</a></p></li><li><p><strong>WineSkinï¼š</strong></p><p>å®˜ç½‘ï¼š<a href="http://wineskin.urgesoftware.com/">http://wineskin.urgesoftware.com/</a></p></li><li><p><strong>PlayOnMac:</strong></p><p><a href="https://www.playonmac.com/en/">https://www.playonmac.com/en/</a></p></li><li><p><strong>CrossOverï¼š</strong></p><p>å®˜ç½‘ï¼š<a href="https://www.codeweavers.com/">https://www.codeweavers.com/</a></p></li></ol><p>æ³¨ï¼šCrossOver è‹¥æƒ³æ”¯æŒæ­£ç‰ˆï¼Œè¯·é€‰æ‹©ğŸ‡ºğŸ‡¸å®˜ç½‘ç½‘å€ï¼Œ ä¸è¦è¯¯è¿›å…¥æŸé©¬ä¸æ°å…‹çš„ä»£ç†çš„å›½å†…ç½‘å€ï¼›</p><br><h3 id="å‰æœŸå‡†å¤‡ï¼š"><a href="#å‰æœŸå‡†å¤‡ï¼š" class="headerlink" title="å‰æœŸå‡†å¤‡ï¼š"></a>å‰æœŸå‡†å¤‡ï¼š</h3><h4 id="xquartz-ä»‹ç»ï¼š"><a href="#xquartz-ä»‹ç»ï¼š" class="headerlink" title="xquartz ä»‹ç»ï¼š"></a>xquartz ä»‹ç»ï¼š</h4><p>ã€€ã€€<font color=#FF0000  size=4 face="å¹¼åœ†"><strong>xquartz æ˜¯è‹¹æœç³»ç»Ÿä¸­æ”¯æŒçª—å£ç•Œé¢çš„ä¸€ä¸ªé¡¹ç›®ï¼›</strong> </font><br><strong>å…ˆå†³æ¡ä»¶ï¼š</strong></p><ol><li>XQuartz &gt;&#x3D; 2.7.7</li><li>ä¸èƒ½å°†Gatekeeperè®¾ç½®ä¸ºé˜»æ­¢æœªç­¾åçš„ç¨‹åºåŒ…ã€‚</li></ol><p><strong>å®‰è£…ï¼š</strong> .pkgæ–‡ä»¶å’Œtarballå­˜æ¡£å‡å¯åœ¨<a href="https://dl.winehq.org/wine-builds/macosx/download.html">https://dl.winehq.org/wine-builds/macosx/download.htmlä¸Šè·å¾—</a>ã€‚å¯¹äºæ²¡æœ‰ç»éªŒçš„ç”¨æˆ·ï¼Œå»ºè®®ä».pkgæ–‡ä»¶å®‰è£…ã€‚</p><p>ã€€ã€€Wine çš„è¿è¡Œéœ€è¦ <code>xquartz</code> çš„æ”¯æŒï¼Œå¦‚æœå…ˆæ²¡æœ‰å®‰è£… xquartz å°±ç›´æ¥å®‰è£…Wine ç¨‹åºï¼Œå°±ä¼šç›´æ¥æŠ¥é”™ã€‚</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200225_113553.png" width="60%" / loading="lazy"><h4 id="å®‰è£…-xquartzï¼Œæ‰§è¡Œå®‰è£…å‘½ä»¤ï¼š"><a href="#å®‰è£…-xquartzï¼Œæ‰§è¡Œå®‰è£…å‘½ä»¤ï¼š" class="headerlink" title="å®‰è£… xquartzï¼Œæ‰§è¡Œå®‰è£…å‘½ä»¤ï¼š"></a>å®‰è£… xquartzï¼Œæ‰§è¡Œå®‰è£…å‘½ä»¤ï¼š</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">brew cask <span class="token function">install</span> xquartz //XQuartzå¯ä»¥ä½¿ç”¨å®‰è£…ï¼›å®‰è£…æœ€åä¸€æ­¥éœ€è¦è¾“å…¥å¯†ç <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200225_114138.png" width="60%" / loading="lazy"><br><h3 id="ä¸‹è½½-wine-ï¼ˆMacOS-ç‰ˆï¼‰ç¨‹åºï¼š"><a href="#ä¸‹è½½-wine-ï¼ˆMacOS-ç‰ˆï¼‰ç¨‹åºï¼š" class="headerlink" title="ä¸‹è½½ wine ï¼ˆMacOS ç‰ˆï¼‰ç¨‹åºï¼š"></a>ä¸‹è½½ wine ï¼ˆMacOS ç‰ˆï¼‰ç¨‹åºï¼š</h3><p>ã€€ã€€<font color=#FF0000  size=4 face="å¹¼åœ†">å¼€å‘å’Œç¨³å®šåˆ†æ”¯çš„æ­£å¼WineHQè½¯ä»¶åŒ…å¯ç”¨äºmacOS 10.8è‡³10.14 <em><strong>ï¼ˆWineä¸é€‚ç”¨äºmacOS Catalina 10.15ï¼‰</strong></em>ã€‚</font></p><p>å®˜ç½‘ï¼š<a href="https://dl.winehq.org/wine-builds/macosx/download.html">https://dl.winehq.org/wine-builds/macosx/download.html</a> </p><p>åœ°å€ï¼š<a href="https://pan.baidu.com/s/1fjoK8BFANtEt5fzyD2Dx_Q">https://pan.baidu.com/s/1fjoK8BFANtEt5fzyD2Dx_Q</a>  å¯†ç :4qrz</p><p><strong>ç‰ˆæœ¬è¯´æ˜ï¼š</strong></p><ul><li>â€œWine Stableâ€ï¼šå…¬å¼€çš„ç¨³å®šç‰ˆï¼ˆæ¨èï¼‰</li><li>â€œWine Developmentâ€ï¼šå¼€å‘ç‰ˆæœ¬</li><li>â€œWine Stagingâ€ï¼šåœ¨å‘å¸ƒç¨³å®šç‰ˆä¹‹å‰çš„æœ€åä¸€ä¸ªæµ‹è¯•ç‰ˆæœ¬</li></ul><p>&lt;img src&#x3D;â€<a href="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200225_120637.png&quot;">https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200225_120637.png&quot;</a> width&#x3D;â€60%â€</p><br><h3 id="å®‰è£…-wine-ç¨‹åºï¼š"><a href="#å®‰è£…-wine-ç¨‹åºï¼š" class="headerlink" title="å®‰è£… wine ç¨‹åºï¼š"></a>å®‰è£… wine ç¨‹åºï¼š</h3><ol><li><p>åŒå‡» winehq-stable-5.0.pkg ç¨‹åº</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200225_114927.png" width="60%" / loading="lazy"></li><li><p>é€‰æ‹©ä¸ºæ‰€æœ‰ç”¨æˆ·å®‰è£…</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200225_114953.png" width="60%" / loading="lazy"></li><li><p>å‹¾é€‰ 64bitï¼Œç”¨äºå¯ä»¥å®‰è£… windows çš„ 64 ä½è½¯ä»¶</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200225_115047.png" width="60%" / loading="lazy"></li><li><p>ç­‰å¾…å®‰è£…è¿‡ç¨‹</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200225_115103.png" width="60%" / loading="lazy"> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200225_115117.png" width="60%" / loading="lazy"> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200225_115124.png" width="60%" / loading="lazy"></li><li><p>å®‰è£…æˆåŠŸ</p><p>å®‰è£…æˆåŠŸä¼šåœ¨å¯åŠ¨å™¨é‡Œé¢ï¼Œå‡ºç°å¦‚ä¸‹å¦‚çš„å›¾æ ‡ï¼›ä½†æ˜¯å¯åŠ¨ä¹‹å</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200225_115149.png" style="zoom:50%;" / loading="lazy"></li></ol><br><h3 id="è¿è¡Œ-wine-ç¨‹åºï¼š"><a href="#è¿è¡Œ-wine-ç¨‹åºï¼š" class="headerlink" title="è¿è¡Œ wine ç¨‹åºï¼š"></a>è¿è¡Œ wine ç¨‹åºï¼š</h3><p>ã€€ã€€Wine Stable è¿™ä¸ªè½¯ä»¶ï¼Œå¯åŠ¨ä¹‹åï¼Œå¹¶ä¸ä¼šæœ‰å¸¸è§çš„ GUI ç•Œé¢ï¼Œåªæœ‰ä¸€ä¸ªç»ˆç«¯çš„ç•Œé¢ï¼Œå¹¶ä¸”è¿è¡Œè¯¥è½¯ä»¶åªèƒ½å¤Ÿä½¿ç”¨å‘½ä»¤ï¼›å¹¸è¿çš„æ˜¯ï¼Œå‘½ä»¤éå¸¸ç®€å•</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200225_115313.png" width="70%"/ loading="lazy"> <p>è¿è¡Œæˆ‘æƒ³è¦å®‰è£…çš„ <code>BaiduNetdisk_6.8.9.1.exe</code> ï¼ˆå¸¦è·¯å¾„ï¼‰ç¨‹åºï¼Œåœ¨ç»ˆç«¯è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">wine /Users/muli/softInstll/BaiduNetdisk_6.8.9.1.exe<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200225_115703.png" width="70%" / loading="lazy"><p>è¿è¡Œä¹‹åï¼Œä¼šå‘ç°æ²¡æœ‰æ›´æ–° wine çš„é…ç½®ï¼Œè¦å®‰è£… Wine Gecko å®‰è£…å™¨ï¼Œç‚¹å‡»å®‰è£…å³å¯ã€‚ä¸‹è½½é€Ÿåº¦éå¸¸ä¹‹æ…¢ï¼ŒæŒ‚ç€æ¢¯å­è€å¿ƒç­‰å¾…ï¼›è‹¥æ˜¯ä¸­é—´å¤±è´¥ï¼Œå¯ä»¥ç‚¹å‡»å–æ¶ˆï¼Œå¤šæ¬¡é‡å¤å®‰è£…ï¼Œä¸€ç›´åˆ°ç­‰åˆ°å…¨éƒ¨ä¸‹è½½å’Œå®‰è£…æˆåŠŸã€‚</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200225_115800.png" width="70%"/ loading="lazy"> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200225_120422.png" width="70%"/ loading="lazy"><p>å®‰è£…æˆåŠŸï¼š</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200225_133245.png" width="70%"/ loading="lazy"><p>ä¹Ÿå¯ä»¥æ‰§è¡Œå‘½ä»¤ <code>winecfg</code>ï¼Œæ¥è¿›è¡Œä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200225_122856.png"  width="50%" / loading="lazy"><p>å°±æ˜¯äº«å—ä½¿ç”¨çš„æˆæœæ—¶å€™ï¼Œåœ¨ MacOS é‡Œé¢ä½¿ç”¨è¯¥ windows çš„ç™¾åº¦ç½‘ç›˜ï¼Œ äº«å— mac æ²¡æœ‰çš„éšè—ç©ºé—´åŠŸèƒ½å’Œæ­£å¸¸çš„ä½¿ç”¨å¿«ä¹ã€‚å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ svip çš„åŠ é€Ÿä¸‹ï¼Œå¯ä»¥å®ç°é«˜é€Ÿä¸‹è½½ã€‚ </p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200225_192533.png" width="90%"/ loading="lazy"><br><h3 id="ç”¨-wine-è¿è¡Œ-win-å®˜ç½‘ç™¾åº¦ç½‘ç›˜-ç¨‹åºï¼š"><a href="#ç”¨-wine-è¿è¡Œ-win-å®˜ç½‘ç™¾åº¦ç½‘ç›˜-ç¨‹åºï¼š" class="headerlink" title="ç”¨ wine è¿è¡Œ win(å®˜ç½‘ç™¾åº¦ç½‘ç›˜) ç¨‹åºï¼š"></a>ç”¨ wine è¿è¡Œ win(å®˜ç½‘ç™¾åº¦ç½‘ç›˜) ç¨‹åºï¼š</h3><ul><li><p><strong>æ–¹å¼ä¸€ï¼š</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">//æ‰§è¡Œå‘½ä»¤wine è·¯å¾„+xxx.exe  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p><strong>æ–¹å¼äºŒï¼š</strong></p><p>é¼ æ ‡å³é”®æ‰§è¡Œï¼Œå¦‚å›¾</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img02/mark_Snip20200225_200943.png"  width="70%"/ loading="lazy"></li></ul><br><h3 id="ç”¨-wine-è¿è¡Œ-win-ç ´è§£PanDownload-ç¨‹åºã€éè™šæ‹Ÿæœºã€‘ï¼š"><a href="#ç”¨-wine-è¿è¡Œ-win-ç ´è§£PanDownload-ç¨‹åºã€éè™šæ‹Ÿæœºã€‘ï¼š" class="headerlink" title="ç”¨ wine è¿è¡Œ win(ç ´è§£PanDownload) ç¨‹åºã€éè™šæ‹Ÿæœºã€‘ï¼š"></a>ç”¨ wine è¿è¡Œ win(ç ´è§£PanDownload) ç¨‹åºã€éè™šæ‹Ÿæœºã€‘ï¼š</h3><p>ä¸‹è½½ PanDownload_v2.2.2 ç‰ˆæœ¬ä¹‹åï¼Œæ‰“å¼€æ–‡ä»¶ï¼Œè¿è¡Œå¦‚ä¸‹ï¼Œç„¶åæ‰«ç ç™»å½•è‡ªå·±çš„è´¦å·ï¼Œè‡ªè¡Œä¸‹è½½ï¼Œå¯è§é€Ÿåº¦å¯ä»¥æ²¡æœ‰è¢«çº¿é€Ÿã€‚</p> <img src="https://i.imgur.com/7qOjcx1.png" width="70%"/ loading="lazy"> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/img/2020/mark_mark_Snip20200306_123148.png" width="90%"/ loading="lazy"><br><h3 id="PanDownload-v2-2-2ä¸‹è½½åœ°å€ï¼š"><a href="#PanDownload-v2-2-2ä¸‹è½½åœ°å€ï¼š" class="headerlink" title="PanDownload_v2.2.2ä¸‹è½½åœ°å€ï¼š"></a>PanDownload_v2.2.2ä¸‹è½½åœ°å€ï¼š</h3><ul><li><p><strong>PC å†…æµ‹ç‰ˆï¼š</strong> </p><ul><li>é“¾æ¥:<a href="https://pan.baidu.com/s/1FNdXvzoWJX4JfWSsaJsoUw">https://pan.baidu.com/s/1FNdXvzoWJX4JfWSsaJsoUw</a>  å¯†ç :87d1</li></ul></li><li><p><strong>PC æ­£å¼ç‰ˆï¼š</strong></p><ul><li>é“¾æ¥:<a href="https://pan.baidu.com/s/1vSxzgw2wWHb5fQ_OCfoc5w">https://pan.baidu.com/s/1vSxzgw2wWHb5fQ_OCfoc5w</a>  å¯†ç :nibj</li></ul></li><li><p><strong>Android ç‰ˆæœ¬ï¼š</strong> </p><ul><li>é“¾æ¥:<a href="https://pan.baidu.com/s/1DDPwdpBpA0oP7uJgTAdsdw">https://pan.baidu.com/s/1DDPwdpBpA0oP7uJgTAdsdw</a>  å¯†ç :k69u</li></ul></li></ul><p>æ›´æ–°æ—¶é—´ 20202-03-06</p><br><h3 id="ç‚¹ä¸ªèµï¼Ÿ"><a href="#ç‚¹ä¸ªèµï¼Ÿ" class="headerlink" title="ç‚¹ä¸ªèµï¼Ÿ"></a>ç‚¹ä¸ªèµï¼Ÿ</h3><p>ä¸çœ‹çœ‹æœ¬å°ç»“çš„å°æ ‡é¢˜ï¼Ÿ</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - MacOS </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å°æŠ€å·§ï¼šQtCreatorç”¨å¿«æ·é”®ç§’å®ç°ï¼Œå£°æ˜åœ¨åŸºç±»ä¸­é‡å†™çš„æ´¾ç”Ÿç±»(çº¯)è™šå‡½æ•°</title>
      <link href="/posts/e34e1101/"/>
      <url>/posts/e34e1101/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>ã€€Qt Creator 5.9+ çš„ä¸€ä¸ªä½¿ç”¨æŠ€å·§ï¼Œä½¿ç”¨å¿«æ·é”®åœ¨æ´¾ç”Ÿç±»ä¸­ç›´æ¥å£°æ˜é‡å†™åŸºç±»çš„ï¼ˆçº¯ï¼‰è™šå‡½æ•°ï¼Œå’Œå¿«é€ŸğŸ”œå®ç°å£°æ˜ç±»çš„å®ç°ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="å¿«æ·é”®å£°æ˜é‡å†™çš„è™šå‡½æ•°ï¼š"><a href="#å¿«æ·é”®å£°æ˜é‡å†™çš„è™šå‡½æ•°ï¼š" class="headerlink" title="å¿«æ·é”®å£°æ˜é‡å†™çš„è™šå‡½æ•°ï¼š"></a>å¿«æ·é”®å£°æ˜é‡å†™çš„è™šå‡½æ•°ï¼š</h3><ol><li><p>æºæ–‡ä»¶é¡¶éƒ¨æœ‰ #include  QCommonStyle </p></li><li><p>è¯¥æ´¾ç”Ÿç±» MyStyle ç»§æ‰¿äº QCommonStyle</p></li><li><p>å…‰æ ‡åœ¨å•è¯ QCommonStyle ä¸Š </p></li><li><p>æŒ‰ä½ Command + é¼ æ ‡å³é”®ï¼Œå¼¹å‡ºèœå•æ  </p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/mark_Snip20200220_213755.jpeg" width="90%"/ loading="lazy"></li><li><p>é€‰ä¸­æ’å…¥ï¼ˆç»§æ‰¿äºçˆ¶ç±»çš„ï¼‰è™šå‡½æ•° âœ…</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/mark_Snip20200220_213843.jpeg" width="90%"/ loading="lazy"></li></ol><br>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QStyleè®¾ç½®ç•Œé¢çš„å¤–è§‚å’ŒQCommonStyleç»§æ‰¿å…³ç³»å›¾è®²è§£å’Œä½¿ç”¨</title>
      <link href="/posts/f6acd9d8/"/>
      <url>/posts/f6acd9d8/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  æœ¬æ–‡ç« è®²è§£ç±»å®¹å¦‚ä¸‹</p><ul><li><p>è®²è¿°ç»˜ç”»è‡ªå®šä¹‰é£æ ¼çš„ Style çš„æ¡†æ¶ç»“æ„ï¼›</p></li><li><p>ä½¿ç”¨ QStyle è®¾ç½®ç•Œé¢çš„å¤–è§‚</p></li><li><p>QStyle &#x2F; QCommonStyle ç»§æ‰¿å…³ç³»å›¾</p></li><li><p>å¦‚ä½•ç»§æ‰¿ QCommonStyle ç±»æ¥åˆ›å»ºè‡ªå·±çš„è‡ªå®šä¹‰çš„é£æ ¼æ ·å¼ xxStyle</p></li><li><p>è®²è§£å¦‚ä¸‹å‡½æ•°ï¼špolish()ï¼Œunpolish()ï¼ŒdrawPrimitive()ï¼ŒdrawControl()ï¼ŒsubElementRect()ï¼ŒdrawComplexControl()ï¼ŒsubControlRect()ï¼ŒpixelMetric()ï¼ŒstyleHint()</p></li></ul><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="QStyle-è®¾ç½®ç•Œé¢çš„å¤–è§‚ï¼š"><a href="#QStyle-è®¾ç½®ç•Œé¢çš„å¤–è§‚ï¼š" class="headerlink" title="QStyle è®¾ç½®ç•Œé¢çš„å¤–è§‚ï¼š"></a>QStyle è®¾ç½®ç•Œé¢çš„å¤–è§‚ï¼š</h2><p>ã€€ã€€å›  Qt æœ¬èº«å³æ˜¯è·¨å¹³å°çš„ä¸€ä¸ªç±»åº“ï¼Œå…¶ä¸­ GUI çš„æ§ä»¶ï¼Œåœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸‹ï¼Œä¼šæœ‰ç€ä¸åŒçš„æ˜¾ç¤ºæ•ˆæœï¼Œå°±æ˜¯é»˜è®¤ç¼ºçœæ•ˆæœã€‚å…¶ä¸­ <code>QApplication::style()</code> å¯ä»¥è¿”å›åº”ç”¨ç¨‹åºçš„ç¼ºçœæ ·å¼ã€‚Qt å†…ç½®äº†ä¸€ç³»åˆ—æ ·å¼ï¼Œwindows æ ·å¼å’Œ fusion æ ·å¼é»˜è®¤æ˜¯å¯ç”¨çš„ï¼Œè€Œæœ‰äº›æ ·å¼éœ€åœ¨ç‰¹å®šå¹³å°ä¸Šæ‰æœ‰ç”¨ï¼Œæ¯”å¦‚ windowsxp æ ·å¼ã€window svisata æ ·å¼ã€gtk æ ·å¼ã€macintosh æ ·å¼ç­‰ã€‚</p><p>ã€€ã€€Qt å†…ç½®çš„ç•Œé¢çš„æ§ä»¶éƒ½æ˜¯ä½¿ç”¨ <code>QStyle</code> æ¥è¿›è¡Œç»˜ç”»çš„ï¼Œæ¥ç¡®ä¿å®ƒä»¬åœ¨è¿è¡Œå¹³å°çš„ç•Œé¢æ•ˆæœæ˜¯ä¸€è‡´çš„ã€‚ä¸‹é¢ä»¥ <code>QTableWidget</code>ï¼ˆå«<code>QScrollBar</code>ï¼‰ åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸Šé¢çš„æ ·å¼æ•ˆæœï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/mark_20200216185631.png"/ loading="lazy"><p>ã€€ã€€å¯ä»¥çœ‹åˆ°ï¼Œå³ä½¿æ˜¯ç›¸åŒçš„æ§ä»¶ï¼Œä½¿ç”¨åŒä¸€ä¸ªä¸»é¢˜ Style åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸‹ï¼Œå…¶æ ·å¼ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚ä¸¥è°¨è¯´ï¼Œæœ‰é‚£ä¹ˆä¸€ä¸¢ä¸¢çš„ç»†èŠ‚å·®å¼‚ï¼Œä½†æ˜¯æ•´ä½“é£æ ¼åŸºæœ¬æ˜¯ä¿æŒä¸€è‡´çš„ã€‚</p><br><h2 id="QCommonStyle-ç»§æ‰¿å…³ç³»å›¾ï¼š"><a href="#QCommonStyle-ç»§æ‰¿å…³ç³»å›¾ï¼š" class="headerlink" title="QCommonStyle ç»§æ‰¿å…³ç³»å›¾ï¼š"></a>QCommonStyle ç»§æ‰¿å…³ç³»å›¾ï¼š</h2><p>ã€€ã€€ä¸‹é¢ç»™å‡º <code>QCommonStyle</code> ç±»çš„ç»§æ‰¿å…³ç³»å›¾ï¼›è¿™ä¸ªç±»æ˜¯ä¸€ä¸ªæ¯”è¾ƒå®Œæ•´çš„åŸºç±»çš„ã€Œegï¼šæŸä¸€å…·ä½“é£æ ¼ QWindowsStyleã€QMacStyleã€çš„åŸºç±»ã€‚<strong>å®ƒéå¸¸é‡è¦</strong></p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/mark_Snip20200216_231155.jpeg"/ loading="lazy"><br><h2 id="QCommonStyleï¼š"><a href="#QCommonStyleï¼š" class="headerlink" title="QCommonStyleï¼š"></a>QCommonStyleï¼š</h2><h3 id="Qt-æ–‡æ¡£ç†è§£ï¼š"><a href="#Qt-æ–‡æ¡£ç†è§£ï¼š" class="headerlink" title="Qt æ–‡æ¡£ç†è§£ï¼š"></a>Qt æ–‡æ¡£ç†è§£ï¼š</h3><p>é¦–å…ˆå‚çœ‹ Qt å®˜æ–¹èµ„æ–™ï¼š</p><blockquote><h2 id="è¯¦ç»†è¯´æ˜"><a href="#è¯¦ç»†è¯´æ˜" class="headerlink" title="è¯¦ç»†è¯´æ˜"></a>è¯¦ç»†è¯´æ˜</h2><p>è¿™ä¸ªæŠ½è±¡ç±»å®ç°äº†ä¸€äº›å°éƒ¨ä»¶çš„å¤–è§‚ï¼Œè¿™äº›å¤–è§‚æ˜¯Qtæä¾›å’Œæä¾›çš„æ‰€æœ‰GUIæ ·å¼æ‰€å…±æœ‰çš„ã€‚</p><p>ç”±äºQCommonStyleç»§æ‰¿äº†<a href="https://doc.qt.io/qt-5/qstyle.html">QStyle</a>ï¼Œå› æ­¤å…¶æ‰€æœ‰åŠŸèƒ½éƒ½åœ¨<a href="https://doc.qt.io/qt-5/qstyle.html">QStyle</a>æ–‡æ¡£ä¸­è¿›è¡Œäº†å……åˆ†è®°å½•ã€‚</p><p><strong>å¦è¯·å‚è§</strong><a href="https://doc.qt.io/qt-5/qstyle.html">QStyle</a>å’Œ<a href="https://doc.qt.io/qt-5/qproxystyle.html">QProxyStyle</a>ã€‚</p></blockquote><h3 id="é¡¹ç›®ä¸­ç†è§£ï¼š"><a href="#é¡¹ç›®ä¸­ç†è§£ï¼š" class="headerlink" title="é¡¹ç›®ä¸­ç†è§£ï¼š"></a>é¡¹ç›®ä¸­ç†è§£ï¼š</h3><p><strong>æ¥ç€ï¼Œå°±æ˜¯å®é™…é¡¹ç›®ä¸­ï¼Œå¯¹æ­¤ QCommonStyle ç±»çš„ç†è§£ï¼š</strong></p><p>ã€€ã€€<code>QCommonStyle</code> æ˜¯ä¸€ä¸ªå·²ç»æ¯”è¾ƒå®Œå¤‡çš„åŸºç¡€ç±»ï¼Œè¨€å¤–ä¹‹æ„æ˜¯ï¼Œå·²ç»å¯ä»¥çœ‹æˆæŸä¸€ä¸ªå…·ä½“çš„æ ·å¼é£æ ¼äº†ï¼Œä½†æ˜¯å…·ä½“çš„æŸäº›ç»†èŠ‚è¿˜æ˜¯éœ€è¦æ‰“ç£¨ï¼ˆå³å†æ´¾ç”Ÿä¸€ä¸ªå­ç±»ï¼‰ï¼›ä½†æ˜¯è¿™å¹¶ä¸å¦¨ç¢ä»€ä¹ˆ(ğŸ¶å¤´)ï¼Œå¯ä»¥ä½œä¸ºæˆ‘ä»¬åœ¨å†™è‡ªå®šä¹‰é£æ ¼æ—¶å€™çš„ä¸€ä¸ª <strong>æœ€é‡è¦çš„ã€ä¹Ÿæ˜¯æœ€ç»å¸¸ç¿»çœ‹æºç çš„å‚è€ƒç±»</strong> ï¼›åƒå…·ä½“çš„æ§ä»¶ QSliderï¼ŒQProgressBarã€QPushButton ç­‰ GUI æ§ä»¶çš„ç•Œé¢æ ·å¼ï¼Œéƒ½æ˜¯åœ¨è¿™é‡Œé¢å®ç°çš„ã€‚</p><p>ã€€ã€€è€Œ QStyle æ˜¯ä¸€ä¸ªçº¯è™šæŠ½è±¡åŸºç±»ã€‚æ˜¯æ‰€æœ‰é£æ ¼çš„æºå¤´ç¥–ä¸Šï¼ŒæŸ¥çœ‹ä»–çš„ .h æ–‡ä»¶ä¼šæ”¶è·é£æ ¼çš„æ¡†æ¶ï¼Œåˆçœ‹å¯ä»¥çœ‹å‡ºä¸€ä¸ªæ¨¡ç³Šæ¡†æ¶ï¼Œåç»­æœ‰ä¸€å®šå®æˆ˜ä»£ç å†æ¥åå¤å›å‘³ï¼Œä½“ä¼šæ¡†æ¶ã€‚</p><br><h2 id="åˆ›å»ºä¸€ç§è‡ªå®šä¹‰-Style-é£æ ¼ï¼š"><a href="#åˆ›å»ºä¸€ç§è‡ªå®šä¹‰-Style-é£æ ¼ï¼š" class="headerlink" title="åˆ›å»ºä¸€ç§è‡ªå®šä¹‰ Style é£æ ¼ï¼š"></a>åˆ›å»ºä¸€ç§è‡ªå®šä¹‰ Style é£æ ¼ï¼š</h2><p>ã€€ã€€è§‰å¾—æ‰€æœ‰æ§ä»¶çš„é£æ ¼æ ·å¼éƒ½æ˜¯ä¸æ»¡è¶³ä½ çš„å®¡ç¾ï¼Œé‚£åˆå¦‚ä½•åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„é£æ ¼ç±»å‹ï¼Œå±äºå’Œ MacOSï¼ŒWindowsï¼ŒLinux å¹³çº§çš„é‚£ç§é£æ ¼è¯¥å¦‚ä½•åˆ›å»ºå‘¢ï¼Ÿ</p><p>ã€€ã€€<strong>è¿™é‡Œæˆ‘åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰é£æ ¼ <font color=#D0087E size=4 face="å¹¼åœ†">class: MyStyle</font></strong></p><p>ã€€ã€€å› ä¸ºå¸Œæœ›èƒ½å¤Ÿè·¨å¹³å°ä½¿ç”¨è¯¥é£æ ¼ï¼Œç”±ä¸Šå›¾çš„ç»§æ‰¿å…³ç³»å›¾å¯çœ‹ï¼Œä¸€èˆ¬æœ‰ä¸‰ç§ç»§æ‰¿æ–¹å¼ï¼š</p><p>ã€€ã€€QCommonStyle ç±»å®ç°äº† GUI æ§ä»¶çš„å…±åŒç•Œé¢å¤–è§‚ï¼Œ å› æ­¤è¯¥ç±»å®ç°çš„ç•Œé¢å¹¶ä¸ä¸€å®šå®Œæ•´ï¼Œè€Œ QProxyStyle ç±»åˆ™å®ç°äº†ä¸€ä¸ª QStyle(é€šå¸¸æ˜¯é»˜è®¤ çš„ç³»ç»Ÿæ ·å¼)ï¼Œå› æ­¤è¯¥ç±»çš„å®ç°æ¯”è¾ƒå®Œæ•´ã€‚</p><ul><li><p>ç»§æ‰¿äº QCommonStyle ï¼š</p><ul><li>ä¼˜ç‚¹ä¸€ï¼šæ¥å£å¾ˆå…¨é¢ï¼Œä¸éœ€è¦å†™è¿‡å¤šåœ°ä»£ç ï¼ˆç›¸å¯¹ç›´æ¥ç»§æ‰¿ QStyle è€Œè¨€ï¼‰</li><li>ä¼˜ç‚¹äºŒï¼šå¯ä»¥è·¨å¹³å°ä½¿ç”¨è¯¥é£æ ¼ï¼ˆç›¸å¯¹ç›´æ¥ç»§æ‰¿äº QMacStyleï¼‰</li></ul></li><li><p>ç»§æ‰¿äº QProxyStyle ï¼š</p><ul><li>ä¼˜ç‚¹ï¼šQCommonStyle çš„å­ç±» QProxyStyle</li></ul></li><li><p>ç»§æ‰¿äº QStyle :</p><ul><li>ç¼ºç‚¹æ˜æ˜¾ï¼šé‡Œé¢è™šå‡½æ•°è¶…çº§å¤šï¼Œæ•´ä¸ªå·¥ä½œé‡åºå¤§æ— æ¯”</li></ul></li></ul><p>ã€€ã€€ç„¶ååœ¨è¯¥ <font color=#D0087E size=4 face="å¹¼åœ†">class: MyStyle</font> é‡Œé¢ï¼Œé‡å†™å¦‚ä¸‹çš„è™šå‡½æ•°å³å¯ï¼šğŸ‘‡çš„æ˜¯å¿…ä¸å¯å°‘</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// QStyle interface</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">polish</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>widget<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">unpolish</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>widget<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">drawPrimitive</span><span class="token punctuation">(</span>PrimitiveElement pe<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOption <span class="token operator">*</span>opt<span class="token punctuation">,</span> QPainter <span class="token operator">*</span>p<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>w<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">drawControl</span><span class="token punctuation">(</span>ControlElement element<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOption <span class="token operator">*</span>opt<span class="token punctuation">,</span> QPainter <span class="token operator">*</span>p<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>w<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>    QRect <span class="token function">subElementRect</span><span class="token punctuation">(</span>SubElement subElement<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOption <span class="token operator">*</span>option<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>widget<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">drawComplexControl</span><span class="token punctuation">(</span>ComplexControl cc<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOptionComplex <span class="token operator">*</span>opt<span class="token punctuation">,</span> QPainter <span class="token operator">*</span>p<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>widget<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>    QRect <span class="token function">subControlRect</span><span class="token punctuation">(</span>ComplexControl cc<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOptionComplex <span class="token operator">*</span>opt<span class="token punctuation">,</span> SubControl sc<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>widget<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> <span class="token function">pixelMetric</span><span class="token punctuation">(</span>PixelMetric metric<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOption <span class="token operator">*</span>option<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>widget<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>    QSize <span class="token function">sizeFromContents</span><span class="token punctuation">(</span>ContentsType ct<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOption <span class="token operator">*</span>opt<span class="token punctuation">,</span> <span class="token keyword">const</span> QSize <span class="token operator">&amp;</span>contentsSize<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>w<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> <span class="token function">styleHint</span><span class="token punctuation">(</span>StyleHint stylehint<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOption <span class="token operator">*</span>opt<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>widget<span class="token punctuation">,</span> QStyleHintReturn <span class="token operator">*</span>returnData<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="ç»§æ‰¿-QStyle-x2F-QCommonStyle-çš„è™šå‡½æ•°çš„å«ä¹‰ï¼š"><a href="#ç»§æ‰¿-QStyle-x2F-QCommonStyle-çš„è™šå‡½æ•°çš„å«ä¹‰ï¼š" class="headerlink" title="ç»§æ‰¿ QStyle&#x2F;QCommonStyle çš„è™šå‡½æ•°çš„å«ä¹‰ï¼š"></a>ç»§æ‰¿ QStyle&#x2F;QCommonStyle çš„è™šå‡½æ•°çš„å«ä¹‰ï¼š</h2><p>ã€€ã€€å› ä¸ºéœ€è¦åœ¨ <font color=#D0087E size=4 face="å¹¼åœ†"><strong>class: MyStyle</strong></font> é‡Œé¢ç»§æ‰¿é‡å†™å¦‚ QStyle&#x2F;QCommonStyle çš„è™šå‡½æ•°ï¼›è¿™é‡Œè®²è¿°å®ƒä»¬çš„åŸºæœ¬ä½œç”¨ã€‚ä»¥åŠè°ƒç”¨é¡ºåºï¼ŒçŠ¹è®°å¾—ï¼Œç½‘ä¸Šè¿™ä¸€å—çš„æ•™ç¨‹åŸºæœ¬æ²¡æœ‰ï¼Œåªæœ‰é‚£ä¹ˆä¸€ç¯‡çš„æ–‡ç« è®²è§£çš„å¾ˆæ£’ï¼Œåå¤æ£æ‘©åéä»¥ä¸Šï¼Œä¹Ÿæ€»æ˜¯æ˜¯æ˜¯è€Œéçš„æ„Ÿè§‰ï¼Œæœ¦èƒ§ä¸”æ¨¡ç³Šã€‚è¿™ä¹Ÿç®—æ˜¯æˆ‘å‡ºè¯¥æ–‡ç« çš„ä¸€ä¸ªå¾ˆå¤§åŸå› ã€‚</p><p>ã€€ã€€è¿™äº›å‡½æ•°ä¹‹é—´çš„è°ƒç”¨é¡ºåºå¦‚ä¸‹ã€Œå¹¶ä¸æ˜¯æ˜¯ğŸ’¯çš„ä¸¥è°¨ã€ï¼Œä¸ºäº†ç†è§£æ¡†æ¶å’Œè„‰ç»œç»“æ„ï¼Œåœ¨ä¸€ä¸ªæ¯”è¾ƒçŸ­çš„æ—¶é—´å†…å…¥é—¨ï¼Œå¯ä»¥è¿™æ ·ç†è§£ï¼Œåœ¨æ²¡æœ‰å¤§çš„é”™è¯¯ä¸‹ï¼š</p><h3 id="æ§ä»¶çš„è¡Œä¸ºçš„æµç¨‹å›¾ï¼š"><a href="#æ§ä»¶çš„è¡Œä¸ºçš„æµç¨‹å›¾ï¼š" class="headerlink" title="æ§ä»¶çš„è¡Œä¸ºçš„æµç¨‹å›¾ï¼š"></a>æ§ä»¶çš„è¡Œä¸ºçš„æµç¨‹å›¾ï¼š</h3><ul><li><strong>æ’ä»¶ç›¸å…³</strong><ol><li>å®‰è£…æŒ‡å®šæ§ä»¶çš„æŒ‡å®šåŠŸèƒ½</li><li>å¸è½½æŒ‡å®šæ§ä»¶çš„æŒ‡å®šåŠŸèƒ½</li><li>é¢„å…ˆé¢„å¤‡ï¼ˆå¼€å¯ï¼‰æŒ‡å®šæ§ä»¶çš„æŒ‡å®šåŠŸèƒ½ï¼Œå‡†å¤‡å¼€å¯</li></ol></li></ul><p>ã€€ã€€æ­¤ä¸‰ä¸ªå‡½æ•°æ‘†æ”¾ä¸€èµ·ï¼Œå…¶æ‰§è¡Œé¡ºåºç›¸ä¼¼ï¼Œç”¨æ¥åˆå§‹åŒ–æ§ä»¶çš„é™„åŠ åŠŸèƒ½ã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/mark_%E6%9C%AA%E5%91%BD%E5%90%8D%E6%96%87%E4%BB%B6%E7%9A%84%E5%89%AF%E6%9C%AC.png"/ loading="lazy"><h3 id="æ§ä»¶çš„ç»˜ç”»æµç¨‹ï¼š"><a href="#æ§ä»¶çš„ç»˜ç”»æµç¨‹ï¼š" class="headerlink" title="æ§ä»¶çš„ç»˜ç”»æµç¨‹ï¼š"></a>æ§ä»¶çš„ç»˜ç”»æµç¨‹ï¼š</h3><ul><li><strong>ç»˜ç”»ç›¸å…³ï¼š</strong><ol><li><strong>Qt åŸç”Ÿ</strong> æˆ–  <strong>è‡ªå®šä¹‰éœ€æ±‚</strong> å®šä¹‰å¥½ä¸€äº›åŸºç¡€çš„å®½åº¦ï¼Œç”¨æšä¸¾å€¼è®°å½•ğŸ“ä¸€äº›åŸºæœ¬çš„åƒç´ å€¼ï¼ˆä¸€èˆ¬ int ç±»å‹ï¼‰</li><li>å®šä¹‰è¯¥ GUI æ§ä»¶çš„çŸ©å½¢å¤§å°ï¼Œç»™å®ƒä¸€ä¸ªç³»ç»Ÿçš„åˆå§‹åŒ–å¤§å° QSize</li><li>æ ¹æ®è¯¥ QRect å¤§å°åˆ†ä¸ºå¤šä¸ªå°çš„ QRectï¼ˆè¿™ä¸ªæ˜¯æœ‰ Qt æœ¬ç”Ÿå°±å°†ä¸€ä¸ª<strong>å¤æ‚æ§ä»¶</strong> ç”¨æšä¸¾å€¼æ¥åˆ’åˆ†å¥½äº†ä¸ºè‹¥å¹²ä¸ª<strong>ç®€å•åœ°æ§ä»¶</strong> ï¼‰</li><li>é€šè¿‡<code>drawComplexControl()</code>æˆ–<code>drawControl()</code>å‘ä¸‹åˆ†æ´¾åˆ’åˆ†ä»»åŠ¡</li><li>å¯¹ GUI æ§ä»¶è¿›è¡Œé£æ ¼çš„é‡ç»˜</li></ol></li></ul><p><font color=#FF0000 Â size=4 face="å¹¼åœ†">è¿™é‡Œçš„ç®­é»‘è‰²â†’ï¼Œæ˜¯æŒ‡è°ƒç”¨é¡ºåºï¼Œæœ‰æ—¶å€™ä¹Ÿå¯ä»¥ä»£æŒ‡ A è°ƒç”¨äº† B çš„å‡½æ•°ï¼›è€Œæ£•è‰²â¡ï¸è¡¨ç¤ºä¹Ÿå¯ä»¥è·³è¿‡é»‘è‰²ä¸€éƒ¨åˆ†ï¼Œç›´æ¥è·³ç€è°ƒç”¨ä¸‹é¢çš„ã€‚</font></p><ul><li><font color=#FF0000  size=4 face="å¹¼åœ†">å½“é‡åˆ°ç®€å•æ§ä»¶æ—¶å€™ï¼Œå¯ä»¥ç›´æ¥æŒ‰ç…§è¤è‰²ï¼Œç›´æ¥è¿›è¡Œå…·ä½“çš„ç»˜ç”»ï¼Œè€Œæ²¡æœ‰æ‹†åˆ†æ­¥éª¤ã€‚</font></li><li><font color=#FF0000  size=4 face="å¹¼åœ†">è€Œé‡åˆ°å¤æ‚æ§ä»¶æ—¶å€™å°±å¯ä»¥æŒ‰ç…§é»‘è‰²â†’ä¾é¡ºåºæ‹†åˆ†ä¸ºå¤šä¸ªç®€å•æ§ä»¶ï¼Œè¿›è¡Œç»˜ç”»</font></li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/mark_IMG_1584.PNG"/ loading="lazy"><br><h2 id="è™šå‡½æ•°ä½œç”¨-ï¼š"><a href="#è™šå‡½æ•°ä½œç”¨-ï¼š" class="headerlink" title="è™šå‡½æ•°ä½œç”¨:ï¼š"></a>è™šå‡½æ•°ä½œç”¨:ï¼š</h2><p>ã€€ã€€ä¸Šé¢ç»§æ‰¿çš„ä¸€äº›éœ€è¦é‡å†™çš„è™šå‡½æ•°çš„ï¼Œå®ƒä»¬å¤§è‡´çš„åŠŸèƒ½å¦‚ä¸‹ï¼Œè°ƒç”¨æ­¥éª¤ä¹Ÿæ˜¯å¦‚ä¸‹é¢æ‰€è®²ã€‚çŠ¹è®°å¾—ï¼Œå½“åˆåˆçœ‹ä»£ç æ‡µé€¼ï¼ŒæŸ¥é˜… Qt æ–‡æ¡£ Assistant é‡Œé¢ä»€ä¹ˆéƒ½æ²¡å†™ï¼Œwtfâ“â“â“</p><p>ã€€ã€€å†æ¥å›é¡¾æ„Ÿå—ä¸€ä¸‹å®˜æ–¹æ²¡æœ‰è¯´æ˜å¤–åŠ å¥—å¨ƒçš„éªšæ“ä½œï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/mark_Snip20200218_003815.jpeg"/ loading="lazy"><br><h3 id="polish"><a href="#polish" class="headerlink" title="polish():"></a>polish():</h3><blockquote><p><font color=#D0087E size=4 face="å¹¼åœ†">&#x2F;&#x2F;polish():</font>  å®‰è£… GUI çš„æŸæ§ä»¶çš„æŸä¸€åŠŸèƒ½ï¼Œå¯ç”¨è¯¥è¡Œä¸º<br>virtual void polish(QWidget *widget) override;</p></blockquote><p><strong>åˆ†æï¼š</strong> </p><p>ã€€ã€€ç”¨äºåˆå§‹åŒ–éƒ¨ä»¶çš„å¤–è§‚ï¼Œä¼šåœ¨éƒ¨ä»¶åˆ›å»ºå®Œæˆä¹‹åï¼Œåœ¨ç¬¬ä¸€æ¬¡æ˜¾ç¤ºä¹‹å‰è¢«è°ƒç”¨ï¼Œé»˜ è®¤å®ç°ä»€ä¹ˆä¹Ÿä¸åšã€‚å­ç±»åŒ– QStyle æ—¶ï¼Œå¯åˆ©ç”¨ä»¥ä¸Šå‡½æ•°çš„è°ƒç”¨æ—¶æœºï¼Œå¯¹éƒ¨ä»¶çš„ä¸€äº›å±æ€§ è¿›è¡Œåˆå§‹åŒ–ã€‚</p><p>ã€€ã€€è¿™ä¸ªå‡½æ•°ç†è§£èµ·æ¥æœ‰å›°éš¾ï¼Œè‡³å°‘ä¸€å¼€å§‹æ˜¯ï¼Œé‚£ä¹ˆå°±ä¸¾ä¸€ä¸ªå®é™…éœ€æ±‚çš„æ —å­ï¼š</p><p><strong>å¦‚æœæ£€æµ‹åˆ°è¯¥æ§ä»¶æ˜¯ QScrollBar çš„è¯ï¼Œå°±è®¾ç½®å…¶ä¸ºé€æ˜ï¼›</strong></p><p> <font color=#FE7207  size=4 face="å¹¼åœ†"><em>Qt::WA_OpaquePaintEventæšä¸¾å«ä¹‰ï¼š</em></font></p><p><font color=#FE7207  size=4 face="å¹¼åœ†"> æ³¨æ„ï¼šä¸WA_NoSystemBackgroundä¸åŒï¼ŒWA_OpaquePaintEventåŠªåŠ›é¿å…é€æ˜çš„çª—å£èƒŒæ™¯ã€‚Â </font></p><p>æ³¨ï¼šå¯ä»¥æƒ³è±¡ä¸º MacOS ç³»ç»Ÿï£¿çš„æ»šåŠ¨æ¡ï¼Œé¼ æ ‡ç¦»å¼€å°±ä¼šé€æ¸æ¶ˆå¤±ï¼ˆéšè—ã€é€æ˜ï¼‰çš„æ•ˆæœã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token class-name">MyStyle</span><span class="token double-colon punctuation">::</span><span class="token function">polish</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>w<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">QCommonStyle</span><span class="token double-colon punctuation">::</span><span class="token function">polish</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token generic-function"><span class="token function">qobject_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>QComboBox <span class="token operator">*</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>w<span class="token punctuation">)</span>            <span class="token operator">||</span> <span class="token generic-function"><span class="token function">qobject_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>QScrollBar <span class="token operator">*</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        w<span class="token operator">-></span><span class="token function">setAttribute</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>WA_Hover<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> scrollBar <span class="token operator">=</span> <span class="token generic-function"><span class="token function">qobject_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>QScrollBar <span class="token operator">*</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">)</span>        scrollBar<span class="token operator">-></span><span class="token function">setAttribute</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>WA_OpaquePaintEvent<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="unpolish"><a href="#unpolish" class="headerlink" title="unpolish():"></a>unpolish():</h3><blockquote><p><font color=#D0087E size=4 face="å¹¼åœ†">&#x2F;&#x2F;unpolish():</font>  å¸è½½ GUI çš„æŸæ§ä»¶çš„æŸä¸€åŠŸèƒ½ï¼Œç¦ç”¨è¯¥è¡Œä¸º </p><p>virtual void unpolish(QWidget *widget) override;</p></blockquote><p><strong>åˆ†æï¼š</strong> </p><p>ã€€ã€€ä½œç”¨å’Œã€€polish()ã€€ç›¸ä¼¼ï¼Œä½†åªæœ‰åœ¨éƒ¨ä»¶è¢«é”€æ¯æ—¶æ‰ä¼šè¢«è°ƒç”¨ã€‚ä¸¾ä¸€ä¸ªå®é™…éœ€æ±‚çš„æ —å­ï¼š</p><p><strong>å¦‚æœæ£€æµ‹åˆ°è¯¥æ§ä»¶æ˜¯ QScrollBar çš„è¯ï¼Œå°±è®¾ç½®å…¶ä¸é€æ˜ï¼›</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token class-name">MyStyle</span><span class="token double-colon punctuation">::</span><span class="token function">unpolish</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>w<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">QCommonStyle</span><span class="token double-colon punctuation">::</span><span class="token function">unpolish</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token generic-function"><span class="token function">qobject_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>QScrollBar <span class="token operator">*</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">)</span>      w<span class="token operator">-></span><span class="token function">setAttribute</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>WA_Hover<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> scrollBar <span class="token operator">=</span> <span class="token generic-function"><span class="token function">qobject_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>QScrollBar <span class="token operator">*</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">)</span>      scrollBar<span class="token operator">-></span><span class="token function">setAttribute</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>WA_OpaquePaintEvent<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="styleHint"><a href="#styleHint" class="headerlink" title="styleHint():"></a>styleHint():</h3><blockquote><p><font color=#D0087E size=4 face="å¹¼åœ†">&#x2F;&#x2F;styleHint():</font>  å¼€å¯æˆ–å…³é—­æŸä¸€ GUI çš„æ§ä»¶çš„è¡Œä¸ºï¼Œæˆ–å¼€å¯é€‰æ‹©æŒ‡å®šçš„æŸç§ç‰¹æ€§</p><p>virtual int styleHint(StyleHint stylehint, const QStyleOption *opt, const QWidget *widget, QStyleHintReturn *returnData) const override;</p></blockquote><p><strong>åˆ†æï¼š</strong></p><p>ã€€ã€€è¿™ä¸ªåŒæ ·æ˜¯ä¸æ€ä¹ˆå¥½ç†è§£ã€‚ä¸¾ä¸€ğŸï¼š</p><p><strong>å¯¹ QSlider æ§ä»¶ï¼Œå¼€å¯é¼ æ ‡å·¦é”®å’Œä¸­é”®ï¼Œé¼ æ ‡ğŸ–±çš„ä¸­é”®(å’Œâ¬…ï¸é”®)æŒ‡æ»‘æ§½å“ªä¸€ä¸ªåˆ»åº¦ï¼Œå…¶æ¸¸æ ‡å°±è·³è½¬åˆ°è¯¥åˆ»åº¦å€¼çš„åœ°æ–¹</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token class-name">MyStyle</span><span class="token double-colon punctuation">::</span><span class="token function">styleHint</span><span class="token punctuation">(</span>QStyle<span class="token double-colon punctuation">::</span>StyleHint sh<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOption <span class="token operator">*</span>opt<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>w<span class="token punctuation">,</span> QStyleHintReturn <span class="token operator">*</span>shret<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">&#123;</span>    <span class="token keyword">switch</span> <span class="token punctuation">(</span>sh<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">case</span> SH_Slider_AbsoluteSetButtons<span class="token operator">:</span>        <span class="token keyword">return</span> Qt<span class="token double-colon punctuation">::</span>LeftButton <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>MidButton<span class="token punctuation">;</span>    <span class="token keyword">default</span><span class="token operator">:</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token class-name">QCommonStyle</span><span class="token double-colon punctuation">::</span><span class="token function">styleHint</span><span class="token punctuation">(</span>sh<span class="token punctuation">,</span> opt<span class="token punctuation">,</span> w<span class="token punctuation">,</span> shret<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="subControlRect"><a href="#subControlRect" class="headerlink" title="subControlRect():"></a>subControlRect():</h3><blockquote><p><font color=#D0087E size=4 face="å¹¼åœ†">&#x2F;&#x2F;subControlRect():</font>  è¿”å›ä¸€ä¸ª GUI çš„å¤æ‚æ§ä»¶ cc çš„å­æ§ä»¶ subControl çš„çŸ©å½¢</p><p>virtual QRect subControlRect(ComplexControl cc, const QStyleOptionComplex *opt, SubControl sc, const QWidget *widget) const override;</p></blockquote><br><h3 id="sizeFromContents"><a href="#sizeFromContents" class="headerlink" title="sizeFromContents():"></a>sizeFromContents():</h3><blockquote><p><font color=#D0087E size=4 face="å¹¼åœ†">&#x2F;&#x2F;sizeFromContents():</font>  è¿”å›æŸä¸€ GUI æ§ä»¶çš„ä¸­å¿ƒçŸ©å½¢çš„å¤§å°</p><p>virtual QSize sizeFromContents(ContentsType ct, const QStyleOption *opt, const QSize &amp;contentsSize, const QWidget *w) const override;</p></blockquote><br><h3 id="subElementRect"><a href="#subElementRect" class="headerlink" title="subElementRect():"></a>subElementRect():</h3><blockquote><p><font color=#D0087E size=4 face="å¹¼åœ†">&#x2F;&#x2F;subElementRect():</font>  è¿”å›<strong>æŸä¸€ä¸ªå…ƒç´ </strong>çš„çŸ©å½¢å¤§å°ï¼›ç”±æ ·å¼é€‰é¡¹ option æ‰€æè¿°çš„æ§ä»¶çš„å­å…ƒç´  subElement çš„çŸ©å½¢ï¼›</p><p>virtual QRect subElementRect(SubElement subElement, const QStyleOption *option, const QWidget *widget) const override;</p><p><strong>ã€Œè¡¥å……ï¼šæŸä¸€ä¸ªå…ƒç´  â‰ˆ æŸä¸€ä¸ªæšä¸¾ â‰ˆ å…·ä½“æ§ä»¶çš„æŸä¸€ä¸ªéƒ¨åˆ†ã€</strong></p></blockquote><br><h3 id="pixelMetric"><a href="#pixelMetric" class="headerlink" title="pixelMetric():"></a>pixelMetric():</h3><blockquote><p><font color=#D0087E size=4 face="å¹¼åœ†">&#x2F;&#x2F;pixelMetric():</font> è¿”å›<strong>æŸä¸€ä¸ªå…ƒç´ </strong>çš„é•¿åº¦</p><p>virtual int pixelMetric(PixelMetric metric, const QStyleOption *option, const QWidget *widget) const override;</p><p><strong>ã€Œè¡¥å……ï¼šæŸä¸€ä¸ªå…ƒç´  â‰ˆ æŸä¸€ä¸ªæšä¸¾ â‰ˆ å…·ä½“æ§ä»¶çš„æŸä¸€ä¸ªéƒ¨åˆ†ã€</strong></p></blockquote><p><strong>åˆ†æï¼š</strong></p><p>ã€€ã€€è·å–èœå•æ çš„ item ä¹‹é—´çš„ç«–ç›´ä¹‹é—´çš„é—´éš” PM_MenuVMargin &#x3D; 8 pxï¼›**</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">pixelMetric</span><span class="token punctuation">(</span>PixelMetric metric<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOption <span class="token operator">*</span>option<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>widget<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span><span class="token punctuation">&#123;</span><span class="token keyword">switch</span> <span class="token punctuation">(</span>metric<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">case</span> PM_MenuVMargin<span class="token operator">:</span>        <span class="token keyword">return</span> <span class="token number">8</span><span class="token punctuation">;</span>  <span class="token keyword">default</span><span class="token operator">:</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token class-name">QCommonStyle</span><span class="token double-colon punctuation">::</span><span class="token function">pixelMetric</span><span class="token punctuation">(</span>metric<span class="token punctuation">,</span> option<span class="token punctuation">,</span> widget<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="drawComplexControl"><a href="#drawComplexControl" class="headerlink" title="drawComplexControl():"></a>drawComplexControl():</h3><blockquote><p><font color=#D0087E size=4 face="å¹¼åœ†">&#x2F;&#x2F;drawComplexControl():</font> ç»˜ç”» GUI æŸä¸€æµ®æ¸£æ§ä»¶çš„å…ƒç´ ï¼Œå°†è¯¥æ§ä»¶çš„æ¯ä¸€ä¸ªéƒ¨åˆ†éƒ½ç»˜ç”»åˆ†æ´¾å‡ºå»ï¼Œè°ƒç”¨ drawControl() é‡Œé¢å¯¹åº”çš„æšä¸¾ã€‚</p><p>virtual void drawComplexControl(ComplexControl cc, const QStyleOptionComplex *opt, QPainter *p, const QWidget *widget) const override;</p></blockquote><p>å¯å‚è€ƒdrawControl();ä½†æ˜¯æ˜¯æ¯”å®ƒæ›´ä¸Šä¸€å±‚ã€‚</p><br><h3 id="drawControl"><a href="#drawControl" class="headerlink" title="drawControl():"></a>drawControl():</h3><blockquote><p><font color=#D0087E size=4 face="å¹¼åœ†">&#x2F;&#x2F;drawControl():</font>  ç»˜ç”» GUI æŸä¸€æ§ä»¶çš„æŸä¸€éƒ¨åˆ†(æ§åˆ¶å…ƒç´ )</p><p>virtual void drawControl(ControlElement element, const QStyleOption *opt, QPainter *p, const QWidget *w) const override;</p></blockquote><p><strong>åˆ†æï¼š</strong></p><p>ã€€ã€€æ­¤å¤„ä»¥ç»˜ç”»å¤æ‚è§£GUI æ§ä»¶ï¼Œè¿›åº¦æ¡ QProgressBar ä¸ºä¾‹å­ï¼š</p><p>å…¶ä¸ºå¤æ‚æ§ä»¶ï¼Œç”¨ä¸€å¼ å›¾æ¥è¡¨ç¤ºï¼Œ</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/mark_Snip20200217_235136.jpeg"/ loading="lazy"><p>å…¶ä¸­å®ç°ä»£ç ï¼ˆå±€éƒ¨ï¼‰å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token class-name">ChameleonStyle</span><span class="token double-colon punctuation">::</span><span class="token function">drawControl</span><span class="token punctuation">(</span>QStyle<span class="token double-colon punctuation">::</span>ControlElement element<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOption <span class="token operator">*</span>opt<span class="token punctuation">,</span> QPainter <span class="token operator">*</span>p<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>w<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">&#123;</span><span class="token keyword">case</span> CE_ProgressBar<span class="token operator">:</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//æ˜¾ç¤ºè¿›åº¦åŒºåŸŸ</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">const</span> QStyleOptionProgressBar <span class="token operator">*</span>progBar <span class="token operator">=</span>  <span class="token generic-function"><span class="token function">qstyleoption_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">const</span> QStyleOptionProgressBar <span class="token operator">*</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>opt<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>            QStyleOptionProgressBar progGroove <span class="token operator">=</span> <span class="token operator">*</span>progBar<span class="token punctuation">;</span>            <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">drawControl</span><span class="token punctuation">(</span>CE_ProgressBarGroove<span class="token punctuation">,</span> <span class="token operator">&amp;</span>progGroove<span class="token punctuation">,</span> p<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>            QStyleOptionProgressBar subopt <span class="token operator">=</span> <span class="token operator">*</span>progBar<span class="token punctuation">;</span>            subopt<span class="token punctuation">.</span>rect <span class="token operator">=</span> <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">subElementRect</span><span class="token punctuation">(</span>SE_ProgressBarContents<span class="token punctuation">,</span> progBar<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">drawControl</span><span class="token punctuation">(</span>CE_ProgressBarContents<span class="token punctuation">,</span> <span class="token operator">&amp;</span>subopt<span class="token punctuation">,</span> p<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>          subopt<span class="token punctuation">.</span>rect <span class="token operator">=</span> <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">subElementRect</span><span class="token punctuation">(</span>SE_ProgressBarLabel<span class="token punctuation">,</span> progBar<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">drawControl</span><span class="token punctuation">(</span>CE_ProgressBarLabel<span class="token punctuation">,</span> <span class="token operator">&amp;</span>subopt<span class="token punctuation">,</span> p<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">case</span> CE_ProgressBarGroove<span class="token operator">:</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//æ»‘æ§½æ˜¾ç¤º</span>      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>å®é™…ç»˜ç”»    <span class="token punctuation">&#125;</span>  <span class="token keyword">case</span> CE_ProgressBarContents<span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token comment">//è¿›åº¦æ»‘å—æ˜¾ç¤º</span>      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    <span class="token punctuation">&#125;</span>  <span class="token keyword">case</span> CE_ProgressBarLabel<span class="token operator">:</span> <span class="token punctuation">&#123;</span>      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ­¤å¤„æ”¾ä¸€ä¸ªæ›¾ç»ç»˜ç”»çš„ğŸŒ°æœ€ç»ˆæ•ˆæœå›¾ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20191008224313.png"/ loading="lazy"><br><h3 id="drawPrimitive"><a href="#drawPrimitive" class="headerlink" title="drawPrimitive():"></a>drawPrimitive():</h3><blockquote><p><font color=#D0087E size=4 face="å¹¼åœ†">&#x2F;&#x2F;drawPrimitive():</font>  ç»˜ç”» GUI æŸä¸€æ§ä»¶çš„æŸä¸€éƒ¨åˆ†ï¼ˆåŸå§‹å…ƒç´ ï¼‰ï¼Œé€šå¸¸ä¸ºè¯¦ç»†ç»˜ç”»ï¼›è¡¨ç¤ºä½¿ç”¨ pï¼Œæ ·å¼é€‰é¡¹ opt ç»˜åˆ¶å…ƒç´  pe</p><p>virtual void drawPrimitive(PrimitiveElement pe, const QStyleOption *opt, QPainter *p, const QWidget *w) const override;</p></blockquote><p>å®é™…çš„å…·ä½“çš„ä¸€ä¸ªå…ƒç´ çš„çŸ©å½¢ï¼Œåœ¨æ­¤èŒƒå›´å†…ç»˜ç”»åœ†è§’çŸ©å½¢ï¼Œåœ†å½¢ï¼Œä¸‰è§’å½¢ç­‰ç­‰ç­‰ï¼ŒæŒ‰ç…§éœ€æ±‚ç»˜ç”»å³å¯ã€‚</p><br><h2 id="è§„å¾‹å½’çº³ï¼š"><a href="#è§„å¾‹å½’çº³ï¼š" class="headerlink" title="è§„å¾‹å½’çº³ï¼š"></a>è§„å¾‹å½’çº³ï¼š</h2><p>ã€€ã€€ä»¥ä¸Šå‡½æ•°çš„å½¢å‚å¸¦æœ‰ CE_ CC_ PE_ SC_ SE_ è¿™äº›å‰ç¼€å¼€å¤´çš„ã€‚éƒ½æ˜¯è¡¨ç¤ºä¸€ä¸ªçŸ©å½¢ QRect çš„èŒƒå›´ã€‚SC_ (å­æ§ä»¶)å’Œ SE_ (å­å…ƒç´ )æ˜¯ç”¨æ¥è¿”å› subControlRect()å’Œ subElementRect() çš„çŸ©å½¢ QRect çš„ã€‚</p><p>ã€€ã€€ æœ€ç»ˆï¼Œé€šè¿‡è¿™äº›å¤æ‚æ§ä»¶ã€æ§ä»¶ã€å…ƒç´ çš„æšä¸¾ï¼Œå¯ä»¥è‡ªå·±åœ¨è‰çº¸ä¸Šé¢ç»˜ç”»å‡ºæ¥ä¸€ä¸ªæ‹¼è£…çš„å®Œå¥½çš„æ§ä»¶ã€‚</p><br><h2 id="ç³»åˆ—æ–‡ç« "><a href="#ç³»åˆ—æ–‡ç« " class="headerlink" title="ç³»åˆ—æ–‡ç« :"></a>ç³»åˆ—æ–‡ç« :</h2><ol><li><a href="https://blog.csdn.net/qq_33154343/article/details/104367878">QStyleè®¾ç½®ç•Œé¢çš„å¤–è§‚å’ŒQCommonStyleç»§æ‰¿å…³ç³»å›¾è®²è§£å’Œä½¿ç”¨</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/104537944">QStyle&#x2F;DTKé‡ç»˜Qt-GUIå·²æœ‰æ§ä»¶,ä¸¾ä¾‹QScrollBar</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/104987446">QStyle&#x2F;DTKé‡ç»˜è‡ªå®šä¹‰éœ€æ±‚æ§ä»¶,ä¸¾ä¾‹MySwitchButton</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MacOS å®‰è£… Parallels Desktopï¼Œå†å®‰è£… UOS 20 + QtCreaorï¼ŒåŠæ­å»º DTK å¼€å‘ç¯å¢ƒ</title>
      <link href="/posts/404b32f/"/>
      <url>/posts/404b32f/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ è¿°ï¼š</strong> æœ¬ç¯‡è®²è¿°å’Œæ¼”ç¤ºå’Œå¦‚ä¸‹çš„å‡ ä¸ªçŸ¥è¯†ğŸ“šï¼š</p><ul><li>åœ¨ <code>MacOS10.14</code> ä¸Šé¢å®‰è£…<code>Parallels_Desktop14.0.1</code>è™šæ‹Ÿæœº</li><li>å†åœ¨ <code>Parallels_Desktop</code> ä¸Šé¢å®‰è£…<code>uos20 x64</code> </li><li>PD ç»™è™šæ‹Ÿæœºé‡Œé¢çš„ç³»ç»Ÿå®‰è£… <code>Parallels Tools</code>ï¼›è§£å†³æœ€å¤§åŒ–éå…¨å±çš„ç°è±¡ï¼ˆè°ƒæ•´åˆ†è¾¨ç‡åä¹Ÿæ˜¯ä¸€ä¸ªæ­£æ–¹å½¢çš„çª—å£ï¼‰</li><li>åœ¨ <code>uos20</code> æ“ä½œç³»ç»Ÿä¸Šï¼Œå®‰è£…å’Œé…ç½®æœ€æ–°çš„ <code>Qt Creator</code> é›†æˆç¯å¢ƒIDE</li><li>é…ç½® <strong>dtk</strong> çš„å¼€å‘ç¯å¢ƒï¼Œ</li><li>åœ¨ <code>uso20</code> ä¸Šä½¿ç”¨ <code>openVPN</code> ä»å®¶åº­å¤–ç½‘è¿æ¥åˆ°å…¬å¸å†…ç½‘ï¼Œå®ç°è¿œç¨‹åŠå…¬</li><li>åœ¨ <code>uos20</code> è·å–å¼€å‘è€…æƒé™ï¼Œæ‹¥æœ‰ <code>sudo</code> å‘½ä»¤çš„æƒé™</li></ul><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="å…³è”åšæ–‡ï¼š"><a href="#å…³è”åšæ–‡ï¼š" class="headerlink" title="å…³è”åšæ–‡ï¼š"></a>å…³è”åšæ–‡ï¼š</h2><p><strong>Linux ç³»ç»Ÿ</strong></p><ul><li><p><a href="https://blog.csdn.net/qq_33154343/article/details/103733327">Win10 çš„ VMware ä¸­å®‰è£… UOS 20ï¼Œåœ¨ UOS ä¸­å®‰è£… QtCreator åŠæ­å»º DTK å¼€å‘ç¯å¢ƒ</a></p></li><li><p><a href="https://blog.csdn.net/qq_33154343/article/details/104180794">MacOS å®‰è£… Parallels Desktopï¼Œå†å®‰è£… UOS 20 + QtCreaorï¼ŒåŠæ­å»º DTK å¼€å‘ç¯å¢ƒ</a></p></li><li><p><a href="https://blog.csdn.net/qq_33154343/article/details/102789047">MacOS çš„ VMware Fusionlimian ä¸­å®‰è£… Linux Deepin15.11</a></p></li><li><p><a href="https://blog.csdn.net/qq_33154343/article/details/112239518">Deepin &#x2F; UOS ä¸­é…ç½® DTK å¼€å‘ç¯å¢ƒ</a></p></li><li><p><a href="https://xmuli.blog.csdn.net/article/details/106510975">é‡è£… UOS &#x2F; Deepin V20 åå¿…å®‰è£…è½¯ä»¶ï¼ˆä¸ªäººä¹ æƒ¯ï¼‰</a></p></li><li><p><a href="https://xmuli.blog.csdn.net/article/details/107696563">ArchLinux + DDE å®‰è£…æ•™ç¨‹</a></p></li><li><p><a href="https://blog.csdn.net/qq_33154343/article/details/108378441">å¯¹ GNU&#x2F;Linux ä»‹ç»ã€ArchLinuxç¤¾åŒºæ°›å›´ã€DDEç§»æ¤Archæµç¨‹</a></p></li></ul><br><h2 id="å‰æœŸå‡†å¤‡ï¼š"><a href="#å‰æœŸå‡†å¤‡ï¼š" class="headerlink" title="å‰æœŸå‡†å¤‡ï¼š"></a>å‰æœŸå‡†å¤‡ï¼š</h2><p>æ‰€è¦ä½¿ç”¨åˆ°çš„ä¸€äº›è½¯ä»¶å’Œå…·ä½“ç‰ˆæœ¬å·ï¼Œå‰æœŸéœ€è¦å‡†å¤‡çš„å·¥ä½œå¦‚ä¸‹ï¼š</p><ul><li><p><strong>ç¡¬ä»¶ï¼š</strong> ä¸€å°ï£¿çš„ç¬”è®°æœ¬æˆ–è€…ä¸€ä½“æœº</p></li><li><p><strong>è½¯ä»¶</strong>ï¼š</p><ul><li><strong>ç³»ç»Ÿç¯å¢ƒï¼š</strong> <code>MacOS 10.14.6 (18G103)</code>  </li><li>**è™šæ‹Ÿæœºè½¯ä»¶ï¼š **<code>Parallels_Desktop14.0.1.dmg</code></li><li><strong>uos20 é•œåƒï¼š</strong> <code>uos-20-desktop-amd64.iso</code></li></ul></li><li><p>å…¶å®ƒ(å¯é€‰)ï¼š</p><ul><li><strong>opnvpn é…ç½®æ–‡ä»¶ï¼š</strong> è”ç³»è‡ªå·±çš„ç®¡ç†å‘˜è·å–</li><li>æˆ–è€…è‡ªå¤‡æ¢¯å­æˆ–å…¶ä»–å·¥å…·</li></ul></li></ul><br><h2 id="å®‰è£…è™šæ‹Ÿæœº-Parallels-Desktopï¼š"><a href="#å®‰è£…è™šæ‹Ÿæœº-Parallels-Desktopï¼š" class="headerlink" title="å®‰è£…è™šæ‹Ÿæœº Parallels_Desktopï¼š"></a>å®‰è£…è™šæ‹Ÿæœº Parallels_Desktopï¼š</h2><p>æŸ¥çœ‹ MacOSæ“ä½œç³»ç»Ÿç‰ˆæœ¬ï¼š</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200419194831.png" width="50%"/ loading="lazy"><ul><li>åŒå‡»<code>Parallels_Desktop14.0.1.dmg</code> è¿è¡Œç¨‹åº</li></ul> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/mark_Snip20200203_120547.png" width="25%" / loading="lazy"><ul><li>å†æ¬¡åŒå‡»è¿è¡Œç¨‹åº</li></ul> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200419194755.png" width="50%"/ loading="lazy"><br><ul><li>ç‚¹å‡» <strong>æ‰“å¼€</strong></li></ul> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200419194740.png" width="50%"/ loading="lazy"><ul><li>ç‚¹å‡»<strong>è·³è¿‡è¯¥ç‰ˆæœ¬</strong></li></ul> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200419194723.png" width="50%"/ loading="lazy"><ul><li><p>è¿˜ä¼šå¼¹å‡ºä¸€ä¸ªå°çš„çª—å£ï¼Œæç¤ºå»ºè®®å®‰è£…æ›´æ–°çš„ç‰ˆæœ¬ï¼Œç‚¹å‡»<strong>ä¸ï¼Œä½¿ç”¨ç°æœ‰çš„</strong>ï¼Œè¿™é‡Œè¿™ä¸ªå›¾æˆªæ‰äº†ã€‚</p></li><li><p>å¼¹å‡ºè½¯ä»¶è®¸å¯åè®®çª—å£ï¼Œç‚¹å‡»è¯·<strong>æ¥å—</strong>ï¼Œ ç­‰å¾…å‡ ç§’é’Ÿï¼Œè™šæ‹Ÿæœºè‡ªåŠ¨å®‰è£…æˆåŠŸã€‚</p><p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200419194705.png" width="50%"/ loading="lazy"> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200419194653.png" width="50%"/ loading="lazy"> </p></li><li><p>çœ‹åˆ°å®‰è£…æˆåŠŸ</p></li></ul><br><h2 id="ç¦æ­¢-Parallels-Desktop-ğŸš«æ›´æ–°-ï¼Œå¤–åŠ ä¼˜åŒ–-PD"><a href="#ç¦æ­¢-Parallels-Desktop-ğŸš«æ›´æ–°-ï¼Œå¤–åŠ ä¼˜åŒ–-PD" class="headerlink" title="ç¦æ­¢ Parallels_Desktop ğŸš«æ›´æ–° ï¼Œå¤–åŠ ä¼˜åŒ– PD"></a>ç¦æ­¢ Parallels_Desktop ğŸš«æ›´æ–° ï¼Œå¤–åŠ ä¼˜åŒ– PD</h2><h3 id="ä¼˜åŒ–-PDï¼Œèµ‹äºˆæƒé™ï¼š"><a href="#ä¼˜åŒ–-PDï¼Œèµ‹äºˆæƒé™ï¼š" class="headerlink" title="ä¼˜åŒ– PDï¼Œèµ‹äºˆæƒé™ï¼š"></a>ä¼˜åŒ– PDï¼Œèµ‹äºˆæƒé™ï¼š</h3><p>ç¬¬ä¸€æ¬¡å¯åŠ¨ï¼Œä¼šæç¤ºå¦‚ä¸‹ï¼ŒæŒ‰ç…§æç¤ºï¼Œæ‰“å¼€<code>åå¥½è®¾ç½®</code></p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200419194617.png" width="50%"/ loading="lazy"><p>ç‚¹å‡»<code>å…è®¸</code>å³å¯</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200419194558.png" width="50%"/ loading="lazy"><p>ä¸”è¿™é‡Œä¹Ÿèµ‹äºˆ PD ç›¸åº”çš„æƒé™ï¼Œä¸”â•ğŸ”é¿å…è¢«å†æ¬¡æ›´æ”¹ã€‚</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200419194541.png" width="50%"/ loading="lazy"><ul><li>éƒ½æ“ä½œå®Œæˆä¹‹åï¼Œç‚¹å‡»æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯ï¼Œå‘ç°å·²ç»æ˜¯æ¿€æ´»çš„ç‰ˆæœ¬äº†ã€‚</li></ul> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200419194524.png" width="50%"/ loading="lazy"><h3 id="ç¦æ­¢-PD-æ›´æ–°ï¼š"><a href="#ç¦æ­¢-PD-æ›´æ–°ï¼š" class="headerlink" title="ç¦æ­¢ PD æ›´æ–°ï¼š"></a>ç¦æ­¢ PD æ›´æ–°ï¼š</h3><p>è¿™é‡ŒæŒ‰ç…§ä¸ªäººå–œå¥½ï¼Œæˆ‘æ˜¯ä¸å–œæ¬¢å¦‚ä¸‹æ”¹åŠ¨çš„ï¼Œä¸”ä¸æƒ³æ£€æµ‹è‡ªåŠ¨æ›´æ–°ã€‚</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200419194507.png" width="50%"/ loading="lazy"><br><h2 id="å®‰è£…-uos20-æ“ä½œç³»ç»Ÿï¼š"><a href="#å®‰è£…-uos20-æ“ä½œç³»ç»Ÿï¼š" class="headerlink" title="å®‰è£… uos20 æ“ä½œç³»ç»Ÿï¼š"></a>å®‰è£… uos20 æ“ä½œç³»ç»Ÿï¼š</h2><ul><li><p>å°† uos20 çš„é•œåƒï¼Œæ‹–æ›³äºè¿™é‡Œç‚¹å‡»æ‰“å¼€</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200419194438.png" width="50%"/ loading="lazy"></li><li><p>è‹¥æ˜¯å¼¹å‡ºï¼Œæ— æ³•æ£€æµ‹åˆ°é•œåƒï¼Œä¸äºˆç†ä¼šå³å¯ï¼Œå®é™…ä¼šæ£€æµ‹åˆ°</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200419194414.png" width="50%"/ loading="lazy"></li><li><p>å› ä¸º uos20 å’Œ deepin15 éƒ½æ˜¯åŸºäº Debian ç³»ç»Ÿï¼Œé€‰ä¸­å¦‚ä¸‹</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200419194348.png" width="50%"/ loading="lazy"></li><li><p>é€‰æ‹©å®‰è£…è·¯å¾„ï¼ˆå¯ä»¥æ›´æ”¹ï¼‰</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200419194328.png" width="50%"/ loading="lazy"></li><li><p>ç‚¹å‡»åˆ›å»ºï¼Œå³å¯è¿›å…¥å®‰è£… uos20 çš„ç•Œé¢</p></li></ul><br><h2 id="é…ç½®uos20æ“ä½œç³»ç»Ÿï¼š"><a href="#é…ç½®uos20æ“ä½œç³»ç»Ÿï¼š" class="headerlink" title="é…ç½®uos20æ“ä½œç³»ç»Ÿï¼š"></a>é…ç½®uos20æ“ä½œç³»ç»Ÿï¼š</h2><ul><li><p>æŒ‰ç…§æç¤ºï¼Œé€‰æ‹©å³å¯ï¼Œä¸‹é¢ğŸ‘‡åªæ˜¾ç¤ºå‡ºé‡è¦çš„æ­¥éª¤ï¼š</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200419194302.png" width="50%"/ loading="lazy"></li><li><p>è¿™é‡Œä¸ä¼šçš„è¯ï¼Œå°±é»˜è®¤å…¨ç›˜å®‰è£…ï¼Œä¸ä½œä»»ä½•ä¿®æ”¹ï¼›<strong>åŠ å¯†ç£ç›˜</strong> æ²¡æœ‰å¿…è¦å‹¾é€‰â˜‘ï¸ï¼Œå¦‚æœä½ çš„ç³»ç»Ÿæ²¡æœ‰å­˜æ”¾ä»€ä¹ˆå›½å®¶æœºå¯†æ–‡ä»¶çš„è¯ï¼Œæ™®é€šäººæ˜¯ç”¨ä¸ç€çš„ã€‚</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200419194235.png" width="50%"/ loading="lazy"></li><li><p>ç­‰å¾…è¿›åº¦æ¡è¿›è¡Œ 100% å³å¯</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200419194205.png" width="50%"/ loading="lazy"></li><li><p>æ˜¾ç¤ºå®‰è£…æˆåŠŸ</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200419194144.png" width="50%"/ loading="lazy"></li></ul><br><h2 id="å®‰è£…-Parallels-Toolsï¼š"><a href="#å®‰è£…-Parallels-Toolsï¼š" class="headerlink" title="å®‰è£… Parallels Toolsï¼š"></a>å®‰è£… Parallels Toolsï¼š</h2><p><font color=#D0087E size=4 face="å¹¼åœ†">å› ä¸ºåœ¨ macOS ç³»ç»Ÿé‡Œé¢ï¼Œå°† uos20 å…¨å±çš„è¯ï¼Œä¼šå‘ç°æ€»æ˜¯ä¸€ä¸ªæ­£æ–¹å½¢çš„çª—å£ï¼Œå³ä½¿æ›´æ”¹åˆ†è¾¨ç‡ä¹Ÿä¸å¯ä»¥ï¼Œåæ­£å°±æ˜¯ä¸æ˜¯å…¨å±æ•ˆæœï¼Œè®©äººæŠ“ç‹‚ğŸ’¥ğŸ’¥ğŸ’¥ï¼›</font></p><p><strong>è§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š</strong></p><ul><li><p>åªéœ€è¦é€‰ä¸­å½“å‰å¼€å¯çš„è™šæ‹Ÿæœºï¼Œæ‰“å¼€<code>æ“ä½œ-Parallels Tools</code>ï¼Œ ç„¶ååœ¨æœ¬ç›®å½•è·¯å¾„ä¸‹ï¼Œ</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200419193415.png" width="50%"/ loading="lazy"></li><li><p>æ‰“å¼€ç»ˆç«¯ï¼Œæ‰§è¡Œå‘½ä»¤</p></li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> ./install<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><p>å³å¯ï¼Œä¼šå‡ºç°å¦‚ä¸‹ç»ˆç«¯çš„å¯è§†åŒ–ç•Œé¢ï¼Œä¾æ¬¡ç‚¹å‡»<code>ç¡®å®š</code>å’Œ<code>ä¸‹ä¸€æ­¥</code>ï¼Œç„¶åè€å¿ƒç­‰å¾…ï¼Œç­‰å¾…ç•Œé¢å¦‚ä¸‹å›¾</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200419193443.png" width="50%"/ loading="lazy"> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200419193508.png" width="50%"/ loading="lazy"> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200419193548.png" width="50%"/ loading="lazy"></li><li><p>å†æ¬¡é‡å¯è¯¥è™šæ‹Ÿæœºå³å¯ï¼Œç‚¹å‡»æœ€å¤§åŒ–ï¼ˆå¯é€‰æ‹©è§‰å¾—èˆ’æœçš„åˆ†è¾¨ç‡ï¼‰ï¼Œå‘ç°çª—å£å·²ç»å æ»¡æ•´å—å±å¹•äº†ã€‚ </p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200419193738.png" width="50%"/ loading="lazy"></li></ul><br><h2 id="å®‰è£…-qtcrator-ç¯å¢ƒï¼š"><a href="#å®‰è£…-qtcrator-ç¯å¢ƒï¼š" class="headerlink" title="å®‰è£… qtcrator ç¯å¢ƒï¼š"></a>å®‰è£… qtcrator ç¯å¢ƒï¼š</h2><p>å‚è€ƒ<a href="https://blog.csdn.net/qq_33154343/article/details/103733327">åœ¨win10é‡Œé¢çš„VMwareå®‰è£…UOS20ï¼Œåœ¨uos20é‡Œé¢å®‰è£…QtCreatorï¼Œé…ç½®dtkå¼€å‘ç¯å¢ƒ</a> ä¸€æ–‡ï¼Œ ä¸­é—´çš„<a href="https://blog.csdn.net/qq_33154343/article/details/103733327#QtCretordtk_148">åœ¨<code>QtCretor</code>é‡Œé¢é…ç½®<code>dtk</code>å¼€å‘ç¯å¢ƒå’Œå·¥ç¨‹æ¨¡æ¿ï¼š </a> éƒ¨åˆ†ï¼›æ­¤éƒ¨åˆ†æœ‰ç€è¯¦ç»†çš„æè¿°</p><br><h2 id="é…ç½®-dtk-çš„å¼€å‘ç¯å¢ƒï¼š"><a href="#é…ç½®-dtk-çš„å¼€å‘ç¯å¢ƒï¼š" class="headerlink" title="é…ç½® dtk çš„å¼€å‘ç¯å¢ƒï¼š"></a>é…ç½® dtk çš„å¼€å‘ç¯å¢ƒï¼š</h2><p>è¿è¡Œå‘½ä»¤ï¼Œç„¶åé‡å¯QtCretorï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> qtcreator-template-dt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br><h2 id="é…ç½®-openVPN-å›åˆ°å…¬å¸å†…ç½‘ï¼š"><a href="#é…ç½®-openVPN-å›åˆ°å…¬å¸å†…ç½‘ï¼š" class="headerlink" title="é…ç½® openVPN å›åˆ°å…¬å¸å†…ç½‘ï¼š"></a>é…ç½® openVPN å›åˆ°å…¬å¸å†…ç½‘ï¼š</h2><ul><li><p>å‘ç®¡ç†å‘˜è·å– openVPN çš„é…ç½®æ–‡ä»¶ï¼Œæ¯”å¦‚<code>wh-vpn.conf</code></p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200419193850.png" width="50%"/ loading="lazy"></li><li><p>å°†å…¶å¯¼å…¥åˆ° uos20 ç³»ç»Ÿé‡Œé¢ï¼Œå…·ä½“ä½ç½®å¦‚ä¸‹ï¼š<strong>æ§åˆ¶ä¸­å¿ƒ-ç½‘ç»œ-vpn-å¯¼å…¥</strong> </p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200419193938.png" width="50%"/ loading="lazy"></li></ul><p>è‹¥æ˜¯è¿æ¥æˆåŠŸä¹‹åï¼Œä»ç„¶æ— æ³•è®¿é—®å†…ç½‘èµ„æºï¼Œè¯·å°†<strong>â€œä½¿ç”¨ç›¸å¯¹åº”çš„ç½‘ç»œçš„èµ„æºâ€</strong> å¼€å¯â˜‘ï¸</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200419194002.png" width="50%"/ loading="lazy"><br><h2 id="æ‰“å¼€å¼€å‘è€…æ¨¡å¼ï¼Œè·å–-sudo-æƒé™ï¼š"><a href="#æ‰“å¼€å¼€å‘è€…æ¨¡å¼ï¼Œè·å–-sudo-æƒé™ï¼š" class="headerlink" title="æ‰“å¼€å¼€å‘è€…æ¨¡å¼ï¼Œè·å– sudo æƒé™ï¼š"></a>æ‰“å¼€å¼€å‘è€…æ¨¡å¼ï¼Œè·å– sudo æƒé™ï¼š</h2><ul><li><p><strong>æ§åˆ¶ä¸­å¿ƒ-ç³»ç»Ÿä¿¡æ¯-å…³äºæœ¬æœº-ç‰ˆæœ¬æˆæƒ</strong> ä¸­ï¼Œç‚¹å‡»æ¿€æ´»ï¼Œè‹¥æ˜¯æ²¡æœ‰æ°¸ä¹…æ¿€æ´»ç ï¼Œå¯ä»¥ç‚¹å‡»è¯•ç”¨æ¿€æ´»ï¼Œè¿™ä¸ªæœ‰ 90 å¤©çš„æ—¶é—´</p></li><li><p>åœ¨<strong>æ§åˆ¶ä¸­å¿ƒ-é€šç”¨-å¼€å‘è€…æ¨¡å¼</strong> ä¸­ï¼Œç‚¹å‡»åˆ°å¤„æœºå™¨ç åˆ°æ¡Œé¢ä¸Šï¼Œé»˜è®¤æ˜¯ 1.json æ–‡ä»¶</p></li><li><p>ç™»å½•ç½‘å€ <a href="https://www.chinauos.com/applyfor">https://www.chinauos.com/applyfor</a> ï¼Œæ³¨å†Œç”¨æˆ·ä¸º uos è´¦å·</p></li><li><p><font color=#D0087E size=4 face="å¹¼åœ†">åœ¨ç™»å½•çŠ¶æ€ä¸‹</font> ç‚¹å‡»â€œ<strong>è¯·å‚ä¸å†…æµ‹-ç‚¹å‡»<u>è¿™é‡Œ</u>äº†è§£å¦‚ä½•å¼€å¯å¼€å‘è€…æ¨¡å¼</strong>â€ï¼Œ</p></li><li><p>ä¸Šä¼ æœºå™¨ç æ–‡ä»¶ï¼Œç‚¹å‡»ä¸‹è½½æ³¨å†Œç æ–‡ä»¶ï¼Œç„¶å<strong>æ§åˆ¶ä¸­å¿ƒ-é€šç”¨-å¼€å‘è€…æ¨¡å¼</strong> ä¸­å¯¼å…¥æ³¨å†Œç </p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200419194055.png" width="50%"/ loading="lazy"></li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - MacOS </category>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linuxå­¦ä¹ :rootï¼Œaptï¼Œvimï¼Œgccï¼Œé™åŠ¨æ€åº“åˆ¶ä½œå’Œä½¿ç”¨</title>
      <link href="/posts/98696fbd/"/>
      <url>/posts/98696fbd/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  Linuxå­¦ä¹ ï¼šrootä¸‹æ–‡ä»¶å¤¹å«ä¹‰ï¼Œaptï¼Œ vimï¼Œgccï¼Œé™åŠ¨æ€åº“åˆ¶ä½œå’Œä½¿ç”¨</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ç£ç›˜æ–‡ä»¶å¤¹å«ä¹‰ï¼š"><a href="#ç£ç›˜æ–‡ä»¶å¤¹å«ä¹‰ï¼š" class="headerlink" title="ç£ç›˜æ–‡ä»¶å¤¹å«ä¹‰ï¼š"></a>ç£ç›˜æ–‡ä»¶å¤¹å«ä¹‰ï¼š</h2><blockquote><p><strong>å‡ ä¸ªæ¯”è¾ƒé‡è¦çš„çš„æ–‡ä»¶å¤¹å«ä¹‰ï¼Œ  rootæ ¹çš„ç»“æ„</strong><br>cd<br>.   &#x3D;&gt; å½“å‰ç›®å½•<br>..  &#x3D;&gt; å½“å‰ä¸Šä¸€çº§çš„ç›®å½•</p><p>-[è‹±æ–‡çŸ­æ¨ª] &#x3D;&gt; åœ¨ä¸¤ä¸ªä¸´è¿‘çš„ç›®å½•ä¹‹é—´ç›´æ¥è¿›è¡Œåˆ‡æ¢<br>~   &#x3D;&gt; &#x2F;home é‡Œé¢ï¼Œ ç”¨æˆ·çš„å®¶ç›®å½•ï¼ˆå®¿ä¸»ç›®å½•ï¼‰     pwdç›´æ¥åˆ‡æ¢è¿‡å»</p><p>$: å½“å‰ç”¨æˆ·ä¸ºæ™®é€šç”¨æˆ·</p><p>#ï¼šè¶…çº§ç”¨æˆ· â€“ root   (ä½¿ç”¨exitå‘½ä»¤é€€å‡ºè¶…çº§ç”¨æˆ·)</p></blockquote><p>ä¸€äº›å…¶ä»–çš„æ–‡ä»¶å¤¹ğŸ“‚å«ä¹‰ï¼š</p><ul><li><code>/dev</code> ä¸€åˆ‡çš†æŠ½è±¡ä¸ºæ–‡ä»¶</li><li><code>/etc</code> å…¨å±€é…ç½®æ–‡ä»¶</li><li><code>/usr</code> <ul><li><code>/usr/local</code> ç¬¬ä¸‰æ–¹è½¯ä»¶å®‰è£… </li><li><code>/opt</code></li></ul></li><li><code>/bin</code></li><li><code>/lib</code> ä½œç”¨</li><li><code>~</code> å½“å‰ç”¨æˆ·çš„é¡¶å±‚ç›®å½•ï¼Œæ¯”å¦‚ï¼š<code>/Users/muli</code> </li><li>åˆ›å»ºä¸€ä¸ªè½¯è¿æ¥çš„å‘½ä»¤ï¼› ln æ¨èç»å¯¹è·¯å¾„ è½¯è¿æ¥åç§°</li></ul><p><strong>ä¸€ä¸ª ls -al å‘½ä»¤æŸ¥çœ‹æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰æ–‡ä»¶çš„è¯¦ç»†ï¼š</strong></p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/mark_Snip20200118_174025.png"/ loading="lazy"><br><h2 id="aptè½¯ä»¶-x2F-å®‰è£…å¸è½½ï¼š"><a href="#aptè½¯ä»¶-x2F-å®‰è£…å¸è½½ï¼š" class="headerlink" title="aptè½¯ä»¶&#x2F;å®‰è£…å¸è½½ï¼š"></a>aptè½¯ä»¶&#x2F;å®‰è£…å¸è½½ï¼š</h2><ul><li><p><code>apt install/remove è½¯ä»¶å</code> å¸è½½è½¯ä»¶</p></li><li><p>&#x2F;var&#x2F;cache&#x2F;apt&#x2F;archives    <code>apt clean</code> æ¸…ç©ºç¼“å­˜</p></li><li><p><code>sudo dpkg -i xxx.deb</code> å®‰è£… .deb è½¯ä»¶</p></li><li><p><code>sudo dpkg -r è½¯ä»¶çš„åå­—</code>  å¸è½½ .deb è½¯ä»¶</p></li></ul><br><h2 id="Vim"><a href="#Vim" class="headerlink" title="Vim:"></a>Vim:</h2><h3 id="vim-ä¸‰ç§æ¨¡å¼åˆ‡æ¢å›¾ï¼š"><a href="#vim-ä¸‰ç§æ¨¡å¼åˆ‡æ¢å›¾ï¼š" class="headerlink" title="vim ä¸‰ç§æ¨¡å¼åˆ‡æ¢å›¾ï¼š"></a>vim ä¸‰ç§æ¨¡å¼åˆ‡æ¢å›¾ï¼š</h3><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/mark_20200117000312942.png" style="zoom:50%;" / loading="lazy"><br><h3 id="vim-ä½¿ç”¨ï¼š"><a href="#vim-ä½¿ç”¨ï¼š" class="headerlink" title="vim ä½¿ç”¨ï¼š"></a>vim ä½¿ç”¨ï¼š</h3><ul><li><p>ä¿å­˜ä¹‹åé€€å‡ºï¼š<code>ZZ</code></p></li><li><p>ä»£ç æ ¼å¼åŒ– <code>gg=G</code></p></li><li><p>å››ä¸ªæ–¹å‘ <code>hjkl</code></p></li><li><p>ç§»åŠ¨å…‰æ ‡ï¼Œè¡Œé¦–å°¾ï¼Œé¡¶è¡Œï¼Œæœ«è¡Œï¼Œè·³è½¬æŒ‡å®š213è¡Œ[é™„ï¼šè¡Œå·nå›è½¦]ï¼› <code>0ï¼Œ $ï¼Œggï¼Œ Dï¼Œ 213D</code></p></li><li><p>åˆ é™¤ä¸€ä¸ªå•è¯ï¼Œ åˆ å‡ºä¸€è¡Œçš„å‰åï¼›åˆ é™¤æ‰€æœ‰ï¼š<code>dw, d0, d$(D), ddï¼ˆåˆ é™¤å½“å‰è¡Œï¼‰ï¼Œ nddï¼ˆåˆ é™¤ nè¡Œï¼‰ </code></p></li><li><p>æ’¤é”€ï¼Œåæ’¤é”€ï¼š<code>u,  crtl + r</code></p></li><li><p>å…‰æ ‡åˆ é™¤å‰åå­—æ¯ï¼Œæ’¤é”€ï¼Œåˆ é™¤å•è¯ï¼š<code>Xï¼Œxï¼Œuï¼Œ?</code></p></li><li><p>å¤åˆ¶ä¸€è¡Œï¼Œå¤šè¡Œï¼Œç²˜è´´ä¸€è¡Œï¼Œå¤šè¡Œï¼š<code>yy, nyy, pï¼ˆå…‰æ ‡ä¸‹ä¸€è¡Œï¼‰,Pï¼ˆå…‰æ ‡ä¸Šä¸€è¡Œï¼‰ [è§†å›¾æ¨¡å¼ï¼šy ç²˜è´´,dåˆ é™¤,på¤åˆ¶ä¸‹ä¸€è¡Œ,På¤åˆ¶åˆ°ä¸Šä¸€è¡Œ]</code></p></li><li><p>æ›¿æ¢ä¸€ä¸ªï¼Œæ›¿æ¢å¤šä¸ªï¼›<code>r, R</code></p></li><li><p>æŸ¥æ‰¾ï¼šå½“å‰å¾€ä¸‹å·ä¸€åœˆ <code>/xxxx</code>ï¼› å½“å‰å¾€ä¸Šå·ä¸€åœˆ  <code>?xxxx</code>  å…³é”®å­—åˆ‡æ¢ï¼š<code>n/N</code></p></li><li><p>å…‰æ ‡ç§»åˆ°å•è¯ï¼Œ<code>#</code></p></li><li><p>vimåˆ†å±ï¼š :<code>sp</code>ï¼ˆçº¿æ°´å¹³ï¼‰ <code>vsp</code>(çº¿å‚ç›´)ï¼Œ <code>crtl+ww</code>ï¼ˆå±å¹•ä¹‹é—´åˆ‡æ¢ï¼‰ï¼Œ <code>wqall</code>(ä¿å­˜é€€å‡ºæ‰€æœ‰)</p></li></ul><br><h3 id="vim-é…ç½®æ–‡ä»¶ï¼š"><a href="#vim-é…ç½®æ–‡ä»¶ï¼š" class="headerlink" title="vim é…ç½®æ–‡ä»¶ï¼š"></a><strong>vim é…ç½®æ–‡ä»¶ï¼š</strong></h3><ul><li>ã€Œ1ã€ç”¨æˆ·çº§åˆ«(å…ˆ)ï¼š<code>~/.vimrc</code></li><li>ã€Œ2ã€ç³»ç»Ÿçº§åˆ«:<code>/etc/vim/vimrc</code></li></ul><br><h2 id="gcc"><a href="#gcc" class="headerlink" title="gcc:"></a>gcc:</h2><h3 id="gccå·¥ä½œæµç¨‹ï¼š"><a href="#gccå·¥ä½œæµç¨‹ï¼š" class="headerlink" title="gccå·¥ä½œæµç¨‹ï¼š"></a>gccå·¥ä½œæµç¨‹ï¼š</h3><ul><li><p>é¢„å¤„ç†(<code>gcc -E</code>;  <strong>é¢„å¤„ç†å™¨cpp</strong>)  :<code>xxx.c --&gt; xxx.i</code>  (.i æ–‡ä»¶æœ¬è´¨è¿˜æ˜¯.c æ–‡ä»¶)</p><ul><li>å®æ›¿æ¢</li><li>å¤´æ–‡ä»¶å±•å¼€</li><li>æ³¨é‡Šå»æ‰</li></ul></li><li><p>ç¼–è¯‘ï¼ˆ<code>gcc -S</code>; <strong>ç¼–è¯‘å™¨ gcc</strong>ï¼‰: <code>xxx.i --&gt; xxx.s</code></p><ul><li>ç”Ÿæˆæ±‡ç¼–æ–‡ä»¶</li></ul></li><li><p>æ±‡ç¼–ï¼ˆ<code>gcc -c</code>ï¼› <strong>æ±‡ç¼–å™¨as</strong>ï¼‰: <code>xxx.s  --&gt;  xxx.o</code></p><ul><li>ç”ŸæˆäºŒè¿›åˆ¶æ–‡ä»¶</li></ul></li><li><p>é“¾æ¥ï¼ˆ<code>gcc</code>ï¼› <strong>é“¾æ¥å™¨ld</strong>ï¼‰</p><ul><li><code>xxx.o  --&gt;  xxxï¼ˆå¯æ‰§è¡Œï¼‰</code></li></ul></li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/mark_image-20200118120643285.png"/ loading="lazy"><br><h3 id="gccå¸¸ç”¨å‚æ•°ï¼š"><a href="#gccå¸¸ç”¨å‚æ•°ï¼š" class="headerlink" title="gccå¸¸ç”¨å‚æ•°ï¼š"></a>gccå¸¸ç”¨å‚æ•°ï¼š</h3><ul><li><code>-v/--versionï¼š</code> æŸ¥çœ‹ç‰ˆæœ¬</li><li><code>-Iï¼š</code> æŒ‡å®šåŒ…å«å¤´æ–‡ä»¶è·¯å¾„ï¼ˆæ¨èç›¸å¯¹è·¯å¾„ï¼‰</li><li><code>-cï¼š </code> æ±‡ç¼–æ–‡ä»¶ç”ŸæˆäºŒè¿›åˆ¶æ–‡ä»¶ </li><li><code>-oï¼š </code> æŒ‡å®šç”Ÿæˆæ–‡ä»¶çš„åå­—</li><li><code>-gï¼š</code> gccè°ƒè¯•æ—¶å€™ï¼Œæ·»åŠ çš„å‚æ•°</li><li><code>-Dï¼š </code> ç¼–è¯‘çš„æ—¶å€™ï¼Œç”Ÿæˆä¸€ä¸ªä½ æ‰€æŒ‡å®šçš„å®ï¼ˆåœºæ™¯ï¼šå¤šä½¿ç”¨åœ¨æµ‹è¯•ç¨‹åºä¸­ï¼‰</li><li><code>-Wallï¼š </code> gcc ç¼–è¯‘æ—¶å€™ï¼Œæ·»åŠ æ˜¾ç¤ºè­¦å‘Šâš ï¸ä¿¡æ¯</li><li><code>-Onï¼š</code> ä¼˜åŒ–ä»£ç ï¼Œn æ˜¯ä¼˜åŒ–çº§åˆ«ï¼š1ï¼Œ2ï¼Œ3ï¼ˆ3 å°±æ˜¯æœ€å¤§ï¼Œå¡«å†™ 100 ä¹Ÿæ˜¯ 3ï¼‰</li></ul><br><h3 id="é™æ€åº“å’ŒåŠ¨æ€åº“çš„åˆ¶ä½œå’Œä½¿ç”¨ï¼š"><a href="#é™æ€åº“å’ŒåŠ¨æ€åº“çš„åˆ¶ä½œå’Œä½¿ç”¨ï¼š" class="headerlink" title="é™æ€åº“å’ŒåŠ¨æ€åº“çš„åˆ¶ä½œå’Œä½¿ç”¨ï¼š"></a>é™æ€åº“å’ŒåŠ¨æ€åº“çš„åˆ¶ä½œå’Œä½¿ç”¨ï¼š</h3><ul><li><strong>åº“æ˜¯ä»€ä¹ˆï¼Ÿ</strong><ul><li>äºŒè¿›åˆ¶æ–‡ä»¶</li><li>åŠ å¯†ä¹‹åçš„.c&#x2F;.cppçš„æ–‡ä»¶</li></ul></li><li><strong>åº“æ–‡ä»¶åˆ¶ä½œå‡ºæ¥åï¼Œå¦‚ä½•ç»™ç”¨æˆ·ä½¿ç”¨ï¼Ÿ</strong><ul><li>éœ€è¦å¤´æ–‡ä»¶ + åˆ¶ä½œå‡ºæ¥çš„åº“</li><li><strong>åŠ¨æ€åº“ï¼š</strong> <code>.dll  æˆ–  .so</code></li><li><strong>é™æ€åº“ï¼š</strong> <code>.lib  æˆ–   .a</code></li></ul></li></ul><br><h4 id="é™æ€åº“-a-x2F-lib-çš„åˆ¶ä½œå’Œä½¿ç”¨ï¼š"><a href="#é™æ€åº“-a-x2F-lib-çš„åˆ¶ä½œå’Œä½¿ç”¨ï¼š" class="headerlink" title="é™æ€åº“(.a&#x2F;.lib)çš„åˆ¶ä½œå’Œä½¿ç”¨ï¼š"></a>é™æ€åº“(.a&#x2F;.lib)çš„åˆ¶ä½œå’Œä½¿ç”¨ï¼š</h4><ul><li><p><strong>å‘½ä»¤è§„åˆ™ï¼š</strong> <font color=#FF0000 size=4 face="å¹¼åœ†">lib</font>xxx<font color=#FF0000 size=4 face="å¹¼åœ†">.a</font> </p></li><li><p><strong>é™æ€åº“çš„åˆ¶ä½œæ­¥éª¤ï¼š</strong></p><ul><li><p>åŸææ–™ï¼šæºä»£ç .c .cpp</p></li><li><p>å°†.cpp æ–‡ä»¶ç”Ÿæˆ.o æ–‡ä»¶  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#å¯ä»¥å¾—åˆ° `test01.o` å’Œ `test02.o`æ–‡ä»¶</span><span class="token variable"><span class="token variable">`</span>gcc <span class="token parameter variable">-C</span> test01.c test02.cpp<span class="token variable">`</span></span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p>å°†.o æ–‡ä»¶æ‰“åŒ…ä¸º.a æ–‡ä»¶ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#ç”¨æ³•ï¼šar rcs é™æ€åº“çš„åå­— åŸææ–™  </span><span class="token comment">#ar -archive</span>ar rcs libmytest.a test01.o test02.o   //æ‰€ç”Ÿæˆé™æ€æ–‡ä»¶åç§°ä¸ºlibmytest.a<span class="token comment">#æˆåŠŸä¹‹åï¼Œå¯ä»¥æŸ¥çœ‹libmytest.aé‡Œé¢çš„åŒ…å«å…·ä½“çš„æ‰€æœ‰çš„*.oæ–‡ä»¶</span>nm libmytest.a<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul></li><li><p><strong>é™æ€åº“çš„ä½¿ç”¨ï¼š</strong></p><p>æ­¤åˆ»æ–‡ä»¶å¤¹çš„ tree ç»“æ„å¦‚ä¸‹ï¼š</p><blockquote><p>.</p><p>â”œâ”€ Test.cpp</p><p>â”œâ”€ include</p><p>â”‚   â””â”€ xxxx.h</p><p>â””â”€ lib</p><p>â€‹    â””â”€ libmytest.a</p></blockquote><p>ç„¶åæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå°±å¯ä»¥åœ¨å¾—åˆ°æœ¬è·¯å¾„ä¸‹å¾—åˆ°å¯æ‰§è¡Œç¨‹åº<code>appTest</code>ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">gcc Test.cpp <span class="token parameter variable">-I</span> ./include <span class="token parameter variable">-L</span> ./lib <span class="token parameter variable">-l</span> mytest <span class="token parameter variable">-o</span> appTest<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><p>Test.cppï¼šæµ‹è¯•é™æ€åº“çš„ä½¿ç”¨çš„å¤´æ–‡ä»¶</p></li><li><p>-Iï¼š<code>./include/</code>ä¸ºæŒ‡å®šçš„åº“çš„å¤´æ–‡ä»¶çš„è·¯å¾„</p></li><li><p>-Lï¼š<code>./lib/</code>ä¸ºæŒ‡å®šçš„åº“çš„äºŒè¿›åˆ¶æ–‡ä»¶</p></li><li><p>-lï¼šä¸ºé™æ€åº“çš„åº“çš„åç§°ï¼Œå°†è¦è°ƒç”¨çš„åº“</p><p>æ‰€ç”Ÿæˆ<strong>é™æ€åº“çš„æ–‡ä»¶åç§°</strong>ä¸º <code>libmytest.a</code>ï¼Œ æŒ‰ç…§è§„åˆ™ï¼Œå…¶<strong>é™æ€åº“çš„åç§°</strong>å«<code>mytest</code></p></li><li><p>-oï¼šæ‰€ç”Ÿæˆçš„æŒ‡å®šåç§°çš„ä¸ºappTestçš„å¯æ‰§è¡Œç¨‹åºçš„åç§°</p></li></ul></li></ul><br><h4 id="åŠ¨æ€æ€åº“-so-x2F-dll-çš„åˆ¶ä½œå’Œä½¿ç”¨ï¼š"><a href="#åŠ¨æ€æ€åº“-so-x2F-dll-çš„åˆ¶ä½œå’Œä½¿ç”¨ï¼š" class="headerlink" title="åŠ¨æ€æ€åº“(.so&#x2F;.dll)çš„åˆ¶ä½œå’Œä½¿ç”¨ï¼š"></a>åŠ¨æ€æ€åº“(.so&#x2F;.dll)çš„åˆ¶ä½œå’Œä½¿ç”¨ï¼š</h4><ul><li><p><strong>å‘½ä»¤è§„åˆ™ï¼š</strong> <font color=#FF0000 size=4 face="å¹¼åœ†">lib</font>xxx<font color=#FF0000 size=4 face="å¹¼åœ†">.so</font> </p></li><li><p><strong>åŠ¨æ€åº“çš„åˆ¶ä½œæ­¥éª¤</strong></p><ul><li><p>åŸææ–™ï¼šæºä»£ç .c .cpp</p></li><li><p>å°†.cpp æ–‡ä»¶ç”Ÿæˆ.o æ–‡ä»¶  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#ç”¨æ³•ï¼šä½¿ç”¨ gcc åŠ å‚æ•° -fpic(æˆ– FPIC)åˆ¶ä½œ.oæ–‡ä»¶ï¼Œ</span>gcc test01.cpp test02.cpp <span class="token parameter variable">-C</span> <span class="token parameter variable">-fpic</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p>å°†.o æ–‡ä»¶æ‰“åŒ…ä¸º.so æ–‡ä»¶ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#ç”¨æ³•ï¼šä½¿ç”¨ gcc åŠ å‚æ•° -shared,å°†.oæ‰“åŒ…ä¸º.soæ–‡ä»¶ï¼Œ</span>gcc <span class="token parameter variable">-shared</span> test01.o test02.o <span class="token parameter variable">-o</span>  libmytest.so<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ul></li><li><p><strong>åŠ¨æ€åº“çš„ä½¿ç”¨</strong></p><ul><li><p>æ­¤åˆ»æ–‡ä»¶å¤¹çš„ tree ç»“æ„å¦‚ä¸‹ï¼š</p><blockquote><p>.</p><p>â”œâ”€ Test.cpp</p><p>â”œâ”€ include</p><p>â”‚   â””â”€ xxxx.h</p><p>â””â”€ lib</p><p>â€‹    â””â”€ libmytest.so</p></blockquote><p>ç„¶åæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå°±å¯ä»¥åœ¨å¾—åˆ°æœ¬è·¯å¾„ä¸‹å¾—åˆ°å¯æ‰§è¡Œç¨‹åº<code>appTest</code>ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">gcc Test.cpp <span class="token parameter variable">-I</span> ./include/ <span class="token parameter variable">-L</span> ./lib/ <span class="token parameter variable">-l</span> mytest <span class="token parameter variable">-o</span> appTest<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>**è¿è¡Œä¹‹åï¼Œè‹¥é¦–æ¬¡æœªåšè®¾ç½®ï¼Œåˆ™å°±ä¼šå‘ç°è¿æ¬¡å¤±è´¥ï¼ï¼ï¼ï¼Œä¼šæŠ¥é”™è¯¯æç¤ºï¼Œè¯´æ‰¾ä¸åˆ°libmytest.so **; </p><p><strong>åŸå› æ˜¯ï¼š</strong> <font color=#70AD47 size=4 face="å¹¼åœ†"><strong>å› ä¸ºlinux çš„å·¥ä½œæœºåˆ¶ï¼Œå…¶åŠ è½½åŠ¨æ€åº“.soçš„é¡ºåºã€‚è¦çŸ¥é“æ‰€ä¾èµ–åº“çš„.so çš„åç§°ï¼Œè¿˜è¦çŸ¥é“å…¶ç»å¯¹è·¯å¾„ã€‚</strong> </font></p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/mark_Snip20200118_164520.png"/ loading="lazy"></li></ul></li></ul><br><ul><li><p><strong>è§£å†³ Linux åŠ è½½åŠ¨æ€åº“ .so æ–‡ä»¶å¤±è´¥çš„æ–¹æ³•ï¼š</strong></p><p>æ€è·¯ï¼šæ·»åŠ åŠ¨æ€åº“çš„ï¼ˆç»å¯¹ï¼‰è·¯å¾„ã€‚</p><ul><li><p><font color=#0000FF size=4 face="å¹¼åœ†"><strong>ã€Œæ–¹æ³•1ã€æ‹·è´è‡ªå·±åˆ¶ä½œçš„å…±äº«åº“ï¼š</strong> </font></p><ul><li>æ‹·è´è‡ªå·±åˆ¶ä½œçš„å…±äº«åº“ .so æ–‡ä»¶åˆ° <code>/lib</code> æˆ– <code>/usr/lib</code>[ä¸æ¨èï¼Œå®¹æ˜“é‡åæ›¿æ¢è®©ç³»ç»Ÿå´©æºƒ]</li></ul></li><li><p><font color=#0000FF size=4 face="å¹¼åœ†"><strong>ã€Œæ–¹æ³•2ã€ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼š</strong> </font></p><ul><li>ä¸´æ—¶è®¾ç½®ï¼š<code>export LD_LIBRARY_PATH = åŠ¨æ€åº“çš„ç»å¯¹è·¯å¾„:$LD_LIBRARY_PATH</code>(åªæ·»åŠ æ–°å€¼)</li><li>æ°¸ä¹…è®¾ç½®ï¼š<ul><li>ã€Œç”¨æˆ·çº§åˆ«ã€å°†<code>export LD_LIBRARY_PATH = åŠ¨æ€åº“çš„åŠ è½½è·¯å¾„</code>æ·»åŠ åˆ°<code>~/.bashrc</code>æ–‡ä»¶ï¼›ç„¶åé‡æ–°åŠ è½½ï¼Œæ–¹æ³•ä¸ºé‡å¯ç»ˆç«¯æˆ–è€… è¿è¡Œ <code>sources ./bashrc</code>; å³å¯ç”Ÿæ•ˆ.</li><li>ã€Œç³»ç»Ÿçº§åˆ«ã€å°†ç»å¯¹è·¯å¾„åŠ å…¥åˆ°<code>/etc/profile</code>æ–‡ä»¶ï¼Œç„¶åç”¨å‘½ä»¤<code>source /etc/profile </code>é‡æ–°åŠ è½½è¯¥æ–‡ä»¶.</li></ul></li></ul></li><li><p><font color=#0000FF size=4 face="å¹¼åœ†"><strong>ã€Œæ–¹æ³•3ã€ä½¿ç”¨æ–‡ä»¶åˆ—è¡¨ï¼š</strong> </font></p><ul><li>å°†åŠ¨æ€åº“çš„ç»å¯¹è·¯å¾„æ·»åŠ åˆ°<code>/etc/ld.so.conf</code>æ–‡ä»¶ä¸­ï¼›ç„¶åæ‰§è¡Œ <code>sudo ldconfig -v</code></li></ul></li><li><p><font color=#0000FF size=4 face="å¹¼åœ†"><strong>ã€Œæ–¹æ³•4ã€ä½¿ç”¨å‡½æ•°è°ƒåŠ¨æ€åº“ï¼š</strong> </font></p><ul><li>å‡½æ•°åï¼š<code>dlopen()</code>  <code>dlclose()</code>  <code>dlsym()</code></li></ul></li></ul><br><p><strong>è¡¥å……ä¸€ä¸ªå°çš„çŸ¥è¯†ç‚¹ï¼š</strong></p><ul><li><code>file appTest(å¯æ‰§è¡Œç¨‹åº)</code>: æŸ¥çœ‹æ–‡ä»¶çš„ç±»å‹ï¼Œå¯ä»¥çœ‹åˆ°ä¸º elf ç±»å‹</li><li>ldd appTest(å¯æ‰§è¡Œç¨‹åº)<code> æŸ¥çœ‹ appTest çš„æ‰€éœ€è¦çš„åŠ è½½åŠ¨æ€åº“çš„æ–‡ä»¶ï¼Œä»¥åŠæ˜¾ç¤ºè¿™äº›æ–‡ä»¶æ˜¯å¦èƒ½æ‰¾åˆ°</code> </li><li><code>echo $PATH</code> each æ˜¾ç¤ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿™é‡Œå– PATH çš„å€¼</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>QtCreatoræ­¤IDEçš„ç•Œé¢åŸºæœ¬ç»„æˆå’Œå…¥é—¨ä½¿ç”¨è®²è§£(Win,Linux,MacOSæ­é…ä¸åŒç‰ˆæœ¬ Qt)</title>
      <link href="/posts/a48bc9a4/"/>
      <url>/posts/a48bc9a4/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong> è®²è¿° <code>Qt Creator</code> æ­¤<strong>IDE</strong>çš„ç•Œé¢åŸºæœ¬ç»„æˆï¼Œå’Œå…¥é—¨ä½¿ç”¨è®²è§£ï¼›è¿™é‡Œä¸»è¦æ˜¯ä»¥ <code>Windows</code> ç‰ˆæœ¬è®²è¿°ä¸ºä¸»ï¼Œä½†æ˜¯ <code>Linux</code> å’Œ <code>MacOS</code> ç‰ˆæœ¬çš„ä¼šè´´å‡ºæ¥ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯winç‰ˆæœ¬åŸºæœ¬å’Œ Linuxç‰ˆæœ¬ç•Œé¢å®Œå…¨ä¸€æ ·ï¼Œè€Œ MacOS ç‰ˆæœ¬çš„ç•Œé¢å’Œç»†èŠ‚éƒ¨åˆ†ï¼Œåˆ™æ˜¯æœ‰ç€å°‘è®¸çš„ä¸ä¸€æ ·ï¼Œä¼šæ ‡è®°å‡ºæ¥ï¼›</p><p>æ„Ÿè°¢è‡ªç”±è½¯ä»¶ï¼Œæ„Ÿè°¢å¼€æºé¡¹ç›®ï¼Œæ„Ÿè°¢å‰è¾ˆå¤§å®¶ä»¬çš„åˆ†äº«ï¼Œæ„Ÿè°¢ Qt ç¤¾åŒºçš„äººä»¬ï¼Œæ„Ÿè°¢äº’è”ç½‘ç²¾ç¥ï¼Œæ„Ÿè°¢å•†ä¸šåˆ©ç›Šçš„æ¨åŠ¨ï¼Œæ„Ÿè°¢æ—¶é—´çš„ç»™äºˆå‘å±•ï¼›æ˜¯ ä¸€éƒ¨äººä»¬è®©å¾ˆå¤šå¾ˆæœ‰äº†ä½¿å¾—å­¦ä¹ çš„é—¨æ§›é™ä½ï¼Œå’Œç³»ç»Ÿçš„å­¦ä¹ æŸä¸€é¡¹æŠ€èƒ½ï¼ˆå…´è¶£çˆ±å¥½ï¼‰å˜å¾—å®¹æ˜“ï¼Œä½¿å¾—æ¢¦æƒ³å¯èƒ½æ›´å®¹æ˜“å®ç°ï¼Œå¾ˆå¤šäº‹æƒ…å˜å¾—æœªæ¥å¯æœŸã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/mark_Snip20200112_013425.png"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="Qt-Creatorçš„ç•Œé¢ç»„æˆï¼š"><a href="#Qt-Creatorçš„ç•Œé¢ç»„æˆï¼š" class="headerlink" title="Qt Creatorçš„ç•Œé¢ç»„æˆï¼š"></a>Qt Creatorçš„ç•Œé¢ç»„æˆï¼š</h2><p><code>Qt Creator</code>è¿™ä¸ªè½»å·§çš„è·¨å¹³å°çš„ IDE é›†æˆç¯å¢ƒï¼Œå…¶ç•Œé¢ç»„æˆä¸»è¦æ˜¯ä»¥ä¸‹çš„å‡ éƒ¨åˆ†ç»™ç»„æˆï¼š</p><ul><li><strong>Qt Creatorï¼š</strong> ä¸»è¦æ˜¯ç”¨æ¥ç¼–å†™ä»£ç å·¥ç¨‹çš„ç•Œé¢ï¼Œä¹Ÿæ˜¯ä½¿ç”¨æ—¶é—´æœ€å¤šçš„åœ°æ–¹</li><li><strong>Desiger è®¾è®¡å¸ˆ:</strong>  ç”¨æ¥æ‹–æ›³çª—å£ï¼›èƒ½å¤ŸçŸ­æ—¶é—´ç”Ÿæˆä¸€ä¸ªç•Œé¢å‡ºæ¥ï¼Œå¼€å‘æ¡Œé¢ç¨‹åºçš„ç•Œé¢ï¼Œä½¿ç”¨çš„è¯ä¼šæ¯”è¾ƒä¾¿æ·</li><li><strong>Assistant å¸®åŠ©æ–‡æ¡£ï¼š</strong> å¯ä»¥çœ‹åšä¸€ä¸ªç¦»çº¿çš„å¸®åŠ©æ‰‹å†Œçš„æ–‡æ¡£ï¼Œé‡åˆ°ä¸æ˜ç™½çš„å‡½æ•°æˆ–æ§ä»¶æ—¶å€™ï¼Œä¼šç»å¸¸æŸ¥çœ‹çš„ä¸€ä¸ªå·¥å…·</li><li><strong>Linguist è¯­è¨€å®¶ï¼š</strong>  å½“ç¨‹åºè¦å†™å®Œäº†ï¼Œåˆ¶ä½œæˆå¤šè¯­è¨€å›½é™…åŒ–çš„æ—¶å€™ï¼Œä½¿ç”¨å®ƒæ¥â€œæœ¬åœ°åŒ–æœ¬å›½è¯­è¨€â€</li><li><strong>Qt 5.9.8 for Desktopï¼š</strong> å°†é¡¹ç›®æ‰€éœ€è¦çš„.dllç³»ç»Ÿä¾èµ–åº“å…¨éƒ¨æ‰“åŒ…åˆ°æ–‡ä»¶å¤¹ï¼Œä¾¿äºåªä¸€ä¸ªæ–‡ä»¶å¤¹å°±å¯ä»¥ï¼Œç§»æ¤åˆ°å…¶å®ƒç”µè„‘è¿è¡Œ</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20200112004632.png"/ loading="lazy"><br><h2 id="Windows-ç‰ˆæœ¬ï¼š"><a href="#Windows-ç‰ˆæœ¬ï¼š" class="headerlink" title="Windows ç‰ˆæœ¬ï¼š"></a>Windows ç‰ˆæœ¬ï¼š</h2><h3 id="æ¬¢è¿ç•Œé¢ï¼š"><a href="#æ¬¢è¿ç•Œé¢ï¼š" class="headerlink" title="æ¬¢è¿ç•Œé¢ï¼š"></a>æ¬¢è¿ç•Œé¢ï¼š</h3><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20200112005004.png"/ loading="lazy"><h3 id="ç¼–è¾‘ç•Œé¢ï¼š"><a href="#ç¼–è¾‘ç•Œé¢ï¼š" class="headerlink" title="ç¼–è¾‘ç•Œé¢ï¼š"></a>ç¼–è¾‘ç•Œé¢ï¼š</h3><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20200112005417.png"/ loading="lazy"><h3 id="è®¾è®¡ç•Œé¢ï¼š"><a href="#è®¾è®¡ç•Œé¢ï¼š" class="headerlink" title="è®¾è®¡ç•Œé¢ï¼š"></a>è®¾è®¡ç•Œé¢ï¼š</h3><p>ä½¿ç”¨ UI çš„è®¾è®¡å¸ˆï¼Œæ‹–æ›³ç•Œé¢æ—¶å€™ç”Ÿæˆä¸€ä¸ªç®€å•çš„ç•Œé¢ï¼ŒåŠå…¶æ–¹ä¾¿ï¼›</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20200112010033.png"/ loading="lazy"><h3 id="é¡¹ç›®æ„å»ºç•Œé¢ï¼š"><a href="#é¡¹ç›®æ„å»ºç•Œé¢ï¼š" class="headerlink" title="é¡¹ç›®æ„å»ºç•Œé¢ï¼š"></a>é¡¹ç›®æ„å»ºç•Œé¢ï¼š</h3><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20200112010213.png"/ loading="lazy"><h3 id="å¸®åŠ©ç•Œé¢ï¼š"><a href="#å¸®åŠ©ç•Œé¢ï¼š" class="headerlink" title="å¸®åŠ©ç•Œé¢ï¼š"></a>å¸®åŠ©ç•Œé¢ï¼š</h3><p>æˆ–è€…åœ¨å…‰æ ‡ç§»åŠ¨åˆ°å‡½æ•°æˆ–è€…ç±»åçš„å•è¯ä¸­é—´ï¼Œç„¶åæŒ‰ä¸‹ F1 ä¹Ÿä¼šå‡ºç°è¯¥ç»“æœçš„å°çš„å¼¹çª—</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20200112010446.png"/ loading="lazy"><h3 id="QtåŠ©æ‰‹ï¼š"><a href="#QtåŠ©æ‰‹ï¼š" class="headerlink" title="QtåŠ©æ‰‹ï¼š"></a>QtåŠ©æ‰‹ï¼š</h3><p>Qt åŠ©æ‰‹ &#x3D;&#x3D; Qt ç¦»çº¿æ–‡æ¡£ &#x3D;&#x3D; ä¸Šå›¾åœ¨ QtCreator ä¸­çš„å°çª—å£çš„ç‹¬ç«‹çª—å£</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20200112010625.png"/ loading="lazy"><br><h2 id="Linuxç‰ˆæœ¬ï¼š"><a href="#Linuxç‰ˆæœ¬ï¼š" class="headerlink" title="Linuxç‰ˆæœ¬ï¼š"></a>Linuxç‰ˆæœ¬ï¼š</h2><p>æ‰€æœ‰ç•Œé¢ï¼Œéƒ½åŸºæœ¬å’Œ Windowsä¸€æ¯›ä¸€æ ·ã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/mark_20200114224503.png"/ loading="lazy"><br><h2 id="MacOS-ç‰ˆæœ¬ï¼š"><a href="#MacOS-ç‰ˆæœ¬ï¼š" class="headerlink" title="MacOS ç‰ˆæœ¬ï¼š"></a>MacOS ç‰ˆæœ¬ï¼š</h2><h3 id="å·¥å…·æ åœ¨é¡¶éƒ¨ï¼ˆæ¿€æ´»çŠ¶æ€ä¸‹ï¼‰"><a href="#å·¥å…·æ åœ¨é¡¶éƒ¨ï¼ˆæ¿€æ´»çŠ¶æ€ä¸‹ï¼‰" class="headerlink" title="å·¥å…·æ åœ¨é¡¶éƒ¨ï¼ˆæ¿€æ´»çŠ¶æ€ä¸‹ï¼‰:"></a>å·¥å…·æ åœ¨é¡¶éƒ¨ï¼ˆæ¿€æ´»çŠ¶æ€ä¸‹ï¼‰:</h3><p>å…¶ä¸»è¦ç•Œé¢å’Œ Winä¸€æ ·ï¼Œä½†æ˜¯å…¶å·¥å…·æ åœ¨æœ€é¡¶éƒ¨ï¼Œåªæœ‰å½“å‰çª—å£å¤„äºæ¿€æ´»çŠ¶æ€ï¼Œå…¶å·¥å…·æ æ‰ä¼šæ˜¾ç¤ºå‡ºæ¥ã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20200112011018.png"/ loading="lazy"><h3 id="å¦‚ä½•è¿è¡Œå¤šä¸ª-QtCrator"><a href="#å¦‚ä½•è¿è¡Œå¤šä¸ª-QtCrator" class="headerlink" title="å¦‚ä½•è¿è¡Œå¤šä¸ª QtCrator?"></a>å¦‚ä½•è¿è¡Œå¤šä¸ª QtCrator?</h3><p>å¦å¤–ä¸€ä¸ªå°±æ˜¯ï¼Œè¿™ä¸ª QtCreator åˆšå®‰è£…å®Œæˆï¼Œæ—¢ä¸ä¼šåˆå¿«æ·æ–¹å¼åœ¨æ¡Œé¢ï¼Œä¹Ÿä¸ä¼šæœ‰ä»»ä½•å›¾æ ‡åœ¨å¯åŠ¨å°é‡Œé¢ã€‚</p><p>éœ€è¦è‡ªå·±æ‰‹åŠ¨æŸ¥æ‰¾å®ƒå‡ºæ¥ï¼Œç„¶åå°†å…¶å›ºå®šåœ¨ Dockï¼ˆæ¡Œé¢æœ€ä¸‹æ–¹çš„ä»»åŠ¡æ ï¼‰ä¸Šé¢</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/mark_Snip20200112_011511.png"/ loading="lazy"><h3 id="å¦‚ä½•æ˜¾ç¤ºå¿«æ·æ–¹å¼ï¼Ÿ"><a href="#å¦‚ä½•æ˜¾ç¤ºå¿«æ·æ–¹å¼ï¼Ÿ" class="headerlink" title="å¦‚ä½•æ˜¾ç¤ºå¿«æ·æ–¹å¼ï¼Ÿ"></a>å¦‚ä½•æ˜¾ç¤ºå¿«æ·æ–¹å¼ï¼Ÿ</h3><blockquote><p>å…¶ä¸­æˆ‘çš„è·¯å¾„å¦‚ä¸‹ï¼š</p><p><code> /Users/muli/Qt5.12.6/Qt Creator.app</code> </p><p>Qt Creator.appï¼šï¼ˆå¤åˆ¶å‡ ä»½ï¼Œå°±å¯ä»¥æ‰“å¼€å‡ ä¸ª QT çš„ IDEï¼‰</p><p>ä¸‹é¢çš„éƒ½åœ¨æ­¤è·¯å¾„ä¸‹ï¼š<br><code>/Users/muli/Qt5.12.6/5.12.6/clang_64/bin</code></p><p>Assistant.app<br>Designer.app<br>Linguist.app</p></blockquote><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/mark_Snip20200112_011926.png"/ loading="lazy"><br><h2 id="ç³»ç»Ÿç¯å¢ƒï¼š"><a href="#ç³»ç»Ÿç¯å¢ƒï¼š" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒï¼š"></a>ç³»ç»Ÿç¯å¢ƒï¼š</h2><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š-MacOS-10-14-6-18G103"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š-MacOS-10-14-6-18G103" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š  MacOS 10.14.6 (18G103)"></a><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>MacOS 10.14.6 (18G103)</code></h3><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong> <code>Qt 5.12.6</code>ï¼Œ <code>Qt Creator 4.10.2</code></p><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š-win10-x64-ä¸“ä¸šç‰ˆ-1803"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š-win10-x64-ä¸“ä¸šç‰ˆ-1803" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š  win10 x64 ä¸“ä¸šç‰ˆ 1803"></a><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>win10 x64 ä¸“ä¸šç‰ˆ 1803</code></h3><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>Qt 5.9.8</code>ï¼Œ<code>Qt Creator 4.8.2 (Enterprise)</code></p><h3 id="ç¼–ç¨‹ç¯å¢ƒï¼š-uos-20-x64-ä¸“ä¸šç‰ˆ-Kernelï¼š-x86-64-Linux-4-19-0-5-amd64"><a href="#ç¼–ç¨‹ç¯å¢ƒï¼š-uos-20-x64-ä¸“ä¸šç‰ˆ-Kernelï¼š-x86-64-Linux-4-19-0-5-amd64" class="headerlink" title="ç¼–ç¨‹ç¯å¢ƒï¼š  uos 20 x64 ä¸“ä¸šç‰ˆ     Kernelï¼š  x86_64 Linux 4.19.0-5-amd64"></a><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>uos 20 x64 ä¸“ä¸šç‰ˆ </code>    <strong>Kernelï¼š</strong>  <code>x86_64 Linux 4.19.0-5-amd64</code></h3><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>Qt 5.11.3</code>ï¼Œ<code>Qt Creator 4.8.2 (Enterprise)</code></p><br><h2 id="å½’çº³å°ç»“ï¼š"><a href="#å½’çº³å°ç»“ï¼š" class="headerlink" title="å½’çº³å°ç»“ï¼š"></a>å½’çº³å°ç»“ï¼š</h2><p>è¿™é‡Œå› ä¸ºæˆ‘ä¼šåŒæ—¶ä½¿ç”¨åˆ°windowsï¼ŒLinuxï¼ŒMacOS ä¸‰ä¸ªç³»ç»Ÿï¼›ä¸”ä½¿ç”¨å„ç§ä¸åŒçš„ç‰ˆæœ¬ç¯å¢ƒçš„ Qt ç‰ˆæœ¬ï¼Œå¦‚æ­¤çš„éšå¿ƒæ‰€æ¬²ï¼ˆå¯¹äº†ï¼Œå°±æ˜¯é‚£ä¹ˆå·§ï¼Œæˆ‘çš„ç¡®æ˜¯åˆä¸‰å°ç”µè„‘ï¼Œä¸”æœ‰åˆ†åˆ«å„è‡ªå®‰è£…ä¸€ä¸ªç³»ç»Ÿï¼‰ï¼Œä¹Ÿå¤§æ¦‚æ˜¯å¾—ç›Šäºç›®å‰çš„è¿™ä»½å·¥ä½œï¼Œä»¥åŠå…¬å¸æ‰€ä»äº‹çš„ Linuxç³»ç»Ÿçš„å¼€å‘å’Œå¼€æºå’Œè½¯ä»¶è‡ªç”±çš„ï¼›æ™šä¸Šåœ¨ç©ºé—²ä¹‹ä½™ï¼Œæ¥å†™ä¸€å†™è¿™äº›åŸºç¡€çš„æ–‡ç« ï¼Œç®—æ˜¯ä¸€ä¸ªå¸®åŠ©æ–°æ‰‹ä»¬çš„å…¥é—¨ã€‚å› æ­¤ï¼Œæ— è®ºæ˜¯ä½ æ˜¯ä½¿ç”¨ä»€ä¹ˆç³»ç»Ÿï¼Œä½¿ç”¨çš„å“ªä¸€ä¸ªç‰ˆæœ¬çš„Qt è¿›è¡Œå¼€å‘ï¼Œä»¥åŠæ˜¯å¦å¦‚ä½•å€ŸåŠ©ç¬¬ä¸‰æ–¹å·¥å…·ï¼Œæ¯”å¦‚ VSï¼Œæˆ– vscode + æ’ä»¶çš„æ¨¡å¼ï¼Œæ¥è¿›è¡Œå¼€å‘c++ï¼Œéƒ½å¯ä»¥åœ¨æˆ‘çš„è¿™ä¸ªç³»åˆ—çš„åšå®¢æ‰¾åˆ°blogã€‚æœ€åï¼Œè¿™å¤§åŠå¤œçš„ï¼Œå†™è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘æ˜¯æœ‰ç‚¹è„šå†·ã€‚å¤©å†·ï¼Œè„šå†·ï¼Œè¯¥é’»è¿›è¢«çªäº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>QNetworkAccessManagerï¼ŒQNetworkReplyï¼ŒQNetworkRequestå®ç°é«˜å±‚ç½‘ç»œçš„æ“ä½œhttp</title>
      <link href="/posts/9b0e3e4b/"/>
      <url>/posts/9b0e3e4b/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  äº†è§£<code>QNetworkAccessManager</code>&#x2F;<code>QNetworkReply</code>&#x2F;<code>QNetworkRequest</code>å®ç°é«˜å±‚ç½‘ç»œçš„æ“ä½œ<code>http</code>ï¼Œä¹¦å†™ä¸€ä¸ªç®€å•åœ°ä¾‹å­ï¼›ç„¶åå†™äº†ä¸€ä¸ªå°çš„ <strong>Qt</strong>ä¾‹å­ï¼Œç”¨æ¥å®ç°å’ŒéªŒè¯å®ƒçš„ç©ºé—´çš„ä¸€äº›å±æ€§å’ŒåŠŸèƒ½çš„ç”¨æ³•ã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_20191230_223624_mark.png"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ç³»ç»Ÿç¯å¢ƒï¼š"><a href="#ç³»ç»Ÿç¯å¢ƒï¼š" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒï¼š"></a>ç³»ç»Ÿç¯å¢ƒï¼š</h2><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>MacOS 10.14.6 (18G103)</code>   <strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong> <code>Qt 5.9.8</code>ï¼Œ <code>Qt Creator 4.8.2</code></p><br><h2 id="httpè¯·æ±‚ä»¥åŠåº”ç­”ï¼š"><a href="#httpè¯·æ±‚ä»¥åŠåº”ç­”ï¼š" class="headerlink" title="httpè¯·æ±‚ä»¥åŠåº”ç­”ï¼š"></a>httpè¯·æ±‚ä»¥åŠåº”ç­”ï¼š</h2><p>å°†ä¸Šé¢çš„ä¸‰ä¸ªç±»è¿›è¡Œä¸€ä¸ªå…³ç³»å›¾çš„æ¢³ç†ï¼Œå¯ä»¥å¾—åˆ°å¦‚ä¸‹å¦‚å›¾ï¼Œçœ‹åˆ°ç½‘ç»œä¸Šé¢éƒ½æ˜¯ä¸€äº›åŸºæœ¬ä»‹ç»ä¸å…¨ï¼Œè¿ä¸€ä¸ªå›¾éƒ½æ²¡æœ‰ï¼Œç†è§£èµ·æ¥ä¼šæ¯”è¾ƒæŠ½è±¡ï¼Œæ‰€ä»¥è¿™é‡Œç”»ä¸Šä¸€ä¸ªå›¾å¸®åŠ©å¤§å®¶ç†è§£ä»–ä»¬ä¸‰è€…ä¹‹é—´çš„å…³ç³»ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_20191230_225736_mark.png"/ loading="lazy"><h3 id="QNetworkRequestï¼š"><a href="#QNetworkRequestï¼š" class="headerlink" title="QNetworkRequestï¼š"></a>QNetworkRequestï¼š</h3><p><code>QNetworkRequest</code>é€šè¿‡ä¸€ä¸ªURLåœ°å€å‘é€ç½‘ç»œè¯·æ±‚åè®®è¯·æ±‚ï¼Œä¹Ÿä¿å­˜ç½‘ç»œè¯·æ±‚çš„ä¿¡æ¯ï¼Œç›®å‰æ˜¯æ”¯æŒHTTPï¼ŒFTPï¼Œå’Œå±€éƒ¨çš„URLsçš„ä¸‹è½½å’Œä¸Šä¼ ï¼›</p><br><h3 id="QNetworkAccessManagerï¼š"><a href="#QNetworkAccessManagerï¼š" class="headerlink" title="QNetworkAccessManagerï¼š"></a>QNetworkAccessManagerï¼š</h3><p><code>QNetworkAccessManager</code>ç±»ç”¨äºåè°ƒç½‘ç»œæ“ä½œï¼Œåœ¨<code>QNetworkRequest</code>å‘é€ä¸€ä¸ªç½‘ç»œè¯·æ±‚ä¹‹åï¼Œ<code>QNetworkAccessManager</code>ç±»è´Ÿè´£å‘é€ç½‘ç»œè¯·æ±‚ï¼Œåˆ›å»ºç½‘ç»œå“åº”ã€‚</p><br><h3 id="QNetworkReplyï¼š"><a href="#QNetworkReplyï¼š" class="headerlink" title="QNetworkReplyï¼š"></a>QNetworkReplyï¼š</h3><p><code>QNetworkReply</code>ç±»è¡¨ç¤ºç½‘ç»œè¯·æ±‚çš„å“åº”ã€‚ç”±<code>QNetworkAccessManager</code>åœ¨å‘é€ä¸€ä¸ªç½‘ç»œè¯·æ±‚ååˆ›å»ºä¸€ä¸ªç½‘ç»œå“åº”ï¼›<code>QNetworkReply</code>æä¾›ä¿¡å·finish(), readyRead(), downloadProgress()å¯ä»¥ç›‘æµ‹ç½‘ç»œæ‰§è¡Œçš„æƒ…å†µï¼Œæ‰§è¡Œå“åº”çš„æ“ä½œã€‚å…¶<code>QNetworkReply</code>ä¹Ÿæ˜¯<code>QIODevice</code>çš„å­ç±»ï¼Œæ‰€ä»¥<code>QNetworkReply</code>æ”¯æŒæµè¯»å†™åŠŸèƒ½ï¼Œä¹Ÿæ”¯æŒå¼‚æ­¥æˆ–è€…åŒæ­¥çš„å·¥ä½œæ¨¡å¼ã€‚</p><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><p>è¿™é‡Œå…ˆæ”¾ä¸€å¼ è¿è¡Œæ•ˆæœå›¾ï¼š</p><p>æ­¤ä¾‹å­ä¸‹è½½çš„æ˜¯qtcretorçš„æ ¡éªŒæ–‡ä»¶.txtï¼›å…¶ä¸­è‹¥æ˜¯å°†ä¸‹è½½é“¾æ¥æ›¿æ¢ä¸ºQtCreatorçš„ä¸‹è½½Â·è¿æ¥ï¼ˆæœ¬æ˜¯æƒ³ä¸‹è½½exeã€dmgæ–‡ä»¶çš„ï¼‰ï¼›ä½†æ˜¯å´ä¼šå‘ç°ä¸‹è½½ä¸æ˜¯é¢„æ–™ä¸­ï¼Œè€Œæ˜¯å¦å¤–ä¸€ä¸ªæ–‡ä»¶ï¼ŒæŒ‡å‘å¦å¤–çš„ä¸€ä¸ªçœŸå®åœ°å€çš„ä¸‹è½½æ–‡ä»¶ï¼›ä½†æ˜¯æµè§ˆå™¨å¯ä»¥è¯†åˆ«ä»¬ç›´æ¥è·³è½¬ä¸‹è½½ä¹‹åçš„åœ°å€ï¼Œä½†è‹¥æ˜¯è¿™ä¸ªç¨‹åºæƒ³è¦ç›´æ¥ä¸‹è½½ä»å®šå‘çš„æ–‡ä»¶çš„çœŸå®åœ°å€çš„æ–‡ä»¶ï¼Œå°±éœ€è¦å†æ¬¡åšå¤„ç†ã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191230_224505.gif"/ loading="lazy"><br><h2 id="æºç åˆ†æï¼š"><a href="#æºç åˆ†æï¼š" class="headerlink" title="æºç åˆ†æï¼š"></a>æºç åˆ†æï¼š</h2><p>å…¶ä¸­æ ¸å¿ƒéƒ¨åˆ†çš„æºç ï¼Œé‡ç‚¹å’Œä¸€äº›éš¾ç‚¹ä»¥åŠéœ€è¦æ³¨æ„çš„ä¸€äº›åœ°æ–¹ï¼Œè´´å‡ºæ¥å¦‚ä¸‹ï¼š</p><p>å…¶ä¸­.hå¤´æ–‡ä»¶æºç ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">EXHTTP_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">EXHTTP_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QMainWindow></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QNetworkAccessManager></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QNetworkReply></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QFile></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QUrl></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QDir></span></span><span class="token keyword">namespace</span> Ui <span class="token punctuation">&#123;</span><span class="token keyword">class</span> <span class="token class-name">ExHttp</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">ExHttp</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QMainWindow</span></span><span class="token punctuation">&#123;</span>    Q_OBJECT<span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">explicit</span> <span class="token function">ExHttp</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">~</span><span class="token function">ExHttp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">private</span> slots<span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">on_btnDown_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//ä¸‹è½½æ–‡ä»¶</span>    <span class="token keyword">void</span> <span class="token function">on_btnFile_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//é»˜è®¤çš„ä¿å­˜è·¯å¾„</span>    <span class="token keyword">void</span> <span class="token function">on_lineEditUrl_textChanged</span><span class="token punctuation">(</span><span class="token keyword">const</span> QString <span class="token operator">&amp;</span>arg1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">onFinished</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">//ç½‘ç»œå“åº”ç»“æŸ</span>    <span class="token keyword">void</span> <span class="token function">onReadyRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">//è¯»å–ä¸‹è½½çš„æ•°æ®</span>    <span class="token keyword">void</span> <span class="token function">onDownloadProgress</span><span class="token punctuation">(</span>qint64 bytesRea<span class="token punctuation">,</span> qint64 totalBytes<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//ä¸‹è½½è¿›ç¨‹</span><span class="token keyword">private</span><span class="token operator">:</span>    Ui<span class="token double-colon punctuation">::</span>ExHttp <span class="token operator">*</span>ui<span class="token punctuation">;</span>    QNetworkAccessManager<span class="token operator">*</span> m_networkManager<span class="token punctuation">;</span>   <span class="token comment">//ç½‘ç»œç®¡ç†</span>    QNetworkReply<span class="token operator">*</span> m_reply<span class="token punctuation">;</span>                    <span class="token comment">//ç½‘ç»œå“åº”</span>    QFile<span class="token operator">*</span> m_file<span class="token punctuation">;</span>                             <span class="token comment">//ä¸‹è½½ä¿å­˜çš„ä¸´æ—¶æ–‡ä»¶</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// EXHTTP_H</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å…¶ä¸­.cppæºæ–‡ä»¶æºç ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ExHttp.h"</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ui_ExHttp.h"</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QMessageBox></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QDir></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QDesktopServices></span></span><span class="token class-name">ExHttp</span><span class="token double-colon punctuation">::</span><span class="token function">ExHttp</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span> <span class="token operator">:</span>    <span class="token function">QMainWindow</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token double-colon punctuation">::</span>ExHttp<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token string">"QNetworkAccessManager ç½‘ç»œç®¡ç†ä½¿ç”¨ Http åè®®ä¸‹è½½"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_networkManager <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QNetworkAccessManager</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_reply <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>    m_file <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">ExHttp</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">ExHttp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">delete</span> ui<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//ä¸‹è½½æ–‡ä»¶</span><span class="token keyword">void</span> <span class="token class-name">ExHttp</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnDown_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString urlSpec <span class="token operator">=</span> ui<span class="token operator">-></span>lineEditUrl<span class="token operator">-></span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trimmed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//å»æ‰å­—ç¬¦ä¸²çš„é¦–å°¾çš„ç©ºæ ¼</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>urlSpec<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">information</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"æç¤º"</span><span class="token punctuation">,</span> <span class="token string">"ä¸‹è½½åœ°å€URLä¸ºNULL"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    QUrl url <span class="token operator">=</span> <span class="token class-name">QUrl</span><span class="token double-colon punctuation">::</span><span class="token function">fromUserInput</span><span class="token punctuation">(</span>urlSpec<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>url<span class="token punctuation">.</span><span class="token function">isValid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">information</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"æç¤º"</span><span class="token punctuation">,</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"æ— æ•ˆURL: %1 \n é”™è¯¯ä¿¡æ¯: %2"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>urlSpec<span class="token punctuation">,</span> url<span class="token punctuation">.</span><span class="token function">errorString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    QString dir <span class="token operator">=</span> ui<span class="token operator">-></span>lineEditFile<span class="token operator">-></span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trimmed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>dir<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">information</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"æç¤º"</span><span class="token punctuation">,</span> <span class="token string">"ä¿å­˜åœ°å€ä¸ºç©º"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    QString fileFileName <span class="token operator">=</span> dir <span class="token operator">+</span> url<span class="token punctuation">.</span><span class="token function">fileName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ–‡ä»¶ä¿å­˜åœ°å€ + æ–‡ä»¶å</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">QFile</span><span class="token double-colon punctuation">::</span><span class="token function">exists</span><span class="token punctuation">(</span>fileFileName<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token class-name">QFile</span><span class="token double-colon punctuation">::</span><span class="token function">remove</span><span class="token punctuation">(</span>fileFileName<span class="token punctuation">)</span><span class="token punctuation">;</span>    m_file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QFile</span><span class="token punctuation">(</span>fileFileName<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//åˆ›å»ºä¸´æ—¶æ–‡ä»¶</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>m_file<span class="token operator">-></span><span class="token function">open</span><span class="token punctuation">(</span>QIODevice<span class="token double-colon punctuation">::</span>WriteOnly<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">information</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"æç¤º"</span><span class="token punctuation">,</span> <span class="token string">"æ‰“å¼€ä¸´æ—¶æ–‡ä»¶é”™è¯¯"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    ui<span class="token operator">-></span>btnDown<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_reply <span class="token operator">=</span> m_networkManager<span class="token operator">-></span><span class="token function">get</span><span class="token punctuation">(</span><span class="token function">QNetworkRequest</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//å‘é€getç½‘ç»œè¯·æ±‚ï¼Œåˆ›å»ºç½‘ç»œå“åº”</span>    <span class="token function">connect</span><span class="token punctuation">(</span>m_reply<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">finished</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onFinished</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">connect</span><span class="token punctuation">(</span>m_reply<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">readyRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onReadyRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">connect</span><span class="token punctuation">(</span>m_reply<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">downloadProgress</span><span class="token punctuation">(</span>qint64<span class="token punctuation">,</span>qint64<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onDownloadProgress</span><span class="token punctuation">(</span>qint64<span class="token punctuation">,</span>qint64<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//é»˜è®¤çš„ä¿å­˜è·¯å¾„</span><span class="token keyword">void</span> <span class="token class-name">ExHttp</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnFile_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString currPath <span class="token operator">=</span> <span class="token class-name">QDir</span><span class="token double-colon punctuation">::</span><span class="token function">currentPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QDir <span class="token function">dir</span><span class="token punctuation">(</span>currPath<span class="token punctuation">)</span><span class="token punctuation">;</span>    dir<span class="token punctuation">.</span><span class="token function">mkdir</span><span class="token punctuation">(</span><span class="token string">"temp"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>lineEditFile<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>currPath <span class="token operator">+</span> <span class="token string">"/temp/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//ç½‘ç»œå“åº”ç»“æŸ</span><span class="token keyword">void</span> <span class="token class-name">ExHttp</span><span class="token double-colon punctuation">::</span><span class="token function">onFinished</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QFileInfo fileInfo<span class="token punctuation">;</span>    fileInfo<span class="token punctuation">.</span><span class="token function">setFile</span><span class="token punctuation">(</span>m_file<span class="token operator">-></span><span class="token function">fileName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_file<span class="token operator">-></span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">delete</span> m_file<span class="token punctuation">;</span>    m_file <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>    m_reply<span class="token operator">-></span><span class="token function">deleteLater</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_reply <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ui<span class="token operator">-></span>checkBox<span class="token operator">-></span><span class="token function">isChecked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">//å‹¾é€‰äº†ï¼Œä¸‹è½½å®Œæˆä¹‹åï¼Œæ‰“å¼€ä¸‹è½½çš„æ–‡ä»¶               //absoluteFilePath() è¿”å›åŒ…å«æ–‡ä»¶åçš„ç»å¯¹è·¯å¾„ã€‚</span>        <span class="token class-name">QDesktopServices</span><span class="token double-colon punctuation">::</span><span class="token function">openUrl</span><span class="token punctuation">(</span><span class="token class-name">QUrl</span><span class="token double-colon punctuation">::</span><span class="token function">fromLocalFile</span><span class="token punctuation">(</span>fileInfo<span class="token punctuation">.</span><span class="token function">absoluteFilePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//ä½¿ç”¨é»˜è®¤è½¯ä»¶çš„æ‰“å¼€ä¸‹è½½çš„æ–‡ä»¶</span>    ui<span class="token operator">-></span>btnDown<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//è¯»å–ä¸‹è½½çš„æ•°æ®</span><span class="token keyword">void</span> <span class="token class-name">ExHttp</span><span class="token double-colon punctuation">::</span><span class="token function">onReadyRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    m_file<span class="token operator">-></span><span class="token function">write</span><span class="token punctuation">(</span>m_reply<span class="token operator">-></span><span class="token function">readAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//å°†è¿”å›çš„æ•°æ®è¿›è¡Œè¯»å–ï¼Œå†™å…¥åˆ°ä¸´æ—¶æ–‡ä»¶ä¸­</span><span class="token punctuation">&#125;</span><span class="token comment">//ä¸‹è½½è¿›ç¨‹</span><span class="token keyword">void</span> <span class="token class-name">ExHttp</span><span class="token double-colon punctuation">::</span><span class="token function">onDownloadProgress</span><span class="token punctuation">(</span>qint64 bytesRea<span class="token punctuation">,</span> qint64 totalBytes<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>progressBar<span class="token operator">-></span><span class="token function">setMaximum</span><span class="token punctuation">(</span>totalBytes<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>progressBar<span class="token operator">-></span><span class="token function">setValue</span><span class="token punctuation">(</span>bytesRea<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExHttp</span><span class="token double-colon punctuation">::</span><span class="token function">on_lineEditUrl_textChanged</span><span class="token punctuation">(</span><span class="token keyword">const</span> QString <span class="token operator">&amp;</span>arg1<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>progressBar<span class="token operator">-></span><span class="token function">setMaximum</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>progressBar<span class="token operator">-></span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><a href="https://github.com/xmuli/QtExamples">https://github.com/xmuli/QtExamples</a> ã€QtHttpExã€‘</p>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Updé€šä¿¡ä¹‹QUdpSocketçš„unicastå•æ’­ã€broadcastå¹¿æ’­ã€multicastç»„æ’­</title>
      <link href="/posts/26bdcc49/"/>
      <url>/posts/26bdcc49/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  äº†è§£<code>Upd</code>é€šä¿¡ä¹‹<code>QUdpSocket</code>çš„<code>unicast</code>å•æ’­ã€<code>broadcast</code>å¹¿æ’­ã€<code>multicast</code>ç»„æ’­ï¼Œä¹¦å†™ä¸€ä¸ªç®€å•åœ°ä¾‹å­ï¼›ç„¶åå†™äº†ä¸€ä¸ªå°çš„<code>Qt</code>ä¾‹å­ï¼Œç”¨æ¥å®ç°å’ŒéªŒè¯å®ƒçš„ç©ºé—´çš„ä¸€äº›å±æ€§å’ŒåŠŸèƒ½çš„ç”¨æ³•ã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_20191230_205857_mark.png"  / loading="lazy"><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_20191230_214149_mark.png" / loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ç³»ç»Ÿç¯å¢ƒï¼š"><a href="#ç³»ç»Ÿç¯å¢ƒï¼š" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒï¼š"></a>ç³»ç»Ÿç¯å¢ƒï¼š</h2><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>MacOS 10.14.6 (18G103)</code>   <strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong> <code>Qt 5.9.8</code>ï¼Œ <code>Qt Creator 4.8.2</code></p><br><h2 id="QUdpSocketè®²è§£"><a href="#QUdpSocketè®²è§£" class="headerlink" title="QUdpSocketè®²è§£:"></a>QUdpSocketè®²è§£:</h2><p><code>UDP</code>é€šä¿¡æ˜¯è½»é‡çš„ï¼Œä¸å¯é ï¼ˆè¡¨ç¤ºæœ‰æ¦‚ç‡ä¼šä¸¢åŒ…ï¼‰ï¼Œé¢å‘æ•°æ®æŠ¥ï¼Œæ— è¿æ¥çš„åè®®ã€‚ç”¨é€”å¯ä»¥æ¯”å¦‚ï¼šè¿œç¨‹è§†é¢‘ç­‰</p><p>å¯¹äºUDPé€šä¿¡è€Œè¨€ï¼Œå…¶å®æ˜¯æ²¡æœ‰åŒºåˆ†å®¢æˆ·ç«¯æˆ–è€…æœåŠ¡ç«¯çš„ï¼Œåº”ä¸ºä»»ä½•ä¸€ä¸ªUdpSocketæ—¢å¯ä»¥çœ‹åšå®¢æˆ·ç«¯ï¼Œä¹Ÿå¯ä»¥çœ‹åšæœåŠ¡ç«¯ï¼›è¿™ç‚¹ä¸TCPçš„ä¸ä¸€æ ·çš„ã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_20191230_222351_mark.png"/ loading="lazy"><p>å¦å¤–å°±æ˜¯<code>QUdpSocket</code>æ˜¯ä»¥æ•°æ®æŠ¥çš„å½¢å¼ä¼ è¾“æ•°æ®ï¼Œè€Œéè¿ç»­çš„æ•°æ®æµã€‚å‘é€çš„æ•°æ®æŠ¥ä¸€èˆ¬ä¹Ÿéƒ½æ˜¯<code>QByteArray</code></p><p>ç±»å‹çš„å­—èŠ‚æ•°ç»„ï¼›æ•°æ®æŠ¥çš„é•¿åº¦ä¸€èˆ¬æ˜¯ä½äº512å­—èŠ‚çš„ï¼Œä¸”æ¯ä¸€ä¸ªæ•°æ®æŠ¥éƒ½æ˜¯è¦åŒ…å«æœ‰å‘é€è€…å’Œæ¥å—è€…çš„<code>IP</code>å’Œ<code>port</code>ç­‰ä¿¡æ¯ã€‚</p><p>å…¶ä¸­udpçš„æ¶ˆæ¯ä¼ æ’­æ–¹å¼æœ‰å¦‚ä¸‹ä¸‰ç§ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_20191230_215944_mark.png"/ loading="lazy"><ul><li><p><strong>unicastå•æ’­ï¼š</strong></p><p>  ä¸€ä¸ªudpå®¢æˆ·ç«¯åªèƒ½å¤Ÿå‘é€æ•°æ®æŠ¥åˆ°å¦å¤–ä¸€ä¸ªæŒ‡å®šçš„åœ°å€å’Œç«¯å£çš„udpå®¢æˆ·ç«¯ï¼Œæ˜¯ä¸€å¯¹ä¸€çš„æ•°æ®ä¼ è¾“</p></li><li><p><strong>broadcastå¹¿æ’­ï¼š</strong></p><p>  ä¸€ä¸ªudpå®¢æˆ·ç«¯å‘é€çš„æ•°æ®æŠ¥ï¼Œåœ¨åŒä¸€ç½‘ç»œèŒƒå›´å†…å…¶ä»–æ‰€æœ‰çš„udpå®¢æˆ·ç«¯éƒ½å¯ä»¥æ”¶åˆ°ã€‚å…¶æ”¯æŒ<code>IPV4</code>å¹¿æ’­ğŸ“¢ï¼Œåªéœ€è¦å°†æ¥æ”¶å¯¹è±¡è®¾ç½®ä¸º<code>QHostAddress::Broadcast</code>ï¼Œä¸”<code>ip</code>åœ°å€ä¸º<code>255.255.255.255</code>(ä»£è¡¨æ•´ä¸ªåœ°å€æ®µçš„æ‰€æœ‰ip)</p></li><li><p><strong>multicastç»„æ’­ï¼š</strong></p><p>  ä¹Ÿè¢«ç§°ä¸ºå¤šæ’­ã€‚å°±æ˜¯ç›¸å½“äºç¾¤èŠåŠŸèƒ½ã€‚udpå®¢æˆ·ç«¯åŠ å…¥åˆ° <strong>å¦ä¸€ä¸ªç»„æ’­IPåœ°å€æŒ‡å®šçš„</strong>å¤šæ’­ç»„ï¼Œæˆå‘˜å‘ç»„æ’­åœ°å€å‘é€çš„æ•°æ®æŠ¥ç»„å†…æˆå‘˜éƒ½å¯ä»¥æ¥æ”¶åˆ°ï¼Œä½¿ç”¨<code>QUdpSocket::joinMuliticastGroup()</code>å‡½æ•°å®ç°åŠ å…¥å¤šæ’­åŠŸèƒ½ï¼›åŠ å…¥å¤šæ’­åï¼ŒUDPçš„å‘é€å’Œæ­£å¸¸çš„UDPæ•°æ®æ”¶å‘ä¸€æ ·ã€‚</p></li></ul><p><strong>è€Œå…³äºç»„æ’­IPåœ°å€ï¼Œæ˜¯æœ‰ç€ä¸€äº›çº¦å®šçš„ï¼š</strong></p><p>ç»¼ä¸Šï¼šè‹¥æ˜¯åœ¨å®¶åº­æˆ–è€…åŠå…¬å®¤æˆ–å±€åŸŸç½‘ä¸­è¿›è¡Œudpçš„æµ‹è¯•ï¼Œå¯ä»¥ä½¿ç”¨çš„ç»„æ’­åœ°å€æ˜¯èŒƒå›´æ˜¯ï¼š239.0.0.0~238.255.255.255</p><p><strong>QUdpSocketçš„ä¸»è¦å¸¸ç”¨æ¥å£ï¼š</strong></p><table><thead><tr><th>å‡½æ•°</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>bool bind(quint16 port &#x3D; 0)</td><td>ä¸ºudpé€šä¿¡ç»‘å®šä¸€ä¸ªç«¯å£</td></tr><tr><td>qint64 writeDatagram(QByteArray kdatagram, QHostAddress &amp;host, quint16 port)</td><td>å‘ç›®æ ‡åœ°å€å’Œç«¯å£çš„udpå®¢æˆ·ç«¯å‘é€æ•°æ®æŠ¥ï¼Œè¿”å›æˆåŠŸå‘é€çš„å­—èŠ‚æ•°</td></tr><tr><td>bool hasPendingDatagrams()</td><td>è‡³å°‘æœ‰ä¸€ä¸ªæ•°æ®æŠ¥éœ€è¦è¯»å–çš„æ—¶ï¼Œè¿”å›true</td></tr><tr><td>qint64 pendingDatagramSize()</td><td>è¿”å›ç¬¬ä¸€ä¸ªå¾…è¯»å–æ•°æ®æŠ¥çš„å¤§å°</td></tr><tr><td>qint64 readDatagram(char *data, qint64 maxSize)</td><td>è¯»å–ä¸€ä¸ªæ•°æ®æŠ¥ï¼Œè¿”å›æˆåŠŸè¯»å–çš„æ•°æ®æŠ¥çš„å­—èŠ‚æ•°</td></tr><tr><td>bool joinMulticastGroup(QHostAddress &amp;groupAddressï¼‰</td><td>åŠ å…¥ä¸€ä¸ªå¤šæ’­ç»„</td></tr><tr><td>bool leaveMulticastGroup(QHostAddress &amp;groupAddress)</td><td>ç¦»å¼€ä¸€ä¸ªå¤šæ’­ç»„</td></tr></tbody></table><br><h2 id="unicastå•æ’­-x2F-broadcastå¹¿æ’­ï¼š"><a href="#unicastå•æ’­-x2F-broadcastå¹¿æ’­ï¼š" class="headerlink" title="unicastå•æ’­&#x2F;broadcastå¹¿æ’­ï¼š"></a>unicastå•æ’­&#x2F;broadcastå¹¿æ’­ï¼š</h2><p>å…¶ä¸­å•æ’­å’Œç»„æ’­çš„å›¾è§£å¦‚ä¸‹ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_20191230_221822_mark.png"/ loading="lazy"><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_20191230_221804_mark.png"/ loading="lazy"><br><h2 id="multicastç»„æ’­ï¼š"><a href="#multicastç»„æ’­ï¼š" class="headerlink" title="multicastç»„æ’­ï¼š"></a>multicastç»„æ’­ï¼š</h2><p>å…¶ä¸­ç»„æ’­çš„å…³ç³»å›¾å¦‚ä¸‹ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_20191230_221740_mark.png"/ loading="lazy"><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><p>è¿™é‡Œå…ˆæ”¾ä¸€å¼ è¿è¡Œæ•ˆæœå›¾ï¼š</p><p><strong>unicastå•æ’­&#x2F;broadcastå¹¿æ’­ï¼š</strong></p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191230_211005.gif"/ loading="lazy"><p><strong>multicastç»„æ’­:</strong></p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191230_221005.gif"/ loading="lazy"><br><h2 id="æºç åˆ†æï¼š"><a href="#æºç åˆ†æï¼š" class="headerlink" title="æºç åˆ†æï¼š"></a>æºç åˆ†æï¼š</h2><p><strong>å…¶ä¸­æ ¸å¿ƒéƒ¨åˆ†çš„æºç ï¼Œé‡ç‚¹å’Œä¸€äº›éš¾ç‚¹ä»¥åŠéœ€è¦æ³¨æ„çš„ä¸€äº›åœ°æ–¹ï¼Œè´´å‡ºæ¥å¦‚ä¸‹</strong></p><h3 id="unicastå•æ’­-x2F-broadcastå¹¿æ’­ï¼š-1"><a href="#unicastå•æ’­-x2F-broadcastå¹¿æ’­ï¼š-1" class="headerlink" title="unicastå•æ’­&#x2F;broadcastå¹¿æ’­ï¼š"></a>unicastå•æ’­&#x2F;broadcastå¹¿æ’­ï¼š</h3><p>å…¶ä¸­.hå¤´æ–‡ä»¶ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">EXTRANS_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">EXTRANS_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QMainWindow></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QLabel></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QUdpSocket></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QString></span></span><span class="token keyword">namespace</span> Ui <span class="token punctuation">&#123;</span><span class="token keyword">class</span> <span class="token class-name">ExTrans</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/*! * \class ExTrans ä¸€ä¸ªUDPçš„Deamæµ‹è¯•ï¼ŒåŒæ—¶æµ‹è¯•å•æ’­å’Œå¹¿æ’­ * \brief å› ä¸ºæ˜¯åœ¨åŒä¸€å°ç”µè„‘æµ‹è¯•ï¼Œæ‰€ä»¥IPç›¸åŒï¼Œéœ€è¦ç»‘å®šä¸¤ä¸ªä¸åŒç«¯å£çš„ï¼Œè¿™æ ·ä¸ä¼šå†²çªï¼› * è‹¥æ˜¯ä¸¤å°ç”µè„‘è¿›è¡Œæµ‹è¯•ï¼Œé‚£ä¹ˆå¯ä»¥çº¦å®šä½¿ç”¨ç›¸åŒçš„ç«¯å£å·ï¼Œä½¿ç”¨ä¸åŒçš„IPï¼›æ¥è¿›è¡Œé€šè®¯ */</span><span class="token keyword">class</span> <span class="token class-name">ExTrans</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QMainWindow</span></span><span class="token punctuation">&#123;</span>    Q_OBJECT<span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">explicit</span> <span class="token function">ExTrans</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">~</span><span class="token function">ExTrans</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">private</span> slots<span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">on_actBind_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//ç»‘å®šç«¯å£</span>    <span class="token keyword">void</span> <span class="token function">on_actDisbind_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//è§£é™¤ç»‘å®š</span>    <span class="token keyword">void</span> <span class="token function">on_actClean_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//æ¸…é™¤æ–‡æœ¬ä¿¡æ¯</span>    <span class="token keyword">void</span> <span class="token function">on_actQuit_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//å…³é—­ç¨‹åº</span>    <span class="token keyword">void</span> <span class="token function">on_btnUnicast_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//å•æ’­æ¶ˆæ¯</span>    <span class="token keyword">void</span> <span class="token function">on_btnBroadcast_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//å¹¿æ’­æ¶ˆæ¯</span>    <span class="token keyword">void</span> <span class="token function">onSocketStateChange</span><span class="token punctuation">(</span>QAbstractSocket<span class="token double-colon punctuation">::</span>SocketState socketState<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//socket çŠ¶æ€å‘ç”Ÿå˜åŒ–</span>    <span class="token keyword">void</span> <span class="token function">onSocketReadyRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è¯»å– socket ä¼ å…¥çš„æ•°æ®</span><span class="token keyword">private</span><span class="token operator">:</span>    QString <span class="token function">getLocalIp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//è·å–æœ¬æœºIP</span><span class="token keyword">private</span><span class="token operator">:</span>    Ui<span class="token double-colon punctuation">::</span>ExTrans <span class="token operator">*</span>ui<span class="token punctuation">;</span>    QLabel<span class="token operator">*</span> m_labSocketState<span class="token punctuation">;</span>    QUdpSocket<span class="token operator">*</span> m_udpSocket<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// EXTRANS_H</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å…¶ä¸­.cppæºæ–‡ä»¶ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ExTrans.h"</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ui_ExTrans.h"</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QHostInfo></span></span><span class="token class-name">ExTrans</span><span class="token double-colon punctuation">::</span><span class="token function">ExTrans</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span> <span class="token operator">:</span>    <span class="token function">QMainWindow</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token double-colon punctuation">::</span>ExTrans<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token string">"Udpé€šä¿¡ï¼šunicast(å•æ’­) + broadcast(å¹¿æ’­)çš„ä½¿ç”¨"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QString hostName <span class="token operator">=</span> <span class="token class-name">QHostInfo</span><span class="token double-colon punctuation">::</span><span class="token function">localHostName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QString ip <span class="token operator">=</span> <span class="token function">getLocalIp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"ä¸»æœºåç§°ï¼š"</span> <span class="token operator">+</span> hostName <span class="token operator">+</span> <span class="token string">"\nä¸»æœºIPï¼š"</span> <span class="token operator">+</span> ip <span class="token operator">+</span> <span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labSocketState <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QLabel</span><span class="token punctuation">(</span><span class="token string">"SocketçŠ¶æ€ï¼š"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labSocketState<span class="token operator">-></span><span class="token function">setMinimumWidth</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>statusBar<span class="token operator">-></span><span class="token function">addWidget</span><span class="token punctuation">(</span>m_labSocketState<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>comboBoxIp<span class="token operator">-></span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token function">getLocalIp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_udpSocket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QUdpSocket</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">connect</span><span class="token punctuation">(</span>m_udpSocket<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">stateChanged</span><span class="token punctuation">(</span>QAbstractSocket<span class="token double-colon punctuation">::</span>SocketState<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onSocketStateChange</span><span class="token punctuation">(</span>QAbstractSocket<span class="token double-colon punctuation">::</span>SocketState<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">onSocketStateChange</span><span class="token punctuation">(</span>m_udpSocket<span class="token operator">-></span><span class="token function">state</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">connect</span><span class="token punctuation">(</span>m_udpSocket<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">readyRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onSocketReadyRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">ExTrans</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">ExTrans</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">delete</span> ui<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//ç»‘å®šç«¯å£</span><span class="token keyword">void</span> <span class="token class-name">ExTrans</span><span class="token double-colon punctuation">::</span><span class="token function">on_actBind_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    quint16 port <span class="token operator">=</span> ui<span class="token operator">-></span>spinBoxBind<span class="token operator">-></span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//æœ¬æœºUDPç«¯å£</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>m_udpSocket<span class="token operator">-></span><span class="token function">bind</span><span class="token punctuation">(</span>port<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>   <span class="token comment">//ç«¯å£ç»‘å®šæˆåŠŸ</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"ç«¯å£ç»‘å®šæˆåŠŸï¼š"</span> <span class="token operator">+</span> <span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">number</span><span class="token punctuation">(</span>m_udpSocket<span class="token operator">-></span><span class="token function">localPort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ui<span class="token operator">-></span>actBind<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ui<span class="token operator">-></span>actDisbind<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"ç«¯å£ç»‘å®šå¤±è´¥"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//è§£é™¤ç»‘å®š</span><span class="token keyword">void</span> <span class="token class-name">ExTrans</span><span class="token double-colon punctuation">::</span><span class="token function">on_actDisbind_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    m_udpSocket<span class="token operator">-></span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ–­å¼€ï¼Œä¸­æ­¢å¥—æ¥å­—</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"ç«¯å£è§£é™¤ç»‘å®šæˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>actBind<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>actDisbind<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ¸…é™¤æ–‡æœ¬ä¿¡æ¯</span><span class="token keyword">void</span> <span class="token class-name">ExTrans</span><span class="token double-colon punctuation">::</span><span class="token function">on_actClean_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//å…³é—­ç¨‹åº</span><span class="token keyword">void</span> <span class="token class-name">ExTrans</span><span class="token double-colon punctuation">::</span><span class="token function">on_actQuit_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//å•æ’­æ¶ˆæ¯</span><span class="token keyword">void</span> <span class="token class-name">ExTrans</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnUnicast_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString targetIp <span class="token operator">=</span> ui<span class="token operator">-></span>comboBoxIp<span class="token operator">-></span><span class="token function">currentText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QHostAddress <span class="token function">targetAddr</span><span class="token punctuation">(</span>targetIp<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//ç›®æ ‡ Ip</span>    quint16 targetPort <span class="token operator">=</span> ui<span class="token operator">-></span>spinBoxPort<span class="token operator">-></span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//ç›®æ ‡ port</span>    QString msg <span class="token operator">=</span> ui<span class="token operator">-></span>lineEdit<span class="token operator">-></span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//å‘é€çš„æ¶ˆæ¯</span>    QByteArray str <span class="token operator">=</span> msg<span class="token punctuation">.</span><span class="token function">toUtf8</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_udpSocket<span class="token operator">-></span><span class="token function">writeDatagram</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> targetAddr<span class="token punctuation">,</span> targetPort<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//å‘é€æ•°æ®æŠ¥</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"[Send: ] %1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>lineEdit<span class="token operator">-></span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>lineEdit<span class="token operator">-></span><span class="token function">setFocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//å¹¿æ’­æ¶ˆæ¯</span><span class="token keyword">void</span> <span class="token class-name">ExTrans</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnBroadcast_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    quint16 targetPort <span class="token operator">=</span> ui<span class="token operator">-></span>spinBoxPort<span class="token operator">-></span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//ç›®æ ‡ port</span>    QString msg <span class="token operator">=</span> ui<span class="token operator">-></span>lineEdit<span class="token operator">-></span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//å‘é€çš„æ¶ˆæ¯</span>    QByteArray str <span class="token operator">=</span> msg<span class="token punctuation">.</span><span class="token function">toUtf8</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_udpSocket<span class="token operator">-></span><span class="token function">writeDatagram</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> QHostAddress<span class="token double-colon punctuation">::</span>Broadcast<span class="token punctuation">,</span> targetPort<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//å‘é€ æ•°æ®æŠ¥ ç»™æ‰€æœ‰IP</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"[å¹¿æ’­: ] %1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>lineEdit<span class="token operator">-></span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>lineEdit<span class="token operator">-></span><span class="token function">setFocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//socket çŠ¶æ€å‘ç”Ÿå˜åŒ–</span><span class="token keyword">void</span> <span class="token class-name">ExTrans</span><span class="token double-colon punctuation">::</span><span class="token function">onSocketStateChange</span><span class="token punctuation">(</span>QAbstractSocket<span class="token double-colon punctuation">::</span>SocketState socketState<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">switch</span> <span class="token punctuation">(</span>socketState<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>UnconnectedState<span class="token operator">:</span>        m_labSocketState<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šUnconnectedState"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>HostLookupState<span class="token operator">:</span>        m_labSocketState<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šHostLookupState"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>ConnectingState<span class="token operator">:</span>        m_labSocketState<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šConnectingState"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>ConnectedState<span class="token operator">:</span>        m_labSocketState<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šConnectedState"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>BoundState<span class="token operator">:</span>        m_labSocketState<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šBoundState"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>ClosingState<span class="token operator">:</span>        m_labSocketState<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šClosingState"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>ListeningState<span class="token operator">:</span>        m_labSocketState<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šListeningState"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">default</span><span class="token operator">:</span>        m_labSocketState<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šå…¶ä»–æœªçŸ¥çŠ¶æ€..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//è¯»å– socket ä¼ å…¥çš„æ•°æ®</span><span class="token keyword">void</span> <span class="token class-name">ExTrans</span><span class="token double-colon punctuation">::</span><span class="token function">onSocketReadyRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>m_udpSocket<span class="token operator">-></span><span class="token function">hasPendingDatagrams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        QByteArray datagram<span class="token punctuation">;</span>        datagram<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>m_udpSocket<span class="token operator">-></span><span class="token function">pendingDatagramSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        QHostAddress peerAddr<span class="token punctuation">;</span>        quint16 peerPort<span class="token punctuation">;</span>        m_udpSocket<span class="token operator">-></span><span class="token function">readDatagram</span><span class="token punctuation">(</span>datagram<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> datagram<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>peerAddr<span class="token punctuation">,</span> <span class="token operator">&amp;</span>peerPort<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//è¯»å–æ•°æ®åŒ…ï¼Œæ¶ˆæ¯+æ¥è‡ªçš„Ipå’Œport</span>        QString str <span class="token operator">=</span> datagram<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        QString peer <span class="token operator">=</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"[From: %1  %2] %3"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>peerAddr<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span><span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">number</span><span class="token punctuation">(</span>peerPort<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span>peer<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//è·å–æœ¬æœºIP</span>QString <span class="token class-name">ExTrans</span><span class="token double-colon punctuation">::</span><span class="token function">getLocalIp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString hostName <span class="token operator">=</span> <span class="token class-name">QHostInfo</span><span class="token double-colon punctuation">::</span><span class="token function">localHostName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QHostInfo hostInfo <span class="token operator">=</span> <span class="token class-name">QHostInfo</span><span class="token double-colon punctuation">::</span><span class="token function">fromName</span><span class="token punctuation">(</span>hostName<span class="token punctuation">)</span><span class="token punctuation">;</span>    QString Ip <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>hostInfo<span class="token punctuation">.</span><span class="token function">addresses</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token function">foreach</span> <span class="token punctuation">(</span>QHostAddress addr<span class="token punctuation">,</span> hostInfo<span class="token punctuation">.</span><span class="token function">addresses</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>addr<span class="token punctuation">.</span><span class="token function">protocol</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> QAbstractSocket<span class="token double-colon punctuation">::</span>IPv4Protocol<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            Ip <span class="token operator">=</span> addr<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>   <span class="token keyword">return</span> Ip<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="multicastç»„æ’­"><a href="#multicastç»„æ’­" class="headerlink" title="multicastç»„æ’­:"></a>multicastç»„æ’­:</h3><p>å…¶ä¸­.hå¤´æ–‡ä»¶ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">EXMULTICAST_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">EXMULTICAST_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QMainWindow></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QUdpSocket></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QLabel></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QHostInfo></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QHostAddress></span></span><span class="token keyword">namespace</span> Ui <span class="token punctuation">&#123;</span><span class="token keyword">class</span> <span class="token class-name">ExMulticast</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">ExMulticast</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QMainWindow</span></span><span class="token punctuation">&#123;</span>    Q_OBJECT<span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">explicit</span> <span class="token function">ExMulticast</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">~</span><span class="token function">ExMulticast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">private</span> slots<span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">on_actStart_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">on_actStop_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">on_actClear_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">on_actQuit_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">onSocketStateChange</span><span class="token punctuation">(</span>QAbstractSocket<span class="token double-colon punctuation">::</span>SocketState socketState<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//socket çŠ¶æ€å‘ç”Ÿå˜åŒ–</span>    <span class="token keyword">void</span> <span class="token function">onSocketReadyRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è¯»å– socket ä¼ å…¥çš„æ•°æ®</span>    <span class="token keyword">void</span> <span class="token function">on_btnSend_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">private</span><span class="token operator">:</span>    QString <span class="token function">getLocalIp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//è·å–æœ¬æœºIP</span><span class="token keyword">private</span><span class="token operator">:</span>    Ui<span class="token double-colon punctuation">::</span>ExMulticast <span class="token operator">*</span>ui<span class="token punctuation">;</span>    QUdpSocket<span class="token operator">*</span> m_udpSocket<span class="token punctuation">;</span>      <span class="token comment">//ç”¨äºé€šè®¯çš„ socket</span>    QLabel<span class="token operator">*</span> m_labSocketState<span class="token punctuation">;</span>    QHostAddress m_groupAddress<span class="token punctuation">;</span>  <span class="token comment">//ç»„æ’­åœ°å€</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// EXMULTICAST_H</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å…¶ä¸­.cppæºæ–‡ä»¶ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ExMulticast.h"</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ui_ExMulticast.h"</span></span><span class="token class-name">ExMulticast</span><span class="token double-colon punctuation">::</span><span class="token function">ExMulticast</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span> <span class="token operator">:</span>    <span class="token function">QMainWindow</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token double-colon punctuation">::</span>ExMulticast<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token string">"Udpé€šä¿¡ï¼šmulticate(ç»„æ’­)çš„ä½¿ç”¨"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QString hostName <span class="token operator">=</span> <span class="token class-name">QHostInfo</span><span class="token double-colon punctuation">::</span><span class="token function">localHostName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QString ip <span class="token operator">=</span> <span class="token function">getLocalIp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"ä¸»æœºåç§°ï¼š"</span> <span class="token operator">+</span> hostName <span class="token operator">+</span> <span class="token string">"\nä¸»æœºIPï¼š"</span> <span class="token operator">+</span> ip <span class="token operator">+</span> <span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labSocketState <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QLabel</span><span class="token punctuation">(</span><span class="token string">"SocketçŠ¶æ€ï¼š"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labSocketState<span class="token operator">-></span><span class="token function">setMinimumWidth</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>statusBar<span class="token operator">-></span><span class="token function">addWidget</span><span class="token punctuation">(</span>m_labSocketState<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>comboBoxIp<span class="token operator">-></span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token function">getLocalIp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_udpSocket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QUdpSocket</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//ç”¨äºé€šè®¯ä½¿ç”¨çš„ Socket</span>    <span class="token comment">//Multicastè·¯ç”±å±‚æ¬¡ï¼Œ1è¡¨ç¤ºåªåœ¨åŒä¸€å±€åŸŸç½‘å†…</span>    <span class="token comment">//ç»„æ’­TTL: ç”Ÿå­˜æ—¶é—´ï¼Œæ¯è·¨1ä¸ªè·¯ç”±ä¼šå‡1ï¼Œå¤šæ’­æ— æ³•è·¨è¿‡å¤§å¤šæ•°è·¯ç”±æ‰€ä»¥ä¸º1</span>    <span class="token comment">//é»˜è®¤å€¼æ˜¯1ï¼Œè¡¨ç¤ºæ•°æ®åŒ…åªèƒ½åœ¨æœ¬åœ°çš„å­ç½‘ä¸­ä¼ é€ã€‚</span>    m_udpSocket<span class="token operator">-></span><span class="token function">setSocketOption</span><span class="token punctuation">(</span>QAbstractSocket<span class="token double-colon punctuation">::</span>MulticastTtlOption<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">connect</span><span class="token punctuation">(</span>m_udpSocket<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">stateChanged</span><span class="token punctuation">(</span>QAbstractSocket<span class="token double-colon punctuation">::</span>SocketState<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onSocketStateChange</span><span class="token punctuation">(</span>QAbstractSocket<span class="token double-colon punctuation">::</span>SocketState<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">onSocketStateChange</span><span class="token punctuation">(</span>m_udpSocket<span class="token operator">-></span><span class="token function">state</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">connect</span><span class="token punctuation">(</span>m_udpSocket<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">readyRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onSocketReadyRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">ExMulticast</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">ExMulticast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">delete</span> ui<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExMulticast</span><span class="token double-colon punctuation">::</span><span class="token function">on_actStart_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString ip <span class="token operator">=</span> ui<span class="token operator">-></span>comboBoxIp<span class="token operator">-></span><span class="token function">currentText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_groupAddress <span class="token operator">=</span> <span class="token function">QHostAddress</span><span class="token punctuation">(</span>ip<span class="token punctuation">)</span><span class="token punctuation">;</span>    quint16 port <span class="token operator">=</span> ui<span class="token operator">-></span>spinBoxBind<span class="token operator">-></span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>m_udpSocket<span class="token operator">-></span><span class="token function">bind</span><span class="token punctuation">(</span>QHostAddress<span class="token double-colon punctuation">::</span>AnyIPv4<span class="token punctuation">,</span> port<span class="token punctuation">,</span> QUdpSocket<span class="token double-colon punctuation">::</span>ShareAddress<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//ç»‘å®šç«¯å£</span>        m_udpSocket<span class="token operator">-></span><span class="token function">joinMulticastGroup</span><span class="token punctuation">(</span>m_groupAddress<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åŠ å…¥å¤šæ’­ç»„</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"[ç”¨æˆ·ï¼š"</span> <span class="token operator">+</span> <span class="token function">getLocalIp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span><span class="token string">"]  åŠ å…¥ç»„æ’­(ç»„æ’­åœ°å€ï¼š"</span> <span class="token operator">+</span> ip <span class="token operator">+</span> <span class="token string">" ç«¯å£ï¼š"</span> <span class="token operator">+</span> <span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">number</span><span class="token punctuation">(</span>port<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">")æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ui<span class="token operator">-></span>actStart<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ui<span class="token operator">-></span>actStop<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"[ç”¨æˆ·ï¼š"</span> <span class="token operator">+</span> <span class="token function">getLocalIp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span><span class="token string">"]  åŠ å…¥ç»„æ’­(ç»„æ’­åœ°å€ï¼š"</span> <span class="token operator">+</span> ip <span class="token operator">+</span> <span class="token string">" ç«¯å£ï¼š"</span> <span class="token operator">+</span> <span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">number</span><span class="token punctuation">(</span>port<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">")å¤±è´¥"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExMulticast</span><span class="token double-colon punctuation">::</span><span class="token function">on_actStop_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    m_udpSocket<span class="token operator">-></span><span class="token function">leaveMulticastGroup</span><span class="token punctuation">(</span>m_groupAddress<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//é€€å‡ºç»„æ’­</span>    m_udpSocket<span class="token operator">-></span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//è§£é™¤ç»‘å®š</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"[ç”¨æˆ·ï¼š"</span> <span class="token operator">+</span> <span class="token function">getLocalIp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span><span class="token string">"]  é€€å‡ºç»„æ’­æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>actStart<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>actStop<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExMulticast</span><span class="token double-colon punctuation">::</span><span class="token function">on_actClear_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExMulticast</span><span class="token double-colon punctuation">::</span><span class="token function">on_actQuit_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExMulticast</span><span class="token double-colon punctuation">::</span><span class="token function">onSocketStateChange</span><span class="token punctuation">(</span>QAbstractSocket<span class="token double-colon punctuation">::</span>SocketState socketState<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">switch</span> <span class="token punctuation">(</span>socketState<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>UnconnectedState<span class="token operator">:</span>        m_labSocketState<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šUnconnectedState"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>HostLookupState<span class="token operator">:</span>        m_labSocketState<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šHostLookupState"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>ConnectingState<span class="token operator">:</span>        m_labSocketState<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šConnectingState"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>ConnectedState<span class="token operator">:</span>        m_labSocketState<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šConnectedState"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>BoundState<span class="token operator">:</span>        m_labSocketState<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šBoundState"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>ClosingState<span class="token operator">:</span>        m_labSocketState<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šClosingState"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>ListeningState<span class="token operator">:</span>        m_labSocketState<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šListeningState"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">default</span><span class="token operator">:</span>        m_labSocketState<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šå…¶ä»–æœªçŸ¥çŠ¶æ€..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExMulticast</span><span class="token double-colon punctuation">::</span><span class="token function">onSocketReadyRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>m_udpSocket<span class="token operator">-></span><span class="token function">hasPendingDatagrams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        QByteArray datagram<span class="token punctuation">;</span>        datagram<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>m_udpSocket<span class="token operator">-></span><span class="token function">pendingDatagramSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        QHostAddress peerAddr<span class="token punctuation">;</span>        quint16 peerPort<span class="token punctuation">;</span>        m_udpSocket<span class="token operator">-></span><span class="token function">readDatagram</span><span class="token punctuation">(</span>datagram<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> datagram<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>peerAddr<span class="token punctuation">,</span> <span class="token operator">&amp;</span>peerPort<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//è¯»å–æ•°æ®åŒ…ï¼Œæ¶ˆæ¯+æ¥è‡ªçš„Ipå’Œport</span>        QString str <span class="token operator">=</span> datagram<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        QString peer <span class="token operator">=</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"[From: %1  %2] %3"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>peerAddr<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span><span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">number</span><span class="token punctuation">(</span>peerPort<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span>peer<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>QString <span class="token class-name">ExMulticast</span><span class="token double-colon punctuation">::</span><span class="token function">getLocalIp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString hostName <span class="token operator">=</span> <span class="token class-name">QHostInfo</span><span class="token double-colon punctuation">::</span><span class="token function">localHostName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QHostInfo hostInfo <span class="token operator">=</span> <span class="token class-name">QHostInfo</span><span class="token double-colon punctuation">::</span><span class="token function">fromName</span><span class="token punctuation">(</span>hostName<span class="token punctuation">)</span><span class="token punctuation">;</span>    QString Ip <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>hostInfo<span class="token punctuation">.</span><span class="token function">addresses</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token function">foreach</span> <span class="token punctuation">(</span>QHostAddress addr<span class="token punctuation">,</span> hostInfo<span class="token punctuation">.</span><span class="token function">addresses</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>addr<span class="token punctuation">.</span><span class="token function">protocol</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> QAbstractSocket<span class="token double-colon punctuation">::</span>IPv4Protocol<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            Ip <span class="token operator">=</span> addr<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>   <span class="token keyword">return</span> Ip<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExMulticast</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnSend_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    quint16 port <span class="token operator">=</span> ui<span class="token operator">-></span>spinBoxBind<span class="token operator">-></span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QString  msg <span class="token operator">=</span> ui<span class="token operator">-></span>lineEdit<span class="token operator">-></span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QByteArray  datagram <span class="token operator">=</span> msg<span class="token punctuation">.</span><span class="token function">toUtf8</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_udpSocket<span class="token operator">-></span><span class="token function">writeDatagram</span><span class="token punctuation">(</span>datagram<span class="token punctuation">,</span> m_groupAddress<span class="token punctuation">,</span> port<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//    m_udpSocket->writeDatagram(datagram.data(), datagram.size(), m_groupAddress, port);</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"[multicst] "</span> <span class="token operator">+</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>lineEdit<span class="token operator">-></span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>lineEdit<span class="token operator">-></span><span class="token function">setFocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><a href="https://github.com/xmuli/QtExamples">https://github.com/xmuli/QtExamples</a>ã€QtUdpExã€‘</p>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>TCPé€šä¿¡ä¹‹QTcpServerå’ŒQTcpSocketï¼ŒæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯é€šè®¯</title>
      <link href="/posts/f283a311/"/>
      <url>/posts/f283a311/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  äº†è§£<code>TCP</code>é€šä¿¡ä¹‹<code>QTcpServer</code>å’Œ<code>QTcpSocket</code>ï¼ŒæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯é€šè®¯ï¼Œä¹¦å†™ä¸€ä¸ªç®€å•åœ°ä¾‹å­ï¼›ç„¶åå†™äº†ä¸€ä¸ªå°çš„ <strong>Qt</strong>ä¾‹å­ï¼Œç”¨æ¥å®ç°å’ŒéªŒè¯å®ƒçš„ç©ºé—´çš„ä¸€äº›å±æ€§å’ŒåŠŸèƒ½çš„ç”¨æ³•ã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_20191225_232206_mark.png"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ç³»ç»Ÿç¯å¢ƒï¼š"><a href="#ç³»ç»Ÿç¯å¢ƒï¼š" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒï¼š"></a>ç³»ç»Ÿç¯å¢ƒï¼š</h2><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>MacOS 10.14.6 (18G103)</code>   <strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong> <code>Qt 5.9.8</code>ï¼Œ <code>Qt Creator 4.8.2</code></p><br><h2 id="Tcpé€šä¿¡æ¦‚è¿°ï¼š"><a href="#Tcpé€šä¿¡æ¦‚è¿°ï¼š" class="headerlink" title="Tcpé€šä¿¡æ¦‚è¿°ï¼š"></a>Tcpé€šä¿¡æ¦‚è¿°ï¼š</h2><p>æˆ‘æƒ³èƒ½å¤Ÿçœ‹åˆ°ç½‘ç»œè¿™ä¸€éƒ¨åˆ†çš„äººï¼ŒåŸºæœ¬éƒ½æ˜¯æœ‰ç€åŸºæœ¬çš„ç½‘ç»œè®¤çŸ¥ï¼›è¿™é‡Œä¸ºäº†è¿™ä¸€ä¸ªç³»åˆ—çš„å®Œæ•´æ€§ï¼Œè¿˜æ˜¯å†³å®šå°†æœ¬ç³»åˆ—çš„åŸºæœ¬çŸ¥è¯†ä»æ—§å†™å‡ºæ¥ã€‚ä¸‡ä¸€ä¹‹å‰çš„ä½ æ˜¯æ²¡æœ‰æ€ä¹ˆæ¥è§¦è¿‡è¿™ç±»ç¯‡æ–‡ç« çš„é¸­é¸­å‘¢ï¼Ÿå°±ç®—æ˜¯å®Œå…¨ä¸çŸ¥ï¼Œä½†æ˜¯ä¸€äº›åŸºç¡€çš„è¿˜æ˜¯èƒ½å¤Ÿè®©ä½ èƒ½å¤Ÿæœ‰æ‰€äº†è§£ï¼Œå†å…·ä½“çš„å°±è¿›è¡Œè‡ªè¡Œgooleå’Œä¸“ä¸šğŸ“šè¿›è¡Œæ‰©å±•æ·±å…¥æ‰©å±•å­¦ä¹ ï¼Œåšæ–‡å°½é‡éƒ½æä¸€ç¬”ï¼Œå…¶ä½™æ›´å¤šå¾…ä½ è‡ªè¡Œå‘æ˜ã€‚</p><p><strong>TCPç‰¹ç‚¹ï¼š</strong></p><p>å¯é ï¼Œé¢å‘æµä¼ æ’­ï¼Œé¢å‘åè®®çš„ä¸€ç§ä¼ è¾“åè®®ï¼›ç‰¹åˆ«é€‚åˆç”¨äºè¿ç»­æ•°æ®ä¼ è¾“ã€‚å®é™…ğŸŒ°ï¼šQQçš„åœ¨çº¿å‘é€æ–‡ä»¶ï¼Œå°±æ˜¯ä¸ºäº†ç¡®ä¿æ–‡ä»¶å‘é€çš„å®Œæ•´æ€§ï¼Œä½¿ç”¨çš„TCPåè®®ã€‚</p><br><h2 id="QTcpServerå±æ€§ï¼š"><a href="#QTcpServerå±æ€§ï¼š" class="headerlink" title="QTcpServerå±æ€§ï¼š"></a>QTcpServerå±æ€§ï¼š</h2><p>TCPé€šä¿¡ï¼Œå¿…é¡»å…ˆè¿›è¡ŒTCPè¿æ¥ï¼Œé€šä¿¡ç«¯å£åˆ†ä¸ºæœåŠ¡å™¨ç«¯å£å’Œå®¢æˆ·ç«¯ã€‚</p><p><code>QTcpServer</code>æ˜¯ä»<code>QObject</code>ç»§æ‰¿çš„ç±»ï¼Œä¸»è¦æ˜¯ç”¨äºæœåŠ¡å™¨å»ºç«‹ç½‘ç»œç›‘å¬ï¼Œåˆ›ç«‹<code>Socket</code>è¿æ¥çš„ï¼›å…¶ä¸­ä¸»è¦çš„ä¸€äº›å¸¸ç”¨æ¥å£ï¼Œæä¾›Â·å¦‚ä¸‹ï¼š</p><table><thead><tr><th>ç±»å‹</th><th>å‡½æ•°</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>å…¬å…±å‡½æ•°</td><td>void close()</td><td>å…³é—­æœåŠ¡å™¨ï¼Œåœæ­¢ç½‘ç»œç›‘å¬</td></tr><tr><td></td><td>bool listen()</td><td>åœ¨ç»™å®šIPåœ°å€å’Œç«¯å£ä¸Šå¼€å§‹ç›‘å¬ï¼Œè‹¥æ˜¯æˆåŠŸï¼Œå°±è¿”å›true</td></tr><tr><td></td><td>bool isListening()</td><td>è¿”å›trueè¡¨ç¤ºæœåŠ¡å™¨å¤„äºç›‘å¬çŠ¶æ€</td></tr><tr><td></td><td>QTcpSocket * nextPendingConnection()</td><td>è¿”å›ä¸‹ä¸€ä¸ªç­‰å¾…æ¥å…¥çš„è¿æ¥</td></tr><tr><td></td><td>QHostAddres serverAddress()</td><td>å¦‚æœæœåŠ¡å™¨å¤„äºç›‘å¬çŠ¶æ€ï¼Œè¿”å›æœåŠ¡å™¨åœ°å€</td></tr><tr><td></td><td>quint16 serverPort()</td><td>å¦‚æœæœåŠ¡å™¨å¤„äºç›‘å¬çŠ¶æ€ï¼Œè¿”å›æœåŠ¡å™¨ç«¯å£</td></tr><tr><td></td><td>bool waitForNewConnection()</td><td>ä»¥é˜»å¡æ–¹å¼ç­‰å¾…æ–°çš„è¿æ¥</td></tr><tr><td></td><td></td><td></td></tr><tr><td>ä¿¡å·</td><td>void acceptError( QAbstractSocket::SocketError socketError )</td><td>å½“æ¥å—ä¸€ä¸ªæ–°çš„è¿æ¥æ—¶å¤§å£°äº†é”™è¯¯ï¼Œå°±å‘å°„æ­¤ä¿¡å·ï¼›å‚æ•°socketErroræè¿°é”™è¯¯ä¿¡æ¯</td></tr><tr><td></td><td>void new Connection()</td><td>å½“æœ‰æ–°çš„ä¿¡å·è¿æ¥æ—¶å€™ï¼Œå‘å°„æ­¤ä¿¡å·</td></tr><tr><td></td><td></td><td></td></tr><tr><td>ä¿æŠ¤å‡½æ•°</td><td>void incomingConnection(qintptr socketDescriptor)</td><td>å½“æœ‰ä¸€ä¸ªæ–°çš„è¿æ¥å¯ç”¨æ—¶ï¼ŒQTcpServerå†…éƒ¨è°ƒç”¨æ­¤å‡½æ•°ï¼Œåˆ›å»ºä¸€ä¸ªQTcpSocketå¯¹è±¡ï¼Œæ·»åŠ åˆ°å†…éƒ¨å¯ç”¨æ–°è¿æ¥åˆ—è¡¨ï¼Œç„¶åå‘å°„newConnetion()ä¿¡å·ï¼Œç”¨æˆ·è‹¥æ˜¯ä»QTcpServerç»§æ‰¿å®šä¹‰ç±»ï¼Œå¯ä»¥é‡å®šä¹‰æ­¤å‡½æ•°ï¼Œä½†æ˜¯å¿…é¡»è°ƒç”¨QtcpSocketç»§æ‰¿å®šä¹‰ç±»ï¼Œå¯ä»¥é‡æ–°å®šä¹‰æ­¤å‡½æ•°ï¼Œä½†æ˜¯å¿…é¡»è°ƒç”¨addPendingConnetion()</td></tr><tr><td></td><td>void addPendingConnection(QTcp Socket *socket)</td><td>ç”±incomingtion()è°ƒç”¨ï¼Œå°†åˆ›å»ºçš„QTcpSocketæ·»åŠ åˆ°å†…éƒ¨æ–°å¯ç”¨è¿æ¥åˆ—è¡¨</td></tr></tbody></table><p>æœåŠ¡å™¨çš„ç¨‹åºé¦–å…ˆæ˜¯éœ€è¦è°ƒç”¨QTcpServerè¿›è¡Œç›‘å¬çš„ã€è¿™ä¸ªæ—¶å€™ï¼Œæ˜¯æŒ‡å®šç›‘å¬çš„IPå’Œportçš„ã€‘ï¼Œç„¶åå½“QScoketè¿æ¥çš„æ—¶å€™ï¼Œä¼šå‘å°„ä¿¡å·ğŸ“¶ï¼Œ<code>newConnection()</code>ï¼Œåœ¨<code>newConnection()</code>çš„å¯¹åº”å¥½çš„æ§½å‡½æ•°ä¸­ï¼Œå¯ä»¥ç”¨nextPendingConnetion()æ¥æ”¶å®¢æˆ·ç«¯çš„è¿æ¥ï¼Œç„¶åä½¿ç”¨QSocketä¸å®¢æˆ·ç«¯è¿›è¡Œé€šä¿¡ã€‚</p><h2 id="QTcp-x2F-QUdpç»§æ‰¿å…³ç³»å›¾ï¼š"><a href="#QTcp-x2F-QUdpç»§æ‰¿å…³ç³»å›¾ï¼š" class="headerlink" title="QTcp&#x2F;QUdpç»§æ‰¿å…³ç³»å›¾ï¼š"></a>QTcp&#x2F;QUdpç»§æ‰¿å…³ç³»å›¾ï¼š</h2><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_20191229_181530_mark.png"/ loading="lazy"><br><h2 id="QAbstractSocketæ¥å£è®²è§£ï¼š"><a href="#QAbstractSocketæ¥å£è®²è§£ï¼š" class="headerlink" title="QAbstractSocketæ¥å£è®²è§£ï¼š"></a>QAbstractSocketæ¥å£è®²è§£ï¼š</h2><p><strong>å…¶ä¸­ä¸»è¦çš„<code>QAbstractSocket</code>çš„ä¸»è¦çš„æ¥å£å‡½æ•°å¦‚ä¸‹ï¼š</strong></p><table><thead><tr><th>ç±»å‹</th><th>å‡½æ•°</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>å…¬å…±å‡½æ•°</td><td>void connectToHost(QHostAddress headdress, quint16 port,)</td><td>ä»¥å¼‚æ­¥çš„æ–¹å¼è¿æ¥åˆ°æŒ‡å®šçš„IPåœ°å€å’Œç«¯å£çš„TCPæœåŠ¡å™¨ï¼Œè¿æ¥æˆåŠŸä¼šå‘å°„connected()ä¿¡å·</td></tr><tr><td></td><td>void disconnectFromHost()</td><td>æ–­å¼€sokcetï¼Œå…³é—­æˆåŠŸåå‘å°„disconnection()ä¿¡å·</td></tr><tr><td></td><td>bool waitForConnected()</td><td>ç­‰å¾…ç›´åˆ°å»ºç«‹socketè¿æ¥</td></tr><tr><td></td><td>bool waitForDisconnected()</td><td>ç­‰å¾…ç›´åˆ°æ–­å¼€socketè¿æ¥</td></tr><tr><td></td><td>QHostAddress localAddress()</td><td>è¿”å›æœ¬socketçš„åœ°å€</td></tr><tr><td></td><td>quint16 localPort()</td><td>è¿”å›æœ¬socketçš„ç«¯å£</td></tr><tr><td></td><td>QHostAddress peerAddress()</td><td>åœ¨å·²ç»è¿æ¥çŠ¶æ€ä¸‹ï¼Œè¿”å›å¯¹æ–¹socketçš„åœ°å€</td></tr><tr><td></td><td>QString peerName()</td><td>è¿”å›connetToHost()è¿æ¥åˆ°å¯¹æ–¹çš„ä¸»æœºçš„å</td></tr><tr><td></td><td>quint16 peerPort()</td><td>åœ¨å·²è¿æ¥çš„çŠ¶æ€ä¸‹ï¼Œè¿”å›å¯¹æ–¹çš„socketçš„port</td></tr><tr><td></td><td>qint64 readBuffer Size()</td><td>è¿”å›å†…éƒ¨è¯»å–ç¼“å†²åŒºçš„å¤§å°çš„æ•°æ®çš„å­—èŠ‚æ•°ï¼›è¯¥å¤§å°å†³å®šäº†read()å’ŒreadAll()å‡½æ•°èƒ½å¤Ÿè¯»å–å‡ºæ¥çš„æ•°æ®çš„å¤§å°</td></tr><tr><td></td><td>void setReadBuAerSize(qint64 size)</td><td>æ•°æ®å†…éƒ¨è¯»å–ç¼“å†²åŒºçš„æ•°æ®çš„å­—èŠ‚æ•°</td></tr><tr><td></td><td>qint64 bytesAvailable()</td><td>è¿”å›éœ€è¦è¯»å–çš„ç¼“å†²åŒºçš„å­—èŠ‚æ•°å­—</td></tr><tr><td></td><td>bool canReadLine()</td><td>å¦‚æœæœ‰è¡Œæ•°æ®è¦ä»socketç¼“å†²åŒºè¯»å–ï¼Œå°±è¿”å›true</td></tr><tr><td></td><td>SocketState state()</td><td>è¿”å›å½“å‰socketçŠ¶æ€</td></tr><tr><td></td><td></td><td></td></tr><tr><td>ä¿¡å·ğŸ“¶</td><td>void connected()</td><td>connectionToHost()æˆåŠŸè¿æ¥åˆ°æœåŠ¡å™¨åå‘å°„æ­¤ä¿¡å·</td></tr><tr><td></td><td>void disconnected()</td><td>å½“socketæ–­å¼€è¿æ¥æ—¶ï¼Œå‘å°„æ­¤ä¿¡å·</td></tr><tr><td></td><td>void error(QAbstractSocket::SocketError socketError)</td><td>å½“socketå‘ç”Ÿé”™è¯¯æ—¶ï¼Œå‘å°„æ­¤ä¿¡å·</td></tr><tr><td></td><td>void hostFound()</td><td>è°ƒç”¨connectToHost()æ‰¾åˆ°ä¸»æœºåå‘å°„æ­¤ä¿¡å·</td></tr><tr><td></td><td>void stateChanged(QAbstractSocket::SocketState socketState)</td><td>å½“socketçš„çŠ¶æ€å˜åŒ–æ—¶å€™å‘å°„æ­¤ä¿¡å·ï¼Œå‚æ•°socketStateè¡¨ç¤ºäº†socketå½“å‰çš„çŠ¶æ€</td></tr><tr><td></td><td>void ready Read()</td><td>å½“ç¼“å†²åŒºçš„æ•°æ®éœ€è¦è¯»å–æ—¶å€™ï¼Œå‘å°„æ­¤ä¿¡å·ï¼Œåœ¨æ­¤ä¿¡å·çš„æ§½å‡½æ•°é‡Œé¢è¯»å–ç¼“å†²åŒºçš„æ•°æ®</td></tr></tbody></table><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><p>è¿™é‡Œå…ˆæ”¾ä¸€å¼ è¿è¡Œæ•ˆæœå›¾ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191216_232611.gif"/ loading="lazy"><br><h2 id="æºç åˆ†æï¼š"><a href="#æºç åˆ†æï¼š" class="headerlink" title="æºç åˆ†æï¼š"></a>æºç åˆ†æï¼š</h2><p>è¿™é‡Œå°†TCPé€šä¿¡çš„æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯æ‹†åˆ†ä¸ºä¸¤ä¸ªå°çš„é¡¹ç›®æ¥å†™ï¼Œå…¶ç»“æ„å¦‚ä¸‹ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_20191225_232719_mark.png" style="zoom:67%;" / loading="lazy"><p>å…¶ä¸­æ ¸å¿ƒéƒ¨åˆ†çš„æºç ï¼Œé‡ç‚¹å’Œä¸€äº›éš¾ç‚¹ä»¥åŠéœ€è¦æ³¨æ„çš„ä¸€äº›åœ°æ–¹ï¼Œè´´å‡ºæ¥å¦‚ä¸‹ï¼š</p><h3 id="å…¶ä¸­æœåŠ¡å™¨ç«¯ï¼š"><a href="#å…¶ä¸­æœåŠ¡å™¨ç«¯ï¼š" class="headerlink" title="å…¶ä¸­æœåŠ¡å™¨ç«¯ï¼š"></a>å…¶ä¸­æœåŠ¡å™¨ç«¯ï¼š</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">/* * Copyright (C)  2019 ~ 2019 touwoyimuli.  All rights reserved. * * Author:  touwoyimuli &lt;xmulitech@gmai.com> * * github:  https://github.com/touwoyimuli * blogs:   https://touwoyimuli.github.io/ * * This program is free software: you can redistribute it and/or modify * it under the terms of the GNU General Public License as published by * the Free Software Foundation, either version 3 of the License, or * any later version. * * This program is distributed in the hope that it will be useful, * but WITHOUT ANY WARRANTY; without even the implied warranty of * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the * GNU General Public License for more details. * * You should have received a copy of the GNU General Public License * along with this program.  If not, see &lt;https://touwoyimuli.github.io/>. */</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">EXTCPSERVER_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">EXTCPSERVER_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QMainWindow></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QLabel></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QTcpServer></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QTcpSocket></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QHostInfo></span></span><span class="token keyword">namespace</span> Ui <span class="token punctuation">&#123;</span><span class="token keyword">class</span> <span class="token class-name">ExTcpServer</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">ExTcpServer</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QMainWindow</span></span><span class="token punctuation">&#123;</span>    Q_OBJECT<span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">explicit</span> <span class="token function">ExTcpServer</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">~</span><span class="token function">ExTcpServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">private</span><span class="token operator">:</span>    QString <span class="token function">getLocalIp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//è·å–æœ¬æœº IP</span><span class="token keyword">protected</span><span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">closeEvent</span><span class="token punctuation">(</span>QCloseEvent<span class="token operator">*</span> event<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">private</span> slots<span class="token operator">:</span><span class="token comment">//UIçš„æ§½å‡½æ•°</span>    <span class="token keyword">void</span> <span class="token function">on_actStart_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//å¼€å§‹ç›‘å¬</span>    <span class="token keyword">void</span> <span class="token function">on_actStop_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//åœæ­¢ç›‘å¬</span>    <span class="token keyword">void</span> <span class="token function">on_actClear_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//æ¸…é™¤æ–‡æœ¬æ¡†å†…å®¹</span>    <span class="token keyword">void</span> <span class="token function">on_actQuit_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//é€€å‡ºç¨‹åº</span>    <span class="token keyword">void</span> <span class="token function">on_btnSend_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">//å‘é€æ¶ˆæ¯</span><span class="token comment">//è‡ªå®šä¹‰çš„æ§½å‡½æ•°</span>    <span class="token keyword">void</span> <span class="token function">onSocketReadyRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">//è¯»å– socket ä¼ å…¥æ—¶å€™çš„æ•°æ®</span>    <span class="token keyword">void</span> <span class="token function">onClientConnected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">//client socket conneted</span>    <span class="token keyword">void</span> <span class="token function">onClientDisonnected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//client socket disconneted</span>    <span class="token keyword">void</span> <span class="token function">onNewConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//QTcpServer çš„ newConnect() ä¿¡å·</span>    <span class="token keyword">void</span> <span class="token function">onSocketStateChange</span><span class="token punctuation">(</span>QAbstractSocket<span class="token double-colon punctuation">::</span>SocketState socketState<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">private</span><span class="token operator">:</span>    Ui<span class="token double-colon punctuation">::</span>ExTcpServer <span class="token operator">*</span>ui<span class="token punctuation">;</span>    QLabel<span class="token operator">*</span> m_labListen<span class="token punctuation">;</span>    QLabel<span class="token operator">*</span> m_labSocket<span class="token punctuation">;</span>    QTcpServer<span class="token operator">*</span> m_tcpServer<span class="token punctuation">;</span>    QTcpSocket<span class="token operator">*</span> m_tcpSocket<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// EXTCPSERVER_H</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ExTcpServer.h"</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ui_ExTcpServer.h"</span></span><span class="token class-name">ExTcpServer</span><span class="token double-colon punctuation">::</span><span class="token function">ExTcpServer</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span> <span class="token operator">:</span>    <span class="token function">QMainWindow</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token double-colon punctuation">::</span>ExTcpServer<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labListen <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QLabel</span><span class="token punctuation">(</span><span class="token string">"ç›‘å¬çŠ¶æ€ï¼š"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labSocket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QLabel</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼š"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labListen<span class="token operator">-></span><span class="token function">setMidLineWidth</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labSocket<span class="token operator">-></span><span class="token function">setMinimumWidth</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>statusBar<span class="token operator">-></span><span class="token function">addWidget</span><span class="token punctuation">(</span>m_labListen<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>statusBar<span class="token operator">-></span><span class="token function">addWidget</span><span class="token punctuation">(</span>m_labSocket<span class="token punctuation">)</span><span class="token punctuation">;</span>    QString localeIp <span class="token operator">=</span> <span class="token function">getLocalIp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token function">windowTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"---IPåœ°å€ï¼š"</span> <span class="token operator">+</span> localeIp<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>comboBox<span class="token operator">-></span><span class="token function">addItem</span><span class="token punctuation">(</span>localeIp<span class="token punctuation">)</span><span class="token punctuation">;</span>    m_tcpServer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTcpServer</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">connect</span><span class="token punctuation">(</span>m_tcpServer<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">newConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onNewConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">ExTcpServer</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">ExTcpServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">delete</span> ui<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>QString <span class="token class-name">ExTcpServer</span><span class="token double-colon punctuation">::</span><span class="token function">getLocalIp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString hostName <span class="token operator">=</span> <span class="token class-name">QHostInfo</span><span class="token double-colon punctuation">::</span><span class="token function">localHostName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QHostInfo hostInfo <span class="token operator">=</span> <span class="token class-name">QHostInfo</span><span class="token double-colon punctuation">::</span><span class="token function">fromName</span><span class="token punctuation">(</span>hostName<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"æœ¬æœºåç§°ï¼š"</span> <span class="token operator">+</span> hostName<span class="token punctuation">)</span><span class="token punctuation">;</span>    QString locaIp<span class="token punctuation">;</span>    QList<span class="token operator">&lt;</span>QHostAddress<span class="token operator">></span> list <span class="token operator">=</span> hostInfo<span class="token punctuation">.</span><span class="token function">addresses</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token string">"null QString"</span><span class="token punctuation">;</span>    <span class="token function">foreach</span> <span class="token punctuation">(</span>QHostAddress addr<span class="token punctuation">,</span> list<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>addr<span class="token punctuation">.</span><span class="token function">protocol</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> QAbstractSocket<span class="token double-colon punctuation">::</span>IPv4Protocol<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            locaIp <span class="token operator">=</span> addr<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> locaIp<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExTcpServer</span><span class="token double-colon punctuation">::</span><span class="token function">closeEvent</span><span class="token punctuation">(</span>QCloseEvent <span class="token operator">*</span>event<span class="token punctuation">)</span>   <span class="token comment">//å…³é—­çª—å£æ—¶å€™åœæ­¢ç›‘å¬</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>m_tcpServer<span class="token operator">-></span><span class="token function">isListening</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        m_tcpServer<span class="token operator">-></span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    event<span class="token operator">-></span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExTcpServer</span><span class="token double-colon punctuation">::</span><span class="token function">on_actStart_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString Ip <span class="token operator">=</span> ui<span class="token operator">-></span>comboBox<span class="token operator">-></span><span class="token function">currentText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    quint16 port <span class="token operator">=</span> ui<span class="token operator">-></span>spinBox<span class="token operator">-></span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QHostAddress <span class="token function">addr</span><span class="token punctuation">(</span>Ip<span class="token punctuation">)</span><span class="token punctuation">;</span>    m_tcpServer<span class="token operator">-></span><span class="token function">listen</span><span class="token punctuation">(</span>addr<span class="token punctuation">,</span> port<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//ç›‘å¬æŒ‡å®šçš„ IP å’ŒæŒ‡å®šçš„ port</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"æœåŠ¡å™¨åœ°å€ä¸º:"</span> <span class="token operator">+</span> m_tcpServer<span class="token operator">-></span><span class="token function">serverAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"   æœåŠ¡å™¨ç«¯å£ï¼š"</span> <span class="token operator">+</span> <span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">number</span><span class="token punctuation">(</span>m_tcpServer<span class="token operator">-></span><span class="token function">serverPort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"å¼€å§‹ç›‘å¬..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>actStart<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>actStop<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labListen<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"ç›‘å¬çŠ¶æ€ï¼šæ­£åœ¨ç›‘å¬..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExTcpServer</span><span class="token double-colon punctuation">::</span><span class="token function">on_actStop_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>m_tcpServer<span class="token operator">-></span><span class="token function">isListening</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    m_tcpServer<span class="token operator">-></span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åœæ­¢ç›‘å¬</span>    ui<span class="token operator">-></span>actStart<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>actStop<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labListen<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"ç›‘å¬çŠ¶æ€ï¼šç›‘å¬å·²ç»åœæ­¢"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExTcpServer</span><span class="token double-colon punctuation">::</span><span class="token function">on_actClear_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExTcpServer</span><span class="token double-colon punctuation">::</span><span class="token function">on_actQuit_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExTcpServer</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnSend_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString msg <span class="token operator">=</span> ui<span class="token operator">-></span>lineEdit<span class="token operator">-></span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"[æœåŠ¡å™¨:]"</span> <span class="token operator">+</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>lineEdit<span class="token operator">-></span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">hasFocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QByteArray str <span class="token operator">=</span> msg<span class="token punctuation">.</span><span class="token function">toUtf8</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    str<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token char">'\n'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_tcpSocket<span class="token operator">-></span><span class="token function">write</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExTcpServer</span><span class="token double-colon punctuation">::</span><span class="token function">onSocketReadyRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment">//è¯»å–ç¼“å†²åŒºè¡Œæ–‡æœ¬</span><span class="token punctuation">&#123;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>m_tcpSocket<span class="token operator">-></span><span class="token function">canReadLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"[å®¢æˆ·ç«¯:]"</span> <span class="token operator">+</span> m_tcpSocket<span class="token operator">-></span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExTcpServer</span><span class="token double-colon punctuation">::</span><span class="token function">onClientConnected</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">//å®¢æˆ·ç«¯è¿æ¥æ—¶</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"å®¢æˆ·ç«¯å¥—æ¥å­—è¿æ¥\nå¯¹ç­‰(peer)åœ°å€ï¼š"</span> <span class="token operator">+</span> m_tcpSocket<span class="token operator">-></span><span class="token function">peerAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                                       <span class="token operator">+</span> <span class="token string">"    å¯¹ç­‰(peer)ç«¯å£ï¼š"</span> <span class="token operator">+</span>  <span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">number</span><span class="token punctuation">(</span>m_tcpSocket<span class="token operator">-></span><span class="token function">peerPort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExTcpServer</span><span class="token double-colon punctuation">::</span><span class="token function">onClientDisonnected</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//å®¢æˆ·ç«¯æ–­å¼€è¿æ¥æ—¶</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"å®¢æˆ·ç«¯å¥—æ¥å­—æ–­å¼€"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_tcpSocket<span class="token operator">-></span><span class="token function">deleteLater</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExTcpServer</span><span class="token double-colon punctuation">::</span><span class="token function">onNewConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    m_tcpSocket <span class="token operator">=</span> m_tcpServer<span class="token operator">-></span><span class="token function">nextPendingConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//åˆ›å»º socket</span>    <span class="token function">connect</span><span class="token punctuation">(</span>m_tcpSocket<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">connected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onClientConnected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">connect</span><span class="token punctuation">(</span>m_tcpSocket<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">disconnected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onClientDisonnected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">connect</span><span class="token punctuation">(</span>m_tcpSocket<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">stateChanged</span><span class="token punctuation">(</span>QAbstractSocket<span class="token double-colon punctuation">::</span>SocketState<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onSocketStateChange</span><span class="token punctuation">(</span>QAbstractSocket<span class="token double-colon punctuation">::</span>SocketState<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">onSocketStateChange</span><span class="token punctuation">(</span>m_tcpSocket<span class="token operator">-></span><span class="token function">state</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">connect</span><span class="token punctuation">(</span>m_tcpSocket<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">readyRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onSocketReadyRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExTcpServer</span><span class="token double-colon punctuation">::</span><span class="token function">onSocketStateChange</span><span class="token punctuation">(</span>QAbstractSocket<span class="token double-colon punctuation">::</span>SocketState socketState<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">switch</span> <span class="token punctuation">(</span>socketState<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>UnconnectedState<span class="token operator">:</span>        m_labSocket<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šUnconnectedState"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>HostLookupState<span class="token operator">:</span>        m_labSocket<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šHostLookupState"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>ConnectingState<span class="token operator">:</span>        m_labSocket<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šConnectingState"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>ConnectedState<span class="token operator">:</span>        m_labSocket<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šConnectedState"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>BoundState<span class="token operator">:</span>        m_labSocket<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šBoundState"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>ClosingState<span class="token operator">:</span>        m_labSocket<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šClosingState"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>ListeningState<span class="token operator">:</span>        m_labSocket<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šListeningState"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">default</span><span class="token operator">:</span>        m_labSocket<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šå…¶ä»–æœªçŸ¥çŠ¶æ€..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å…¶ä¸­å®¢æˆ·ç«¯ï¼š"><a href="#å…¶ä¸­å®¢æˆ·ç«¯ï¼š" class="headerlink" title="å…¶ä¸­å®¢æˆ·ç«¯ï¼š"></a>å…¶ä¸­å®¢æˆ·ç«¯ï¼š</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">EXTCPCLIENT_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">EXTCPCLIENT_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QMainWindow></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QLabel></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QTcpSocket></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QHostInfo></span></span><span class="token keyword">namespace</span> Ui <span class="token punctuation">&#123;</span><span class="token keyword">class</span> <span class="token class-name">ExTcpClient</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">ExTcpClient</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QMainWindow</span></span><span class="token punctuation">&#123;</span>    Q_OBJECT<span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">explicit</span> <span class="token function">ExTcpClient</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">~</span><span class="token function">ExTcpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">private</span><span class="token operator">:</span>    QString <span class="token function">getLocalIp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">//è·å–æœ¬æœ¬æœº IP</span><span class="token keyword">protected</span><span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">closeEvent</span><span class="token punctuation">(</span>QCloseEvent <span class="token operator">*</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">private</span> slots<span class="token operator">:</span>    <span class="token comment">//UI å®šä¹‰çš„æ§½å‡½æ•°</span>    <span class="token keyword">void</span> <span class="token function">on_actConnect_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//è¯·æ±‚è¿æ¥åˆ°æœåŠ¡å™¨</span>    <span class="token keyword">void</span> <span class="token function">on_actDisconnect_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ–­å¼€ä¸æœåŠ¡å™¨çš„è¿æ¥</span>    <span class="token keyword">void</span> <span class="token function">on_actClear_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//æ¸…é™¤å†…å®¹</span>    <span class="token keyword">void</span> <span class="token function">on_actQuit_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//é€€å‡ºç¨‹åº</span>    <span class="token keyword">void</span> <span class="token function">on_btnSend_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">//å‘é€æ–‡æœ¬æ¶ˆæ¯</span>    <span class="token comment">//è‡ªå®šä¹‰çš„æ§½å‡½æ•°</span>    <span class="token keyword">void</span> <span class="token function">onConnected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">onDisconnected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">onSocketReadyRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">//ä»socketè¯»å–ä¼ å…¥çš„æ•°æ®</span>    <span class="token keyword">void</span> <span class="token function">onSocketStateChange</span><span class="token punctuation">(</span>QAbstractSocket<span class="token double-colon punctuation">::</span>SocketState socketState<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">private</span><span class="token operator">:</span>    Ui<span class="token double-colon punctuation">::</span>ExTcpClient <span class="token operator">*</span>ui<span class="token punctuation">;</span>    QLabel<span class="token operator">*</span> m_labSocket<span class="token punctuation">;</span>    QTcpSocket<span class="token operator">*</span> m_tcpSocket<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// EXTCPCLIENT_H</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ExTcpClient.h"</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ui_ExTcpClient.h"</span></span><span class="token class-name">ExTcpClient</span><span class="token double-colon punctuation">::</span><span class="token function">ExTcpClient</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span> <span class="token operator">:</span>    <span class="token function">QMainWindow</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token double-colon punctuation">::</span>ExTcpClient<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labSocket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QLabel</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼š"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labSocket<span class="token operator">-></span><span class="token function">setMidLineWidth</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>statusBar<span class="token operator">-></span><span class="token function">addWidget</span><span class="token punctuation">(</span>m_labSocket<span class="token punctuation">)</span><span class="token punctuation">;</span>    m_tcpSocket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTcpSocket</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QString localIp <span class="token operator">=</span> <span class="token function">getLocalIp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token operator">-></span><span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token function">windowTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"----æœ¬æœºIP:"</span> <span class="token operator">+</span> localIp<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>comboBox<span class="token operator">-></span><span class="token function">addItem</span><span class="token punctuation">(</span>localIp<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">connect</span><span class="token punctuation">(</span>m_tcpSocket<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">connected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onConnected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">connect</span><span class="token punctuation">(</span>m_tcpSocket<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">disconnected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onDisconnected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">connect</span><span class="token punctuation">(</span>m_tcpSocket<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">stateChanged</span><span class="token punctuation">(</span>QAbstractSocket<span class="token double-colon punctuation">::</span>SocketState<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onSocketStateChange</span><span class="token punctuation">(</span>QAbstractSocket<span class="token double-colon punctuation">::</span>SocketState<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">connect</span><span class="token punctuation">(</span>m_tcpSocket<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">readyRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onSocketReadyRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">ExTcpClient</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">ExTcpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">delete</span> ui<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>QString <span class="token class-name">ExTcpClient</span><span class="token double-colon punctuation">::</span><span class="token function">getLocalIp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString hostName <span class="token operator">=</span> <span class="token class-name">QHostInfo</span><span class="token double-colon punctuation">::</span><span class="token function">localHostName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QHostInfo hostInfo <span class="token operator">=</span> <span class="token class-name">QHostInfo</span><span class="token double-colon punctuation">::</span><span class="token function">fromName</span><span class="token punctuation">(</span>hostName<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"æœ¬æœºåç§°ï¼š"</span> <span class="token operator">+</span> hostName<span class="token punctuation">)</span><span class="token punctuation">;</span>    QString localIp<span class="token punctuation">;</span>    <span class="token function">foreach</span> <span class="token punctuation">(</span>QHostAddress addr<span class="token punctuation">,</span> hostInfo<span class="token punctuation">.</span><span class="token function">addresses</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>QAbstractSocket<span class="token double-colon punctuation">::</span>IPv4Protocol <span class="token operator">==</span> addr<span class="token punctuation">.</span><span class="token function">protocol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            localIp <span class="token operator">=</span> addr<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> localIp<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExTcpClient</span><span class="token double-colon punctuation">::</span><span class="token function">closeEvent</span><span class="token punctuation">(</span>QCloseEvent <span class="token operator">*</span>event<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>m_tcpSocket<span class="token operator">-></span><span class="token function">state</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> QAbstractSocket<span class="token double-colon punctuation">::</span>ConnectedState<span class="token punctuation">)</span>        m_tcpSocket<span class="token operator">-></span><span class="token function">disconnectFromHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    event<span class="token operator">-></span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExTcpClient</span><span class="token double-colon punctuation">::</span><span class="token function">onConnected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"å·²ç»è¿æ¥åˆ°æœåŠ¡å™¨\nå®¢æˆ·ç«¯å¥—æ¥å­—è¿æ¥\nå¯¹ç­‰(peer)åœ°å€ï¼š"</span> <span class="token operator">+</span> m_tcpSocket<span class="token operator">-></span><span class="token function">peerAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                                       <span class="token operator">+</span> <span class="token string">"    å¯¹ç­‰(peer)ç«¯å£ï¼š"</span> <span class="token operator">+</span>  <span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">number</span><span class="token punctuation">(</span>m_tcpSocket<span class="token operator">-></span><span class="token function">peerPort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>actConnect<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>actDisconnect<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExTcpClient</span><span class="token double-colon punctuation">::</span><span class="token function">onDisconnected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"å·²ç»æ–­å¼€ä¸æœåŠ¡å™¨çš„è¿æ¥\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>actConnect<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>actDisconnect<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExTcpClient</span><span class="token double-colon punctuation">::</span><span class="token function">onSocketReadyRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>m_tcpSocket<span class="token operator">-></span><span class="token function">canReadLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"[æœåŠ¡å™¨:]"</span> <span class="token operator">+</span> m_tcpSocket<span class="token operator">-></span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExTcpClient</span><span class="token double-colon punctuation">::</span><span class="token function">onSocketStateChange</span><span class="token punctuation">(</span>QAbstractSocket<span class="token double-colon punctuation">::</span>SocketState socketState<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">switch</span> <span class="token punctuation">(</span>socketState<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>UnconnectedState<span class="token operator">:</span>        m_labSocket<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šUnconnectedState"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>HostLookupState<span class="token operator">:</span>        m_labSocket<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šHostLookupState"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>ConnectingState<span class="token operator">:</span>        m_labSocket<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šConnectingState"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>ConnectedState<span class="token operator">:</span>        m_labSocket<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šConnectedState"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>BoundState<span class="token operator">:</span>        m_labSocket<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šBoundState"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>ClosingState<span class="token operator">:</span>        m_labSocket<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šClosingState"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>ListeningState<span class="token operator">:</span>        m_labSocket<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šListeningState"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">default</span><span class="token operator">:</span>        m_labSocket<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"socketçŠ¶æ€ï¼šå…¶ä»–æœªçŸ¥çŠ¶æ€..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExTcpClient</span><span class="token double-colon punctuation">::</span><span class="token function">on_actConnect_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString addr <span class="token operator">=</span> ui<span class="token operator">-></span>comboBox<span class="token operator">-></span><span class="token function">currentText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    quint16 port <span class="token operator">=</span> ui<span class="token operator">-></span>spinBox<span class="token operator">-></span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_tcpSocket<span class="token operator">-></span><span class="token function">connectToHost</span><span class="token punctuation">(</span>addr<span class="token punctuation">,</span> port<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExTcpClient</span><span class="token double-colon punctuation">::</span><span class="token function">on_actDisconnect_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>m_tcpSocket<span class="token operator">-></span><span class="token function">state</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> QAbstractSocket<span class="token double-colon punctuation">::</span>ConnectedState<span class="token punctuation">)</span>        m_tcpSocket<span class="token operator">-></span><span class="token function">disconnectFromHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExTcpClient</span><span class="token double-colon punctuation">::</span><span class="token function">on_actClear_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExTcpClient</span><span class="token double-colon punctuation">::</span><span class="token function">on_actQuit_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExTcpClient</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnSend_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString msg <span class="token operator">=</span> ui<span class="token operator">-></span>lineEdit<span class="token operator">-></span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"[å®¢æˆ·ç«¯:]"</span> <span class="token operator">+</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>lineEdit<span class="token operator">-></span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>lineEdit<span class="token operator">-></span><span class="token function">setFocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QByteArray str <span class="token operator">=</span> msg<span class="token punctuation">.</span><span class="token function">toUtf8</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    str<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token char">'\n'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_tcpSocket<span class="token operator">-></span><span class="token function">write</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><a href="https://github.com/xmuli/QtExamples">https://github.com/xmuli/QtExamples</a> ã€QtTcpExã€‘</p>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Win10 çš„ VMware ä¸­å®‰è£… UOS 20ï¼Œåœ¨ UOS ä¸­å®‰è£… QtCreator åŠæ­å»º DTK å¼€å‘ç¯å¢ƒ</title>
      <link href="/posts/4914a5ac/"/>
      <url>/posts/4914a5ac/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  åœ¨<strong>UOS20</strong> ï¼ˆLinuxç³»ç»Ÿï¼‰å®‰è£…  <strong>Qt Creator 5.11.3ï¼Œ 64bit</strong>çš„å¼€å‘æ•™ç¨‹ï¼Œå¹¶ä¸”é…ç½®å¥½ <strong>dtk</strong>çš„å¼€å‘ç¯å¢ƒï¼›å…¶ä¸­æœ¬ç¯‡æ–‡ç« ä¸»è¦å†…å®¹ï¼Œä»‹ç»å¦‚ä¸‹</p><ul><li>åœ¨<code>win10</code>çš„æœºå™¨é‡Œé¢ä½¿ç”¨<code>VMware15.5</code>å®‰è£…<code>UOS20ï¼ˆLinuxï¼‰</code>æ“ä½œç³»ç»Ÿ</li><li>åœ¨<code>uos20</code>é‡Œé¢å®‰è£…<code>QtCreator</code></li><li>åœ¨<code>QtCretor</code>é‡Œé¢é…ç½®<code>dtk</code>å¼€å‘ç¯å¢ƒå’Œå·¥ç¨‹æ¨¡æ¿</li></ul><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="å…³è”åšæ–‡ï¼š"><a href="#å…³è”åšæ–‡ï¼š" class="headerlink" title="å…³è”åšæ–‡ï¼š"></a>å…³è”åšæ–‡ï¼š</h2><p><strong>Linux ç³»ç»Ÿ</strong></p><ul><li><p><a href="https://blog.csdn.net/qq_33154343/article/details/103733327">Win10 çš„ VMware ä¸­å®‰è£… UOS 20ï¼Œåœ¨ UOS ä¸­å®‰è£… QtCreator åŠæ­å»º DTK å¼€å‘ç¯å¢ƒ</a></p></li><li><p><a href="https://blog.csdn.net/qq_33154343/article/details/104180794">MacOS å®‰è£… Parallels Desktopï¼Œå†å®‰è£… UOS 20 + QtCreaorï¼ŒåŠæ­å»º DTK å¼€å‘ç¯å¢ƒ</a></p></li><li><p><a href="https://blog.csdn.net/qq_33154343/article/details/102789047">MacOS çš„ VMware Fusionlimian ä¸­å®‰è£… Linux Deepin15.11</a></p></li><li><p><a href="https://blog.csdn.net/qq_33154343/article/details/112239518">Deepin &#x2F; UOS ä¸­é…ç½® DTK å¼€å‘ç¯å¢ƒ</a></p></li><li><p><a href="https://xmuli.blog.csdn.net/article/details/106510975">é‡è£… UOS &#x2F; Deepin V20 åå¿…å®‰è£…è½¯ä»¶ï¼ˆä¸ªäººä¹ æƒ¯ï¼‰</a></p></li><li><p><a href="https://xmuli.blog.csdn.net/article/details/107696563">ArchLinux + DDE å®‰è£…æ•™ç¨‹</a></p></li><li><p><a href="https://blog.csdn.net/qq_33154343/article/details/108378441">å¯¹ GNU&#x2F;Linux ä»‹ç»ã€ArchLinuxç¤¾åŒºæ°›å›´ã€DDEç§»æ¤Archæµç¨‹</a></p></li></ul><br><h2 id="èƒŒæ™¯ç¼˜ç”±ï¼š"><a href="#èƒŒæ™¯ç¼˜ç”±ï¼š" class="headerlink" title="èƒŒæ™¯ç¼˜ç”±ï¼š"></a>èƒŒæ™¯ç¼˜ç”±ï¼š</h2><p>æŸç¬”è®°æœ¬ä¸€å°ï¼Œå·²ç»å®‰è£…win10ï¼Œä¸”å·²ç»åœ¨VMwareè™šæ‹Ÿæœºé‡Œé¢ï¼Œå®‰è£…å¥½äº†UOS20æ“ä½œç³»ç»Ÿï¼ˆä¸€æ¬¾é¢œå€¼åœ¨çº¿çš„Linuxç³»ç»Ÿï¼‰ï¼›ç„¶åä¸ºäº†å®é™…å·¥ä½œä¸­ä¸ºuos20æ·»ç –åŠ ç“¦ï¼Œéœ€è¦å®‰è£…QtCretoræ­¤IDEä½œä¸ºå¼€å‘ç¯å¢ƒï¼Œä¸”é…ç½®å¥½é‚£äº›çš„dtkçš„å¼€å‘ç¯å¢ƒï¼ˆå†™åº”ç”¨å¼€å‘çš„å¼€å‘äººå‘˜ï¼‰ï¼Œå› ä»–ä»¬æ˜¯æœ‰æ‰€éœ€è¦çš„ï¼›è€Œæˆ‘ï¼Œä½œä¸ºæ˜¯ç»™ä»–ä»¬å†™dtkåº“çš„äººï¼Œè¡¨ç¤ºæ˜¯ä¸éœ€è¦è®¾ç½®çš„æ­¤ç¯å¢ƒçš„ã€‚ä½†å†™åº”ç”¨çš„å¼€å‘è€…ä»¬ï¼Œæœ‰æ—¶å€™ä¼šä½¿ç”¨dtkæ§ä»¶çš„æ—¶å€™ï¼Œä¼šæœ‰ä¸€äº›è¯¡å¼‚çš„bugï¼Œæˆ‘å°±éœ€è¦æµ‹è¯•ä¸€ä¸‹ï¼Œæ•…æ­¤æ­å»º <strong>Dtk Widgets Application</strong>æ¨¡ç‰ˆç¯å¢ƒã€‚</p><p><strong>ps: uos20 çš„å‰ä¸€ä¸ªå¤§ç‰ˆæœ¬æ˜¯deepin15ï¼Œ éƒ½æ˜¯åŒä¸€å®¶æ“ä½œç³»ç»Ÿå…¬å¸ç ”å‘ï¼Œæ˜¯ä¸€ä¸ªå›½é™…æ’åç¨³å®šåœ¨10å·¦å³çš„Linuxçš„ç‰ˆæœ¬ï¼Œè¡ç”ŸäºDebian</strong></p><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>win10 x64 ä¸“ä¸šç‰ˆ 1803</code>  </p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>Qt 5.9.8</code>ï¼Œ<code>Qt Creator 4.8.2 (Enterprise)</code></p><p><strong>&amp;&amp;</strong></p><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>uos 20 x64 </code>    <strong>Kernelï¼š</strong>  <code>x86_64 Linux 4.19.0-5-amd64</code></p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>Qt 5.11.3</code>ï¼Œ<code>Qt Creator 4.8.2 </code></p><br><h2 id="win10é‡Œé¢çš„VMwareå®‰è£…UOS20ç³»ç»Ÿï¼š"><a href="#win10é‡Œé¢çš„VMwareå®‰è£…UOS20ç³»ç»Ÿï¼š" class="headerlink" title="win10é‡Œé¢çš„VMwareå®‰è£…UOS20ç³»ç»Ÿï¼š"></a>win10é‡Œé¢çš„VMwareå®‰è£…UOS20ç³»ç»Ÿï¼š</h2><ul><li>é€‰æ‹©æ–°åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿæœºï¼Œé€‰æ‹© <strong>è‡ªå®šä¹‰ï¼ˆé«˜çº§ï¼‰</strong>ç‚¹å‡» <strong>ä¸‹ä¸€æ­¥</strong>ï¼š</li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191227141804.png" loading="lazy"></p><ul><li>ç›´æ¥ <strong>ä¸‹ä¸€æ­¥</strong>ï¼Œä¸ç”¨ä¿®æ”¹ä»€ä¹ˆ</li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191227141952.png" loading="lazy"></p><ul><li>é€‰æ‹© <strong>ç¨åå®‰è£…æ“ä½œç³»ç»Ÿ</strong>ï¼Œ ç‚¹å‡» <strong>ä¸‹ä¸€æ­¥</strong>ï¼š</li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191227142130.png" loading="lazy"></p><ul><li>é€‰æ‹© <strong>Ubuntun x64ï¼ˆè¿™ç‚¹å¾ˆé‡è¦ï¼‰</strong>, ç‚¹å‡» <strong>ä¸‹ä¸€æ­¥</strong>ï¼Œ</li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191227142326.png" loading="lazy"></p><ul><li>é€‰æ‹©å®‰è£…ç›®å½•ï¼Œ ç‚¹å‡»ä¸‹ä¸€æ­¥ï¼š</li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191227142713.png" loading="lazy"></p><ul><li>å»ºè®®è¿˜æ˜¯å¤šåˆ†é…å‡ é¢—ï¼Œè¿™æ˜¯æˆ‘çš„ä¸ªäººé…ç½®é¢—æ•°ï¼Œè¶Šå¤šè¶Šå¥½</li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191227142809.png" loading="lazy"></p><ul><li>é€‰æ‹©åˆ†é…å†…å­˜æ•°ï¼Œç„¶åç‚¹å‡»ä¸‹ä¸€æ­¥ï¼ˆåé¢ä¹Ÿå¯ä»¥ä¿®æ”¹å†…å­˜æ•°å¤§å°ï¼‰</li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191227143137.png" loading="lazy"></p><ul><li>é€‰æ‹©ç½‘ç»œæ¨¡å¼<ul><li><strong>æ¡¥æ¥ç½‘ç»œ</strong>ï¼šè™šæ‹Ÿæœºé‡Œé¢çš„ç³»ç»Ÿä¼šæœ‰ä¸€ä¸ªç‹¬ç«‹IPï¼Œä¸å’Œç‰©ç†ä¸»æœºçš„ç³»ç»Ÿå…¬ç”¨ä¸€ä¸ªIP</li><li><strong>NATç½‘ç»œ</strong>ï¼šè™šæ‹Ÿæœºé‡Œé¢çš„ç³»ç»Ÿä¸ä¼šæœ‰ä¸€ä¸ªç‹¬ç«‹IPï¼Œå’Œç‰©ç†ä¸»æœºçš„ç³»ç»Ÿå…¬ç”¨ä¸€ä¸ªIP</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191227143407.png" loading="lazy"></p><ul><li>æ¥ä¸‹æ¥å‡ ä¸ªæ­¥éª¤ä¸ç”¨ä¿®æ”¹ä»€ä¹ˆï¼Œç›´æ¥é€‰æ‹©ä¸‹ä¸€æ­¥ï¼š</li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191227143623.png" loading="lazy"></p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191227143726.png" loading="lazy"></p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191227143749.png" loading="lazy"></p><ul><li>é€‰æ‹©ç£ç›˜å¤§å°ï¼Œç„¶åç‚¹å‡»ä¸‹ä¸€æ­¥ï¼š</li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191227143852.png" loading="lazy"></p><ul><li>ç›´æ¥ä¸‹ä¸€æ­¥ï¼š</li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191227143938.png" loading="lazy"></p><ul><li>é€‰æ‹©é•œåƒæºä¹‹åï¼Œç‚¹å‡»å¼€å¯ï¼Œä¾¿ä¼šè‡ªåŠ¨å®‰è£…å¥½è™šæ‹Ÿæœº</li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191227144542.png" loading="lazy"></p><ul><li>å¸¸è§„çš„é€‰æ‹©ç”¨æˆ·åï¼Œè®¾ç½®å¯†ç ç­‰ï¼Œç„¶åç­‰å¾…ä¹‹åï¼Œå°±ä¼šå®‰è£…æˆåŠŸ</li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191227144915.png" loading="lazy"></p><p>ç»è¿‡å‰é¢ä¸€äº›åˆ—æ“ä½œï¼Œuos20å·²ç»æˆåŠŸè¿è¡ŒæˆåŠŸï¼›æ¥ä¸‹æ¥å°±æ˜¯å®‰è£…QtCretoräº†ï¼›ä¸è¿‡åœ¨æ­¤ä¹‹å‰ï¼Œå…ˆå»ºè®®æ›´æ¢æºï¼š</p><p>ã€æ–¹å¼ä¸€ã€‘å¯ä»¥åœ¨ <strong>â€œæ§åˆ¶ä¸­å¿ƒ-æ›´æ–°-æ›´æ–°è®¾ç½®â€œ</strong>ï¼ŒGUIç•Œé¢æ‰‹åŠ¨é€‰æ‹©æ¢æºï¼›</p><p>ã€æ–¹å¼äºŒã€‘ä¹Ÿå¯ä»¥å»å®˜ç½‘æ‰¾ç¨³å®šçš„æ›´æ–°çš„æºï¼Œæ·»åŠ åˆ°<code>/etc/apt/sources.list</code>è¿™ä¸ªæ–‡ä»¶é‡Œé¢ï¼‰ï¼›</p><p>ç„¶åæ‰§è¡Œä¸‹é¢æ›´æ–°çš„å‘½ä»¤ï¼Œæ›´æ–°ä¸€ä¸‹ç³»ç»Ÿï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> update<span class="token function">sudo</span> <span class="token function">apt</span> dist-upgrade<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><br><h2 id="åœ¨uos20é‡Œé¢å®‰è£…QtCreatorï¼š"><a href="#åœ¨uos20é‡Œé¢å®‰è£…QtCreatorï¼š" class="headerlink" title="åœ¨uos20é‡Œé¢å®‰è£…QtCreatorï¼š"></a>åœ¨<code>uos20</code>é‡Œé¢å®‰è£…<code>QtCreator</code>ï¼š</h2><p>ç›´æ¥æ‰§è¡Œä»¥ä¸‹è¯­å¥:</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> qtcreator     //å®‰è£…Craetor IDE<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> qt5-default   //å®‰è£…qtçš„é…ç½®<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> libdtkwidget-dev  //å®‰è£…dtkå¼€å‘æ‰€éœ€è¦ç¯å¢ƒ<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token builtin class-name">source</span> qt5-default    //qtæºç åŒ…ï¼Œæ­¤ä¼šå®‰è£…åœ¨å½“å‰æ‰€å¤„ç›®å½•ä¸‹ï¼Œå»ºè®®æ›´æ¢ç›®å½•å†æ‰§è¡Œï¼Œæ¨èæ”¾åœ¨//<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>//ä¹Ÿå¯ä»¥å°†ä¸Šé¢çš„åˆæˆä¸€ä¸ªå‘½ä»¤<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> libdtkwidget-dev qt5-default qtcreator<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å…¶ä¸­å®‰qtæºç å­¦ä¹ çš„æ—¶å€™ï¼Œä¼šå‡ºç°å¦‚ä¸‹æç¤ºï¼Œè›‹è›‹è›‹è›‹è›‹æ˜¯ï¼Œå¹¶ä¸å½±å“ğŸ˜ğŸ˜ğŸ˜ğŸ˜ï¼Œè¿›åˆ°å½“å‰æ–‡ä»¶å¤¹ä¸‹æŸ¥çœ‹ï¼Œæ‰€éœ€è¦çš„æ–‡ä»¶å·²ç»è¢«ä¸‹è½½ä¸‹æ¥äº†ï¼š</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191227150930.png" loading="lazy"></p><p>æˆ‘ä»¬æ‰€éœ€å•Šéƒ½åœ¨è¿™é‡Œ</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191227151528.png" loading="lazy"></p><ul><li>åˆ›å»ºä¸€ä¸ªç©ºçš„å·¥ç¨‹é¡¹ç›®ï¼ŒéªŒè¯å®‰è£…æˆåŠŸ</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191227151730.png" style="zoom:80%;" / loading="lazy"><br><h2 id="åœ¨QtCretoré‡Œé¢é…ç½®dtkå¼€å‘ç¯å¢ƒå’Œå·¥ç¨‹æ¨¡æ¿ï¼š"><a href="#åœ¨QtCretoré‡Œé¢é…ç½®dtkå¼€å‘ç¯å¢ƒå’Œå·¥ç¨‹æ¨¡æ¿ï¼š" class="headerlink" title="åœ¨QtCretoré‡Œé¢é…ç½®dtkå¼€å‘ç¯å¢ƒå’Œå·¥ç¨‹æ¨¡æ¿ï¼š"></a>åœ¨<code>QtCretor</code>é‡Œé¢é…ç½®<code>dtk</code>å¼€å‘ç¯å¢ƒå’Œå·¥ç¨‹æ¨¡æ¿ï¼š</h2><p>åœ¨æ²¡æœ‰è®¾ç½®ä¹‹å‰æ‰“å¼€æ–°å»ºå·¥ç¨‹é¡¹ç›®ï¼Œæ˜¯è¿™æ ·çš„ï¼Œæ²¡æœ‰ <strong>â€Dtk Widgets Applicationâ€œ</strong>è¿™ä¸ªé€‰é¡¹çš„ï¼š</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191227152000.png" loading="lazy"></p><h3 id="å®‰è£…-Dtk-Widgets-Application-å·¥ç¨‹æ¨¡æ¿ï¼š"><a href="#å®‰è£…-Dtk-Widgets-Application-å·¥ç¨‹æ¨¡æ¿ï¼š" class="headerlink" title="å®‰è£… Dtk Widgets Application å·¥ç¨‹æ¨¡æ¿ï¼š"></a>å®‰è£… Dtk Widgets Application å·¥ç¨‹æ¨¡æ¿ï¼š</h3><h4 id="ã€æ–¹å¼ä¸€ã€‘ï¼šå‘½ä»¤å®‰è£…"><a href="#ã€æ–¹å¼ä¸€ã€‘ï¼šå‘½ä»¤å®‰è£…" class="headerlink" title="ã€æ–¹å¼ä¸€ã€‘ï¼šå‘½ä»¤å®‰è£…"></a>ã€æ–¹å¼ä¸€ã€‘ï¼šå‘½ä»¤å®‰è£…</h4><p>è¿è¡Œå‘½ä»¤ï¼Œç„¶åé‡å¯QtCretorï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> qtcreator-template-dtk<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="ã€æ–¹å¼äºŒã€‘ï¼šæ‰‹åŠ¨å®‰è£…"><a href="#ã€æ–¹å¼äºŒã€‘ï¼šæ‰‹åŠ¨å®‰è£…" class="headerlink" title="ã€æ–¹å¼äºŒã€‘ï¼šæ‰‹åŠ¨å®‰è£…"></a>ã€æ–¹å¼äºŒã€‘ï¼šæ‰‹åŠ¨å®‰è£…</h4><p>ä¸‹è½½æ­¤æ–‡ä»¶ï¼š<img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191227153249.png" loading="lazy"></p><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1GD7ky9iFjYQ5NZBIU9kjOw">https://pan.baidu.com/s/1GD7ky9iFjYQ5NZBIU9kjOw</a><br>æå–ç ï¼š8q0b</p><blockquote><p>ä¸‹è½½ä¹‹åï¼Œå°†æ­¤å‹ç¼©åŒ…è§£å‹åˆ° &#x2F;usr&#x2F;share&#x2F;qtcreator&#x2F;templates&#x2F;wizards&#x2F;projects ç›®å½•ä¸‹ï¼Œä¹‹åé‡å¯ QtCreatorï¼Œåœ¨åˆ›å»ºé¡¹ç›®çš„å‘å¯¼ä¸­å³å¯é€‰æ‹©â€œDtk Widgets Applicationâ€</p></blockquote><p>é‡å¯ä¹‹åï¼Œä¼šå‘ç°æœ‰å¦‚ä¸‹ï¼Œä¸”è¿è¡Œä¸€ä¸ªæ–°çš„å·¥ç¨‹è¿è¡ŒéªŒè¯å®‰è£…ï¼š</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191227152501.png" loading="lazy"></p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191227153749.png" loading="lazy"></p><br>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Win10 å®‰è£… QtCreator + Visual Studio 2015 ä½œä¸º C++ çš„ IDE å¼€å‘å·¥å…·</title>
      <link href="/posts/fee889d4/"/>
      <url>/posts/fee889d4/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  <code>windows</code>ç¯å¢ƒä¸‹å®‰è£…<code>Qt Creator</code> + <code>Visual Studio 2015</code>ä½œä¸º<code>c++</code>çš„<code>IDE</code>å¼€å‘å·¥å…·ï¼Œå­¦ä¹ å’Œä½¿ç”¨<strong>qt</strong> (å¤‡é€‰)ï¼› <strong>æœ¬æ–‡è¯¦ç»†ä»‹ç»å®‰è£…VS2015çš„è¿‡ç¨‹å’Œå®‰è£…ç•ªèŒ„åŠ©æ‰‹Visual Assist Xï¼›ä»¥åŠå¦‚ä½•é…ç½®QtCreatorçš„ç¯å¢ƒå’Œæ’ä»¶</strong>ï¼Œä½¿å¾—å¯ä»¥åœ¨VS2015é‡Œé¢è¿è¡ŒQtçš„ç¨‹åºï¼Œä½¿ç”¨Qtè‡ªå¸¦çš„è®¾è®¡å¸ˆç­‰ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="å…³è”åšæ–‡ï¼š"><a href="#å…³è”åšæ–‡ï¼š" class="headerlink" title="å…³è”åšæ–‡ï¼š"></a>å…³è”åšæ–‡ï¼š</h2><p><strong>Windows ç³»ç»Ÿ</strong></p><ul><li><a href="https://blog.csdn.net/qq_33154343/article/details/103674579">åœ¨ Win10 ç¯å¢ƒä¸‹å®‰è£… QtCreator 5.9.8 ä½œ C++ çš„ IDE å¼€å‘å·¥å…·</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/98779698">QtCreator å®‰è£… SDKï¼Œåœ¨ MSVC ç¼–è¯‘æ¨¡å¼ä¸‹ä½¿ç”¨ CDB è°ƒè¯•å™¨</a> </li><li><a href="https://blog.csdn.net/qq_33154343/article/details/103755569">Win10 å®‰è£… QtCreator + Visual Studio 2015 ä½œä¸º C++ çš„ IDE å¼€å‘å·¥å…·</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/78587699">Visual Studio 2017 ä¸“ä¸šç‰ˆä½¿ç”¨æœ€æ–°ç‰ˆ Qt 5.9.2 æ•™ç¨‹</a>  </li><li><a href="https://blog.csdn.net/qq_33154343/article/details/120070828">Win10 å®‰è£… CLion + CMake + MSVC &#x2F; MinGW ä½œ QT å¼€å‘</a></li></ul><br><h2 id="ç³»ç»Ÿç¯å¢ƒï¼š"><a href="#ç³»ç»Ÿç¯å¢ƒï¼š" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒï¼š"></a>ç³»ç»Ÿç¯å¢ƒï¼š</h2><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>win10 x64 ä¸“ä¸šç‰ˆ 1903</code>  </p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong> <code>Qt 5.9.8</code>ï¼Œ <code>Qt Creator 4.8.2</code>ï¼Œ <code>Visual Studio 2015(ä¸“ä¸šç‰ˆ)</code></p><br><h2 id="ä¸‹è½½Visual-Studio-2015ä¸“ä¸šç‰ˆï¼š"><a href="#ä¸‹è½½Visual-Studio-2015ä¸“ä¸šç‰ˆï¼š" class="headerlink" title="ä¸‹è½½Visual Studio 2015ä¸“ä¸šç‰ˆï¼š"></a>ä¸‹è½½Visual Studio 2015ä¸“ä¸šç‰ˆï¼š</h2><p>å®˜ç½‘çº¯å‡€ç‰ˆä¸‹è½½ï¼Œæ¨èåœ°å€ï¼š<a href="https://msdn.itellyou.cn/">https://msdn.itellyou.cn/</a></p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223230926.png" loading="lazy"></p><p>å…¶ä¸­è¯¦ç»†é“¾æ¥å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">æ–‡ä»¶åï¼šcn_visual_studio_professional_2015_with_update_3_x86_x64_dvd_8923256.isoæ ¡éªŒæ–‡ä»¶å®Œæ•´æ€§SHA1å€¼ï¼š99E6C061FFB3194D28682D75D5F2F0F12A8D614Fæ–‡ä»¶å¤§å°ï¼š<span class="token number">7</span>.21GBå‘å¸ƒæ—¶é—´ï¼š<span class="token number">2016</span>-06-27ç£åŠ›é“¾æ¥ï¼šed2k://<span class="token operator">|</span><span class="token function">file</span><span class="token operator">|</span>cn_visual_studio_professional_2015_with_update_3_x86_x64_dvd_8923256.iso<span class="token operator">|</span><span class="token number">7745202176</span><span class="token operator">|</span>DD35D3D169D553224BE5FB44E074ED5E<span class="token operator">|</span>/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="å®‰è£…VS2015ä¸“ä¸šç‰ˆï¼š"><a href="#å®‰è£…VS2015ä¸“ä¸šç‰ˆï¼š" class="headerlink" title="å®‰è£…VS2015ä¸“ä¸šç‰ˆï¼š"></a>å®‰è£…VS2015ä¸“ä¸šç‰ˆï¼š</h2><p><font color=#D0087E face="å¹¼åœ†"><strong>ä¸‹è½½å¥½å®Œæ•´çš„ç¦»çº¿å®‰è£…åŒ…ä¹‹åï¼Œå»ºè®®æ–­å¼€ç½‘ç»œè¿è¡Œå®‰è£…ç¨‹åº;é¿å…è”ç½‘ä¸‹è½½æ–°æ›´æ–°æ–‡ä»¶ï¼Œå¯¼è‡´å®‰è£…æ—¶é—´å˜å¾—æ›´é•¿ï¼›</strong> </font></p><p>ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡ŒVS2015çš„è¿è¡Œç¨‹åºï¼š</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223232608.png" loading="lazy"></p><ul><li>é€‰æ‹© <strong>è‡ªå®šä¹‰ï¼ˆå®‰è£…åŠŸèƒ½ï¼‰</strong>ï¼Œç„¶åç‚¹å‡» <strong>ä¸‹ä¸€æ­¥</strong>ï¼š</li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223233207.png" loading="lazy"></p><ul><li>é€‰æ‹©æ‰€éœ€è¦çš„çš„æ¨¡å—ï¼ˆ<strong>Visual C++</strong> æ¨¡å—å…¨é€‰ï¼‰</li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223233754.png" loading="lazy"></p><ul><li>ç‚¹å‡» <strong>å®‰è£…</strong>ï¼š</li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223234550.png" loading="lazy"></p><ul><li>è€å¿ƒç­‰å¾…ï¼Œä¸€èˆ¬å›ºæ€çº¦20minå·¦å³å³å¯å®‰è£…å®Œæˆï¼š</li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223234705.png" loading="lazy"></p><ul><li>å¯åŠ¨ï¼š</li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191224001504.png" loading="lazy"></p><br><h2 id="å®‰è£…VSå°ç•ªèŒ„åŠ©æ‰‹Visual-Assist-X-10-9-2248ï¼š"><a href="#å®‰è£…VSå°ç•ªèŒ„åŠ©æ‰‹Visual-Assist-X-10-9-2248ï¼š" class="headerlink" title="å®‰è£…VSå°ç•ªèŒ„åŠ©æ‰‹Visual Assist X 10.9.2248ï¼š"></a>å®‰è£…VSå°ç•ªèŒ„åŠ©æ‰‹Visual Assist X 10.9.2248ï¼š</h2><p>ç•ªèŒ„å°åŠ©æ‰‹ï¼Œæ­é…VSä½¿ç”¨ï¼Œä½¿ç”¨èµ·æ¥ï¼Œä¸ä»…ä¼šæ¸¯å‰§ç¼–ç æ•ˆç‡æœ‰æ‰€æé«˜ï¼Œæ•ˆç‡å˜å¿«ï¼Œä¸”ä¼šæ„Ÿè§‰å¯¿å‘½éƒ½åœ¨å¢åŠ ï¼›</p><p> <strong>åˆ†äº«ä¸€ä¸ªç ´è§£ç‰ˆæœ¬ï¼šé“¾æ¥: <a href="https://pan.baidu.com/s/1ZHKufAQ6IzbdIcUT-7k5kg">https://pan.baidu.com/s/1ZHKufAQ6IzbdIcUT-7k5kg</a> æå–ç : h4c2</strong></p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191224002041.png" loading="lazy"></p><p><strong>æ­£å¸¸å®‰è£…å’Œç ´è§£æ–¹æ³•ï¼š</strong></p><ul><li><p><strong>ç¬¬ä¸€æ­¥ï¼šå®‰è£…2248ç‰ˆæœ¬</strong><br>ï¼ˆ1ï¼‰è§£å‹ç¼©ã€‚å…±æœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼ˆ <strong>VA_X_Setup_10-9-2248.exe</strong> å’Œ  <strong>readMe.txt</strong>ï¼‰å’Œä¸€ä¸ªæ–‡ä»¶å¤¹ï¼ˆCrackï¼‰ã€‚<br>ï¼ˆ2ï¼‰å…³é—­VSæ‰€æœ‰æ‰“å¼€ç•Œé¢ã€‚<br>ï¼ˆ3ï¼‰åŒå‡» <strong>VA_X_Setup_10-9-2248.exe</strong>å®‰è£…Visual Assist 2248ç‰ˆæœ¬ã€‚</p></li><li><p><strong>ç¬¬äºŒæ­¥ï¼šç ´è§£</strong><br>ï¼ˆ1ï¼‰æ‰“å¼€Cç›˜ã€‚åœ°å€æ ä¸­è¾“å…¥ï¼š<code>C:\Users\</code>ç”¨æˆ·åï¼Œå¦‚æœæ²¡çœ‹åˆ°<code>AppData</code>ç›®å½•ï¼Œç›´æ¥åœ¨åœ°å€æ ä¸­è¾“å…¥<code>\AppData</code>å†å›è½¦ç¡®è®¤è¿›å…¥è¯¥ç›®å½•ã€‚<br>ï¼ˆ2ï¼‰å¯»æ‰¾ç›®æ ‡ä½ç½®ã€‚æ‰“å¼€<code>Local\Microsoft\VisualStudio\15.0_281df2b7\Extensions\</code>ä¸€ä¸ªç›®å½•ã€‚<br>æ³¨æ„ï¼š<br>1.æœ¬åœ°å®‰è£…çš„VSç‰ˆæœ¬ä¸º2017ï¼Œæ‰€ä»¥æœ¬åœ°çš„æ–‡ä»¶å¤¹åç§°ä¸º15.0_281df2b7ã€‚è‹¥æ˜¯VSå…¶ä»–ç‰ˆæœ¬å¯èƒ½ä¼šæœ‰å·®å¼‚ã€‚<br>2.â€œä¸€ä¸ªç›®å½•â€ä¸ºå®‰è£…æ—¶è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œåç§°éšæœºã€‚<br>3.å› ä¸ºâ€œä¸€ä¸ªç›®å½•â€çš„åç§°ä¸å›ºå®šï¼Œå»ºè®®åˆ°Extensionç›®å½•ä¸‹æ—¶ï¼Œæœç´¢åç§°ä¸º <strong>â€œVA_X.dllâ€</strong>çš„æ–‡ä»¶ï¼Œç„¶åç¡®å®šç›®æ ‡ä½ç½®ã€‚<br>ï¼ˆ3ï¼‰é‡å‘½åã€‚æ‰¾åˆ° <strong>â€œVA_X.dllâ€</strong>æ–‡ä»¶åï¼Œä¸è¦éšä¾¿åˆ é™¤ã€‚é‡å‘½åä¸º<code>VA_X_old.dll</code>ä½œä¸ºå¤‡ä»½ï¼ˆps:é¿å…ä»¥ä¸‹æ­¥éª¤4ä¹‹åå¯¼è‡´VSæ‰“ä¸å¼€çš„å°´å°¬å±€é¢ï¼ï¼‰<br>ï¼ˆ4ï¼‰æ›¿æ¢ã€‚æ‹·è´Crackæ–‡ä»¶å¤¹ä¸­çš„ <strong>VA_X.dll</strong>åˆ°è¯¥æ–‡ä»¶å¤¹ä¸­ã€‚</p></li></ul><p><strong>æ³¨æ„ï¼šæ¯”è¾ƒæ‡’æˆ–è€…å®åœ¨æ‰¾ä¸åˆ°ç›®æ ‡ä½ç½®ï¼Œè¯·å‚è€ƒä»¥ä¸‹é€šç”¨æ–¹æ³•ï¼š</strong><br>ï¼ˆ1ï¼‰ä¸‹è½½Everything.exeï¼Œä¸€è·¯ä¸‹ä¸€æ­¥å®‰è£…å®Œã€‚<br>ï¼ˆ2ï¼‰åœ¨æœç´¢æ¡†ä¸­è¾“å…¥VA_X.dllï¼Œå›è½¦ã€‚<br>ï¼ˆ3ï¼‰ç”¨è§£å‹æ–‡ä»¶å¤¹Crackä¸­çš„VA_X.dllæ›¿æ¢æ‰æœç´¢å‡ºæ¥çš„VA_X.dllã€‚ï¼ˆä¸€èˆ¬è¿™é‡Œä¼šæœ‰ä¸¤ä¸ªVA_X.dllï¼Œé€šè¿‡çœ‹è·¯å¾„åˆ¤æ–­å“ªä¸ªæ˜¯ç ´è§£ç‰ˆï¼Œå“ªä¸ªæ˜¯å®‰è£…çš„åŸç‰ˆï¼‰ </p><ul><li><strong>ç¬¬ä¸‰æ­¥ï¼šé‡å¯VS</strong></li></ul><br><h2 id="å®‰è£…â€œVS-Qtæ’ä»¶â€ï¼š"><a href="#å®‰è£…â€œVS-Qtæ’ä»¶â€ï¼š" class="headerlink" title="å®‰è£…â€œVS-Qtæ’ä»¶â€ï¼š"></a>å®‰è£…â€œVS-Qtæ’ä»¶â€ï¼š</h2><p>æ‰“å¼€VS2015ï¼Œé€‰ä¸­ <strong>â€œå·¥å…·-æ‰©å±•å’Œæ›´æ–°â€</strong>ï¼Œï¼ˆæ­¤æ—¶ä¿è¯ç”µè„‘å¤„äºè”ç½‘çŠ¶æ€ï¼‰</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191224002217.png" loading="lazy"></p><ul><li>åœ¨æœç´¢æ é‡Œé¢è¾“å…¥â€œqtâ€ï¼Œç„¶åé€‰ä¸­å¦‚ä¸‹å›¾è¿™ä¸ªï¼Œç‚¹å‡»ä¸‹è½½å’Œå®‰è£…ï¼š</li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191224002912.png" loading="lazy"></p><ul><li>ç‚¹å‡»é…ç½®ï¼Œæ·»åŠ ç”Ÿæˆçš„Qtçš„æ–‡ä»¶å¤¹ç›®å½•ï¼š</li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191224004107.png" loading="lazy"></p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191224004155.png" loading="lazy"></p><br><h2 id="éªŒè¯å®‰è£…æˆåŠŸï¼š"><a href="#éªŒè¯å®‰è£…æˆåŠŸï¼š" class="headerlink" title="éªŒè¯å®‰è£…æˆåŠŸï¼š"></a>éªŒè¯å®‰è£…æˆåŠŸï¼š</h2><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191224004530.png" loading="lazy"></p><ul><li>ç‚¹å‡»ä¸‹ä¸€æ­¥ï¼ŒæŒ‰ç…§å¦‚ä¸‹å›¾æ‰€ç¤ºçš„æ–¹å¼ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„Qtçš„å·¥ç¨‹é¡¹ç›®ï¼ˆåé¢ä¼šå•ç‹¬å†™ä¸€ç¯‡ï¼Œä»‹ç»QtCraetorå’Œä½¿ç”¨VS2015åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œå’Œè§£ææ·±ç©¶è¿™äº›IDEé‡Œé¢å¸¸ç”¨çš„åŠŸèƒ½å’ŒåŒºåˆ†æ¨¡å—ç­‰ï¼‰ï¼š</li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191224004609.png" loading="lazy"></p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191224004728.png" loading="lazy"></p><ul><li>è¿è¡ŒæˆåŠŸï¼š</li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191226203330.png" loading="lazy"></p>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ä¸»æœºä¿¡æ¯æŸ¥è¯¢QHostInfoå’ŒQNetworkInterfaceæŸ¥è¯¢IPç­‰</title>
      <link href="/posts/b79e1b5c/"/>
      <url>/posts/b79e1b5c/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  äº†è§£ä¸»æœºä¿¡æ¯æŸ¥è¯¢<code>QHostInfo</code>å’Œ<code>QNetworkInterface</code>æŸ¥è¯¢IPç­‰å‡½æ•°æ¥å£çš„ä½¿ç”¨ï¼Œä¹¦å†™ä¸€ä¸ªç®€å•åœ°ä¾‹å­ï¼›ç„¶åå†™äº†ä¸€ä¸ªå°çš„ <strong>Qt</strong>ä¾‹å­ï¼Œç”¨æ¥å®ç°å’ŒéªŒè¯å®ƒçš„ç©ºé—´çš„ä¸€äº›å±æ€§å’ŒåŠŸèƒ½çš„ç”¨æ³•ã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_20191225_214953_mark.png"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ç³»ç»Ÿç¯å¢ƒï¼š"><a href="#ç³»ç»Ÿç¯å¢ƒï¼š" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒï¼š"></a>ç³»ç»Ÿç¯å¢ƒï¼š</h2><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>MacOS 10.14.6 (18G103)</code>   <strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong> <code>Qt 5.9.8</code>ï¼Œ <code>Qt Creator 4.8.2</code></p><br><h2 id="ç½‘ç»œç›¸å…³çŸ¥è¯†ï¼š"><a href="#ç½‘ç»œç›¸å…³çŸ¥è¯†ï¼š" class="headerlink" title="ç½‘ç»œç›¸å…³çŸ¥è¯†ï¼š"></a>ç½‘ç»œç›¸å…³çŸ¥è¯†ï¼š</h2><p>ç»ˆäºè®²è§£åˆ°äº†æˆ‘ä¹‹å‰å°±å¿ƒå¿ƒæ‹æ‹çš„ç½‘ç»œæ¨¡å—çš„çŸ¥è¯†äº†ï¼Œæœ‰å‡ ä¸ªç‚¹ä¸€ç›´æ˜¯å¾ˆæƒ³æ¶‰åŠçš„çŸ¥è¯†æ¨¡å—ğŸ‘ğŸ‘ğŸ‘ï¼›ä¸€ä¸ªæ˜¯ç½‘ç»œï¼Œå¦å¤–ä¸€ä¸ªå°±æ˜¯å¤šçº¿ç¨‹çš„ç›¸å…³çŸ¥è¯†ï¼›æŸ‘æ©˜ğŸŠç°åœ¨å¾ˆå¤šç”µè„‘ğŸ’»çš„åº”ç”¨ç¨‹åºéƒ½ä¼šä½¿ç”¨åˆ°è¿™ä¸¤ä¸ªéƒ¨åˆ†çš„çŸ¥è¯†æ¨¡å—ï¼Œå†â•ä¸€ä¸ªæ•°æ®åº“ğŸ“šå°±æ˜¯&#x3D;&#x3D;Appï¼Ÿ  æˆä¸ºä¸€ä¸ªç‹¬ç«‹çš„å¼€å‘è€…ï¼Œå¯ä»¥å†™ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„exeæˆ–è€…appï¼Œæ…¢æ…¢æ‰“ç£¨ï¼›äººç”Ÿæ˜“çŸ­ï¼Œåšè‡ªå·±å–œæ¬¢çš„äº‹æƒ…ï¼ŒğŸ’°ä¸ï¿¥$$ğŸ’°çš„éƒ½æ˜¯æ— æ‰€è°“çš„ã€‚è°éƒ½æœ‰ç¦»å¼€çš„ä¸€å¤©ï¼Œdieæ˜¯ä¸å¯é¿å…çš„ï¼Œå¯æˆ‘ä»¬å¦‚ä½•è¯æ˜è‡ªå·±æ¥è¿™è¿™é‡Œç©è¿‡å‡ åè½½å‘¢ï¼Ÿæ€»çš„ç•™ä¸‹ä¸€äº›ä»€ä¹ˆçš„ç—•è¿¹å§~</p><p><strong>æˆ–è®¸æœé—»é“ï¼Œå¤•æ­»å¯çŸ£~       ???</strong></p><p>æ¥è‡ªä¸€ä¸ª<code>12-25</code>ğŸ„ğŸ„ğŸ„ğŸ„ï¼šå¤œé—´æ²¡äººçº¦ä¼šçš„+ä¸Šç­çš„å­¤ç‹¬ç‹— âœ ğŸ¶ğŸ‘¨ çš„ä¸€ç¯‡åšå®¢ğŸ“</p><p>æœ‰ç‚¹è·‘åäº†ï¼š</p><p>ç½‘ç»œæ¨¡å—çš„ç›¸å…³çŸ¥è¯†ï¼Œä¸»è¦å°±æ˜¯ä¸ƒå±‚åè®®åŸç† å’Œå®ƒä»¬è¡ç”Ÿå‡ºæ¥çš„ç½‘ç»œåè®®ï¼Œæœ‰Nå¤šç§ï¼Œå…¶ä¸­ç»è¿‡æ—¶é—´çš„æ£€éªŒå’Œç­›é€‰ï¼Œç°åœ¨å¸¸ç”¨çš„å°±æ˜¯<code>TCP/IP</code>åè®®æ—ï¼Œå±•å¼€å°±æ˜¯TCPï¼ŒUDPï¼ŒHTTPï¼ŒHTTPSï¼Œftpï¼Œsocketç­‰ç­‰</p><h3 id="ç½‘ç»œç›¸å…³ï¼š"><a href="#ç½‘ç»œç›¸å…³ï¼š" class="headerlink" title="ç½‘ç»œç›¸å…³ï¼š"></a>ç½‘ç»œç›¸å…³ï¼š</h3><p>å»ºè®®å¼€å§‹ä¹‹å‰ï¼Œå…ˆé—®é—®è‡ªå·±å¦‚ä¸‹é—®é¢˜ï¼Œè‡ªå·±èƒ½å¤ŸåŒºåˆ†æ¦‚å¿µæ˜¯ä»€ä¹ˆï¼Œè‡ªå·±æ‡‚äº†å—â“â“â“</p><ul><li>macåœ°å€</li><li>IPåœ°å€</li><li>portç«¯å£</li><li>ä¸»æœºå</li><li>å­ç½‘æ©ç ï¼ŒA&#x2F;B&#x2F;C&#x2F;Då››ç±»åœ°å€</li><li>æ•°æ®åŒ…ï¼Ÿ æŠ¥æ–‡ï¼Ÿè‡ªå®šä¹‰åè®®ï¼Ÿ</li><li>é€šä¿¡åè®®æœ‰å“ªäº›ï¼Ÿ</li><li>ä¸‰æ¬¡æ¡æ‰‹ğŸ¤ï¼Œå››æ¬¡æŒ¥æ‰‹ğŸ‘‹ï¼Ÿ</li><li>TCP&#x2F;UDP&#x2F;HttpåŒºåˆ«</li><li>æ•°æ®åŒ…ç»è¿‡è·¯ç”±å™¨å¦‚ä½•è½¬åˆ°ä¸‹ä¸€å°è®¾å¤‡ï¼Ÿ</li><li>ä¸€æ¬¾ç¨‹åºæ˜¯æ€ä¹ˆåœ¨å±€åŸŸç½‘ä¹‹é—´é€šä¿¡çš„ï¼Ÿ</li><li>ä¸€æ¬¾ç¨‹åºæ˜¯æ€ä¹ˆåœ¨äº’è”ç½‘ä¹‹é—´é€šä¿¡çš„ï¼Ÿ</li></ul><p>å…³äºç½‘ç»œæ›´åº•å±‚çš„åè®®å’Œå®ç°çš„åŸç†çš„ç›¸å…³å­¦ä¹ çŸ¥è¯†ï¼Œå¯ä»¥å¤šçœ‹çœ‹ğŸ‘€ä¸‹é¢è¿™ä¸¤ä¸ªè§†é¢‘é“¾æ¥ï¼Œæˆ‘å°±æ˜¯ä¹‹å‰å­¦ä¹ çš„æ­¤moocç½‘ç»œè¯¾ï¼Œè§‰å¾—è®²è§£çš„å¾ˆæ£’ï¼Œæ•…æ­¤å£å£ç›¸ä¼ çš„æ¨èå‡ºæ¥ï¼š</p><ul><li><p><strong>åå—ç†å·¥å¤§å­¦ è®¡ç®—æœºç½‘ç»œ MOOC</strong> </p><p>  <a href="https://www.bilibili.com/video/av40766904">https://www.bilibili.com/video/av40766904</a></p></li><li><p>**å·ç”µå­ç§‘æŠ€å¤§å­¦ è®¡ç®—æœºç½‘ç»œè‡ªå­¦ç¬”è®° MOOC  **<a href="https://www.bilibili.com/video/av40761275">https://www.bilibili.com/video/av40761275</a></p></li></ul><br><h2 id="QHostInfoå±æ€§ï¼š"><a href="#QHostInfoå±æ€§ï¼š" class="headerlink" title="QHostInfoå±æ€§ï¼š"></a>QHostInfoå±æ€§ï¼š</h2><p>å¾—ç›Šäº<code>Qt</code>å¼ºå¤§çš„å°è£…åº“ï¼Œä¸Šé¢çš„å¾ˆå¤šç»†èŠ‚éƒ½ä¸ç”¨æ·±ç©¶ï¼Œåªéœ€è¦åˆ›å»ºä¸€ä¸¤ä¸ªå¯¹è±¡ï¼Œç„¶åè°ƒç”¨ä»–ä»¬çš„å‡½æ•°ï¼Œå°±å¯ä»¥è·å¾—ä»–ä»¬çš„ç½‘ç»œç›¸å…³çš„ä¿¡æ¯ï¼›</p><p><code>QHostInfo</code>ç±»å¯ä»¥é€šè¿‡é™æ€å‡½æ•°localHostName()è·å– <strong>æœ¬æœºçš„ä¸»æœºå</strong> å†é€šè¿‡fromName()å‡½æ•°å¯ä»¥è·å–åˆ° <strong>IPåœ°å€</strong>ï¼Œè€ŒlookupHost()åˆ™æ˜¯é€šè¿‡å¼‚æ­¥æ–¹å¼æŸ¥è¯¢åˆ°è¿™ä¸ªä¸»æœºçš„IPåœ°å€ã€‚</p><table><thead><tr><th align="center">ç±»åˆ«</th><th align="left">å‡½æ•°åŸå‹</th><th align="left">ä½œç”¨</th></tr></thead><tbody><tr><td align="center">å…¬å…±å‡½æ•°</td><td align="left">QList<QHostAddress> addresses()</td><td align="left">è¿”å›ä¸hostName()å…³è”çš„IPåœ°å€åˆ—è¡¨</td></tr><tr><td align="center">å…¬å…±å‡½æ•°</td><td align="left">HostInfoError error()</td><td align="left">å¦‚æœä¸»æœºæŸ¥æ‰¾å¤±è´¥ï¼Œè¿”å›å¤±è´¥ç±»å‹</td></tr><tr><td align="center">å…¬å…±å‡½æ•°</td><td align="left">QString errorString()</td><td align="left">å¦‚æœä¸»æœºæŸ¥æ‰¾å¤±è´¥ï¼Œè¿”å›é”™è¯¯æè¿°å­—ç¬¦ä¸²</td></tr><tr><td align="center">å…¬å…±å‡½æ•°</td><td align="left">QString hostName()</td><td align="left">è¿”å›é€šè¿‡IPæŸ¥æ‰¾çš„ä¸»æœºåç§°</td></tr><tr><td align="center">å…¬å…±å‡½æ•°</td><td align="left">int lookupld()</td><td align="left">è¿”å›æœ¬æ¬¡æŸ¥æ‰¾çš„id</td></tr><tr><td align="center">é™æ€å‡½æ•°</td><td align="left">void abortHostLookup(int id)</td><td align="left">ä¸­æ–­ä¸»æœºæŸ¥æ‰¾</td></tr><tr><td align="center">é™æ€å‡½æ•°</td><td align="left">QHostInfo fromName(QString &amp;name)</td><td align="left">è¿”å›æŒ‡å®šä¸»æœºåIPçš„åœ°å€</td></tr><tr><td align="center">é™æ€å‡½æ•°</td><td align="left">QString localDomainName()</td><td align="left">è¿”å›æœ¬æœºDNSåŸŸå</td></tr><tr><td align="center">é™æ€å‡½æ•°</td><td align="left">QString localHostName()</td><td align="left">è¿”å›æœ¬æœºä¸»æœºå</td></tr><tr><td align="center">é™æ€å‡½æ•°</td><td align="left">int lookupHost(QString byname, QObject *receiver, char *member)</td><td align="left">ä»¥å¼‚æ­¥æ–¹å¼æ ¹æ®ä¸»æœºåæŸ¥æ‰¾ä¸»æœºçš„IPåœ°å€ï¼Œå¹¶è¿”å›ä¸€ä¸ªè¡¨ç¤ºæœ¬æ¬¡æŸ¥æ‰¾çš„IDï¼Œå¯ç”¨äºabortHostLookup()</td></tr></tbody></table><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//QHostInfo è·å–ä¸»æœºä¿¡æ¯</span>    QString hostName <span class="token operator">=</span> <span class="token class-name">QHostInfo</span><span class="token double-colon punctuation">::</span><span class="token function">localHostName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"æœ¬åœ°ä¸»æœºåç§°:"</span> <span class="token operator">+</span> hostName <span class="token operator">+</span> <span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QHostInfo hostInfo <span class="token operator">=</span> <span class="token class-name">QHostInfo</span><span class="token double-colon punctuation">::</span><span class="token function">fromName</span><span class="token punctuation">(</span>hostName<span class="token punctuation">)</span><span class="token punctuation">;</span>    QList<span class="token operator">&lt;</span>QHostAddress<span class="token operator">></span> list <span class="token operator">=</span> hostInfo<span class="token punctuation">.</span><span class="token function">addresses</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token function">foreach</span> <span class="token punctuation">(</span>QHostAddress var<span class="token punctuation">,</span> list<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">bool</span> bIPv4 <span class="token operator">=</span> ui<span class="token operator">-></span>checkBox<span class="token operator">-></span><span class="token function">isChecked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>bIPv4<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>   <span class="token comment">//åªæ˜¾ç¤º IPv4</span>            bIPv4 <span class="token operator">=</span> QAbstractSocket<span class="token double-colon punctuation">::</span>IPv4Protocol <span class="token operator">==</span> var<span class="token punctuation">.</span><span class="token function">protocol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            bIPv4 <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>   <span class="token comment">//æ˜¾ç¤º IPv4 å’Œ IPv6</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>bIPv4<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"åè®®ï¼š"</span> <span class="token operator">+</span> <span class="token function">protocolName</span><span class="token punctuation">(</span>var<span class="token punctuation">.</span><span class="token function">protocol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"æœ¬æœºIPåœ°å€"</span> <span class="token operator">+</span> var<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="QNetworkInterfaceå±æ€§ï¼š"><a href="#QNetworkInterfaceå±æ€§ï¼š" class="headerlink" title="QNetworkInterfaceå±æ€§ï¼š"></a>QNetworkInterfaceå±æ€§ï¼š</h2><p><code>QNetworkInterface</code>ç±»æ˜¯å¯ä»¥è·å¾—åº”ç”¨ç¨‹åºçš„ä¸»æœºçš„æ‰€æœ‰IPåœ°å€å’Œç½‘ç»œåœ°å€æ¥å£çš„åˆ—è¡¨ã€‚é™æ€å‡½æ•°allInterfaces()è¿”å›ä¸»æœºä¸Šæ‰€æœ‰ç½‘ç»œæ¥å£çš„åˆ—è¡¨ï¼Œä¸€ä¸ªç½‘ç»œæ¥å£å¯èƒ½åŒ…å«å¤šä¸ªIPåœ°å€ï¼Œæ¯ä¸ªIPåœ°å€ä¸åœ°å€æ©ç æˆ–å¹¿æ’­åœ°å€çš„å…³è”ï¼›å½“ç„¶ä¹Ÿæœ‰ä¸€ä¸ªç®€ç‰ˆçš„è·å–å‡½æ•°allAddresses()å¯ä»¥è·å–åˆ°ï¼Œä½†æ˜¯ä¸ä¼šè¿”å›å­ç½‘æ©ç å’Œå¹¿æ’­çš„IPåœ°å€ã€‚</p><table><thead><tr><th>ç±»åˆ«</th><th>å‡½æ•°åŸå‹</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>å…¬å…±å‡½æ•°</td><td>QList<QNetworkAddress Entry> addressEntries()</td><td>è¿”å›è¯¥ç½‘ç»œæ¥å£ï¼ˆåŒ…å«å­ç½‘æ©ç +å¹¿æ’­åœ°å€ï¼‰çš„IPåœ°å€åˆ—è¡¨</td></tr><tr><td>å…¬å…±å‡½æ•°</td><td>QString hardwareAddress()</td><td>è¿”å›è¯¥æ¥å£çš„ä½çº§ç¡¬ä»¶åœ°å€ï¼Œä»¥å¤ªç½‘é‡Œå°±æ˜¯MACåœ°å€</td></tr><tr><td>å…¬å…±å‡½æ•°</td><td>QString humanReadableName()</td><td>è¿”å›å¯ä»¥è¯»æ‡‚çš„æ¥å£åç§°æ²¡å¦‚æœåç§°ä¸ç¡®å®šï¼Œå¾—åˆ°çš„å°±æ˜¯name()çš„è¿”å›å€¼</td></tr><tr><td>å…¬å…±å‡½æ•°</td><td>bool isValid()</td><td>å¦‚æœæ¥å£ä¿¡æ¯æœ‰æ•ˆå°±è¿”å›true</td></tr><tr><td>å…¬å…±å‡½æ•°</td><td>QString name()</td><td>è¿”å›ä¸»æœºä¸Šæ‰€æœ‰IPåœ°å€çš„åˆ—è¡¨</td></tr><tr><td>é™æ€å‡½æ•°</td><td>QList<QHostAddress> allAddresses()</td><td>è¿”å›ä¸»æœºä¸Šé¢çš„æ‰€æœ‰IPåœ°å€çš„åˆ—è¡¨</td></tr><tr><td>é™æ€å‡½æ•°</td><td>QList<QNetworklnterface> allInterfaces()</td><td>è¿”å›ä¸»æœºä¸Šé¢çš„æ‰€æœ‰æ¥å£çš„ç½‘ç»œåˆ—è¡¨</td></tr></tbody></table><br><h2 id="QAbstractSocketå±æ€§ï¼š"><a href="#QAbstractSocketå±æ€§ï¼š" class="headerlink" title="QAbstractSocketå±æ€§ï¼š"></a>QAbstractSocketå±æ€§ï¼š</h2><p><strong>QAbstractSocket::NetworkLayerProtocol æšä¸¾</strong>:</p><p>è¯¥æšä¸¾æè¿°äº†Qtä¸­ä½¿ç”¨çš„ç½‘ç»œå±‚åè®®å€¼ã€‚</p><table><thead><tr><th>Constant</th><th>Value</th><th>Description</th></tr></thead><tbody><tr><td>QAbstractSocket::IPv4Protocol</td><td>0</td><td>IPv4</td></tr><tr><td>QAbstractSocket::IPv6Protocol</td><td>1</td><td>IPv6</td></tr><tr><td>QAbstractSocket::AnyIPProtocol</td><td>2</td><td>Either IPv4 or IPv6</td></tr><tr><td>QAbstractSocket::UnknownNetworkLayerProtocol</td><td>-1</td><td>Other than IPv4 and IPv6</td></tr></tbody></table><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><p>è¿™é‡Œä¸Šä¸€å¼ è¿è¡Œæ•ˆæœå›¾ï¼š</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191216_201205_GIF.gif"/ loading="lazy"><br><h2 id="æºç åˆ†æï¼š"><a href="#æºç åˆ†æï¼š" class="headerlink" title="æºç åˆ†æï¼š"></a>æºç åˆ†æï¼š</h2><p>å…¶ä¸­æ ¸å¿ƒéƒ¨åˆ†çš„æºç ï¼Œé‡ç‚¹å’Œä¸€äº›éš¾ç‚¹ä»¥åŠéœ€è¦æ³¨æ„çš„ä¸€äº›åœ°æ–¹ï¼Œè´´å‡ºæ¥å¦‚ä¸‹</p><p><strong>å…¶ä¸­.hå¤´æ–‡ä»¶å¦‚ä¸‹ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">EXQHOSTINFO_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">EXQHOSTINFO_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QWidget></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QAbstractSocket></span></span><span class="token keyword">class</span> <span class="token class-name">QHostInfo</span><span class="token punctuation">;</span><span class="token keyword">namespace</span> Ui <span class="token punctuation">&#123;</span><span class="token keyword">class</span> <span class="token class-name">ExQHostInfo</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">ExQHostInfo</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QWidget</span></span><span class="token punctuation">&#123;</span>    Q_OBJECT<span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">explicit</span> <span class="token function">ExQHostInfo</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">~</span><span class="token function">ExQHostInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">private</span><span class="token operator">:</span>    QString <span class="token function">protocolName</span><span class="token punctuation">(</span>QAbstractSocket<span class="token double-colon punctuation">::</span>NetworkLayerProtocol protocol<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//é€šè¿‡åè®®ç±»å‹è¿”å›åè®®åç§°</span><span class="token keyword">private</span> slots<span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">on_btnGetHostInfo_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//QHostInfoæŸ¥è¯¢ä¸»æœºåå’ŒIP</span>    <span class="token keyword">void</span> <span class="token function">on_btnAllAddresses_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//QNetworkInterface::allAddresses()</span>    <span class="token keyword">void</span> <span class="token function">on_btnAllInterfaces_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//QNetworkInterface::allInterfaces()</span>    <span class="token keyword">void</span> <span class="token function">on_btnFindIP_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">//QHostInfoæŸ¥è¯¢å·¦ä¾§åŸŸåIPåœ°å€</span>    <span class="token keyword">void</span> <span class="token function">on_btnClean_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">//æ¸…ç©ºæ–‡æœ¬æ¡†ä¿¡æ¯</span>    <span class="token keyword">void</span> <span class="token function">onLookedUpHostInfo</span><span class="token punctuation">(</span><span class="token keyword">const</span> QHostInfo<span class="token operator">&amp;</span> host<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æŸ¥è¯¢ä¸»æœºä¿¡æ¯çš„æ§½å‡½æ•°</span><span class="token keyword">private</span><span class="token operator">:</span>    Ui<span class="token double-colon punctuation">::</span>ExQHostInfo <span class="token operator">*</span>ui<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// EXQHOSTINFO_H</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>å…¶ä¸­.cppæºæ–‡ä»¶å¦‚ä¸‹ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ExQHostInfo.h"</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ui_ExQHostInfo.h"</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QHostInfo></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QNetworkInterface></span></span><span class="token class-name">ExQHostInfo</span><span class="token double-colon punctuation">::</span><span class="token function">ExQHostInfo</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span> <span class="token operator">:</span>    <span class="token function">QWidget</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token double-colon punctuation">::</span>ExQHostInfo<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token string">"QHostInfo/QNetworkInterfaceæŸ¥è¯¢ä¸»æœºç½‘ç»œçŠ¶æ€ï¼š"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">ExQHostInfo</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">ExQHostInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">delete</span> ui<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//é€šè¿‡åè®®ç±»å‹è¿”å›åè®®åç§°</span>QString <span class="token class-name">ExQHostInfo</span><span class="token double-colon punctuation">::</span><span class="token function">protocolName</span><span class="token punctuation">(</span>QAbstractSocket<span class="token double-colon punctuation">::</span>NetworkLayerProtocol protocol<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">switch</span> <span class="token punctuation">(</span>protocol<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>IPv4Protocol<span class="token operator">:</span>        <span class="token keyword">return</span> <span class="token string">"IPv4 Protocol"</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>IPv6Protocol<span class="token operator">:</span>        <span class="token keyword">return</span> <span class="token string">"IPv6 Protocol"</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> QAbstractSocket<span class="token double-colon punctuation">::</span>AnyIPProtocol<span class="token operator">:</span>        <span class="token keyword">return</span> <span class="token string">"Any IP Protocol"</span><span class="token punctuation">;</span>    <span class="token keyword">default</span><span class="token operator">:</span>        <span class="token keyword">return</span> <span class="token string">"Unknow Network Layer Protocol"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//QHostInfo è·å–ä¸»æœºä¿¡æ¯</span><span class="token keyword">void</span> <span class="token class-name">ExQHostInfo</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnGetHostInfo_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString hostName <span class="token operator">=</span> <span class="token class-name">QHostInfo</span><span class="token double-colon punctuation">::</span><span class="token function">localHostName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"æœ¬åœ°ä¸»æœºåç§°:"</span> <span class="token operator">+</span> hostName <span class="token operator">+</span> <span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QHostInfo hostInfo <span class="token operator">=</span> <span class="token class-name">QHostInfo</span><span class="token double-colon punctuation">::</span><span class="token function">fromName</span><span class="token punctuation">(</span>hostName<span class="token punctuation">)</span><span class="token punctuation">;</span>    QList<span class="token operator">&lt;</span>QHostAddress<span class="token operator">></span> list <span class="token operator">=</span> hostInfo<span class="token punctuation">.</span><span class="token function">addresses</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token function">foreach</span> <span class="token punctuation">(</span>QHostAddress var<span class="token punctuation">,</span> list<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">bool</span> bIPv4 <span class="token operator">=</span> ui<span class="token operator">-></span>checkBox<span class="token operator">-></span><span class="token function">isChecked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>bIPv4<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>   <span class="token comment">//åªæ˜¾ç¤º IPv4</span>            bIPv4 <span class="token operator">=</span> QAbstractSocket<span class="token double-colon punctuation">::</span>IPv4Protocol <span class="token operator">==</span> var<span class="token punctuation">.</span><span class="token function">protocol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            bIPv4 <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>   <span class="token comment">//æ˜¾ç¤º IPv4 å’Œ IPv6</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>bIPv4<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"åè®®ï¼š"</span> <span class="token operator">+</span> <span class="token function">protocolName</span><span class="token punctuation">(</span>var<span class="token punctuation">.</span><span class="token function">protocol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"æœ¬æœºIPåœ°å€"</span> <span class="token operator">+</span> var<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExQHostInfo</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnAllAddresses_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QList<span class="token operator">&lt;</span>QHostAddress<span class="token operator">></span> list <span class="token operator">=</span> <span class="token class-name">QNetworkInterface</span><span class="token double-colon punctuation">::</span><span class="token function">allAddresses</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token function">foreach</span> <span class="token punctuation">(</span>QHostAddress var<span class="token punctuation">,</span> list<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">bool</span> bIPv4 <span class="token operator">=</span> ui<span class="token operator">-></span>checkBox<span class="token operator">-></span><span class="token function">isChecked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>bIPv4<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>   <span class="token comment">//åªæ˜¾ç¤º IPv4</span>            bIPv4 <span class="token operator">=</span> QAbstractSocket<span class="token double-colon punctuation">::</span>IPv4Protocol <span class="token operator">==</span> var<span class="token punctuation">.</span><span class="token function">protocol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            bIPv4 <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>   <span class="token comment">//æ˜¾ç¤º IPv4 å’Œ IPv6</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>bIPv4<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"åè®®ï¼š"</span> <span class="token operator">+</span> <span class="token function">protocolName</span><span class="token punctuation">(</span>var<span class="token punctuation">.</span><span class="token function">protocol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"æœ¬æœºIPåœ°å€"</span> <span class="token operator">+</span> var<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExQHostInfo</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnAllInterfaces_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QList<span class="token operator">&lt;</span>QNetworkInterface<span class="token operator">></span> list <span class="token operator">=</span> <span class="token class-name">QNetworkInterface</span><span class="token double-colon punctuation">::</span><span class="token function">allInterfaces</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token function">foreach</span> <span class="token punctuation">(</span>QNetworkInterface var<span class="token punctuation">,</span> list<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>var<span class="token punctuation">.</span><span class="token function">isValid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token keyword">continue</span><span class="token punctuation">;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"è®¾å¤‡åç§°ï¼š"</span> <span class="token operator">+</span> var<span class="token punctuation">.</span><span class="token function">humanReadableName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"ç¡¬ä»¶åœ°å€ï¼š"</span> <span class="token operator">+</span> var<span class="token punctuation">.</span><span class="token function">hardwareAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        QList<span class="token operator">&lt;</span>QNetworkAddressEntry<span class="token operator">></span> entry <span class="token operator">=</span> var<span class="token punctuation">.</span><span class="token function">addressEntries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">foreach</span> <span class="token punctuation">(</span>QNetworkAddressEntry ent<span class="token punctuation">,</span> entry<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"  IP åœ°å€ï¼š"</span> <span class="token operator">+</span> ent<span class="token punctuation">.</span><span class="token function">ip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"  å­ç½‘æ©ç ï¼š"</span> <span class="token operator">+</span> ent<span class="token punctuation">.</span><span class="token function">netmask</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"  å­ç½‘å¹¿æ’­ï¼š"</span> <span class="token operator">+</span> ent<span class="token punctuation">.</span><span class="token function">broadcast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExQHostInfo</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnFindIP_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString hostName <span class="token operator">=</span> ui<span class="token operator">-></span>lineEdit<span class="token operator">-></span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åŸŸå</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"æ­£åœ¨æŸ¥æ‰¾åŸŸåçš„æœåŠ¡å™¨çš„ä¸»æœºä¿¡æ¯ï¼š"</span> <span class="token operator">+</span> hostName<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">QHostInfo</span><span class="token double-colon punctuation">::</span><span class="token function">lookupHost</span><span class="token punctuation">(</span>hostName<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onLookedUpHostInfo</span><span class="token punctuation">(</span>QHostInfo<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExQHostInfo</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnClean_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æŸ¥è¯¢ä¸»æœºä¿¡æ¯çš„æ§½å‡½æ•°</span><span class="token keyword">void</span> <span class="token class-name">ExQHostInfo</span><span class="token double-colon punctuation">::</span><span class="token function">onLookedUpHostInfo</span><span class="token punctuation">(</span><span class="token keyword">const</span> QHostInfo <span class="token operator">&amp;</span>host<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QList<span class="token operator">&lt;</span>QHostAddress<span class="token operator">></span> list <span class="token operator">=</span> host<span class="token punctuation">.</span><span class="token function">addresses</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> list<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        QHostAddress host <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">bool</span> bIpv4 <span class="token operator">=</span> ui<span class="token operator">-></span>checkBox<span class="token operator">-></span><span class="token function">isChecked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åªæ˜¾ç¤ºIPv4</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>bIpv4<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>   <span class="token comment">//åªæ˜¾ç¤º IPv4</span>            bIpv4 <span class="token operator">=</span> QAbstractSocket<span class="token double-colon punctuation">::</span>IPv4Protocol <span class="token operator">==</span> host<span class="token punctuation">.</span><span class="token function">protocol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            bIpv4 <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>   <span class="token comment">//æ˜¾ç¤º IPv4 å’Œ IPv6</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>bIpv4<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"åè®®ï¼š"</span> <span class="token operator">+</span> <span class="token function">protocolName</span><span class="token punctuation">(</span>host<span class="token punctuation">.</span><span class="token function">protocol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span>host<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><a href="https://github.com/xmuli/QtExamples">https://github.com/xmuli/QtExamples</a> ã€QtQHostInfoExã€‘</p>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨Win10ç¯å¢ƒä¸‹å®‰è£…QtCreator5.9.8ä½œä¸ºc++çš„IDEå¼€å‘å·¥å…·</title>
      <link href="/posts/e2b9bdb5/"/>
      <url>/posts/e2b9bdb5/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong> åœ¨ <code>windows10</code>ç¯å¢ƒä¸‹å®‰è£…<code>Qt Creator5.9.8</code>ä½œä¸º<code>c++</code>çš„ <strong>IDE</strong>å¼€å‘å·¥å…·ï¼Œå­¦ä¹ å’Œä½¿ç”¨ <strong>qtæ¡†æ¶å­¦ä¹ </strong></p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ç³»ç»Ÿç¯å¢ƒï¼š"><a href="#ç³»ç»Ÿç¯å¢ƒï¼š" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒï¼š"></a>ç³»ç»Ÿç¯å¢ƒï¼š</h2><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>win10 x64 ä¸“ä¸šç‰ˆ 1903</code>   <strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>Qt 5.9.8</code>ï¼Œ<code>Qt Creator 4.8.2 (Enterprise)</code></p><br><h2 id="ä¸‹è½½QtCreatorï¼š"><a href="#ä¸‹è½½QtCreatorï¼š" class="headerlink" title="ä¸‹è½½QtCreatorï¼š"></a>ä¸‹è½½QtCreatorï¼š</h2><p><strong>qtå®˜ç½‘ä¸‹è½½åœ°å€ï¼š</strong> <a href="https://download.qt.io/archive/qt/">https://download.qt.io/archive/qt/</a></p><p>æ¨èä¸‹è½½â¬‡ï¸çš„ç‰ˆæœ¬ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223210408.png" style="zoom:80%;" / loading="lazy"><br><h2 id="å®‰è£…QtCreatorï¼š"><a href="#å®‰è£…QtCreatorï¼š" class="headerlink" title="å®‰è£…QtCreatorï¼š"></a>å®‰è£…QtCreatorï¼š</h2><ul><li>ç‚¹å‡»ä¸‹ä¸€æ­¥ï¼ˆNextï¼‰ï¼š</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223210928.png" style="zoom:80%;" / loading="lazy"><ul><li>ç‚¹å‡»è·³è¿‡ï¼ˆSKipï¼‰ï¼š</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223211028.png" style="zoom:80%;" / loading="lazy"><ul><li>ç‚¹å‡»ä¸‹ä¸€æ­¥ï¼š</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223211130.png" style="zoom:80%;" / loading="lazy"><ul><li>å®‰è£…å°±é€‰æ‹©é»˜è®¤ä½ç½®ï¼Œä¸å»ºè®®æ›´æ¢å…¶å®ƒç›˜ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ï¼š</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223211201.png" style="zoom:80%;" / loading="lazy"><ul><li>é€‰ä¸­æ‰€éœ€è¦çš„æ¨¡å—ï¼Œå‹¾é€‰å³å¯ï¼Œå¦‚ä¸‹æ˜¯æˆ‘çš„ä¸ªäººå®‰è£…ç›®å½•å’Œæ‰€éœ€è¦çš„æ¨¡å—ï¼›ä»¥åŠè§£é‡Šæ¯ä¸€ä¸ªæ¨¡å—çš„å«ä¹‰</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223212933.png" style="zoom:80%;" / loading="lazy"><ul><li>é€‰ä¸­åŒæ„åè®®ï¼Œç„¶åç‚¹å‡»ä¸‹ä¸€æ­¥ï¼š</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223213305.png" style="zoom:80%;" / loading="lazy"><ul><li>ç‚¹å‡»ä¸‹ä¸€æ­¥ï¼š</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223213240.png" style="zoom:80%;" / loading="lazy"><ul><li>ç‚¹å‡»å®‰è£…ï¼š</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223213339.png" style="zoom:80%;" / loading="lazy"><ul><li>è€å¿ƒç­‰å¾…å®‰è£…å®Œæˆï¼Œçº¦10åˆ†é’Ÿå³å¯å®‰è£…å®Œæˆï¼š</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223213412.png" style="zoom:80%;" / loading="lazy"><ul><li>ç‚¹å‡»å®Œæˆï¼Œåˆ°æ­¤ï¼Œè¯¥è½¯ä»¶æˆåŠŸå®‰è£…å®Œæˆï¼š</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223213527.png" style="zoom: 80%;" / loading="lazy"><h2 id="éªŒè¯å®‰è£…æˆåŠŸï¼š"><a href="#éªŒè¯å®‰è£…æˆåŠŸï¼š" class="headerlink" title="éªŒè¯å®‰è£…æˆåŠŸï¼š"></a>éªŒè¯å®‰è£…æˆåŠŸï¼š</h2><p>æ‰“å¼€<code>Qt Creator 4.8.2 (Enterprise)</code>å›¾æ ‡ï¼š</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223213821.png" loading="lazy"></p><p>ç„¶åç‚¹æ–°å»ºä¸€ä¸ªç©ºçš„é¡¹ç›®å·¥ç¨‹ï¼Œ</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223221307.png" loading="lazy"></p><p>ç„¶åè¿è¡Œï¼ˆé‚£ä¸ªæ’­æ”¾æŒ‰é’®ï¼‰ï¼Œçœ‹åˆ°å¦‚ä¸‹ç•Œé¢ï¼Œå³è¡¨ç¤ºå®‰è£…æˆåŠŸï¼Œå¯ä»¥å¼€å§‹æ–°çš„ç¼–ç ä¹‹æ—…ï¼š</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223221201.png" loading="lazy"></p><h2 id="æ¨èå…³é—­æ’ä»¶ï¼š"><a href="#æ¨èå…³é—­æ’ä»¶ï¼š" class="headerlink" title="æ¨èå…³é—­æ’ä»¶ï¼š"></a>æ¨èå…³é—­æ’ä»¶ï¼š</h2><p>è¿™é‡Œæ¨èå…³é—­å³ä¾§çš„æ ‡çº¢æé†’ï¼Œè¯¦ç»†å‚è€ƒæ­¤åšæ–‡ï¼š<a href="https://blog.csdn.net/qq_33154343/article/details/102943623">Qt Creator å…³é—­.cppæ–‡ä»¶å³ä¾§çš„é»„è‰²è­¦å‘Š</a></p>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å¤šæ–‡æ¡£ç•Œé¢MDI(Multi-document Interface)çš„å®ç°ï¼ŒQMdiAreaä½¿ç”¨</title>
      <link href="/posts/bf7cb4a7/"/>
      <url>/posts/bf7cb4a7/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  äº†è§£ <strong>å¤šæ–‡æ¡£ç•Œé¢MDI(Multi-document Interface)<strong>çš„å®ç°ï¼Œ<code>QMdiArea</code>ä½¿ç”¨ï¼Œä¹¦å†™ä¸€ä¸ªç®€å•åœ°ä¾‹å­ï¼›ç„¶åå†™äº†ä¸€ä¸ªå°çš„</strong>Qt</strong>ä¾‹å­ï¼Œç”¨æ¥å®ç°å’ŒéªŒè¯å®ƒçš„ç©ºé—´çš„ä¸€äº›å±æ€§å’ŒåŠŸèƒ½çš„ç”¨æ³•ã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_20191218_220755_mark.png"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ç³»ç»Ÿç¯å¢ƒï¼š"><a href="#ç³»ç»Ÿç¯å¢ƒï¼š" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒï¼š"></a>ç³»ç»Ÿç¯å¢ƒï¼š</h2><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>MacOS 10.14.6 (18G103)</code>   <strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong> <code>Qt 5.9.8</code>ï¼Œ <code>Qt Creator 4.8.2</code></p><br><h2 id="MDI-Multi-document-Interface-æ§ä»¶ï¼š"><a href="#MDI-Multi-document-Interface-æ§ä»¶ï¼š" class="headerlink" title="MDI(Multi-document Interface)æ§ä»¶ï¼š"></a>MDI(Multi-document Interface)æ§ä»¶ï¼š</h2><p><code>MDI(Multi-document Interface)</code>æ˜¯ä¼ ç»Ÿçš„å¤šæ–‡æ¡£ç•Œé¢åº”ç”¨ç¨‹åºï¼Œè€ŒQtä¸ºæ­¤æä¾›äº†æ”¯æŒï¼›ä»–ä»¬å¯ä»¥å…±äº«ä¸€ä¸ªä¸»çª—å£ï¼Œä»¥åŠèœå•æ ï¼Œå·¥å…·æ ç­‰ã€‚è€Œ <strong>è®¾è®¡ä¸€ä¸ªMDIçš„åº”ç”¨ç¨‹åºå°±æ˜¯éœ€è¦åœ¨ä¸»çª—å£çš„å·¥ä½œå»æ”¾ä¸€ä¸ªQMdiAreaæ§ä»¶ä½œä¸ºå­çª—å£çš„å®¹å™¨ã€‚</strong></p><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><p>è¿™é‡Œæ”¾ä¸‹ä¸€å¼ è¿è¡Œçš„å›¾ç‰‡</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/2019-12-18%2022.19.10.gif"/ loading="lazy"><br><h2 id="æºç åˆ†æï¼š"><a href="#æºç åˆ†æï¼š" class="headerlink" title="æºç åˆ†æï¼š"></a>æºç åˆ†æï¼š</h2><p>ä¸¤ä¸ªå¤´æ–‡ä»¶çš„ç±»å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">lass ExMDI <span class="token operator">:</span> <span class="token keyword">public</span> QWidget<span class="token punctuation">&#123;</span>    Q_OBJECT<span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">explicit</span> <span class="token function">ExMDI</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">~</span><span class="token function">ExMDI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">loadFromFile</span><span class="token punctuation">(</span>QString<span class="token operator">&amp;</span> fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ‰“å¼€æ–‡ä»¶</span>    QString <span class="token function">currentFileName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">//è¿”å›å½“å‰æ–‡ä»¶å</span>    <span class="token keyword">bool</span> <span class="token function">isFileOpended</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">//æ–‡ä»¶å·²ç»æ‰“å¼€</span>    <span class="token keyword">void</span> <span class="token function">setEditFont</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">textCut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">textCopy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">textPaste</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">private</span><span class="token operator">:</span>    Ui<span class="token double-colon punctuation">::</span>ExMDI <span class="token operator">*</span>ui<span class="token punctuation">;</span>    QString m_currentFile<span class="token punctuation">;</span>  <span class="token comment">//å½“å‰æ–‡ä»¶</span>    <span class="token keyword">bool</span>    m_fileOpened<span class="token punctuation">;</span>   <span class="token comment">//true æ‰“å¼€ï¼›false æœªæ‰“å¼€</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>lass ExMainWindow <span class="token operator">:</span> <span class="token keyword">public</span> QMainWindow<span class="token punctuation">&#123;</span>    Q_OBJECT<span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">explicit</span> <span class="token function">ExMainWindow</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">~</span><span class="token function">ExMainWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">private</span> slots<span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">on_actOpen_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//æ‰“å¼€æ–‡æ¡£</span>    <span class="token keyword">void</span> <span class="token function">on_actQuit_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//é€€å‡ºç¨‹åº</span>    <span class="token keyword">void</span> <span class="token function">on_actNew_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//æ–°å»ºMDIçš„å­çª—å£</span>    <span class="token keyword">void</span> <span class="token function">on_actFont_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//è®¾ç½®å­—ä½“</span>    <span class="token keyword">void</span> <span class="token function">on_actCut_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//å‰ªåˆ‡æ–‡æœ¬</span>    <span class="token keyword">void</span> <span class="token function">on_actCopy_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//å¤åˆ¶æ–‡æœ¬</span>    <span class="token keyword">void</span> <span class="token function">on_actPaste_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//ç²˜è´´æ–‡æœ¬</span>    <span class="token keyword">void</span> <span class="token function">on_actView_triggered</span><span class="token punctuation">(</span><span class="token keyword">bool</span> checked<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//MDIæ˜¾ç¤ºï¼š Table å’Œ å­çª—å£é¡µé¢æ˜¾ç¤º</span>    <span class="token keyword">void</span> <span class="token function">on_actCascade_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//çº§è”æ˜¾ç¤º</span>    <span class="token keyword">void</span> <span class="token function">on_actTile_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//å¹³é“ºæ˜¾ç¤º</span>    <span class="token keyword">void</span> <span class="token function">on_actClose_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//å…³é—­æ‰€æœ‰å­çª—å£</span><span class="token keyword">private</span><span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">closeEvent</span><span class="token punctuation">(</span>QCloseEvent <span class="token operator">*</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//ä¸»çª—å£å…³é—­æ—¶å…³é—­æ‰€æœ‰å­çª—å£</span><span class="token keyword">private</span><span class="token operator">:</span>    Ui<span class="token double-colon punctuation">::</span>ExMainWindow <span class="token operator">*</span>ui<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å…¶å¯¹åº”çš„æºæ–‡ä»¶ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ExMDI.h"</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ui_ExMDI.h"</span></span><span class="token class-name">ExMDI</span><span class="token double-colon punctuation">::</span><span class="token function">ExMDI</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span> <span class="token operator">:</span>    <span class="token function">QWidget</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token double-colon punctuation">::</span>ExMDI<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token string">"å¤šæ–‡æ¡£ç•Œé¢MDI (Multi-dociment Interface) çš„ä»‹ç»å’Œä½¿ç”¨"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setAttribute</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>WA_DeleteOnClose<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ— è®ºæ˜¯å¦è®¾ç½®å…³é—­æ—¶å€™åˆ é™¤ï¼›åœ¨MDIä¸­å…³é—­ä¸€ä¸ªMDIå­çª—å£éƒ½ä¼šåˆ é™¤å­çª—å£å¯¹è±¡</span>    <span class="token keyword">this</span><span class="token operator">-></span><span class="token function">setWindowIcon</span><span class="token punctuation">(</span><span class="token function">QIcon</span><span class="token punctuation">(</span><span class="token string">"/Users/yuanyi/picture/å‘å¸ƒã€å¤´åƒã€æµ‹è¯•å›¾ç‰‡/icon.png"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">ExMDI</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">ExMDI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">delete</span> ui<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ‰“å¼€æ–‡ä»¶</span><span class="token keyword">void</span> <span class="token class-name">ExMDI</span><span class="token double-colon punctuation">::</span><span class="token function">loadFromFile</span><span class="token punctuation">(</span>QString <span class="token operator">&amp;</span>fileName<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QFile <span class="token function">file</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ–‡ä»¶ä»¥è¯»çš„æ–¹å¼è¯»å‡º</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>QIODevice<span class="token double-colon punctuation">::</span>ReadOnly <span class="token operator">|</span> QIODevice<span class="token double-colon punctuation">::</span>Text<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        QTextStream <span class="token function">stream</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//ä»¥æ–‡æœ¬æµæ–¹å¼è¯»å–æ–‡ä»¶</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">setPlainText</span><span class="token punctuation">(</span>stream<span class="token punctuation">.</span><span class="token function">readAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        file<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        m_currentFile <span class="token operator">=</span> fileName<span class="token punctuation">;</span>        QFileInfo <span class="token function">fileInfo</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//æ–‡ä»¶ä¿¡æ¯</span>        <span class="token function">setWindowTitle</span><span class="token punctuation">(</span>fileInfo<span class="token punctuation">.</span><span class="token function">fileName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        m_fileOpened <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>QString <span class="token class-name">ExMDI</span><span class="token double-colon punctuation">::</span><span class="token function">currentFileName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> m_currentFile<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">bool</span> <span class="token class-name">ExMDI</span><span class="token double-colon punctuation">::</span><span class="token function">isFileOpended</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> m_fileOpened<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExMDI</span><span class="token double-colon punctuation">::</span><span class="token function">setEditFont</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QFont font <span class="token operator">=</span> ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">bool</span> ok<span class="token punctuation">;</span>    font <span class="token operator">=</span> <span class="token class-name">QFontDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getFont</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>ok<span class="token punctuation">,</span> font<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">setFont</span><span class="token punctuation">(</span>font<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExMDI</span><span class="token double-colon punctuation">::</span><span class="token function">textCut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">cut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExMDI</span><span class="token double-colon punctuation">::</span><span class="token function">textCopy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">copy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExMDI</span><span class="token double-colon punctuation">::</span><span class="token function">textPaste</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">paste</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ExMainWindow.h"</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ui_ExMainWindow.h"</span></span><span class="token class-name">ExMainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">ExMainWindow</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span> <span class="token operator">:</span>    <span class="token function">QMainWindow</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token double-colon punctuation">::</span>ExMainWindow<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setCentralWidget</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>mdiArea<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setWindowState</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>WindowMaximized<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>toolBar<span class="token operator">-></span><span class="token function">setToolButtonStyle</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>ToolButtonTextUnderIcon<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">ExMainWindow</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">ExMainWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">delete</span> ui<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExMainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">closeEvent</span><span class="token punctuation">(</span>QCloseEvent <span class="token operator">*</span>e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>mdiArea<span class="token operator">-></span><span class="token function">closeAllSubWindows</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//å…³é—­æ‰€æœ‰å­çª—å£</span>    e<span class="token operator">-></span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExMainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_actOpen_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">bool</span> needNew <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    ExMDI <span class="token operator">*</span>mdi <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ui<span class="token operator">-></span>mdiArea<span class="token operator">-></span><span class="token function">subWindowList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//å¦‚æœæœ‰æ‰“å¼€çš„ä¸»çª—å£ï¼Œè·å–æ´»åŠ¨çª—å£</span>        mdi <span class="token operator">=</span>  <span class="token punctuation">(</span>ExMDI <span class="token operator">*</span><span class="token punctuation">)</span>ui<span class="token operator">-></span>mdiArea<span class="token operator">-></span><span class="token function">activeSubWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">widget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        needNew <span class="token operator">=</span> mdi<span class="token operator">-></span><span class="token function">isFileOpended</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//æ–‡ä»¶å·²ç»æ‰“å¼€ï¼Œéœ€è¦æ–°å»ºçª—å£</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        needNew <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    QString curPath <span class="token operator">=</span> <span class="token class-name">QDir</span><span class="token double-colon punctuation">::</span><span class="token function">currentPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QString fileName <span class="token operator">=</span> <span class="token class-name">QFileDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getOpenFileName</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶"</span><span class="token punctuation">,</span> curPath<span class="token punctuation">,</span> <span class="token string">"Cç¨‹åºæ–‡ä»¶(*.h *cpp);;æ–‡æœ¬æ–‡ä»¶(*.txt);;æ‰€æœ‰æ–‡ä»¶(*.*)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>fileName<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>needNew<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        mdi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">ExMDI</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ui<span class="token operator">-></span>mdiArea<span class="token operator">-></span><span class="token function">addSubWindow</span><span class="token punctuation">(</span>mdi<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    mdi<span class="token operator">-></span><span class="token function">loadFromFile</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>    mdi<span class="token operator">-></span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>actCopy<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>actCut<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>actPaste<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>actFont<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExMainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_actQuit_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExMainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_actNew_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ExMDI <span class="token operator">*</span>mdi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">ExMDI</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>mdiArea<span class="token operator">-></span><span class="token function">addSubWindow</span><span class="token punctuation">(</span>mdi<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//æ·»åŠ ä¸€ä¸ªå­çª—å£MDI</span>    mdi<span class="token operator">-></span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>actCopy<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>actCut<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>actPaste<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>actFont<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExMainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_actFont_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>     ExMDI<span class="token operator">*</span> mdi <span class="token operator">=</span> <span class="token punctuation">(</span>ExMDI <span class="token operator">*</span><span class="token punctuation">)</span>ui<span class="token operator">-></span>mdiArea<span class="token operator">-></span><span class="token function">activeSubWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">widget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     mdi<span class="token operator">-></span><span class="token function">setEditFont</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//è®¾ç½®ç¼–å†™çš„å­—ä½“æ–‡æ¡£</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExMainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_actCut_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ExMDI<span class="token operator">*</span> mdi <span class="token operator">=</span> <span class="token punctuation">(</span>ExMDI <span class="token operator">*</span><span class="token punctuation">)</span>ui<span class="token operator">-></span>mdiArea<span class="token operator">-></span><span class="token function">activeSubWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">widget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    mdi<span class="token operator">-></span><span class="token function">textCut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExMainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_actCopy_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ExMDI<span class="token operator">*</span> mdi <span class="token operator">=</span> <span class="token punctuation">(</span>ExMDI <span class="token operator">*</span><span class="token punctuation">)</span>ui<span class="token operator">-></span>mdiArea<span class="token operator">-></span><span class="token function">activeSubWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">widget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    mdi<span class="token operator">-></span><span class="token function">textCopy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExMainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_actPaste_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ExMDI<span class="token operator">*</span> mdi <span class="token operator">=</span> <span class="token punctuation">(</span>ExMDI <span class="token operator">*</span><span class="token punctuation">)</span>ui<span class="token operator">-></span>mdiArea<span class="token operator">-></span><span class="token function">activeSubWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">widget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    mdi<span class="token operator">-></span><span class="token function">textPaste</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExMainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_actView_triggered</span><span class="token punctuation">(</span><span class="token keyword">bool</span> checked<span class="token punctuation">)</span>   <span class="token comment">//MDI æ¨¡å¼è®¾ç½®</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>checked<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//Tabå¤šé¡µæ˜¾ç¤ºæ¨¡å¼</span>        ui<span class="token operator">-></span>mdiArea<span class="token operator">-></span><span class="token function">setViewMode</span><span class="token punctuation">(</span>QMdiArea<span class="token double-colon punctuation">::</span>TabbedView<span class="token punctuation">)</span><span class="token punctuation">;</span>        ui<span class="token operator">-></span>mdiArea<span class="token operator">-></span><span class="token function">setTabsClosable</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//é¡µé¢å¯ä»¥å…³é—­</span>        ui<span class="token operator">-></span>actCascade<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ui<span class="token operator">-></span>actTile<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        ui<span class="token operator">-></span>mdiArea<span class="token operator">-></span><span class="token function">setViewMode</span><span class="token punctuation">(</span>QMdiArea<span class="token double-colon punctuation">::</span>SubWindowView<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//å­çª—å£æ¨¡å¼</span>        ui<span class="token operator">-></span>actCascade<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ui<span class="token operator">-></span>actTile<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExMainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_actCascade_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>mdiArea<span class="token operator">-></span><span class="token function">cascadeSubWindows</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//çª—å£çº§è”å±•å¼€</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExMainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_actTile_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>mdiArea<span class="token operator">-></span><span class="token function">tileSubWindows</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//å¹³é“ºå±•å¼€</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExMainWindow</span><span class="token double-colon punctuation">::</span><span class="token function">on_actClose_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>mdiArea<span class="token operator">-></span><span class="token function">closeAllSubWindows</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//å…³é—­å…¨éƒ¨å­çª—å£</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><a href="https://github.com/xmuli/QtExamples">https://github.com/xmuli/QtExamples</a> ã€QtMDIExã€‘</p>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>è‡ªå®šä¹‰å’Œæ ‡å‡†å¯¹è¯æ¡†çš„ç”¨æ³•</title>
      <link href="/posts/f3962578/"/>
      <url>/posts/f3962578/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  äº†è§£è‡ªå®šä¹‰é£æ ¼æ§ä»¶æ ·å¼ï¼Œä¹¦å†™ä¸€ä¸ªç®€å•åœ°ä¾‹å­ï¼›ç„¶åå†™äº†ä¸€ä¸ªå°çš„<strong>Qt</strong>ä¾‹å­ï¼Œç”¨æ¥å®ç°å’ŒéªŒè¯å®ƒçš„ç©ºé—´çš„ä¸€äº›å±æ€§å’ŒåŠŸèƒ½çš„ç”¨æ³•ã€‚ä¸”ä¸»è¦æ˜¯è®²è§£ä¸€äº›æ¨¡æ€å’Œç»™éæ¨¡æ€çš„çŸ¥è¯†è®²è§£ï¼Œæœ¬ç¯‡æ¯”è¾ƒæ¨èç›´æ¥çœ‹æœ¬ä¾‹åªæœ‰çŸ¥è¯†è¡Œçš„æºç ï¼Œä¼šæ›´åŠ ç®€æ´å’Œæ¸…æ™°ã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_20191216_201058_mark.png"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ç³»ç»Ÿç¯å¢ƒï¼š"><a href="#ç³»ç»Ÿç¯å¢ƒï¼š" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒï¼š"></a>ç³»ç»Ÿç¯å¢ƒï¼š</h2><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>MacOS 10.14.6 (18G103)</code>   <strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong> <code>Qt 5.9.8</code>ï¼Œ <code>Qt Creator 4.8.2</code></p><br><h2 id="æ¨¡æ€-x2F-éæ¨¡æ€å¯¹è¯æ¡†ï¼š"><a href="#æ¨¡æ€-x2F-éæ¨¡æ€å¯¹è¯æ¡†ï¼š" class="headerlink" title="æ¨¡æ€&#x2F;éæ¨¡æ€å¯¹è¯æ¡†ï¼š"></a>æ¨¡æ€&#x2F;éæ¨¡æ€å¯¹è¯æ¡†ï¼š</h2><h3 id="æ¨¡æ€å¯¹è¯æ¡†ï¼š"><a href="#æ¨¡æ€å¯¹è¯æ¡†ï¼š" class="headerlink" title="æ¨¡æ€å¯¹è¯æ¡†ï¼š"></a>æ¨¡æ€å¯¹è¯æ¡†ï¼š</h3><p>å¿…é¡»å…³é—­æ­¤å¯¹è¯æ¡†æ‰å¯ä»¥è¿”å›ä¸»çª—å£æ“ä½œï¼›</p><p>ä½¿ç”¨æ–¹å¼ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="éæ¨¡æ€å¯¹è¯æ¡†ï¼š"><a href="#éæ¨¡æ€å¯¹è¯æ¡†ï¼š" class="headerlink" title="éæ¨¡æ€å¯¹è¯æ¡†ï¼š"></a>éæ¨¡æ€å¯¹è¯æ¡†ï¼š</h3><p>å…³é—­ï¼ˆå•æœºå…³é—­æŒ‰é’®æˆ–è€…å…³é—­å¯¹è¯æ¡†ï¼‰ååªæ˜¯éšè—ï¼ˆç¼ºçœçš„ï¼‰ï¼Œå¹¶ä¸ç®—åˆ é™¤å¯¹è±¡ï¼ˆå¹¶æ²¡æœ‰ä»å†…å­˜ä¸­åˆ é™¤ï¼‰ï¼Œä¸‹è½½å†è°ƒç”¨æ—¶å€™ï¼Œåªæ˜¯æ‰“å¼€å·²ç»åˆ›å»ºçš„å¯¹è¯æ¡†å¯¹è±¡ã€‚ä½¿ç”¨æ–¹å¼ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br><h2 id="çª—å£ä¸­çš„äº‹ä»¶ï¼š"><a href="#çª—å£ä¸­çš„äº‹ä»¶ï¼š" class="headerlink" title="çª—å£ä¸­çš„äº‹ä»¶ï¼š"></a>çª—å£ä¸­çš„äº‹ä»¶ï¼š</h2><p><font color=#FE7207 size=4 face="å¹¼åœ†"> <strong>åœ¨å¯¹è¯æ¡†å’Œä¸»çª—å£ä¹‹é—´äº’ç›¸æ“ä½œçš„å…³é”®æ˜¯è¦æœ‰å¯¹æ–¹çš„æŒ‡é’ˆï¼Œæ–¹æ‰èƒ½å¤Ÿä¼ é€’å‚æ•°å…µå¹¶ä¸”è°ƒç”¨å¯¹æ–¹å‡½æ•°ã€‚</strong> </font></p><p>äº‹ä»¶(event)æ˜¯ç”±çª—å£ç³»ç»Ÿäº§ç”Ÿçš„ç”±æŸäº›è§¦å‘çš„ç‰¹æ®Šå‡½æ•°ï¼Œä¾‹å¦‚é¼ æ ‡æ“ä½œï¼Œé”®ç›˜æ“ä½œçš„ä¸€äº›äº‹ä»¶ï¼Œè¿˜æ¯”å¦‚è¯´æœ‰çª—å£çš„æ˜¾ç¤ºï¼Œå…³é—­ï¼Œç»˜ç”»ç­‰ç›¸å…³äº‹ä»¶ã€‚ä»QWidgetç»§æ‰¿çš„çª—å£éƒ¨ä»¶å¸¸ç”¨çš„æ—¶é—´å‡½æ•°æœ‰å¦‚ä¸‹å‡ ç§ï¼š</p><ul><li><strong>closeEventï¼ˆï¼‰</strong>                      çª—å£å…³é—­æ—¶å€™è§¦å‘çš„äº‹ä»¶ï¼›æ­¤æ—¶å¯ä»¥åŠ å…¥æ“ä½œï¼šè¯¢é—®æ˜¯å¦å…³é—­çª—å£</li><li><strong>ShowEventï¼ˆï¼‰</strong>                     çª—å£æ˜¾ç¤ºçš„æ—¶å€™è§¦å‘çš„äº‹ä»¶</li><li><strong>paintEvent ï¼ˆï¼‰</strong>                    çª—å£ç»˜ç”»çš„äº‹ä»¶ï¼Œ</li><li><strong>mouseMoveEventï¼ˆï¼‰</strong>        é¼ æ ‡ç§»åŠ¨äº‹ä»¶</li><li><strong>mousePressEventï¼ˆï¼‰</strong>        é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶</li><li><strong>mouseReleaseEventï¼ˆï¼‰</strong>    é¼ æ ‡é‡Šæ”¾äº‹ä»¶</li><li><strong>keyPressEventï¼ˆï¼‰</strong>              é”®ç›˜æŒ‰ä¸‹äº‹ä»¶</li><li><strong>keyReleaseEventï¼ˆï¼‰</strong>          é”®ç›˜é‡Šæ”¾äº‹ä»¶</li></ul><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191216_201205.gif"/ loading="lazy"><br><h2 id="æºç åˆ†æï¼š"><a href="#æºç åˆ†æï¼š" class="headerlink" title="æºç åˆ†æï¼š"></a>æºç åˆ†æï¼š</h2><p>å› ä¸ºå…¶ä¸­ä½¿ç”¨åˆ°äº†ä¸Šé¢çš„æ¨¡æ€å’Œéæ¨¡æ€çŸ¥è¯†ï¼Œä»¥åŠçª—å£ä¹‹ä¸­çš„ä¸€äº›äº‹ä»¶æ¶ˆæ¯ï¼ŒåŠ ä¸Šè¿™ä¸ªä¾‹å­ä¸€çœ‹ä»£ç å°±æ˜ç™½äº†ï¼Œæ¯”æˆ‘å•ç‹¬è¯è´¹ç¬”å¢¨æ¥å†™ä»‹ç»ï¼Œæœ‰ç‚¹åºŸè¯çš„æ„Ÿè§‰ï¼Œæ‰€ä»¥ï¼Œæœ¬ç¯‡æ›´åŠ æ¨èå¤§å®¶ç›´æ¥çœ‹æºç å³å¯ã€‚</p><p>å…¶ä¸­æ ¸å¿ƒéƒ¨åˆ†çš„æºç ï¼Œé‡ç‚¹å’Œä¸€äº›éš¾ç‚¹ä»¥åŠéœ€è¦æ³¨æ„çš„ä¸€äº›åœ°æ–¹ï¼Œè´´å‡ºæ¥å¦‚ä¸‹</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_20191216_203214_mark.png"/ loading="lazy"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">ExCustomMainWin</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QMainWindow</span></span><span class="token punctuation">&#123;</span>    Q_OBJECT<span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">explicit</span> <span class="token function">ExCustomMainWin</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">~</span><span class="token function">ExCustomMainWin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">setACellText</span><span class="token punctuation">(</span><span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> col<span class="token punctuation">,</span> QString text<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//å®šä½åˆ°å•å…ƒæ ¼ï¼Œå¹¶è®¾ç½®å­—ç¬¦ä¸²</span>    <span class="token keyword">void</span> <span class="token function">setActLocateEnable</span><span class="token punctuation">(</span><span class="token keyword">bool</span> enable<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//è®¾ç½®actLocateeçš„enabledå±æ€§</span>    <span class="token keyword">void</span> <span class="token function">setDlgLocateNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                             <span class="token comment">//å°†ExDlgLocateæŒ‡é’ˆè®¾ç½®ä¸ºNULL</span><span class="token keyword">private</span> slots<span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">on_actSetHeader_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">on_actSetSize_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">on_actLocate_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">on_currentChanged</span><span class="token punctuation">(</span><span class="token keyword">const</span> QModelIndex <span class="token operator">&amp;</span>current<span class="token punctuation">,</span> <span class="token keyword">const</span> QModelIndex <span class="token operator">&amp;</span>previous<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">private</span><span class="token operator">:</span>    Ui<span class="token double-colon punctuation">::</span>ExCustomMainWin <span class="token operator">*</span>ui<span class="token punctuation">;</span>    QStandardItemModel <span class="token operator">*</span>m_model<span class="token punctuation">;</span>                        <span class="token comment">//æ•°æ®æ¨¡å‹</span>    QItemSelectionModel <span class="token operator">*</span>m_seleModel<span class="token punctuation">;</span>                   <span class="token comment">//itemé€‰æ‹©æ¨¡å‹</span>    ExDlgSetHeaders <span class="token operator">*</span>m_dlgSetHeaders<span class="token punctuation">;</span>    ExDlgLocate <span class="token operator">*</span>m_dlglocate<span class="token punctuation">;</span>    QLabel  <span class="token operator">*</span>m_labCellPos<span class="token punctuation">;</span>                              <span class="token comment">//å½“å‰å•å…ƒæ ¼è¡Œåˆ—å·</span>    QLabel  <span class="token operator">*</span>m_labCellText<span class="token punctuation">;</span>                             <span class="token comment">//å½“å‰å•å…ƒæ ¼å†…å®¹</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">ExDlgLocate</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QDialog</span></span><span class="token punctuation">&#123;</span>    Q_OBJECT<span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">explicit</span> <span class="token function">ExDlgLocate</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">~</span><span class="token function">ExDlgLocate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">setSpinRange</span><span class="token punctuation">(</span><span class="token keyword">int</span> rowCount<span class="token punctuation">,</span> <span class="token keyword">int</span> colCount<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">//è®¾ç½®spinçš„è®¾å®š(æœ€å¤§)å€¼</span>    <span class="token keyword">void</span> <span class="token function">setSpinValue</span><span class="token punctuation">(</span><span class="token keyword">int</span> rowNo<span class="token punctuation">,</span> <span class="token keyword">int</span> colNo<span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">//è®¾ç½®spinçš„åˆå§‹å€¼</span><span class="token keyword">private</span> slots<span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">on_btnSetText_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">on_btnClose_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">private</span><span class="token operator">:</span>    Ui<span class="token double-colon punctuation">::</span>ExDlgLocate <span class="token operator">*</span>ui<span class="token punctuation">;</span>    <span class="token comment">// QWidget interface</span><span class="token keyword">protected</span><span class="token operator">:</span>    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">closeEvent</span><span class="token punctuation">(</span>QCloseEvent <span class="token operator">*</span>event<span class="token punctuation">)</span> <span class="token keyword">override</span><span class="token punctuation">;</span>  <span class="token comment">//çª—å£å…³é—­äº‹ä»¶ï¼Œå…³é—­æ—¶é‡Šæ”¾æœ¬çª—å£</span>    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">showEvent</span><span class="token punctuation">(</span>QShowEvent <span class="token operator">*</span>event<span class="token punctuation">)</span> <span class="token keyword">override</span><span class="token punctuation">;</span>    <span class="token comment">//çª—å£æ˜¾ç¤ºäº‹ä»¶</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">ExDlgSetHeaders</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QDialog</span></span><span class="token punctuation">&#123;</span>    Q_OBJECT<span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">explicit</span> <span class="token function">ExDlgSetHeaders</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">~</span><span class="token function">ExDlgSetHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">setHeaderList</span><span class="token punctuation">(</span>QStringList<span class="token operator">&amp;</span> headers<span class="token punctuation">)</span><span class="token punctuation">;</span>    QStringList <span class="token function">headerList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">private</span><span class="token operator">:</span>    Ui<span class="token double-colon punctuation">::</span>ExDlgSetHeaders <span class="token operator">*</span>ui<span class="token punctuation">;</span>    QStringListModel <span class="token operator">*</span>m_model<span class="token punctuation">;</span>          <span class="token comment">//ç®¡ç†å­—ç¬¦ä¸²åˆ—è¡¨æ•°æ®</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">ExDlgSize</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QDialog</span></span><span class="token punctuation">&#123;</span>    Q_OBJECT<span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">explicit</span> <span class="token function">ExDlgSize</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">~</span><span class="token function">ExDlgSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> <span class="token function">getRowCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> <span class="token function">getColCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">setRowCol</span><span class="token punctuation">(</span><span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> col<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">private</span><span class="token operator">:</span>    Ui<span class="token double-colon punctuation">::</span>ExDlgSize <span class="token operator">*</span>ui<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><a href="https://github.com/xmuli/QtExamples">https://github.com/xmuli/QtExamples</a>ã€QtCustomDialogExã€‘</p>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>QTableViewå’ŒQStandardItemModel(ä»¥åŠä»£ç†çš„ä¾‹å­)çš„ç”¨æ³•</title>
      <link href="/posts/43c8e40a/"/>
      <url>/posts/43c8e40a/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  ç»§ç»­å­¦ä¹ <code>QTableView</code>å’Œ<code>QStandardItemModel</code>çš„ç”¨æ³•ï¼Œä»¥åŠè¿™é‡Œä¾‹å­é‡Œé¢æœ‰å…·ä½“ä½¿ç”¨ä»£ç†çš„ä¾‹å­ï¼ˆ<strong>æ¨¡å‹-è§†å›¾-ä»£ç†ï¼‰</strong>ï¼Œå…¶ä¸­ä¸“é—¨ç»™ä»£ç†å†™ä¸€æˆä¸€ä¸ªç±»æ¥å®ç°ä»–ä»¬ï¼›ä¹¦å†™ä¸€ä¸ªç®€å•çš„<code>Qt</code>ä¾‹å­ğŸŒ°ï¼Œç”¨æ¥å®ç°å’ŒéªŒè¯å®ƒçš„æ§ä»¶çš„ä¸€äº›å±æ€§å’ŒåŠŸèƒ½çš„ç”¨æ³•ã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-12_23-59-14_mark.png"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p><strong>ç›¸å…³åšæ–‡ï¼š</strong>   <a href="https://blog.csdn.net/qq_33154343/article/details/103501667">Model-View-Delegate:â€æ¨¡å‹-è§†å›¾-ä»£ç†â€çš„è®²è§£</a></p><br><h2 id="ç³»ç»Ÿç¯å¢ƒï¼š"><a href="#ç³»ç»Ÿç¯å¢ƒï¼š" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒï¼š"></a>ç³»ç»Ÿç¯å¢ƒï¼š</h2><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>MacOS 10.14.6 (18G103)</code>   <strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong> <code>Qt 5.9.8</code>ï¼Œ <code>Qt Creator 4.8.2</code></p><br><h2 id="QStandardItemModelï¼š"><a href="#QStandardItemModelï¼š" class="headerlink" title="QStandardItemModelï¼š"></a>QStandardItemModelï¼š</h2><p><code>QStandardItemModel</code>æ˜¯<font color=#D0087E size=4 face="å¹¼åœ†">æ ‡å‡†çš„ä»¥<strong>é¡¹æ•°æ®ï¼ˆitem dataï¼‰</strong>ä¸ºåŸºç¡€</font>çš„ <strong>æ•°æ®æ¨¡å‹ç±»</strong>ï¼›</p><br><h2 id="QTableViewï¼š"><a href="#QTableViewï¼š" class="headerlink" title="QTableViewï¼š"></a>QTableViewï¼š</h2><p><code>QTableView</code>æ˜¯ä¸€ä¸ªäºŒç»´æ•°æ®è¡¨è§†å›¾ç»„ä»¶ï¼Œå½“é€šè¿‡<code>setModelï¼ˆï¼‰</code>çš„è®¾ç½®ä¸€ä¸ª<code>QStandardItemModel</code>çš„æ—¶å€™ï¼Œä¸€ä¸ªå•å…ƒæ ¼æ˜¾ç¤º<code>QStandardItemModel</code>æ•°æ®æ¨¡å‹çš„ä¸€ä¸ªé¡¹ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">m_model <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QStandardItemModel</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                          <span class="token comment">//è®¾ç½®æ•°æ®æ¨¡å‹ï¼Œä¸€å¼€å§‹è®¾ç½®ä¸ºé»˜è®¤çš„2è¡Œ6åˆ—è¡¨çš„ä¸€ä¸ªè¡¨</span>m_selectModet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QItemSelectionModel</span><span class="token punctuation">(</span>m_model<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//è®¾ç½®é€‰æ‹©æ¨¡å‹</span>ui<span class="token operator">-></span>tableView<span class="token operator">-></span><span class="token function">setModel</span><span class="token punctuation">(</span>m_model<span class="token punctuation">)</span><span class="token punctuation">;</span>                                      <span class="token comment">//è®¾ç½®æ•°æ®æ¨¡å‹</span>ui<span class="token operator">-></span>tableView<span class="token operator">-></span><span class="token function">setSelectionModel</span><span class="token punctuation">(</span>m_selectModet<span class="token punctuation">)</span><span class="token punctuation">;</span>                       <span class="token comment">//è®¾ç½®é€‰æ‹©æ¨¡å‹</span>ui<span class="token operator">-></span>tableView<span class="token operator">-></span><span class="token function">setSelectionMode</span><span class="token punctuation">(</span>QAbstractItemView<span class="token double-colon punctuation">::</span>ExtendedSelection<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è®¾ç½®é€‰æ‹©æ¨¡å¼</span>ui<span class="token operator">-></span>tableView<span class="token operator">-></span><span class="token function">setSelectionBehavior</span><span class="token punctuation">(</span>QAbstractItemView<span class="token double-colon punctuation">::</span>SelectItems<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//è®¾ç½®é€‰æ‹©è¡Œä¸º</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="QItemSelectionModel"><a href="#QItemSelectionModel" class="headerlink" title="QItemSelectionModel:"></a>QItemSelectionModel:</h2><p><code>QItemSelectionModel</code>æ˜¯ä¸€ä¸ªç”¨äºè·Ÿè¸ªè§†å›¾ç»„å»ºçš„å•å…ƒæ ¼é€‰æ‹©çŠ¶æ€ç±»ï¼›å½“åœ¨QTableViewé€‰æ‹©æŸä¸€ä¸ªæˆ–è€…ä¸€äº›å•å…ƒæ ¼çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡<code>QItemSelectionModel</code>è·å–é€‰ä¸­çš„å•å…ƒæ ¼çš„æ¨¡å‹ç´¢å¼•ï¼Œä¸ºå•å…ƒæ ¼çš„é€‰æ‹©ç³»ç»Ÿæ–¹ä¾¿ï¼›</p><br><h2 id="è®¾è®¡æ€è·¯ï¼š"><a href="#è®¾è®¡æ€è·¯ï¼š" class="headerlink" title="è®¾è®¡æ€è·¯ï¼š"></a>è®¾è®¡æ€è·¯ï¼š</h2><p>åœ¨ <strong>ExQStandardItemModel.h</strong>å’Œ <strong>ExQStandardItemModel.cpp</strong>é‡Œé¢ï¼Œä½¿ç”¨ä¸­è§„ä¸­çŸ©çš„Tableè§†å›¾å’Œæ•°æ®è¿›è¡Œä¿®æ”¹ï¼Œå¯ä»¥æ˜¾ç¤ºå‡ºæ¥ä¸‹é¢çš„è¿™äº›æ•°æ®ç­‰ï¼›ç„¶åå†å°±å•ç‹¬è®¾è®¡ä¸€ä¸ªä»£ç†æ¥å®ç°ï¼Œåœ¨ <strong>ExDelegate.h</strong>å’Œ  <strong>ExDelegate.cpp</strong> é‡Œé¢ï¼Œå•ç‹¬å†™ä¸€ä¸ªä»£ç†ç»„ä»¶ï¼ˆegï¼šåˆ›å»ºç”¨äºç¼–è¾‘çš„æ¨¡å‹æ•°æ®çš„widgetç»„ä»¶ï¼Œå¦‚ä¸€ä¸ªQComboBoxç»„ä»¶ï¼‰ï¼Œå°†QComboBoxæ’å…¥åˆ°Tableæ§ä»¶é‡Œé¢ã€‚è¿™æ ·å°±å¯ä»¥å°†æ‰€æœ‰â€œè§†å›¾-æ¨¡å‹-ä»£ç†â€è¿™ä¸‰ä¸ªå…¨éƒ¨éƒ½ä½¿ç”¨å°ä¾‹å­çš„æ–¹å¼æ˜¾ç¤ºå‡ºæ¥ã€‚</p><p><font color=#FE7207 size=4 face="å¹¼åœ†">è‹¥æ˜¯æƒ³è¦ä½¿ç”¨ä»£ç†éƒ¨åˆ†ï¼Œå°±å¿…é¡»é‡åœ¨å¦‚ä¸‹çš„4ä¸ªå‡½æ•°</font></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">virtual</span> QWidget<span class="token operator">*</span> <span class="token function">createEditor</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOptionViewItem <span class="token operator">&amp;</span>option<span class="token punctuation">,</span> <span class="token keyword">const</span> QModelIndex <span class="token operator">&amp;</span>index<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span>      <span class="token comment">//åˆ›å»ºç”¨äºç¼–è¾‘çš„æ¨¡å‹æ•°æ®çš„widgetç»„ä»¶ï¼Œå¦‚ä¸€ä¸ªQComboBoxç»„ä»¶</span>    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">setEditorData</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>editor<span class="token punctuation">,</span> <span class="token keyword">const</span> QModelIndex <span class="token operator">&amp;</span>index<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span>                                             <span class="token comment">//ä»æ•°æ®æ¨¡å‹è·å–æ•°æ®ï¼Œæ˜¾ç¤ºåœ¨ä»£ç†ç»„ä»¶editorä¹‹ä¸­ï¼Œè®©å…¶ç¼–è¾‘</span>    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">setModelData</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>editor<span class="token punctuation">,</span> QAbstractItemModel <span class="token operator">*</span>model<span class="token punctuation">,</span> <span class="token keyword">const</span> QModelIndex <span class="token operator">&amp;</span>index<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span>                   <span class="token comment">//ä»£ç†ç»„ä»¶editorä¸Šçš„æ•°æ®æ›´æ–°åˆ°æ•°æ®æ¨¡å‹</span>    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">updateEditorGeometry</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>editor<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOptionViewItem <span class="token operator">&amp;</span>option<span class="token punctuation">,</span> <span class="token keyword">const</span> QModelIndex <span class="token operator">&amp;</span>index<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span>  <span class="token comment">//ç”¨äºç»™widgetç»„ä»¶è®¾ç½®ä¸€ä¸ªåˆé€‚çš„å¤§å°</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191213_00.gif"/ loading="lazy"><br><h2 id="æºç åˆ†æï¼š"><a href="#æºç åˆ†æï¼š" class="headerlink" title="æºç åˆ†æï¼š"></a>æºç åˆ†æï¼š</h2><p>å…¶ä¸­æ ¸å¿ƒéƒ¨åˆ†çš„æºç ï¼Œé‡ç‚¹å’Œä¸€äº›éš¾ç‚¹ä»¥åŠéœ€è¦æ³¨æ„çš„ä¸€äº›åœ°æ–¹ï¼Œè´´å‡ºæ¥å¦‚ä¸‹:</p><h3 id="æ¨¡å‹-è§†å›¾éƒ¨åˆ†ï¼š"><a href="#æ¨¡å‹-è§†å›¾éƒ¨åˆ†ï¼š" class="headerlink" title="æ¨¡å‹-è§†å›¾éƒ¨åˆ†ï¼š"></a>æ¨¡å‹-è§†å›¾éƒ¨åˆ†ï¼š</h3><p>åœ¨ <strong>.h</strong>å¤´æ–‡ä»¶</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">ExQStandardItemModel</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QMainWindow</span></span><span class="token punctuation">&#123;</span><span class="token keyword">private</span><span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span>QStringList<span class="token operator">&amp;</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">//ä»liståˆå§‹åŒ–æ•°æ®æ¨¡å‹</span><span class="token keyword">private</span> slots<span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">onCurrentChanged</span><span class="token punctuation">(</span><span class="token keyword">const</span> QModelIndex<span class="token operator">&amp;</span> current<span class="token punctuation">,</span> <span class="token keyword">const</span> QModelIndex<span class="token operator">&amp;</span> previous<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//å½“å‰å•å…ƒæ ¼å‘ç”Ÿå˜åŒ–æ—¶</span>    <span class="token keyword">void</span> <span class="token function">on_actOpen_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//æ‰“å¼€å’Œå¯¼å…¥æ–‡ä»¶ï¼Œå¹¶ä¸”åœ¨plainTextEdité‡Œé¢æ˜¾ç¤º</span>    <span class="token keyword">void</span> <span class="token function">on_actAppend_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">//åœ¨è¡¨æ ¼çš„æœ€åä¸€è¡Œæ·»åŠ ä¸€è¡Œ</span>    <span class="token keyword">void</span> <span class="token function">on_actSave_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//ä¿å­˜æ–‡ä»¶</span>    <span class="token keyword">void</span> <span class="token function">on_actInsert_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">//åœ¨å½“å‰é€‰ä¸­çš„ä¸€è¡Œï¼Œå…¶å‰é¢æ’å…¥ä¸€è¡Œ</span>    <span class="token keyword">void</span> <span class="token function">on_actDelete_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">//åˆ é™¤ä¸€è¡Œ</span>    <span class="token keyword">void</span> <span class="token function">on_actExit_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//å…³é—­é€€å‡º</span>    <span class="token keyword">void</span> <span class="token function">on_actModelData_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//é¢„è§ˆæ¨¡å‹</span>    <span class="token keyword">void</span> <span class="token function">on_actAlignLeft_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//å·¦å¯¹é½</span>    <span class="token keyword">void</span> <span class="token function">on_actAlignCenter_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//æ–‡æœ¬å±…ä¸­</span>    <span class="token keyword">void</span> <span class="token function">on_actAlingRight_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//æ–‡æœ¬å³å¯¹é½</span>    <span class="token keyword">void</span> <span class="token function">on_actBold_triggered</span><span class="token punctuation">(</span><span class="token keyword">bool</span> checked<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ–‡æœ¬åŠ ç²—</span><span class="token keyword">private</span><span class="token operator">:</span>    QLabel  <span class="token operator">*</span>m_labCurrFile<span class="token punctuation">;</span>                 <span class="token comment">//å½“å‰æ–‡ä»¶</span>    QLabel <span class="token operator">*</span>m_labCellPos<span class="token punctuation">;</span>                   <span class="token comment">//å½“å‰å•å…ƒæ ¼è¡Œåˆ—å·</span>    QLabel <span class="token operator">*</span>m_labCellText<span class="token punctuation">;</span>                  <span class="token comment">//å½“å‰å•å…ƒæ ¼æ•°æ®å†…å®¹</span>    QStandardItemModel <span class="token operator">*</span>m_model<span class="token punctuation">;</span>            <span class="token comment">//æ•°æ®æ¨¡å‹</span>    QItemSelectionModel <span class="token operator">*</span>m_selectModet<span class="token punctuation">;</span>     <span class="token comment">//é€‰æ‹©æ¨¡å‹</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨ <strong>.cpp</strong>æºæ–‡ä»¶é‡Œé¢</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">COLUMN</span> <span class="token expression"><span class="token number">6</span>  </span><span class="token comment">//æ•°æ®è¡¨çš„åˆ—æ•°</span></span><span class="token class-name">ExQStandardItemModel</span><span class="token double-colon punctuation">::</span><span class="token function">ExQStandardItemModel</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span> <span class="token operator">:</span>    <span class="token function">QMainWindow</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token double-colon punctuation">::</span>ExQStandardItemModel<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token class-name">QObject</span><span class="token double-colon punctuation">::</span><span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"QTableViewå’ŒQStandardItemModelçš„ç”¨æ³•"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>mainToolBar<span class="token operator">-></span><span class="token function">setToolButtonStyle</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>ToolButtonTextUnderIcon<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//è®¾ç½®ä¸»å·¥å…·æ çš„å›¾æ ‡æ ·å¼é£æ ¼</span>    m_labCurrFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QLabel</span><span class="token punctuation">(</span><span class="token string">"å½“å‰æ–‡ä»¶ï¼š"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                       <span class="token comment">//è®¾ç½®çŠ¶æ€æ </span>    m_labCellPos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QLabel</span><span class="token punctuation">(</span><span class="token string">"å½“å‰å•å…ƒæ ¼ï¼š"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labCellText <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QLabel</span><span class="token punctuation">(</span><span class="token string">"å•å…ƒæ ¼å†…å®¹ï¼š"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labCurrFile<span class="token operator">-></span><span class="token function">setMinimumWidth</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labCellPos<span class="token operator">-></span><span class="token function">setMinimumWidth</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labCellText<span class="token operator">-></span><span class="token function">setMinimumWidth</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>statusBar<span class="token operator">-></span><span class="token function">addWidget</span><span class="token punctuation">(</span>m_labCurrFile<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>statusBar<span class="token operator">-></span><span class="token function">addWidget</span><span class="token punctuation">(</span>m_labCellPos<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>statusBar<span class="token operator">-></span><span class="token function">addWidget</span><span class="token punctuation">(</span>m_labCellText<span class="token punctuation">)</span><span class="token punctuation">;</span>    m_model <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QStandardItemModel</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> COLUMN<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                          <span class="token comment">//è®¾ç½®æ•°æ®æ¨¡å‹ï¼Œä¸€å¼€å§‹è®¾ç½®ä¸ºé»˜è®¤çš„2è¡Œ6åˆ—è¡¨çš„ä¸€ä¸ªè¡¨</span>    m_selectModet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QItemSelectionModel</span><span class="token punctuation">(</span>m_model<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//è®¾ç½®é€‰æ‹©æ¨¡å‹</span>    ui<span class="token operator">-></span>tableView<span class="token operator">-></span><span class="token function">setModel</span><span class="token punctuation">(</span>m_model<span class="token punctuation">)</span><span class="token punctuation">;</span>                                      <span class="token comment">//è®¾ç½®æ•°æ®æ¨¡å‹</span>    ui<span class="token operator">-></span>tableView<span class="token operator">-></span><span class="token function">setSelectionModel</span><span class="token punctuation">(</span>m_selectModet<span class="token punctuation">)</span><span class="token punctuation">;</span>                       <span class="token comment">//è®¾ç½®é€‰æ‹©æ¨¡å‹</span>    ui<span class="token operator">-></span>tableView<span class="token operator">-></span><span class="token function">setSelectionMode</span><span class="token punctuation">(</span>QAbstractItemView<span class="token double-colon punctuation">::</span>ExtendedSelection<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è®¾ç½®é€‰æ‹©æ¨¡å¼</span>    ui<span class="token operator">-></span>tableView<span class="token operator">-></span><span class="token function">setSelectionBehavior</span><span class="token punctuation">(</span>QAbstractItemView<span class="token double-colon punctuation">::</span>SelectItems<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//è®¾ç½®é€‰æ‹©è¡Œä¸º</span>    <span class="token function">connect</span><span class="token punctuation">(</span>m_selectModet<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">currentChanged</span><span class="token punctuation">(</span>QModelIndex<span class="token punctuation">,</span> QModelIndex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onCurrentChanged</span><span class="token punctuation">(</span>QModelIndex<span class="token punctuation">,</span> QModelIndex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//é€‰æ‹©å½“å‰å•å…ƒæ ¼å˜åŒ–æ—¶çš„ä¿¡å·ä¸æ§½</span><span class="token punctuation">&#125;</span><span class="token class-name">ExQStandardItemModel</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">ExQStandardItemModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">delete</span> ui<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//ä»liståˆå§‹åŒ–æ•°æ®æ¨¡å‹QTableViewé‡Œé¢</span><span class="token keyword">void</span> <span class="token class-name">ExQStandardItemModel</span><span class="token double-colon punctuation">::</span><span class="token function">init</span><span class="token punctuation">(</span>QStringList <span class="token operator">&amp;</span>list<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> rowCount <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                           <span class="token comment">//æ–‡æœ¬è¡Œæ•°ï¼Œç¬¬ä¸€è¡Œä¸ºè¡¨å¤´</span>    m_model<span class="token operator">-></span><span class="token function">setRowCount</span><span class="token punctuation">(</span>rowCount <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QString header <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QStringList headerList <span class="token operator">=</span> header<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token function">QRegExp</span><span class="token punctuation">(</span><span class="token string">"\\s+"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> QString<span class="token double-colon punctuation">::</span>SkipEmptyParts<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//é€šè¿‡ä¸€ä¸ªæˆ–è€…å¤šä¸ªç©ºæ ¼æˆ–è€…tabæŒ‰é”®åˆ‡å‰²</span>    m_model<span class="token operator">-></span><span class="token function">setHorizontalHeaderLabels</span><span class="token punctuation">(</span>headerList<span class="token punctuation">)</span><span class="token punctuation">;</span>                       <span class="token comment">//è®¾ç½®è¡¨å¤´</span>    QStandardItem <span class="token operator">*</span>item <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>                                        <span class="token comment">//æ­¤å¤„å¼€å§‹ï¼Œè®¾ç½®è¡¨æ ¼æ•°æ®</span>    QStringList tempList<span class="token punctuation">;</span>    <span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> rowCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        QString aLineText <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        tempList <span class="token operator">=</span> aLineText<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token function">QRegExp</span><span class="token punctuation">(</span><span class="token string">"\\s+"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> QString<span class="token double-colon punctuation">::</span>SkipEmptyParts<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ­£åˆ™è¡¨è¾¾å¼ä¸­\såŒ¹é…ä»»ä½•ç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰, ç­‰ä»·äº[ \f\n\r\t\v]</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> COLUMN <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                                     <span class="token comment">//è®¾ç½®å‰5åˆ—çš„item</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                ExDelegate <span class="token operator">*</span>itemDelegate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">ExDelegate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                ui<span class="token operator">-></span>tableView<span class="token operator">-></span><span class="token function">setItemDelegateForColumn</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> itemDelegate<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QStandardItem</span><span class="token punctuation">(</span>tempList<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            m_model<span class="token operator">-></span><span class="token function">setItem</span><span class="token punctuation">(</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QStandardItem</span><span class="token punctuation">(</span>tempList<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                          <span class="token comment">//æœ€åä¸€åˆ—çš„item</span>        item<span class="token operator">-></span><span class="token function">setCheckable</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                          <span class="token comment">//è®¾ç½®æœ‰æ£€æŸ¥æ¡†</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span> tempList<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"https://www.google.com"</span><span class="token punctuation">)</span>            item<span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>Unchecked<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">else</span>            item<span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>Checked<span class="token punctuation">)</span><span class="token punctuation">;</span>        m_model<span class="token operator">-></span><span class="token function">setItem</span><span class="token punctuation">(</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> COLUMN <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//å½“å‰å•å…ƒæ ¼å‘ç”Ÿå˜åŒ–æ—¶</span><span class="token keyword">void</span> <span class="token class-name">ExQStandardItemModel</span><span class="token double-colon punctuation">::</span><span class="token function">onCurrentChanged</span><span class="token punctuation">(</span><span class="token keyword">const</span> QModelIndex <span class="token operator">&amp;</span>current<span class="token punctuation">,</span> <span class="token keyword">const</span> QModelIndex <span class="token operator">&amp;</span>previous<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>current<span class="token punctuation">.</span><span class="token function">isValid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                                               <span class="token comment">//å½“å‰æ¨¡å‹ç´¢æ€§æœ‰æ•ˆ</span>        m_labCellPos<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"å½“å‰å•å…ƒæ ¼ï¼š%1è¡Œ, %2åˆ—"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>current<span class="token punctuation">.</span><span class="token function">row</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>current<span class="token punctuation">.</span><span class="token function">column</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        QStandardItem <span class="token operator">*</span>item <span class="token operator">=</span> m_model<span class="token operator">-></span><span class="token function">itemFromIndex</span><span class="token punctuation">(</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">//ä»æ¨¡å‹ç´¢å¼•è·å¾—Item</span>        m_labCellText<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"å½“å‰æ–‡ä»¶ï¼š%1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>item<span class="token operator">-></span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ˜¾ç¤ºitemçš„æ–‡å­—å†…å®¹</span>        QFont font <span class="token operator">=</span> item<span class="token operator">-></span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ui<span class="token operator">-></span>actBold<span class="token operator">-></span><span class="token function">setChecked</span><span class="token punctuation">(</span>font<span class="token punctuation">.</span><span class="token function">bold</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                              <span class="token comment">//æ›´æ–°actFontBoldçš„checkçŠ¶æ€</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//action+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="token comment">//æ‰“å¼€å’Œå¯¼å…¥æ–‡ä»¶ï¼Œå¹¶ä¸”åœ¨plainTextEdité‡Œé¢æ˜¾ç¤º</span><span class="token keyword">void</span> <span class="token class-name">ExQStandardItemModel</span><span class="token double-colon punctuation">::</span><span class="token function">on_actOpen_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString currPath <span class="token operator">=</span> <span class="token class-name">QCoreApplication</span><span class="token double-colon punctuation">::</span><span class="token function">applicationDirPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QString fileName <span class="token operator">=</span> <span class="token class-name">QFileDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getOpenFileName</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶"</span><span class="token punctuation">,</span> currPath<span class="token punctuation">,</span> <span class="token string">"å¯¼å…¥æ•°æ®æ–‡ä»¶(*txt);;æ‰€æœ‰æ–‡ä»¶(*.*)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>fileName<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    QStringList list<span class="token punctuation">;</span>    QFile <span class="token function">file</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>QIODevice<span class="token double-colon punctuation">::</span>ReadOnly <span class="token operator">|</span> QIODevice<span class="token double-colon punctuation">::</span>Text<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token comment">//åªè¯»å½¢å¼æ‰“å¼€æ–‡æœ¬æ–‡ä»¶</span>        QTextStream <span class="token function">stream</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>                                         <span class="token comment">//ç”¨æ–‡æœ¬æµè¯»å–æ–‡ä»¶</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stream<span class="token punctuation">.</span><span class="token function">atEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                                          <span class="token comment">//è¯»å–æ–‡æœ¬ä¸­æ–‡æœ¬çš„å†…å®¹</span>            QString str <span class="token operator">=</span> stream<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>            list<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        file<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                      <span class="token comment">//å…³é—­</span>        m_labCurrFile<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"å½“å‰æ–‡ä»¶ï¼š"</span> <span class="token operator">+</span> fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">//è®¾ç½®çŠ¶æ€æ </span>        ui<span class="token operator">-></span>actAppend<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                   <span class="token comment">//è®¾ç½®actionçš„Enabledçš„å±æ€§</span>        ui<span class="token operator">-></span>actInsert<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ui<span class="token operator">-></span>actDelete<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ui<span class="token operator">-></span>actSave<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">init</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>                                                            <span class="token comment">//åˆå§‹åŒ–.txtçš„æ•°æ®</span><span class="token punctuation">&#125;</span><span class="token comment">//åœ¨è¡¨æ ¼çš„æœ€åä¸€è¡Œæ·»åŠ ä¸€è¡Œ</span><span class="token keyword">void</span> <span class="token class-name">ExQStandardItemModel</span><span class="token double-colon punctuation">::</span><span class="token function">on_actAppend_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QList<span class="token operator">&lt;</span>QStandardItem <span class="token operator">*</span><span class="token operator">></span> list<span class="token punctuation">;</span>    QStandardItem <span class="token operator">*</span>item<span class="token punctuation">;</span>    <span class="token comment">//è·å–è¡¨å¤´å‰äº”åˆ—</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> COLUMN <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QStandardItem</span><span class="token punctuation">(</span><span class="token string">"æ·»åŠ ä¸€è¡Œ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        list<span class="token operator">&lt;&lt;</span>item<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//è·å–æœ€åä¸€åˆ—</span>    QString str <span class="token operator">=</span> m_model<span class="token operator">-></span><span class="token function">headerData</span><span class="token punctuation">(</span>m_model<span class="token operator">-></span><span class="token function">columnCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>Horizontal<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>DisplayRole<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QStandardItem</span><span class="token punctuation">(</span>str <span class="token operator">+</span> <span class="token string">"æ·»åŠ ä¸€è¡Œ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    item<span class="token operator">-></span><span class="token function">setCheckable</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    list<span class="token operator">&lt;&lt;</span>item<span class="token punctuation">;</span>    m_model<span class="token operator">-></span><span class="token function">insertRow</span><span class="token punctuation">(</span>m_model<span class="token operator">-></span><span class="token function">rowCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>    QModelIndex currIndex <span class="token operator">=</span> m_model<span class="token operator">-></span><span class="token function">index</span><span class="token punctuation">(</span>m_model<span class="token operator">-></span><span class="token function">rowCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//åˆ›å»ºæœ€åä¸€è¡Œçš„ModelIndex</span>    m_selectModet<span class="token operator">-></span><span class="token function">clearSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_selectModet<span class="token operator">-></span><span class="token function">setCurrentIndex</span><span class="token punctuation">(</span>currIndex<span class="token punctuation">,</span> QItemSelectionModel<span class="token double-colon punctuation">::</span>Select<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//ä¿å­˜æ–‡ä»¶</span><span class="token keyword">void</span> <span class="token class-name">ExQStandardItemModel</span><span class="token double-colon punctuation">::</span><span class="token function">on_actSave_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString path <span class="token operator">=</span> <span class="token class-name">QCoreApplication</span><span class="token double-colon punctuation">::</span><span class="token function">applicationDirPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QString fileName <span class="token operator">=</span> <span class="token class-name">QFileDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getSaveFileName</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> path<span class="token punctuation">,</span> <span class="token string">"å¦å­˜æ•°æ®(*.txt);;æ‰€æœ‰æ•°æ®(*.*)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span> fileName<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    QFile <span class="token function">file</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>QIODevice<span class="token double-colon punctuation">::</span>ReadWrite <span class="token operator">|</span> QIODevice<span class="token double-colon punctuation">::</span>Text <span class="token operator">|</span> QIODevice<span class="token double-colon punctuation">::</span>Truncate<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//è¯»å†™ï¼Œæ–‡æœ¬ï¼Œè¦†ç›–åŸæœ‰å†…å®¹æ‰“å¼€</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    QTextStream <span class="token function">stream</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>                                            <span class="token comment">//ç”¨æ–‡æœ¬æµè¯»å–æ–‡ä»¶</span>    QStandardItem <span class="token operator">*</span>item<span class="token punctuation">;</span>    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span>    <span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    QString str <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//è·å–è¡¨å¤´æ–‡å­—</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m_model<span class="token operator">-></span><span class="token function">columnCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        item <span class="token operator">=</span>  m_model<span class="token operator">-></span><span class="token function">horizontalHeaderItem</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        str <span class="token operator">=</span> str <span class="token operator">+</span> item<span class="token operator">-></span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\t\t"</span><span class="token punctuation">;</span>                                 <span class="token comment">//ä»¥TABæŒ‰é”®éš”å¼€</span>    <span class="token punctuation">&#125;</span>    stream<span class="token operator">&lt;&lt;</span>str<span class="token operator">&lt;&lt;</span><span class="token string">"\n"</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//è·å–æ•°æ®åŒºæ–‡å­—</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m_model<span class="token operator">-></span><span class="token function">rowCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        str <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> m_model<span class="token operator">-></span><span class="token function">columnCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            item <span class="token operator">=</span> m_model<span class="token operator">-></span><span class="token function">item</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>            str <span class="token operator">=</span> str <span class="token operator">+</span> item<span class="token operator">-></span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\t\t"</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        stream<span class="token operator">&lt;&lt;</span>str<span class="token operator">&lt;&lt;</span><span class="token string">"\n"</span><span class="token punctuation">;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//åœ¨å½“å‰é€‰ä¸­çš„ä¸€è¡Œï¼Œå…¶å‰é¢æ’å…¥ä¸€è¡Œ</span><span class="token keyword">void</span> <span class="token class-name">ExQStandardItemModel</span><span class="token double-colon punctuation">::</span><span class="token function">on_actInsert_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QList<span class="token operator">&lt;</span>QStandardItem <span class="token operator">*</span><span class="token operator">></span> list<span class="token punctuation">;</span>    QStandardItem <span class="token operator">*</span>item<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> COLUMN <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QStandardItem</span><span class="token punctuation">(</span><span class="token string">"æ’å…¥ä¸€è¡Œ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        list<span class="token operator">&lt;&lt;</span>item<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    QString str <span class="token operator">=</span> m_model<span class="token operator">-></span><span class="token function">headerData</span><span class="token punctuation">(</span>m_model<span class="token operator">-></span><span class="token function">columnCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>Horizontal<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>DisplayRole<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QStandardItem</span><span class="token punctuation">(</span>str <span class="token operator">+</span> <span class="token string">"æ’å…¥ä¸€è¡Œ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    item<span class="token operator">-></span><span class="token function">setCheckable</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    list<span class="token operator">&lt;&lt;</span>item<span class="token punctuation">;</span>    QModelIndex currIndex <span class="token operator">=</span> m_selectModet<span class="token operator">-></span><span class="token function">currentIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_model<span class="token operator">-></span><span class="token function">insertRow</span><span class="token punctuation">(</span>currIndex<span class="token punctuation">.</span><span class="token function">row</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">//åœ¨å½“å‰è¡Œçš„å‰é¢æ’å…¥ä¸€è¡Œ</span>    m_selectModet<span class="token operator">-></span><span class="token function">clearSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_selectModet<span class="token operator">-></span><span class="token function">setCurrentIndex</span><span class="token punctuation">(</span>currIndex<span class="token punctuation">,</span> QItemSelectionModel<span class="token double-colon punctuation">::</span>Select<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//åˆ é™¤ä¸€è¡Œ</span><span class="token keyword">void</span> <span class="token class-name">ExQStandardItemModel</span><span class="token double-colon punctuation">::</span><span class="token function">on_actDelete_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QModelIndex currIndex <span class="token operator">=</span> m_selectModet<span class="token operator">-></span><span class="token function">currentIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_model<span class="token operator">-></span><span class="token function">removeRow</span><span class="token punctuation">(</span>currIndex<span class="token punctuation">.</span><span class="token function">row</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//å…³é—­é€€å‡º</span><span class="token keyword">void</span> <span class="token class-name">ExQStandardItemModel</span><span class="token double-colon punctuation">::</span><span class="token function">on_actExit_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//é¢„è§ˆæ•°æ®æ¨¡å‹:æ¨¡å‹æ•°æ®å¯¼å‡ºåˆ°PlainTextEditæ˜¾ç¤º</span><span class="token keyword">void</span> <span class="token class-name">ExQStandardItemModel</span><span class="token double-colon punctuation">::</span><span class="token function">on_actModelData_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                                          <span class="token comment">//ç”¨æ–‡æœ¬æµè¯»å–æ–‡ä»¶</span>    QStandardItem <span class="token operator">*</span>item<span class="token punctuation">;</span>    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span>    <span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    QString str <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//è·å–è¡¨å¤´æ–‡å­—</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m_model<span class="token operator">-></span><span class="token function">columnCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        item <span class="token operator">=</span>  m_model<span class="token operator">-></span><span class="token function">horizontalHeaderItem</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        str <span class="token operator">=</span> str <span class="token operator">+</span> item<span class="token operator">-></span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\t\t"</span><span class="token punctuation">;</span>                                 <span class="token comment">//ä»¥TABæŒ‰é”®éš”å¼€</span>    <span class="token punctuation">&#125;</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//è·å–æ•°æ®åŒºæ–‡å­—</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m_model<span class="token operator">-></span><span class="token function">rowCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        str <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> m_model<span class="token operator">-></span><span class="token function">columnCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            item <span class="token operator">=</span> m_model<span class="token operator">-></span><span class="token function">item</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>            str <span class="token operator">=</span> str <span class="token operator">+</span> item<span class="token operator">-></span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\t\t"</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//å·¦å¯¹é½</span><span class="token keyword">void</span> <span class="token class-name">ExQStandardItemModel</span><span class="token double-colon punctuation">::</span><span class="token function">on_actAlignLeft_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>m_selectModet<span class="token operator">-></span><span class="token function">hasSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    QModelIndexList list <span class="token operator">=</span> m_selectModet<span class="token operator">-></span><span class="token function">selectedIndexes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//è·å¾—é€‰ä¸­çš„List&lt;item></span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> list<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        QModelIndex index <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        QStandardItem <span class="token operator">*</span>item <span class="token operator">=</span> m_model<span class="token operator">-></span><span class="token function">itemFromIndex</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>        item<span class="token operator">-></span><span class="token function">setTextAlignment</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>AlignLeft<span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token comment">//è®¾ç½®æ–‡æœ¬å·¦å¯¹é½</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ–‡æœ¬å±…ä¸­</span><span class="token keyword">void</span> <span class="token class-name">ExQStandardItemModel</span><span class="token double-colon punctuation">::</span><span class="token function">on_actAlignCenter_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>m_selectModet<span class="token operator">-></span><span class="token function">hasSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    QModelIndexList list <span class="token operator">=</span> m_selectModet<span class="token operator">-></span><span class="token function">selectedIndexes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//è·å¾—é€‰ä¸­çš„List&lt;item></span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> list<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        QModelIndex index <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>                          <span class="token comment">//è·å–ä¸€ä¸ªæ¨¡å‹ç´¢å¼•</span>        QStandardItem <span class="token operator">*</span>item <span class="token operator">=</span> m_model<span class="token operator">-></span><span class="token function">itemFromIndex</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>        item<span class="token operator">-></span><span class="token function">setTextAlignment</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>AlignCenter<span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">//è®¾ç½®æ–‡æœ¬å±…ä¸­</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ–‡æœ¬å³å¯¹é½</span><span class="token keyword">void</span> <span class="token class-name">ExQStandardItemModel</span><span class="token double-colon punctuation">::</span><span class="token function">on_actAlingRight_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>m_selectModet<span class="token operator">-></span><span class="token function">hasSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    QModelIndexList list <span class="token operator">=</span> m_selectModet<span class="token operator">-></span><span class="token function">selectedIndexes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> list<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        QModelIndex index <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        QStandardItem <span class="token operator">*</span>item <span class="token operator">=</span> m_model<span class="token operator">-></span><span class="token function">itemFromIndex</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>        item<span class="token operator">-></span><span class="token function">setTextAlignment</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>AlignRight<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ–‡æœ¬åŠ ç²—</span><span class="token keyword">void</span> <span class="token class-name">ExQStandardItemModel</span><span class="token double-colon punctuation">::</span><span class="token function">on_actBold_triggered</span><span class="token punctuation">(</span><span class="token keyword">bool</span> checked<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>m_selectModet<span class="token operator">-></span><span class="token function">hasSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    QModelIndexList list <span class="token operator">=</span> m_selectModet<span class="token operator">-></span><span class="token function">selectedIndexes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> list<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        QModelIndex index <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        QStandardItem <span class="token operator">*</span>item <span class="token operator">=</span> m_model<span class="token operator">-></span><span class="token function">itemFromIndex</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>        QFont font <span class="token operator">=</span> item<span class="token operator">-></span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        font<span class="token punctuation">.</span><span class="token function">setBold</span><span class="token punctuation">(</span>checked<span class="token punctuation">)</span><span class="token punctuation">;</span>        item<span class="token operator">-></span><span class="token function">setFont</span><span class="token punctuation">(</span>font<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä»£ç†éƒ¨åˆ†ï¼š"><a href="#ä»£ç†éƒ¨åˆ†ï¼š" class="headerlink" title="ä»£ç†éƒ¨åˆ†ï¼š"></a>ä»£ç†éƒ¨åˆ†ï¼š</h3><p>åœ¨ <strong>.h</strong>å¤´æ–‡ä»¶</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">EXDELEGATE_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">EXDELEGATE_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QStyledItemDelegate></span></span><span class="token keyword">class</span> <span class="token class-name">ExDelegate</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QStyledItemDelegate</span></span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">ExDelegate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token comment">//è‹¥æ˜¯å†™ä»£ç†çš„ç»„ä»¶ï¼Œé‚£ä¹ˆå¿…é¡»è¦æœ‰ä¸‹é¢è¿™æ˜¯ä¸ªé‡å†™è¿™å››ä¸ªå‡½æ•°</span>    <span class="token keyword">virtual</span> QWidget<span class="token operator">*</span> <span class="token function">createEditor</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOptionViewItem <span class="token operator">&amp;</span>option<span class="token punctuation">,</span> <span class="token keyword">const</span> QModelIndex <span class="token operator">&amp;</span>index<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span>      <span class="token comment">//åˆ›å»ºç”¨äºç¼–è¾‘çš„æ¨¡å‹æ•°æ®çš„widgetç»„ä»¶ï¼Œå¦‚ä¸€ä¸ªQComboBoxç»„ä»¶</span>    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">setEditorData</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>editor<span class="token punctuation">,</span> <span class="token keyword">const</span> QModelIndex <span class="token operator">&amp;</span>index<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span>                                             <span class="token comment">//ä»æ•°æ®æ¨¡å‹è·å–æ•°æ®ï¼Œæ˜¾ç¤ºåœ¨ä»£ç†ç»„ä»¶editorä¹‹ä¸­ï¼Œè®©å…¶ç¼–è¾‘</span>    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">setModelData</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>editor<span class="token punctuation">,</span> QAbstractItemModel <span class="token operator">*</span>model<span class="token punctuation">,</span> <span class="token keyword">const</span> QModelIndex <span class="token operator">&amp;</span>index<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span>                   <span class="token comment">//ä»£ç†ç»„ä»¶editorä¸Šçš„æ•°æ®æ›´æ–°åˆ°æ•°æ®æ¨¡å‹</span>    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">updateEditorGeometry</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>editor<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOptionViewItem <span class="token operator">&amp;</span>option<span class="token punctuation">,</span> <span class="token keyword">const</span> QModelIndex <span class="token operator">&amp;</span>index<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span>  <span class="token comment">//ç”¨äºç»™widgetç»„ä»¶è®¾ç½®ä¸€ä¸ªåˆé€‚çš„å¤§å°</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// EXDELEGATE_H</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨ <strong>.cpp</strong>å¤´æ–‡ä»¶</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ExDelegate.h"</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QComboBox></span></span><span class="token class-name">ExDelegate</span><span class="token double-colon punctuation">::</span><span class="token function">ExDelegate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token comment">//åˆ›å»ºç”¨äºç¼–è¾‘çš„æ¨¡å‹æ•°æ®çš„widgetç»„ä»¶ï¼Œå¦‚ä¸€ä¸ªQComboBoxç»„ä»¶</span>QWidget <span class="token operator">*</span><span class="token class-name">ExDelegate</span><span class="token double-colon punctuation">::</span><span class="token function">createEditor</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOptionViewItem <span class="token operator">&amp;</span>option<span class="token punctuation">,</span> <span class="token keyword">const</span> QModelIndex <span class="token operator">&amp;</span>index<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">&#123;</span>    QComboBox <span class="token operator">*</span>comboBox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QComboBox</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>    comboBox<span class="token operator">-></span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">"githubï¼šhttps://github.com/touwoyimuli"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    comboBox<span class="token operator">-></span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">"csdnåšå®¢ï¼šhttps://blog.csdn.net/qq_33154343"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    comboBox<span class="token operator">-></span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">"github.ioåšå®¢ï¼šhttps://touwoyimuli.github.io/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    comboBox<span class="token operator">-></span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">"https://www.google.com/ qt å­¦ä¹  åŠ æ²¹ 2019-09-30"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span>  comboBox<span class="token punctuation">;</span>                      <span class="token comment">//è¿”å›æ­¤ç¼–è¾‘å™¨</span><span class="token punctuation">&#125;</span><span class="token comment">//ä»æ•°æ®æ¨¡å‹è·å–æ•°æ®ï¼Œæ˜¾ç¤ºåœ¨ä»£ç†ç»„ä»¶ä¹‹ä¸­ï¼Œè®©å…¶ç¼–è¾‘</span><span class="token keyword">void</span> <span class="token class-name">ExDelegate</span><span class="token double-colon punctuation">::</span><span class="token function">setEditorData</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>editor<span class="token punctuation">,</span> <span class="token keyword">const</span> QModelIndex <span class="token operator">&amp;</span>index<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">&#123;</span>    QString str <span class="token operator">=</span> index<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">data</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>EditRole<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QComboBox <span class="token operator">*</span>comboBox <span class="token operator">=</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>QComboBox <span class="token operator">*</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>editor<span class="token punctuation">)</span><span class="token punctuation">;</span>    comboBox<span class="token operator">-></span><span class="token function">addItem</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//å…¶ä»–ç»„ä»¶çš„è¯ï¼Œ æ­¤å¤„å¯ä»¥è®¾å®šå†™çš„å€¼ä¸€ç±»ï¼Œegï¼šsetText(str)  setValue()</span><span class="token punctuation">&#125;</span><span class="token comment">//å°†widgetä¸Šçš„æ•°æ®æ›´æ–°åˆ°æ•°æ®æ¨¡å‹</span><span class="token keyword">void</span> <span class="token class-name">ExDelegate</span><span class="token double-colon punctuation">::</span><span class="token function">setModelData</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>editor<span class="token punctuation">,</span> QAbstractItemModel <span class="token operator">*</span>model<span class="token punctuation">,</span> <span class="token keyword">const</span> QModelIndex <span class="token operator">&amp;</span>index<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">&#123;</span>    QComboBox <span class="token operator">*</span>comboBox <span class="token operator">=</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>QComboBox <span class="token operator">*</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>editor<span class="token punctuation">)</span><span class="token punctuation">;</span>    QString str <span class="token operator">=</span> comboBox<span class="token operator">-></span><span class="token function">currentText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    model<span class="token operator">-></span><span class="token function">setData</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> str<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>EditRole<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//ç”¨äºç»™widgetç»„ä»¶è®¾ç½®ä¸€ä¸ªåˆé€‚çš„å¤§å°</span><span class="token keyword">void</span> <span class="token class-name">ExDelegate</span><span class="token double-colon punctuation">::</span><span class="token function">updateEditorGeometry</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>editor<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOptionViewItem <span class="token operator">&amp;</span>option<span class="token punctuation">,</span> <span class="token keyword">const</span> QModelIndex <span class="token operator">&amp;</span>index<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">&#123;</span>    editor<span class="token operator">-></span><span class="token function">setGeometry</span><span class="token punctuation">(</span>option<span class="token punctuation">.</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//è®¾ç½®ç»„ä»¶çš„å¤§å°</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><a href="https://github.com/xmuli/QtExamples">https://github.com/xmuli/QtExamples</a>ã€QtQStandardItemModelExã€‘</p>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>getOpenFileNameæ ‡å‡†å¯¹è¯æ¡†å’Œè‡ªå®šä¹‰å¯¹è¯æ¡†çš„ä½¿ç”¨</title>
      <link href="/posts/e996031c/"/>
      <url>/posts/e996031c/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  äº†è§£æ ‡å‡†å¯¹è¯æ¡†å’Œè‡ªå®šä¹‰çš„å¯¹è¯æ¡†çš„ä½¿ç”¨ï¼Œä¹¦å†™ä¸€ä¸ªç®€å•åœ°ä¾‹å­ï¼›ç„¶åå†™äº†ä¸€ä¸ªå°çš„<code>Qt</code>ä¾‹å­ï¼Œç”¨æ¥å®ç°å’ŒéªŒè¯å®ƒçš„ç©ºé—´çš„ä¸€äº›å±æ€§å’ŒåŠŸèƒ½çš„ç”¨æ³•ã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-12_21-54-52_mark.png"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ç³»ç»Ÿç¯å¢ƒï¼š"><a href="#ç³»ç»Ÿç¯å¢ƒï¼š" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒï¼š"></a>ç³»ç»Ÿç¯å¢ƒï¼š</h2><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>MacOS 10.14.6 (18G103)</code>     <strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong> <code>Qt 5.9.8</code>ï¼Œ <code>Qt Creator 4.8.2</code></p><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>win10 x64 ä¸“ä¸šç‰ˆ 1803</code>   <strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>Qt 5.9.8</code>ï¼Œ<code>Qt Creator 4.8.2 (Enterprise)</code></p><br><h2 id="æ ‡å‡†å¯¹è¯æ¡†ï¼š"><a href="#æ ‡å‡†å¯¹è¯æ¡†ï¼š" class="headerlink" title="æ ‡å‡†å¯¹è¯æ¡†ï¼š"></a>æ ‡å‡†å¯¹è¯æ¡†ï¼š</h2><p>ä¸€ä¸ªè½¯ä»¶çš„è®¾è®¡ï¼Œæœ€ååŒ…å«ç€å¾ˆå¤šçš„å¾ˆå¤šä¸ªçª—ä½“ä¹‹é—´çš„äº¤äº’ï¼Œè€Œä¸”ä¼šæœ‰å¾ˆå¤šè‡ªå®šä¹‰çš„å¯¹è¯æ¡†å’Œç³»ç»Ÿçš„æ ‡å‡†æ¶ˆæ¯å¯¹è¯æ¡†ç­‰å‡ºç°ï¼Œæ¯”å¦‚è¯´ï¼šæ–‡ä»¶å¯¹è¯æ¡†ï¼Œé¢œè‰²å¯¹è¯æ¡†ï¼Œå­—ä½“å¯¹è¯æ¡†ï¼Œæ¶ˆæ¯å¯¹è¯æ¡†å’Œç¡®è®¤å¯¹è¯æ¡†ç­‰ç­‰ã€‚</p><br><ul><li><input checked="" disabled="" type="checkbox"> <code>QFileDialog</code>  <strong>æ–‡ä»¶å¯¹è¯æ¡†</strong></li><li><input checked="" disabled="" type="checkbox"> <code>QColorDialog</code>  <strong>é¢œè‰²å¯¹è¯æ¡†</strong></li><li><input checked="" disabled="" type="checkbox"> <code>QFontDialog</code>  <strong>å­—ä½“å¯¹è¯æ¡†</strong></li><li><input checked="" disabled="" type="checkbox"> <code>QInputDialog</code>  <strong>è¾“å…¥å¯¹è¯æ¡†</strong></li><li><input checked="" disabled="" type="checkbox"> <code>QMessageBox</code>  <strong>æ¶ˆæ¯å¯¹è¯æ¡†</strong></li></ul><p>ä¸‹é¢å±•ç¤ºä¸€ä¸‹ä¸Šé¢è¿™äº›åœ¨<code>windows</code>å’Œ<code>macOS</code>ä¸Šé¢çš„æ ·å¼ï¼š</p><h3 id="æ ‡å‡†æ¶ˆæ¯å¯¹è¯æ¡†ï¼š"><a href="#æ ‡å‡†æ¶ˆæ¯å¯¹è¯æ¡†ï¼š" class="headerlink" title="æ ‡å‡†æ¶ˆæ¯å¯¹è¯æ¡†ï¼š"></a>æ ‡å‡†æ¶ˆæ¯å¯¹è¯æ¡†ï¼š</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">information</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"ä¿¡æ¯æ¶ˆæ¯å¯¹è¯æ¡†"</span><span class="token punctuation">,</span> <span class="token string">"informationå¯¹è¯æ¡†çš„å†…å®¹"</span><span class="token punctuation">,</span> QMessageBox<span class="token double-colon punctuation">::</span>Ok<span class="token punctuation">,</span> QMessageBox<span class="token double-colon punctuation">::</span>NoButton<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">warning</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"è­¦å‘Šæ¶ˆæ¯å¯¹è¯æ¡†"</span><span class="token punctuation">,</span> <span class="token string">"warningå¯¹è¯æ¡†çš„å†…å®¹"</span><span class="token punctuation">,</span> QMessageBox<span class="token double-colon punctuation">::</span>Ok<span class="token punctuation">,</span> QMessageBox<span class="token double-colon punctuation">::</span>NoButton<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">critical</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"å±æœºæ¶ˆæ¯å¯¹è¯æ¡†"</span><span class="token punctuation">,</span> <span class="token string">"criticalå¯¹è¯æ¡†çš„å†…å®¹"</span><span class="token punctuation">,</span> QMessageBox<span class="token double-colon punctuation">::</span>Ok<span class="token punctuation">,</span> QMessageBox<span class="token double-colon punctuation">::</span>NoButton<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">about</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"å…³äºæ¶ˆæ¯å¯¹è¯æ¡†"</span><span class="token punctuation">,</span> <span class="token string">"abou ä½œè€…: æŠ•æˆ‘ä»¥æœ¨æï¼ŒæŠ¥ä¹‹ä»¥ç¼ç–"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">aboutQt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"å…³äºQtæ¶ˆæ¯å¯¹è¯æ¡†"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>macæ ·å¼ï¼š</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-12_21-11-51_mark.png"/ loading="lazy"><ul><li>winæ ·å¼ï¼š</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191013_162030_17_mark.jpg"/ loading="lazy"><br><h3 id="QFileDialogæ–‡ä»¶å¯¹è¯æ¡†ï¼š"><a href="#QFileDialogæ–‡ä»¶å¯¹è¯æ¡†ï¼š" class="headerlink" title="QFileDialogæ–‡ä»¶å¯¹è¯æ¡†ï¼š"></a>QFileDialogæ–‡ä»¶å¯¹è¯æ¡†ï¼š</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">QString fileNmae <span class="token operator">=</span> <span class="token class-name">QFileDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getOpenFileName</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶"</span><span class="token punctuation">,</span> path<span class="token punctuation">,</span> fileter<span class="token punctuation">)</span><span class="token punctuation">;</span>QString path <span class="token operator">=</span> <span class="token class-name">QFileDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getExistingDirectory</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"é€‰æ‹©ä¸€ä¸ªç›®å½•ã€éæ–‡ä»¶ã€‘"</span><span class="token punctuation">,</span> currPath<span class="token punctuation">,</span> QFileDialog<span class="token double-colon punctuation">::</span>ShowDirsOnly<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//æœ€åä¸€ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºåªæ˜¾ç¤ºè·¯å¾„</span>QString fileNmae <span class="token operator">=</span> <span class="token class-name">QFileDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getSaveFileName</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"ä¿å­˜æ–‡ä»¶"</span><span class="token punctuation">,</span> path<span class="token punctuation">,</span> fileter<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h3 id="QColorDialogé¢œè‰²å¯¹è¯æ¡†"><a href="#QColorDialogé¢œè‰²å¯¹è¯æ¡†" class="headerlink" title="QColorDialogé¢œè‰²å¯¹è¯æ¡†:"></a>QColorDialogé¢œè‰²å¯¹è¯æ¡†:</h3><p>é¢œè‰²å¯¹è¯æ¡†å¦‚ä¸‹å›¾æ‰€ç¤º</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">QColor color <span class="token operator">=</span> <span class="token class-name">QColorDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getColor</span><span class="token punctuation">(</span>initColor<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"é€‰æ‹©é¢œè‰²"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-12_21-53-18_mark.png"/ loading="lazy">     <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191014_000359_1_mark.jpg"/ loading="lazy"></p><br><h3 id="QFontDialogå­—ä½“å¯¹è¯æ¡†"><a href="#QFontDialogå­—ä½“å¯¹è¯æ¡†" class="headerlink" title="QFontDialogå­—ä½“å¯¹è¯æ¡†:"></a>QFontDialogå­—ä½“å¯¹è¯æ¡†:</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">bool</span> ok <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>QFont font <span class="token operator">=</span> <span class="token class-name">QFontDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getFont</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>ok<span class="token punctuation">,</span> initFont<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-12_21-53-29_mark.png"/ loading="lazy"><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191212223615.png"/ loading="lazy"></p><br><h3 id="æ ‡å‡†æ¶ˆæ¯è¾“å…¥å¯¹è¯æ¡†ï¼š"><a href="#æ ‡å‡†æ¶ˆæ¯è¾“å…¥å¯¹è¯æ¡†ï¼š" class="headerlink" title="æ ‡å‡†æ¶ˆæ¯è¾“å…¥å¯¹è¯æ¡†ï¼š"></a>æ ‡å‡†æ¶ˆæ¯è¾“å…¥å¯¹è¯æ¡†ï¼š</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">QString text <span class="token operator">=</span> <span class="token class-name">QInputDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"è¾“å…¥æ–‡å­—å¯¹è¯æ¡†"</span><span class="token punctuation">,</span> <span class="token string">"è¯·è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²"</span><span class="token punctuation">,</span> QLineEdit<span class="token double-colon punctuation">::</span>Normal<span class="token punctuation">,</span> <span class="token string">"é»˜è®¤è¾“å…¥çš„å­—ç¬¦ä¸²"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>ok<span class="token punctuation">)</span><span class="token punctuation">;</span>QStringList list<span class="token punctuation">;</span>    list<span class="token operator">&lt;&lt;</span><span class="token string">"2019-10-02"</span><span class="token operator">&lt;&lt;</span><span class="token string">"04:28"</span><span class="token operator">&lt;&lt;</span><span class="token string">"åœ¨æ­¦æ±‰çš„å§å®¤"</span><span class="token operator">&lt;&lt;</span><span class="token string">"æ•²ä»£ç "</span><span class="token operator">&lt;&lt;</span><span class="token string">"è¿™ä¼šæ²¡æœ‰å›°æ„"</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">bool</span> editable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>   <span class="token comment">//ComboBoxæ˜¯å¦å¯ç¼–è¾‘</span>    <span class="token keyword">bool</span> ok <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    QString text <span class="token operator">=</span> <span class="token class-name">QInputDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"è¾“å…¥itemå¯¹è¯æ¡†"</span><span class="token punctuation">,</span> <span class="token string">"è¯·é€‰æ‹©ä¸€ä¸ªitem"</span><span class="token punctuation">,</span> list<span class="token punctuation">,</span> index<span class="token punctuation">,</span> editable<span class="token punctuation">,</span> <span class="token operator">&amp;</span>ok<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">bool</span> ok <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> val <span class="token operator">=</span> <span class="token class-name">QInputDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"è¾“å…¥æ•´æ•°å¯¹è¯æ¡†"</span><span class="token punctuation">,</span> <span class="token string">"è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°æ”¹å˜å­—ä½“å¤§å°"</span><span class="token punctuation">,</span> size<span class="token punctuation">,</span> min<span class="token punctuation">,</span> max<span class="token punctuation">,</span> stepVal<span class="token punctuation">,</span> <span class="token operator">&amp;</span>ok<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">bool</span> ok <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token keyword">double</span> ret <span class="token operator">=</span> <span class="token class-name">QInputDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getDouble</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"è¾“å…¥æµ®ç‚¹æ•°å¯¹è¯æ¡†"</span><span class="token punctuation">,</span> <span class="token string">"è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°æ”¹å˜å­—ä½“å¤§å°"</span><span class="token punctuation">,</span> d<span class="token punctuation">,</span> min<span class="token punctuation">,</span> max<span class="token punctuation">,</span> val<span class="token punctuation">,</span> <span class="token operator">&amp;</span>ok<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191208_225638.gif"/ loading="lazy"><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191212_214919.gif"/ loading="lazy"><br><h2 id="æºç åˆ†æï¼š"><a href="#æºç åˆ†æï¼š" class="headerlink" title="æºç åˆ†æï¼š"></a>æºç åˆ†æï¼š</h2><p>å…¶ä¸­æ ¸å¿ƒéƒ¨åˆ†çš„æºç ï¼Œé‡ç‚¹å’Œä¸€äº›éš¾ç‚¹ä»¥åŠéœ€è¦æ³¨æ„çš„ä¸€äº›åœ°æ–¹ï¼Œè´´å‡ºæ¥å¦‚ä¸‹ï¼Œ</p><p>å…¶ä¸­  <strong>.h</strong> æ–‡ä»¶å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">EXDIALOG_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">EXDIALOG_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QDialog></span></span><span class="token keyword">namespace</span> Ui <span class="token punctuation">&#123;</span><span class="token keyword">class</span> <span class="token class-name">ExDialog</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">ExDialog</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QDialog</span></span><span class="token punctuation">&#123;</span>    Q_OBJECT<span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">explicit</span> <span class="token function">ExDialog</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">~</span><span class="token function">ExDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">private</span> slots<span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">on_btnOpenFile_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶</span>    <span class="token keyword">void</span> <span class="token function">on_btnOpenFiles_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//æ‰“å¼€å¤šä¸ªæ–‡ä»¶</span>    <span class="token keyword">void</span> <span class="token function">on_btnExistingDir_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//é€‰æ‹©å·²æœ‰ç›®å½•</span>    <span class="token keyword">void</span> <span class="token function">on_btnGetColor_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//é€‰æ‹©é¢œè‰²</span>    <span class="token keyword">void</span> <span class="token function">on_btnGetFont_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">//é€‰æ‹©å­—ä½“</span>    <span class="token keyword">void</span> <span class="token function">on_btnSaveFile_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//ä¿å­˜æ–‡ä»¶</span>    <span class="token keyword">void</span> <span class="token function">on_btnQuestion_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">on_btnInformation_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">on_btnWarning_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">on_btnCritical_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">on_btnAbout_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">on_btnAboutQt_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">on_btnGetString_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//è¾“å…¥å­—ç¬¦ä¸²</span>    <span class="token keyword">void</span> <span class="token function">on_btnGetItem_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">//itemé€‰æ‹©è¾“å…¥</span>    <span class="token keyword">void</span> <span class="token function">on_btnInt_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">//è¾“å…¥æ•´æ•°</span>    <span class="token keyword">void</span> <span class="token function">on_btnDouble_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">//è¾“å…¥æµ®ç‚¹æ•°</span><span class="token keyword">private</span><span class="token operator">:</span>    Ui<span class="token double-colon punctuation">::</span>ExDialog <span class="token operator">*</span>ui<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// EXDIALOG_H</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å…¶ä¸­  <strong>.cpp</strong> æ–‡ä»¶å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ExDialog.h"</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ui_ExDialog.h"</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QFileDialog></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QColorDialog></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QFontDialog></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QInputDialog></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QMessageBox></span></span><span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">ExDialog</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span> <span class="token operator">:</span>    <span class="token function">QDialog</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token double-colon punctuation">::</span>ExDialog<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token class-name">QObject</span><span class="token double-colon punctuation">::</span><span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"æ–‡ä»¶ã€é¢œè‰²ã€å­—ä½“ã€ä¿å­˜ã€æ¶ˆæ¯ã€è¾“å…¥ç­‰å¯¹è¯æ¡†ä½¿ç”¨"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">ExDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">delete</span> ui<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ ‡å‡†æ–‡ä»¶å¯¹è¯æ¡†QFileDialog+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnOpenFile_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString path <span class="token operator">=</span> <span class="token class-name">QDir</span><span class="token double-colon punctuation">::</span><span class="token function">currentPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">//è·å–åº”ç”¨ç¨‹åºå½“å‰ç›®å½•</span>    QString fileter <span class="token operator">=</span> <span class="token string">"æ–‡æœ¬æ–‡ä»¶(*.txt);;å›¾ç‰‡æ–‡ä»¶(*.jpg *.gif);;æ‰€æœ‰æ–‡ä»¶(*.*)"</span><span class="token punctuation">;</span>    QString fileNmae <span class="token operator">=</span> <span class="token class-name">QFileDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getOpenFileName</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶"</span><span class="token punctuation">,</span> path<span class="token punctuation">,</span> fileter<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> fileNmae<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span>fileNmae<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnOpenFiles_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString path <span class="token operator">=</span> <span class="token class-name">QDir</span><span class="token double-colon punctuation">::</span><span class="token function">currentPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">//è·å–åº”ç”¨ç¨‹åºå½“å‰ç›®å½•</span>    QString fileter <span class="token operator">=</span> <span class="token string">"æ–‡æœ¬æ–‡ä»¶(*.txt);;å›¾ç‰‡æ–‡ä»¶(*.jpg *.gif);;æ‰€æœ‰æ–‡ä»¶(*.*)"</span><span class="token punctuation">;</span>    QStringList fileNmaeList <span class="token operator">=</span> <span class="token class-name">QFileDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getOpenFileNames</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"é€‰æ‹©å¤šä¸ªæ–‡ä»¶"</span><span class="token punctuation">,</span> path<span class="token punctuation">,</span> fileter<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> fileNmaeList<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span>fileNmaeList<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnExistingDir_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString currPath <span class="token operator">=</span> <span class="token class-name">QCoreApplication</span><span class="token double-colon punctuation">::</span><span class="token function">applicationDirPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è·å–åº”ç”¨ç¨‹åºå½“å‰ç›®å½•</span>    QString path <span class="token operator">=</span> <span class="token class-name">QFileDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getExistingDirectory</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"é€‰æ‹©ä¸€ä¸ªç›®å½•ã€éæ–‡ä»¶ã€‘"</span><span class="token punctuation">,</span> currPath<span class="token punctuation">,</span> QFileDialog<span class="token double-colon punctuation">::</span>ShowDirsOnly<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//æœ€åä¸€ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºåªæ˜¾ç¤ºè·¯å¾„</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>path<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnGetColor_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QPalette pal <span class="token operator">=</span> ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">palette</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">//è·å–æ¡è°ƒè‰²æ¿</span>    QColor initColor <span class="token operator">=</span> pal<span class="token punctuation">.</span><span class="token function">color</span><span class="token punctuation">(</span>QPalette<span class="token double-colon punctuation">::</span>Text<span class="token punctuation">)</span><span class="token punctuation">;</span>    QColor color <span class="token operator">=</span> <span class="token class-name">QColorDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getColor</span><span class="token punctuation">(</span>initColor<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"é€‰æ‹©é¢œè‰²"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>color<span class="token punctuation">.</span><span class="token function">isValid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                                    <span class="token comment">//å› ä¸ºæ²¡æœ‰.isEmpty(),æ•…è€Œä½¿ç”¨.isValid()æ¥åˆ¤æ–­</span>        pal<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>QPalette<span class="token double-colon punctuation">::</span>Text<span class="token punctuation">,</span> color<span class="token punctuation">)</span><span class="token punctuation">;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">setPalette</span><span class="token punctuation">(</span>pal<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnGetFont_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QFont initFont <span class="token operator">=</span> ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">bool</span> ok <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    QFont font <span class="token operator">=</span> <span class="token class-name">QFontDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getFont</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>ok<span class="token punctuation">,</span> initFont<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ok<span class="token punctuation">)</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">setFont</span><span class="token punctuation">(</span>font<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnSaveFile_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString path <span class="token operator">=</span> <span class="token class-name">QDir</span><span class="token double-colon punctuation">::</span><span class="token function">currentPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">//è·å–åº”ç”¨ç¨‹åºå½“å‰ç›®å½•</span>    QString fileter <span class="token operator">=</span> <span class="token string">"å¤´æ–‡ä»¶(*.h);;æºæ–‡ä»¶(*.cpp);;æ‰€æœ‰æ–‡ä»¶(*.*)"</span><span class="token punctuation">;</span>    QString fileNmae <span class="token operator">=</span> <span class="token class-name">QFileDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getSaveFileName</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"ä¿å­˜æ–‡ä»¶"</span><span class="token punctuation">,</span> path<span class="token punctuation">,</span> fileter<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>fileNmae<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span>fileNmae<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ ‡å‡†æ¶ˆæ¯å¯¹è¯æ¡†+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnQuestion_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QMessageBox<span class="token double-colon punctuation">::</span>StandardButton ret <span class="token operator">=</span> <span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">question</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"é—®é¢˜æ¶ˆæ¯å¯¹è¯æ¡†"</span><span class="token punctuation">,</span> <span class="token string">"questionå¯¹è¯æ¡†çš„å†…å®¹"</span><span class="token punctuation">,</span>  QMessageBox<span class="token double-colon punctuation">::</span>Yes <span class="token operator">|</span> QMessageBox<span class="token double-colon punctuation">::</span>No <span class="token operator">|</span> QMessageBox<span class="token double-colon punctuation">::</span>Close<span class="token punctuation">,</span> QMessageBox<span class="token double-colon punctuation">::</span>NoButton<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">switch</span> <span class="token punctuation">(</span>ret<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">case</span> QMessageBox<span class="token double-colon punctuation">::</span>Yes<span class="token operator">:</span> <span class="token punctuation">&#123;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"QMessageBox::yes æŒ‰é’®è¢«é€‰ä¸­"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">case</span> QMessageBox<span class="token double-colon punctuation">::</span>No<span class="token operator">:</span> <span class="token punctuation">&#123;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"QMessageBox::No æŒ‰é’®è¢«é€‰ä¸­"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">case</span> QMessageBox<span class="token double-colon punctuation">::</span>Close<span class="token operator">:</span> <span class="token punctuation">&#123;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"QMessageBox::Close æŒ‰é’®è¢«é€‰ä¸­"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"è¿™æ˜¯ switch çš„default çš„é€‰é¡¹"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnInformation_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">information</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"ä¿¡æ¯æ¶ˆæ¯å¯¹è¯æ¡†"</span><span class="token punctuation">,</span> <span class="token string">"informationå¯¹è¯æ¡†çš„å†…å®¹"</span><span class="token punctuation">,</span> QMessageBox<span class="token double-colon punctuation">::</span>Ok<span class="token punctuation">,</span> QMessageBox<span class="token double-colon punctuation">::</span>NoButton<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnWarning_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">warning</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"è­¦å‘Šæ¶ˆæ¯å¯¹è¯æ¡†"</span><span class="token punctuation">,</span> <span class="token string">"warningå¯¹è¯æ¡†çš„å†…å®¹"</span><span class="token punctuation">,</span> QMessageBox<span class="token double-colon punctuation">::</span>Ok<span class="token punctuation">,</span> QMessageBox<span class="token double-colon punctuation">::</span>NoButton<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnCritical_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">critical</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"å±æœºæ¶ˆæ¯å¯¹è¯æ¡†"</span><span class="token punctuation">,</span> <span class="token string">"criticalå¯¹è¯æ¡†çš„å†…å®¹"</span><span class="token punctuation">,</span> QMessageBox<span class="token double-colon punctuation">::</span>Ok<span class="token punctuation">,</span> QMessageBox<span class="token double-colon punctuation">::</span>NoButton<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnAbout_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">about</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"å…³äºæ¶ˆæ¯å¯¹è¯æ¡†"</span><span class="token punctuation">,</span> <span class="token string">"abou ä½œè€…: æŠ•æˆ‘ä»¥æœ¨æï¼ŒæŠ¥ä¹‹ä»¥ç¼ç–"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnAboutQt_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">aboutQt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"å…³äºQtæ¶ˆæ¯å¯¹è¯æ¡†"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ ‡å‡†è¾“å…¥å¯¹è¯æ¡†QInputDialog+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnGetString_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">bool</span> ok <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    QString text <span class="token operator">=</span> <span class="token class-name">QInputDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"è¾“å…¥æ–‡å­—å¯¹è¯æ¡†"</span><span class="token punctuation">,</span> <span class="token string">"è¯·è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²"</span><span class="token punctuation">,</span> QLineEdit<span class="token double-colon punctuation">::</span>Normal<span class="token punctuation">,</span> <span class="token string">"é»˜è®¤è¾“å…¥çš„å­—ç¬¦ä¸²"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>ok<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ok <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>text<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnGetItem_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QStringList list<span class="token punctuation">;</span>    list<span class="token operator">&lt;&lt;</span><span class="token string">"2019-10-02"</span><span class="token operator">&lt;&lt;</span><span class="token string">"04:28"</span><span class="token operator">&lt;&lt;</span><span class="token string">"åœ¨æ­¦æ±‰çš„å§å®¤"</span><span class="token operator">&lt;&lt;</span><span class="token string">"æ•²ä»£ç "</span><span class="token operator">&lt;&lt;</span><span class="token string">"è¿™ä¼šæ²¡æœ‰å›°æ„"</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">bool</span> editable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>   <span class="token comment">//ComboBoxæ˜¯å¦å¯ç¼–è¾‘</span>    <span class="token keyword">bool</span> ok <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    QString text <span class="token operator">=</span> <span class="token class-name">QInputDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"è¾“å…¥itemå¯¹è¯æ¡†"</span><span class="token punctuation">,</span> <span class="token string">"è¯·é€‰æ‹©ä¸€ä¸ªitem"</span><span class="token punctuation">,</span> list<span class="token punctuation">,</span> index<span class="token punctuation">,</span> editable<span class="token punctuation">,</span> <span class="token operator">&amp;</span>ok<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ok <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>text<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnInt_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> min <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> max <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> stepVal <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> size <span class="token operator">=</span> ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pointSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">bool</span> ok <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> val <span class="token operator">=</span> <span class="token class-name">QInputDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"è¾“å…¥æ•´æ•°å¯¹è¯æ¡†"</span><span class="token punctuation">,</span> <span class="token string">"è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°æ”¹å˜å­—ä½“å¤§å°"</span><span class="token punctuation">,</span> size<span class="token punctuation">,</span> min<span class="token punctuation">,</span> max<span class="token punctuation">,</span> stepVal<span class="token punctuation">,</span> <span class="token operator">&amp;</span>ok<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ok<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        QFont font <span class="token operator">=</span> ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        font<span class="token punctuation">.</span><span class="token function">setPointSize</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">setFont</span><span class="token punctuation">(</span>font<span class="token punctuation">)</span><span class="token punctuation">;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"å­—ä½“å¤§å°å·²ç»è¢«è®¾ç½®ä¸º:"</span> <span class="token operator">+</span> <span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">number</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnDouble_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> min <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> max <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> d <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>                 <span class="token comment">//å°æ•°ç‚¹çš„ä½æ•°</span>    <span class="token keyword">double</span> val <span class="token operator">=</span> <span class="token number">3.1415</span><span class="token punctuation">;</span>    <span class="token keyword">bool</span> ok <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token keyword">double</span> ret <span class="token operator">=</span> <span class="token class-name">QInputDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getDouble</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"è¾“å…¥æµ®ç‚¹æ•°å¯¹è¯æ¡†"</span><span class="token punctuation">,</span> <span class="token string">"è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°æ”¹å˜å­—ä½“å¤§å°"</span><span class="token punctuation">,</span> d<span class="token punctuation">,</span> min<span class="token punctuation">,</span> max<span class="token punctuation">,</span> val<span class="token punctuation">,</span> <span class="token operator">&amp;</span>ok<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ok<span class="token punctuation">)</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"æµ®ç‚¹æ•°å¤§å°ä¸º:"</span> <span class="token operator">+</span> <span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">number</span><span class="token punctuation">(</span>ret<span class="token punctuation">,</span> <span class="token char">'f'</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><a href="https://github.com/xmuli/QtExamples">https://github.com/xmuli/QtExamples</a>ã€QtQDialogExã€‘</p>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>QFileSystemModelæ•°æ®æ¨¡å‹è·å–æœ¬æœºæ–‡ä»¶ç³»ç»Ÿçš„ä½¿ç”¨</title>
      <link href="/posts/7273b472/"/>
      <url>/posts/7273b472/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  <code>QFileSystemModel</code>æ˜¯å¯<strong>ç”¨äºè®¿é—®æœ¬æœºç³»ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿ</strong>çš„<strong>æ•°æ®æ¨¡å‹</strong>ï¼›å…¶çš„å±æ€§å’ŒåŠŸèƒ½çš„ä½¿ç”¨ä»‹ç»ï¼›ç„¶åå†™äº†ä¸€ä¸ªä¾‹å­ï¼Œç”¨æ¥å®ç°å’ŒéªŒè¯å®ƒçš„åŠŸèƒ½çš„ä¸€äº›å±æ€§å’ŒåŠŸèƒ½çš„ç”¨æ³•ã€‚è¿™é‡Œä¸»è¦æ˜¯æ•°æ®çš„è¯»å–éƒ¨åˆ†æ˜¯ä½¿ç”¨åˆ°äº†<code>QFileSystemModel</code>ç±»ï¼Œç„¶ååˆ†åˆ«ä½¿ç”¨<code>QTreeView</code>å’Œ<code>QListView</code>å’Œ<code>ColumnView</code>å’Œ<code>QTableView</code>è¿™å››ç§è§†å›¾æ§ä»¶æ¥æ˜¾ç¤ºã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191208_233142_5.jpg"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p><strong>ç›¸å…³åšå®¢ï¼š</strong>  <a href="https://blog.csdn.net/qq_33154343/article/details/103501667">Model-View-Delegate:â€æ¨¡å‹-è§†å›¾-ä»£ç†â€çš„è®²è§£</a></p><br><h2 id="ç³»ç»Ÿç¯å¢ƒï¼š"><a href="#ç³»ç»Ÿç¯å¢ƒï¼š" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒï¼š"></a>ç³»ç»Ÿç¯å¢ƒï¼š</h2><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>win10 x64 ä¸“ä¸šç‰ˆ 1803</code>   <strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>Qt 5.9.8ï¼ŒQt Creator 4.8.2 (Enterprise)</code></p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>Qt 5.9.8</code>ï¼Œ<code>Qt Creator 4.8.2 (Enterprise)</code></p><br><h2 id="QFileSystemModelå±æ€§ï¼š"><a href="#QFileSystemModelå±æ€§ï¼š" class="headerlink" title="QFileSystemModelå±æ€§ï¼š"></a>QFileSystemModelå±æ€§ï¼š</h2><p> <code>QFileSystemModel</code>æ˜¯å¯<strong>ç”¨äºè®¿é—®æœ¬æœºç³»ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿ</strong>çš„<strong>æ•°æ®æ¨¡å‹</strong>ï¼›ä¸€å¼€å§‹æ˜¯éœ€è¦ä½¿ç”¨è®¾ç½®ä¸€ä¸ªæ ¹ç›®å½•çš„ï¼›</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">QString currPath <span class="token operator">=</span> <span class="token class-name">QDir</span><span class="token double-colon punctuation">::</span><span class="token function">currentPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//è·å–å½“å‰è·¯å¾„</span>m_model<span class="token operator">-></span><span class="token function">setRootPath</span><span class="token punctuation">(</span>currPath<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">//è®¾ç½®æ ¹ç›®å½•</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å’Œ<code>QFileSystemModel</code>ä¸€æ ·ï¼Œå¯ä»¥è·å–ç£ç›˜æ–‡ä»¶ç›®å½•çš„æ•°æ®æ¨¡å‹çš„è¿˜æœ‰<code>QDirModel</code>ï¼Œä½†æ˜¯<code>QFileSystemModel</code>æ˜¯ä½¿ç”¨å•ç‹¬çš„çº¿ç¨‹æ¥è·å–ç›®å½•çš„æ–‡ä»¶çš„ç»“æ„çš„ï¼Œè€Œ<code>QDirModel</code>ä¸æ˜¯é‡‡ç”¨çš„å•ç‹¬çš„çº¿ç¨‹</p><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191208_233142.gif"/ loading="lazy"><br><h2 id="æºç åˆ†æï¼š"><a href="#æºç åˆ†æï¼š" class="headerlink" title="æºç åˆ†æï¼š"></a>æºç åˆ†æï¼š</h2><p>è¿™ä¸ªä¾‹å­ï¼Œä¸»è¦æ˜¯æ ¹æ®<strong>â€Mode-View-Delegateï¼ˆæ¨¡å‹-è§†å›¾-ä»£ç†ï¼‰â€</strong> æ¥å®ç°ï¼Œæˆ‘ä¼šåœ¨å‰é¢å°†å…¶ä»”ç»†çš„å†™å‡ºæ¥ï¼›è¿™ä¸ªä¾‹å­å¾—ç›ŠäºQtè‡ªå¸¦çš„è¿™äº›æ¨¡å‹çš„å¼ºå¤§ï¼Œçœ‹èµ·æ¥éœ€è¦å†™å¥½å¤šä»£ç ï¼Œä½†æ˜¯å®é™…åªéœ€è¦çš„ä»£ç é‡ä¸ç®—å¤šï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘å°±æ˜¯å°†å®ç°çš„éƒ¨åˆ†æºç ï¼Œç›´æ¥æ”¾åœ¨ä¸‹é¢ï¼š</p><p><strong>.h</strong>å¤´æ–‡ä»¶çš„å®ç°ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">EXQFILESYSTEMMODEL_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">EXQFILESYSTEMMODEL_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QMainWindow></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QLabel></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QCheckBox></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QFileSystemModel></span></span><span class="token keyword">namespace</span> Ui <span class="token punctuation">&#123;</span><span class="token keyword">class</span> <span class="token class-name">ExQFileSystemModel</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">ExQFileSystemModel</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QMainWindow</span></span><span class="token punctuation">&#123;</span>    Q_OBJECT<span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">explicit</span> <span class="token function">ExQFileSystemModel</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">~</span><span class="token function">ExQFileSystemModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//åˆå§‹åŒ–ï¼Œä»¥åŠåˆå§‹åŒ–çŠ¶æ€æ </span><span class="token keyword">private</span> slots<span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">on_treeView_clicked</span><span class="token punctuation">(</span><span class="token keyword">const</span> QModelIndex <span class="token operator">&amp;</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//å•å‡»treeViewï¼Œä¼šåœ¨çŠ¶æ€æ æ˜¾ç¤ºå½“å‰èŠ‚ç‚¹çš„ä¿¡æ¯</span><span class="token keyword">private</span><span class="token operator">:</span>    Ui<span class="token double-colon punctuation">::</span>ExQFileSystemModel <span class="token operator">*</span>ui<span class="token punctuation">;</span>    QLabel<span class="token operator">*</span> m_labFileName<span class="token punctuation">;</span>       <span class="token comment">//æ–‡ä»¶å</span>    QLabel<span class="token operator">*</span> m_labFileSize<span class="token punctuation">;</span>       <span class="token comment">//æ–‡ä»¶å¤§å°</span>    QLabel<span class="token operator">*</span> m_labFileType<span class="token punctuation">;</span>       <span class="token comment">//æ–‡ä»¶ç±»å‹</span>    QLabel<span class="token operator">*</span> m_labPath<span class="token punctuation">;</span>           <span class="token comment">//è·¯å¾„</span>    QCheckBox<span class="token operator">*</span> m_chkBoxIsFile<span class="token punctuation">;</span>   <span class="token comment">//å½“å‰æ˜¯å¦ä¸ºæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹</span>    QFileSystemModel<span class="token operator">*</span> m_model<span class="token punctuation">;</span>   <span class="token comment">//è®¾ç½®æ–‡ä»¶ç³»ç»Ÿçš„æ¨¡å‹</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// EXQFILESYSTEMMODEL_H</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>.cppæ–‡ä»¶çš„å®ç°ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ExQFileSystemModel.h"</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ui_ExQFileSystemModel.h"</span></span><span class="token class-name">ExQFileSystemModel</span><span class="token double-colon punctuation">::</span><span class="token function">ExQFileSystemModel</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span> <span class="token operator">:</span>    <span class="token function">QMainWindow</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token double-colon punctuation">::</span>ExQFileSystemModel<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token class-name">QObject</span><span class="token double-colon punctuation">::</span><span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"æ–‡ä»¶ç³»ç»Ÿæ¨¡å‹QFileSystemModelçš„ä»‹ç»å’Œä½¿ç”¨"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>treeView<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QTreeView<span class="token double-colon punctuation">::</span>clicked<span class="token punctuation">,</span> ui<span class="token operator">-></span>listView<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QListView<span class="token double-colon punctuation">::</span>setRootIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>treeView<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QTreeView<span class="token double-colon punctuation">::</span>clicked<span class="token punctuation">,</span> ui<span class="token operator">-></span>tableView<span class="token punctuation">,</span> <span class="token operator">&amp;</span>QTableView<span class="token double-colon punctuation">::</span>setRootIndex<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">ExQFileSystemModel</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">ExQFileSystemModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">delete</span> ui<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//åˆå§‹åŒ–ï¼Œä»¥åŠåˆå§‹åŒ–çŠ¶æ€æ </span><span class="token keyword">void</span> <span class="token class-name">ExQFileSystemModel</span><span class="token double-colon punctuation">::</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">//è®¾ç½®æ•°æ®æ¨¡å‹ï¼Œä¸”åŠ è½½åˆ°å„ä¸ªè§†å›¾ä¸Šé¢</span>    m_model <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QFileSystemModel</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QString currPath <span class="token operator">=</span> <span class="token class-name">QDir</span><span class="token double-colon punctuation">::</span><span class="token function">currentPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//è·å–å½“å‰è·¯å¾„</span>    m_model<span class="token operator">-></span><span class="token function">setRootPath</span><span class="token punctuation">(</span>currPath<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">//è®¾ç½®æ ¹ç›®å½•</span>    ui<span class="token operator">-></span>treeView<span class="token operator">-></span><span class="token function">setModel</span><span class="token punctuation">(</span>m_model<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">//è®¾ç½®æ•°æ®æ¨¡å‹</span>    ui<span class="token operator">-></span>listView<span class="token operator">-></span><span class="token function">setModel</span><span class="token punctuation">(</span>m_model<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>tableView<span class="token operator">-></span><span class="token function">setModel</span><span class="token punctuation">(</span>m_model<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>columnView<span class="token operator">-></span><span class="token function">setModel</span><span class="token punctuation">(</span>m_model<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//åˆå§‹åŒ–çŠ¶æ€æ </span>    m_labFileName <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QLabel</span><span class="token punctuation">(</span><span class="token string">"åç§°ï¼š"</span><span class="token punctuation">,</span> ui<span class="token operator">-></span>statusBar<span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labFileName<span class="token operator">-></span><span class="token function">setMinimumWidth</span><span class="token punctuation">(</span><span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labFileSize <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QLabel</span><span class="token punctuation">(</span><span class="token string">"å¤§å°ï¼š"</span><span class="token punctuation">,</span> ui<span class="token operator">-></span>statusBar<span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labFileSize<span class="token operator">-></span><span class="token function">setFixedWidth</span><span class="token punctuation">(</span><span class="token number">130</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labFileType <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QLabel</span><span class="token punctuation">(</span><span class="token string">"ç±»å‹ï¼š"</span><span class="token punctuation">,</span> ui<span class="token operator">-></span>statusBar<span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labFileType<span class="token operator">-></span><span class="token function">setFixedWidth</span><span class="token punctuation">(</span><span class="token number">130</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labPath <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QLabel</span><span class="token punctuation">(</span><span class="token string">"è·¯å¾„ï¼š"</span> <span class="token operator">+</span> currPath<span class="token punctuation">,</span> ui<span class="token operator">-></span>statusBar<span class="token punctuation">)</span><span class="token punctuation">;</span>    m_chkBoxIsFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QCheckBox</span><span class="token punctuation">(</span><span class="token string">"å½“å‰ä¸ºæ–‡ä»¶å¤¹"</span><span class="token punctuation">,</span> ui<span class="token operator">-></span>statusBar<span class="token punctuation">)</span><span class="token punctuation">;</span>    m_chkBoxIsFile<span class="token operator">-></span><span class="token function">setFixedWidth</span><span class="token punctuation">(</span><span class="token number">130</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//å„ç§QLableæ·»åŠ åˆ°çŠ¶æ€æ </span>    ui<span class="token operator">-></span>statusBar<span class="token operator">-></span><span class="token function">addWidget</span><span class="token punctuation">(</span>m_labFileName<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>statusBar<span class="token operator">-></span><span class="token function">addWidget</span><span class="token punctuation">(</span>m_labFileSize<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>statusBar<span class="token operator">-></span><span class="token function">addWidget</span><span class="token punctuation">(</span>m_labFileType<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>statusBar<span class="token operator">-></span><span class="token function">addWidget</span><span class="token punctuation">(</span>m_chkBoxIsFile<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>statusBar<span class="token operator">-></span><span class="token function">addWidget</span><span class="token punctuation">(</span>m_labPath<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//å•å‡»treeViewï¼Œä¼šåœ¨çŠ¶æ€æ æ˜¾ç¤ºå½“å‰èŠ‚ç‚¹çš„ä¿¡æ¯</span><span class="token keyword">void</span> <span class="token class-name">ExQFileSystemModel</span><span class="token double-colon punctuation">::</span><span class="token function">on_treeView_clicked</span><span class="token punctuation">(</span><span class="token keyword">const</span> QModelIndex <span class="token operator">&amp;</span>index<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    m_chkBoxIsFile<span class="token operator">-></span><span class="token function">setChecked</span><span class="token punctuation">(</span>m_model<span class="token operator">-></span><span class="token function">isDir</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//æ˜¯å¦æ˜¯ç›®å½•</span>    m_labFileName<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"åç§°ï¼š"</span> <span class="token operator">+</span> m_model<span class="token operator">-></span><span class="token function">fileName</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//æ–‡ä»¶åç§°</span>    <span class="token keyword">double</span> size <span class="token operator">=</span> m_model<span class="token operator">-></span><span class="token function">size</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1024.0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>size <span class="token operator">&lt;</span> <span class="token number">1024</span><span class="token punctuation">)</span>        m_labFileSize<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"ç±»å‹ï¼š"</span> <span class="token operator">+</span> <span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">number</span><span class="token punctuation">(</span>size<span class="token punctuation">,</span> <span class="token char">'f'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"KB"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">1024</span> <span class="token operator">&lt;=</span> size <span class="token operator">&amp;&amp;</span> size <span class="token operator">&lt;</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">)</span>        m_labFileSize<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"ç±»å‹ï¼š"</span> <span class="token operator">+</span> <span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">number</span><span class="token punctuation">(</span>size <span class="token operator">/</span> <span class="token number">1024</span><span class="token punctuation">,</span> <span class="token char">'f'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"MB"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">else</span>        m_labFileSize<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"ç±»å‹ï¼š"</span> <span class="token operator">+</span> <span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">number</span><span class="token punctuation">(</span>size <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token char">'f'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"GB"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labFileType<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>m_model<span class="token operator">-></span><span class="token function">type</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labPath<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>m_model<span class="token operator">-></span><span class="token function">filePath</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><a href="https://github.com/xmuli/QtExamples">https://github.com/xmuli/QtExamples</a>ã€QtQFileSystemModelExã€‘</p>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Model-View-Delegate:&quot;æ¨¡å‹-è§†å›¾-ä»£ç†&quot;çš„è®²è§£</title>
      <link href="/posts/4a7ed5d1/"/>
      <url>/posts/4a7ed5d1/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  åœ¨Qtä¸­ï¼Œæœ‰ä¸€ç§å°†æ•°æ®å’Œå’Œè§†å›¾è¿›è¡Œä¸²é€šèµ·æ¥ï¼Œå°±åƒç½‘é¡µå’Œæ•°æ®åº“çš„å…³ç³»ä¸€æ ·ï¼›è€Œè¿™å°±æ˜¯<strong>â€œModel-View-Delegateâ€</strong>ï¼ˆ<strong>æ¨¡å‹-è§†å›¾-ä»£ç†</strong>ï¼‰çš„ç»“æ„ã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-09_22-34-00_mark.png"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="Model-x2F-View-æ¨¡å‹-x2F-è§†å›¾"><a href="#Model-x2F-View-æ¨¡å‹-x2F-è§†å›¾" class="headerlink" title="Model&#x2F;View(æ¨¡å‹&#x2F;è§†å›¾):"></a>Model&#x2F;View(æ¨¡å‹&#x2F;è§†å›¾):</h2><p>åœ¨GUIç•Œé¢äº¤äº’çš„æ—¶å€™ï¼Œç”¨æˆ·åœ¨ï¼ˆè½¯ä»¶&#x2F;ç½‘é¡µçš„ï¼‰ç•Œé¢è¿›è¡ŒæŸ¥çœ‹æ•°æ®çš„æ—¶å€™ï¼Œçœ‹åˆ°è¿™ä¸ªè¿™ä¸ªå°±è¢«ç§°ä¹‹ä¸º<strong>è§†å›¾</strong>ï¼›è€Œè§†å›¾å±•ç¤ºå‡ºæ¥çš„æ•°æ®ï¼Œæ˜¯ä»<strong>æ¨¡å‹</strong>é‡Œé¢å–å‡ºæ¥çš„ï¼Œä½ å¯ä»¥å°†å®ƒçœ‹åšçœ‹åšä¸€ä¸ªä¸“é—¨å­˜æ”¾æ•°æ®çš„å®¹å™¨ï¼ˆé»‘åŒ£å­ï¼‰ï¼›</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-10_23-53-09_mark.png"/ loading="lazy"><br><h3 id="æ•°æ®ï¼ˆDataï¼‰ï¼š"><a href="#æ•°æ®ï¼ˆDataï¼‰ï¼š" class="headerlink" title="æ•°æ®ï¼ˆDataï¼‰ï¼š"></a>æ•°æ®ï¼ˆDataï¼‰ï¼š</h3><p>å®é™…çš„æ•°æ®ï¼Œæ¯”å¦‚æ˜¯æ•°æ®è¡¨é‡Œé¢çš„ä¸€ä¸ªé¡¹ï¼Œä¹Ÿæˆ–è®¸æ˜¯ä¸€ä¸ªQStringListï¼Œä¹Ÿè®¸åªæ˜¯ä¸€ä¸ªæ•°å­—æˆ–è€…å­—æ¯æˆ–è€…å­—ç¬¦ä¸²:abc:</p><br><h3 id="è§†å›¾ï¼ˆæˆ–è§†å›¾ç»„ä»¶-Viewï¼‰ï¼š"><a href="#è§†å›¾ï¼ˆæˆ–è§†å›¾ç»„ä»¶-Viewï¼‰ï¼š" class="headerlink" title="è§†å›¾ï¼ˆæˆ–è§†å›¾ç»„ä»¶ Viewï¼‰ï¼š"></a>è§†å›¾ï¼ˆæˆ–è§†å›¾ç»„ä»¶ Viewï¼‰ï¼š</h3><p>å®¢æˆ·ç«¯çš„ç•Œé¢ï¼Œç”¨æ¥æŸ¥çœ‹æ•°æ®çš„æ§ä»¶ï¼Œæ¯”å¦‚è¡¨æ ¼Tableæˆ–è€…æ ‘å½¢å›¾ç›®å½•ç»“æ„Treeï¼›<strong>è§†å›¾ä»æ•°æ®æ¨¡å‹è·å–å¾—åˆ°æ¯ä¸€ä¸ªæ•°æ®é¡¹çš„æ¨¡å‹ç´¢å¼•ï¼ˆmodelindexï¼‰ï¼Œç„¶åé€šè¿‡æ¨¡å‹ç´¢å¼•è·å–æ•°æ®ï¼›</strong> Qtæä¾›ä¸€äº›ç°æˆçš„æ•°æ®æ¨¡å‹è§†å›¾ç»„ä»¶ï¼š  </p><ul><li><p><strong>ä¸»è¦çš„æ•°æ®æ¨¡å‹ï¼š</strong> QListView &#x2F; QTreeView &#x2F; QTableView</p></li><li><p><strong>å…¶å¯¹åº”çš„ç®€ä¾¿åˆ©ç±»ï¼š</strong>  QListWidget &#x2F; QTreeWidget &#x2F; QTableWidget</p></li></ul><br><h3 id="æ¨¡å‹ï¼ˆæ•°æ®æ¨¡å‹-Modelï¼‰"><a href="#æ¨¡å‹ï¼ˆæ•°æ®æ¨¡å‹-Modelï¼‰" class="headerlink" title="æ¨¡å‹ï¼ˆæ•°æ®æ¨¡å‹ Modelï¼‰:"></a>æ¨¡å‹ï¼ˆæ•°æ®æ¨¡å‹ Modelï¼‰:</h3><p>ä¸å®é™…æ•°æ®æ•°æ®è¿›è¡ŒåŒè¡Œï¼Œå¹¶ä¸”ä¸ºè§†å›¾ç»„ä»¶æä¾›æ•°æ®ç»“æ„</p><br><h2 id="ä»£ç†-Delegate"><a href="#ä»£ç†-Delegate" class="headerlink" title="ä»£ç†(Delegate):"></a>ä»£ç†(Delegate):</h2><p>ä»£ç†æ˜¯å¯ä»¥è®©ç”¨æˆ·ï¼Œè‡ªå·±æ›´åŠ ç»†è‡´å®šä¹‰ç»˜ç”»è‡ªå·±æ‰€éœ€è¦çš„çª—å£çš„ï¼›æ¯”å¦‚è¯´ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªTableçš„æ§ä»¶é‡Œé¢ï¼Œå°†ä¸€ä¸ªitemçš„é¡¹æ›¿æ¢æˆä¸€ä¸ªQCheckBoxæˆ–è€…ä¸€ä¸ªä¸‹æ‹‰åˆ—è¡¨è¡¨æ¡†çš„æ§ä»¶ä¹‹ç±»çš„ï¼ˆegï¼šè®©ä½ å¡«è¡¨æ—¶å€™ï¼Œé€‰æ‹©å¹´é¾„ç­‰ï¼‰</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-09_23-03-07_mark.png"/ loading="lazy"><p><font color=#D0087E size=4 face="å¹¼åœ†">ç”±äºæ•°æ®å’Œæ¨¡å‹å®é™…ç›¸äº’åˆ†ç¦»å¼€ï¼Œæ‰€ä»¥æ˜¯<strong>å¯ä»¥ä¸€ä¸ªæ•°æ®æ¨¡å‹å¯¹åº”â‡’å¤šä¸ªæ•°æ®æ¨¡å‹</strong>çš„</font></p><br><h2 id="æ•°æ®æ¨¡å‹ï¼š"><a href="#æ•°æ®æ¨¡å‹ï¼š" class="headerlink" title="æ•°æ®æ¨¡å‹ï¼š"></a>æ•°æ®æ¨¡å‹ï¼š</h2><p>æ‰€æœ‰åŸºäº<strong>é¡¹æ•°æ®</strong>ï¼ˆitem Dataï¼‰çš„<strong>æ•°æ®æ¨¡å‹</strong>ï¼ˆModelï¼‰éƒ½æ˜¯åŸºäº<code>QAbstractItemModel</code>è¿™ä¸ªæŠ½è±¡ç±»çš„ã€‚</p><p>å…¶å‡ ä¸ªä¸»è¦çš„ç±»çš„å±‚æ¬¡ç»“æ„å¦‚ä¸‹ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-10_23-39-22_mark.png"/ loading="lazy"><p>å…¶ä¸­ï¼š</p><ul><li><code>QStringList Modelï¼š</code>ç”¨äºå¤„ç†å­—ç¬¦ä¸²åˆ—è¡¨æ•°æ®çš„æ•°æ®æ¨¡å‹ç±»</li><li><code>QStandardltem Modelï¼š</code>æ ‡å‡†çš„åŸºäºé¡¹æ•°æ®çš„æ•°æ®æ¨¡å‹ç±»ï¼Œæ¯ä¸ªæ•°æ®é¡¹æ•°æ®éƒ½å¯ä»¥æ˜¯ä»»æ„æ•°æ®ç±»å‹</li><li><code>QFileSystem Modelï¼š</code>è®¡ç®—æœºä¸Šæ–‡ä»¶ç³»ç»Ÿçš„æ•°æ®æ¨¡å‹ç±»</li><li><code>QSortFilterProxy Modelï¼š</code> ç”¨äºå…¶ä»–æ•°æ®æ¨¡å‹çš„ç»“åˆï¼Œæä¾›æ’åºå’Œè¿‡æ»¤åŠŸèƒ½çš„æ•°æ®æ¨¡å‹ç±»</li><li><code>QSqlQuery Model:</code> ç”¨äºæ•°æ®åº“SQLæŸ¥è¯¢ç»“æœçš„æ•°æ®æ¨¡å‹ç±»</li><li><code>QSqlTable Model:</code>  ç”¨äºæ•°æ®åº“çš„ä¸€ä¸ªæ•°æ®è¡¨çš„æ•°æ®æ¨¡å‹ç±»</li><li><code>QSqlRelationalTable Modelï¼š</code>ç”¨äºå…³ç³»å‹æ•°æ®è¡¨çš„æ•°æ®æ¨¡å‹ç±»</li></ul><br><h2 id="è§†å›¾æ¨¡å‹ï¼š"><a href="#è§†å›¾æ¨¡å‹ï¼š" class="headerlink" title="è§†å›¾æ¨¡å‹ï¼š"></a>è§†å›¾æ¨¡å‹ï¼š</h2><p>å…¶ä¸­å®ƒä»¬çš„å…³ç³»å¦‚ä¸‹ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œå¾€å¾€åªæ˜¯éœ€è¦è°ƒç”¨setModel()ï¼Œå°±å¯ä»¥å®ç°ä¸€ä¸ªæ•°æ®æ¨¡å‹å’Œè§†å›¾ç»„ä»¶å’Œæ•°æ®æ¨¡å‹ä¹‹é—´çš„å…³è”ï¼›<strong>å¯¹è§†å›¾ç»„ä»¶çš„æ•°æ®ä¿®æ”¹ï¼Œå°†ä¼šç›´åˆ°è‡ªåŠ¨ä¿å­˜åˆ°å…³è”çš„æ•°æ®æ¨¡å‹é‡Œé¢ï¼Œä¸”ä¸€ä¸ªæ•°æ®æ¨¡å‹æ˜¯å¯ä»¥åœ¨å¤šä¸ªè§†å›¾ç»„ä»¶é‡Œé¢æ˜¾ç¤ºæ•°æ®çš„ã€‚</strong></p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-10_23-44-41_mark.png"/ loading="lazy"><p>å…¶ä¸­çš„è¯¦ç»†è¯´æ˜å¦‚ä¸‹ï¼š</p><ul><li><code>QListView:</code> ç”¨äºæ˜¾ç¤ºå•åˆ—çš„åˆ—è¡¨æ•°æ®æ¨¡å‹ï¼Œé€‚ç”¨äºä¸€ç»´æ•°æ®çš„æ“ä½œ</li><li><code>QTreeView:</code>  ç”¨äºæ˜¾ç¤ºæ ‘çŠ¶ç»“æ„ï¼Œä½¿ç”¨ä¸æ ‘çŠ¶ç»“æ„æ•°æ®çš„æ“ä½œ</li><li><code>QTableView:</code>  ç”¨äºæ˜¾ç¤ºè¡¨æ ¼çŠ¶æ•°æ®ï¼Œé€‚ç”¨äºäºŒç»´å‹æ•°æ®çš„æ“ä½œ</li><li><code>QColumnView:</code>  ç”¨äºå¤šä¸ªQListViewæ˜¾ç¤ºæ ‘çŠ¶å±‚æ¬¡ç»“æ„ï¼Œæ ‘çŠ¶ç»“æ„çš„ä¸€å±‚ç”¨ä¸€ä¸ªQLIstViewæ˜¾ç¤º</li><li><code>QHeaderView:</code>  æä¾›è¡Œè¡¨å¤´æˆ–è€…åˆ—è¡¨å¤´çš„è§†å›¾ç»„ä»¶</li></ul><br><h2 id="æ¨¡å‹ç´¢å¼•ï¼š"><a href="#æ¨¡å‹ç´¢å¼•ï¼š" class="headerlink" title="æ¨¡å‹ç´¢å¼•ï¼š"></a>æ¨¡å‹ç´¢å¼•ï¼š</h2><p><strong>æ¨¡å‹ç´¢å¼•ï¼ˆModel Indexï¼‰</strong>ï¼šæ˜¯æ¥ä¿è¯æ•°æ®å’Œå…¶å­˜å–æ–¹å¼çš„éš”ç¦»ã€‚</p><p><code>QModeIndex</code>æ˜¯ï¼ˆä¸´æ—¶çš„ï¼‰ä¸€ä¸ªç´¢å¼•ç±»ã€‚æ¨¡å‹ç´¢å¼•æä¾›æ•°æ®å­˜å–çš„ä¸€ä¸ªä¸´æ—¶æŒ‡é’ˆï¼Œç”¨äºé€šè¿‡æ•°æ®æ¨¡å‹çš„æå–æˆ–è€…ä¿®æ”¹ï¼Œå› ä¸ºæ¨¡å‹å†…éƒ¨ç»„ç»‡ç»“æ„çš„æ•°æ®å¾ˆå®¹æ˜“å˜åŒ–ï¼Œæ‰€ä»¥è¿™ä¸ªæ¨¡å‹ç´¢å¼•æ˜¯ä¸´æ—¶çš„ï¼›</p><p><code>QPersistentModeIndex</code>æ˜¯æŒä¹…æ€§çš„æ¨¡å‹ç´¢å¼•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>QTableWidgetè¡¨æ ¼ç»„ä»¶çš„å±æ€§ä»‹ç»å’Œä½¿ç”¨</title>
      <link href="/posts/61173bfc/"/>
      <url>/posts/61173bfc/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  <code>QTableWidget</code>è¡¨æ ¼ï¼Œç»„ä»¶çš„å±æ€§ä»‹ç»å’Œä½¿ç”¨ï¼Œè¿™é‡Œå†™ä¸€ä¸ªç®€å•å°ä¾‹å­çš„ä½¿ç”¨ä»‹ç»å®ƒçš„åŸºæœ¬å±æ€§çš„ä½¿ç”¨</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-08_22-42-50_mark.png"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="å¼€å‘ç¯å¢ƒï¼š"><a href="#å¼€å‘ç¯å¢ƒï¼š" class="headerlink" title="å¼€å‘ç¯å¢ƒï¼š"></a>å¼€å‘ç¯å¢ƒï¼š</h2><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>MacOS 10.14.6 (18G103)</code>   <strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong> <code>Qt 5.9.8</code>ï¼Œ <code>Qt Creator 4.8.2</code></p><br><h2 id="QTableWidgetå±æ€§ï¼š"><a href="#QTableWidgetå±æ€§ï¼š" class="headerlink" title="QTableWidgetå±æ€§ï¼š"></a>QTableWidgetå±æ€§ï¼š</h2><p><code>QTableWidget</code>æ˜¯ <strong>è¡¨æ ¼ç»„ä»¶</strong> ï¼›å…¶å±äºæ˜¾ç¤ºçª—å£çš„æ§ä»¶ï¼Œåªæ˜¯å°†æ•°æ®ä»¥è¡¨æ ¼çš„å½¢å¼å±•ç¤ºå‡ºæ¥ï¼Œ </p><p>å…¶ä¸»è¦å±æ€§æ˜¯ï¼š</p><ul><li>rowè¡Œ</li></ul><p>è¡Œå·</p><ul><li>Columåˆ—</li></ul><p>åˆ—å·</p><ul><li>Itemé¡¹</li></ul><p><code>QTableWidgetItem</code>æ˜¯å…·ä½“çš„æŸä¸€ä¸ªé¡¹itemï¼Œå°±æ˜¯è¡¨æ ¼ä¸­é—´çš„å…·ä½“ä¸€ä¸ªé¡¹ï¼ˆå°é•¿æ–¹å—ï¼‰ï¼›è¿˜å¯ä»¥ç”¨æ¥å­˜å‚¨æ•°æ®ï¼ˆä½†æ˜¯åœ¨ç•Œé¢è¯¥æ•°æ®æ˜¯ä¸æ˜¾ç¤ºçš„ï¼‰ï¼Œæ¯ä¸€ä¸ªiteméƒ½å¯ä»¥å­˜å‚¨ä¸€ä¸ªè‡ªå·±çš„<code>QVariant</code>æ•°æ®ï¼›</p><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><p>æ¥ä¸€å¼ è¿è¡Œæ•ˆæœå›¾ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/2019-12-08-22-56-38.gif"/ loading="lazy"><br><h2 id="æ ¸å¿ƒæºç è®²è§£ï¼š"><a href="#æ ¸å¿ƒæºç è®²è§£ï¼š" class="headerlink" title="æ ¸å¿ƒæºç è®²è§£ï¼š"></a>æ ¸å¿ƒæºç è®²è§£ï¼š</h2><p>å› ä¸ºè¿™ä¸ªæ§ä»¶å±äºæ¯”è¾ƒç®€å•ï¼Œæ‰€ä»¥æ­¤å¤„ç›´æ¥å°†éƒ¨åˆ†**.h**æºç è´´å‡ºæ¥:</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">ExQTableWidget</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QMainWindow</span></span><span class="token punctuation">&#123;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    <span class="token keyword">void</span> <span class="token function">createItemsARow</span><span class="token punctuation">(</span><span class="token keyword">int</span> row<span class="token punctuation">,</span> QString name<span class="token punctuation">,</span> QString sex<span class="token punctuation">,</span> QDate birth<span class="token punctuation">,</span> QString nation<span class="token punctuation">,</span> <span class="token keyword">int</span> score<span class="token punctuation">,</span> <span class="token keyword">bool</span> isAnime<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//ä¸ºæŸä¸€è¡Œåˆ›å»ºitems</span><span class="token keyword">private</span> slots<span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">on_btnSetHeader_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                      <span class="token comment">//è®¾ç½®è¡¨å¤´</span>    <span class="token keyword">void</span> <span class="token function">on_btnInitTable_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                      <span class="token comment">//åˆå§‹åŒ–æ•°æ®è¡¨</span>    <span class="token keyword">void</span> <span class="token function">on_btnSetRow_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                         <span class="token comment">//è®¾ç½®è¡¨æ ¼çš„è¡Œæ•°</span>    <span class="token keyword">void</span> <span class="token function">on_btnInsertRow_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                      <span class="token comment">//æ’å…¥è¡Œ</span>    <span class="token keyword">void</span> <span class="token function">on_btnAddRow_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                         <span class="token comment">//åœ¨æœ€åä¸€è¡Œæ·»åŠ ä¸€è¡Œ</span>    <span class="token keyword">void</span> <span class="token function">on_btnDelRow_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                         <span class="token comment">//åˆ é™¤å½“å‰è¡Œ</span>    <span class="token keyword">void</span> <span class="token function">on_btnAutoHeight_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment">//è‡ªåŠ¨è®¾ç½®è¡Œé«˜</span>    <span class="token keyword">void</span> <span class="token function">on_btnAutoWidth_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                      <span class="token comment">//è‡ªåŠ¨è®¾ç½®åˆ—é«˜</span>    <span class="token keyword">void</span> <span class="token function">on_btnReadToEdit_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment">//è¯»å–è¡¨æ ¼å†…å®¹åˆ°æ–‡æœ¬</span>    <span class="token keyword">void</span> <span class="token function">on_chkBoxHeadEdit_clicked</span><span class="token punctuation">(</span><span class="token keyword">bool</span> checked<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è¡¨æ ¼å¯ç¼–è¾‘æ¨¡å¼</span>    <span class="token keyword">void</span> <span class="token function">on_chkBoxRowColor_clicked</span><span class="token punctuation">(</span><span class="token keyword">bool</span> checked<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//é—´éš”è¡Œåº•è‰²</span>    <span class="token keyword">void</span> <span class="token function">on_chkBoxHeadRow_clicked</span><span class="token punctuation">(</span><span class="token keyword">bool</span> checked<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">//æ˜¾ç¤ºè¡Œè¡¨å¤´</span>    <span class="token keyword">void</span> <span class="token function">on_chkBoxHeadCol_clicked</span><span class="token punctuation">(</span><span class="token keyword">bool</span> checked<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">//æ˜¾ç¤ºåˆ—è¡¨å¤´</span>    <span class="token keyword">void</span> <span class="token function">on_radioBtnSelectItem_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//å•å…ƒæ ¼é€‰æ‹©</span>    <span class="token keyword">void</span> <span class="token function">on_radioBtnSelectRow_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">//è¡Œé€‰æ‹©</span>    <span class="token keyword">void</span> <span class="token function">on_tableWidget_currentCellChanged</span><span class="token punctuation">(</span><span class="token keyword">int</span> currentRow<span class="token punctuation">,</span> <span class="token keyword">int</span> currentColumn<span class="token punctuation">,</span> <span class="token keyword">int</span> previousRow<span class="token punctuation">,</span> <span class="token keyword">int</span> previousColumn<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//è·å–å½“å‰itemå’Œå‰ä¸€ä¸ª(ç‚¹å‡»)itemçš„è¡Œåˆ—å·</span><span class="token keyword">private</span><span class="token operator">:</span>    QLabel <span class="token operator">*</span>m_labCellIndex<span class="token punctuation">;</span>                              <span class="token comment">//çŠ¶æ€æ ä¸Šç”¨æ¥æ˜¾ç¤ºå•å…ƒæ ¼çš„è¡Œå·ã€åˆ—å·</span>    QLabel <span class="token operator">*</span>m_labCellType<span class="token punctuation">;</span>                               <span class="token comment">//çŠ¶æ€æ ä¸Šç”¨æ¥æ˜¾ç¤ºå•å…ƒæ ¼çš„type</span>    QLabel <span class="token operator">*</span>m_labStudID<span class="token punctuation">;</span>                                 <span class="token comment">//çŠ¶æ€æ ä¸Šç”¨æ¥æ˜¾ç¤ºå•å…ƒæ ¼çš„å­¦å·</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å…¶å¯¹åº”çš„**.cpp**æ–‡ä»¶ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token class-name">ExQTableWidget</span><span class="token double-colon punctuation">::</span><span class="token function">ExQTableWidget</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span> <span class="token operator">:</span>    <span class="token function">QMainWindow</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token double-colon punctuation">::</span>ExQTableWidget<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token class-name">QObject</span><span class="token double-colon punctuation">::</span><span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"QTableWidgetçš„è®²è§£å’Œä½¿ç”¨"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labCellIndex <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QLabel</span><span class="token punctuation">(</span><span class="token string">"å½“å‰å•å…ƒæ ¼åæ ‡ï¼š"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">//çŠ¶æ€æ åˆå§‹åŒ–</span>    m_labCellIndex<span class="token operator">-></span><span class="token function">setMinimumWidth</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labCellType <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QLabel</span><span class="token punctuation">(</span><span class="token string">"å½“å‰å•å…ƒæ ¼ç±»å‹ï¼š"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labCellType<span class="token operator">-></span><span class="token function">setMinimumWidth</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labStudID <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QLabel</span><span class="token punctuation">(</span><span class="token string">"å­¦ç”ŸIDï¼š"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labStudID<span class="token operator">-></span><span class="token function">setMinimumWidth</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>statusBar<span class="token operator">-></span><span class="token function">addWidget</span><span class="token punctuation">(</span>m_labCellIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>statusBar<span class="token operator">-></span><span class="token function">addWidget</span><span class="token punctuation">(</span>m_labCellType<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>statusBar<span class="token operator">-></span><span class="token function">addWidget</span><span class="token punctuation">(</span>m_labStudID<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>chkBoxHeadEdit<span class="token operator">-></span><span class="token function">setChecked</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>Unchecked<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setCentralWidget</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>splitter_2<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">on_btnSetHeader_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//ä¸ºæŸä¸€è¡Œåˆ›å»ºitems</span><span class="token keyword">void</span> <span class="token class-name">ExQTableWidget</span><span class="token double-colon punctuation">::</span><span class="token function">createItemsARow</span><span class="token punctuation">(</span><span class="token keyword">int</span> row<span class="token punctuation">,</span> QString name<span class="token punctuation">,</span> QString sex<span class="token punctuation">,</span> QDate birth<span class="token punctuation">,</span> QString nation<span class="token punctuation">,</span> <span class="token keyword">int</span> score<span class="token punctuation">,</span> <span class="token keyword">bool</span> isAnime<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QTableWidgetItem<span class="token operator">*</span> item <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> stunID <span class="token operator">=</span> <span class="token number">20190913</span><span class="token punctuation">;</span>    QString str <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>    item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTableWidgetItem</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> cellType<span class="token double-colon punctuation">::</span>ctName<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//åˆ›å»ºname åæ ‡ä¸º(0, 0)çš„item</span>    item<span class="token operator">-></span><span class="token function">setTextAlignment</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>AlignHCenter <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>AlignVCenter<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//æ–‡æœ¬æ˜¾ç¤ºå±…ä¸­</span>    stunID <span class="token operator">+=</span> row<span class="token punctuation">;</span>                                                  <span class="token comment">//å­¦å· = åŸºæ•° + è¡Œå·</span>    item<span class="token operator">-></span><span class="token function">setData</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>UserRole<span class="token punctuation">,</span> <span class="token function">QVariant</span><span class="token punctuation">(</span>stunID<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">//è®¾ç½®stunIDä¸ºdata</span>    ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">setItem</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> fieldColNum<span class="token double-colon punctuation">::</span>colName<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//æ’å…¥itemåˆ°tableWidgeté‡Œé¢</span>    item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTableWidgetItem</span><span class="token punctuation">(</span>sex<span class="token punctuation">,</span> cellType<span class="token double-colon punctuation">::</span>ctSex<span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">//æ€§åˆ«</span>    QIcon icon<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>sex <span class="token operator">==</span> <span class="token string">"ç”·"</span><span class="token punctuation">)</span>        icon<span class="token punctuation">.</span><span class="token function">addFile</span><span class="token punctuation">(</span><span class="token string">":/images/Image002.ico"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">else</span>        icon<span class="token punctuation">.</span><span class="token function">addFile</span><span class="token punctuation">(</span><span class="token string">":/images/Image003.ico"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    item<span class="token operator">-></span><span class="token function">setIcon</span><span class="token punctuation">(</span>icon<span class="token punctuation">)</span><span class="token punctuation">;</span>    item<span class="token operator">-></span><span class="token function">setTextAlignment</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>AlignHCenter <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>AlignVCenter<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">setItem</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> fieldColNum<span class="token double-colon punctuation">::</span>colSex<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>    item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTableWidgetItem</span><span class="token punctuation">(</span>birth<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cellType<span class="token double-colon punctuation">::</span>ctBirth<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å‡ºç”Ÿæ—¥æœŸ</span>    item<span class="token operator">-></span><span class="token function">setTextAlignment</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>AlignHCenter <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>AlignVCenter<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">setItem</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> fieldColNum<span class="token double-colon punctuation">::</span>colBirth<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>    item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTableWidgetItem</span><span class="token punctuation">(</span>nation<span class="token punctuation">,</span> cellType<span class="token double-colon punctuation">::</span>ctNation<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">//ç±è´¯</span>    item<span class="token operator">-></span><span class="token function">setTextAlignment</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>AlignHCenter <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>AlignVCenter<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">setItem</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> fieldColNum<span class="token double-colon punctuation">::</span>colNation<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>    item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTableWidgetItem</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">setNum</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><span class="token punctuation">,</span> cellType<span class="token double-colon punctuation">::</span>ctScore<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æˆç»©</span>    item<span class="token operator">-></span><span class="token function">setTextAlignment</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>AlignHCenter <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>AlignVCenter<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">setItem</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> fieldColNum<span class="token double-colon punctuation">::</span>colScore<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>    item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTableWidgetItem</span><span class="token punctuation">(</span><span class="token string">"å–œæ¬¢"</span><span class="token punctuation">,</span> cellType<span class="token double-colon punctuation">::</span>ctLikeAnime<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//å–œæ¬¢äºŒæ¬¡å…ƒå¦?</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>isAnime<span class="token punctuation">)</span>        item<span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>Checked<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">else</span>        item<span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>Unchecked<span class="token punctuation">)</span><span class="token punctuation">;</span>    item<span class="token operator">-></span><span class="token function">setTextAlignment</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>AlignHCenter <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>AlignVCenter<span class="token punctuation">)</span><span class="token punctuation">;</span>    item<span class="token operator">-></span><span class="token function">setBackgroundColor</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>gray<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">setItem</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> fieldColNum<span class="token double-colon punctuation">::</span>colLikeAnime<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="token comment">//è®¾ç½®è¡¨å¤´</span><span class="token keyword">void</span> <span class="token class-name">ExQTableWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnSetHeader_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QTableWidgetItem<span class="token operator">*</span> item <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>    QStringList list<span class="token punctuation">;</span>    list <span class="token operator">&lt;&lt;</span> <span class="token string">"å§“å"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"æ€§åˆ«"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"å‡ºç”Ÿæ—¥æœŸ"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"ç±è´¯"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"åˆ†æ•°"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"æ˜¯å¦å–œæ¬¢äºŒæ¬¡å…ƒ"</span><span class="token punctuation">;</span><span class="token comment">//    ui->tableWidget->setHorizontalHeaderLabels(list);            //åªæ˜¯åˆå§‹åŒ–è¡¨å¤´çš„æ¯ä¸€åˆ—çš„åå­—</span>    ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">setColumnCount</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">columnCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTableWidgetItem</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token comment">//åˆ›å»ºä¸€ä¸ªitem</span>        QFont font<span class="token punctuation">;</span>        font<span class="token punctuation">.</span><span class="token function">setBold</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        font<span class="token punctuation">.</span><span class="token function">setPointSize</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        item<span class="token operator">-></span><span class="token function">setFont</span><span class="token punctuation">(</span>font<span class="token punctuation">)</span><span class="token punctuation">;</span>                                       <span class="token comment">//è®¾ç½®itemçš„å­—ä½“ï¼Œé¢œè‰²ï¼Œç²—ä½“ï¼Œå¤§å°</span>        item<span class="token operator">-></span><span class="token function">setTextColor</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>red<span class="token punctuation">)</span><span class="token punctuation">;</span>        ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">setHorizontalHeaderItem</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">//æ·»åŠ itemåˆ°tableWidget</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//åˆå§‹åŒ–æ•°æ®è¡¨</span><span class="token keyword">void</span> <span class="token class-name">ExQTableWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnInitTable_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QTime time<span class="token punctuation">;</span>    time <span class="token operator">=</span> <span class="token class-name">QTime</span><span class="token double-colon punctuation">::</span><span class="token function">currentTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">qsrand</span><span class="token punctuation">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>uint<span class="token operator">></span></span></span><span class="token punctuation">(</span>time<span class="token punctuation">.</span><span class="token function">msec</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> time<span class="token punctuation">.</span><span class="token function">second</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QString name <span class="token operator">=</span> <span class="token string">"å­¦ç”Ÿ"</span><span class="token punctuation">;</span>    QString sex <span class="token operator">=</span> <span class="token string">"ä¿å¯†"</span><span class="token punctuation">;</span>    QDate <span class="token function">birth</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QString nation <span class="token operator">=</span> <span class="token string">"æ­¦æ±‰"</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> score <span class="token operator">=</span> <span class="token number">87</span><span class="token punctuation">;</span>    <span class="token keyword">bool</span> isAnime <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">clearContents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                              <span class="token comment">//æ¸…é™¤å·¥ä½œåŒºï¼Œä¸æ¸…é™¤è¡¨å¤´</span>    <span class="token keyword">int</span> row <span class="token operator">=</span> ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">rowCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> row<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                                <span class="token comment">//åˆå§‹åŒ–ä¸€è¡Œè¡Œçš„æ•°æ®</span>        name <span class="token operator">=</span> <span class="token string">"å­¦ç”Ÿ"</span><span class="token punctuation">;</span>        name <span class="token operator">+=</span> <span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">number</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> n  <span class="token operator">=</span> <span class="token function">qrand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation">;</span>                                      <span class="token comment">//äº§ç”Ÿéšæœºæ•°å°äº2</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            sex <span class="token operator">=</span> <span class="token string">"ç”·"</span><span class="token punctuation">;</span>            isAnime <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            sex <span class="token operator">=</span> <span class="token string">"å¥³"</span><span class="token punctuation">;</span>            isAnime <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        score <span class="token operator">+=</span> <span class="token number">10</span><span class="token punctuation">;</span>        birth <span class="token operator">=</span> birth<span class="token punctuation">.</span><span class="token function">addDays</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">createItemsARow</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> name<span class="token punctuation">,</span> sex<span class="token punctuation">,</span> birth<span class="token punctuation">,</span> nation<span class="token punctuation">,</span> score<span class="token punctuation">,</span> isAnime<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//è®¾ç½®è¡¨æ ¼çš„è¡Œæ•°</span><span class="token keyword">void</span> <span class="token class-name">ExQTableWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnSetRow_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> ui<span class="token operator">-></span>spinBoxRow<span class="token operator">-></span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">setRowCount</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ’å…¥è¡Œ</span><span class="token keyword">void</span> <span class="token class-name">ExQTableWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnInsertRow_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> currRow <span class="token operator">=</span> ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">currentRow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">insertRow</span><span class="token punctuation">(</span>currRow<span class="token punctuation">)</span><span class="token punctuation">;</span>                           <span class="token comment">//æ’å…¥ä¸€è¡Œï¼Œä¸ä¼šè‡ªåŠ¨ä¸ºå•å…ƒæ ¼åˆ›å»ºitem</span>    <span class="token function">createItemsARow</span><span class="token punctuation">(</span>currRow<span class="token punctuation">,</span> <span class="token string">"æ’å…¥å­¦ç”Ÿ"</span><span class="token punctuation">,</span> <span class="token string">"å¥³"</span><span class="token punctuation">,</span> <span class="token function">QDate</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">07</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"æ¥šå›½"</span><span class="token punctuation">,</span> <span class="token number">87</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//åœ¨æœ€åä¸€è¡Œæ·»åŠ ä¸€è¡Œ</span><span class="token keyword">void</span> <span class="token class-name">ExQTableWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnAddRow_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> row <span class="token operator">=</span> ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">rowCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">insertRow</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">createItemsARow</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> <span class="token string">"æ·»åŠ å­¦ç”Ÿ"</span><span class="token punctuation">,</span> <span class="token string">"å¥³"</span><span class="token punctuation">,</span> <span class="token function">QDate</span><span class="token punctuation">(</span><span class="token number">2021</span><span class="token punctuation">,</span> <span class="token number">07</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"å”æœ"</span><span class="token punctuation">,</span> <span class="token number">93</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//åˆ é™¤å½“å‰è¡Œ</span><span class="token keyword">void</span> <span class="token class-name">ExQTableWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnDelRow_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> currRow <span class="token operator">=</span> ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">currentRow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">removeRow</span><span class="token punctuation">(</span>currRow<span class="token punctuation">)</span><span class="token punctuation">;</span>                           <span class="token comment">//åˆ é™¤å½“å‰è¡Œä»¥åŠå…¶ä»–items</span><span class="token punctuation">&#125;</span><span class="token comment">//è‡ªåŠ¨è®¾ç½®è¡Œé«˜</span><span class="token keyword">void</span> <span class="token class-name">ExQTableWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnAutoHeight_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">resizeRowsToContents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                       <span class="token comment">//è‡ªåŠ¨è°ƒæ•´æ‰€æœ‰è¡Œçš„å†…å®¹ï¼Œä»¥é€‚åº”å†…å®¹é«˜åº¦</span><span class="token punctuation">&#125;</span><span class="token comment">//è‡ªåŠ¨è®¾ç½®åˆ—é«˜</span><span class="token keyword">void</span> <span class="token class-name">ExQTableWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnAutoWidth_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">resizeColumnsToContents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">//è‡ªåŠ¨è°ƒæ•´æ‰€æœ‰åˆ—çš„å†…å®¹ï¼Œä»¥é€‚åº”å†…å®¹å®½åº¦</span><span class="token punctuation">&#125;</span><span class="token comment">//è¯»å–è¡¨æ ¼å†…å®¹åˆ°æ–‡æœ¬</span><span class="token keyword">void</span> <span class="token class-name">ExQTableWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnReadToEdit_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QTableWidgetItem<span class="token operator">*</span> item <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>    QString str <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">rowCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        str <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">columnCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            item <span class="token operator">=</span> ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">item</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>            str <span class="token operator">+=</span> item<span class="token operator">-></span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"  "</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        item <span class="token operator">=</span> ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">item</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> fieldColNum<span class="token double-colon punctuation">::</span>colLikeAnime<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token operator">-></span><span class="token function">checkState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Qt<span class="token double-colon punctuation">::</span>Checked<span class="token punctuation">)</span>            str <span class="token operator">+=</span> <span class="token string">"å–œæ¬¢äºŒæ¬¡å…ƒ"</span><span class="token punctuation">;</span>        <span class="token keyword">else</span>            str <span class="token operator">+=</span> <span class="token string">"ä¸å–œæ¬¢äºŒæ¬¡å…ƒ"</span><span class="token punctuation">;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//è¡¨æ ¼å¯ç¼–è¾‘æ¨¡å¼</span><span class="token keyword">void</span> <span class="token class-name">ExQTableWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_chkBoxHeadEdit_clicked</span><span class="token punctuation">(</span><span class="token keyword">bool</span> checked<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>checked<span class="token punctuation">)</span>        ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">setEditTriggers</span><span class="token punctuation">(</span>QAbstractItemView<span class="token double-colon punctuation">::</span>DoubleClicked <span class="token operator">|</span> QAbstractItemView<span class="token double-colon punctuation">::</span>SelectedClicked<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">else</span>        ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">setEditTriggers</span><span class="token punctuation">(</span>QAbstractItemView<span class="token double-colon punctuation">::</span>DoubleClicked<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//é—´éš”è¡Œåº•è‰²</span><span class="token keyword">void</span> <span class="token class-name">ExQTableWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_chkBoxRowColor_clicked</span><span class="token punctuation">(</span><span class="token keyword">bool</span> checked<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">setAlternatingRowColors</span><span class="token punctuation">(</span>checked<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ˜¾ç¤ºè¡Œè¡¨å¤´</span><span class="token keyword">void</span> <span class="token class-name">ExQTableWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_chkBoxHeadRow_clicked</span><span class="token punctuation">(</span><span class="token keyword">bool</span> checked<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">horizontalHeader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">setVisible</span><span class="token punctuation">(</span>checked<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ˜¾ç¤ºåˆ—è¡¨å¤´</span><span class="token keyword">void</span> <span class="token class-name">ExQTableWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_chkBoxHeadCol_clicked</span><span class="token punctuation">(</span><span class="token keyword">bool</span> checked<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">verticalHeader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">setVisible</span><span class="token punctuation">(</span>checked<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//å•å…ƒæ ¼é€‰æ‹©</span><span class="token keyword">void</span> <span class="token class-name">ExQTableWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_radioBtnSelectItem_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">setSelectionBehavior</span><span class="token punctuation">(</span>QAbstractItemView<span class="token double-colon punctuation">::</span>SelectItems<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//è¡Œé€‰æ‹©</span><span class="token keyword">void</span> <span class="token class-name">ExQTableWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_radioBtnSelectRow_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">setSelectionBehavior</span><span class="token punctuation">(</span>QAbstractItemView<span class="token double-colon punctuation">::</span>SelectRows<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//è·å–å½“å‰itemå’Œå‰ä¸€ä¸ª(ç‚¹å‡»)itemçš„è¡Œåˆ—å·</span><span class="token keyword">void</span> <span class="token class-name">ExQTableWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_tableWidget_currentCellChanged</span><span class="token punctuation">(</span><span class="token keyword">int</span> currentRow<span class="token punctuation">,</span> <span class="token keyword">int</span> currentColumn<span class="token punctuation">,</span> <span class="token keyword">int</span> previousRow<span class="token punctuation">,</span> <span class="token keyword">int</span> previousColumn<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    m_labCellIndex<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"å½“å‰å•å…ƒæ ¼åæ ‡ï¼š["</span> <span class="token operator">+</span> <span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">number</span><span class="token punctuation">(</span>currentRow<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"è¡Œ, "</span> <span class="token operator">+</span> <span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">number</span><span class="token punctuation">(</span>currentColumn<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"åˆ—]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QTableWidgetItem<span class="token operator">*</span> item <span class="token operator">=</span> ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">item</span><span class="token punctuation">(</span>currentRow<span class="token punctuation">,</span> currentColumn<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> type <span class="token operator">=</span> item<span class="token operator">-></span><span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labCellType<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"å½“å‰å•å…ƒæ ¼ç±»å‹ï¼š"</span> <span class="token operator">+</span> <span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">number</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QTableWidgetItem<span class="token operator">*</span> item2 <span class="token operator">=</span> ui<span class="token operator">-></span>tableWidget<span class="token operator">-></span><span class="token function">item</span><span class="token punctuation">(</span>currentRow<span class="token punctuation">,</span> fieldColNum<span class="token double-colon punctuation">::</span>colName<span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labStudID<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">"å­¦ç”ŸIDï¼š"</span> <span class="token operator">+</span> item2<span class="token operator">-></span><span class="token function">data</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>UserRole<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><a href="https://github.com/xmuli/QtExamples">https://github.com/xmuli/QtExamples</a> ã€QtQTableWidgetExã€‘</p>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ç›®å½•æ ‘ç»„ä»¶QTreeWidgetå’Œåœé åŒºåŸŸç»„ä»¶QDockWidgetçš„ç”¨æ³•</title>
      <link href="/posts/9e077eb6/"/>
      <url>/posts/9e077eb6/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  ç›®å½•æ ‘ç»„ä»¶<code>QTreeWidget</code>å’Œåœé åŒºåŸŸç»„ä»¶<code>QDockWidget</code>çš„å’Œ<code>QScrollArea</code>ç”¨æ³•ï¼›ç„¶åå†™çš„ä¸€ä¸ªå°çš„ç›¸å†ŒæŸ¥çœ‹å™¨ä¾‹å­</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-08_18-38-19_mark.png"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="QTreeWidgetç»„ä»¶ï¼š"><a href="#QTreeWidgetç»„ä»¶ï¼š" class="headerlink" title="QTreeWidgetç»„ä»¶ï¼š"></a>QTreeWidgetç»„ä»¶ï¼š</h2><p><code>QTreeWidget</code>æ˜¯ <strong>ç›®å½•æ ‘ç»„ä»¶</strong> æ§ä»¶ï¼Œç”¨æ¥åˆ›å»ºå’Œç®¡ç†æ ‘å½¢ç»“æ„çš„ç±»çš„</p><br><h2 id="QDockWidgetç»„ä»¶ï¼š"><a href="#QDockWidgetç»„ä»¶ï¼š" class="headerlink" title="QDockWidgetç»„ä»¶ï¼š"></a>QDockWidgetç»„ä»¶ï¼š</h2><p><code>QDockWidget</code>æ˜¯å¯ä»¥åœ¨<code>QMainWindow</code>çª—å£åœé ï¼Œæˆ–è€…åœ¨æ¡Œé¢æœ€ä¸Šå±‚æµ®åŠ¨çš„ç•Œé¢ç»„ä»¶ï¼›åœ¨æœ¬æ–‡é‡Œé¢çš„ä¾‹å­é‡Œé¢ï¼Œå°†<code>QTreeWidget</code>æ§ä»¶å­˜æ”¾åœ¨<code>QDockWidget</code>ä¸Šé¢ï¼Œè®¾ç½®å…¶å¯ä»¥åœ¨ä¸»çª—å£çš„å·¦æˆ–å³ä¾§ï¼Œä¹Ÿæ˜¯å¯ä»¥æµ®åŠ¨çš„ï¼Œè¿˜å¯ä»¥æµ®åŠ¨ï¼›è¿˜å¯ä»¥è®¾ç½®å…¶ä¸ºéšè—&#x2F;æ˜¾ç¤ºä¸æ˜¾ç¤ºçª—ä½“çš„æ•ˆæœ</p><h3 id="allowedAreaså±æ€§ï¼Œè®¾ç½®å…è®¸åœé åŒºåŸŸ"><a href="#allowedAreaså±æ€§ï¼Œè®¾ç½®å…è®¸åœé åŒºåŸŸ" class="headerlink" title="allowedAreaså±æ€§ï¼Œè®¾ç½®å…è®¸åœé åŒºåŸŸ"></a><strong>allowedAreas</strong>å±æ€§ï¼Œè®¾ç½®å…è®¸åœé åŒºåŸŸ</h3><p>ä½¿ç”¨setAllowedAreas()è®¾ç½®å…è®¸åœé åŒºåŸŸï¼ˆä¸Šä¸‹å·¦å³çš„åŒºåŸŸï¼‰</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-08_21-58-56_mark.png"/ loading="lazy"><h3 id="featå±æ€§ï¼Œè®¾ç½®åœé åŒºç»„ä»¶çš„ç‰¹æ€§"><a href="#featå±æ€§ï¼Œè®¾ç½®åœé åŒºç»„ä»¶çš„ç‰¹æ€§" class="headerlink" title="featå±æ€§ï¼Œè®¾ç½®åœé åŒºç»„ä»¶çš„ç‰¹æ€§"></a><strong>feat</strong>å±æ€§ï¼Œè®¾ç½®åœé åŒºç»„ä»¶çš„ç‰¹æ€§</h3><p>ç”±<code>setFeatures()</code>å‡½æ•°æ¥è®¾ç½®åœé åŒºåŸŸç»„ä»¶çš„ç‰¹æ€§ï¼Œå…¶å‚æ•°æ˜¯å¦‚ä¸‹çš„æšä¸¾ç±»å‹çš„ç»„åˆå€¼çš„ä½¿ç”¨</p><table><thead><tr><th>Constant</th><th>Description</th></tr></thead><tbody><tr><td>QDockWidget::DockWidgetClosable</td><td>åœé åŒºåŸŸå¯å…³é—­</td></tr><tr><td>QDockWidget::DockWidgetMovable</td><td>åœé åŒºåŸŸå¯ç§»åŠ¨</td></tr><tr><td>QDockWidget::DockWidgetFloatable</td><td>åœé åŒºåŸŸå¯æµ®åŠ¨</td></tr><tr><td>QDockWidget::DockWidgetVerticalTitleBar</td><td>åœ¨åœé åŒºåŸŸå·¦ä¾§æ˜¾ç¤ºå‚ç›´æ ‡é¢˜æ </td></tr><tr><td>QDockWidget::AllDockWidgetFeatures</td><td>ä½¿ç”¨ä»¥ä¸Šæ‰€æœ‰ç‰¹å¾</td></tr><tr><td>QDockWidget::NoDockWidgetFeatures</td><td>ä¸èƒ½åœé ï¼Œç§»åŠ¨å’Œå…³é—­</td></tr></tbody></table><br><h2 id="QScrollAreaç»„ä»¶ï¼š"><a href="#QScrollAreaç»„ä»¶ï¼š" class="headerlink" title="QScrollAreaç»„ä»¶ï¼š"></a>QScrollAreaç»„ä»¶ï¼š</h2><p><code>QScrollArea</code>æ˜¯ä¸€ä¸ª<strong>è‡ªåŠ¨æ»šåŒºåŸŸç»„ä»¶</strong>çš„æ§ä»¶ï¼Œå¯ä»¥ç”¨æ¥å®ç°æœ‰æ¯”è¾ƒé•¿çš„æ˜¾ç¤ºå†…å®¹ã€‚</p><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><p>è¿™ç§<code>gif</code>å½•åˆ¶äº†ä¸€ä¸‹åˆï¼ˆNå¤šæ¬¡ï¼Œå°±æ˜¯æ²¡æœ‰ç‰¹åˆ«æ»¡æ„ï¼Œè¦ä¹ˆå¤ªå¤§è¦ä¹ˆä¸æ¸…æ™°ï¼‰ï¼Œä½†æ˜¯<code>gif</code>å¥½åƒå½•åˆ¶çš„å¹¶ä¸ç®—å¤ªå¥½ï¼Œå½•åˆ¶è¿™å¼ å›¾ï¼Œä½†æ˜¯æ€»æ˜¯ä½“ç§¯å¤ªå¤§æˆ–è€…ä¸æ¸…æ™°ï¼Œåœ¨<code>mac</code>ä¸Šé¢æš‚æ—¶æ²¡æœ‰æ‰¾åˆ°æ¯”è¾ƒå¥½çš„å½•åˆ¶å’Œå‹ç¼©<strong>gif</strong>çš„è½¯ä»¶æ¥ä»£æ›¿<code>win10</code>ä¸Šé¢çš„(<strong>ScreenGif</strong>  + <strong>FSREsizer</strong> + <strong>FSCapture</strong>)è¿™ä¸‰ä¸ªè½¯ä»¶ï¼Œæœ‰åˆé€‚çš„è¯ï¼Œå¯ä»¥çŸ¥é“çš„å¯ä»¥ç•™è¨€æ¨èä¸€ä¸‹ï¼Œåˆé€‚å’Œå½•gifå·¥å…·ä¹Ÿåœ¨å°è¯•ä¸­ï¼›</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/2019-12-08-17.27.31.gif"/ loading="lazy"><br><h2 id="å®ç°ä»£ç ï¼š"><a href="#å®ç°ä»£ç ï¼š" class="headerlink" title="å®ç°ä»£ç ï¼š"></a>å®ç°ä»£ç ï¼š</h2><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>MacOS 10.14.6 (18G103)</code>   <strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong> <code>Qt 5.9.8</code>ï¼Œ <code>Qt Creator 4.8.2</code>;</p><p>åœ¨**.h**å¤´æ–‡ä»¶é‡Œé¢ï¼Œå®ç°ééƒ¨åˆ†ä»£ç ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">EXQTREEWIDGET_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">EXQTREEWIDGET_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QMainWindow></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QLabel></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QTreeWidgetItem></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QFileDialog></span></span><span class="token keyword">namespace</span> Ui <span class="token punctuation">&#123;</span><span class="token keyword">class</span> <span class="token class-name">ExQTreeWidget</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">ExQTreeWidget</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QMainWindow</span></span><span class="token punctuation">&#123;</span>    Q_OBJECT<span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">enum</span> <span class="token class-name">treeItemType</span> <span class="token punctuation">&#123;</span>         <span class="token comment">//æšä¸¾ï¼ŒèŠ‚ç‚¹ç±»å‹</span>        itemRoot<span class="token punctuation">,</span>        itemFile<span class="token punctuation">,</span>        itemImage    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">enum</span> <span class="token class-name">treeColNum</span> <span class="token punctuation">&#123;</span>           <span class="token comment">//ç›®å½•æ ‘åˆ—è¡¨çš„ç¼–å·</span>        colItem <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>        colItemType <span class="token operator">=</span> <span class="token number">1</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">explicit</span> <span class="token function">ExQTreeWidget</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">~</span><span class="token function">ExQTreeWidget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">initTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                <span class="token comment">//åˆå§‹åŒ–æ ¹èŠ‚ç‚¹ï¼ˆå”¯ä¸€ï¼‰</span>    <span class="token keyword">void</span> <span class="token function">addFolderItem</span><span class="token punctuation">(</span>QTreeWidgetItem <span class="token operator">*</span>parItem<span class="token punctuation">,</span> QString dirName<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ·»åŠ ç›®å½•</span>    <span class="token keyword">void</span> <span class="token function">addImageItem</span><span class="token punctuation">(</span>QTreeWidgetItem <span class="token operator">*</span>parItem<span class="token punctuation">,</span> QString fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ·»åŠ å›¾ç‰‡æ–‡ä»¶</span>    QString <span class="token function">getFinalFolderName</span><span class="token punctuation">(</span><span class="token keyword">const</span> QString <span class="token operator">&amp;</span>pathName<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//ä»å®Œæ•´çš„è·¯å¾„é‡Œé¢ï¼Œè·å–æœ€åçš„æ–‡ä»¶å¤¹åç§°</span>    <span class="token keyword">void</span> <span class="token function">changeItemCaption</span><span class="token punctuation">(</span>QTreeWidgetItem<span class="token operator">*</span> parItem<span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">//éå†itemä¸‹é¢çš„æ‰€æœ‰èŠ‚ç‚¹</span>    <span class="token keyword">void</span> <span class="token function">displayImage</span><span class="token punctuation">(</span>QTreeWidgetItem<span class="token operator">*</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>                       <span class="token comment">//æ˜¾ç¤ºå½“å‰itemçš„å›¾ç‰‡ï¼ˆé»˜è®¤ä»¥é€‚é…é«˜åº¦ï¼‰</span><span class="token keyword">private</span> slots<span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">on_actAddFolder_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                               <span class="token comment">//å¢åŠ æ–‡ä»¶å¤¹</span>    <span class="token keyword">void</span> <span class="token function">on_actAddFile_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                 <span class="token comment">//æ·»åŠ å›¾ç‰‡æ–‡ä»¶</span>    <span class="token keyword">void</span> <span class="token function">on_actDeleFile_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                <span class="token comment">//åˆ é™¤èŠ‚ç‚¹</span>    <span class="token keyword">void</span> <span class="token function">on_actScanItems_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                               <span class="token comment">//éå†æ‰€æœ‰çš„é¡¶å±‚èŠ‚ç‚¹(æœ¬å¤„åªæœ‰ä¸€ä¸ªrooté¡¶å±‚èŠ‚ç‚¹)</span>    <span class="token keyword">void</span> <span class="token function">on_actAdaptiveHeight_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                          <span class="token comment">//å›¾ç‰‡è‡ªåŠ¨é€‚åº”é«˜åº¦</span>    <span class="token keyword">void</span> <span class="token function">on_actAdaptiveWidth_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                           <span class="token comment">//å›¾ç‰‡è‡ªåŠ¨é€‚åº”å®½åº¦</span>    <span class="token keyword">void</span> <span class="token function">on_actAmplification_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                           <span class="token comment">//æ”¾å¤§</span>    <span class="token keyword">void</span> <span class="token function">on_actShrink_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                  <span class="token comment">//ç¼©å°</span>    <span class="token keyword">void</span> <span class="token function">on_actZoomRealSize_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token comment">//è¿˜åŸ</span>    <span class="token keyword">void</span> <span class="token function">on_actDockFloating_triggered</span><span class="token punctuation">(</span><span class="token keyword">bool</span> check<span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">//è®¾ç½®Dockçª—å£æ˜¯å¦æµ®åŠ¨</span>    <span class="token keyword">void</span> <span class="token function">on_actDockVisible_triggered</span><span class="token punctuation">(</span><span class="token keyword">bool</span> checked<span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">//è®¾ç½®Dockçª—å£æ˜¯å¦éšè—ä¸æ˜¾ç¤º</span>    <span class="token keyword">void</span> <span class="token function">on_actQiut_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                    <span class="token comment">//é€€å‡º</span>    <span class="token keyword">void</span> <span class="token function">on_treeFiles_currentItemChanged</span><span class="token punctuation">(</span>QTreeWidgetItem <span class="token operator">*</span>current<span class="token punctuation">,</span> QTreeWidgetItem <span class="token operator">*</span>previous<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//å½“å‰èŠ‚ç‚¹å˜åŒ–çš„æ—¶å€™ï¼Œè‡ªåŠ¨åŠ è½½å½“å‰å›¾ç‰‡</span>    <span class="token keyword">void</span> <span class="token function">on_dockWidget_visibilityChanged</span><span class="token punctuation">(</span><span class="token keyword">bool</span> visible<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">//å•å‡»DockWidgetç»„ä»¶çš„æ ‡é¢˜æ çš„å…³é—­æŒ‰é’®æ—¶å€™ï¼Œä¼šéšè—åœ¨åœé åŒºåŸŸï¼Œå¹¶ä¸”å‘å°„ä¿¡å·visibilityChanged;  åœé åŒºåŸŸå¯è§æ€§å˜åŒ–</span>    <span class="token keyword">void</span> <span class="token function">on_dockWidget_topLevelChanged</span><span class="token punctuation">(</span><span class="token keyword">bool</span> topLevel<span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">//å½“æ‹–åŠ¨DockWidgetç»„ä»¶ï¼Œä½¿å…¶æµ®åŠ¨æˆ–è€…åœé æ—¶å€™ï¼Œä¼šå‘å°„ä¿¡å·topLevelChanged;  æ›´æ–°å…¶Actionçš„çŠ¶æ€</span><span class="token keyword">private</span><span class="token operator">:</span>    Ui<span class="token double-colon punctuation">::</span>ExQTreeWidget <span class="token operator">*</span>ui<span class="token punctuation">;</span>    QLabel <span class="token operator">*</span>m_labFlie<span class="token punctuation">;</span>      <span class="token comment">//çŠ¶æ€æ æ˜¾ç¤ºå½“å‰æ–‡ä»¶è·¯å¾„</span>    QPixmap m_curPixmap<span class="token punctuation">;</span>    <span class="token comment">//æ˜¾ç¤ºå½“å‰æ–‡ä»¶å›¾ç‰‡</span>    <span class="token keyword">float</span>   m_ratio<span class="token punctuation">;</span>        <span class="token comment">//å›¾ç‰‡ç¼©æ”¾æ¯”ä¾‹</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// EXQTREEWIDGET_H</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯¹åº”çš„**.cpp**æ–‡ä»¶ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ExQTreeWidget.h"</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ui_ExQTreeWidget.h"</span></span><span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">ExQTreeWidget</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span> <span class="token operator">:</span>    <span class="token function">QMainWindow</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token double-colon punctuation">::</span>ExQTreeWidget<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token class-name">QObject</span><span class="token double-colon punctuation">::</span><span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"QTreeWidgetå’ŒQDockWidgetçš„è®²è§£å’Œä½¿ç”¨"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setCentralWidget</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>scrollArea<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//è®¾ç½®scrollAreaä¸ºä¸­å¿ƒæ§ä»¶</span>    <span class="token function">initTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labFlie <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QLabel</span><span class="token punctuation">(</span><span class="token string">"å½“å‰æ–‡ä»¶çš„è·¯å¾„:"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>statusBar<span class="token operator">-></span><span class="token function">addWidget</span><span class="token punctuation">(</span>m_labFlie<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">ExQTreeWidget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">delete</span> ui<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="token comment">//åˆå§‹åŒ–æ ¹èŠ‚ç‚¹ï¼ˆåªèƒ½å¤Ÿæœ‰å”¯ä¸€ï¼‰</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">initTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">//å‡†å¤‡å·¥ä½œ</span>    ui<span class="token operator">-></span>treeFiles<span class="token operator">-></span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QString dataStr <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>    QIcon icon<span class="token punctuation">;</span>    icon<span class="token punctuation">.</span><span class="token function">addFile</span><span class="token punctuation">(</span><span class="token string">":/image/Image001.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//åˆ›å»ºå”¯ä¸€rootçš„èŠ‚ç‚¹</span>    QTreeWidgetItem<span class="token operator">*</span> root <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTreeWidgetItem</span><span class="token punctuation">(</span>treeItemType<span class="token double-colon punctuation">::</span>itemRoot<span class="token punctuation">)</span><span class="token punctuation">;</span>    root<span class="token operator">-></span><span class="token function">setIcon</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">,</span> icon<span class="token punctuation">)</span><span class="token punctuation">;</span>    root<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">,</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"ç›¸ç°¿"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    root<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItemType<span class="token punctuation">,</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"treeItemType"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    root<span class="token operator">-></span><span class="token function">setFlags</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>ItemIsSelectable <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsUserCheckable <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsEnabled <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsAutoTristate<span class="token punctuation">)</span><span class="token punctuation">;</span>    root<span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>Unchecked<span class="token punctuation">)</span><span class="token punctuation">;</span>    root<span class="token operator">-></span><span class="token function">setData</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>UserRole<span class="token punctuation">,</span> <span class="token function">QVariant</span><span class="token punctuation">(</span>dataStr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//æ·»åŠ é¡¶å±‚èŠ‚ç‚¹</span>    ui<span class="token operator">-></span>treeFiles<span class="token operator">-></span><span class="token function">addTopLevelItem</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ·»åŠ ç›®å½•èŠ‚ç‚¹</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">addFolderItem</span><span class="token punctuation">(</span>QTreeWidgetItem <span class="token operator">*</span>parItem<span class="token punctuation">,</span> QString dirName<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QIcon icon<span class="token punctuation">;</span>    icon<span class="token punctuation">.</span><span class="token function">addFile</span><span class="token punctuation">(</span><span class="token string">":/image/Image006.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//æ·»åŠ ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹</span>    QTreeWidgetItem<span class="token operator">*</span> item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTreeWidgetItem</span><span class="token punctuation">(</span>treeItemType<span class="token double-colon punctuation">::</span>itemFile<span class="token punctuation">)</span><span class="token punctuation">;</span>    QString folderName <span class="token operator">=</span> <span class="token function">getFinalFolderName</span><span class="token punctuation">(</span>dirName<span class="token punctuation">)</span><span class="token punctuation">;</span>    item<span class="token operator">-></span><span class="token function">setIcon</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">,</span> icon<span class="token punctuation">)</span><span class="token punctuation">;</span>    item<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">,</span> folderName<span class="token punctuation">)</span><span class="token punctuation">;</span>    item<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItemType<span class="token punctuation">,</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"treeItemType"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    item<span class="token operator">-></span><span class="token function">setFlags</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>ItemIsSelectable <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsUserCheckable <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsEnabled <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsAutoTristate<span class="token punctuation">)</span><span class="token punctuation">;</span>    item<span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>Unchecked<span class="token punctuation">)</span><span class="token punctuation">;</span>    item<span class="token operator">-></span><span class="token function">setData</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>UserRole<span class="token punctuation">,</span> <span class="token function">QVariant</span><span class="token punctuation">(</span>dirName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//æ·»åŠ å­èŠ‚ç‚¹</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>parItem<span class="token operator">-></span><span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> treeItemType<span class="token double-colon punctuation">::</span>itemFile<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                 <span class="token comment">//è‹¥æ˜¯æ–‡ä»¶èŠ‚ç‚¹</span>        parItem<span class="token operator">-></span><span class="token function">addChild</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>parItem<span class="token operator">-></span><span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> treeItemType<span class="token double-colon punctuation">::</span>itemRoot<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token comment">//è‹¥æ˜¯å”¯ä¸€rootèŠ‚ç‚¹</span>        QTreeWidgetItem <span class="token operator">*</span>root <span class="token operator">=</span> ui<span class="token operator">-></span>treeFiles<span class="token operator">-></span><span class="token function">topLevelItem</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        root<span class="token operator">-></span><span class="token function">addChild</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ·»åŠ å›¾ç‰‡èŠ‚ç‚¹</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">addImageItem</span><span class="token punctuation">(</span>QTreeWidgetItem <span class="token operator">*</span>parItem<span class="token punctuation">,</span> QString fileName<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>parItem <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    QIcon icon<span class="token punctuation">;</span>    icon<span class="token punctuation">.</span><span class="token function">addFile</span><span class="token punctuation">(</span><span class="token string">":/image/Image014.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//æ·»åŠ ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹</span>    QTreeWidgetItem<span class="token operator">*</span> item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTreeWidgetItem</span><span class="token punctuation">(</span>treeItemType<span class="token double-colon punctuation">::</span>itemImage<span class="token punctuation">)</span><span class="token punctuation">;</span>    QString folderName <span class="token operator">=</span> <span class="token function">getFinalFolderName</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>    item<span class="token operator">-></span><span class="token function">setIcon</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">,</span> icon<span class="token punctuation">)</span><span class="token punctuation">;</span>    item<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">,</span> folderName<span class="token punctuation">)</span><span class="token punctuation">;</span>    item<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItemType<span class="token punctuation">,</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"treeItemType"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    item<span class="token operator">-></span><span class="token function">setFlags</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>ItemIsSelectable <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsUserCheckable <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsEnabled <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsAutoTristate<span class="token punctuation">)</span><span class="token punctuation">;</span>    item<span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>Unchecked<span class="token punctuation">)</span><span class="token punctuation">;</span>    item<span class="token operator">-></span><span class="token function">setData</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>UserRole<span class="token punctuation">,</span> <span class="token function">QVariant</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//æ·»åŠ å­èŠ‚ç‚¹</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>parItem<span class="token operator">-></span><span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> treeItemType<span class="token double-colon punctuation">::</span>itemFile<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                 <span class="token comment">//è‹¥æ˜¯æ–‡ä»¶èŠ‚ç‚¹</span>        parItem<span class="token operator">-></span><span class="token function">addChild</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>parItem<span class="token operator">-></span><span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> treeItemType<span class="token double-colon punctuation">::</span>itemRoot<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token comment">//è‹¥æ˜¯å”¯ä¸€rootèŠ‚ç‚¹</span>        QTreeWidgetItem <span class="token operator">*</span>root <span class="token operator">=</span> ui<span class="token operator">-></span>treeFiles<span class="token operator">-></span><span class="token function">topLevelItem</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        root<span class="token operator">-></span><span class="token function">addChild</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//ä»å®Œæ•´çš„è·¯å¾„é‡Œé¢ï¼Œè·å–æœ€åçš„æ–‡ä»¶å¤¹åç§°</span>QString <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">getFinalFolderName</span><span class="token punctuation">(</span><span class="token keyword">const</span> QString <span class="token operator">&amp;</span>pathName<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString path <span class="token operator">=</span> pathName<span class="token punctuation">;</span>    <span class="token keyword">int</span> cnt <span class="token operator">=</span> pathName<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> i <span class="token operator">=</span> pathName<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QString str <span class="token operator">=</span> pathName<span class="token punctuation">.</span><span class="token function">right</span><span class="token punctuation">(</span>cnt <span class="token operator">-</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> str<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//éå†ä¼ è¿›æ¥çš„çˆ¶èŠ‚ç‚¹ä¸‹çš„æ‰€æœ‰å­èŠ‚ç‚¹ï¼›æ¯éå†è¿‡è¯¥èŠ‚ç‚¹ï¼Œå°±åœ¨å…¶èŠ‚ç‚¹çš„ä¿¡æ¯åŠ ä¸€ä¸ª#</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">changeItemCaption</span><span class="token punctuation">(</span>QTreeWidgetItem <span class="token operator">*</span>parItem<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString str <span class="token operator">=</span> <span class="token string">"# "</span> <span class="token operator">+</span> parItem<span class="token operator">-></span><span class="token function">text</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">)</span><span class="token punctuation">;</span>    parItem<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>parItem<span class="token operator">-></span><span class="token function">childCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> parItem<span class="token operator">-></span><span class="token function">childCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">changeItemCaption</span><span class="token punctuation">(</span>parItem<span class="token operator">-></span><span class="token function">child</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                       <span class="token comment">//å›è°ƒï¼Œè°ƒç”¨è‡ªå·±</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ˜¾ç¤ºå½“å‰itemçš„å›¾ç‰‡ï¼ˆé»˜è®¤ä»¥é€‚é…é«˜åº¦ï¼‰</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">displayImage</span><span class="token punctuation">(</span>QTreeWidgetItem <span class="token operator">*</span>item<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString fileName <span class="token operator">=</span> item<span class="token operator">-></span><span class="token function">data</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>UserRole<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labFlie<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>    m_curPixmap<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>                                     <span class="token comment">//ä»æ–‡ä»¶è½½å…¥å›¾ç‰‡</span>    <span class="token function">on_actAdaptiveHeight_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                               <span class="token comment">//è‡ªåŠ¨é€‚åº”é«˜åº¦æ˜¾ç¤º</span>    ui<span class="token operator">-></span>actAmplification<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>actShrink<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>actZoomRealSize<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>actAdaptiveHeight<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>actAdaptiveWidth<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="token comment">//å¢åŠ æ–‡ä»¶å¤¹</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_actAddFolder_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString path <span class="token operator">=</span> <span class="token class-name">QFileDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getExistingDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">//é€‰æ‹©ç›®å½•</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> path<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        QTreeWidgetItem<span class="token operator">*</span> item <span class="token operator">=</span> ui<span class="token operator">-></span>treeFiles<span class="token operator">-></span><span class="token function">currentItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//è·å–å½“å‰èŠ‚ç‚¹</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>item <span class="token operator">!=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>            <span class="token function">addFolderItem</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> path<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ·»åŠ å›¾ç‰‡</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_actAddFile_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QStringList list <span class="token operator">=</span> <span class="token class-name">QFileDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getOpenFileNames</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"é€‰æ‹©å¤šä¸ªå°†è¦åŠ è½½çš„å›¾ç‰‡"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token string">"Images(*.jpg, *.png, *.*)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">//é€‰æ‹©ç›®å½•</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> list<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        QTreeWidgetItem<span class="token operator">*</span> parItem <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>        QTreeWidgetItem<span class="token operator">*</span> item <span class="token operator">=</span> ui<span class="token operator">-></span>treeFiles<span class="token operator">-></span><span class="token function">currentItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//è·å–å½“å‰èŠ‚ç‚¹</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token operator">-></span><span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> treeItemType<span class="token double-colon punctuation">::</span>itemImage<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>              <span class="token comment">//è·å¾—çˆ¶èŠ‚ç‚¹</span>            parItem <span class="token operator">=</span> item<span class="token operator">-></span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            parItem <span class="token operator">=</span> item<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            QString strName <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>                          <span class="token comment">//è·å¾—æ–‡ä»¶åç§°</span>            <span class="token function">addImageItem</span><span class="token punctuation">(</span>parItem<span class="token punctuation">,</span> strName<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">//æ·»åŠ å›¾ç‰‡æ–‡ä»¶åˆ°æ–‡ä»¶èŠ‚ç‚¹</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//åˆ é™¤èŠ‚ç‚¹</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_actDeleFile_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QTreeWidgetItem<span class="token operator">*</span> parItem <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>    QTreeWidgetItem<span class="token operator">*</span> currItem <span class="token operator">=</span> ui<span class="token operator">-></span>treeFiles<span class="token operator">-></span><span class="token function">currentItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>currItem<span class="token operator">-></span><span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> treeItemType<span class="token double-colon punctuation">::</span>itemRoot<span class="token punctuation">)</span>        parItem <span class="token operator">=</span> currItem<span class="token operator">-></span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                              <span class="token comment">//åªèƒ½å¤Ÿç”±å…¶çˆ¶èŠ‚ç‚¹åˆ é™¤</span><span class="token comment">//    else</span><span class="token comment">//        ui->treeFiles->takeTopLevelItem(0);                      //åˆ é™¤é¡¶å±‚èŠ‚ç‚¹ä½¿ç”¨è¿™ä¸ª</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>currItem <span class="token operator">==</span> <span class="token keyword">nullptr</span> <span class="token operator">||</span> parItem <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    parItem<span class="token operator">-></span><span class="token function">removeChild</span><span class="token punctuation">(</span>currItem<span class="token punctuation">)</span><span class="token punctuation">;</span>                                <span class="token comment">//ç§»é™¤æ²¡æœ‰ä»å†…å­˜ä¸­åˆ é™¤ï¼Œæ‰€ä»¥deleteåˆ é™¤</span>    <span class="token keyword">delete</span> currItem<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//éå†æ‰€æœ‰çš„é¡¶å±‚èŠ‚ç‚¹(æœ¬å¤„åªæœ‰ä¸€ä¸ªrooté¡¶å±‚èŠ‚ç‚¹)</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_actScanItems_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> ui<span class="token operator">-></span>treeFiles<span class="token operator">-></span><span class="token function">topLevelItemCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        QTreeWidgetItem<span class="token operator">*</span> currItem <span class="token operator">=</span> ui<span class="token operator">-></span>treeFiles<span class="token operator">-></span><span class="token function">topLevelItem</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//é¡¶å±‚item</span>        <span class="token function">changeItemCaption</span><span class="token punctuation">(</span>currItem<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//å›¾ç‰‡è‡ªåŠ¨é€‚åº”é«˜åº¦</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_actAdaptiveHeight_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> height <span class="token operator">=</span> ui<span class="token operator">-></span>scrollArea<span class="token operator">-></span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">//å¾—åˆ°scrollAreaçš„é«˜åº¦</span>    <span class="token keyword">int</span> realHeight <span class="token operator">=</span> m_curPixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">//åŸå§‹å›¾ç‰‡çš„å®é™…é«˜åº¦</span>    m_ratio <span class="token operator">=</span> height <span class="token operator">*</span> <span class="token number">1.0</span> <span class="token operator">/</span> realHeight<span class="token punctuation">;</span>                          <span class="token comment">//å½“å‰æ˜¾ç¤ºæ¯”ä¾‹ï¼Œå¿…é¡»è½¬æ¢ä¸ºæµ®ç‚¹æ•°</span>    QPixmap pixmap <span class="token operator">=</span> m_curPixmap<span class="token punctuation">.</span><span class="token function">scaledToHeight</span><span class="token punctuation">(</span>height <span class="token operator">-</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//å›¾ç‰‡ç¼©æ”¾åˆ°æŒ‡å®šé«˜åº¦</span>    ui<span class="token operator">-></span>labDisplay<span class="token operator">-></span><span class="token function">setPixmap</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token comment">//è®¾ç½®Labelçš„PixMap</span><span class="token punctuation">&#125;</span><span class="token comment">//å›¾ç‰‡è‡ªåŠ¨é€‚åº”å®½åº¦</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_actAdaptiveWidth_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> width <span class="token operator">=</span> ui<span class="token operator">-></span>scrollArea<span class="token operator">-></span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> realWidth <span class="token operator">=</span> m_curPixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_ratio <span class="token operator">=</span> width <span class="token operator">*</span> <span class="token number">1.0</span> <span class="token operator">/</span> realWidth<span class="token punctuation">;</span>    QPixmap pixmap <span class="token operator">=</span> m_curPixmap<span class="token punctuation">.</span><span class="token function">scaledToHeight</span><span class="token punctuation">(</span>width <span class="token operator">-</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>labDisplay<span class="token operator">-></span><span class="token function">setPixmap</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//å½“å‰èŠ‚ç‚¹å˜åŒ–çš„æ—¶å€™ï¼Œè‡ªåŠ¨åŠ è½½å½“å‰å›¾ç‰‡</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_treeFiles_currentItemChanged</span><span class="token punctuation">(</span>QTreeWidgetItem <span class="token operator">*</span>current<span class="token punctuation">,</span> QTreeWidgetItem <span class="token operator">*</span>previous<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>current <span class="token operator">!=</span> <span class="token keyword">nullptr</span> <span class="token operator">&amp;&amp;</span> previous <span class="token operator">!=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">displayImage</span><span class="token punctuation">(</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ”¾å¤§</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_actAmplification_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    m_ratio <span class="token operator">*=</span> <span class="token number">1.2</span><span class="token punctuation">;</span>                                             <span class="token comment">//åœ¨å½“å‰æ¯”ä¾‹åŸºç¡€ä¸Šä¹˜ä»¥0.8</span>    <span class="token keyword">int</span> height <span class="token operator">=</span> m_curPixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> m_ratio<span class="token punctuation">;</span>                <span class="token comment">// æ˜¾ç¤ºå®½åº¦</span>    <span class="token keyword">int</span> widht <span class="token operator">=</span> m_curPixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> m_ratio<span class="token punctuation">;</span>                  <span class="token comment">// æ˜¾ç¤ºå®½åº¦</span>    QPixmap pix <span class="token operator">=</span> m_curPixmap<span class="token punctuation">.</span><span class="token function">scaled</span><span class="token punctuation">(</span>widht<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//å›¾ç‰‡ç¼©æ”¾åˆ°æŒ‡å®šé«˜åº¦å’Œå®½åº¦ï¼Œä¿æŒé•¿å®½æ¯”ä¾‹</span>    ui<span class="token operator">-></span>labDisplay<span class="token operator">-></span><span class="token function">setPixmap</span><span class="token punctuation">(</span>pix<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//ç¼©å°</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_actShrink_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    m_ratio <span class="token operator">*=</span> <span class="token number">0.8</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> height <span class="token operator">=</span> m_curPixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> m_ratio<span class="token punctuation">;</span>    <span class="token keyword">int</span> widht <span class="token operator">=</span> m_curPixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> m_ratio<span class="token punctuation">;</span>    QPixmap pix <span class="token operator">=</span> m_curPixmap<span class="token punctuation">.</span><span class="token function">scaled</span><span class="token punctuation">(</span>widht<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>labDisplay<span class="token operator">-></span><span class="token function">setPixmap</span><span class="token punctuation">(</span>pix<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//è¿˜åŸ</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_actZoomRealSize_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    m_ratio <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> height <span class="token operator">=</span> m_curPixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> widht <span class="token operator">=</span> m_curPixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QPixmap pix <span class="token operator">=</span> m_curPixmap<span class="token punctuation">.</span><span class="token function">scaled</span><span class="token punctuation">(</span>widht<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>labDisplay<span class="token operator">-></span><span class="token function">setPixmap</span><span class="token punctuation">(</span>pix<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//è®¾ç½®Dockçª—å£æ˜¯å¦æµ®åŠ¨</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_actDockFloating_triggered</span><span class="token punctuation">(</span><span class="token keyword">bool</span> check<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>dockWidget<span class="token operator">-></span><span class="token function">setFloating</span><span class="token punctuation">(</span>check<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//è®¾ç½®Dockçª—å£æ˜¯å¦éšè—ä¸æ˜¾ç¤º</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_actDockVisible_triggered</span><span class="token punctuation">(</span><span class="token keyword">bool</span> checked<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>dockWidget<span class="token operator">-></span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token operator">!</span>checked<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//é€€å‡º</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_actQiut_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//å•å‡»DockWidgetç»„ä»¶çš„æ ‡é¢˜æ çš„å…³é—­æŒ‰é’®æ—¶å€™ï¼Œä¼šéšè—åœ¨åœé åŒºåŸŸï¼Œå¹¶ä¸”å‘å°„ä¿¡å·visibilityChanged;  åœé åŒºåŸŸå¯è§æ€§å˜åŒ–</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_dockWidget_visibilityChanged</span><span class="token punctuation">(</span><span class="token keyword">bool</span> visible<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>actDockVisible<span class="token operator">-></span><span class="token function">setChecked</span><span class="token punctuation">(</span>visible<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//å½“æ‹–åŠ¨DockWidgetç»„ä»¶ï¼Œä½¿å…¶æµ®åŠ¨æˆ–è€…åœé æ—¶å€™ï¼Œä¼šå‘å°„ä¿¡å·topLevelChanged;  æ›´æ–°å…¶Actionçš„çŠ¶æ€</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_dockWidget_topLevelChanged</span><span class="token punctuation">(</span><span class="token keyword">bool</span> topLevel<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>actDockFloating<span class="token operator">-></span><span class="token function">setChecked</span><span class="token punctuation">(</span>topLevel<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><a href="https://github.com/xmuli/QtExamples">https://github.com/xmuli/QtExamples</a>ã€QtQTreeWidgetExã€‘</p>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨MacOSè§£å†³&quot;ä¿®æ”¹â€œApplicationsâ€éœ€è¦è¾“å…¥ç®¡ç†å‘˜åç§°å’Œå¯†ç &quot;çš„æ–¹æ³•</title>
      <link href="/posts/65d36fa4/"/>
      <url>/posts/65d36fa4/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  åœ¨<code>MacOS10.14.6</code>ä¸Šé¢ï¼Œå®‰è£…ä¸€äº›ç½‘ç«™ï¼ˆæˆ–å®˜ç½‘ï¼‰çš„ä¸‹è½½çš„ç¦»çº¿å®‰è£…åŒ…ï¼Œç»å¸¸ä¼šé‡åˆ°å®‰è£…è¿‡ç¨‹ä¸­ä¼šé‡åˆ°<font color=#D0087E size=4 face="å¹¼åœ†">â€œä¿®æ”¹â€œApplicationsâ€éœ€è¦è¾“å…¥ç®¡ç†å‘˜åç§°å’Œå¯†ç â€</font>çš„é—®é¢˜ï¼Œä¸‹é¢æä¾›ä¸€ç§ç®€å•çš„è§£å†³æ–¹æ³•ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/download.jpg"/ loading="lazy"><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="å‡ºç°åŸå› "><a href="#å‡ºç°åŸå› " class="headerlink" title="å‡ºç°åŸå› :"></a>å‡ºç°åŸå› :</h2><p><code>appleç³»ç»Ÿ</code>å‡ºäºå®‰å…¨æ€§çš„è€ƒé‡ï¼Œå¯¹äºé <code>AppStore</code> å®˜æ–¹çš„éƒ½æ˜¯å»ºè®®æ…é‡ä¸‹è½½å’Œè­¦å‘Šç¤ºçš„é˜»æ­¢å®‰è£…ï¼Œä½†æ˜¯å¹¶éä¸€ç‚¹æœºä¼šéƒ½ä¸ç»™å®‰è£…ï¼›</p><br><h2 id="è§£å†³æ–¹æ³•ï¼š"><a href="#è§£å†³æ–¹æ³•ï¼š" class="headerlink" title="è§£å†³æ–¹æ³•ï¼š"></a>è§£å†³æ–¹æ³•ï¼š</h2><ul><li><font color=#D0087E size=4 face="å¹¼åœ†">æœ€ä½³è§£å†³ï¼š</font></li></ul><p>ç›´æ¥å°† <code>xxx.dmg</code> ä¸‹è½½å¥½çš„åº”ç”¨ç¨‹åºå®‰è£…ï¼ŒåŒå‡»æ‰“å¼€:ï¼ˆè‹¥ä¸‹è½½å°±æ˜¯<code>xxx.app</code>æ›´å¥½ï¼Œç›´æ¥è¿›å…¥ä¸‹ä¸€æ­¥éª¤ï¼‰</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-11-24_18-25-34_mark.png"/ loading="lazy"><p>åœ¨ä¸‹å›¾ä¸­ï¼Œç›´æ¥å°†<code>xxx.app</code>ç›´æ¥æ‹–å…¥åˆ° <code>åº”ç”¨ç¨‹åº</code>ä¸­ï¼Œå¦‚ä¸‹å›¾ :</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191124182943.png"/ loading="lazy"><p>ç„¶åå†<code>å¯åŠ¨</code>ä¸­å°±å¯ä»¥æ­£å¸¸è¿è¡Œäº†æ­¤é¡¹ç›®äº†</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191124183126.png"/ loading="lazy">]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - MacOS </category>
          
          <category> å­¦ä¹  - ä»£ç† </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>MacOS å®‰è£… QtCreator 5.9.8 ä½œ C++ çš„ IDE å¼€å‘å·¥å…·</title>
      <link href="/posts/35a6c6f4/"/>
      <url>/posts/35a6c6f4/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  åœ¨<code>MacOS10.14.6 </code>ç¯å¢ƒä¸‹å®‰è£… <code>QtCreator5.9.8</code> ä½œä¸º C++ çš„ IDE å¼€å‘å·¥å…·ï¼Œå­¦ä¹ å’Œä½¿ç”¨ QT</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ä¸‹è½½-QtCreator"><a href="#ä¸‹è½½-QtCreator" class="headerlink" title="ä¸‹è½½ QtCreator"></a>ä¸‹è½½ QtCreator</h2><p><strong>qtå®˜ç½‘ä¸‹è½½åœ°å€ï¼š</strong> <a href="https://download.qt.io/archive/qt/">https://download.qt.io/archive/qt/</a></p><p>æ¨èä¸‹è½½â¬‡ï¸çš„ç‰ˆæœ¬ï¼šä½¿ç”¨çš„<code>Neat Download manager</code>å¤šçº¿ç¨‹å·¥å…·ä¸‹è½½ï¼Œç›¸å½“äº<strong>win</strong>çš„<strong>IDM</strong>ä¸‹è½½å·¥å…·ï¼Œæœ‰æ­¤å·¥å…·ï¼Œä½•æ„é€Ÿåº¦ä¸æ»¡å¸¦å®½ä¸‹é™ï¼Ÿ</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191124232717.png"/ loading="lazy"><br><h2 id="å®‰è£…-QtCreator-æ­¥éª¤"><a href="#å®‰è£…-QtCreator-æ­¥éª¤" class="headerlink" title="å®‰è£… QtCreator æ­¥éª¤"></a>å®‰è£… QtCreator æ­¥éª¤</h2><p>ä¸‹è½½ä¹‹åï¼Œç›´æ¥åŒå‡»ï¼Œæ‰“å¼€ï¼ŒæŒ‰ç…§å¦‚ä¸‹çš„æ“ä½œè¿è¡Œå³å¯ï¼Œä¸‹é¢ä¸ºå®Œæˆçš„æ¯ä¸€æ¯ä¸€ä¸ªè¯¦ç»†æ‰€æœ‰çš„æ­¥éª¤æˆªå›¾</p><ul><li>ç‚¹å‡»<strong>Next</strong>ä¸‹ä¸€æ­¥</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191124232821.png"/ loading="lazy"><ul><li>ç‚¹å‡»<code>Skip</code>è·³è¿‡ï¼Œå¯ä»¥ä¸ç”¨å¡«å†™æ³¨å†Œä¿¡æ¯çš„</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191124232838.png"/ loading="lazy"><ul><li>ç‚¹å‡»<code>ç»§ç»­</code></li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191125000735.png"/ loading="lazy"><ul><li>ç‚¹å‡»<code>ç»§ç»­</code>ï¼Œä½¿ç”¨é»˜è®¤å®‰è£…è·¯å¾„å³å¯ã€åé¢ä¼šç”¨åˆ°è¿™ä¸ªè·¯å¾„ã€‘</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191125000750.png"/ loading="lazy"><ul><li>å‹¾é€‰å¦‚ä¸‹å›¾æ‰€ç¤ºçš„æ¨¡å—ï¼Œä¸€èˆ¬å®‰è£…<strong>MacOS+Sources+QtCreator</strong>ï¼ˆæˆ‘æ‰€è®¤ä¸ºçš„å¿…é¡»å®‰è£…ï¼‰å­¦ä¹ ä½¿ç”¨å¤Ÿäº†ï¼Œä½†æ˜¯ä¸ºäº†ç³»ç»Ÿçš„å­¦ä¹ ä¸€äº›æ–°çš„æ¨¡å—ï¼Œæ¨èå°†å¦‚ä¸‹çš„ä¹Ÿéƒ½å‹¾é€‰é¡¹ä¸Š</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-11-24_23-38-36.png"/ loading="lazy"><ul><li>ç‚¹å‡»<code>åŒæ„</code>å’Œ<code>ç»§ç»­</code>ï¼Œè®¤åŒè¿™äº›æ²¡æœ‰äººä¼šä»”ç»†çœ‹çš„è¿™äº›æ¡æ¬¾</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191124234217.png"/ loading="lazy"><ul><li>å·²ç»æ­£å¼å¼€å§‹å®‰è£…äº†ï¼Œç‚¹å‡»<code>æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯</code>å¯ä»¥æŸ¥çœ‹å½“å‰å®‰è£…åˆ°å“ªé‡Œç»†èŠ‚çš„éƒ¨åˆ†ï¼ˆç­‰å¾…æ—¶é—´å¯ä»¥å»å–æ¯å’–å•¡ï¼‰</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191124234353.png"/ loading="lazy"><ul><li>å®‰è£…å®Œæˆï¼Œç‚¹å‡»<code>å®Œæˆ</code>ï¼Œå³å¯æˆåŠŸè¿è¡ŒQtCreaotæ¥æ„‰å¿«çš„ç¼–ç äº†</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191124234538.png"/ loading="lazy"><br><h2 id="å¯åŠ¨-QtCreator"><a href="#å¯åŠ¨-QtCreator" class="headerlink" title="å¯åŠ¨ QtCreator"></a>å¯åŠ¨ QtCreator</h2><p>æ‰“å¼€å¯åŠ¨ï¼Œå‘ç°å¹¶æ²¡æœ‰æˆ‘ç†Ÿæ‚‰çš„é‚£ä¸ªå›¾æ ‡ï¼Œæœç´¢ğŸ”ä¹Ÿæ²¡æœ‰çœ‹åˆ°ï¼›æ‰“å¼€<code>/Users/yuanyi/Qt5.9.8/Qt Creator.app</code>ï¼Œå…¶ä¸­yuanyiä¸ºä½ è‡ªå·±ç”µè„‘çš„ç”¨æˆ·å</p><p><strong>å¯åŠ¨QtCreatorå’Œå¤šå¼€QtCreatorçš„æ–¹æ³•åœ¨ä¸‹å›¾ä¸­</strong>ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-11-24_23-52-09_mark.png"/ loading="lazy"><p>å¼€å§‹ç¼–ç ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-11-24_23-59-56_mark.png"/ loading="lazy">]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - MacOS </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Qt Creator å…³é—­.cppæ–‡ä»¶å³ä¾§çš„é»„è‰²è­¦å‘Š</title>
      <link href="/posts/63940372/"/>
      <url>/posts/63940372/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  åœ¨<code>Qt Creator</code>é‡Œé¢ï¼Œé»˜è®¤æ‰“å¼€ä¸€ä¸ªé¡¹ç›®æ–‡ä»¶ï¼Œç‚¹å¼€ä¸€ä¸ª<code>*.cpp</code>æ–‡ä»¶é‡Œé¢ï¼Œæ˜¯å¾ˆå®¹æ˜“åœ¨å³ä¾§çœ‹åˆ°æˆç‰‡çš„é»„è‰²è­¦å‘Šâš ï¸æˆ–è€…çº¢é¢œè‰²çš„<code>error</code>æç¤ºï¼Œ æ€»æ˜¯è®©çœ‹çš„äººæ¯”è¾ƒææ…Œï¼Œç„¶ååœ¨æ­¤æ–‡ç« ä¸­ï¼Œç»™å‡ºå¦‚ä½•å…³é—­è¿™ä¸ªé»„è‰²ã€çº¢è‰²è­¦å‘Šçš„çš„æ–¹æ³•</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="å…³é—­é»„è‰²è­¦å‘Šï¼ˆå’Œçº¢è‰²ï¼‰æç¤ºï¼š"><a href="#å…³é—­é»„è‰²è­¦å‘Šï¼ˆå’Œçº¢è‰²ï¼‰æç¤ºï¼š" class="headerlink" title="å…³é—­é»„è‰²è­¦å‘Šï¼ˆå’Œçº¢è‰²ï¼‰æç¤ºï¼š"></a>å…³é—­é»„è‰²è­¦å‘Šï¼ˆå’Œçº¢è‰²ï¼‰æç¤ºï¼š</h2><h3 id="æœªä¿®æ”¹ä¹‹å‰ï¼š"><a href="#æœªä¿®æ”¹ä¹‹å‰ï¼š" class="headerlink" title="æœªä¿®æ”¹ä¹‹å‰ï¼š"></a>æœªä¿®æ”¹ä¹‹å‰ï¼š</h3><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>MacOS 10.14.6 (18G103)</code>  </p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong> <code>Qt 5.12.5</code>ï¼Œ <code>Qt Creator 4.10.0</code></p><p>æœ‰ç€æ¯”è¾ƒå¤šçš„é»„è‰²ï¼ˆçº¢è‰²ï¼‰è­¦å‘Šï¼Œè™½ç„¶ä¸å½±å“ç¼–è¯‘ï¼Œ ä½†æ˜¯çœ‹èµ·æ¥å¾ˆä¸çˆ½ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-11-06_20-06-30_mark.png"/ loading="lazy"><h3 id="ä¿®æ”¹æ–¹æ³•å’Œæ•ˆæœï¼š"><a href="#ä¿®æ”¹æ–¹æ³•å’Œæ•ˆæœï¼š" class="headerlink" title="ä¿®æ”¹æ–¹æ³•å’Œæ•ˆæœï¼š"></a>ä¿®æ”¹æ–¹æ³•å’Œæ•ˆæœï¼š</h3><p><strong>æ­¥éª¤ï¼š</strong> ç‚¹å‡»å±å¹•å·¦ä¸Šè§’çš„<code>Qt Cretor - å…³äºæ’ä»¶ - Name - c++: ClangcodeModel </code>ï¼Œå°†è¿™ä¸€æ çš„å¯¹é’©âœ”ï¸å–æ¶ˆæ‰ï¼Œç„¶åé‡å¯<code>Qt Cretor</code>ï¼Œå†æ¬¡æ‰“å¼€ä¹‹åï¼Œ å°±å¥½äº†</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191106203719.png"/ loading="lazy"><p><strong>æˆåŠŸé‡å¯åï¼š</strong></p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191106203852.png"/ loading="lazy">]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>macOSæ‰§è¡Œnpm install -g hexo-cliå¤±è´¥çš„è§£å†³æ–¹æ³•</title>
      <link href="/posts/e8ddf53b/"/>
      <url>/posts/e8ddf53b/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  æŒ‰ç…§å®˜ç½‘å®‰è£…<code>hexo</code>çš„æ•™ç¨‹å‘½ä»¤ï¼›æ‰§è¡Œå‘½ä»¤<code>npm install -g hexo-cli</code>æ—¶å€™ï¼Œ <strong>æŠ¥é”™</strong>å¦‚ä¸‹çš„è§£å†³æ–¹æ³•</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> WARN checkPermissions Missing <span class="token function">write</span> access to /usr/local/lib/node_modules/hexo-cli<span class="token function">npm</span> WARN checkPermissions Missing <span class="token function">write</span> access to /usr/local/lib/node_modules/hexo-cli/node_modules/chokidar<span class="token function">npm</span> ERR<span class="token operator">!</span> code EACCES<span class="token function">npm</span> ERR<span class="token operator">!</span> syscall access<span class="token function">npm</span> ERR<span class="token operator">!</span> path /usr/local/lib/node_modules/hexo-cli<span class="token function">npm</span> ERR<span class="token operator">!</span> errno <span class="token parameter variable">-13</span><span class="token function">npm</span> ERR<span class="token operator">!</span> Error: EACCES: permission denied, access <span class="token string">'/usr/local/lib/node_modules/hexo-cli'</span><span class="token function">npm</span> ERR<span class="token operator">!</span>  <span class="token punctuation">[</span>Error: EACCES: permission denied, access <span class="token string">'/usr/local/lib/node_modules/hexo-cli'</span><span class="token punctuation">]</span> <span class="token punctuation">&#123;</span><span class="token function">npm</span> ERR<span class="token operator">!</span>   stack: <span class="token string">"Error: EACCES: permission denied, access '/usr/local/lib/node_modules/hexo-cli'"</span>,<span class="token function">npm</span> ERR<span class="token operator">!</span>   errno: -13,<span class="token function">npm</span> ERR<span class="token operator">!</span>   code: <span class="token string">'EACCES'</span>,<span class="token function">npm</span> ERR<span class="token operator">!</span>   syscall: <span class="token string">'access'</span>,<span class="token function">npm</span> ERR<span class="token operator">!</span>   path: <span class="token string">'/usr/local/lib/node_modules/hexo-cli'</span><span class="token function">npm</span> ERR<span class="token operator">!</span> <span class="token punctuation">&#125;</span><span class="token function">npm</span> ERR<span class="token operator">!</span> <span class="token function">npm</span> ERR<span class="token operator">!</span> The operation was rejected by your operating system.<span class="token function">npm</span> ERR<span class="token operator">!</span> It is likely you <span class="token keyword">do</span> not have the permissions to access this <span class="token function">file</span> as the current user<span class="token function">npm</span> ERR<span class="token operator">!</span> <span class="token function">npm</span> ERR<span class="token operator">!</span> If you believe this might be a permissions issue, please double-check the<span class="token function">npm</span> ERR<span class="token operator">!</span> permissions of the <span class="token function">file</span> and its containing directories, or try running<span class="token function">npm</span> ERR<span class="token operator">!</span> the <span class="token builtin class-name">command</span> again as root/Administrator.<span class="token function">npm</span> ERR<span class="token operator">!</span> A complete log of this run can be found in:<span class="token function">npm</span> ERR<span class="token operator">!</span>     /Users/yuanyi/.npm/_logs/2019-10-30T11_43_55_100Z-debug.log<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="å®‰è£…èƒŒæ™¯ï¼š"><a href="#å®‰è£…èƒŒæ™¯ï¼š" class="headerlink" title="å®‰è£…èƒŒæ™¯ï¼š"></a>å®‰è£…èƒŒæ™¯ï¼š</h2><p><code>hexo</code>å®˜ç½‘ï¼š<a href="https://hexo.io/zh-cn/docs/index.html">https://hexo.io/zh-cn/docs/index.html</a></p><p>ä½¿ç”¨<code>macOS10.14.6</code>å®‰è£…<code>hexo</code>çš„æ—¶å€™ï¼Œé‡‡ç”¨å®˜æ–¹çš„å‘½ä»¤ï¼š<code>npm install -g hexo-cli</code>,å®‰è£…å‡ºç°ï¼Œå¦‚ä¸‹é”™è¯¯ï¼›</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/dev/img2/ss.png"/ loading="lazy"><br><h2 id="æŠ¥é”™åŸå› ï¼š"><a href="#æŠ¥é”™åŸå› ï¼š" class="headerlink" title="æŠ¥é”™åŸå› ï¼š"></a>æŠ¥é”™åŸå› ï¼š</h2><h3 id="é”™è¯¯ä¸€-é€šå¸¸æ˜¯è¿™ä¸ªåŸå› -ï¼š"><a href="#é”™è¯¯ä¸€-é€šå¸¸æ˜¯è¿™ä¸ªåŸå› -ï¼š" class="headerlink" title="é”™è¯¯ä¸€(é€šå¸¸æ˜¯è¿™ä¸ªåŸå› )ï¼š"></a>é”™è¯¯ä¸€(é€šå¸¸æ˜¯è¿™ä¸ªåŸå› )ï¼š</h3><ul><li><p>é”™è¯¯åŸå› âï¼šæ²¡æœ‰ä½¿ç”¨ç®¡ç†å‘˜æƒé™å®‰è£…</p><p>  æ³¨æ„ï¼š<strong>éœ€è¦æ³¨æ„çš„ç‚¹</strong>: åœ¨å®‰è£…<code>hexo</code>æ—¶,ä¸è¦ç”¨ <code>sudo</code> å‘½ä»¤.</p><h4 id="è§£å†³æ–¹æ³•ï¼š"><a href="#è§£å†³æ–¹æ³•ï¼š" class="headerlink" title="è§£å†³æ–¹æ³•ï¼š"></a>è§£å†³æ–¹æ³•ï¼š</h4><p>  ç¬¬ä¸€æ­¥,èµ‹äºˆç›®å½•æƒé™:</p><p>  ç¬¬äºŒæ­¥ï¼Œå®‰è£…<code>hexo</code>ï¼š</p></li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">chown</span> <span class="token parameter variable">-R</span> <span class="token variable"><span class="token variable">`</span><span class="token function">whoami</span><span class="token variable">`</span></span> /usr/local/lib/node_modules<span class="token function">npm</span> <span class="token function">install</span> hexo-cli <span class="token parameter variable">-g</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><br><h3 id="é”™è¯¯äºŒï¼š"><a href="#é”™è¯¯äºŒï¼š" class="headerlink" title="é”™è¯¯äºŒï¼š"></a>é”™è¯¯äºŒï¼š</h3><ul><li><p>é”™è¯¯åŸå› âï¼šç”±äº<code>npm</code>çš„å®˜æ–¹é•œåƒæºåœ¨å›½å¤–,è€Œç”±äºå›½å†…â€ä¼—æ‰€å‘¨çŸ¥çš„â€çš„ç½‘ç»œåŸå› ,è®¿é—®é»˜è®¤çš„å®˜æ–¹é•œåƒæºå¸¸å¸¸ä¼šå‡ºé—®é¢˜.æˆ‘ä»¬å¯ä»¥æ›´æ”¹ä¸ºå›½å†…çš„é•œåƒæºæ¥åŠ é€Ÿè½¯ä»¶çš„å®‰è£….</p><h4 id="è§£å†³æ–¹æ³•ï¼š-1"><a href="#è§£å†³æ–¹æ³•ï¼š-1" class="headerlink" title="è§£å†³æ–¹æ³•ï¼š"></a>è§£å†³æ–¹æ³•ï¼š</h4></li></ul><p>æ›´æ¢<code>npm</code>é•œåƒæºï¼Œæ ¹æ®ä¼—å¤šç½‘å‹æ¨èï¼Œ æ¨èä½¿ç”¨<strong>taobao</strong>çš„é•œåƒæºï¼š</p><p><strong>æ°¸ä¹…æ›¿æ¢<code>npm</code>ä¸º<code>taobao</code>çš„æ–¹æ³•:</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> config <span class="token builtin class-name">set</span> registry https://registry.npm.taobao.org<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>æ°¸ä¹…æ›¿æ¢<code>npm</code>ä¸º<code>å®˜æ–¹æº</code>çš„æ–¹æ³•:</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> config <span class="token builtin class-name">set</span> registry https://registry.npmjs.org/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>æŸ¥çœ‹è®¾ç½®æ˜¯çš„<code>npm</code>æºå¦ç”Ÿæ•ˆï¼š</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> config get registry<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æé†’ï¼šä½¿ç”¨æ·˜å®æºå’Œä½¿ç”¨å®˜æ–¹æºå…·æœ‰å¯èƒ½ä¼šè¯·æ±‚å¤±è´¥ï¼Œ-è¿™é‡Œæ¨èä¸¤ç§éƒ½å°è¯•ä¸€ä¸‹ï¼Œæ ¹æ®è‡ªå·±çš„æƒ…å†µè€Œå®š"><a href="#æé†’ï¼šä½¿ç”¨æ·˜å®æºå’Œä½¿ç”¨å®˜æ–¹æºå…·æœ‰å¯èƒ½ä¼šè¯·æ±‚å¤±è´¥ï¼Œ-è¿™é‡Œæ¨èä¸¤ç§éƒ½å°è¯•ä¸€ä¸‹ï¼Œæ ¹æ®è‡ªå·±çš„æƒ…å†µè€Œå®š" class="headerlink" title="æé†’ï¼šä½¿ç”¨æ·˜å®æºå’Œä½¿ç”¨å®˜æ–¹æºå…·æœ‰å¯èƒ½ä¼šè¯·æ±‚å¤±è´¥ï¼Œ è¿™é‡Œæ¨èä¸¤ç§éƒ½å°è¯•ä¸€ä¸‹ï¼Œæ ¹æ®è‡ªå·±çš„æƒ…å†µè€Œå®š"></a>æé†’ï¼šä½¿ç”¨æ·˜å®æºå’Œä½¿ç”¨å®˜æ–¹æºå…·æœ‰å¯èƒ½ä¼šè¯·æ±‚å¤±è´¥ï¼Œ è¿™é‡Œæ¨èä¸¤ç§éƒ½å°è¯•ä¸€ä¸‹ï¼Œæ ¹æ®è‡ªå·±çš„æƒ…å†µè€Œå®š</h4><p>ç»“åˆä¸Šé¢ï¼Œé™„ä¸Šä¸€å¼ å®‰è£…æˆåŠŸçš„å›¾ç‰‡ï¼ˆå› ä¸ºä¹‹å‰å®‰è£…è¿‡ï¼Œ æ‰€ä»¥å¦‚ä¸‹ï¼‰ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/dev/img2/Snipaste_2019-10-30_20-26-41_mark.png"/ loading="lazy"><br><h2 id="é”™è¯¯ä¸‰ï¼š"><a href="#é”™è¯¯ä¸‰ï¼š" class="headerlink" title="é”™è¯¯ä¸‰ï¼š"></a>é”™è¯¯ä¸‰ï¼š</h2><p>å¿˜è®°æ˜¯å“ªé‡Œçœ‹åˆ°çš„ä¸€ç¯‡æ–‡ç« ï¼Œç»“åˆæˆ‘è‡ªå·±çš„ä¸Šä¸€ç¯‡å…³äºhexoå®‰è£…çš„æ•™ç¨‹ç»éªŒï¼Œ ä¹Ÿçš„ç¡®ç¤ºå‘ç°æœ‰å¯èƒ½æ˜¯æƒé™ä¸è¶³å¤Ÿï¼Œåœ¨macOSç³»ç»Ÿä¸‹ï¼Œ è¿è¡Œéœ€è¦æ·»åŠ sudoå‘½ä»¤:</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">npm</span> <span class="token function">install</span> hexo-cli <span class="token parameter variable">-g</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ­¤å¤„è§£å†³æ–¹æ¡ˆä¸‰ä¸ºä»¥ä¸Šä¸¤ç§æ–¹æ³•å‡å¤±è´¥ä¸‹ï¼Œ å¯ä»¥ä¸€è¯•ï¼› åŸç†è¿˜æœ‰å¾ˆå¤šä¸æ‡‚ï¼Œæœ›å„ç½‘å‹è§ç¬‘ï¼Œ æ­¤å¤„æ­¤æ–‡åˆ°æ­¤ï¼Œæƒå½“ä¸€å¤„è®°å½•ï¼Œä½†å€˜è‹¥èƒ½å¤Ÿç»™ä½ å¯å‘ï¼Œ å¸®åŠ©åˆ°ä½ ï¼Œ æˆ‘ä¹Ÿæ˜¯å¾ˆé«˜å…´çš„ã€‚ æœé—»é“ï¼Œå¤•å¯æ­»ï¼ ä¸”å­¦æµ·æ— æ¶¯ï¼Œ æ„¿æ‰€è§æ‰€é—»æœ‰æ‰€è®°å½•ï¼Œä¸æ›¾å¹å¹æ¯åœ¨æ­¤é—´èµ°ä¸€é­ï¼›æ•°é£æµäººç‰©ï¼Œ ä¸è¿‡ç™¾è½½ï¼Œæ—¶é—´é€ï¼Œä»ç„¶è®°å‡ è®¸ï¼Ÿé‡è‰äºç¾¤æ˜Ÿï¼Œå„è‡ªç²¾å½©ï¼Œæ„¿ä»Šåçš†å¯ä»¥æœ›</p><br><p>ä¸‹é¢è¿™ä¸€ç¯‡æ–‡ç« ï¼Œ çœŸçš„å†™çš„å¾ˆæ£’ï¼Œä¹Ÿå¾ˆæ˜¯æ¸…æ™°ï¼Œç›¸æ¯”ç½‘ä¸Šçš„å…¶ä»–ä¸€å¤§éƒ½æ˜¯ä¸€æŠ„åï¼Œåä¼ ç™¾ï¼Œç™¾ä¼ éå…¨ç½‘ï¼›ä½†æ˜¯éƒ½æ˜¯ä¸ç¬¦åˆï¼Œæˆ–è€…æ— æ³•è§£å†³å®é™…ï¼Œ ä¸”æ²¡æœ‰è¯´åŸå› ï¼Œ ç›´æ¥å‡ ä¸ªå‘½ä»¤ï¼Œä»¤æˆ‘ç—›æƒœï¼Œ ä¸‹é¢æ”¾ä¸€ç¯‡æ¯”è¾ƒç²¾é›•ç»†ç¢çš„æ–‡ç« ï¼ŒèŠ±äº†å¿ƒæ€å†™çš„ï¼Œåœ¨æ­¤å‚è€ƒï¼Œè¡¨ç¤ºæ„Ÿè°¢</p><p>å‚è€ƒæ–‡ç« ï¼š<a href="https://www.itfanr.cc/2017/10/27/problems-for-configuring-hexo-blog-in-mac/">Macç³»ç»Ÿä¸‹é…ç½®Hexoåšå®¢è¿è¡Œç¯å¢ƒé‡åˆ°çš„é—®é¢˜</a> </p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - MacOS </category>
          
          <category> å­¦ä¹  - Hexo </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>doxygenæ·»åŠ æšä¸¾åœ¨ç”Ÿæˆçš„æ–‡æ¡£é‡Œé¢æ˜¾ç¤º</title>
      <link href="/posts/53427761/"/>
      <url>/posts/53427761/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  ç±»é‡Œé¢æœ‰ç€<strong>æšä¸¾</strong>ï¼›æƒ³è¦åœ¨ç”Ÿæˆçš„æ–‡ä»¶<code>html</code>æ–‡ä»¶å¯ä»¥ç›´æ¥é¢„è§ˆ</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p>åœ¨ç±»é‡Œé¢æœ‰<strong>æšä¸¾</strong>æ•°å€¼, ä½†æ˜¯éœ€è¦åœ¨ç”Ÿæˆhtmlé‡Œé¢æ˜¾ç¤ºå‡ºæ¥; å…¶ä¸­ç±»é‡Œé¢çš„æšä¸¾å¦‚ä¸‹:</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">DFloatingMessage</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">DFloatingWidget</span></span><span class="token punctuation">&#123;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">enum</span> <span class="token class-name">MessageType</span> <span class="token punctuation">&#123;</span>        TransientType<span class="token punctuation">,</span>  <span class="token comment">//ä¸´æ—¶çš„æ¶ˆæ¯</span>        ResidentType    <span class="token comment">//å¸¸é©»çš„æ¶ˆæ¯</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨å¯¹åº”çš„é¡¹ç›®å·¥ç¨‹ä¸­, å¯ä»¥å†™ä¸‹å¦‚ä¸‹çš„æ³¨é‡Šä»£ç :</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">/*! * * \~chinese \enum DFloatingMessage::MessageType * \~chinese DFloatingMessage::MessageType å®šä¹‰äº† DFloatingMessage é€šçŸ¥ç±»å‹ * \~chinese \var DFloatingMessage:MessageType DFloatingMessage::TransientType * \~chinese ä¸´æ—¶çš„æ¶ˆæ¯ * \~chinese \var DDFloatingMessage:MessageType DFloatingMessage::ResidentType * \~chinese å¸¸é©»çš„æ¶ˆæ¯ */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç”Ÿæˆçš„æ•ˆæœå›¾å¦‚ä¸‹:</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/dev/img2/20191029220402.png"/ loading="lazy">]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Doxygen </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>doxygenç”Ÿæˆæˆªå›¾å’Œæ³¨é‡Šå›¾ç‰‡åœ¨æ–‡æ¡£é‡Œé¢æŸ¥çœ‹</title>
      <link href="/posts/9bb474b0/"/>
      <url>/posts/9bb474b0/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  åœ¨ç”Ÿæˆçš„æ–‡ä»¶<code>html</code>æ–‡ä»¶å¯ä»¥ç›´æ¥é¢„è§ˆåˆ°æ’å…¥çš„æˆªå›¾å›¾ç‰‡å¯ä»¥è¢«æŸ¥çœ‹ï¼Œä¸”æ‰‹å†™çš„æ³¨é‡Šæ–‡æ¡£å›¾ç‰‡ä¹Ÿå¯ä»¥è¢«æŸ¥çœ‹</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="æ·»åŠ æ³¨é‡Šå‹å›¾ç‰‡"><a href="#æ·»åŠ æ³¨é‡Šå‹å›¾ç‰‡" class="headerlink" title="æ·»åŠ æ³¨é‡Šå‹å›¾ç‰‡:"></a>æ·»åŠ æ³¨é‡Šå‹å›¾ç‰‡:</h3><p>æ·»åŠ çš„ä»£ç æ³¨é‡Šå¦‚ä¸‹:</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">/*!* \~chinese \class QTest* \~chinese \brief åœ¨æ­¤å¤„æè¿°è¿™ä¸ªç±»çš„è¯¦ç»†ä»‹ç»** \~chinese \htmlonly* &lt;pre style="font-family: FreeMono, Consolas, Menlo, 'Noto Mono', 'Courier New', Courier, monospace;line-height: 100%;">* ã€€ã€€ã€€â”â”“ã€€ã€€ã€€â”â”“* ã€€ã€€â”â”›â”»â”â”â”â”›â”»â”“* ã€€ã€€â”ƒã€€ã€€ã€€ã€€ã€€ã€€ã€€ â”ƒ* ã€€ã€€â”ƒã€€ã€€ã€€â”ã€€ã€€ã€€ â”ƒ* ã€€ã€€â”ƒã€€ï¼ã€€ã€€ã€€ï¼œâ”ƒ* ã€€ã€€â”ƒã€€ã€€ã€€ã€€ã€€ã€€ã€€ â”ƒ* ã€€ã€€â”ƒ . âŒ’ã€€..â”ƒ* ã€€ã€€â”ƒã€€ã€€ã€€ã€€ã€€ã€€ã€€ â”ƒ* ã€€ã€€â”—â”â”“ã€€ã€€ã€€â”â”â”›* ã€€ã€€ã€€ã€€â”ƒã€€ã€€ã€€â”ƒã€€Codes are far away from bugs with the animal protecting* ã€€ã€€ã€€ã€€â”ƒã€€ã€€ã€€â”ƒ ç¥å…½ä¿ä½‘,ä»£ç æ— bug* ã€€ã€€ã€€ã€€â”ƒã€€ã€€ã€€â”ƒ* ã€€ã€€ã€€ã€€â”ƒã€€ã€€ã€€â”ƒ* ã€€ã€€ã€€ã€€â”ƒã€€ã€€ã€€â”ƒ* ã€€ã€€ã€€ã€€â”ƒã€€ã€€ã€€â”ƒ* ã€€ã€€ã€€ã€€â”ƒã€€ã€€ã€€â”—â”â”â”â”“* ã€€ã€€ã€€ã€€â”ƒã€€ã€€ã€€ã€€ã€€ã€€ã€€â”£â”“* ã€€ã€€ã€€ã€€â”ƒã€€ã€€ã€€ã€€ã€€ã€€ã€€â”â”›* ã€€ã€€ã€€ã€€â”—â”“â”“â”â”â”³â”“â”â”›* ã€€ã€€ã€€ã€€ã€€â”ƒâ”«â”«ã€€â”ƒâ”«â”«* ã€€ã€€ã€€ã€€ã€€â”—â”»â”›ã€€â”—â”»â”›* &lt;/pre>* \endhtmlonly* \~chinese è¿™é‡Œä»€ä¹ˆéƒ½ä¸æƒ³å†™.... know, ä¸”å’Œä½ è¯´, å†™ä»£ç æ³¨é‡Šå¾ˆå®¹æ˜“çŠ¯å›°*/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>æ•ˆæœå›¾ç‰‡</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/dev/img2/20191029215730.png"/ loading="lazy"><br><h3 id="æ·»åŠ çœŸå®å‹å›¾ç‰‡"><a href="#æ·»åŠ çœŸå®å‹å›¾ç‰‡" class="headerlink" title="æ·»åŠ çœŸå®å‹å›¾ç‰‡:"></a>æ·»åŠ çœŸå®å‹å›¾ç‰‡:</h3><ul><li>ä¿®æ”¹<code>Doxyfile</code>æ–‡ä»¶, å°†å­˜æ”¾å›¾ç‰‡çš„è·¯å¾„æ·»åŠ åˆ°<code>IMAGE_PATH = </code> åé¢</li></ul><p>æ·»åŠ æ”¾å…¥å›¾ç‰‡çš„è·¯å¾„; è‹¥æ˜¯å­˜æ”¾çˆ¶è·¯å¾„ â€œ.&#x2F;docâ€ ä¹Ÿå¯ä»¥;  å‘ä¸‹éå†æŸ¥è¯¢åˆ°æ”¾çš„å›¾ç‰‡. è¿™é‡Œçš„è·¯å¾„æ˜¯ä½ å­˜æ”¾é™æ€å›¾ç‰‡çš„è·¯å¾„,  åšä¸»ä¸ºâ€å½“å‰å·¥ç¨‹é¡¹ç›®&#x2F;doc&#x2F;imagesâ€è¿™ä¸ªè·¯å¾„</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">IMAGE_PATH             <span class="token operator">=</span> ./doc/images <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>åœ¨å·¥ç¨‹é¡¹ç›®é‡Œé¢,  å…·ä½“çš„<code>*.cpp</code> æ–‡ä»¶é‡Œé¢, æ·»åŠ ç¬¦åˆ(doxygen)è§„èŒƒçš„æ³¨é‡Š,  ä¾¿äºç”Ÿæˆ</li></ul><p>å®é™…ç”¨æ³•:</p><blockquote><p>cd doc&#x2F;image<br>ç”¨æ³•: image htmp å›¾ç‰‡.png</p></blockquote><p>eg:</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">/*! * \~chinese \class QTest * \~chinese \brief è¿™æ˜¯ä¸€ä¸ªæ¼”ç¤ºçš„ç±»çš„è¯¦ç»†æè¿° * \chiinese \image html gril.png */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ç„¶åæ‰§è¡Œç”Ÿæˆæ–‡ä»¶å³å¯,  æŸ¥çœ‹é¢„è§ˆæ•ˆæœ</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/dev/img2/20191029215808.png"/ loading="lazy">]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Doxygen </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>doxygenä»‹ç»å’Œå®‰è£…å’Œåœ¨Linuxä¸‹ä½¿ç”¨</title>
      <link href="/posts/5350627/"/>
      <url>/posts/5350627/</url>
      
        <content type="html"><![CDATA[<p>ã€€ã€€<strong>ç®€  è¿°ï¼š</strong>  <code>Doxygen</code>æ˜¯ä¸€ä¸ªç¨‹åºçš„æ–‡æ¡£äº§ç”Ÿå·¥å…·ï¼Œå¯ä»¥å°†ç¨‹åºä¸­çš„æ³¨é‡Šè½¬æ¢æˆè¯´æ˜æ–‡æ¡£æˆ–è€…è¯´æ˜¯APIå‚è€ƒæ‰‹å†Œï¼Œä»è€Œå‡å°‘ç¨‹åºå‘˜æ•´ç†æ–‡æ¡£çš„æ—¶é—´ã€‚å½“ç„¶è¿™é‡Œç¨‹åºä¸­çš„æ³¨é‡Šéœ€è¦éµå¾ªä¸€å®šçš„è§„åˆ™ä¹¦å†™ï¼Œæ‰èƒ½è®©<code>Doxygen</code>è¯†åˆ«å’Œè½¬åŒ–ã€‚</p><p>ç›®å‰<code>Doxygen</code>å¯å¤„ç†çš„ç¨‹åºè¯­è¨€åŒ…å«<code>C/C++</code>ã€<code>Java</code>ã€<code>Objective-C</code>ã€<code>IDL</code>ç­‰ï¼Œå¯äº§ç”Ÿå‡ºæ¥çš„æ–‡æ¡£æ ¼å¼æœ‰<code>HTML</code>ã€<code>XML</code>ã€<code>LaTeX</code>ã€<code>RTF</code>ç­‰ï¼Œæ­¤å¤–è¿˜å¯è¡ç”Ÿå‡ºä¸å°‘å…¶å®ƒæ ¼å¼ï¼Œå¦‚<code>HTML</code>å¯ä»¥æ‰“åŒ…æˆ<code>CHM</code>æ ¼å¼ï¼Œè€Œ<code>LaTeX</code>å¯ä»¥é€šè¿‡ä¸€äº›å·¥å…·äº§ç”Ÿå‡º<code>PS</code>æˆ–æ˜¯<code>PDF</code>æ–‡æ¡£ç­‰ã€‚</p><p>å³: é€šè¿‡ä»£ç é‡Œé¢çš„æ³¨é‡Š,ç”Ÿæˆ<code>html</code> æˆ– <code>chm</code>è¿™ä¸€ç±»çš„æ‰‹å†Œè¯´æ˜,æå…¶ç±»ä¼¼äºqtå¸®åŠ©æ–‡æ¡£</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ä¸‹è½½doxygen"><a href="#ä¸‹è½½doxygen" class="headerlink" title="ä¸‹è½½doxygen:"></a>ä¸‹è½½doxygen:</h2><p>å®˜ç½‘: <a href="http://www.doxygen.nl/download.html">http://www.doxygen.nl/download.html</a></p><p>æ”¯æŒ<strong>Windows</strong>&#x2F;<strong>macOS</strong>&#x2F;<strong>Linux</strong>å¹³å°(ç®€ç›´å°±æ˜¯å¥½äºº)</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/dev/img/20191029213518.png"/ loading="lazy"><br><h2 id="Linuxä¸‹ä½¿ç”¨dexygenç”Ÿæˆæ–‡æ¡£"><a href="#Linuxä¸‹ä½¿ç”¨dexygenç”Ÿæˆæ–‡æ¡£" class="headerlink" title="Linuxä¸‹ä½¿ç”¨dexygenç”Ÿæˆæ–‡æ¡£:"></a>Linuxä¸‹ä½¿ç”¨dexygenç”Ÿæˆæ–‡æ¡£:</h2><p>è¿™é‡Œåœ¨<code>deepin v20( Linux) </code>æ¼”ç¤º:</p><ul><li>å®‰è£…å‘½ä»¤<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> doxygen<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>æˆªæ­¢åˆ°æˆ‘å®‰è£…çš„æ—¶å€™, æœ€æ–°çš„ç‰ˆæœ¬æ˜¯<strong>1.8.13</strong> (2019-10-29å®˜ç½‘Linuxç‰ˆä¸‹è½½)</li><li>è¿›å…¥åˆ°å·¥ç¨‹é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹<code>~/projects/dtkwidget</code>, ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ç”Ÿæˆ<code>Doxyfile</code>æ–‡ä»¶(è¿™æ˜¯ä¸€ä¸ªé…ç½®æ–‡ä»¶)<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">doxygen <span class="token parameter variable">-g</span>      //ç”Ÿæˆå¸¦è¯¦ç»†æ³¨é‡Šçš„Doxyfileæ–‡ä»¶ çº¦2120è¡Œ//æˆ–doxygen <span class="token parameter variable">-s</span> <span class="token parameter variable">-g</span>   //ç”Ÿæˆä¸å¸¦è¯¦ç»†æ³¨é‡Šçš„Doxyfileæ–‡ä»¶  çº¦374è¡Œ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li>ç¼–è¾‘ä½¿ç”¨<code>vim</code>ç¼–è¾‘å¦‚ä¸‹çš„<code>Doxyfile</code>æ–‡ä»¶;  å…¶ä¸­è¿™å‡ ç‚¹å¿…é¡»ä¿®æ”¹, ä¸ç„¶å¯èƒ½å’Œé¢„æœŸçš„æ•ˆæœä¸ä¸€æ ·<blockquote><p>&#x2F;&#x2F;å¿…é¡»è¦å¡«å†™:<br>OUTPUT_DIRECTORYÂ  Â  Â  Â &#x3D;&#x2F;home&#x2F;yuanyi&#x2F;projects&#x2F;out     &#x2F;&#x2F;è¾“å‡ºå­˜æ”¾æ–‡æ¡£çš„è·¯å¾„<br>RECURSIVEÂ  Â  Â  Â  Â  Â  Â               &#x3D; YES                          &#x2F;&#x2F;æ–‡ä»¶é€’å½’,åŒ…æ‹¬å­æ–‡ä»¶ä¹Ÿè¦è¾“å‡ºä¸ºæ–‡æ¡£<br>IMAGE_PATHÂ  Â  Â  Â  Â  Â  Â            &#x3D; .&#x2F;doc&#x2F;images      &#x2F;&#x2F;è‹¥æ˜¯æƒ³è¦æ–‡æ¡£é‡Œé¢æ’å…¥å›¾ç‰‡,éœ€è¦å­˜æ”¾å›¾ç‰‡è·¯å¾„</p><p>&#x2F;&#x2F;æ¨èä¿®æ”¹<br>PROJECT_NAMEÂ  Â  Â  Â  Â  Â       &#x3D; â€œMy Projectâ€               &#x2F;&#x2F;ç”Ÿæˆæ–‡æ¡£çš„åç§°<br>OUTPUT_LANGUAGEÂ  Â  Â  Â  &#x3D; Chinese                          &#x2F;&#x2F;ç”Ÿæˆæ–‡æ¡£ä¸ºä¸­&#x2F;è‹±æ–‡  English<br>PROJECT_NUMBER           &#x3D;1.0.0                                &#x2F;&#x2F;é¡¹ç›®æ–‡æ¡£çš„ç‰ˆæœ¬å·ç </p></blockquote></li><li>ç”Ÿæˆçš„<code>Doxyfile</code>æ–‡ä»¶æ˜¯å¿…é¡»æ”¾åœ¨å·¥ç¨‹é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹<code>~/[projects/dtkwidget](file:///home/yuanyi/projects/dtkwidget)</code>,é»˜è®¤ä¹Ÿæ˜¯ç”Ÿæˆåœ¨è¿™é‡Œçš„<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">â”œâ”€â”€ dtkwidget    â”œâ”€â”€ <span class="token punctuation">..</span>.å¾ˆå¤šæ–‡ä»¶åŠæ–‡ä»¶å¤¹    â”œâ”€â”€ doc    â”œâ”€â”€ Doxyfile    â”œâ”€â”€ LICENSE    â””â”€â”€ README.md<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li>åœ¨é¡¹ç›®é‡Œé¢,  æ·»åŠ ç¬¦åˆdoxygenè§„åˆ™çš„ä»£ç æ³¨é‡Š,  ä¾¿äºç”Ÿæˆæ–‡æ¡£</li><li>è¿è¡Œå‘½ä»¤ç”Ÿæˆæ–‡æ¡£çš„<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">doxygen     //é»˜è®¤æ˜¯ç­‰ä»·äºä¸‹é¢çš„doxygen Doxyfile,ä¹Ÿå¯æ‰§è¡Œè‡ªå®šä¹‰Doxyfileæ–‡ä»¶//æˆ–doxygen Doxyfile<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li>åˆ°è¾“å‡ºç›®å½•æŸ¥çœ‹ç”Ÿæˆçš„<code>html</code>æ–‡ä»¶å¤¹,ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€<code>index.html</code>æ–‡ä»¶,  å…¶åƒåŠ¨æ€ç½‘ç«™ä¸€æ ·,  å¸®åŠ©ä½ æ—©æ—¥ç†Ÿæ‚‰é¡¹ç›®å·¥ç¨‹çš„ç»“æ„</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/dev/img/20191029213442.png"/ loading="lazy"><br><h2 id="ç”Ÿæˆå…¶ä»–æ ¼å¼å¦‚chmå’Œæ³¨æ„"><a href="#ç”Ÿæˆå…¶ä»–æ ¼å¼å¦‚chmå’Œæ³¨æ„" class="headerlink" title="ç”Ÿæˆå…¶ä»–æ ¼å¼å¦‚chmå’Œæ³¨æ„:"></a>ç”Ÿæˆå…¶ä»–æ ¼å¼å¦‚chmå’Œæ³¨æ„:</h2><p>è¿™é‡Œæ˜¯å¯ä»¥å¾ˆå¤šå…¶ä»–æ ¼å¼çš„, ä¸€äº›å¸¸ç”¨çš„è®¾ç½®,  å‚è€ƒä¸‹å›¾:</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/dev/img/20191029213604.png"/ loading="lazy"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å¦‚æœæ˜¯åˆ¶ä½œ C ç¨‹åºæ–‡æ¡£ï¼Œè¯¥é€‰é¡¹å¿…é¡»è®¾ä¸º YESï¼Œå¦åˆ™é»˜è®¤ç”Ÿæˆ C++ æ–‡æ¡£æ ¼å¼</span>OPTIMIZE_OUTPUT_FOR_C  <span class="token operator">=</span> YES<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Doxygen </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>MacOS çš„ VMware Fusionlimian ä¸­å®‰è£… Linux Deepin15.11</title>
      <link href="/posts/129bf9f1/"/>
      <url>/posts/129bf9f1/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  åœ¨<code>macOS 10.14.6 (18G103)</code> çš„è™šæ‹Ÿæœº<code> VMware Fusionlimian</code> é‡Œé¢å®‰è£…<code>deepin v15.11</code>ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="å…³è”åšæ–‡ï¼š"><a href="#å…³è”åšæ–‡ï¼š" class="headerlink" title="å…³è”åšæ–‡ï¼š"></a>å…³è”åšæ–‡ï¼š</h2><p><strong>Linux ç³»ç»Ÿ</strong></p><ul><li><p><a href="https://blog.csdn.net/qq_33154343/article/details/103733327">Win10 çš„ VMware ä¸­å®‰è£… UOS 20ï¼Œåœ¨ UOS ä¸­å®‰è£… QtCreator åŠæ­å»º DTK å¼€å‘ç¯å¢ƒ</a></p></li><li><p><a href="https://blog.csdn.net/qq_33154343/article/details/104180794">MacOS å®‰è£… Parallels Desktopï¼Œå†å®‰è£… UOS 20 + QtCreaorï¼ŒåŠæ­å»º DTK å¼€å‘ç¯å¢ƒ</a></p></li><li><p><a href="https://blog.csdn.net/qq_33154343/article/details/102789047">MacOS çš„ VMware Fusionlimian ä¸­å®‰è£… Linux Deepin15.11</a></p></li><li><p><a href="https://blog.csdn.net/qq_33154343/article/details/112239518">Deepin &#x2F; UOS ä¸­é…ç½® DTK å¼€å‘ç¯å¢ƒ</a></p></li><li><p><a href="https://xmuli.blog.csdn.net/article/details/106510975">é‡è£… UOS &#x2F; Deepin V20 åå¿…å®‰è£…è½¯ä»¶ï¼ˆä¸ªäººä¹ æƒ¯ï¼‰</a></p></li><li><p><a href="https://xmuli.blog.csdn.net/article/details/107696563">ArchLinux + DDE å®‰è£…æ•™ç¨‹</a></p></li><li><p><a href="https://blog.csdn.net/qq_33154343/article/details/108378441">å¯¹ GNU&#x2F;Linux ä»‹ç»ã€ArchLinuxç¤¾åŒºæ°›å›´ã€DDEç§»æ¤Archæµç¨‹</a></p></li></ul><br><h2 id="ä¸‹è½½é•œåƒï¼š"><a href="#ä¸‹è½½é•œåƒï¼š" class="headerlink" title="ä¸‹è½½é•œåƒï¼š"></a>ä¸‹è½½é•œåƒï¼š</h2><p>ç ´è§£<code> VMware Fusionlimian</code>ä¸‹è½½ï¼š<a href="https://xclient.info/s/vmware-fusion.html">VMware Fusion Pro 11.5.0 å¼ºå¤§çš„è™šæ‹Ÿæœºåº”ç”¨</a></p><p>å®˜æ–¹<code>deepin</code>é•œåƒä¸‹è½½ï¼š<a href="https://www.deepin.org/download/">https://www.deepin.org/download/</a></p><p>ä¸è¿‡é‰´äº<code>deepin</code>çš„æœåŠ¡å™¨æ˜¯åœ¨å›½å¤–ï¼Œ æ¨èï¼ˆåœ¨å®˜æ–¹ç½‘é¡µä¸Šï¼‰ä½¿ç”¨é€‰æ‹© <code>iosä»“åº“ - æ¸…åå¤§å­¦ http  </code>æä¾›çš„é•œåƒä¸‹è½½ï¼›ä¹Ÿå¯ä»¥ç›´æ¥é€‰æ‹©é“¾æ¥ï¼š<a href="https://www.deepin.org/mirrors/releases/">https://www.deepin.org/mirrors/releases</a></p><br><h2 id="å®‰è£…æ­¥éª¤ï¼š"><a href="#å®‰è£…æ­¥éª¤ï¼š" class="headerlink" title="å®‰è£…æ­¥éª¤ï¼š"></a>å®‰è£…æ­¥éª¤ï¼š</h2><ul><li>æ‰“å¼€è™šæ‹Ÿæœº<code> VMware Fusionlimian</code>ï¼š</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/dev/img/20191028194117.png"/ loading="lazy"><ul><li>é€‰æ‹©æ‚¬ç€å®‰è£…ä»‹è´¨<code>ä»å…‰ç›˜è£¹ç€æ˜ åƒä¸­å®‰è£…</code></li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/dev/img/20191028193511.png"/ loading="lazy"><ul><li>æ‰“å¼€è®¿è¾¾ï¼ˆæ–‡ä»¶èµ„æºç®¡ç†å™¨ï¼‰ï¼Œé€‰ä¸­å‰é¢ä¸‹è½½çš„<strong>deepin</strong>çš„ <strong>.ios</strong>é•œåƒ</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/dev/img/20191028193720.png"/ loading="lazy"><ul><li>é€‰æ‹©æ“ä½œç³»ç»Ÿï¼Œæˆ‘å…¶ä»–ä¸€å°æœºå™¨ä½¿ç”¨<strong>deepin v20</strong>æŸ¥äº†ä¸€ä¸‹ï¼Œ è¿˜æ²¡æœ‰å‘å¸ƒçš„<strong>deepin20</strong>æ˜¯åŸºäº<code>Debian 8.x </code>çš„æ“ä½œç³»ç»Ÿï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘é€‰æ‹©çš„è¿™ä¸ª</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/dev/img/20191028193738.png"/ loading="lazy"><ul><li>é€‰æ‹©é»˜è®¤å¯åŠ¨æ–¹<code>ä¼ ç»ŸBIOS</code>ï¼š</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/dev/img/20191028193755.png"/ loading="lazy"><ul><li>é€‰æ‹©æ‰€éœ€è¦çš„è¯­è¨€<code>ç®€ä½“ä¸­æ–‡</code>ï¼Œ æœ‰è‹±æ–‡éœ€æ±‚ä¹Ÿå¯ä»¥é€‰æ‹©è‹±æ–‡ï¼›å›½äººå¼€å‘çš„ï¼Œç¿»è¯‘è¿˜æ˜¯å¾ˆåˆ°ä½çš„</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/dev/img/20191028193901.png"/ loading="lazy"><ul><li>ç›´æ¥ç‚¹å‡»ç»§ç»­ï¼ŒåæœŸç³»ç»Ÿå®‰è£…å®Œæˆäº†ï¼Œ é…ç½®å’Œç¡¬ç›˜ç©ºé—´ä¸å¤Ÿï¼Œä¹Ÿæ˜¯å¯ä»¥æ‰©å±•ï¼ˆå¤„äºå…³é—­çŠ¶æ€æ‰èƒ½æ›´æ”¹ï¼‰</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/dev/img/20191028193911.png"/ loading="lazy"><ul><li>ç­‰å¾…ä¸­é—´çš„å®‰è£…è¿‡ç¨‹ï¼ˆè¿™æœŸé—´ä¼šå†…ç½®å®‰è£…ä¸€äº›å¸¸ç”¨çš„è½¯ä»¶ï¼Œgoogleæµè§ˆå™¨ï¼Œç½‘æ˜“äº‘éŸ³ä¹ç­‰ï¼Œæœç‹—è¾“å…¥æ³•ï¼‰ï¼›æ˜¯çš„ä½ å¼€æœºå³å¯ä½¿ç”¨</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/dev/img/20191028193945.png"/ loading="lazy"><ul><li>æç¤ºå®‰è£…æˆåŠŸ</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/dev/img/20191028193953.png"/ loading="lazy"><ul><li>å¼€å§‹äº«å—è¿™ä¸ªæ–°çš„Linuxç³»ç»Ÿï¼Œ å¸¦ç»™ä½ æ¸…çˆ½ï¼Œä¸“æ³¨äºæ³¨æ„åŠ›å’Œå¥½çœ‹çš„ç³»ç»Ÿçš„ä¸ä¸€æ ·äº«å—</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/dev/img/20191028194007.png"/ loading="lazy"><br><h2 id="å…¶ä»–è½¯ä»¶ä¸‹è½½ï¼š"><a href="#å…¶ä»–è½¯ä»¶ä¸‹è½½ï¼š" class="headerlink" title="å…¶ä»–è½¯ä»¶ä¸‹è½½ï¼š"></a>å…¶ä»–è½¯ä»¶ä¸‹è½½ï¼š</h2><p>è‹¥æ˜¯è¿˜æœ‰ä¸€äº›å…¶ä»–çš„è½¯ä»¶éœ€è¦è‡ªå·±ä¸‹è½½ï¼Œ ç›´æ¥åœ¨åœ¨ç³»ç»Ÿå•†åº—ä¸‹è½½å®‰è£…å³å¯ï¼›è‹¥æ˜¯å¼€å‘äººå‘˜ï¼Œ å¯ä»¥è‡ªå·±æ¥ï¼Œæˆ‘å†è¯´ä¹Ÿæ˜¯å°±æœ‰ç‚¹åºŸè¯äº†</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - MacOS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Deepin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Key is invalid. You must supply a key in OpenSSH public key format</title>
      <link href="/posts/f879ecd2/"/>
      <url>/posts/f879ecd2/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong> æ­å»º <code>Hexo</code> + <code>GitHub</code> æ—¶ï¼Œæ·»åŠ  <code>ssh</code> çš„ç§é’¥ï¼Œæ€»æ˜¯æŠ¥é”™å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">Key is invalid<span class="token punctuation">.</span> You must supply a key in OpenSSH <span class="token keyword">public</span> key format<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h3 id="åœºæ™¯"><a href="#åœºæ™¯" class="headerlink" title="åœºæ™¯"></a>åœºæ™¯</h3><p><strong>åŸå› ï¼š</strong></p><ul><li>ä»  <code>id_rsa</code> ã€<code>id_rsa.pub</code> æŸäº›åœºæ™¯ä¸‹<sup>[1]</sup>ï¼Œç›´æ¥æ‰“å¼€å¤åˆ¶ï¼Œä¼šæ ¼å¼é”™ä¹±</li><li>ç¡®è®¤æ­¤å¤„æ˜¯ç²˜è´´ <strong>å…¬é’¥</strong> <code>id_rsa.pub</code> ã€è¿˜æ˜¯ <strong>ç§é’¥</strong> <code>id_rsa</code>ï¼›ä¸”æ˜¯å¤åˆ¶æ–‡æœ¬æ‰€æœ‰å†…å®¹</li><li>GitHub è´¦å·ä¸‹å³ä¸Šè§’çš„ã€è¿˜æ˜¯ã€åšå®¢ã€ä»“åº“ä¸‹çš„ <code>Setting</code></li><li>ç½‘é¡µç²˜è´´é”™äº†ä½ç½®ï¼Œæ˜¯ <code>Secrets</code>ã€è¿˜æ˜¯ <code>Deploy keys</code>ï¼›å‰è€…ä¸ºéƒ¨ç½² Hexo Blog å¸¸è§ï¼Œåè€… push å¸¸è§</li></ul><br><p><strong>è§£å†³ï¼š</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">clip <span class="token operator">&lt;</span> ~/.ssh/id_rsa.pub      <span class="token comment"># ç›´æ¥æ‹·è´åˆ°å‰ªåˆ‡æ¿</span><span class="token function">cat</span> ~/.ssh/id_rsa.pub         <span class="token comment"># è¾“å‡ºåˆ°ç»ˆç«¯åé€‰ä¸­å¤åˆ¶ã€åç²˜è´´åˆ°ç½‘é¡µ</span>ä½¿ç”¨ notepadã€notepad++ æ‰“å¼€    <span class="token comment"># åå¤åˆ¶ç²˜è´´</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><br><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/20220901015843.png" width="100%"/ loading="lazy"><br><h3 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h3><p><sup>[1]</sup>: Mac ä¸‹ç›´æ¥ <code>vim</code> å¤åˆ¶ï¼›Linux ç›´æ¥ GUI å·¥å…·æ‰“å¼€å¤åˆ¶ï¼Œå‡ä¼šæ ¼å¼æ”¹å˜</p><br><p>Mac æŠ€å·§</p><ul><li><code>Command+Shift+.</code> å¯ä»¥æ˜¾ç¤ºéšè—æ–‡ä»¶ã€æ–‡ä»¶å¤¹ï¼Œå†æŒ‰ä¸€æ¬¡ï¼Œæ¢å¤éšè—ï¼›</li><li>finderä¸‹ä½¿ç”¨<code>Command+Shift+G</code> å¯ä»¥å‰å¾€ä»»ä½•æ–‡ä»¶å¤¹ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶å¤¹ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GitHub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®²è§£è‡ªå®šä¹‰å’Œæ ‡å‡†å¯¹è¯æ¡†çš„ä½¿ç”¨ï¼Œä»¥åŠå¤šçª—å£ä¹‹é—´çš„äº¤äº’è§£å†³</title>
      <link href="/posts/7211e855/"/>
      <url>/posts/7211e855/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  å†™ä¸€ä¸ªè‡ªå®šä¹‰å’Œæ ‡å‡†å¯¹è¯æ¡†çš„ä½¿ç”¨ï¼›è¿˜æœ‰å…³äºæ¨¡æ€å¯¹è¯æ¡†å’Œéæ¨¡æ€å¯¹è¯æ¡†çš„åŒºåˆ«ï¼›ä»¥åŠå¤šä¸ª<code>Dialog</code>å¯¹è±¡ä¹‹é—´ï¼Œå¦‚ä½•ä¼ é€’æ•°æ®ï¼›</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="å¯¹è¯æ¡†çš„ç”Ÿå­˜æœŸï¼š"><a href="#å¯¹è¯æ¡†çš„ç”Ÿå­˜æœŸï¼š" class="headerlink" title="å¯¹è¯æ¡†çš„ç”Ÿå­˜æœŸï¼š"></a>å¯¹è¯æ¡†çš„ç”Ÿå­˜æœŸï¼š</h2><p>å¯¹è¯æ¡†çš„ç”Ÿå­˜æœŸæ˜¯æŒ‡å®ƒä»åˆ›å»ºåˆ°åˆ é™¤çš„å­˜ç»­åŒºé—´ã€‚</p><br><h2 id="æ¨¡æ€å¯¹è¯æ¡†ï¼š"><a href="#æ¨¡æ€å¯¹è¯æ¡†ï¼š" class="headerlink" title="æ¨¡æ€å¯¹è¯æ¡†ï¼š"></a>æ¨¡æ€å¯¹è¯æ¡†ï¼š</h2><p>å¯¹è¯æ¡†æ˜¯ä»¥<strong>æ¨¡æ€</strong>ï¼ˆ<strong>Modal</strong>)æ–¹å¼æ˜¾ç¤ºçš„ï¼Œå³ç”¨<code>QDialog:exec()</code>å‡½æ•°æ˜¾ç¤ºã€‚æ¨¡æ€æ˜¾ç¤ºçš„å¯¹è¯æ¡†ä¸å…è®¸é¼ æ ‡å†å»å•å‡»å…¶ä»–çª—å£ï¼Œç›´åˆ°å¯¹è¯æ¡†é€€å‡ºã€‚</p><p><strong>æ¨¡æ€æ–¹å¼æ˜¾ç¤ºï¼š</strong>å¿…é¡»å…³é—­æ­¤å¯¹è¯æ¡†æ‰å¯ä»¥è¿”å›ä¸»çª—å£æ“ä½œ</p><br><h2 id="éæ¨¡æ€å¯¹è¯æ¡†"><a href="#éæ¨¡æ€å¯¹è¯æ¡†" class="headerlink" title="éæ¨¡æ€å¯¹è¯æ¡†:"></a>éæ¨¡æ€å¯¹è¯æ¡†:</h2><p>ä½¿ç”¨<code>QDialog::show()</code>ï¼Œåˆ™èƒ½ä»¥<strong>éæ¨¡æ€</strong>ï¼ˆ<strong>Modeless</strong>)æ–¹å¼æ˜¾ç¤ºå¯¹è¯æ¡†ã€‚éæ¨¡æ€æ˜¾ç¤ºçš„å¯¹è¯æ¡†åœ¨æ˜¾ç¤ºåç»§ç»­è¿è¡Œä¸»ç¨‹åºï¼Œè¿˜å¯ä»¥åœ¨ä¸»çª—å£ä¸Šæ“ä½œï¼Œä¸»çª—å£å’Œéæ¨¡æ€å¯¹è¯æ¡†ä¹‹é—´å¯ä»¥äº¤äº’æ§åˆ¶ï¼Œå…¸å‹çš„ä¾‹å­æ˜¯æ–‡å­—ç¼–è¾‘è½¯ä»¶é‡Œçš„â€œæŸ¥æ‰¾&#x2F;æ›¿æ¢â€å¯¹è¯æ¡†ã€‚</p><br><h2 id="è¿è¡Œç¯å¢ƒå¦‚ä¸‹ï¼š"><a href="#è¿è¡Œç¯å¢ƒå¦‚ä¸‹ï¼š" class="headerlink" title="è¿è¡Œç¯å¢ƒå¦‚ä¸‹ï¼š"></a>è¿è¡Œç¯å¢ƒå¦‚ä¸‹ï¼š</h2><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>win10 x64 ä¸“ä¸šç‰ˆ 1803</code>  </p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>Qt Creator 4.8.2 (Enterprise)</code>ï¼Œ <code>Qt 5.9.8</code></p><p>å†™äº†ä¸€ä¸ªå°çš„ä¾‹å­ï¼Œæºç è§ä¸‹é¢ï¼Œä¸Šä¸€ä¸ªæœ€ç»ˆçš„è¿è¡Œæ•ˆæœå›¾ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20191008001023.gif"/ loading="lazy"><br><h2 id="çª—å£ä¹‹é—´çš„äº¤äº’ï¼š"><a href="#çª—å£ä¹‹é—´çš„äº¤äº’ï¼š" class="headerlink" title="çª—å£ä¹‹é—´çš„äº¤äº’ï¼š"></a>çª—å£ä¹‹é—´çš„äº¤äº’ï¼š</h2><p>è¿™é‡Œæä¾›ä¸¤ä¸ªæ€è·¯ï¼š</p><blockquote><p>å¦‚æœ¬ä¾‹å­è®¾è®¡çš„<strong>ExDlgLocate</strong>å’Œ<strong>ExCustomMainWin</strong>ä¹‹é—´çš„äº¤äº’ï¼Œå‡æ˜¯<strong>æœ‰ç€å¯¹æ–¹å¯¹è±¡çš„æŒ‡é’ˆ</strong></p></blockquote><p>åœ¨<code>ExDlgLocate</code>ç±»é‡Œé¢å‡½æ•°å®ç°ï¼Œ <code>ExCustomMainWin* parWind = (ExCustomMainWin*)parentWidget()</code>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//è®¾ç½®æ–‡å­—</span><span class="token keyword">void</span> <span class="token class-name">ExDlgLocate</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnSetText_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> row <span class="token operator">=</span> ui<span class="token operator">-></span>spinBoxRow<span class="token operator">-></span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                     <span class="token comment">//å®šä½åˆ°å•å…ƒæ ¼ï¼Œå¹¶ä¸”è®¾ç½®å­—ç¬¦ä¸²</span>    <span class="token keyword">int</span> col <span class="token operator">=</span> ui<span class="token operator">-></span>spinBoxCol<span class="token operator">-></span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ExCustomMainWin<span class="token operator">*</span> parWind <span class="token operator">=</span> <span class="token punctuation">(</span>ExCustomMainWin<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">parentWidget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">//å‘å…·ä½“çš„itemä¸­å¡«å†™å­—ç¬¦ä¸²</span>    parWind<span class="token operator">-></span><span class="token function">setACellText</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> col<span class="token punctuation">,</span> ui<span class="token operator">-></span>lineEdit<span class="token operator">-></span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ui<span class="token operator">-></span>checkBoxRow<span class="token operator">-></span><span class="token function">isChecked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        ui<span class="token operator">-></span>spinBoxRow<span class="token operator">-></span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> ui<span class="token operator">-></span>spinBoxRow<span class="token operator">-></span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ui<span class="token operator">-></span>checkBoxCol<span class="token operator">-></span><span class="token function">isChecked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        ui<span class="token operator">-></span>spinBoxCol<span class="token operator">-></span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> ui<span class="token operator">-></span>spinBoxCol<span class="token operator">-></span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åŒæ ·çš„ï¼Œ åœ¨<code>ExCustomMainWin</code>ç±»é‡Œé¢ï¼Œä¹Ÿå¯ä»¥æ‰¾åˆ°</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">ExCustomMainWin</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QMainWindow</span></span><span class="token punctuation">&#123;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">private</span><span class="token operator">:</span>    QStandardItemModel <span class="token operator">*</span>m_model<span class="token punctuation">;</span>                        <span class="token comment">//æ•°æ®æ¨¡å‹</span>    QItemSelectionModel <span class="token operator">*</span>m_seleModel<span class="token punctuation">;</span>                   <span class="token comment">//itemé€‰æ‹©æ¨¡å‹</span>    ExDlgSetHeaders <span class="token operator">*</span>m_dlgSetHeaders<span class="token punctuation">;</span>    ExDlgLocate <span class="token operator">*</span>m_dlglocate<span class="token punctuation">;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦å¤–ä¸€ä¸ªæ€è·¯ï¼š</p><blockquote><p>åˆ©ç”¨Qtä¼˜ç§€çš„ä¿¡å·ä¸æ§½æœºåˆ¶</p></blockquote><p>æ— éœ€å†åœ¨<code>ExCustomMainWin</code>ç±»é‡Œé¢ï¼Œä¿æŒ<code>ExDlgLocate</code>å¯¹è¯æ¡†çš„æŒ‡é’ˆã€‚è€Œæ˜¯åœ¨ExCustomMainWinå’ŒExDlgLocateçš„ç±»é‡Œé¢ï¼Œå®šä¹‰ä¸€äº›ä¿¡å·å’Œæ§½æ¥ä½¿ç”¨<code>connect</code>ä»£æ›¿å®ç°ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>æ ‡å‡†å¯¹è¯æ¡†ä¹‹æ–‡ä»¶ã€é¢œè‰²ã€å­—ä½“ã€ä¿å­˜ã€æ¶ˆæ¯ã€è¾“å…¥ç­‰å¯¹è¯æ¡†ä½¿ç”¨</title>
      <link href="/posts/da2c7d6d/"/>
      <url>/posts/da2c7d6d/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  ä½¿ç”¨<strong>è‡ªå®šä¹‰å¯¹è¯æ¡†</strong>å’Œ<strong>æ ‡å‡†å¯¹è¯æ¡†</strong>ï¼š <code>QFileDialog</code> <code>QInputDialog</code> and <code>QMessageDialog</code>ç­‰çš„ä½¿ç”¨ï¼šæ–‡ä»¶ã€é¢œè‰²ã€å­—ä½“ã€ä¿å­˜ã€æ¶ˆæ¯ã€è¾“å…¥ç­‰å¯¹è¯æ¡†ä½¿ç”¨</p><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="æ ‡å‡†å¯¹è¯æ¡†ï¼š"><a href="#æ ‡å‡†å¯¹è¯æ¡†ï¼š" class="headerlink" title="æ ‡å‡†å¯¹è¯æ¡†ï¼š"></a>æ ‡å‡†å¯¹è¯æ¡†ï¼š</h2><p>ä¸‹é¢åˆ—ä¸¾ä¸€äº›ï¼Œå¸¸ç”¨çš„ç³»ç»Ÿæä¾›çš„æ ‡å‡†å¯¹è¯æ¡†ï¼Œ<strong>ä¸‹é¢éƒ½æ˜¯é™æ€å‡½æ•°</strong>ï¼š</p><h3 id="QFileDialog-æ–‡ä»¶å¯¹è¯æ¡†ï¼š"><a href="#QFileDialog-æ–‡ä»¶å¯¹è¯æ¡†ï¼š" class="headerlink" title="QFileDialog æ–‡ä»¶å¯¹è¯æ¡†ï¼š"></a>QFileDialog æ–‡ä»¶å¯¹è¯æ¡†ï¼š</h3><table><thead><tr><th align="left">å¸¸ç”¨é™æ€å‡½æ•°</th><th align="left">å‡½æ•°åŠŸèƒ½</th></tr></thead><tbody><tr><td align="left">QString getOpenFileName()</td><td align="left">é€‰æ‹©æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶</td></tr><tr><td align="left">QStringList getOpenFileNames()</td><td align="left">é€‰æ‹©æ‰“å¼€<strong>å¤š</strong>ä¸ªæ–‡ä»¶</td></tr><tr><td align="left">QString getSaveFileName()</td><td align="left">é€‰æ‹©ä¿å­˜ä¸€ä¸ªæ–‡ä»¶</td></tr><tr><td align="left">QString getExistingDirectory()</td><td align="left">é€‰æ‹©<strong>ä¸€ä¸ªå·²æœ‰çš„</strong>ç›®å½•</td></tr><tr><td align="left">QUrl getOpenFileUrl()</td><td align="left">é€‰æ‹©æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œå¯é€‰æ‹©è¿œç¨‹ç½‘ç»œæ–‡ä»¶</td></tr></tbody></table><p>é€‰æ‹©å·²æœ‰çš„ç›®å½•ï¼Œé€šå¸¸å¯ä»¥ä½¿è¿˜æ˜¯ç”¨<code>QDir::currentPath()</code> æ¥è·å–å½“å‰åº”ç”¨ç¨‹åºçš„ç›®å½•</p><br><h3 id="QColorDialog-é¢œè‰²å¯¹è¯æ¡†"><a href="#QColorDialog-é¢œè‰²å¯¹è¯æ¡†" class="headerlink" title="QColorDialog  é¢œè‰²å¯¹è¯æ¡†:"></a>QColorDialog  é¢œè‰²å¯¹è¯æ¡†:</h3><table><thead><tr><th>å¸¸ç”¨é™æ€å‡½æ•°</th><th>å‡½æ•°åŠŸèƒ½</th></tr></thead><tbody><tr><td>QColor gstColor()</td><td>é€‰æ‹©é¢œè‰²</td></tr></tbody></table><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20191014000417.png"/ loading="lazy"><br><h3 id="QFontDialog-å­—ä½“å¯¹è¯æ¡†"><a href="#QFontDialog-å­—ä½“å¯¹è¯æ¡†" class="headerlink" title="QFontDialog  å­—ä½“å¯¹è¯æ¡†:"></a>QFontDialog  å­—ä½“å¯¹è¯æ¡†:</h3><table><thead><tr><th>å¸¸ç”¨é™æ€å‡½æ•°</th><th>å‡½æ•°åŠŸèƒ½</th></tr></thead><tbody><tr><td>QString get Text()</td><td>è¾“å…¥å•è¡Œæ–‡å­—</td></tr></tbody></table><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20191014000534.png"/ loading="lazy"><br><h3 id="QInputDialog-è¾“å…¥å¯¹è¯æ¡†"><a href="#QInputDialog-è¾“å…¥å¯¹è¯æ¡†" class="headerlink" title="QInputDialog    è¾“å…¥å¯¹è¯æ¡†:"></a>QInputDialog    è¾“å…¥å¯¹è¯æ¡†:</h3><table><thead><tr><th>å¸¸ç”¨é™æ€å‡½æ•°</th><th>å‡½æ•°åŠŸèƒ½</th></tr></thead><tbody><tr><td>QString get Text()</td><td>è¾“å…¥å•è¡Œæ–‡å­—</td></tr><tr><td>int getInt()</td><td>è¾“å…¥æ•´æ•°</td></tr><tr><td>double getDouble()</td><td>è¾“å…¥æµ®ç‚¹æ•°</td></tr><tr><td>Qsring getltem()</td><td>ä»ä¸€ä¸ªä¸‹æ‹‰åˆ—è¡¨æ¡†ä¸­é€‰æ‹©è¾“å…¥</td></tr><tr><td>QString getMultiLine Text()</td><td>è¾“å…¥å¤šè¡Œå­—ç¬¦ä¸²</td></tr></tbody></table><br><h3 id="QMessageBox-æ¶ˆæ¯å¯¹è¯æ¡†"><a href="#QMessageBox-æ¶ˆæ¯å¯¹è¯æ¡†" class="headerlink" title="QMessageBox  æ¶ˆæ¯å¯¹è¯æ¡†:"></a>QMessageBox  æ¶ˆæ¯å¯¹è¯æ¡†:</h3><table><thead><tr><th>å¸¸ç”¨é™æ€å‡½æ•°</th><th>å‡½æ•°åŠŸèƒ½</th></tr></thead><tbody><tr><td>StandardButon information()</td><td>ä¿¡æ¯æç¤ºå¯¹è¯æ¡†</td></tr><tr><td>StandardButton question()</td><td>è¯¢é—®å¹¶è·å–æ˜¯å¦ç¡®è®¤çš„å¯¹è¯æ¡†</td></tr><tr><td>StandardButton warning()</td><td>è­¦å‘Šä¿¡æ¯æç¤ºå¯¹è¯æ¡†</td></tr><tr><td>StandardButton critical()</td><td>é”™è¯¯ä¿¡æ¯æç¤ºå¯¹è¯æ¡†</td></tr><tr><td>void about()</td><td>è®¾ç½®è‡ªå®šä¹‰ä¿¡æ¯çš„å…³äºå¯¹è¯æ¡†</td></tr><tr><td>void aboutQt()</td><td>å…³äºQtçš„å¯¹è¯æ¡†</td></tr></tbody></table><p>å…¶åœ¨ä»£ç ä¸­çš„æ•ˆæœå¦‚å¦‚ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20191013162112.png"/ loading="lazy"> å’Œ</p><p>å’Œ Qt çš„</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20191013162203.png"/ loading="lazy"><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><p>å†™äº†ä¸€ä¸ªå°çš„é¡¹ç›®æ¥æ¼”ç¤ºè¿™å‡ ç§æ ‡å‡†å¯¹è¯æ¡†ï¼Œç¼–è¯‘ç¯å¢ƒå¦‚ä¸‹ï¼š</p><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>win10 x64 ä¸“ä¸šç‰ˆ 1803</code>  </p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>Qt Creator 4.8.2 (Enterprise)</code>ï¼Œ <code>Qt 5.9.8</code></p><p>ä¸Šä¸€ä¸ªæœ€ç»ˆçš„è¿è¡Œæ•ˆæœå›¾ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20191013164633.gif"/ loading="lazy"><br><h2 id="æ ¸å¿ƒæºç ï¼š"><a href="#æ ¸å¿ƒæºç ï¼š" class="headerlink" title="æ ¸å¿ƒæºç ï¼š"></a>æ ¸å¿ƒæºç ï¼š</h2><p>å› ä¸ºè¿ç”¨æ¯”è¾ƒç®€å•ï¼Œ æ‰€ä»¥å°±åªæ˜¯æ²¡æœ‰å•æ®åˆ—ä¸¾æ¥è¯´æ˜ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//æ ‡å‡†æ–‡ä»¶å¯¹è¯æ¡†QFileDialog+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnOpenFile_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString path <span class="token operator">=</span> <span class="token class-name">QDir</span><span class="token double-colon punctuation">::</span><span class="token function">currentPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">//è·å–åº”ç”¨ç¨‹åºå½“å‰ç›®å½•</span>    QString fileter <span class="token operator">=</span> <span class="token string">"æ–‡æœ¬æ–‡ä»¶(*.txt);;å›¾ç‰‡æ–‡ä»¶(*.jpg *.gif);;æ‰€æœ‰æ–‡ä»¶(*.*)"</span><span class="token punctuation">;</span>    QString fileNmae <span class="token operator">=</span> <span class="token class-name">QFileDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getOpenFileName</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶"</span><span class="token punctuation">,</span> path<span class="token punctuation">,</span> fileter<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> fileNmae<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span>fileNmae<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnOpenFiles_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString path <span class="token operator">=</span> <span class="token class-name">QDir</span><span class="token double-colon punctuation">::</span><span class="token function">currentPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">//è·å–åº”ç”¨ç¨‹åºå½“å‰ç›®å½•</span>    QString fileter <span class="token operator">=</span> <span class="token string">"æ–‡æœ¬æ–‡ä»¶(*.txt);;å›¾ç‰‡æ–‡ä»¶(*.jpg *.gif);;æ‰€æœ‰æ–‡ä»¶(*.*)"</span><span class="token punctuation">;</span>    QStringList fileNmaeList <span class="token operator">=</span> <span class="token class-name">QFileDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getOpenFileNames</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"é€‰æ‹©å¤šä¸ªæ–‡ä»¶"</span><span class="token punctuation">,</span> path<span class="token punctuation">,</span> fileter<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> fileNmaeList<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span>fileNmaeList<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnExistingDir_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString currPath <span class="token operator">=</span> <span class="token class-name">QCoreApplication</span><span class="token double-colon punctuation">::</span><span class="token function">applicationDirPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è·å–åº”ç”¨ç¨‹åºå½“å‰ç›®å½•</span>    QString path <span class="token operator">=</span> <span class="token class-name">QFileDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getExistingDirectory</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"é€‰æ‹©ä¸€ä¸ªç›®å½•ã€éæ–‡ä»¶ã€‘"</span><span class="token punctuation">,</span> currPath<span class="token punctuation">,</span> QFileDialog<span class="token double-colon punctuation">::</span>ShowDirsOnly<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//æœ€åä¸€ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºåªæ˜¾ç¤ºè·¯å¾„</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>path<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnGetColor_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QPalette pal <span class="token operator">=</span> ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">palette</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">//è·å–æ¡è°ƒè‰²æ¿</span>    QColor initColor <span class="token operator">=</span> pal<span class="token punctuation">.</span><span class="token function">color</span><span class="token punctuation">(</span>QPalette<span class="token double-colon punctuation">::</span>Text<span class="token punctuation">)</span><span class="token punctuation">;</span>    QColor color <span class="token operator">=</span> <span class="token class-name">QColorDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getColor</span><span class="token punctuation">(</span>initColor<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"é€‰æ‹©é¢œè‰²"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>color<span class="token punctuation">.</span><span class="token function">isValid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                                    <span class="token comment">//å› ä¸ºæ²¡æœ‰.isEmpty(),æ•…è€Œä½¿ç”¨.isValid()æ¥åˆ¤æ–­</span>        pal<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>QPalette<span class="token double-colon punctuation">::</span>Text<span class="token punctuation">,</span> color<span class="token punctuation">)</span><span class="token punctuation">;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">setPalette</span><span class="token punctuation">(</span>pal<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnGetFont_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QFont initFont <span class="token operator">=</span> ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">bool</span> ok <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    QFont font <span class="token operator">=</span> <span class="token class-name">QFontDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getFont</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>ok<span class="token punctuation">,</span> initFont<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ok<span class="token punctuation">)</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">setFont</span><span class="token punctuation">(</span>font<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnSaveFile_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString path <span class="token operator">=</span> <span class="token class-name">QDir</span><span class="token double-colon punctuation">::</span><span class="token function">currentPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">//è·å–åº”ç”¨ç¨‹åºå½“å‰ç›®å½•</span>    QString fileter <span class="token operator">=</span> <span class="token string">"å¤´æ–‡ä»¶(*.h);;æºæ–‡ä»¶(*.cpp);;æ‰€æœ‰æ–‡ä»¶(*.*)"</span><span class="token punctuation">;</span>    QString fileNmae <span class="token operator">=</span> <span class="token class-name">QFileDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getSaveFileName</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"ä¿å­˜æ–‡ä»¶"</span><span class="token punctuation">,</span> path<span class="token punctuation">,</span> fileter<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>fileNmae<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span>fileNmae<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ ‡å‡†æ¶ˆæ¯å¯¹è¯æ¡†+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnQuestion_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QMessageBox<span class="token double-colon punctuation">::</span>StandardButton ret <span class="token operator">=</span> <span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">question</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"é—®é¢˜æ¶ˆæ¯å¯¹è¯æ¡†"</span><span class="token punctuation">,</span> <span class="token string">"questionå¯¹è¯æ¡†çš„å†…å®¹"</span><span class="token punctuation">,</span>  QMessageBox<span class="token double-colon punctuation">::</span>Yes <span class="token operator">|</span> QMessageBox<span class="token double-colon punctuation">::</span>No <span class="token operator">|</span> QMessageBox<span class="token double-colon punctuation">::</span>Close<span class="token punctuation">,</span> QMessageBox<span class="token double-colon punctuation">::</span>NoButton<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">switch</span> <span class="token punctuation">(</span>ret<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">case</span> QMessageBox<span class="token double-colon punctuation">::</span>Yes<span class="token operator">:</span> <span class="token punctuation">&#123;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"QMessageBox::yes æŒ‰é’®è¢«é€‰ä¸­"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">case</span> QMessageBox<span class="token double-colon punctuation">::</span>No<span class="token operator">:</span> <span class="token punctuation">&#123;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"QMessageBox::No æŒ‰é’®è¢«é€‰ä¸­"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">case</span> QMessageBox<span class="token double-colon punctuation">::</span>Close<span class="token operator">:</span> <span class="token punctuation">&#123;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"QMessageBox::Close æŒ‰é’®è¢«é€‰ä¸­"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"è¿™æ˜¯ switch çš„default çš„é€‰é¡¹"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnInformation_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">information</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"ä¿¡æ¯æ¶ˆæ¯å¯¹è¯æ¡†"</span><span class="token punctuation">,</span> <span class="token string">"informationå¯¹è¯æ¡†çš„å†…å®¹"</span><span class="token punctuation">,</span> QMessageBox<span class="token double-colon punctuation">::</span>Ok<span class="token punctuation">,</span> QMessageBox<span class="token double-colon punctuation">::</span>NoButton<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnWarning_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">warning</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"è­¦å‘Šæ¶ˆæ¯å¯¹è¯æ¡†"</span><span class="token punctuation">,</span> <span class="token string">"warningå¯¹è¯æ¡†çš„å†…å®¹"</span><span class="token punctuation">,</span> QMessageBox<span class="token double-colon punctuation">::</span>Ok<span class="token punctuation">,</span> QMessageBox<span class="token double-colon punctuation">::</span>NoButton<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnCritical_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">critical</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"å±æœºæ¶ˆæ¯å¯¹è¯æ¡†"</span><span class="token punctuation">,</span> <span class="token string">"criticalå¯¹è¯æ¡†çš„å†…å®¹"</span><span class="token punctuation">,</span> QMessageBox<span class="token double-colon punctuation">::</span>Ok<span class="token punctuation">,</span> QMessageBox<span class="token double-colon punctuation">::</span>NoButton<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnAbout_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">about</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"å…³äºæ¶ˆæ¯å¯¹è¯æ¡†"</span><span class="token punctuation">,</span> <span class="token string">"abou ä½œè€…: æŠ•æˆ‘ä»¥æœ¨æï¼ŒæŠ¥ä¹‹ä»¥ç¼ç–"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnAboutQt_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">QMessageBox</span><span class="token double-colon punctuation">::</span><span class="token function">aboutQt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"å…³äºQtæ¶ˆæ¯å¯¹è¯æ¡†"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ ‡å‡†è¾“å…¥å¯¹è¯æ¡†QInputDialog+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnGetString_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">bool</span> ok <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    QString text <span class="token operator">=</span> <span class="token class-name">QInputDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"è¾“å…¥æ–‡å­—å¯¹è¯æ¡†"</span><span class="token punctuation">,</span> <span class="token string">"è¯·è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²"</span><span class="token punctuation">,</span> QLineEdit<span class="token double-colon punctuation">::</span>Normal<span class="token punctuation">,</span> <span class="token string">"é»˜è®¤è¾“å…¥çš„å­—ç¬¦ä¸²"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>ok<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ok <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>text<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnGetItem_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QStringList list<span class="token punctuation">;</span>    list<span class="token operator">&lt;&lt;</span><span class="token string">"2019-10-02"</span><span class="token operator">&lt;&lt;</span><span class="token string">"04:28"</span><span class="token operator">&lt;&lt;</span><span class="token string">"åœ¨æ­¦æ±‰çš„å§å®¤"</span><span class="token operator">&lt;&lt;</span><span class="token string">"æ•²ä»£ç "</span><span class="token operator">&lt;&lt;</span><span class="token string">"è¿™ä¼šæ²¡æœ‰å›°æ„"</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">bool</span> editable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>   <span class="token comment">//ComboBoxæ˜¯å¦å¯ç¼–è¾‘</span>    <span class="token keyword">bool</span> ok <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    QString text <span class="token operator">=</span> <span class="token class-name">QInputDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"è¾“å…¥itemå¯¹è¯æ¡†"</span><span class="token punctuation">,</span> <span class="token string">"è¯·é€‰æ‹©ä¸€ä¸ªitem"</span><span class="token punctuation">,</span> list<span class="token punctuation">,</span> index<span class="token punctuation">,</span> editable<span class="token punctuation">,</span> <span class="token operator">&amp;</span>ok<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ok <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>text<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnInt_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> min <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> max <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> stepVal <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> size <span class="token operator">=</span> ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pointSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">bool</span> ok <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> val <span class="token operator">=</span> <span class="token class-name">QInputDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"è¾“å…¥æ•´æ•°å¯¹è¯æ¡†"</span><span class="token punctuation">,</span> <span class="token string">"è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°æ”¹å˜å­—ä½“å¤§å°"</span><span class="token punctuation">,</span> size<span class="token punctuation">,</span> min<span class="token punctuation">,</span> max<span class="token punctuation">,</span> stepVal<span class="token punctuation">,</span> <span class="token operator">&amp;</span>ok<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ok<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        QFont font <span class="token operator">=</span> ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        font<span class="token punctuation">.</span><span class="token function">setPointSize</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">setFont</span><span class="token punctuation">(</span>font<span class="token punctuation">)</span><span class="token punctuation">;</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"å­—ä½“å¤§å°å·²ç»è¢«è®¾ç½®ä¸º:"</span> <span class="token operator">+</span> <span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">number</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">ExDialog</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnDouble_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> min <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> max <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> d <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>                 <span class="token comment">//å°æ•°ç‚¹çš„ä½æ•°</span>    <span class="token keyword">double</span> val <span class="token operator">=</span> <span class="token number">3.1415</span><span class="token punctuation">;</span>    <span class="token keyword">bool</span> ok <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token keyword">double</span> ret <span class="token operator">=</span> <span class="token class-name">QInputDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getDouble</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"è¾“å…¥æµ®ç‚¹æ•°å¯¹è¯æ¡†"</span><span class="token punctuation">,</span> <span class="token string">"è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°æ”¹å˜å­—ä½“å¤§å°"</span><span class="token punctuation">,</span> d<span class="token punctuation">,</span> min<span class="token punctuation">,</span> max<span class="token punctuation">,</span> val<span class="token punctuation">,</span> <span class="token operator">&amp;</span>ok<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ok<span class="token punctuation">)</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span><span class="token string">"æµ®ç‚¹æ•°å¤§å°ä¸º:"</span> <span class="token operator">+</span> <span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">number</span><span class="token punctuation">(</span>ret<span class="token punctuation">,</span> <span class="token char">'f'</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><a href="https://github.com/xmuli/QtExamples">https://github.com/xmuli/QtExamples</a> ã€QtQDialogExã€‘</p>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Git æäº¤ä¸¤æ¬¡commitåˆ°åŒä¸€åˆ†æ”¯ï¼Œè¢«ç³…åˆä¸ºä¸€æ¬¡Marge Requestçš„è§£å†³æ–¹æ³•:cherry-pick</title>
      <link href="/posts/868626a3/"/>
      <url>/posts/868626a3/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong> <code>git</code> æäº¤ä¸¤æ¬¡<code>commit</code>åˆ°åŒä¸€åˆ†æ”¯ï¼Œä¸”ä¹Ÿ<code>push</code>åˆ°åŒä¸€ä¸ªè¿œç¨‹ä»“åº“çš„åˆ†æ”¯ï¼Œä¼šè¢«ç³…åˆä¸ºä¸€æ¬¡<strong>Marge Request</strong>çš„è§£å†³æ–¹æ³•ï¼šä½¿ç”¨<code>cherry-pick</code>è§£å†³</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="éœ€æ±‚èƒŒæ™¯ï¼š"><a href="#éœ€æ±‚èƒŒæ™¯ï¼š" class="headerlink" title="éœ€æ±‚èƒŒæ™¯ï¼š"></a>éœ€æ±‚èƒŒæ™¯ï¼š</h2><p>æˆ‘åœ¨æœ¬åœ°åˆ†æ”¯masterè¿›è¡Œç¼–ç å®Œæˆï¼Œç„¶åè¯·æ±‚åˆå¹¶ä»£ç ï¼Œè¿›è¡Œäº†å¦‚ä¸‹è¡Œä¸ºï¼š</p><blockquote><ol><li>commit  A1 ï¼Œ ç„¶å push1 åˆ° self ä»“åº“ï¼›</li><li>ç½‘é¡µgitLabä¸Šè¯·æ±‚åˆå¹¶åˆ°å…¬å…±åˆ†æ”¯origionï¼›</li><li>commit  A2 ï¼Œ ç„¶å push2 åˆ° self ä»“åº“ï¼›</li></ol></blockquote><p>ç„¶åæˆ‘å†™A3çš„æ—¶å€™ï¼Œæ„è¯†åˆ°æœ‰å¦‚ä¸‹æƒ…å†µä¼šå‘ç”Ÿï¼Œèµ¶ç´§æ–°å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯branch_a3 ä¸´æ—¶ä¿å­˜ä¸€ä¸‹A3ä¿®æ”¹</p><p>ã€é—®é¢˜ã€‘è¿™ä¸ªæ—¶å€™ï¼Œ é—®é¢˜å°±äº§ç”Ÿäº†ï¼Œorigion çš„ master ä¼šè‡ªåŠ¨å°†A1 +A2 çš„ä¸¤æ¬¡ä¿®æ”¹çœ‹åšä¸€æ¬¡ Marge Request ï¼›ä½†æ˜¯æˆ‘æƒ³è¦çš„æ˜¯ï¼Œå½“åšä¸¤æ¬¡Marge Request æäº¤è®°å½• ï¼Ÿç°åœ¨çš„å„ä¸ªåˆ†æ”¯ï¼Œæƒ…å†µå¦‚ä¸‹å›¾ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20191013100800.png"/ loading="lazy"><br><h2 id="è§£å†³æ–¹æ¡ˆï¼š"><a href="#è§£å†³æ–¹æ¡ˆï¼š" class="headerlink" title="è§£å†³æ–¹æ¡ˆï¼š"></a>è§£å†³æ–¹æ¡ˆï¼š</h2><p>å…ˆæ¥çœ‹ä¸€äº›è¿œç¨‹ä»“åº“åç§°ï¼Œä½œä¸ºèƒŒæ™¯ï¼šorigion æ˜¯æ‰€æœ‰äººè¯·æ±‚åˆå¹¶çš„å…¬å…±è¿œç¨‹ä»“åº“ï¼Œself æ˜¯è‡ªå·±ä»origion è¿›è¡Œ forkçš„ä¸ªäººè¿œç¨‹ä»“åº“ï¼Œå¦‚å›¾ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20191013102554.png"/ loading="lazy"><br><h3 id="å¯è¡Œæ€è·¯ï¼š"><a href="#å¯è¡Œæ€è·¯ï¼š" class="headerlink" title="å¯è¡Œæ€è·¯ï¼š"></a>å¯è¡Œæ€è·¯ï¼š</h3><blockquote><ol><li>â€”â€”â€”-ä»¥ä¸‹ä¸ºå•ç‹¬æŠ½å–A2è¿›è¡Œä¸€æ¬¡æäº¤è¯·æ±‚åˆå¹¶â€”â€”â€”â€“</li><li>å…ˆè¿›è¡Œå›é€€åˆ° A0 ç‰ˆæœ¬ï¼š reset A0</li><li>æ–°å»ºåˆ†æ”¯å’Œè·³è½¬åˆ° newBranch</li><li>ä½¿ç”¨ cherry-pick A2  ; <strong>åªè·å–A2 çš„ä»£ç æ”¹åŠ¨</strong> æ·»åŠ åˆ° newBranch åˆ†æ”¯çš„ A0ä¸Šé¢</li><li>å†æ¬¡æ¨é€åˆ°selfçš„æ–°çš„newBranchåˆ†æ”¯  ï¼ˆåˆ°è¿™é‡Œå·²ç»æŠŠA2å•ç‹¬ä½œä¸ºæ–°çš„åˆ†æ”¯ï¼Œæäº¤ä¸€æ¬¡æ”¹åŠ¨ï¼‰</li><li>ç½‘é¡µè¿›è¡Œè¯·æ±‚åˆå¹¶</li><li>â€”â€”â€”â€“ä»¥ä¸‹ä¸ºA1+A2 æ¢å¤ä¸º A1â€”â€”â€”â€“</li><li>checkout è·³è½¬åˆ° master åˆ†æ”¯</li><li>å…ˆè¿›è¡Œå›é€€åˆ° A1 ç‰ˆæœ¬ï¼šreset A1</li><li>å†æ¬¡æ¨é€åˆ°selfçš„æ—§çš„masteråˆ†æ”¯ ï¼ˆorigion çš„A1 æäº¤ä¹Ÿä¼šè‡ªåŠ¨åˆ·æ–°è¦†ç›–ï¼Œåªæœ‰A1æäº¤ï¼‰</li></ol></blockquote><br><h3 id="å‘½ä»¤å®ç°ï¼š"><a href="#å‘½ä»¤å®ç°ï¼š" class="headerlink" title="å‘½ä»¤å®ç°ï¼š"></a>å‘½ä»¤å®ç°ï¼š</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">466e5d0  A073e40aa  A1b7a3dc5  A2<span class="token function">git</span> reset <span class="token parameter variable">--hard</span> 466e5d0<span class="token function">git</span> checkout  <span class="token parameter variable">-b</span> newBranch<span class="token function">git</span> cherry-pick 73e40aa<span class="token function">git</span> push self newBranch <span class="token parameter variable">-f</span>ç½‘é¡µè¿›è¡Œè¯·æ±‚åˆå¹¶<span class="token function">git</span> checkout master<span class="token function">git</span> reset <span class="token parameter variable">--hard</span> b7a3dc5<span class="token function">git</span> push self master <span class="token parameter variable">-f</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Git </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸­aptä¸apt-getå‘½ä»¤çš„åŒºåˆ«ä¸è§£é‡Š</title>
      <link href="/posts/bd2df255/"/>
      <url>/posts/bd2df255/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  è®²è¿°Linuxä¸­<code>apt</code>ä¸<code>apt-get</code>å‘½ä»¤çš„åŒºåˆ«ä¸è§£é‡Š</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><blockquote><p><strong>ç®€å•æ¥è¯´å°±æ˜¯ï¼šapt &#x3D; apt-getã€apt-cache å’Œ apt-config ä¸­æœ€å¸¸ç”¨å‘½ä»¤é€‰é¡¹çš„é›†åˆã€‚</strong></p></blockquote><h3 id="aptå’Œapt-getå‘½ä»¤ä¹‹é—´çš„åŒºåˆ«"><a href="#aptå’Œapt-getå‘½ä»¤ä¹‹é—´çš„åŒºåˆ«" class="headerlink" title="aptå’Œapt-getå‘½ä»¤ä¹‹é—´çš„åŒºåˆ«:"></a>aptå’Œapt-getå‘½ä»¤ä¹‹é—´çš„åŒºåˆ«:</h3><p>è™½ç„¶ <code>apt</code> ä¸ <code>apt-get</code> æœ‰ä¸€äº›ç±»ä¼¼çš„å‘½ä»¤é€‰é¡¹ï¼Œä½†å®ƒå¹¶ä¸èƒ½å®Œå…¨å‘ä¸‹å…¼å®¹ apt-get å‘½ä»¤ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥ç”¨ apt æ›¿æ¢éƒ¨åˆ† apt-get ç³»åˆ—å‘½ä»¤ï¼Œä½†ä¸æ˜¯å…¨éƒ¨ã€‚</p><table><thead><tr><th align="center">apt å‘½ä»¤</th><th align="center">å–ä»£çš„å‘½ä»¤</th><th align="center">å‘½ä»¤çš„åŠŸèƒ½</th></tr></thead><tbody><tr><td align="center">apt install</td><td align="center">apt-get install</td><td align="center">å®‰è£…è½¯ä»¶åŒ…</td></tr><tr><td align="center">apt remove</td><td align="center">apt-get remove</td><td align="center">ç§»é™¤è½¯ä»¶åŒ…</td></tr><tr><td align="center">apt purge</td><td align="center">apt-get purge</td><td align="center">ç§»é™¤è½¯ä»¶åŒ…åŠé…ç½®æ–‡ä»¶</td></tr><tr><td align="center">apt update</td><td align="center">apt-get update</td><td align="center">åˆ·æ–°å­˜å‚¨åº“ç´¢å¼•</td></tr><tr><td align="center">apt upgrade</td><td align="center">apt-get upgrade</td><td align="center">å‡çº§æ‰€æœ‰å¯å‡çº§çš„è½¯ä»¶åŒ…</td></tr><tr><td align="center">apt autoremove</td><td align="center">apt-get autoremove</td><td align="center">è‡ªåŠ¨åˆ é™¤ä¸éœ€è¦çš„åŒ…</td></tr><tr><td align="center">apt full-upgrade</td><td align="center">apt-get dist-upgrade</td><td align="center">åœ¨å‡çº§è½¯ä»¶åŒ…æ—¶è‡ªåŠ¨å¤„ç†ä¾èµ–å…³ç³»</td></tr><tr><td align="center">apt search</td><td align="center">apt-cache search</td><td align="center">æœç´¢åº”ç”¨ç¨‹åº</td></tr><tr><td align="center">apt show</td><td align="center">apt-cache show</td><td align="center">æ˜¾ç¤ºè£…ç»†èŠ‚</td></tr></tbody></table><p>å½“ç„¶ï¼Œ<code>apt</code> è¿˜æœ‰ä¸€äº›è‡ªå·±çš„å‘½ä»¤ï¼š</p><table><thead><tr><th align="center">æ–°çš„aptå‘½ä»¤</th><th align="center">å‘½ä»¤çš„åŠŸèƒ½</th></tr></thead><tbody><tr><td align="center">apt list</td><td align="center">åˆ—å‡ºåŒ…å«æ¡ä»¶çš„åŒ…ï¼ˆå·²å®‰è£…ï¼Œå¯å‡çº§ç­‰ï¼‰</td></tr><tr><td align="center">apt edit-sources</td><td align="center">ç¼–è¾‘æºåˆ—è¡¨</td></tr></tbody></table><p>éœ€è¦å¤§å®¶æ³¨æ„çš„æ˜¯ï¼š<code>apt</code> å‘½ä»¤ä¹Ÿè¿˜åœ¨ä¸æ–­å‘å±•ï¼Œ å› æ­¤ï¼Œä½ å¯èƒ½ä¼šåœ¨å°†æ¥çš„ç‰ˆæœ¬ä¸­çœ‹åˆ°æ–°çš„é€‰é¡¹ã€‚</p><br><h2 id="apt-getå·²å¼ƒç”¨ï¼Ÿ"><a href="#apt-getå·²å¼ƒç”¨ï¼Ÿ" class="headerlink" title="apt-getå·²å¼ƒç”¨ï¼Ÿ"></a>apt-getå·²å¼ƒç”¨ï¼Ÿ</h2><p>ç›®å‰è¿˜æ²¡æœ‰ä»»ä½• Linux å‘è¡Œç‰ˆå®˜æ–¹æ”¾å‡º apt-get å°†è¢«åœç”¨çš„æ¶ˆæ¯ï¼Œè‡³å°‘å®ƒè¿˜æœ‰æ¯” apt æ›´å¤šã€æ›´ç»†åŒ–çš„æ“ä½œåŠŸèƒ½ã€‚å¯¹äºä½çº§æ“ä½œï¼Œä»ç„¶éœ€è¦ apt-getã€‚</p><br><h2 id="æˆ‘åº”è¯¥ä½¿ç”¨aptè¿˜æ˜¯apt-getï¼Ÿ"><a href="#æˆ‘åº”è¯¥ä½¿ç”¨aptè¿˜æ˜¯apt-getï¼Ÿ" class="headerlink" title="æˆ‘åº”è¯¥ä½¿ç”¨aptè¿˜æ˜¯apt-getï¼Ÿ"></a>æˆ‘åº”è¯¥ä½¿ç”¨aptè¿˜æ˜¯apt-getï¼Ÿ</h2><p>æ—¢ç„¶ä¸¤ä¸ªå‘½ä»¤éƒ½æœ‰ç”¨ï¼Œé‚£ä¹ˆæˆ‘è¯¥ä½¿ç”¨ apt è¿˜æ˜¯ apt-get å‘¢ï¼Ÿä½œä¸ºä¸€ä¸ªå¸¸è§„ Linux ç”¨æˆ·ï¼Œç³»ç»Ÿæå®¢å»ºè®®å¤§å®¶å°½å¿«é€‚åº”å¹¶å¼€å§‹é¦–å…ˆä½¿ç”¨ aptã€‚ä¸ä»…å› ä¸ºå¹¿å¤§ Linux å‘è¡Œå•†éƒ½åœ¨æ¨è aptï¼Œæ›´ä¸»è¦çš„è¿˜æ˜¯å®ƒæä¾›äº† Linux åŒ…ç®¡ç†çš„å¿…è¦é€‰é¡¹ã€‚</p><p>æœ€é‡è¦çš„æ˜¯ï¼Œapt å‘½ä»¤é€‰é¡¹æ›´å°‘æ›´æ˜“è®°ï¼Œå› æ­¤ä¹Ÿæ›´æ˜“ç”¨ï¼Œæ‰€ä»¥æ²¡ç†ç”±ç»§ç»­åšæŒ apt-getã€‚</p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æœ€åç»“å¤§å®¶æä¾›ä¸¤ç‚¹ä½¿ç”¨ä¸Šçš„å»ºè®®ï¼š</p><ul><li><code>apt</code> å¯ä»¥çœ‹ä½œ <code>apt-get</code> å’Œ <code>apt-cache</code> å‘½ä»¤çš„å­é›†, å¯ä»¥ä¸ºåŒ…ç®¡ç†æä¾›å¿…è¦çš„å‘½ä»¤é€‰é¡¹ã€‚</li><li><code>apt-get</code> è™½ç„¶æ²¡è¢«å¼ƒç”¨ï¼Œä½†ä½œä¸ºæ™®é€šç”¨æˆ·ï¼Œè¿˜æ˜¯åº”è¯¥é¦–å…ˆä½¿ç”¨ <code>apt</code>ã€‚</li></ul><p>å‚è€ƒæ–‡ç« ï¼š<a href="https://www.sysgeek.cn/apt-vs-apt-get/">Linuxä¸­aptä¸apt-getå‘½ä»¤çš„åŒºåˆ«ä¸è§£é‡Š</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>QTreeWidgetå’ŒQDockWidgetçš„è®²è§£å’Œä½¿ç”¨</title>
      <link href="/posts/945f8d10/"/>
      <url>/posts/945f8d10/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€è¿°ï¼š</strong>  ç›®å½•æ ‘ç»„ä»¶<code>QTreeWidget</code>å’Œåœé åŒºåŸŸç»„ä»¶<code>QDockWidget</code>çš„è®²è§£å’Œä½¿ç”¨</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>win10 x64 ä¸“ä¸šç‰ˆ 1803</code>  </p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>Qt Creator 4.8.2 (Enterprise)</code>ï¼Œ <code>Qt 5.9.8</code></p><br><h2 id="QTreeWidgetå±æ€§ï¼š"><a href="#QTreeWidgetå±æ€§ï¼š" class="headerlink" title="QTreeWidgetå±æ€§ï¼š"></a>QTreeWidgetå±æ€§ï¼š</h2><p><strong><code>QTreeWidget</code>ç±»æ˜¯åˆ›å»ºå’Œç®¡ç†ç›®å½•æ ‘ç»“æ„çš„ç±»ï¼›</strong></p><p><font color=#FF0000  size=4 face="å¹¼åœ†">QTreeWidgetçš„æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸€ä¸ªQTreeWidgetltemå¯¹è±¡ï¼Œæ·»åŠ ä¸€ä¸ªèŠ‚ç‚¹å‰éœ€å…ˆåˆ›å»ºå®ƒï¼Œå¹¶åš<br>å¥½ç›¸å…³è®¾ç½®ã€‚</font></p><p><strong>åˆ›å»ºèŠ‚ç‚¹çš„è¯­å¥æ˜¯ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">item<span class="token operator">=</span><span class="token keyword">new</span> <span class="token function">QTreeWidgetItem</span><span class="token punctuation">(</span>Mainwindow<span class="token double-colon punctuation">::</span>itTopItem<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>QTreeWidgetltemçš„ **setlcon()<strong>å’Œ</strong>setText()**éƒ½éœ€è¦ä¼ é€’ä¸€ä¸ªåˆ—å·ä½œä¸ºå‚æ•°ï¼ŒæŒ‡å®šå¯¹å“ªä¸ªåˆ—è¿›è¡Œè®¾ç½®ã€‚åˆ—å·å¯ä»¥ç›´æ¥ç”¨æ•°å­—ï¼Œä½†æ˜¯ä¸ºäº†ä¾¿äºç†è§£ä»£ç å’Œç»Ÿä¸€ä¿®æ”¹ï¼Œåœ¨MainWindowé‡Œå®šä¹‰äº†æšä¸¾ç±»å‹treeColNumï¼Œcolltemè¡¨ç¤ºç¬¬1åˆ—ï¼Œcolltemlypeè¡¨ç¤ºç¬¬2åˆ—ã€‚setFlags0å‡½æ•°è®¾ç½®èŠ‚ç‚¹çš„ä¸€äº›å±æ€§æ ‡è®°ï¼Œæ˜¯Qt:ltemFlagæšä¸¾ç±»å‹å¸¸é‡çš„ç»„åˆã€‚setData()å‡½æ•°ä¸ºèŠ‚ç‚¹çš„æŸä¸€åˆ—è®¾ç½®ä¸€ä¸ªè§’è‰²æ•°æ®ï¼ŒsetDataï¼ˆï¼‰å‡½æ•°åŸå‹ä¸ºï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token class-name">QTreewidgetItem</span><span class="token double-colon punctuation">::</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token keyword">int</span> column<span class="token punctuation">,</span><span class="token keyword">int</span> role<span class="token punctuation">,</span><span class="token keyword">const</span> QVariant <span class="token operator">&amp;</span>value<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å…¶ä¸­ï¼Œcolumnæ˜¯åˆ—å·ï¼Œroleæ˜¯è§’è‰²çš„å€¼ï¼Œvalueæ˜¯ä¸€ä¸ªQVariantç±»å‹çš„æ•°ã€‚</p><p><strong>ä»£ç ä¸­è®¾ç½®èŠ‚ç‚¹æ•°æ®çš„è¯­å¥æ˜¯ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">item<span class="token operator">-></span><span class="token function">setData</span><span class="token punctuation">(</span>Mainwindow<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">,</span>Qt<span class="token double-colon punctuation">::</span>UserRole<span class="token punctuation">,</span><span class="token function">QVariant</span><span class="token punctuation">(</span>dataStr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å®ƒä¸ºèŠ‚ç‚¹çš„ç¬¬1åˆ—ï¼Œè§’è‰²<strong>Qtï¼šUserRole</strong>ï¼Œè®¾ç½®äº†ä¸€ä¸ªå­—ç¬¦ä¸²æ•°æ®dataStrã€‚Qt:UserRoleæ˜¯æšä¸¾ç±»å‹Qt::ItemDataRoleä¸­ä¸€ä¸ªé¢„å®šä¹‰çš„å€¼ï¼Œå…³äºèŠ‚ç‚¹çš„è§’è‰²å’ŒQt:ItemDataRoleåœ¨åé¢æ–‡ç« è¯¦ç»†ä»‹ç»ã€‚<br>åˆ›å»ºå¹¶è®¾ç½®å¥½èŠ‚ç‚¹åï¼Œ<strong>ç”¨QTreeWidget::addTopLevelltem()å‡½æ•°å°†èŠ‚ç‚¹ä½œä¸ºé¡¶å±‚èŠ‚ç‚¹æ·»åŠ åˆ°ç›®å½•æ ‘ã€‚</strong></p><br><h2 id="QDockWidget-å±æ€§ï¼š"><a href="#QDockWidget-å±æ€§ï¼š" class="headerlink" title="QDockWidget å±æ€§ï¼š"></a>QDockWidget å±æ€§ï¼š</h2><p><code>QDockWidget</code> æ˜¯å¯ä»¥åœ¨<strong>QMainWindow</strong> çª—å£åœé ï¼Œæˆ–åœ¨æ¡Œé¢æœ€ä¸Šå±‚æµ®åŠ¨çš„ç•Œé¢ç»„ä»¶ã€‚æœ¬å®ä¾‹å°†ä¸€ä¸ª<br><strong>QTreeWidget</strong>ç»„ä»¶æ”¾ç½®åœ¨<code>QDockWidget</code>åŒºåŸŸä¸Šï¼Œè®¾ç½®å…¶å¯ä»¥åœ¨ä¸»çª—å£çš„å·¦æˆ–å³ä¾§åœé ï¼Œä¹Ÿå¯ä»¥æµ®åŠ¨ã€‚</p><p><strong>ä¸»è¦å±æ€§å¦‚ä¸‹ï¼š</strong></p><ul><li><strong>allowedAreas</strong>å±æ€§ï¼Œè®¾ç½®å…è®¸åœé åŒºåŸŸã€‚ç”±å‡½æ•°setAllowedAreas(Qtï¼š:DockWidgetAreas areas)è®¾ç½®å…è®¸åœé åŒºï¼Œå‚æ•°areasæ˜¯æšä¸¾ç±»å‹</li><li><strong>Qt:DockWidgetArea</strong>çš„å€¼çš„ç»„åˆï¼Œå¯ä»¥è®¾ç½®åœ¨çª—å£çš„å·¦ã€å³ã€é¡¶ã€åº•åœé ï¼Œæˆ–æ‰€æœ‰åŒºåŸŸéƒ½å¯åœé ï¼Œ<br>  æˆ–ä¸å…è®¸åœé ã€‚<br>  æœ¬å®ä¾‹è®¾ç½®ä¸ºå…è®¸å·¦ä¾§å’Œå³ä¾§åœé ã€‚</li><li><strong>features</strong>å±æ€§ï¼Œè®¾ç½®åœé åŒºç»„ä»¶çš„ç‰¹æ€§ã€‚ç”±setFeaturesï¼ˆDock WidgetFeatures features)å‡½æ•°è®¾ç½®åœé åŒºç»„ä»¶çš„ç‰¹æ€§ï¼Œå‚æ•°featuresæ˜¯æšä¸¾ç±»å‹QDockWidget::DockWidgetFeatureçš„å€¼çš„ç»„åˆï¼Œæšä¸¾å€¼å¦‚ä¸‹ã€‚</li></ul><blockquote><p>QDockWidget::DockWidgetClosable:åœé åŒºå¯å…³é—­ã€‚<br>QDockWidget:DockWidgetMovable:åœé åŒºå¯ç§»åŠ¨ã€‚<br>QDock Widget:DockWidgetFloatable:åœé åŒºå¯æµ®åŠ¨ã€‚<br>QDock Widget:Dock Widget VerticalTitleBar:åœ¨åœé åŒºå·¦ä¾§æ˜¾ç¤ºå‚ç›´æ ‡é¢˜æ ã€‚<br>QDock Widget::AlDockWidgetFeatures:ä½¿ç”¨ä»¥ä¸Šæ‰€æœ‰ç‰¹å¾ã€‚<br>QDock Widget::NoDockWidgetFeatures:ä¸èƒ½åœé ã€ç§»åŠ¨å’Œå…³é—­ã€‚</p></blockquote><br><h2 id="ScrollAreaå±æ€§ï¼š"><a href="#ScrollAreaå±æ€§ï¼š" class="headerlink" title="ScrollAreaå±æ€§ï¼š"></a>ScrollAreaå±æ€§ï¼š</h2><p><code>ScrollArea</code>æ˜¯ä¸€ä¸ªæä¾›äº†ä¸€ä¸ªæ»šåŠ¨è§†å›¾åˆ°å¦ä¸€ä¸ªéƒ¨ä»¶ã€‚</p><p>æ»šåŠ¨åŒºåŸŸç”¨äºæ˜¾ç¤ºä¸€ä¸ªç”»é¢ä¸­çš„å­éƒ¨ä»¶çš„å†…å®¹ã€‚å¦‚æœéƒ¨ä»¶è¶…è¿‡ç”»é¢çš„å¤§å°ï¼Œè§†å›¾å¯ä»¥æä¾›æ»šåŠ¨æ¡ï¼Œè¿™æ ·å°±éƒ½å¯ä»¥çœ‹åˆ°éƒ¨ä»¶çš„æ•´ä¸ªåŒºåŸŸã€‚</p><br><h2 id="ç»†èŠ‚æ³¨æ„ï¼š"><a href="#ç»†èŠ‚æ³¨æ„ï¼š" class="headerlink" title="ç»†èŠ‚æ³¨æ„ï¼š"></a>ç»†èŠ‚æ³¨æ„ï¼š</h2><p>åœ¨ä¸»çª—å£æ„é€ å‡½æ•°é‡Œå°†ScrollAreaç»„ä»¶è®¾ç½®ä¸ºä¸»çª—å£å·¥ä½œåŒºçš„ä¸­å¿ƒç»„ä»¶åï¼Œ<code>DockWidget</code>ä¸<code>ScrollArea</code>ä¹‹é—´è‡ªåŠ¨å‡ºç°åˆ†å‰²æ¡ï¼Œå¯ä»¥åˆ†å‰²ä¸¤ä¸ªç»„ä»¶çš„å¤§å°ã€‚</p><br><h2 id="éƒ¨åˆ†æºç ï¼š"><a href="#éƒ¨åˆ†æºç ï¼š" class="headerlink" title="éƒ¨åˆ†æºç ï¼š"></a>éƒ¨åˆ†æºç ï¼š</h2><p>å…¶ä¸­æ ¸å¿ƒéƒ¨åˆ†çš„æºç ï¼ŒåŠŸèƒ½å®ç°å¦‚ä¸‹ï¼š</p><p>å…¶ä¸­<strong>ExQTreeWidget.h</strong>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">EXQTREEWIDGET_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">EXQTREEWIDGET_H</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QMainWindow></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QLabel></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QTreeWidgetItem></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QFileDialog></span></span><span class="token keyword">namespace</span> Ui <span class="token punctuation">&#123;</span><span class="token keyword">class</span> <span class="token class-name">ExQTreeWidget</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">ExQTreeWidget</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QMainWindow</span></span><span class="token punctuation">&#123;</span>    Q_OBJECT<span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">enum</span> <span class="token class-name">treeItemType</span> <span class="token punctuation">&#123;</span>         <span class="token comment">//æšä¸¾ï¼ŒèŠ‚ç‚¹ç±»å‹</span>        itemRoot<span class="token punctuation">,</span>        itemFile<span class="token punctuation">,</span>        itemImage    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">enum</span> <span class="token class-name">treeColNum</span> <span class="token punctuation">&#123;</span>           <span class="token comment">//ç›®å½•æ ‘åˆ—è¡¨çš„ç¼–å·</span>        colItem <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>        colItemType <span class="token operator">=</span> <span class="token number">1</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">explicit</span> <span class="token function">ExQTreeWidget</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">~</span><span class="token function">ExQTreeWidget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">initTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                <span class="token comment">//åˆå§‹åŒ–æ ¹èŠ‚ç‚¹ï¼ˆå”¯ä¸€ï¼‰</span>    <span class="token keyword">void</span> <span class="token function">addFolderItem</span><span class="token punctuation">(</span>QTreeWidgetItem <span class="token operator">*</span>parItem<span class="token punctuation">,</span> QString dirName<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ·»åŠ ç›®å½•</span>    <span class="token keyword">void</span> <span class="token function">addImageItem</span><span class="token punctuation">(</span>QTreeWidgetItem <span class="token operator">*</span>parItem<span class="token punctuation">,</span> QString fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ·»åŠ å›¾ç‰‡æ–‡ä»¶</span>    QString <span class="token function">getFinalFolderName</span><span class="token punctuation">(</span><span class="token keyword">const</span> QString <span class="token operator">&amp;</span>pathName<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//ä»å®Œæ•´çš„è·¯å¾„é‡Œé¢ï¼Œè·å–æœ€åçš„æ–‡ä»¶å¤¹åç§°</span>    <span class="token keyword">void</span> <span class="token function">changeItemCaption</span><span class="token punctuation">(</span>QTreeWidgetItem<span class="token operator">*</span> parItem<span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">//éå†itemä¸‹é¢çš„æ‰€æœ‰èŠ‚ç‚¹</span>    <span class="token keyword">void</span> <span class="token function">displayImage</span><span class="token punctuation">(</span>QTreeWidgetItem<span class="token operator">*</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>                       <span class="token comment">//æ˜¾ç¤ºå½“å‰itemçš„å›¾ç‰‡ï¼ˆé»˜è®¤ä»¥é€‚é…é«˜åº¦ï¼‰</span><span class="token keyword">private</span> slots<span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">on_actAddFolder_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                               <span class="token comment">//å¢åŠ æ–‡ä»¶å¤¹</span>    <span class="token keyword">void</span> <span class="token function">on_actAddFile_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                 <span class="token comment">//æ·»åŠ å›¾ç‰‡æ–‡ä»¶</span>    <span class="token keyword">void</span> <span class="token function">on_actDeleFile_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                <span class="token comment">//åˆ é™¤èŠ‚ç‚¹</span>    <span class="token keyword">void</span> <span class="token function">on_actScanItems_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                               <span class="token comment">//éå†æ‰€æœ‰çš„é¡¶å±‚èŠ‚ç‚¹(æœ¬å¤„åªæœ‰ä¸€ä¸ªrooté¡¶å±‚èŠ‚ç‚¹)</span>    <span class="token keyword">void</span> <span class="token function">on_actAdaptiveHeight_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                          <span class="token comment">//å›¾ç‰‡è‡ªåŠ¨é€‚åº”é«˜åº¦</span>    <span class="token keyword">void</span> <span class="token function">on_actAdaptiveWidth_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                           <span class="token comment">//å›¾ç‰‡è‡ªåŠ¨é€‚åº”å®½åº¦</span>    <span class="token keyword">void</span> <span class="token function">on_actAmplification_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                           <span class="token comment">//æ”¾å¤§</span>    <span class="token keyword">void</span> <span class="token function">on_actShrink_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                  <span class="token comment">//ç¼©å°</span>    <span class="token keyword">void</span> <span class="token function">on_actZoomRealSize_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token comment">//è¿˜åŸ</span>    <span class="token keyword">void</span> <span class="token function">on_actDockFloating_triggered</span><span class="token punctuation">(</span><span class="token keyword">bool</span> check<span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">//è®¾ç½®Dockçª—å£æ˜¯å¦æµ®åŠ¨</span>    <span class="token keyword">void</span> <span class="token function">on_actDockVisible_triggered</span><span class="token punctuation">(</span><span class="token keyword">bool</span> checked<span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">//è®¾ç½®Dockçª—å£æ˜¯å¦éšè—ä¸æ˜¾ç¤º</span>    <span class="token keyword">void</span> <span class="token function">on_actQiut_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                    <span class="token comment">//é€€å‡º</span>    <span class="token keyword">void</span> <span class="token function">on_treeFiles_currentItemChanged</span><span class="token punctuation">(</span>QTreeWidgetItem <span class="token operator">*</span>current<span class="token punctuation">,</span> QTreeWidgetItem <span class="token operator">*</span>previous<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//å½“å‰èŠ‚ç‚¹å˜åŒ–çš„æ—¶å€™ï¼Œè‡ªåŠ¨åŠ è½½å½“å‰å›¾ç‰‡</span>    <span class="token keyword">void</span> <span class="token function">on_dockWidget_visibilityChanged</span><span class="token punctuation">(</span><span class="token keyword">bool</span> visible<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">//å•å‡»DockWidgetç»„ä»¶çš„æ ‡é¢˜æ çš„å…³é—­æŒ‰é’®æ—¶å€™ï¼Œä¼šéšè—åœ¨åœé åŒºåŸŸï¼Œå¹¶ä¸”å‘å°„ä¿¡å·visibilityChanged;  åœé åŒºåŸŸå¯è§æ€§å˜åŒ–</span>    <span class="token keyword">void</span> <span class="token function">on_dockWidget_topLevelChanged</span><span class="token punctuation">(</span><span class="token keyword">bool</span> topLevel<span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">//å½“æ‹–åŠ¨DockWidgetç»„ä»¶ï¼Œä½¿å…¶æµ®åŠ¨æˆ–è€…åœé æ—¶å€™ï¼Œä¼šå‘å°„ä¿¡å·topLevelChanged;  æ›´æ–°å…¶Actionçš„çŠ¶æ€</span><span class="token keyword">private</span><span class="token operator">:</span>    Ui<span class="token double-colon punctuation">::</span>ExQTreeWidget <span class="token operator">*</span>ui<span class="token punctuation">;</span>    QLabel <span class="token operator">*</span>m_labFlie<span class="token punctuation">;</span>      <span class="token comment">//çŠ¶æ€æ æ˜¾ç¤ºå½“å‰æ–‡ä»¶è·¯å¾„</span>    QPixmap m_curPixmap<span class="token punctuation">;</span>    <span class="token comment">//æ˜¾ç¤ºå½“å‰æ–‡ä»¶å›¾ç‰‡</span>    <span class="token keyword">float</span>   m_ratio<span class="token punctuation">;</span>        <span class="token comment">//å›¾ç‰‡ç¼©æ”¾æ¯”ä¾‹</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// EXQTREEWIDGET_H</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å’Œ<strong>ExQTreeWidget.cpp</strong>ï¼šå¦‚ä¸‹</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ExQTreeWidget.h"</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ui_ExQTreeWidget.h"</span></span><span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">ExQTreeWidget</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span> <span class="token operator">:</span>    <span class="token function">QMainWindow</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token double-colon punctuation">::</span>ExQTreeWidget<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token class-name">QObject</span><span class="token double-colon punctuation">::</span><span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"QTreeWidgetå’ŒQDockWidgetçš„è®²è§£å’Œä½¿ç”¨"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setCentralWidget</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>scrollArea<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//è®¾ç½®scrollAreaä¸ºä¸­å¿ƒæ§ä»¶</span>    <span class="token function">initTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labFlie <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QLabel</span><span class="token punctuation">(</span><span class="token string">"å½“å‰æ–‡ä»¶çš„è·¯å¾„:"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>statusBar<span class="token operator">-></span><span class="token function">addWidget</span><span class="token punctuation">(</span>m_labFlie<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">ExQTreeWidget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">delete</span> ui<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="token comment">//åˆå§‹åŒ–æ ¹èŠ‚ç‚¹ï¼ˆåªèƒ½å¤Ÿæœ‰å”¯ä¸€ï¼‰</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">initTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">//å‡†å¤‡å·¥ä½œ</span>    ui<span class="token operator">-></span>treeFiles<span class="token operator">-></span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QString dataStr <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>    QIcon icon<span class="token punctuation">;</span>    icon<span class="token punctuation">.</span><span class="token function">addFile</span><span class="token punctuation">(</span><span class="token string">":/image/Image001.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//åˆ›å»ºå”¯ä¸€rootçš„èŠ‚ç‚¹</span>    QTreeWidgetItem<span class="token operator">*</span> root <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTreeWidgetItem</span><span class="token punctuation">(</span>treeItemType<span class="token double-colon punctuation">::</span>itemRoot<span class="token punctuation">)</span><span class="token punctuation">;</span>    root<span class="token operator">-></span><span class="token function">setIcon</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">,</span> icon<span class="token punctuation">)</span><span class="token punctuation">;</span>    root<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">,</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"ç›¸ç°¿"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    root<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItemType<span class="token punctuation">,</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"treeItemType"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    root<span class="token operator">-></span><span class="token function">setFlags</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>ItemIsSelectable <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsUserCheckable <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsEnabled <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsAutoTristate<span class="token punctuation">)</span><span class="token punctuation">;</span>    root<span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>Unchecked<span class="token punctuation">)</span><span class="token punctuation">;</span>    root<span class="token operator">-></span><span class="token function">setData</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>UserRole<span class="token punctuation">,</span> <span class="token function">QVariant</span><span class="token punctuation">(</span>dataStr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//æ·»åŠ é¡¶å±‚èŠ‚ç‚¹</span>    ui<span class="token operator">-></span>treeFiles<span class="token operator">-></span><span class="token function">addTopLevelItem</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ·»åŠ ç›®å½•èŠ‚ç‚¹</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">addFolderItem</span><span class="token punctuation">(</span>QTreeWidgetItem <span class="token operator">*</span>parItem<span class="token punctuation">,</span> QString dirName<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QIcon icon<span class="token punctuation">;</span>    icon<span class="token punctuation">.</span><span class="token function">addFile</span><span class="token punctuation">(</span><span class="token string">":/image/Image006.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//æ·»åŠ ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹</span>    QTreeWidgetItem<span class="token operator">*</span> item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTreeWidgetItem</span><span class="token punctuation">(</span>treeItemType<span class="token double-colon punctuation">::</span>itemFile<span class="token punctuation">)</span><span class="token punctuation">;</span>    QString folderName <span class="token operator">=</span> <span class="token function">getFinalFolderName</span><span class="token punctuation">(</span>dirName<span class="token punctuation">)</span><span class="token punctuation">;</span>    item<span class="token operator">-></span><span class="token function">setIcon</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">,</span> icon<span class="token punctuation">)</span><span class="token punctuation">;</span>    item<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">,</span> folderName<span class="token punctuation">)</span><span class="token punctuation">;</span>    item<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItemType<span class="token punctuation">,</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"treeItemType"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    item<span class="token operator">-></span><span class="token function">setFlags</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>ItemIsSelectable <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsUserCheckable <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsEnabled <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsAutoTristate<span class="token punctuation">)</span><span class="token punctuation">;</span>    item<span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>Unchecked<span class="token punctuation">)</span><span class="token punctuation">;</span>    item<span class="token operator">-></span><span class="token function">setData</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>UserRole<span class="token punctuation">,</span> <span class="token function">QVariant</span><span class="token punctuation">(</span>dirName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//æ·»åŠ å­èŠ‚ç‚¹</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>parItem<span class="token operator">-></span><span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> treeItemType<span class="token double-colon punctuation">::</span>itemFile<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                 <span class="token comment">//è‹¥æ˜¯æ–‡ä»¶èŠ‚ç‚¹</span>        parItem<span class="token operator">-></span><span class="token function">addChild</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>parItem<span class="token operator">-></span><span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> treeItemType<span class="token double-colon punctuation">::</span>itemRoot<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token comment">//è‹¥æ˜¯å”¯ä¸€rootèŠ‚ç‚¹</span>        QTreeWidgetItem <span class="token operator">*</span>root <span class="token operator">=</span> ui<span class="token operator">-></span>treeFiles<span class="token operator">-></span><span class="token function">topLevelItem</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        root<span class="token operator">-></span><span class="token function">addChild</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ·»åŠ å›¾ç‰‡èŠ‚ç‚¹</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">addImageItem</span><span class="token punctuation">(</span>QTreeWidgetItem <span class="token operator">*</span>parItem<span class="token punctuation">,</span> QString fileName<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>parItem <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    QIcon icon<span class="token punctuation">;</span>    icon<span class="token punctuation">.</span><span class="token function">addFile</span><span class="token punctuation">(</span><span class="token string">":/image/Image014.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//æ·»åŠ ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹</span>    QTreeWidgetItem<span class="token operator">*</span> item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTreeWidgetItem</span><span class="token punctuation">(</span>treeItemType<span class="token double-colon punctuation">::</span>itemImage<span class="token punctuation">)</span><span class="token punctuation">;</span>    QString folderName <span class="token operator">=</span> <span class="token function">getFinalFolderName</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>    item<span class="token operator">-></span><span class="token function">setIcon</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">,</span> icon<span class="token punctuation">)</span><span class="token punctuation">;</span>    item<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">,</span> folderName<span class="token punctuation">)</span><span class="token punctuation">;</span>    item<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItemType<span class="token punctuation">,</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"treeItemType"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    item<span class="token operator">-></span><span class="token function">setFlags</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>ItemIsSelectable <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsUserCheckable <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsEnabled <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsAutoTristate<span class="token punctuation">)</span><span class="token punctuation">;</span>    item<span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>Unchecked<span class="token punctuation">)</span><span class="token punctuation">;</span>    item<span class="token operator">-></span><span class="token function">setData</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>UserRole<span class="token punctuation">,</span> <span class="token function">QVariant</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//æ·»åŠ å­èŠ‚ç‚¹</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>parItem<span class="token operator">-></span><span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> treeItemType<span class="token double-colon punctuation">::</span>itemFile<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                 <span class="token comment">//è‹¥æ˜¯æ–‡ä»¶èŠ‚ç‚¹</span>        parItem<span class="token operator">-></span><span class="token function">addChild</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>parItem<span class="token operator">-></span><span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> treeItemType<span class="token double-colon punctuation">::</span>itemRoot<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token comment">//è‹¥æ˜¯å”¯ä¸€rootèŠ‚ç‚¹</span>        QTreeWidgetItem <span class="token operator">*</span>root <span class="token operator">=</span> ui<span class="token operator">-></span>treeFiles<span class="token operator">-></span><span class="token function">topLevelItem</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        root<span class="token operator">-></span><span class="token function">addChild</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//ä»å®Œæ•´çš„è·¯å¾„é‡Œé¢ï¼Œè·å–æœ€åçš„æ–‡ä»¶å¤¹åç§°</span>QString <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">getFinalFolderName</span><span class="token punctuation">(</span><span class="token keyword">const</span> QString <span class="token operator">&amp;</span>pathName<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString path <span class="token operator">=</span> pathName<span class="token punctuation">;</span>    <span class="token keyword">int</span> cnt <span class="token operator">=</span> pathName<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> i <span class="token operator">=</span> pathName<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QString str <span class="token operator">=</span> pathName<span class="token punctuation">.</span><span class="token function">right</span><span class="token punctuation">(</span>cnt <span class="token operator">-</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> str<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//éå†ä¼ è¿›æ¥çš„çˆ¶èŠ‚ç‚¹ä¸‹çš„æ‰€æœ‰å­èŠ‚ç‚¹ï¼›æ¯éå†è¿‡è¯¥èŠ‚ç‚¹ï¼Œå°±åœ¨å…¶èŠ‚ç‚¹çš„ä¿¡æ¯åŠ ä¸€ä¸ª#</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">changeItemCaption</span><span class="token punctuation">(</span>QTreeWidgetItem <span class="token operator">*</span>parItem<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString str <span class="token operator">=</span> <span class="token string">"# "</span> <span class="token operator">+</span> parItem<span class="token operator">-></span><span class="token function">text</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">)</span><span class="token punctuation">;</span>    parItem<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>parItem<span class="token operator">-></span><span class="token function">childCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> parItem<span class="token operator">-></span><span class="token function">childCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">changeItemCaption</span><span class="token punctuation">(</span>parItem<span class="token operator">-></span><span class="token function">child</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                       <span class="token comment">//å›è°ƒï¼Œè°ƒç”¨è‡ªå·±</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ˜¾ç¤ºå½“å‰itemçš„å›¾ç‰‡ï¼ˆé»˜è®¤ä»¥é€‚é…é«˜åº¦ï¼‰</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">displayImage</span><span class="token punctuation">(</span>QTreeWidgetItem <span class="token operator">*</span>item<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString fileName <span class="token operator">=</span> item<span class="token operator">-></span><span class="token function">data</span><span class="token punctuation">(</span>treeColNum<span class="token double-colon punctuation">::</span>colItem<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>UserRole<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_labFlie<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>    m_curPixmap<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>                                     <span class="token comment">//ä»æ–‡ä»¶è½½å…¥å›¾ç‰‡</span>    <span class="token function">on_actAdaptiveHeight_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                               <span class="token comment">//è‡ªåŠ¨é€‚åº”é«˜åº¦æ˜¾ç¤º</span>    ui<span class="token operator">-></span>actAmplification<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>actShrink<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>actZoomRealSize<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>actAdaptiveHeight<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>actAdaptiveWidth<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="token comment">//å¢åŠ æ–‡ä»¶å¤¹</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_actAddFolder_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString path <span class="token operator">=</span> <span class="token class-name">QFileDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getExistingDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">//é€‰æ‹©ç›®å½•</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> path<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        QTreeWidgetItem<span class="token operator">*</span> item <span class="token operator">=</span> ui<span class="token operator">-></span>treeFiles<span class="token operator">-></span><span class="token function">currentItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//è·å–å½“å‰èŠ‚ç‚¹</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>item <span class="token operator">!=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>            <span class="token function">addFolderItem</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> path<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ·»åŠ å›¾ç‰‡</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_actAddFile_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QStringList list <span class="token operator">=</span> <span class="token class-name">QFileDialog</span><span class="token double-colon punctuation">::</span><span class="token function">getOpenFileNames</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"é€‰æ‹©å¤šä¸ªå°†è¦åŠ è½½çš„å›¾ç‰‡"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token string">"Images(*.jpg, *.png, *.*)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">//é€‰æ‹©ç›®å½•</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> list<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        QTreeWidgetItem<span class="token operator">*</span> parItem <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>        QTreeWidgetItem<span class="token operator">*</span> item <span class="token operator">=</span> ui<span class="token operator">-></span>treeFiles<span class="token operator">-></span><span class="token function">currentItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//è·å–å½“å‰èŠ‚ç‚¹</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token operator">-></span><span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> treeItemType<span class="token double-colon punctuation">::</span>itemImage<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>              <span class="token comment">//è·å¾—çˆ¶èŠ‚ç‚¹</span>            parItem <span class="token operator">=</span> item<span class="token operator">-></span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            parItem <span class="token operator">=</span> item<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            QString strName <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>                          <span class="token comment">//è·å¾—æ–‡ä»¶åç§°</span>            <span class="token function">addImageItem</span><span class="token punctuation">(</span>parItem<span class="token punctuation">,</span> strName<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">//æ·»åŠ å›¾ç‰‡æ–‡ä»¶åˆ°æ–‡ä»¶èŠ‚ç‚¹</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//åˆ é™¤èŠ‚ç‚¹</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_actDeleFile_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QTreeWidgetItem<span class="token operator">*</span> parItem <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>    QTreeWidgetItem<span class="token operator">*</span> currItem <span class="token operator">=</span> ui<span class="token operator">-></span>treeFiles<span class="token operator">-></span><span class="token function">currentItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>currItem<span class="token operator">-></span><span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> treeItemType<span class="token double-colon punctuation">::</span>itemRoot<span class="token punctuation">)</span>        parItem <span class="token operator">=</span> currItem<span class="token operator">-></span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                              <span class="token comment">//åªèƒ½å¤Ÿç”±å…¶çˆ¶èŠ‚ç‚¹åˆ é™¤</span><span class="token comment">//    else</span><span class="token comment">//        ui->treeFiles->takeTopLevelItem(0);                      //åˆ é™¤é¡¶å±‚èŠ‚ç‚¹ä½¿ç”¨è¿™ä¸ª</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>currItem <span class="token operator">==</span> <span class="token keyword">nullptr</span> <span class="token operator">||</span> parItem <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    parItem<span class="token operator">-></span><span class="token function">removeChild</span><span class="token punctuation">(</span>currItem<span class="token punctuation">)</span><span class="token punctuation">;</span>                                <span class="token comment">//ç§»é™¤æ²¡æœ‰ä»å†…å­˜ä¸­åˆ é™¤ï¼Œæ‰€ä»¥deleteåˆ é™¤</span>    <span class="token keyword">delete</span> currItem<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//éå†æ‰€æœ‰çš„é¡¶å±‚èŠ‚ç‚¹(æœ¬å¤„åªæœ‰ä¸€ä¸ªrooté¡¶å±‚èŠ‚ç‚¹)</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_actScanItems_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> ui<span class="token operator">-></span>treeFiles<span class="token operator">-></span><span class="token function">topLevelItemCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        QTreeWidgetItem<span class="token operator">*</span> currItem <span class="token operator">=</span> ui<span class="token operator">-></span>treeFiles<span class="token operator">-></span><span class="token function">topLevelItem</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//é¡¶å±‚item</span>        <span class="token function">changeItemCaption</span><span class="token punctuation">(</span>currItem<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//å›¾ç‰‡è‡ªåŠ¨é€‚åº”é«˜åº¦</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_actAdaptiveHeight_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> height <span class="token operator">=</span> ui<span class="token operator">-></span>scrollArea<span class="token operator">-></span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">//å¾—åˆ°scrollAreaçš„é«˜åº¦</span>    <span class="token keyword">int</span> realHeight <span class="token operator">=</span> m_curPixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">//åŸå§‹å›¾ç‰‡çš„å®é™…é«˜åº¦</span>    m_ratio <span class="token operator">=</span> height <span class="token operator">*</span> <span class="token number">1.0</span> <span class="token operator">/</span> realHeight<span class="token punctuation">;</span>                          <span class="token comment">//å½“å‰æ˜¾ç¤ºæ¯”ä¾‹ï¼Œå¿…é¡»è½¬æ¢ä¸ºæµ®ç‚¹æ•°</span>    QPixmap pixmap <span class="token operator">=</span> m_curPixmap<span class="token punctuation">.</span><span class="token function">scaledToHeight</span><span class="token punctuation">(</span>height <span class="token operator">-</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//å›¾ç‰‡ç¼©æ”¾åˆ°æŒ‡å®šé«˜åº¦</span>    ui<span class="token operator">-></span>labDisplay<span class="token operator">-></span><span class="token function">setPixmap</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token comment">//è®¾ç½®Labelçš„PixMap</span><span class="token punctuation">&#125;</span><span class="token comment">//å›¾ç‰‡è‡ªåŠ¨é€‚åº”å®½åº¦</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_actAdaptiveWidth_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> width <span class="token operator">=</span> ui<span class="token operator">-></span>scrollArea<span class="token operator">-></span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> realWidth <span class="token operator">=</span> m_curPixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_ratio <span class="token operator">=</span> width <span class="token operator">*</span> <span class="token number">1.0</span> <span class="token operator">/</span> realWidth<span class="token punctuation">;</span>    QPixmap pixmap <span class="token operator">=</span> m_curPixmap<span class="token punctuation">.</span><span class="token function">scaledToHeight</span><span class="token punctuation">(</span>width <span class="token operator">-</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>labDisplay<span class="token operator">-></span><span class="token function">setPixmap</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//å½“å‰èŠ‚ç‚¹å˜åŒ–çš„æ—¶å€™ï¼Œè‡ªåŠ¨åŠ è½½å½“å‰å›¾ç‰‡</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_treeFiles_currentItemChanged</span><span class="token punctuation">(</span>QTreeWidgetItem <span class="token operator">*</span>current<span class="token punctuation">,</span> QTreeWidgetItem <span class="token operator">*</span>previous<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>current <span class="token operator">!=</span> <span class="token keyword">nullptr</span> <span class="token operator">&amp;&amp;</span> previous <span class="token operator">!=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">displayImage</span><span class="token punctuation">(</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ”¾å¤§</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_actAmplification_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    m_ratio <span class="token operator">*=</span> <span class="token number">1.2</span><span class="token punctuation">;</span>                                             <span class="token comment">//åœ¨å½“å‰æ¯”ä¾‹åŸºç¡€ä¸Šä¹˜ä»¥0.8</span>    <span class="token keyword">int</span> height <span class="token operator">=</span> m_curPixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> m_ratio<span class="token punctuation">;</span>                <span class="token comment">// æ˜¾ç¤ºå®½åº¦</span>    <span class="token keyword">int</span> widht <span class="token operator">=</span> m_curPixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> m_ratio<span class="token punctuation">;</span>                  <span class="token comment">// æ˜¾ç¤ºå®½åº¦</span>    QPixmap pix <span class="token operator">=</span> m_curPixmap<span class="token punctuation">.</span><span class="token function">scaled</span><span class="token punctuation">(</span>widht<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//å›¾ç‰‡ç¼©æ”¾åˆ°æŒ‡å®šé«˜åº¦å’Œå®½åº¦ï¼Œä¿æŒé•¿å®½æ¯”ä¾‹</span>    ui<span class="token operator">-></span>labDisplay<span class="token operator">-></span><span class="token function">setPixmap</span><span class="token punctuation">(</span>pix<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//ç¼©å°</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_actShrink_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    m_ratio <span class="token operator">*=</span> <span class="token number">0.8</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> height <span class="token operator">=</span> m_curPixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> m_ratio<span class="token punctuation">;</span>    <span class="token keyword">int</span> widht <span class="token operator">=</span> m_curPixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> m_ratio<span class="token punctuation">;</span>    QPixmap pix <span class="token operator">=</span> m_curPixmap<span class="token punctuation">.</span><span class="token function">scaled</span><span class="token punctuation">(</span>widht<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>labDisplay<span class="token operator">-></span><span class="token function">setPixmap</span><span class="token punctuation">(</span>pix<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//è¿˜åŸ</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_actZoomRealSize_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    m_ratio <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> height <span class="token operator">=</span> m_curPixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> widht <span class="token operator">=</span> m_curPixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QPixmap pix <span class="token operator">=</span> m_curPixmap<span class="token punctuation">.</span><span class="token function">scaled</span><span class="token punctuation">(</span>widht<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>labDisplay<span class="token operator">-></span><span class="token function">setPixmap</span><span class="token punctuation">(</span>pix<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//è®¾ç½®Dockçª—å£æ˜¯å¦æµ®åŠ¨</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_actDockFloating_triggered</span><span class="token punctuation">(</span><span class="token keyword">bool</span> check<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>dockWidget<span class="token operator">-></span><span class="token function">setFloating</span><span class="token punctuation">(</span>check<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//è®¾ç½®Dockçª—å£æ˜¯å¦éšè—ä¸æ˜¾ç¤º</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_actDockVisible_triggered</span><span class="token punctuation">(</span><span class="token keyword">bool</span> checked<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>dockWidget<span class="token operator">-></span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token operator">!</span>checked<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//é€€å‡º</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_actQiut_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//å•å‡»DockWidgetç»„ä»¶çš„æ ‡é¢˜æ çš„å…³é—­æŒ‰é’®æ—¶å€™ï¼Œä¼šéšè—åœ¨åœé åŒºåŸŸï¼Œå¹¶ä¸”å‘å°„ä¿¡å·visibilityChanged;  åœé åŒºåŸŸå¯è§æ€§å˜åŒ–</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_dockWidget_visibilityChanged</span><span class="token punctuation">(</span><span class="token keyword">bool</span> visible<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>actDockVisible<span class="token operator">-></span><span class="token function">setChecked</span><span class="token punctuation">(</span>visible<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//å½“æ‹–åŠ¨DockWidgetç»„ä»¶ï¼Œä½¿å…¶æµ®åŠ¨æˆ–è€…åœé æ—¶å€™ï¼Œä¼šå‘å°„ä¿¡å·topLevelChanged;  æ›´æ–°å…¶Actionçš„çŠ¶æ€</span><span class="token keyword">void</span> <span class="token class-name">ExQTreeWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_dockWidget_topLevelChanged</span><span class="token punctuation">(</span><span class="token keyword">bool</span> topLevel<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>actDockFloating<span class="token operator">-></span><span class="token function">setChecked</span><span class="token punctuation">(</span>topLevel<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><a href="https://github.com/xmuli/QtExamples">https://github.com/xmuli/QtExamples</a> ã€QtQTreeWidgetExã€‘</p><br><h2 id="Deamè¿è¡Œæ•ˆæœï¼š"><a href="#Deamè¿è¡Œæ•ˆæœï¼š" class="headerlink" title="Deamè¿è¡Œæ•ˆæœï¼š"></a>Deamè¿è¡Œæ•ˆæœï¼š</h2><p>å…ˆä¸Šæœ€ç»ˆçš„æ•ˆæœå›¾:</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20191007212020.gif"/ loading="lazy">]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Qt </category>
          
          <category> ä¸“æ  - é¡¹ç›®å®æˆ˜å¼€å‘ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>æ ¹æ®ç»™å®š(ä»»æ„)çš„QStringæ–‡æœ¬, è·å–å…¶çŸ©å½¢å¤§å°</title>
      <link href="/posts/618ad839/"/>
      <url>/posts/618ad839/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong>  å†è¿›è¡Œç©ºé—´çš„é‡ç»˜æ—¶å€™ï¼Œç»˜ç”»è¿›åº¦æ¡<code>QProgressBar</code>ï¼Œéœ€è¦åœ¨ä¸­é—´æ˜¾ç¤ºï¼ˆå¯ä»¥æ ¹æ®opt-&gt;ï¼‰è¿›åº¦çš„ç™¾åˆ†æ¯”æ–‡å­—ï¼Œä¸”åˆ»åº¦ä¸ºæ–‡å­—ä¸­é—´çš„æ—¶å€™ï¼Œéœ€è¦å·¦å³ä¸¤ä¾§æœ‰ç€ä¸ä¸€æ ·çš„é¢œè‰²ï¼ˆå·¦è¾¹ç™½è‰²ï¼Œå³è¾¹é»‘è‰²ï¼‰ï¼Œå³ï¼šè¿›åº¦æ¡åˆ°è¾¾çš„ä½ç½®æ–‡å­—ç™¾åˆ†æ¯”ä¸ºç™½è‰²æ˜¾ç¤ºã€‚æ ¹æ®ç»™å®š(ä»»æ„)çš„<code>QString</code>æ–‡æœ¬, è·å–å…¶æœ€å°çŸ©å½¢ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="éœ€æ±‚èƒŒæ™¯ï¼š"><a href="#éœ€æ±‚èƒŒæ™¯ï¼š" class="headerlink" title="éœ€æ±‚èƒŒæ™¯ï¼š"></a>éœ€æ±‚èƒŒæ™¯ï¼š</h2><p>ç»˜ç”»è¿›åº¦æ¡ï¼Œéœ€è¦åœ¨ä¸­é—´æ˜¾ç¤ºè¿›åº¦çš„ç™¾åˆ†æ¯”æ–‡å­—ï¼Œä¸”åˆ»åº¦ä¸ºæ–‡å­—ä¸­é—´çš„æ—¶å€™ï¼Œéœ€è¦å·¦å³ä¸¤ä¾§æœ‰ç€ä¸ä¸€æ ·çš„é¢œè‰²ï¼ˆå·¦è¾¹ç™½è‰²ï¼Œå³è¾¹é»‘è‰²ï¼‰ï¼Œå³ï¼šè¿›åº¦æ¡åˆ°è¾¾çš„ä½ç½®æ–‡å­—ç™¾åˆ†æ¯”ä¸ºç™½è‰²æ˜¾ç¤ºã€‚</p><p><strong>å¸Œæœ›è¾¾åˆ°çš„é¢„æœŸæ•ˆæœå¦‚ä¸‹ï¼š</strong></p><p>é™æ€å›¾ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20191008224313.png" width="80%"/ loading="lazy"><p>åŠ¨å›¾<strong>æ³¨æ„ä¸­é—´æ–‡å­—å’Œç™¾åˆ†æ¯”çš„é¢œè‰²å˜åŒ–</strong>ï¼ˆå› ä¸ºgifå¸§æ•°ï¼Œæ•…å®è¿ç»­æ¸å˜è‰²é™…å‚è€ƒä¸Šå›¾ï¼‰ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20191008231012.gif" width="80%"/ loading="lazy"><br><p>æºç æ²¡ä¿®æ”¹ä¹‹å‰ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">const</span> QStyleOptionProgressBar <span class="token operator">*</span>progBar <span class="token operator">=</span>  <span class="token generic-function"><span class="token function">qstyleoption_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">const</span> QStyleOptionProgressBar <span class="token operator">*</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>opt<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            QRect rect <span class="token operator">=</span> progBar<span class="token operator">-></span>rect<span class="token punctuation">;</span>            rect<span class="token punctuation">.</span><span class="token function">setWidth</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.28</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            rect<span class="token punctuation">.</span><span class="token function">setHeight</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.57</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            rect<span class="token punctuation">.</span><span class="token function">moveCenter</span><span class="token punctuation">(</span>progBar<span class="token operator">-></span>rect<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">double</span> val <span class="token operator">=</span> progBar<span class="token operator">-></span>progress <span class="token operator">*</span> <span class="token number">1.0</span> <span class="token operator">/</span> <span class="token punctuation">(</span>progBar<span class="token operator">-></span>maximum <span class="token operator">-</span> progBar<span class="token operator">-></span>minimum<span class="token punctuation">)</span><span class="token punctuation">;</span>            p<span class="token operator">-></span><span class="token function">setPen</span><span class="token punctuation">(</span><span class="token function">getColor</span><span class="token punctuation">(</span>opt<span class="token punctuation">,</span> DPalette<span class="token double-colon punctuation">::</span>HighlightedText<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            QString str <span class="token operator">=</span> <span class="token string">"å·²ç»ä¸‹è½½"</span> <span class="token operator">+</span> <span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">number</span><span class="token punctuation">(</span>val <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token char">'f'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token operator">+</span> <span class="token string">"%(ç‚¹å‡»æš‚åœ)"</span><span class="token punctuation">;</span>            p<span class="token operator">-></span><span class="token function">drawText</span><span class="token punctuation">(</span>rect<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>AlignCenter<span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>            p<span class="token operator">-></span><span class="token function">setPen</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>red<span class="token punctuation">)</span><span class="token punctuation">;</span>            p<span class="token operator">-></span><span class="token function">setBrush</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>NoBrush<span class="token punctuation">)</span><span class="token punctuation">;</span>            p<span class="token operator">-></span><span class="token function">drawRect</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ•ˆæœç¼ºé™·å¦‚å›¾ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20191008223907.png" width="80%"/ loading="lazy"><br><h2 id="æ ¹æ®QStringæ–‡æœ¬è·å–å…¶çŸ©å½¢fontMetricsï¼š"><a href="#æ ¹æ®QStringæ–‡æœ¬è·å–å…¶çŸ©å½¢fontMetricsï¼š" class="headerlink" title="æ ¹æ®QStringæ–‡æœ¬è·å–å…¶çŸ©å½¢fontMetricsï¼š"></a>æ ¹æ®QStringæ–‡æœ¬è·å–å…¶çŸ©å½¢fontMetricsï¼š</h2><p>ä¿®æ”¹ä¹‹åä»£ç :</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">double</span> val <span class="token operator">=</span> progBar<span class="token operator">-></span>progress <span class="token operator">*</span> <span class="token number">1.0</span> <span class="token operator">/</span> <span class="token punctuation">(</span>progBar<span class="token operator">-></span>maximum <span class="token operator">-</span> progBar<span class="token operator">-></span>minimum<span class="token punctuation">)</span><span class="token punctuation">;</span> QString strPercent <span class="token operator">=</span> <span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">number</span><span class="token punctuation">(</span>val <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token char">'f'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token operator">+</span> <span class="token string">"%"</span><span class="token punctuation">;</span>               QString str <span class="token operator">=</span> <span class="token string">"å·²ä¸‹è½½"</span> <span class="token operator">+</span> strPercent <span class="token operator">+</span> <span class="token string">"(ç‚¹å‡»æš‚åœ)"</span><span class="token punctuation">;</span>                                  QSize size <span class="token operator">=</span> progBar<span class="token operator">-></span>fontMetrics<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>TextSingleLine<span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>              QRect <span class="token function">rect</span><span class="token punctuation">(</span>progBar<span class="token operator">-></span>rect<span class="token punctuation">.</span><span class="token function">topLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>                                    rect<span class="token punctuation">.</span><span class="token function">moveCenter</span><span class="token punctuation">(</span>progBar<span class="token operator">-></span>rect<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ ¹æ®ç»™å®š(ä»»æ„)çš„QString, è·å–å…¶çŸ©å½¢å¤§å°ï¼Œå…¶æ•ˆæœå¦‚ä¸‹ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20191008224525.jpg" width="80%"/ loading="lazy"><br><h2 id="è®¾ç½®ç”»ç¬”æ¸å˜è‰²-æ–‡å­—æ¸å˜è‰²-ï¼š"><a href="#è®¾ç½®ç”»ç¬”æ¸å˜è‰²-æ–‡å­—æ¸å˜è‰²-ï¼š" class="headerlink" title="è®¾ç½®ç”»ç¬”æ¸å˜è‰²(æ–‡å­—æ¸å˜è‰²)ï¼š"></a>è®¾ç½®ç”»ç¬”æ¸å˜è‰²(æ–‡å­—æ¸å˜è‰²)ï¼š</h2><p>æ–‡å­—æœ‰æ¸å˜çš„éœ€æ±‚(ç”»ç¬”é‡‡ç”¨æ¸å˜è‰²)ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">QPointF <span class="token function">pointStart</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span><span class="token function">left</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rect<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                              QPointF <span class="token function">pointEnd</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span><span class="token function">right</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rect<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                               QLinearGradient <span class="token function">linear</span><span class="token punctuation">(</span>pointStart<span class="token punctuation">,</span> pointEnd<span class="token punctuation">)</span><span class="token punctuation">;</span>                                    linear<span class="token punctuation">.</span><span class="token function">setColorAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">getColor</span><span class="token punctuation">(</span>opt<span class="token punctuation">,</span> DPalette<span class="token double-colon punctuation">::</span>HighlightedText<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  linear<span class="token punctuation">.</span><span class="token function">setColorAt</span><span class="token punctuation">(</span>division<span class="token punctuation">,</span> <span class="token function">getColor</span><span class="token punctuation">(</span>opt<span class="token punctuation">,</span> DPalette<span class="token double-colon punctuation">::</span>HighlightedText<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           linear<span class="token punctuation">.</span><span class="token function">setColorAt</span><span class="token punctuation">(</span>division <span class="token operator">+</span> <span class="token number">0.01</span><span class="token punctuation">,</span> <span class="token function">getColor</span><span class="token punctuation">(</span>opt<span class="token punctuation">,</span> DPalette<span class="token double-colon punctuation">::</span>ButtonText<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         linear<span class="token punctuation">.</span><span class="token function">setColorAt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token function">getColor</span><span class="token punctuation">(</span>opt<span class="token punctuation">,</span> DPalette<span class="token double-colon punctuation">::</span>ButtonText<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                       linear<span class="token punctuation">.</span><span class="token function">setSpread</span><span class="token punctuation">(</span>QGradient<span class="token double-colon punctuation">::</span>PadSpread<span class="token punctuation">)</span><span class="token punctuation">;</span>                                          p<span class="token operator">-></span><span class="token function">setPen</span><span class="token punctuation">(</span><span class="token function">QPen</span><span class="token punctuation">(</span><span class="token function">QBrush</span><span class="token punctuation">(</span>linear<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//è®¾ç½®ç”»ç¬”æ¸å˜ ã€é‡ç‚¹ã€‘</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="è®¾ç½®ç”»åˆ·æ¸å˜è‰²-å›¾æ¡ˆæ¸å˜è‰²-ï¼š"><a href="#è®¾ç½®ç”»åˆ·æ¸å˜è‰²-å›¾æ¡ˆæ¸å˜è‰²-ï¼š" class="headerlink" title="è®¾ç½®ç”»åˆ·æ¸å˜è‰²(å›¾æ¡ˆæ¸å˜è‰²)ï¼š"></a>è®¾ç½®ç”»åˆ·æ¸å˜è‰²(å›¾æ¡ˆæ¸å˜è‰²)ï¼š</h2><p>å›¾ç‰‡æœ‰æ¸å˜çš„éœ€æ±‚(ç”»åˆ·é‡‡ç”¨æ¸å˜è‰²)ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//é¡ºå˜ æ­¤å¤„è´¡çŒ®å‡º, æ¸å˜é…è‰²æ–¹æ¡ˆ:</span>QPointF <span class="token function">pointStart</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span><span class="token function">left</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rect<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>QPointF <span class="token function">pointEnd</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span><span class="token function">right</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rect<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>QLinearGradient <span class="token function">linear</span><span class="token punctuation">(</span>pointStart<span class="token punctuation">,</span> pointEnd<span class="token punctuation">)</span><span class="token punctuation">;</span>linear<span class="token punctuation">.</span><span class="token function">setColorAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">QColor</span><span class="token punctuation">(</span><span class="token string">"#ff6e7f"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>linear<span class="token punctuation">.</span><span class="token function">setColorAt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token function">QColor</span><span class="token punctuation">(</span><span class="token string">"#bfe9ff"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>linear<span class="token punctuation">.</span><span class="token function">setSpread</span><span class="token punctuation">(</span>QGradient<span class="token double-colon punctuation">::</span>PadSpread<span class="token punctuation">)</span><span class="token punctuation">;</span>p<span class="token operator">-></span><span class="token function">setBrush</span><span class="token punctuation">(</span>linear<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">//è®¾ç½®ç”»åˆ·æ¸å˜ ã€é‡ç‚¹ã€‘</span>p<span class="token operator">-></span><span class="token function">drawPath</span><span class="token punctuation">(</span>inter<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="QFontMetrics-boundingRect-è·å–æ–‡æœ¬çš„çŸ©å½¢ä½ç½®ï¼š"><a href="#QFontMetrics-boundingRect-è·å–æ–‡æœ¬çš„çŸ©å½¢ä½ç½®ï¼š" class="headerlink" title="QFontMetrics::boundingRect()è·å–æ–‡æœ¬çš„çŸ©å½¢ä½ç½®ï¼š"></a>QFontMetrics::boundingRect()è·å–æ–‡æœ¬çš„çŸ©å½¢ä½ç½®ï¼š</h2><p>ç›¸å½“äºè®¡ç®— ï¼ˆæ²¡ä¿®æ”¹çš„æºç ï¼‰ ä¸­çš„2-5è¡Œ çš„è®¡ç®—rect  çš„ä¸€ç§å¿«æ·æ–¹æ³•ï¼š</p><blockquote><p>&#x2F;&#x2F;è·å–å­—ç¬¦çªœçš„æœ€å°çŸ©å½¢,å’Œå…¶åœ¨æŒ‡å®šçŸ©å½¢çš„ç›¸å¯¹ä½ç½®QFontMetrics::boundingRect()</p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">const</span> QStyleOptionProgressBar <span class="token operator">*</span>progBar <span class="token operator">=</span>  <span class="token generic-function"><span class="token function">qstyleoption_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">const</span> QStyleOptionProgressBar <span class="token operator">*</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>opt<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">double</span> val <span class="token operator">=</span> progBar<span class="token operator">-></span>progress <span class="token operator">*</span> <span class="token number">1.0</span> <span class="token operator">/</span> <span class="token punctuation">(</span>progBar<span class="token operator">-></span>maximum <span class="token operator">-</span> progBar<span class="token operator">-></span>minimum<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> drawWidth <span class="token operator">=</span> val <span class="token operator">*</span> opt<span class="token operator">-></span>rect<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ­¤rectçŸ©å½¢å¤§å°æ˜¯é€šè¿‡æ–‡æœ¬å¾—åˆ°æœ€å°çš„çŸ©å½¢; å…¶ä½ç½®æ˜¯ç›¸å¯¹äºprogBar->rectçš„</span>QRect rect <span class="token operator">=</span> progBar<span class="token operator">-></span>fontMetrics<span class="token punctuation">.</span><span class="token function">boundingRect</span><span class="token punctuation">(</span>progBar<span class="token operator">-></span>rect<span class="token punctuation">,</span> progBar<span class="token operator">-></span>textAlignment<span class="token punctuation">,</span> progBar<span class="token operator">-></span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ•ˆæœå¦‚å›¾ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20191008224956.jpg" width="80%"/ loading="lazy">]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Qtç»˜ç”»æ‰‡å½¢drawPie()å’Œåä¸‰è§’å‡½æ•°qAcos()</title>
      <link href="/posts/32d0bfe0/"/>
      <url>/posts/32d0bfe0/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong>  <strong>qt</strong>ç»˜ç”»æ‰‡å½¢<code>drawPie()</code>ï¼Œç»˜ç”»å‡ºå¼§çº¿ï¼› å’Œç”±ä¸‰è§’å½¢çš„é•¿åº¦è®¡ç®—å‡ºè§’åº¦ï¼Œåˆ©ç”¨åä¸‰è§’å‡½æ•°<code>qAcos()</code></p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="é—®é¢˜èƒŒæ™¯ï¼š"><a href="#é—®é¢˜èƒŒæ™¯ï¼š" class="headerlink" title="é—®é¢˜èƒŒæ™¯ï¼š"></a>é—®é¢˜èƒŒæ™¯ï¼š</h2><p>åœ¨ç»˜ç”»è¿›åº¦æ¡æ§ä»¶ä¸­ï¼Œè¿›åº¦æ»‘å—å½“å¤„äºä¸€å¼€å§‹å’Œå¿«å®Œæˆï¼Œæœ‰å¼§åº¦éƒ¨åˆ†çš„æ—¶å€™,æƒ³è¦çœ‹çš„è¿‡ç¨‹æ¯”è¾ƒè‡ªç„¶ï¼Œå°±è¦è‡ªå·±æ‰‹åŠ¨å¡«å……è¿™ä¸€éƒ¨åˆ†â€æ¢¯å½¢(è…°æ˜¯ä¸¤ä¸ªæ®µåœ†å¼§)â€;è€Œä¸€å¼€å§‹æƒ³åˆ°çš„å±…ç„¶æ˜¯ï¼šç›´æ¥æ±‚ç›´çº¿äºå¼§çº¿(åœ†è§’çŸ©å½¢çš„å¼§çº¿éƒ¨åˆ†)çš„äº¤ç‚¹çš„å‡½æ•°ï¼Œæˆ‘è§‰å¾—åº”è¯¥æ˜¯æ²¡æœ‰çš„ã€‚</p><br><h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•:"></a>è§£å†³æ–¹æ³•:</h2><p>å°†**â€è…°æ˜¯åœ†å¼§æ¢¯å½¢â€**æ‹†åˆ†ä¸ºä¸€ä¸ªä¸¤ä¸ªåœ†å¼§å’Œä¸€ä¸ª(æ ‡å‡†)ç­‰è…°æ¢¯å½¢æ¥è¿›è¡Œæ‹†åˆ†ï¼Œä»è€Œè¿›è¡Œå¡«ã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190929233536.png"/ loading="lazy">å…¶ä¸­éœ€è¦è®¡ç®—è§’åº¦<br><h2 id="ç»˜ç”»æ‰‡å½¢drawPie-ï¼š"><a href="#ç»˜ç”»æ‰‡å½¢drawPie-ï¼š" class="headerlink" title="ç»˜ç”»æ‰‡å½¢drawPie()ï¼š"></a>ç»˜ç”»æ‰‡å½¢drawPie()ï¼š</h2><blockquote><p>void QPainter::drawPie(const QRect &amp;, int a, int alen)<br>å‚æ•°1: åœ†å¼§çš„åœ†å¿ƒæ‰€å¤„äºçŸ©å½¢<br>å‚æ•°2: åœ†å¼§çš„å¼€å§‹å§‹çš„è§’åº¦Â°(å•ä½1&#x2F;16åº¦)<br>å‚æ•°3: åœ†å¼§çš„è½¬åŠ¨çš„è§’åº¦Â°(å•ä½1&#x2F;16åº¦)</p></blockquote><p><strong>å®é™…ä½¿ç”¨</strong>ï¼Œæ³¨æ„å…¶å•ä½æ˜¯<strong>1&#x2F;16è§’åº¦</strong>ï¼Œè€Œä¸æ˜¯<strong>å¼§åº¦</strong>ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">p<span class="token operator">-></span><span class="token function">drawPie</span><span class="token punctuation">(</span>topPointRect<span class="token punctuation">,</span><span class="token number">41</span> <span class="token operator">*</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">90</span> <span class="token operator">-</span> <span class="token number">41</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br><h2 id="åä¸‰è§’è®¡ç®—è§’åº¦qAcos-ï¼š"><a href="#åä¸‰è§’è®¡ç®—è§’åº¦qAcos-ï¼š" class="headerlink" title="åä¸‰è§’è®¡ç®—è§’åº¦qAcos()ï¼š"></a>åä¸‰è§’è®¡ç®—è§’åº¦qAcos()ï¼š</h2><p>ç”±ä¸‰è§’å½¢çš„è¾¹è®¡ç®—è§’åº¦ï¼›éœ€è¦åŒ…å«å¤´æ–‡ä»¶</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QtMath></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦å¤–ä¸€ä¸ªè®¡ç®—è§’åº¦çš„å‡½æ•°</p><blockquote><p>qreal qAcos(qreal v)<br>Returns the arccosine of v as an angle in radians. Arccosine is the inverse operation of cosine.<br>å‚æ•°: ç›´è§’è¾¹&#x2F;æ–œè¾¹  (æ³¨æ„ç”¨double)<br>è¿”å›ç»“æœ: æ˜¯<strong>å¼§åº¦</strong>ä¸ºå•ä½</p></blockquote><p>ä½¿ç”¨:</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">qreal raw <span class="token operator">=</span> <span class="token function">qAcos</span><span class="token punctuation">(</span><span class="token number">30</span> <span class="token operator">*</span> <span class="token number">1.0</span> <span class="token operator">/</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//=41.4096å¼§åº¦</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><br><h2 id="å¼§åº¦å’Œè§’åº¦è½¬æ¢å…¬å¼"><a href="#å¼§åº¦å’Œè§’åº¦è½¬æ¢å…¬å¼" class="headerlink" title="å¼§åº¦å’Œè§’åº¦è½¬æ¢å…¬å¼:"></a>å¼§åº¦å’Œè§’åº¦è½¬æ¢å…¬å¼:</h2><blockquote><p>å¼§åº¦ &#x3D; è§’åº¦  *  Ï€  &#x2F; 180   </p></blockquote><p>Ï€æ‰€å¯¹åº”çš„å®ä¸º:</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//M_PIThe ratio of a circle's circumference to diameter, Ï€</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç»˜ç”»ä¸Šå›¾çš„é»‘è‰²åœ†å¼§ä»£ç :</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">qreal raw <span class="token operator">=</span> <span class="token function">qAcos</span><span class="token punctuation">(</span><span class="token number">30</span> <span class="token operator">*</span> <span class="token number">1.0</span> <span class="token operator">/</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> startRadius <span class="token operator">=</span> raw <span class="token operator">*</span> <span class="token number">180</span> <span class="token operator">/</span> M_PI<span class="token punctuation">;</span>p<span class="token operator">-></span><span class="token function">drawPie</span><span class="token punctuation">(</span>topPointRect<span class="token punctuation">,</span>startRadius <span class="token operator">*</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">90</span> <span class="token operator">-</span> startRadius<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><br><h2 id="æœ€åçš„æ•ˆæœï¼š"><a href="#æœ€åçš„æ•ˆæœï¼š" class="headerlink" title="æœ€åçš„æ•ˆæœï¼š"></a>æœ€åçš„æ•ˆæœï¼š</h2><p>å¦‚å›¾ï¼šç„¶ååŒç†ï¼Œåªéœ€è¦å°†å·¦ä¾§çš„ä¸¤ä¸ªè§’éƒ½è¿™æ ·è®¡ç®—ï¼Œç„¶ååŒæ ·å¡«å……è“è‰²ï¼Œå³å¯ä»¥åšåˆ°åœ†è§’å¤„çš„å®Œç¾ï¼ˆå½“è¿›åº¦å¢åŠ æ—¶å€™ï¼ŒåŠ è½½æƒ³çš„è‡ªç„¶ï¼‰</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190929233601.png"/ loading="lazy">]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Qtä¹‹proxy()ä»£ç†æ¢ç©¶</title>
      <link href="/posts/ff318565/"/>
      <url>/posts/ff318565/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong>  Qt çš„  <code>proxy()</code> ä»£ç†å‡½æ•°æ¢ç©¶</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="æŸ¥çœ‹æºç ï¼š"><a href="#æŸ¥çœ‹æºç ï¼š" class="headerlink" title="æŸ¥çœ‹æºç ï¼š"></a>æŸ¥çœ‹æºç ï¼š</h2><p><strong>qt</strong>ä¸­æºç æŸ¥é˜…å¯çœ‹åˆ°ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">/*!    \since 4.6    \fn const QStyle *QStyle::proxy() const    This function returns the current proxy for this style.    By default most styles will return themselves. However    when a proxy style is in use, it will allow the style to    call back into its proxy.*/</span><span class="token keyword">const</span> QStyle <span class="token operator">*</span> <span class="token class-name">QStyle</span><span class="token double-colon punctuation">::</span><span class="token function">proxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">&#123;</span>    <span class="token function">Q_D</span><span class="token punctuation">(</span><span class="token keyword">const</span> QStyle<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> d<span class="token operator">-></span>proxyStyle<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="é—®é¢˜èµ·å› ï¼š"><a href="#é—®é¢˜èµ·å› ï¼š" class="headerlink" title="é—®é¢˜èµ·å› ï¼š"></a>é—®é¢˜èµ·å› ï¼š</h2><p>åœ¨å°è£…å‡½æ•°çš„æ—¶å€™ï¼Œ<br><code>int radius = proxy()-&gt;pixelMetric(PM_FrameRadius, opt, w);</code>    &#x2F;&#x2F;ä¸ºä»€ä¹ˆè¿™é‡Œä½¿ç”¨<code>proxy()-&gt;</code>ä¼šæ˜¾ç¤ºæŠ¥é”™ï¼Œæ²¡æœ‰åŒ¹é…åˆ°çš„ç›¸åº”çš„å‡½æ•°<br><code>//    int radius = DStyle::pixelMetric(PM_FrameRadius, opt, w);</code>ã€€ã€€ã€€ã€€ã€€&#x2F;&#x2F;è€Œä¸‹é¢çš„å¯ä»¥é€šè¿‡</p><br><h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>æ£€ç´¢ Qt å¸®åŠ©æ‰‹å†Œï¼š<code>pixelMetric</code>ï¼›å‘ç°ä¸€å…±æœ‰å¦‚ä¸‹<font color=#D0087E size=4 face="å¹¼åœ†"><strong>QStyleâ€“&gt;QCommonStyleâ€“&gt;QProxyStyle (åªæœ‰è¿™ä¸‰ä¸ªï¼Œä¾æ¬¡ä¸ºé‡å†™ä¸Šä¸€ä¸ª)</strong></font></p><blockquote><p>int       QStyle::pixelMetric(QStyle::PixelMetric metric, const QStyleOption *option &#x3D; nullptr, const QWidget *widget &#x3D; nullptr) const</p><p>int QCommonStyle::pixelMetric(QStyle::PixelMetric m,      const QStyleOption *opt &#x3D; nullptr,    const QWidget *widget &#x3D; nullptr) const</p><p>int  QProxyStyle::pixelMetric(QStyle::PixelMetric metric, const QStyleOption *option &#x3D; nullptr, const QWidget *widget &#x3D; nullptr) const</p><p>int       DStyle::pixelMetric(QStyle::PixelMetric m,      const QStyleOption *opt &#x3D; nullptr,    const QWidget *widget &#x3D; nullptr) const override;</p></blockquote><br><h2 id="è§£æƒ‘"><a href="#è§£æƒ‘" class="headerlink" title="è§£æƒ‘"></a>è§£æƒ‘</h2><p>ç„¶è€Œï¼Œä¸Šé¢çš„åˆ†æå®é™…ä¸Šï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨ï¼Œç”¨ä¸‹é¢ä¸€å¥è¯è§£å†³ï¼š</p><p><code>proxy()</code>å®é™…ä¸Šå°±æ˜¯è¿”å›å®ƒè‡ªå·±ï¼Œç›¸å½“äºå½“å‰ç±»çš„<code>this</code>æŒ‡é’ˆï¼›é€šè¿‡è‡ªå·±å®é™…å·¥ç¨‹ä¸­çš„éªŒè¯ï¼Œä¹Ÿçš„ç¡®æ˜¯è¿™æ ·è¿™ç†è§£</p><p><strong>å…¶æºç è‹±æ–‡çš„æ³¨é‡Šç¿»è¯‘å¦‚ä¸‹ï¼š</strong></p><blockquote><p>æ­¤å‡½æ•°è¿”å›æ­¤æ ·å¼çš„å½“å‰ä»£ç†ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œå¤§å¤šæ•°æ ·å¼éƒ½ä¼šè¿”å›ã€‚ ç„¶è€Œå½“ä½¿ç”¨ä»£ç†æ ·å¼æ—¶ï¼Œå®ƒå°†å…è®¸æ ·å¼å›è°ƒå®ƒçš„ä»£ç†ï¼</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>C++ç±»å‹è½¬æ¢`static_cast`ï¼Œ`dynamic_cast`ï¼Œ`const_cast`ï¼Œ`reinterpret_cast`</title>
      <link href="/posts/c05841ac/"/>
      <url>/posts/c05841ac/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong>  **c++**ç±»å‹è½¬æ¢<code>static_cast</code>ï¼Œ<code>dynamic_cast</code>ï¼Œ<code>const_cast</code>ï¼Œ<code>reinterpret_cast</code>è¿™å››ç§ç±»å‹è½¬æ¢çš„åŒºåˆ«</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="æ€ç»´å¯¼å›¾ï¼š"><a href="#æ€ç»´å¯¼å›¾ï¼š" class="headerlink" title="æ€ç»´å¯¼å›¾ï¼š"></a>æ€ç»´å¯¼å›¾ï¼š</h2><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190927000813.png"/ loading="lazy"><br><h2 id="static-castï¼š"><a href="#static-castï¼š" class="headerlink" title="static_castï¼š"></a>static_castï¼š</h2><ul><li><p>é™æ€ç±»å‹è½¬æ¢:å†…ç½®ã€è‡ªå®šä¹‰æ•°æ®ç±»å‹</p>  <pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">//++++++++++++++++++++++++</span><span class="token comment">//å†…ç½®æ•°æ®ç±»å‹</span><span class="token keyword">char</span> a  <span class="token operator">=</span> <span class="token char">'a'</span><span class="token punctuation">;</span><span class="token keyword">double</span> d <span class="token operator">=</span> static_cast<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">></span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token comment">//++++++++++++++++++++++++</span><span class="token comment">//è‡ªå®šä¹‰ç±»å‹</span>Base<span class="token operator">*</span> base <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>Son<span class="token operator">*</span> son <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token comment">//å‘ä¸‹ç±»å‹è½¬æ¢  ä¸å®‰å…¨</span>Son<span class="token operator">*</span> son <span class="token operator">=</span> static_cast<span class="token operator">&lt;</span>Son<span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">(</span>base<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å‘ä¸Šç±»å‹è½¬æ¢   å®‰å…¨</span>Base<span class="token operator">*</span> base <span class="token operator">=</span> static_cast<span class="token operator">&lt;</span>Base<span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">(</span>son<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>  <br></li></ul><h2 id="static-cast"><a href="#static-cast" class="headerlink" title="static_cast:"></a>static_cast:</h2><ul><li><p>åŠ¨æ€ç±»å‹è½¬æ¢ï¼šå†…ç½®ã€è‡ªå®šä¹‰æ•°æ®ç±»å‹</p>  <pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">//++++++++++++++++++++++++</span><span class="token comment">//å†…ç½®æ•°æ®ç±»å‹ï¼Œ ä¸å¯ä»¥è½¬æ¢</span>æœ‰ç²¾åº¦æŸå¤±çš„ï¼Œéƒ½ä¸å¯ä»¥è½¬æ¢<span class="token keyword">char</span> c  <span class="token operator">=</span> <span class="token char">'c'</span><span class="token punctuation">;</span><span class="token keyword">double</span> d <span class="token operator">=</span> dynamic_cast<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">></span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token comment">//++++++++++++++++++++++++</span><span class="token comment">//è‡ªå®šä¹‰ç±»å‹</span>Base<span class="token operator">*</span> base <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>Son<span class="token operator">*</span> son <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token comment">//å‘ä¸‹ç±»å‹è½¬æ¢  ä¸å®‰å…¨   å¤±è´¥</span>Son<span class="token operator">*</span> son <span class="token operator">=</span> dynamic_cast<span class="token operator">&lt;</span>Son<span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">(</span>base<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å‘ä¸Šç±»å‹è½¬æ¢   å®‰å…¨   æˆåŠŸ</span>Base<span class="token operator">*</span> base <span class="token operator">=</span> dynamic_cast<span class="token operator">&lt;</span>Base<span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">(</span>son<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>  <br></li></ul><h2 id="const-cast"><a href="#const-cast" class="headerlink" title="const_cast:"></a>const_cast:</h2><ul><li><p>å¸¸é‡è½¬æ¢ï¼šæŒ‡é’ˆä¹‹é—´çš„è½¬æ¢</p>  <pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token comment">//å°†const int * è½¬æ¢ä¸º int*</span><span class="token keyword">int</span><span class="token operator">*</span> p2 <span class="token operator">=</span> const_cast<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//å°† p2 è½¬æ¢ä¸ºconst int*</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">*</span> p2 <span class="token operator">=</span> const_cast<span class="token operator">&lt;</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>  <br></li><li><p>å¸¸é‡è½¬æ¢ï¼šå¼•ç”¨ä¹‹é—´çš„è½¬æ¢</p>  <pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">const</span> <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> aRef <span class="token operator">=</span> a<span class="token punctuation">;</span><span class="token keyword">int</span><span class="token operator">&amp;</span> aRef2 <span class="token operator">=</span> const_cast<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&amp;</span><span class="token operator">></span><span class="token punctuation">(</span>aRef<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ä¸å¯ä»¥å¯¹ éæŒ‡é’ˆ æˆ–è€… éå¼•ç”¨ åšconst_castè½¬æ¢</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>  <br></li></ul><h2 id="reinterpret-cast"><a href="#reinterpret-cast" class="headerlink" title="reinterpret_cast:"></a>reinterpret_cast:</h2><ul><li><p>é‡æ–°è§£é‡Šè½¬æ¢ æœ€ä¸å®‰å…¨ ä¸å»ºè®®ä½¿ç”¨</p>  <pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">//å°†base* è½¬æ¢ä¸º Other*</span>Base<span class="token operator">*</span> base <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>Other<span class="token operator">*</span> other <span class="token operator">=</span> reinterpret_cast<span class="token operator">&lt;</span>Other<span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">(</span>base<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/gif/20190704175742.gif" loading="lazy"></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºä¸€ æŠ€æ³• </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>QtCreatorè®¾ç½®ä»£ç ç¾åŒ–astyleä¹‹Artistic</title>
      <link href="/posts/9d7c4480/"/>
      <url>/posts/9d7c4480/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong>  åœ¨<strong>Qt Creator</strong>é‡Œé¢ä½¿ç”¨ä»£ç ç¾åŒ–å·¥å…·<strong>astyle</strong>ï¼šæŒ‰ç…§æƒ³è¦çš„c++é£æ ¼æ¥æ ¼å¼åŒ–<code>code</code>ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>win10 x64 ä¸“ä¸šç‰ˆ 1803</code>  </p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>Qt Creator 4.8.2 (Enterprise)</code>ï¼Œ <code>Qt 5.9.8</code></p><br><h2 id="çŸ¥è¯†è®²è§£ï¼š"><a href="#çŸ¥è¯†è®²è§£ï¼š" class="headerlink" title="çŸ¥è¯†è®²è§£ï¼š"></a>çŸ¥è¯†è®²è§£ï¼š</h2><p>å¸¸ç”¨çš„**C&#x2F;C++**ä»£ç æ ¼å¼ä¼˜åŒ–å·¥å…·æœ‰ä¸¤ä¸ªï¼Œä¸€æ˜¯è€ç‰Œçš„<code>indent</code>ï¼Œå†ä¸€ä¸ªå°±æ˜¯<code>astyle</code>äº†ã€‚</p><p><strong>astyle å®˜ç½‘ä¸‹è½½ï¼š</strong> <a href="https://sourceforge.net/projects/astyle/">https://sourceforge.net/projects/astyle</a></p><p>å…¶ä»–é£æ ¼ï¼š <a href="https://zh-google-styleguide.readthedocs.io/en/latest/">Google å¼€æºé¡¹ç›® c&#x2F;c++é£æ ¼</a></p><br><h2 id="QtCreatorè®¾ç½®ï¼š"><a href="#QtCreatorè®¾ç½®ï¼š" class="headerlink" title="QtCreatorè®¾ç½®ï¼š"></a>QtCreatorè®¾ç½®ï¼š</h2><p>å…·ä½“è®¾ç½®å¦‚å›¾ï¼š<strong>â€œå·¥å…·â€“é€‰é¡¹â€“ç¾åŒ–â€“Artistic Styleâ€</strong>ï¼Œ</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190924222146.png"/ loading="lazy"><br><h2 id="æ ·å¼å‚è€ƒï¼š"><a href="#æ ·å¼å‚è€ƒï¼š" class="headerlink" title="æ ·å¼å‚è€ƒï¼š"></a>æ ·å¼å‚è€ƒï¼š</h2><p>åšä¸»å–œæ¬¢çš„æ ·å¼é£æ ¼ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token parameter variable">--style</span><span class="token operator">=</span>allman<span class="token assign-left variable">indent</span><span class="token operator">=</span>spaces<span class="token operator">=</span><span class="token number">4</span>      <span class="token comment"># ç¼©è¿›é‡‡ç”¨4ä¸ªç©ºæ ¼</span>indent-switches           <span class="token comment"># -S  è®¾ç½® switch æ•´ä½“ç¼©è¿›</span>indent-cases       <span class="token comment"># -K  è®¾ç½® cases æ•´ä½“ç¼©è¿›</span>indent-namespaces         <span class="token comment"># -N  è®¾ç½® namespace æ•´ä½“ç¼©è¿›</span>indent-preproc-block      <span class="token comment"># -xW è®¾ç½®é¢„å¤„ç†æ¨¡å—ç¼©è¿›</span>indent-preproc-define     <span class="token comment"># -w  è®¾ç½®å®å®šä¹‰æ¨¡å—ç¼©è¿›</span>pad-oper                  <span class="token comment"># -p  æ“ä½œç¬¦å‰åå¡«å……ç©ºæ ¼</span><span class="token comment">#delete-empty-lines       # -xe åˆ é™¤å¤šä½™ç©ºè¡Œ</span><span class="token comment">#add-braces               # -j  å•è¡Œè¯­å¥åŠ ä¸Šå¤§æ‹¬å·</span><span class="token comment">#align-pointer=name       # *ã€&amp;è¿™ç±»å­—ç¬¦é è¿‘å˜é‡åå­—</span>align-pointer<span class="token operator">=</span>type        <span class="token comment"># *ã€&amp;è¿™ç±»å­—ç¬¦é è¿‘ç±»å‹</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>deepinï¼ˆLinuxï¼‰å¼€æºçš„ä¸€ç§çš„é£æ ¼ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">indent</span><span class="token operator">=</span>spaces<span class="token operator">=</span><span class="token number">4</span><span class="token assign-left variable">style</span><span class="token operator">=</span>krindent-labelspad-operunpad-parenpad-headerkeep-one-line-statementsconvert-tabsindent-preprocessoralign-pointer<span class="token operator">=</span>namealign-reference<span class="token operator">=</span>namekeep-one-line-blockskeep-one-line-statementsattach-namespacesmax-instatement-indent<span class="token operator">=</span><span class="token number">120</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¥½åƒç°é˜¶æ®µï¼Œè·Ÿå¯¹ä¸‹é¢çš„è¿™ä¸€ç§æ›´åŠ æ„Ÿå†’ï¼Œå·²ç»ä½¿ç”¨äº†å¥½å‡ ä¸ªæœˆäº†ï¼Œè¯¥é£æ ¼ï¼Œä¹Ÿç®—æ¯”è¾ƒæ¨èï¼›</p><p>æˆ–è€…æƒ³è‡ªå·±è‡ªå®šä¹‰ï¼Œå¯ä»¥å‚è€ƒ<code>google</code>çš„é£æ ¼ï¼Œå¦‚é“¾æ¥ <a href="https://zh-google-styleguide.readthedocs.io/en/latest/">https://zh-google-styleguide.readthedocs.io/en/latest/</a></p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190924222700.png"/ loading="lazy"><br><h2 id="é£æ ¼æ ·å¼ï¼š"><a href="#é£æ ¼æ ·å¼ï¼š" class="headerlink" title="é£æ ¼æ ·å¼ï¼š"></a>é£æ ¼æ ·å¼ï¼š</h2><p><strong>Style-æ ¼å¼é…ç½®ï¼š</strong><br>æœ€å¸¸ç”¨çš„å°±æ˜¯ansiæˆ–æˆ–kræ ¼å¼ï¼Œå®é™…ä¸Šï¼Œkrï¼Œstroustrupå’Œlinuxè¿™ä¸‰ç§æ ¼å¼æ˜¯éå¸¸æ¥è¿‘çš„äº†ï¼Œè¯•äº†å¥½å‡ ä¸ªæ–‡ä»¶ï¼Œåªæœ‰éå¸¸å¾®å°çš„åŒºåˆ«ï¼Œå¯ä»¥å¿½ç•¥ä¸è®¡ã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190924221500.png"/ loading="lazy"><br><h2 id="å‚æ•°å«ä¹‰ï¼š"><a href="#å‚æ•°å«ä¹‰ï¼š" class="headerlink" title="å‚æ•°å«ä¹‰ï¼š"></a>å‚æ•°å«ä¹‰ï¼š</h2><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190924221621.png"/ loading="lazy"><br><h2 id="ä½¿ç”¨æ–¹æ³•ï¼š"><a href="#ä½¿ç”¨æ–¹æ³•ï¼š" class="headerlink" title="ä½¿ç”¨æ–¹æ³•ï¼š"></a>ä½¿ç”¨æ–¹æ³•ï¼š</h2><p>ä½¿ç”¨å›¾ä¸‹å›¾ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190924223021.png"/ loading="lazy"><p>å‚è€ƒæ–‡ç« ï¼š</p><p><a href="http://www.cppblog.com/jerryma/archive/2012/02/02/164813.html">C&#x2F;C++ä»£ç æ ¼å¼ä¼˜åŒ–å·¥å…·â€”-astyle</a> </p><p><a href="https://blog.csdn.net/qq_33154343/article/details/98512180"><code>Qt</code>èµ„æ–™å¤§å…¨å’Œ<code>Google</code>ç¼–ç¨‹è§„èŒƒï¼ˆä¸­æ–‡ç‰ˆï¼Œå«<code>c++</code>ã€<code>java</code>ç­‰ï¼‰</a> </p><br>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨å­ç±»é‡Œä½¿ç”¨ using çˆ¶ç±» çˆ¶ç±»å‡½æ•°åfun</title>
      <link href="/posts/a10aaeda/"/>
      <url>/posts/a10aaeda/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong>  åœ¨å­ç±»é‡Œä½¿ç”¨ <code>using</code> çˆ¶ç±»:: çˆ¶ç±»å‡½æ•°å<code>fun</code>;  è¿™ç®—æ˜¯ä¸€ä¸ª<strong>c++<strong>çš„çŸ¥è¯†ç‚¹å§ï¼Œè‡ªå·±åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­çœ‹åˆ°å´ä¸ç†è§£çš„åœ°æ–¹ï¼Œ è‡ªå·±çš„æœç´¢å…³é”®è¯ä¸ºï¼š</strong>æ´¾ç”Ÿç±»</strong> ä¸­ <strong>ä½¿ç”¨ using</strong> <code>çˆ¶ç±» :: å‡½æ•°å</code>ï¼›æ‰€ä»¥è¿™ä¸€ç¯‡çš„åç§°å°±å–åä¸ºè¿™ä¸ª</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font><br><br></p></blockquote><h2 id="æ´¾ç”Ÿç±»é‡Œä½¿ç”¨usingåŸå› ï¼š"><a href="#æ´¾ç”Ÿç±»é‡Œä½¿ç”¨usingåŸå› ï¼š" class="headerlink" title="æ´¾ç”Ÿç±»é‡Œä½¿ç”¨usingåŸå› ï¼š"></a>æ´¾ç”Ÿç±»é‡Œä½¿ç”¨usingåŸå› ï¼š</h2><p>å¦‚æœåŸºç±»ä¸­æˆå‘˜å‡½æ•°æœ‰å¤šä¸ªé‡è½½ç‰ˆæœ¬ï¼Œæ´¾ç”Ÿç±»å¯ä»¥é‡å®šä¹‰æ‰€ç»§æ‰¿çš„<font color=#FF0000 size=4 face="å¹¼åœ†"> 0 ä¸ªæˆ–å¤šä¸ªç‰ˆæœ¬</font>ï¼Œä½†æ˜¯<font color=#FF0000 size=4 face="å¹¼åœ†"> <strong>é€šè¿‡æ´¾ç”Ÿç±»å‹åªèƒ½è®¿é—®æ´¾ç”Ÿç±»ä¸­é‡å®šä¹‰çš„é‚£äº›ç‰ˆæœ¬</strong></font>ï¼Œæ‰€ä»¥å¦‚æœæ´¾ç”Ÿç±»æƒ³é€šè¿‡è‡ªèº«ç±»å‹ä½¿ç”¨æ‰€æœ‰çš„é‡è½½ç‰ˆæœ¬ï¼Œåˆ™æ´¾ç”Ÿç±»å¿…é¡»<strong>è¦ä¹ˆé‡å®šä¹‰æ‰€æœ‰é‡è½½ç‰ˆæœ¬</strong>ï¼Œ<strong>è¦ä¹ˆä¸€ä¸ªä¹Ÿä¸é‡å®šä¹‰</strong>ã€‚æœ‰æ—¶ç±»éœ€è¦ä»…ä»…é‡å®šä¹‰ä¸€ä¸ªé‡è½½é›†ä¸­æŸäº›ç‰ˆæœ¬çš„è¡Œä¸ºï¼Œå¹¶ä¸”æƒ³è¦ç»§æ‰¿å…¶ä»–ç‰ˆæœ¬çš„å«ä¹‰ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸ºäº†é‡å®šä¹‰éœ€è¦ç‰¹åŒ–çš„æŸä¸ªç‰ˆæœ¬è€Œä¸å¾—ä¸é‡å®šä¹‰æ¯ä¸€ä¸ªåŸºç±»ç‰ˆæœ¬ï¼Œå¯èƒ½ä¼šä»¤äººåŒçƒ¦ã€‚å¯ä»¥åœ¨æ´¾ç”Ÿç±»ä¸­ä¸ºé‡è½½æˆå‘˜åç§°æä¾› using å£°æ˜ï¼ˆä¸ºåŸºç±»æˆå‘˜å‡½æ•°åç§°è€Œä½œçš„ using å£°æ˜å°†è¯¥å‡½æ•°çš„æ‰€æœ‰é‡è½½å®ä¾‹åŠ åˆ°æ´¾ç”Ÿç±»çš„ä½œç”¨åŸŸï¼‰ï¼Œä½¿æ´¾ç”Ÿç±»ä¸ç”¨é‡å®šä¹‰æ‰€ç»§æ‰¿çš„æ¯ä¸€ä¸ªåŸºç±»ç‰ˆæœ¬ã€‚ä¸€ä¸ª using å£°æ˜åªèƒ½æŒ‡å®šä¸€ä¸ªåå­—ï¼Œä¸èƒ½æŒ‡å®šå½¢å‚è¡¨ï¼Œä½¿ç”¨usingå£°æ˜å°†åå­—åŠ å…¥ä½œç”¨åŸŸä¹‹åï¼Œæ´¾ç”Ÿç±»åªéœ€è¦é‡å®šä¹‰æœ¬ç±»å‹ç¡®å®å¿…é¡»å®šä¹‰çš„é‚£äº›å‡½æ•°ï¼Œå¯¹å…¶ä»–ç‰ˆæœ¬å¯ä»¥ä½¿ç”¨ç»§æ‰¿çš„å®šä¹‰ã€‚</p><p><font color=#FF0000 size=4 face="å¹¼åœ†"><strong>â€œéšè—â€æ˜¯æŒ‡æ´¾ç”Ÿç±»çš„å‡½æ•°å±è”½äº†ä¸å…¶åŒåçš„åŸºç±»å‡½æ•°ï¼Œè§„åˆ™å¦‚ä¸‹ï¼š</strong></font></p><p><font color=#FF0000 size=4 face="å¹¼åœ†">1ã€å¦‚æœæ´¾ç”Ÿç±»çš„å‡½æ•°ä¸åŸºç±»çš„å‡½æ•°åŒåï¼Œä½†æ˜¯å‚æ•°ä¸åŒã€‚</font>æ­¤æ—¶ï¼Œä¸è®ºæœ‰æ— <code>virtual</code>å…³é”®å­—ï¼ŒåŸºç±»çš„å‡½æ•°å°†è¢«éšè—ï¼ˆæ³¨æ„åˆ«ä¸é‡è½½æ··æ·†ï¼‰ã€‚</p><p><font color=#FF0000 size=4 face="å¹¼åœ†">2ã€å¦‚æœæ´¾ç”Ÿç±»çš„å‡½æ•°ä¸åŸºç±»çš„å‡½æ•°åŒåï¼Œå¹¶ä¸”å‚æ•°ä¹Ÿç›¸åŒï¼Œä½†æ˜¯åŸºç±»å‡½æ•°æ²¡æœ‰<code>virtual</code>å…³é”®å­—ã€‚</font>æ­¤æ—¶ï¼ŒåŸºç±»çš„å‡½æ•°è¢«éšè—ï¼ˆæ³¨æ„åˆ«ä¸è¦†ç›–æ··æ·†ï¼‰</p><br><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">My</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">My</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span>QString str<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> QString str<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">fun02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">fun02</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">fun02</span><span class="token punctuation">(</span>QString str<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">fun02</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> QString str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">MySon</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">My</span></span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">MySon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">fun02</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token keyword">override</span><span class="token punctuation">;</span>    <span class="token keyword">using</span> My<span class="token double-colon punctuation">::</span>fun<span class="token punctuation">;</span>    <span class="token comment">//æœ¬ç¯‡æ‰€è®²</span>    <span class="token keyword">using</span> My<span class="token double-colon punctuation">::</span>fun02<span class="token punctuation">;</span>  <span class="token comment">//æœ¬ç¯‡æ‰€è®²</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    MySon mySon<span class="token punctuation">;</span>    mySon<span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//åªä¸€ä¸ª"æ™ºèƒ½æç¤º":æ˜¯intç±»å‹</span>    mySon<span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">//æ­¤(å«è‡ªå·±)åé¢ä¸‰ä¸ªéƒ½æ˜¯å¾—ç›Šäº using My::fun; è€Œå¯ä»¥ä½¿ç”¨</span>    mySon<span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token string">"str"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//ä»ç„¶æ‰‹å†™è°ƒç”¨My::fun(QString)å…¶ä»–ç±»å‹, å¯ä»¥è¢«è°ƒç”¨</span>    mySon<span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"ac"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    mySon<span class="token punctuation">.</span><span class="token function">fun02</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//é‡å†™çš„é‚£ä¸ªå‡½æ•°,ä¹Ÿæ˜¯å”¯ä¸€çš„ä¸€ä¸ªçš„"æ™ºèƒ½æç¤º"çš„ intç±»å‹</span>    mySon<span class="token punctuation">.</span><span class="token function">fun02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//æ­¤(å«è‡ªå·±)åé¢ä¸‰ä¸ªéƒ½æ˜¯å¾—ç›Šäº using My::fun02; è€Œå¯ä»¥ä½¿ç”¨</span>    mySon<span class="token punctuation">.</span><span class="token function">fun02</span><span class="token punctuation">(</span><span class="token string">"ab"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    mySon<span class="token punctuation">.</span><span class="token function">fun02</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è°ƒç”¨åŒåå‡½æ•°<code>fun</code> æˆ–è€… <code>fun02</code>  å°±åªæœ‰é€šè¿‡ä¸€ä¸ª<code>My::</code>æ¥è°ƒç”¨</p><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190925194915.jpg"/ loading="lazy"><p><strong>è¡¥å……ä¸€ç‚¹ï¼š</strong> ä½¿ç”¨<code>using My::fun;    //æœ¬ç¯‡æ‰€è®²</code>å’Œ<code>using My::fun02;  //æœ¬ç¯‡æ‰€è®²</code>ï¼Œåœ¨æ´¾ç”Ÿç±»MySonè‹¥æ˜¯æƒ³è°ƒç”¨åŒåå‡½æ•°<code>fun</code> æˆ–è€… <code>fun02</code>  å°±åªæœ‰é€šè¿‡ä¸€ä¸ª<code>My::</code>æ¥è°ƒç”¨</p><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p>æµ‹è¯•æºç ï¼š<a href="https://github.com/touwoyimuli/2018_02_C_CPlus/tree/master/08_%E5%9C%A8%E5%AD%90%E7%B1%BB%E9%87%8C%E7%94%A8%20using%20%E7%88%B6%E7%B1%BB%EF%BC%9A%EF%BC%9A%E7%88%B6%E7%B1%BB%E5%87%BD%E6%95%B0%E5%90%8D/test">test c++ ä½¿ç”¨ using æµ‹è¯•</a></p><br><p><strong>å‚è€ƒæ–‡ç« :</strong> </p><p> <a href="https://blog.csdn.net/CNHK1225/article/details/47152311">C++ usingå…³é”®å­—ä½œç”¨ ï¼ˆé‡è½½çˆ¶ç±»å‡½æ•°ï¼‰</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºä¸€ æŠ€æ³• </category>
          
          <category> å­¦ä¹  - åº•å±‚å…¼æ¶æ„ </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>QTæºç åˆ†æQObject</title>
      <link href="/posts/72876a90/"/>
      <url>/posts/72876a90/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong>  <strong>QT</strong>æºç åˆ†æ<code>QObject</code>ï¼Œç”±æ­¤ç®¡ä¸­çª¥è±¹</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="QTæºç åˆ†æï¼šQObjectï¼š"><a href="#QTæºç åˆ†æï¼šQObjectï¼š" class="headerlink" title="QTæºç åˆ†æï¼šQObjectï¼š"></a>QTæºç åˆ†æï¼šQObjectï¼š</h2><p><strong>QT</strong>æ¡†æ¶é‡Œé¢æœ€å¤§çš„ç‰¹è‰²å°±æ˜¯åœ¨<strong>C++<strong>çš„åŸºç¡€ä¸Šå¢åŠ äº†å…ƒå¯¹è±¡ç³»ç»Ÿï¼ˆ<code>Meta-Object System</code>ï¼‰ï¼Œè€Œå…ƒå¯¹è±¡ç³»ç»Ÿé‡Œé¢æœ€é‡è¦çš„å†…å®¹å°±æ˜¯ä¿¡å·ä¸æ§½æœºåˆ¶ï¼Œè¿™ä¸ªæœºåˆ¶æ˜¯åœ¨</strong>C++<strong>è¯­æ³•çš„åŸºç¡€ä¸Šå®ç°çš„ï¼Œä½¿ç”¨äº†å‡½æ•°ã€å‡½æ•°æŒ‡é’ˆã€å›è°ƒå‡½æ•°ç­‰æ¦‚å¿µã€‚å½“ç„¶ä¸æˆ‘ä»¬è‡ªå·±å»å†™å‡½æ•°æ‰€ä¸åŒçš„æ˜¯æ§½ä¸ä¿¡å·æœºåˆ¶ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬ç”Ÿæˆéƒ¨åˆ†ä»£ç ï¼Œæ¯”å¦‚æˆ‘ä»¬å†™çš„ä¿¡å·å‡½æ•°å°±ä¸éœ€è¦å†™å®ƒçš„å®ç°éƒ¨åˆ†ï¼Œè¿™æ˜¯å› ä¸ºåœ¨æˆ‘ä»¬ç¼–è¯‘ç¨‹åºçš„æ—¶å€™ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç”Ÿæˆè¿™ä¸€éƒ¨åˆ†ä»£ç ï¼Œå½“æˆ‘ä»¬è°ƒç”¨<code>connect</code>å‡½æ•°çš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å°†ä¿¡å·å‡½æ•°ä¸æ§½å‡½æ•°ç›¸è¿æ¥ï¼Œäºæ˜¯å½“æˆ‘ä»¬è°ƒç”¨ä¿¡å·å‡½æ•°çš„æ—¶å€™ï¼Œç³»ç»Ÿå°±ä¼šè‡ªåŠ¨å›è°ƒæ§½å‡½æ•°ï¼Œä¸ç®¡ä½ æ˜¯åœ¨åŒä¸€çº¿ç¨‹ä¸‹è°ƒç”¨æˆ–è€…åœ¨ä¸åŒçº¿ç¨‹ä¸‹è°ƒç”¨ï¼Œç³»ç»Ÿéƒ½ä¼šè‡ªåŠ¨è¯„ä¼°ï¼Œå¹¶åœ¨åˆç†çš„æ—¶å€™è§¦å‘å‡½æ•°ï¼Œä»¥æ­¤æ¥ä¿è¯çº¿ç¨‹çš„å®‰å…¨ã€‚ä¿¡å·ä¸æ§½æœºåˆ¶æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œè¿™å¯ä»¥ä½¿å¾—æˆ‘ä»¬åœ¨è°ƒç”¨çš„æ—¶å€™ä¸ç”¨å†é¢å¤–çš„å¢åŠ è¿‡å¤šä¿è¯çº¿ç¨‹åŒæ­¥çš„ä»£ç ï¼Œä¸ºäº†å®ç°å…ƒå¯¹è±¡ç³»ç»Ÿï¼Œ</strong>QT</strong>æŠŠæ‰€æœ‰ç›¸å…³å®ç°å†™åœ¨äº†<code>QObject</code>ç±»ä¸­ï¼Œæ‰€ä»¥å½“ä½ æƒ³ä½¿ç”¨å…ƒå¯¹è±¡ç³»ç»Ÿçš„æ—¶å€™ï¼Œä½ æ‰€å†™çš„ç±»éœ€è¦ç»§æ‰¿è‡ª<code>QObject</code>ï¼ŒåŒ…æ‹¬<strong>QT</strong>è‡ªå¸¦çš„æ‰€æœ‰ç±»éƒ½æ˜¯ç»§æ‰¿è‡ª<code>QObject</code>ï¼Œæ‰€ä»¥åˆ†æ<code>QObject</code>çš„ä»£ç ï¼Œå¯¹äº†è§£<strong>QT</strong>çš„å…ƒå¯¹è±¡æœºåˆ¶æœ‰éå¸¸å¤§çš„å¸®åŠ©ï¼Œæˆ‘å¹¶ä¸æ‰“ç®—æŠŠ<code>QObject</code>ç±»çš„æ¯ä¸€è¡Œä»£ç éƒ½å†™ä¸‹æ¥ï¼Œåªæƒ³æŠŠå…¶ä¸­æ¯”è¾ƒå…³é”®çš„å†…å®¹æˆ–è€…å¯¹åˆ†æ<strong>QT</strong>æºç æœ‰å¸®åŠ©çš„å†…å®¹ä»‹ç»ä¸€ä¸‹ã€‚</p><br><h2 id="1-å®Q-OBJECT"><a href="#1-å®Q-OBJECT" class="headerlink" title="1.å®Q_OBJECT:"></a>1.å®Q_OBJECT:</h2><p>è¿™ä¸ªå®å±•å¼€ä»¥åæ˜¯å¦‚ä¸‹å®šä¹‰ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">Q_OBJECT</span> <span class="token punctuation">\</span><span class="token expression"><span class="token keyword">public</span><span class="token operator">:</span> </span><span class="token punctuation">\</span>    <span class="token expression">QT_WARNING_PUSH </span><span class="token punctuation">\</span>    <span class="token expression">Q_OBJECT_NO_OVERRIDE_WARNING </span><span class="token punctuation">\</span>    <span class="token expression"><span class="token keyword">static</span> <span class="token keyword">const</span> QMetaObject staticMetaObject<span class="token punctuation">;</span> </span><span class="token punctuation">\</span>    <span class="token expression"><span class="token keyword">virtual</span> <span class="token keyword">const</span> QMetaObject <span class="token operator">*</span><span class="token function">metaObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span> </span><span class="token punctuation">\</span>    <span class="token expression"><span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">qt_metacast</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span><span class="token punctuation">\</span>    <span class="token expression"><span class="token keyword">virtual</span> <span class="token keyword">int</span> <span class="token function">qt_metacall</span><span class="token punctuation">(</span>QMetaObject<span class="token double-colon punctuation">::</span>Call<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">void</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span><span class="token punctuation">\</span>    <span class="token expression">QT_TR_FUNCTIONS </span><span class="token punctuation">\</span><span class="token expression"><span class="token keyword">private</span><span class="token operator">:</span> </span><span class="token punctuation">\</span>    <span class="token expression">Q_OBJECT_NO_ATTRIBUTES_WARNING </span><span class="token punctuation">\</span>    <span class="token expression">Q_DECL_HIDDEN_STATIC_METACALL <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">qt_static_metacall</span><span class="token punctuation">(</span>QObject <span class="token operator">*</span><span class="token punctuation">,</span> QMetaObject<span class="token double-colon punctuation">::</span>Call<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">void</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span><span class="token punctuation">\</span>    <span class="token expression">QT_WARNING_POP </span><span class="token punctuation">\</span>    <span class="token expression"><span class="token keyword">struct</span> <span class="token class-name">QPrivateSignal</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> </span><span class="token punctuation">\</span><span class="token expression"><span class="token function">QT_ANNOTATE_CLASS</span><span class="token punctuation">(</span>qt_qobject<span class="token punctuation">,</span> </span><span class="token string">""</span><span class="token expression"><span class="token punctuation">)</span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½ å¯ä»¥çœ‹åˆ°è¿™ä¸ªå®å®šä¹‰äº†ä¸€äº›å‡½æ•°ï¼Œå¹¶ä¸”å‡½æ•°åéƒ½å¸¦æœ‰<code>meta</code>ï¼Œæ‰€ä»¥ä¸éš¾çŒœåˆ°è¿™äº›å‡½æ•°å’Œ<strong>QT</strong>çš„å…ƒå¯¹è±¡ç³»ç»Ÿæ˜¯æœ‰å…³ç³»çš„ï¼Œå®é™…ä¸Šä½ åœ¨<code>qobject.cpp</code>é‡Œé¢æ˜¯æ‰¾ä¸åˆ°è¿™äº›å‡½æ•°çš„å®ç°çš„ï¼Œå®ƒä»¬çš„å®ç°éƒ½åœ¨<code>moc_qobject.cpp</code>é‡Œé¢ã€‚QTçš„å…ƒå¯¹è±¡ç³»ç»Ÿæ˜¯è¿™æ ·å¤„ç†çš„ï¼Œå½“ä½ ç¼–è¯‘ä½ çš„å·¥ç¨‹æ—¶ï¼Œå®ƒä¼šå»éå†æ‰€æœ‰**C++**æ–‡ä»¶ï¼Œå½“å‘ç°æŸä¸€ä¸ªç±»çš„ç§æœ‰éƒ¨åˆ†æœ‰å£°æ˜<code>Q_OBJECT</code>è¿™ä¸ªå®æ—¶ï¼Œå°±ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª<code>moc_*.cpp</code>çš„æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶ä¼šç”Ÿæˆä¿¡å·çš„å®ç°å‡½æ•°ï¼Œ<code>Q_OBJECT</code>å®é‡Œé¢å®šä¹‰çš„é‚£äº›å‡½æ•°ä¹Ÿä¼šåœ¨è¿™ä¸ªæ–‡ä»¶é‡Œé¢å®ç°ï¼Œå¹¶ç”Ÿæˆä¸ç±»ç›¸å…³çš„å…ƒå¯¹è±¡ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªä¿¡å·çš„æ—¶å€™ï¼Œä¸éœ€è¦å®ç°å®ƒï¼Œå› ä¸ºå®ƒçš„å®ç°å·²ç»å†™åœ¨<code>moc_*.cpp</code>æ–‡ä»¶é‡Œé¢äº†ã€‚</p><br><h2 id="2-å®Q-PROPERTY"><a href="#2-å®Q-PROPERTY" class="headerlink" title="2.å®Q_PROPERTY:"></a>2.å®Q_PROPERTY:</h2><blockquote><p>Q_PROPERTY(QString objectName READ objectName WRITE setObjectName NOTIFY objectNameChanged)</p></blockquote><p>è¿™ä¸ªå®çš„å®šä¹‰å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">Q_DECLARE_PRIVATE</span><span class="token expression"><span class="token punctuation">(</span>Class<span class="token punctuation">)</span> </span><span class="token punctuation">\</span>    <span class="token expression"><span class="token keyword">inline</span> Class</span><span class="token punctuation">##</span><span class="token expression">Private<span class="token operator">*</span> <span class="token function">d_func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token keyword">reinterpret_cast</span><span class="token operator">&lt;</span>Class</span><span class="token punctuation">##</span><span class="token expression">Private <span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token function">qGetPtrHelper</span><span class="token punctuation">(</span>d_ptr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> </span><span class="token punctuation">\</span>    <span class="token expression"><span class="token keyword">inline</span> <span class="token keyword">const</span> Class</span><span class="token punctuation">##</span><span class="token expression">Private<span class="token operator">*</span> <span class="token function">d_func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token keyword">reinterpret_cast</span><span class="token operator">&lt;</span><span class="token keyword">const</span> Class</span><span class="token punctuation">##</span><span class="token expression">Private <span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token function">qGetPtrHelper</span><span class="token punctuation">(</span>d_ptr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> </span><span class="token punctuation">\</span><span class="token expression"><span class="token keyword">friend</span> <span class="token keyword">class</span> <span class="token class-name">Class</span></span><span class="token punctuation">##</span><span class="token expression">Private<span class="token punctuation">;</span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ä¸ªå®é¦–å…ˆåˆ›å»ºäº†ä¸¤ä¸ªå†…è”å‡½æ•°ï¼Œè¿”å›å€¼éƒ½æ˜¯QObjectPrivate ï¼Œå¹¶ä¸”å£°æ˜QObjectPrivate ä¸ºå‹å…ƒç±»ï¼Œ<code>QObjectPrivate</code>è¿™ä¸ªç±»æ˜¯åœ¨qobject_p.hä¸­å®šä¹‰ï¼Œå®ƒç»§æ‰¿è‡³QObjectDataï¼Œä½ å¯ä»¥çœ‹åˆ°d_func()æ˜¯å°†d_prtå¼ºåˆ¶è½¬æ¢ä¸º<code>QObjectPrivate</code> ç±»å‹ï¼Œè€Œd_prtè¿™ä¸ªæŒ‡é’ˆåœ¨QObjecté‡Œé¢å®šä¹‰çš„æ˜¯<code>QObjectData</code>çš„æŒ‡é’ˆç±»å‹ï¼Œæ‰€ä»¥è¿™é‡Œå¯ä»¥è¿›è¡Œå¼ºè½¬ï¼Œ<code>QObjectPrivate</code>è¿™ä¸ªç±»ä¸»è¦å­˜æ”¾QOjectç±»éœ€è¦ç”¨åˆ°çš„ä¸€äº›å­å¯¹è±¡ï¼Œå˜é‡ç­‰ã€‚ä¸ºä»€ä¹ˆè¦ä»‹ç»è¿™ä¸ªå®ï¼Œå¦‚æœä½ æœ‰çœ‹QTæºç ä¹ æƒ¯çš„è¯ï¼Œä½ ä¼šå‘ç°å‡ ä¹æ¯ä¸€ä¸ªç±»éƒ½ç”¨åˆ°äº†è¿™ä¸ªå®ï¼Œæˆ‘ä»¬è‡ªå·±å†™çš„ç±»ä¼šç»å¸¸æŠŠç±»å†…éƒ¨ç”¨çš„å˜é‡å£°æ˜åœ¨privateéƒ¨åˆ†ï¼Œä½†æ˜¯QTæºç å¹¶ä¸æ˜¯è¿™æ ·åšçš„ï¼Œå®ƒçš„åšæ³•æ˜¯ç»™æ¯ä¸ªç±»åˆ›å»ºä¸€ä¸ªä»¥<code>ç±»å+Private</code>çš„ç±»ï¼Œä¾‹å¦‚QObjectå¯¹åº”çš„å°±æ˜¯<code>QObjectPrivate</code>ï¼Œè¿™ä¸ªç±»å®é™…ä¸Šå°±æ˜¯ç”¨æ¥å­˜æ”¾QObjectéœ€è¦ç”¨åˆ°çš„æ‰€æœ‰ç§æœ‰å˜é‡å’Œç§æœ‰å¯¹è±¡ï¼Œè€Œ<code>QObject</code>æ›´å¤šçš„æ˜¯å‡½æ•°å®ç°ï¼Œä½ å»çœ‹å…¶ä»–çš„æºç ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå­å¯¹è±¡å£°æ˜åœ¨QPrivateä¸­ï¼Œè€Œæœ¬ç±»åªå®ç°å‡½æ•°ã€‚</p><br><h2 id="3-å®Q-DECLARE-PRIVATEï¼š"><a href="#3-å®Q-DECLARE-PRIVATEï¼š" class="headerlink" title="3.å®Q_DECLARE_PRIVATEï¼š"></a>3.å®Q_DECLARE_PRIVATEï¼š</h2><blockquote><p>Q_DECLARE_PRIVATE(QObject)</p></blockquote><p>è¿™ä¸ªå®çš„å®šä¹‰å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">Q_DECLARE_PRIVATE</span><span class="token expression"><span class="token punctuation">(</span>Class<span class="token punctuation">)</span> </span><span class="token punctuation">\</span>    <span class="token expression">``<span class="token keyword">inline</span>` `Class</span><span class="token punctuation">##</span><span class="token expression">Private<span class="token operator">*</span> <span class="token function">d_func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> ``<span class="token keyword">return</span>` `<span class="token keyword">reinterpret_cast</span>``<span class="token operator">&lt;</span>Class</span><span class="token punctuation">##</span><span class="token expression">Private <span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token function">qGetPtrHelper</span><span class="token punctuation">(</span>d_ptr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> </span><span class="token punctuation">\</span>    <span class="token expression">``<span class="token keyword">inline</span>` `<span class="token keyword">const</span>` `Class</span><span class="token punctuation">##</span><span class="token expression">Private<span class="token operator">*</span> <span class="token function">d_func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> ``<span class="token keyword">const</span>` `<span class="token punctuation">&#123;</span> ``<span class="token keyword">return</span>` `<span class="token keyword">reinterpret_cast</span>``<span class="token operator">&lt;</span>``<span class="token keyword">const</span>` `Class</span><span class="token punctuation">##</span><span class="token expression">Private <span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token function">qGetPtrHelper</span><span class="token punctuation">(</span>d_ptr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> </span><span class="token punctuation">\</span><span class="token expression"><span class="token keyword">friend</span>` `<span class="token keyword">class</span>` `Class</span><span class="token punctuation">##</span><span class="token expression">Private<span class="token punctuation">;</span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ä¸ªå®é¦–å…ˆåˆ›å»ºäº†ä¸¤ä¸ªå†…è”å‡½æ•°ï¼Œè¿”å›å€¼éƒ½æ˜¯<code>QObjectPrivate </code>ï¼Œå¹¶ä¸”å£°æ˜<code>QObjectPrivate</code> ä¸ºå‹å…ƒç±»ï¼Œ<code>QObjectPrivate</code>è¿™ä¸ªç±»æ˜¯åœ¨qobject_p.hä¸­å®šä¹‰ï¼Œå®ƒç»§æ‰¿è‡³<code>QObjectData</code>ï¼Œä½ å¯ä»¥çœ‹åˆ°<code>d_func()</code>æ˜¯å°†<code>d_prt</code>å¼ºåˆ¶è½¬æ¢ä¸º<code>QObjectPrivate</code> ç±»å‹ï¼Œè€Œ<code>d_prt</code>è¿™ä¸ªæŒ‡é’ˆåœ¨QObjecté‡Œé¢å®šä¹‰çš„æ˜¯QObjectDataçš„æŒ‡é’ˆç±»å‹ï¼Œæ‰€ä»¥è¿™é‡Œå¯ä»¥è¿›è¡Œå¼ºè½¬ï¼Œ<code>QObjectPrivate</code>è¿™ä¸ªç±»ä¸»è¦å­˜æ”¾QOjectç±»éœ€è¦ç”¨åˆ°çš„ä¸€äº›å­å¯¹è±¡ï¼Œå˜é‡ç­‰ã€‚ä¸ºä»€ä¹ˆè¦ä»‹ç»è¿™ä¸ªå®ï¼Œå¦‚æœä½ æœ‰çœ‹QTæºç ä¹ æƒ¯çš„è¯ï¼Œä½ ä¼šå‘ç°å‡ ä¹æ¯ä¸€ä¸ªç±»éƒ½ç”¨åˆ°äº†è¿™ä¸ªå®ï¼Œæˆ‘ä»¬è‡ªå·±å†™çš„ç±»ä¼šç»å¸¸æŠŠç±»å†…éƒ¨ç”¨çš„å˜é‡å£°æ˜åœ¨<code>private</code>éƒ¨åˆ†ï¼Œä½†æ˜¯QTæºç å¹¶ä¸æ˜¯è¿™æ ·åšçš„ï¼Œå®ƒçš„åšæ³•æ˜¯ç»™æ¯ä¸ªç±»åˆ›å»ºä¸€ä¸ªä»¥ç±»å+Privateçš„ç±»ï¼Œä¾‹å¦‚QObjectå¯¹åº”çš„å°±æ˜¯QObjectPrivateï¼Œè¿™ä¸ªç±»å®é™…ä¸Šå°±æ˜¯ç”¨æ¥å­˜æ”¾QObjectéœ€è¦ç”¨åˆ°çš„æ‰€æœ‰ç§æœ‰å˜é‡å’Œç§æœ‰å¯¹è±¡ï¼Œè€ŒQObjectæ›´å¤šçš„æ˜¯å‡½æ•°å®ç°ï¼Œä½ å»çœ‹å…¶ä»–çš„æºç ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå­å¯¹è±¡å£°æ˜åœ¨QPrivateä¸­ï¼Œè€Œæœ¬ç±»åªå®ç°å‡½æ•°ã€‚</p><br><h2 id="4-æ„é€ å‡½æ•°ï¼š"><a href="#4-æ„é€ å‡½æ•°ï¼š" class="headerlink" title="4.æ„é€ å‡½æ•°ï¼š"></a>4.æ„é€ å‡½æ•°ï¼š</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token class-name">QObject</span><span class="token double-colon punctuation">::</span><span class="token function">QObject</span><span class="token punctuation">(</span>QObject <span class="token operator">*</span>parent<span class="token punctuation">)</span>    <span class="token operator">:</span> <span class="token function">d_ptr</span><span class="token punctuation">(</span><span class="token keyword">new</span> QObjectPrivate<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">Q_D</span><span class="token punctuation">(</span>QObject<span class="token punctuation">)</span><span class="token punctuation">;</span>    d_ptr<span class="token operator">-></span>q_ptr <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>    d<span class="token operator">-></span>threadData <span class="token operator">=</span> <span class="token punctuation">(</span>parent <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>parent<span class="token operator">-></span><span class="token function">thread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> parent<span class="token operator">-></span><span class="token function">d_func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span>threadData <span class="token operator">:</span> <span class="token class-name">QThreadData</span><span class="token double-colon punctuation">::</span><span class="token function">current</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    d<span class="token operator">-></span>threadData<span class="token operator">-></span><span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        QT_TRY <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">check_parent_thread</span><span class="token punctuation">(</span>parent<span class="token punctuation">,</span> parent <span class="token operator">?</span> parent<span class="token operator">-></span><span class="token function">d_func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span>threadData <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> d<span class="token operator">-></span>threadData<span class="token punctuation">)</span><span class="token punctuation">)</span>                parent <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token function">setParent</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token function">QT_CATCH</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            d<span class="token operator">-></span>threadData<span class="token operator">-></span><span class="token function">deref</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            QT_RETHROW<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">if</span> <span class="token expression">QT_VERSION <span class="token operator">&lt;</span> <span class="token number">0x60000</span></span></span>    <span class="token function">qt_addObject</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">Q_UNLIKELY</span><span class="token punctuation">(</span>qtHookData<span class="token punctuation">[</span>QHooks<span class="token double-colon punctuation">::</span>AddQObject<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token generic-function"><span class="token function">reinterpret_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>QHooks<span class="token double-colon punctuation">::</span>AddQObjectCallback<span class="token operator">></span></span></span><span class="token punctuation">(</span>qtHookData<span class="token punctuation">[</span>QHooks<span class="token double-colon punctuation">::</span>AddQObject<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ï¼ˆ1ï¼‰é¦–å…ˆç¬¬ä¸€æ­¥å°±åˆ›å»ºd_ptræŒ‡é’ˆã€‚</p><p>ï¼ˆ2ï¼‰Q_D(QObject);è¿™ä¸ªå®ä½ å¯ä»¥åœ¨QTçš„å¾ˆå¤šæºç é‡Œé¢çœ‹åˆ°ã€‚å®ƒå±•å¼€ä»¥åæ˜¯ä¸‹é¢çš„æ ·å­ï¼š#define Q_D(Class) Class##Private * const d &#x3D; d_func();</p><p>ã€€ã€€  d_fun()å‡½æ•°å‰é¢è®²åˆ°äº†ï¼Œå…¶å®å°±æ˜¯è¿”å›d_pträº†ã€‚æ‰€ä»¥è¿™ä¸ªå®çš„æ„æ€æ˜¯å®šä¹‰ä¸€ä¸ªæŒ‡é’ˆdæŒ‡å‘d_ptr;</p><p>ï¼ˆ3ï¼‰d_ptr-&gt;q_ptr &#x3D; this;</p><p>ã€€ã€€ q_ptræ˜¯QOjectç±»å‹ï¼Œè¿™é‡ŒæŠŠthisæŒ‡é’ˆèµ‹ç»™äº†å®ƒï¼Œæ‰€ä»¥ä½¿å¾—QObjectPrivateå¯ä»¥å›è°ƒQOjectçš„å‡½æ•°ã€‚</p><p>ï¼ˆ4ï¼‰åˆå§‹åŒ–threadData</p><br><h2 id="5-moveToThreadï¼š"><a href="#5-moveToThreadï¼š" class="headerlink" title="5.moveToThreadï¼š"></a>5.moveToThreadï¼š</h2><h2 id="6-connectå‡½æ•°ï¼š"><a href="#6-connectå‡½æ•°ï¼š" class="headerlink" title="6.connectå‡½æ•°ï¼š"></a>6.connectå‡½æ•°ï¼š</h2><p>è¿™ä¸¤ä¸ªéƒ¨åˆ†å‚è§åŸæ–‡ï¼š</p><p><a href="https://www.cnblogs.com/WushiShengFei/p/9820835.html">QTæºç åˆ†æï¼šQObject</a></p><p>æœ¬æ–‡åŒæ­¥æ–‡ç« ï¼š</p><p><a href="https://blog.csdn.net/qq_33154343/article/details/101381410">QTæºç åˆ†æQObject</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - åº•å±‚å…¼æ¶æ„ </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åŸç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ é‡è½½(overload)ã€é‡å†™(overrride)ã€é‡å®šä¹‰(redefine)æ€»ç»“</title>
      <link href="/posts/270f0bf5/"/>
      <url>/posts/270f0bf5/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong>  <code>C++</code>é‡è½½(<strong>overload</strong>)ã€é‡å†™(<strong>overrride</strong>)ã€é‡å®šä¹‰(<strong>redefine</strong>)æ€»ç»“</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>deepin 15.11 x64 ä¸“ä¸šç‰ˆ </code>    <strong>Kernelï¼š</strong>  <code>x86_64 Linux 4.15.0-30deepin-generic</code></p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>Qt Creator 4.8.2 (Enterprise)</code>ï¼Œ <code>Qt 5.9.8</code></p><br><h2 id="ä¸€ã€é‡è½½ï¼ˆoverloadï¼‰"><a href="#ä¸€ã€é‡è½½ï¼ˆoverloadï¼‰" class="headerlink" title="ä¸€ã€é‡è½½ï¼ˆoverloadï¼‰"></a>ä¸€ã€é‡è½½ï¼ˆoverloadï¼‰</h2><p>æŒ‡å‡½æ•°åç›¸åŒï¼Œä½†æ˜¯å®ƒçš„å‚æ•°è¡¨åˆ—ä¸ªæ•°æˆ–é¡ºåºï¼Œç±»å‹ä¸åŒã€‚ä½†æ˜¯ä¸èƒ½é è¿”å›ç±»å‹æ¥åˆ¤æ–­ã€‚<br>ï¼ˆ1ï¼‰ç›¸åŒçš„èŒƒå›´ï¼ˆåœ¨åŒä¸€ä¸ªä½œç”¨åŸŸä¸­ï¼‰ ï¼›<br>ï¼ˆ2ï¼‰å‡½æ•°åå­—ç›¸åŒï¼›<br>ï¼ˆ3ï¼‰å‚æ•°ä¸åŒï¼›<br>ï¼ˆ4ï¼‰virtual å…³é”®å­—å¯æœ‰å¯æ— ã€‚<br>ï¼ˆ5ï¼‰è¿”å›å€¼å¯ä»¥ä¸åŒï¼›</p><br><h2 id="äºŒã€é‡å†™ï¼ˆä¹Ÿç§°ä¸ºè¦†ç›–-overrideï¼‰"><a href="#äºŒã€é‡å†™ï¼ˆä¹Ÿç§°ä¸ºè¦†ç›–-overrideï¼‰" class="headerlink" title="äºŒã€é‡å†™ï¼ˆä¹Ÿç§°ä¸ºè¦†ç›– overrideï¼‰"></a>äºŒã€é‡å†™ï¼ˆä¹Ÿç§°ä¸ºè¦†ç›– overrideï¼‰</h2><p>æ˜¯æŒ‡æ´¾ç”Ÿç±»é‡æ–°å®šä¹‰åŸºç±»çš„è™šå‡½æ•°ï¼Œç‰¹å¾æ˜¯ï¼š<br>ï¼ˆ1ï¼‰ä¸åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸï¼ˆåˆ†åˆ«ä½äºæ´¾ç”Ÿç±»ä¸åŸºç±»ï¼‰ ï¼›<br>ï¼ˆ2ï¼‰å‡½æ•°åå­—ç›¸åŒï¼›<br>ï¼ˆ3ï¼‰å‚æ•°ç›¸åŒï¼›<br>ï¼ˆ4ï¼‰åŸºç±»å‡½æ•°å¿…é¡»æœ‰ virtual å…³é”®å­—ï¼Œä¸èƒ½æœ‰ static ã€‚<br>ï¼ˆ5ï¼‰è¿”å›å€¼ç›¸åŒï¼ˆæˆ–æ˜¯åå˜ï¼‰ï¼Œå¦åˆ™æŠ¥é”™ï¼›&lt;â€”-åå˜è¿™ä¸ªæ¦‚å¿µæˆ‘ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡æ‰çŸ¥é“â€¦</p><p>ï¼ˆ6ï¼‰é‡å†™å‡½æ•°çš„è®¿é—®ä¿®é¥°ç¬¦å¯ä»¥ä¸åŒã€‚å°½ç®¡ virtual æ˜¯ private çš„ï¼Œæ´¾ç”Ÿç±»ä¸­é‡å†™æ”¹å†™ä¸º public,protected ä¹Ÿæ˜¯å¯ä»¥çš„</p><br><h2 id="ä¸‰ã€é‡å®šä¹‰ï¼ˆredefine-ä¹Ÿç§°éšè—ï¼‰"><a href="#ä¸‰ã€é‡å®šä¹‰ï¼ˆredefine-ä¹Ÿç§°éšè—ï¼‰" class="headerlink" title="ä¸‰ã€é‡å®šä¹‰ï¼ˆredefine,ä¹Ÿç§°éšè—ï¼‰"></a>ä¸‰ã€é‡å®šä¹‰ï¼ˆredefine,ä¹Ÿç§°éšè—ï¼‰</h2><p>ï¼ˆ1ï¼‰ä¸åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸï¼ˆåˆ†åˆ«ä½äºæ´¾ç”Ÿç±»ä¸åŸºç±»ï¼‰ ï¼›<br>ï¼ˆ2ï¼‰å‡½æ•°åå­—ç›¸åŒï¼›<br>ï¼ˆ3ï¼‰è¿”å›å€¼å¯ä»¥ä¸åŒï¼›<br>ï¼ˆ4ï¼‰å‚æ•°ä¸åŒã€‚æ­¤æ—¶ï¼Œä¸è®ºæœ‰æ—  virtual å…³é”®å­—ï¼ŒåŸºç±»çš„å‡½æ•°å°†è¢«éšè—ï¼ˆæ³¨æ„åˆ«ä¸é‡è½½ä»¥åŠè¦†ç›–æ··æ·†ï¼‰ ã€‚<br>ï¼ˆ5ï¼‰å‚æ•°ç›¸åŒï¼Œä½†æ˜¯åŸºç±»å‡½æ•°æ²¡æœ‰ virtualå…³é”®å­—ã€‚æ­¤æ—¶ï¼ŒåŸºç±»çš„å‡½æ•°è¢«éšè—ï¼ˆæ³¨æ„åˆ«ä¸è¦†ç›–æ··æ·†ï¼‰ ã€‚</p><br><h3 id="é‡å®šä¹‰redefineçš„ä»£ç æ¼”ç¤º"><a href="#é‡å®šä¹‰redefineçš„ä»£ç æ¼”ç¤º" class="headerlink" title="é‡å®šä¹‰redefineçš„ä»£ç æ¼”ç¤º:"></a>é‡å®šä¹‰redefineçš„ä»£ç æ¼”ç¤º:</h3><h4 id="æƒ…å†µä¸€ï¼šå‚æ•°ä¸åŒ"><a href="#æƒ…å†µä¸€ï¼šå‚æ•°ä¸åŒ" class="headerlink" title="æƒ…å†µä¸€ï¼šå‚æ•°ä¸åŒ:"></a>æƒ…å†µä¸€ï¼šå‚æ•°ä¸åŒ:</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">/*é‡å®šä¹‰ï¼ˆä¹Ÿæˆéšè—ï¼‰:å‚æ•°ä¸åŒã€‚æ­¤æ—¶ï¼Œä¸è®ºæœ‰æ—  virtual å…³é”®å­—ï¼ŒåŸºç±»çš„å‡½æ•°å°†è¢«éšè—ï¼ˆæ³¨æ„åˆ«ä¸é‡è½½ä»¥åŠè¦†ç›–æ··æ·†ï¼‰*/</span><span class="token keyword">class</span> <span class="token class-name">My</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">My</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span>QString str<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> QString str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">MySon</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">My</span></span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">MySon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token keyword">double</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token comment">//æˆ–</span><span class="token keyword">class</span> <span class="token class-name">My</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">My</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span>QString str<span class="token punctuation">)</span><span class="token punctuation">;</span>    virtualvoid <span class="token function">fun</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> QString str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">MySon</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">My</span></span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">MySon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token keyword">double</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token comment">//è¿è¡Œä»¥ä¸‹ä»£ç ,ä¼šå¾—åˆ°ä¸€æ ·æµ‹è¯•ç»“æœ </span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    MySon mySon<span class="token punctuation">;</span>    mySon<span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">5.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//ä½¿ç”¨æ—¶å€™,ä¼šæœ‰å”¯ä¸€"æ™ºèƒ½æç¤º",åªæœ‰doubleçš„ç‰ˆæœ¬</span>    <span class="token comment">//mySon.fun("str");  //å°è¯•è°ƒç”¨My::fun(QString), ä½†æ˜¯è¢«éšè—,ä¼šç¼–è¯‘ä¸è¿‡</span>    <span class="token keyword">return</span> a<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è¿è¡Œç»“æœï¼š</strong></p><p><strong>ç¼–ç æ™ºèƒ½æç¤ºæ—¶å€™ï¼šåªæœ‰ä¸€ä¸ª</strong></p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190925191404.png"/ loading="lazy"><p><strong>è¿è¡Œç»“æœï¼š</strong></p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190925191439.png"/ loading="lazy"><br><h4 id="æƒ…å†µäºŒï¼šå‚æ•°ç›¸åŒ"><a href="#æƒ…å†µäºŒï¼šå‚æ•°ç›¸åŒ" class="headerlink" title="æƒ…å†µäºŒï¼šå‚æ•°ç›¸åŒ:"></a>æƒ…å†µäºŒï¼šå‚æ•°ç›¸åŒ:</h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">/*é‡å®šä¹‰ï¼ˆä¹Ÿæˆéšè—ï¼‰:å‚æ•°ç›¸åŒï¼Œä½†æ˜¯åŸºç±»å‡½æ•°æ²¡æœ‰ virtualå…³é”®å­—ã€‚æ­¤æ—¶ï¼ŒåŸºç±»çš„å‡½æ•°è¢«éšè—ï¼ˆæ³¨æ„åˆ«ä¸è¦†ç›–æ··æ·†ï¼‰ */</span><span class="token keyword">class</span> <span class="token class-name">My</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">My</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span>QString str<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> QString str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">MySon</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">My</span></span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">MySon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è¿è¡Œæ•ˆæœï¼š</strong></p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190925191630.png"/ loading="lazy"><br><p><strong>å‚è€ƒæ–‡ç« :</strong></p><p> <a href="https://www.cnblogs.com/tanky_woo/archive/2012/02/08/2343203.html">C++ é‡è½½(overload)ã€é‡å†™(overrride)ã€é‡å®šä¹‰(redefine)æ€»ç»“</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºä¸€ æŠ€æ³• </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>QPushButtonä½¿ç”¨ä»å³å¾€å·¦çš„æ˜¾ç¤ºä¹‹LayoutDirection</title>
      <link href="/posts/68300fb3/"/>
      <url>/posts/68300fb3/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong>  QPushButtonä½¿ç”¨ä»å³å¾€å·¦çš„æ˜¾ç¤ºæ§ä»¶ï¼Œè®¾ç½®å±æ€§<code>LayoutDirection</code></p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>deepin 15.11 x64 ä¸“ä¸šç‰ˆ </code>    <strong>Kernelï¼š</strong>  <code>x86_64 Linux 4.15.0-30deepin-generic</code></p><br><h2 id="QPushButton-ä½¿ç”¨-ä»å³å¾€å·¦-çš„æ–‡å­—ï¼š"><a href="#QPushButton-ä½¿ç”¨-ä»å³å¾€å·¦-çš„æ–‡å­—ï¼š" class="headerlink" title="QPushButton ä½¿ç”¨ ä»å³å¾€å·¦ çš„æ–‡å­—ï¼š"></a>QPushButton ä½¿ç”¨ ä»å³å¾€å·¦ çš„æ–‡å­—ï¼š</h2><p>åœ¨ç»˜ç”»è‡ªå®šä¹‰æ§ä»¶<code>QPushButton</code>çš„æ—¶å€™,å‘ç°æœ‰ä¸€ä¸ªé—®é¢˜ï¼šéœ€è¦è€ƒè™‘åˆ°ä¸€äº›å°‘æ•°åœ°åŒºçš„äººä½¿ç”¨çš„æ–‡å­—,æ˜¯å±äºä»å³å¾€å·¦å†™,æ¯”å¦‚è¯´ â€œé˜¿æ–‡â€ç­‰(å¿˜è®°æ˜¯å“ªä¸€ç¯‡æ–‡ç« çœ‹åˆ°è¿‡,è¯´çš„æ˜¯æœ‰è¿™ç§æ–‡å­—,åæ­£é¹…æ²¡æœ‰è§è¿‡,å“ªä¸€ä½è§è¿‡çš„,è´´ä¸ªå›¾æˆ‘çœ‹ä¸€ä¸‹, æ»‘ç¨½)~~~</p><p>åœ¨ç»˜ç”»<code>QPushButton</code>æ§ä»¶æ—¶å€™,æˆ‘æœ‰å†™ç±»ä¼¼å¦‚ä¸‹ä¸€æ®µä»£ç ,ä¸“é—¨ç…§é¡¾è¿™è¿™ç§æƒ…å†µ</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">if</span> <span class="token punctuation">(</span>button<span class="token operator">-></span>direction <span class="token operator">==</span> Qt<span class="token double-colon punctuation">::</span>LeftToRight<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>textRect<span class="token punctuation">.</span><span class="token function">setRight</span><span class="token punctuation">(</span>rectArrowAndLine<span class="token punctuation">.</span><span class="token function">left</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> frameRadius<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>textRect<span class="token punctuation">.</span><span class="token function">setLeft</span><span class="token punctuation">(</span>rectArrowAndLine<span class="token punctuation">.</span><span class="token function">right</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> frameRadius<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="æµ‹è¯•ä»£ç ï¼š"><a href="#æµ‹è¯•ä»£ç ï¼š" class="headerlink" title="æµ‹è¯•ä»£ç ï¼š"></a>æµ‹è¯•ä»£ç ï¼š</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">QPushButton <span class="token function">btn2</span><span class="token punctuation">(</span><span class="token string">"abcdefghijk2222220000000022000011111222222a"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>wTemp<span class="token punctuation">)</span><span class="token punctuation">;</span>btn2<span class="token punctuation">.</span><span class="token function">setLayoutDirection</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>RightToLeft<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//è®¾å®šä¸‹æ‹‰æ ‡å¿—åœ¨å·¦è¾¹ï¼Œæ‰“å¼€æ—¶å€™æ˜¯åœ¨å³è¾¹</span>btn2<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>QMenu<span class="token operator">*</span> menu2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QMenu</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>btn2<span class="token punctuation">)</span><span class="token punctuation">;</span>btn2<span class="token punctuation">.</span><span class="token function">setMenu</span><span class="token punctuation">(</span>menu2<span class="token punctuation">)</span><span class="token punctuation">;</span>menu2<span class="token operator">-></span><span class="token function">addAction</span><span class="token punctuation">(</span><span class="token string">"actæµ‹è¯•ä¸€b"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>menu2<span class="token operator">-></span><span class="token function">addAction</span><span class="token punctuation">(</span><span class="token string">"actæµ‹è¯•2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>menu2<span class="token operator">-></span><span class="token function">addAction</span><span class="token punctuation">(</span><span class="token string">"actæµ‹è¯•23"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><p>å®é™…è‹¥æ˜¯æƒ³ä½¿ç”¨<code>QPushButton</code>,ä½¿ç”¨å¦‚ä¸Šé¢ä»£ç ,å¯ä»¥çœ‹åˆ°æ•ˆæœ(å›¾ä¸­ä¸º<code>deepin</code>ç³»ç»Ÿçš„é£æ ¼ä¸­)</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190925190005.jpg"/ loading="lazy"><p>æŸ¥çœ‹æ•ˆæœå¯çŸ¥ï¼Œå®é™…ä¸Š<code>btn2.setLayoutDirection(Qt::RightToLeft);</code>å¹¶ä¸æ˜¯æŒ‡æ–‡å­—ä»å³å¾€å·¦ä¹¦å†™æ˜¾ç¤ºï¼Œè€Œæ˜¯ï¼Œæ§ä»¶æ’åˆ—é¡ºåºæ˜¯ä»å³å¾€å·¦</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>åˆ—è¡¨æ§ä»¶QListWidgetå’Œå·¥å…·æŒ‰é’®QToolButtonçš„å’Œç”¨æ³•</title>
      <link href="/posts/52f018fb/"/>
      <url>/posts/52f018fb/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong> ä¸»è¦è®²è§£ <code>QListWidget</code>å’Œ<code>QToolButton</code>çš„å’Œç”¨æ³•ï¼Œå…¶ä¸­è¿˜æœ‰<strong>QToolBar</strong>ã€<strong>QToolBox</strong>ã€<strong>QTabWidget</strong>è¿™äº›ç®€å•æ˜¯è®²è§£å’Œä½¿ç”¨</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ç®€è¿°ï¼š"><a href="#ç®€è¿°ï¼š" class="headerlink" title="ç®€è¿°ï¼š"></a>ç®€è¿°ï¼š</h2><p>â€‹<strong>è¯¦æƒ…ï¼š</strong>  è§ç®€ä»‹ï¼Œå¦å¤–è¿˜æœ‰å·²ä¸‹ä¸»è¦çŸ¥è¯†ç‚¹</p><ul><li>åˆ é™¤<code>item</code>æ—¶å€™ï¼š<code>takeItem()</code></li><li><strong>QToolButton</strong>çš„<code>PopupMode</code>å±æ€§ï¼Œå’Œ<code>setDefaultAction()</code>é»˜è®¤è¡Œä¸º</li><li>ç»™<strong>QListWidget</strong>æ·»åŠ é¼ æ ‡å³é”®å¼¹å‡ºèœå•</li></ul><br><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>win10 x64 ä¸“ä¸šç‰ˆ 1803</code>  </p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>Qt Creator 4.8.2 (Enterprise)</code>ï¼Œ <code>Qt 5.9.8</code></p><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><p>å…ˆä¸Šä¸€ä¸ªæœ€ç»ˆçš„è¿è¡Œæ•ˆæœå›¾ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190921162110.gif"/ loading="lazy"><br><h2 id="å¸ƒå±€è®¾è®¡å›¾"><a href="#å¸ƒå±€è®¾è®¡å›¾" class="headerlink" title="å¸ƒå±€è®¾è®¡å›¾:"></a>å¸ƒå±€è®¾è®¡å›¾:</h2><p>å…¶ä¸­çš„å¸ƒå±€è®¾è®¡ï¼Œå¦‚ä¸‹å›¾</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190921162322.png"/ loading="lazy"><p>è¿™ä¸ªå…¶ä¸­ä¸»è¦æ˜¯åˆ›å»ºå¤šä¸ª<code>Action()</code>, ç„¶åä½¿ç”¨æ·»åŠ åˆ°å·¥å…·æ å’ŒæŒ‰é’®ä¸Šé¢ï¼Œä»è€Œå¾—ç›¸åŒçš„æ•ˆæœ</p><br><h2 id="takeItem-ç§»é™¤itemï¼š"><a href="#takeItem-ç§»é™¤itemï¼š" class="headerlink" title="takeItem()ç§»é™¤itemï¼š"></a>takeItem()ç§»é™¤itemï¼š</h2><p><strong>åˆ é™¤itemæ—¶å€™ï¼ŒtakeItem(row)å‡½æ•°åªæ˜¯ç§»é™¤ï¼Œä¸åˆ é™¤å¯¹è±¡ï¼š</strong></p><ul><li><strong>å…¶ä¸­åˆ é™¤QListWidgetçš„itemæ—¶å€™ï¼Œéœ€è¦æ³¨æ„ï¼š</strong><font color=#FE7207  size=3 face="å¹¼åœ†"><strong>ä¸€å®šè¦æ‰‹åŠ¨åˆ é™¤å…¶åˆ›å»ºçš„item</strong></font></li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190901193426.png"/ loading="lazy"><p>ç¿»è¯‘å¦‚ä¸‹ï¼š</p><blockquote><p>ä»åˆ—è¡¨å°éƒ¨ä»¶ä¸­çš„ç»™å®šè¡Œä¸­åˆ é™¤å¹¶è¿”å›é¡¹;å¦åˆ™è¿”å›0ã€‚ä»åˆ—è¡¨å°éƒ¨ä»¶ä¸­åˆ é™¤çš„é¡¹ç›®å°†ä¸ä¼šç”±Qtç®¡ç†ï¼Œå¹¶ä¸”éœ€è¦æ‰‹åŠ¨åˆ é™¤ã€‚</p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//actDelåˆ é™¤ä¸€ä¸ªæŒ‡å®šçš„ListWidgetçš„åˆ—è¡¨é¡¹</span><span class="token keyword">void</span> <span class="token class-name">ExQListWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_actDel_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> row <span class="token operator">=</span> ui<span class="token operator">-></span>listWidget<span class="token operator">-></span><span class="token function">currentRow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QListWidgetItem<span class="token operator">*</span> item <span class="token operator">=</span> ui<span class="token operator">-></span>listWidget<span class="token operator">-></span><span class="token function">takeItem</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">//åˆ é™¤è¯¥ä¸ºrowçš„itemï¼Œ å¹¶ä¸”è¿”å›æŒ‡é’ˆ</span>    <span class="token keyword">delete</span> item<span class="token punctuation">;</span>                                                       <span class="token comment">//æ‰‹åŠ¨åˆ é™¤å¯¹è±¡</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="PopupModeçš„å±æ€§-ä¸‹æ‹‰å°ç®­å¤´"><a href="#PopupModeçš„å±æ€§-ä¸‹æ‹‰å°ç®­å¤´" class="headerlink" title="PopupModeçš„å±æ€§(ä¸‹æ‹‰å°ç®­å¤´):"></a>PopupModeçš„å±æ€§(ä¸‹æ‹‰å°ç®­å¤´):</h2><p><strong>QToolButtonçš„PopupModeå±æ€§ï¼Œå’ŒsetDefaultAction()é»˜è®¤è¡Œä¸ºï¼š</strong></p><p>æ–‡æ¡£å¦‚ä¸‹ï¼Œä¾‹å­å¦‚ä¸‹é¢ä»£ç </p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190901220227.png"/ loading="lazy"><ul><li>ToolBar æ·»åŠ é¡¹é€‰æ‹©ï¼ˆå¸¦ä¸‹æ‹‰æ¡†ï¼‰ å’Œé€€å‡ºï¼›å³ä¾§ä¸€ä¸ªæŒ‰é’®ä¹Ÿæ·»åŠ ä¸€ä¸ªé¡¹çš„é€‰æ‹©</li></ul><p>æ·»åŠ ä¸‹å›¾æ‰€ç¤ºçš„ä¸¤ä¸ªåœ°æ–¹</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190901223509.png"/ loading="lazy"><p>ã€ä¸Šå›¾é ä¸Šçš„QToolButtonã€‘å…¶é£æ ¼æ ·å¼å±æ€§æ˜¯<code>setPopupMode(QToolButton::InstantPopup)</code>ï¼›å’Œé ä¸‹é¢é‚£ä¸ªæœ‰åŒºåˆ«ï¼Œ<strong>ç‚¹å‡»æ‰€æœ‰åœ°æ–¹éƒ½ä¼šå¼¹å‡ºèœå•</strong>ï¼ˆç”±ä»£ç çš„ToolBottonçš„æ ·å¼æ•…æ„è®¾ç½®ä¸ä¸€æ ·è¿›è¡Œæ¼”ç¤ºçš„ï¼‰</p><p>ã€ä¸Šå›¾é ä¸‹çš„QToolButtonã€‘å…¶é£æ ¼æ ·å¼å±æ€§æ˜¯<code>setPopupMode(QToolButton::MenuButtonPopup)</code>ï¼›é»˜è®¤å¯ä»¥ç‚¹å‡»<strong>å·¦ä¾§ä¸»ä½“</strong>ï¼ˆéå³ä¾§ä¸‰è§’å½¢çŠ¶çš„ä¸‹æ‹‰éƒ¨åˆ†ï¼‰ï¼Œä¹Ÿä¼šæœ‰ååº”(ä½†æ˜¯ä¸å¼¹å‡ºèœå•)ï¼›<strong>åªæœ‰ç‚¹å‡»å³ä¾§æœ‰ä¸‰è§’å½¢åŒºåŸŸï¼Œæ‰ä¼šå¼¹å‡ºèœå•</strong>ï¼Œé»˜è®¤æ¿€æ´»<code>setDefaultAction(ui-&gt;actSelPopMenu)</code>ï¼›è€Œ<strong>actSelPopMenu</strong>åˆåœ¨Designé‡Œé¢ä¸<strong>actSelInvs</strong>è¿›è¡Œäº†å…³è”ã€‚æ‰€ä»¥ç‚¹å‡»å…¶å·¦ä¾§éƒ¨åˆ†ï¼Œç›¸å½“äºç‚¹å‡»äº†åé€‰</p><p>å…¶ä¸­ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//ToolBar æ·»åŠ é¡¹é€‰æ‹©ï¼ˆå¸¦ä¸‹æ‹‰æ¡†ï¼‰ å’Œé€€å‡ºï¼›å³ä¾§ä¸€ä¸ªæŒ‰é’®ä¹Ÿæ·»åŠ ä¸€ä¸ªé¡¹çš„é€‰æ‹©</span><span class="token keyword">void</span> <span class="token class-name">ExQListWidget</span><span class="token double-colon punctuation">::</span><span class="token function">creatorPopMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">//åˆ›å»ºèœå•</span>    QMenu<span class="token operator">*</span> menu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QMenu</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                         <span class="token comment">//åˆ›å»ºå¼¹å‡ºå¼èœå•</span>    menu<span class="token operator">-></span><span class="token function">addAction</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>actSelAll<span class="token punctuation">)</span><span class="token punctuation">;</span>    menu<span class="token operator">-></span><span class="token function">addAction</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>actSelInvs<span class="token punctuation">)</span><span class="token punctuation">;</span>    menu<span class="token operator">-></span><span class="token function">addAction</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>actSelNone<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//å³ä¾§ListWidgetï¼Œ å…¶ä¸Šæ–¹çš„toolBtnæŒ‰é’®</span>    <span class="token comment">//è®¾ç½®toolBtnSelectItemçš„å¤šä¸ªå±æ€§ï¼šPopupModeã€ToolButtonStyleç­‰ï¼ˆåœ¨Designå·²ç»è®¾ç½®ï¼‰</span>    ui<span class="token operator">-></span>toolBtnSelectItem<span class="token operator">-></span><span class="token function">setDefaultAction</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>actSelPopMenu<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//å…³è”action</span>    ui<span class="token operator">-></span>toolBtnSelectItem<span class="token operator">-></span><span class="token function">setMenu</span><span class="token punctuation">(</span>menu<span class="token punctuation">)</span><span class="token punctuation">;</span>                                  <span class="token comment">//è®¾ç½®ä¸‹æ‹‰èœå•menu</span>    <span class="token comment">//å·¥å…·æ QToolBarä¸Šé¢çš„ä¸‹æ‹‰èœå•æ ·å¼æŒ‰é’®</span>    QToolButton<span class="token operator">*</span> toolBtn <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QToolButton</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    toolBtn<span class="token operator">-></span><span class="token function">setPopupMode</span><span class="token punctuation">(</span>QToolButton<span class="token double-colon punctuation">::</span>InstantPopup<span class="token punctuation">)</span><span class="token punctuation">;</span>                      <span class="token comment">//ä¸‹æ‹‰å¼èœå•æ ·å¼å±æ€§</span>    toolBtn<span class="token operator">-></span><span class="token function">setToolButtonStyle</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>ToolButtonTextUnderIcon<span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">//è®¾ç½®æ±‰å­—å‡ºç°åœ¨iconä¸‹é¢</span>    toolBtn<span class="token operator">-></span><span class="token function">setDefaultAction</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>actSelPopMenu<span class="token punctuation">)</span><span class="token punctuation">;</span>                          <span class="token comment">//å…³è”action</span>    toolBtn<span class="token operator">-></span><span class="token function">setMenu</span><span class="token punctuation">(</span>menu<span class="token punctuation">)</span><span class="token punctuation">;</span>                                                <span class="token comment">//å…³è”èœå•</span>    ui<span class="token operator">-></span>toolBar<span class="token operator">-></span><span class="token function">addSeparator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                           <span class="token comment">//æ·»åŠ éš”æ </span>    ui<span class="token operator">-></span>toolBar<span class="token operator">-></span><span class="token function">addWidget</span><span class="token punctuation">(</span>toolBtn<span class="token punctuation">)</span><span class="token punctuation">;</span>                                       <span class="token comment">//æ·»åŠ åˆ°å·¥å…·æ </span>    <span class="token comment">//æ·»åŠ é€€å‡ºæŒ‰é’®</span>    ui<span class="token operator">-></span>toolBar<span class="token operator">-></span><span class="token function">addSeparator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>toolBar<span class="token operator">-></span><span class="token function">addAction</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>actExit<span class="token punctuation">)</span><span class="token punctuation">;</span>                                   <span class="token comment">//æ·»åŠ é€€å‡ºæŒ‰é’®</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="ç»™QListWidgetæ·»åŠ é¼ æ ‡å³é”®å¼¹å‡ºèœå•ï¼š"><a href="#ç»™QListWidgetæ·»åŠ é¼ æ ‡å³é”®å¼¹å‡ºèœå•ï¼š" class="headerlink" title="ç»™QListWidgetæ·»åŠ é¼ æ ‡å³é”®å¼¹å‡ºèœå•ï¼š"></a>ç»™QListWidgetæ·»åŠ é¼ æ ‡å³é”®å¼¹å‡ºèœå•ï¼š</h2><blockquote><p>åªè¦æ˜¯ç»§æ‰¿äº<strong>QWidget</strong>å‡æœ‰<strong>customContextMenuRequested</strong>è¿™ä¸ªä¿¡å·ï¼Œæ˜¯é¼ æ ‡å³é”®å‘å°„çš„ä¿¡å·ï¼›å¯ä»¥ç”¨æ¥åˆ›å»ºå’Œè¿è¡Œå³é”®å¿«æ·èœå•</p></blockquote><ul><li><strong>è®¾ç½®QListWidgetæ”¯æŒå³é”®èœå•,è¿™å¥è¯ä¸€å®šè¦æœ‰</strong>ï¼Œ ä¸ç„¶ä¸‹é¢çš„è®¾ç½®ä¸ä¼šç”Ÿæ•ˆ</li></ul><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ui<span class="token operator">-></span>listWidget<span class="token operator">-></span><span class="token function">setContextMenuPolicy</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>CustomContextMenu<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å®ç°èœå•ç»†èŠ‚ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//é¼ æ ‡å³é”®è‡ªå®šä¹‰å¿«æ·èœå•</span><span class="token keyword">void</span> <span class="token class-name">ExQListWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_listWidget_customContextMenuRequested</span><span class="token punctuation">(</span><span class="token keyword">const</span> QPoint <span class="token operator">&amp;</span>pos<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">"11111111"</span><span class="token punctuation">;</span>    <span class="token function">Q_UNUSED</span><span class="token punctuation">(</span>pos<span class="token punctuation">)</span>    QMenu<span class="token operator">*</span> menu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QMenu</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                         <span class="token comment">//åˆ›å»ºèœå•</span>    menu<span class="token operator">-></span><span class="token function">addAction</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>actListInit<span class="token punctuation">)</span><span class="token punctuation">;</span>    menu<span class="token operator">-></span><span class="token function">addAction</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>actAdd<span class="token punctuation">)</span><span class="token punctuation">;</span>    menu<span class="token operator">-></span><span class="token function">addAction</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>actDel<span class="token punctuation">)</span><span class="token punctuation">;</span>    menu<span class="token operator">-></span><span class="token function">addAction</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>actClear<span class="token punctuation">)</span><span class="token punctuation">;</span>    menu<span class="token operator">-></span><span class="token function">addAction</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>actInsert<span class="token punctuation">)</span><span class="token punctuation">;</span>    menu<span class="token operator">-></span><span class="token function">addSeparator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    menu<span class="token operator">-></span><span class="token function">addAction</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>actSelAll<span class="token punctuation">)</span><span class="token punctuation">;</span>    menu<span class="token operator">-></span><span class="token function">addAction</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>actSelNone<span class="token punctuation">)</span><span class="token punctuation">;</span>    menu<span class="token operator">-></span><span class="token function">addAction</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>actSelInvs<span class="token punctuation">)</span><span class="token punctuation">;</span>    menu<span class="token operator">-></span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token class-name">QCursor</span><span class="token double-colon punctuation">::</span><span class="token function">pos</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                            <span class="token comment">//åœ¨é¼ æ ‡å…‰æ ‡ä½ç½®æ˜¾ç¤ºå³é”®å¿«æ·èœå•</span>    <span class="token keyword">delete</span> menu<span class="token punctuation">;</span>                                                           <span class="token comment">//æ‰‹å·¥åˆ›å»ºçš„æŒ‡é’ˆå¿…é¡»æ‰‹å·¥åˆ é™¤</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å®ç°æ•ˆæœï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190901224141.png"/ loading="lazy"><br><h2 id="å…³äºåˆå§‹åŒ–QListWidgetItemæŒ‰é’®ï¼š"><a href="#å…³äºåˆå§‹åŒ–QListWidgetItemæŒ‰é’®ï¼š" class="headerlink" title="å…³äºåˆå§‹åŒ–QListWidgetItemæŒ‰é’®ï¼š"></a>å…³äºåˆå§‹åŒ–<code>QListWidgetItem</code>æŒ‰é’®ï¼š</h2><p>å·¦ä¾§çš„åˆå§‹åŒ–ListWidgetï¼Œç‚¹å‡»ä¹‹å‰ä¼šç¡®è®¤å³ä¸Šè§’çš„<strong>â–¡å¯ç¼–è¾‘å¤é€‰æ¡†</strong>æ˜¯å¦è¢«å‹¾ä¸Šâˆšï¼Œ <strong>å…¶å®Œæ•´å«ä¹‰æ˜¯ï¼šâ–¡ æ¡† åˆå§‹åŒ–çš„æˆå‘˜ï¼Œæ˜¯å¦è®¾ç½®ä¸ºå¯ç¼–è¾‘ï¼Œè‹¥å‹¾é€‰ï¼Œé‚£ä¹ˆåˆå§‹åŒ–çš„æˆå‘˜éƒ½æ˜¯å¯ä»¥åˆ«ç¼–è¾‘çš„</u></strong>**</p><p>ä¸”æ–°åˆ›å»ºçš„<strong>QListWidgetItem</strong>é¡¹ï¼Œåº”è¯¥çš„<strong>Flags</strong>å±æ€§ä¸€èˆ¬è®¾ç½®ä¸ºå¦‚ä¸‹</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//actListInitåˆå§‹åŒ–ListWidgetçš„åˆ—è¡¨é¡¹listWidget</span><span class="token keyword">void</span> <span class="token class-name">ExQListWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_actListInit_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QListWidgetItem<span class="token operator">*</span> item<span class="token punctuation">;</span>                                          <span class="token comment">//æ¯ä¸€è¡Œéƒ½æ˜¯ä¸€ä¸ªQListWidgetItem</span>    QIcon icon<span class="token punctuation">;</span>    icon<span class="token punctuation">.</span><span class="token function">addFile</span><span class="token punctuation">(</span><span class="token string">":/images/github.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">bool</span> chk <span class="token operator">=</span> ui<span class="token operator">-></span>checkBox<span class="token operator">-></span><span class="token function">isChecked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                           <span class="token comment">//æ˜¯å¦å¯ç¼–è¾‘</span>    ui<span class="token operator">-></span>listWidget<span class="token operator">-></span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">13</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QListWidgetItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//(ui->listWidget);            //åˆ›å»ºä¸€ä¸ªitem</span>        item<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"åˆå§‹åŒ– ç¬¬%1ä¸ªé¡¹item"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è®¾ç½®æ–‡å­—</span>        item<span class="token operator">-></span><span class="token function">setIcon</span><span class="token punctuation">(</span>icon<span class="token punctuation">)</span><span class="token punctuation">;</span>                                        <span class="token comment">//è®¾ç½®iconå›¾æ ‡</span>        item<span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>Unchecked<span class="token punctuation">)</span><span class="token punctuation">;</span>                         <span class="token comment">//è®¾ç½®é€‰ä¸­æ–¹å¼</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>chk<span class="token punctuation">)</span>                                                    <span class="token comment">//å¯ç¼–è¾‘</span>            item<span class="token operator">-></span><span class="token function">setFlags</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>ItemIsSelectable <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsEditable <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsUserCheckable <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsEnabled<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">else</span>            item<span class="token operator">-></span><span class="token function">setFlags</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>ItemIsSelectable <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsUserCheckable <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsEnabled<span class="token punctuation">)</span><span class="token punctuation">;</span>        ui<span class="token operator">-></span>listWidget<span class="token operator">-></span><span class="token function">addItem</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>                              <span class="token comment">//æ·»åŠ é¡¹itemåˆ°listWidgeté‡Œé¢</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="æ ¸å¿ƒæºç ï¼š"><a href="#æ ¸å¿ƒæºç ï¼š" class="headerlink" title="æ ¸å¿ƒæºç ï¼š"></a>æ ¸å¿ƒæºç ï¼š</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//actInsertåœ¨ListWidgetçš„åˆ—è¡¨é¡¹ä¸­æ’å…¥ä¸€ä¸ªé¡¹item</span><span class="token keyword">void</span> <span class="token class-name">ExQListWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_actInsert_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QListWidgetItem<span class="token operator">*</span> item<span class="token punctuation">;</span>                                           <span class="token comment">//æ¯ä¸€è¡Œéƒ½æ˜¯ä¸€ä¸ªQListWidgetItem</span>    QIcon icon<span class="token punctuation">;</span>    icon<span class="token punctuation">.</span><span class="token function">addFile</span><span class="token punctuation">(</span><span class="token string">":/images/gril.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">bool</span> chk <span class="token operator">=</span> ui<span class="token operator">-></span>checkBox<span class="token operator">-></span><span class="token function">isChecked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                             <span class="token comment">//æ˜¯å¦å¯ç¼–è¾‘</span>    item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QListWidgetItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                     <span class="token comment">//åˆ›å»ºä¸€ä¸ªitem</span>    item<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"æ’å…¥ä¸€ä¸ªé¡¹item: "</span> <span class="token operator">+</span> <span class="token class-name">QDateTime</span><span class="token double-colon punctuation">::</span><span class="token function">currentDateTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">"yyyy-mm-dd hh:MM:ss:zzz"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//è®¾ç½®æ–‡å­—</span>    item<span class="token operator">-></span><span class="token function">setIcon</span><span class="token punctuation">(</span>icon<span class="token punctuation">)</span><span class="token punctuation">;</span>                                              <span class="token comment">//è®¾ç½®iconå›¾æ ‡</span>    item<span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>Unchecked<span class="token punctuation">)</span><span class="token punctuation">;</span>                               <span class="token comment">//è®¾ç½®é€‰ä¸­æ–¹å¼</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>chk<span class="token punctuation">)</span>                                                          <span class="token comment">//å¯ç¼–è¾‘</span>        item<span class="token operator">-></span><span class="token function">setFlags</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>ItemIsSelectable <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsEditable <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsUserCheckable <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsEnabled<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">else</span>        item<span class="token operator">-></span><span class="token function">setFlags</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>ItemIsSelectable <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsUserCheckable <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsEnabled<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>listWidget<span class="token operator">-></span><span class="token function">insertItem</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>listWidget<span class="token operator">-></span><span class="token function">currentRow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//æ·»åŠ é¡¹itemåˆ°listWidgeté‡Œé¢</span><span class="token punctuation">&#125;</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token comment">//actAddæ·»åŠ ä¸€ä¸ªæŒ‡å®šçš„ListWidgetçš„åˆ—è¡¨é¡¹</span><span class="token keyword">void</span> <span class="token class-name">ExQListWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_actAdd_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QListWidgetItem<span class="token operator">*</span> item<span class="token punctuation">;</span>                                           <span class="token comment">//æ¯ä¸€è¡Œéƒ½æ˜¯ä¸€ä¸ªQListWidgetItem</span>    QIcon icon<span class="token punctuation">;</span>    icon<span class="token punctuation">.</span><span class="token function">addFile</span><span class="token punctuation">(</span><span class="token string">":/images/TREE.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">bool</span> chk <span class="token operator">=</span> ui<span class="token operator">-></span>checkBox<span class="token operator">-></span><span class="token function">isChecked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                             <span class="token comment">//æ˜¯å¦å¯ç¼–è¾‘</span>    item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QListWidgetItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                     <span class="token comment">//åˆ›å»ºä¸€ä¸ªitem</span>    item<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"æ·»åŠ ä¸€ä¸ªé¡¹item: "</span> <span class="token operator">+</span> <span class="token class-name">QDateTime</span><span class="token double-colon punctuation">::</span><span class="token function">currentDateTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">"yyyy-mm-dd hh:MM:ss:zzz"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//è®¾ç½®æ–‡å­—</span>    item<span class="token operator">-></span><span class="token function">setIcon</span><span class="token punctuation">(</span>icon<span class="token punctuation">)</span><span class="token punctuation">;</span>                                              <span class="token comment">//è®¾ç½®iconå›¾æ ‡</span>    item<span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>Unchecked<span class="token punctuation">)</span><span class="token punctuation">;</span>                               <span class="token comment">//è®¾ç½®é€‰ä¸­æ–¹å¼</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>chk<span class="token punctuation">)</span>                                                          <span class="token comment">//å¯ç¼–è¾‘</span>        item<span class="token operator">-></span><span class="token function">setFlags</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>ItemIsSelectable <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsEditable <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsUserTristate <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsEnabled<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">else</span>        item<span class="token operator">-></span><span class="token function">setFlags</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>ItemIsSelectable <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsUserTristate <span class="token operator">|</span> Qt<span class="token double-colon punctuation">::</span>ItemIsEnabled<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>listWidget<span class="token operator">-></span><span class="token function">addItem</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>                                    <span class="token comment">//æ·»åŠ é¡¹itemåˆ°listWidgeté‡Œé¢</span><span class="token punctuation">&#125;</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token comment">//è®¾ç½®å…¨é€‰</span><span class="token keyword">void</span> <span class="token class-name">ExQListWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_actSelAll_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> nCount <span class="token operator">=</span> ui<span class="token operator">-></span>listWidget<span class="token operator">-></span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        QListWidgetItem<span class="token operator">*</span> item <span class="token operator">=</span> ui<span class="token operator">-></span>listWidget<span class="token operator">-></span><span class="token function">item</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        item<span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>Checked<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token comment">//è®¾ç½®QListWidgetçš„å½“å‰itemå‘ç”Ÿå˜åŒ–ï¼Œè§¦å‘çš„ä¿¡å·,ä¼šåœ¨å³ä¾§æ˜¾ç¤ºå‡ºæ¥</span><span class="token keyword">void</span> <span class="token class-name">ExQListWidget</span><span class="token double-colon punctuation">::</span><span class="token function">on_listWidget_currentItemChanged</span><span class="token punctuation">(</span>QListWidgetItem <span class="token operator">*</span>current<span class="token punctuation">,</span> QListWidgetItem <span class="token operator">*</span>previous<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>current <span class="token operator">!=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>previous <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>            ui<span class="token operator">-></span>lineEditRight<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"å½“å‰é¡¹:%1ï¼›  å‰ä¸€é¡¹%2"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>current<span class="token operator">-></span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span><span class="token string">"ä¸å­˜åœ¨"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">else</span>            ui<span class="token operator">-></span>lineEditRight<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"å½“å‰é¡¹:%1ï¼›  å‰ä¸€é¡¹%2"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>current<span class="token operator">-></span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>previous<span class="token operator">-></span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><a href="https://github.com/xmuli/QtExamples">https://github.com/xmuli/QtExamples</a>ã€QtQListWidgetExã€‘</p><br>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>QComboBoxå’ŒQPlainTextEditçš„è®²è§£å’Œä½¿ç”¨</title>
      <link href="/posts/8158b3d5/"/>
      <url>/posts/8158b3d5/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong>  ä¸‹æ‹‰åˆ—è¡¨æ¡†<code>QComboBox</code>å’Œå¯Œæ–‡æœ¬ç¼–è¾‘å™¨<code>QPlainTextEdit</code>çš„ä»‹ç»å’Œä½¿ç”¨</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="é…ç½®ç¯å¢ƒï¼š"><a href="#é…ç½®ç¯å¢ƒï¼š" class="headerlink" title="é…ç½®ç¯å¢ƒï¼š"></a>é…ç½®ç¯å¢ƒï¼š</h2><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>win10 x64 ä¸“ä¸šç‰ˆ 1803</code>  </p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>Qt Creator 4.8.2 (Enterprise)</code>ï¼Œ <code>Qt 5.9.8</code></p><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><p>å…ˆä¸Šä¸€ä¸ªæœ€ç»ˆçš„è¿è¡Œæ•ˆæœå›¾ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190921170623.gif"/ loading="lazy"><br><h2 id="QComboBoxå±æ€§ï¼š"><a href="#QComboBoxå±æ€§ï¼š" class="headerlink" title="QComboBoxå±æ€§ï¼š"></a>QComboBoxå±æ€§ï¼š</h2><p><code>QComboBox</code>æ˜¯ä¸‹æ‹‰åˆ—è¡¨æ¡†ç»„ä»¶ç±»ï¼Œå®ƒæä¾›ä¸€ä¸ªä¸‹æ‹‰åˆ—è¡¨ä¾›ç”¨æˆ·é€‰æ‹©ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å½“ä½œä¸€ä¸ª<code>QLineEdit</code> ç”¨ä½œè¾“å…¥ã€‚<code>QComboBox</code>é™¤äº†æ˜¾ç¤ºå¯è§ä¸‹æ‹‰åˆ—è¡¨å¤–ï¼Œæ¯ä¸ªé¡¹ï¼ˆ<strong>item</strong>ï¼Œæˆ–ç§°åˆ—è¡¨é¡¹ï¼‰è¿˜å¯ä»¥å…³è”ä¸€ä¸ª<strong>QVariant</strong>ç±»å‹çš„å˜é‡ï¼Œç”¨äºå­˜å‚¨ä¸€äº›ä¸å¯è§æ•°æ®ã€‚</p><p><code>QComboBox</code>å­˜å‚¨çš„é¡¹æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œä½†æ˜¯<code>QComboBox</code>ä¸æä¾›æ•´ä¸ªåˆ—è¡¨ç”¨äºè®¿é—®ï¼Œå¯ä»¥é€šè¿‡ç´¢å¼•è®¿é—®æŸä¸ªé¡¹ã€‚è®¿é—®é¡¹çš„ä¸€äº›å‡½æ•°ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ã€‚å…¶ä¸€äº›åŸºæœ¬å±æ€§å’Œå¸¸ç”¨å‡½æ•°ä»‹ç»ï¼š</p><table><thead><tr><th>å¸¸ç”¨å‡½æ•°</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>int currentIndex( )</td><td>è¿”å›å½“å‰é¡¹çš„åºå·ï¼Œç¬¬ä¸€ä¸ªé¡¹çš„åºå·ä¸º0</td></tr><tr><td>QString currentText( )</td><td>è¿”å›å½“å‰é¡¹çš„æ–‡å­—</td></tr><tr><td>QVariant currentData(int role&#x3D;Qt:UserRole)</td><td>è¿”å›å½“å‰é¡¹çš„å…³è”æ•°æ®ï¼Œæ•°æ®çš„ç¼ºçœè§’è‰²role&#x3D;Qt:UserRole</td></tr><tr><td>QString itemText(int index)</td><td>è¿”å›æŒ‡å®šç´¢å¼•å·çš„é¡¹çš„æ–‡å­—</td></tr><tr><td>QVariant itemData(int index,int role&#x3D;Qt::UserRole)</td><td>è¿”å›æŒ‡å®šç´¢å¼•å·çš„é¡¹çš„å…³è”æ•°æ®</td></tr><tr><td>int countï¼ˆ)</td><td>è¿”å›é¡¹çš„ä¸ªæ•°</td></tr></tbody></table><p><strong>åœ¨ä¸€ä¸ªQComboBoxç»„ä»¶ä¸Šé€‰æ‹©é¡¹å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šå‘å°„å¦‚ä¸‹ä¸¤ä¸ªä¿¡å·ï¼š</strong></p><p>è¿™ä¸¤ä¸ªä¿¡å·åªæ˜¯ä¼ é€’çš„å‚æ•°ä¸åŒï¼Œä¸€ä¸ªä¼ é€’çš„æ˜¯å½“å‰é¡¹çš„ç´¢å¼•å·ï¼Œä¸€ä¸ªä¼ é€’çš„å½“å‰é¡¹çš„æ–‡å­—ã€‚</p><blockquote><p>void currentIndexChanged(int index)<br>void currentIndexChanged(const QString &amp;text)</p></blockquote><br><h2 id="QPlain-TextEditå±æ€§ï¼š"><a href="#QPlain-TextEditå±æ€§ï¼š" class="headerlink" title="QPlain TextEditå±æ€§ï¼š"></a>QPlain TextEditå±æ€§ï¼š</h2><p><code>QPlainTextEdit</code>æ˜¯ä¸€ä¸ªå¤šè¡Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œç”¨äºæ˜¾ç¤ºå’Œç¼–è¾‘å¤šè¡Œç®€å•æ–‡æœ¬ã€‚å¦å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ª<strong>QTextEdit</strong><br>ç»„ä»¶ï¼Œæ˜¯ä¸€ä¸ªæ‰€è§å³æ‰€å¾—çš„å¯ä»¥ç¼–è¾‘å¸¦æ ¼å¼æ–‡æœ¬çš„ç»„ä»¶ï¼Œä»¥<strong>HTML</strong>æ ¼å¼æ ‡è®°ç¬¦å®šä¹‰æ–‡æœ¬æ ¼å¼ã€‚</p><p><code>QPlainTextEdit</code> æä¾›**cut( )ã€copy( )ã€paste( )ã€undo( )ã€redo( )ã€clear( )ã€selectAll( )**ç­‰æ ‡å‡†ç¼–è¾‘åŠŸ<br>èƒ½çš„æ§½å‡½æ•°ï¼Œ<code>QPlainTextEdit</code>è¿˜æä¾›ä¸€ä¸ªæ ‡å‡†çš„å³é”®å¿«æ·èœå•ã€‚</p><p><font color=#D0087E size=4 face="å¹¼åœ†"><code>QPlainTextEdit</code>çš„æ–‡å­—å†…å®¹ä»¥<strong>QTextDocument</strong>ç±»å‹å­˜å‚¨ï¼Œå‡½æ•°<code>document()</code>è¿”å›è¿™ä¸ªæ–‡æ¡£å¯¹è±¡çš„<br>æŒ‡é’ˆã€‚<br><strong>QTextDocument</strong>æ˜¯å†…å­˜ä¸­çš„æ–‡æœ¬å¯¹è±¡ï¼Œä»¥æ–‡æœ¬å—çš„æ–¹å¼å­˜å‚¨ï¼Œä¸€ä¸ªæ–‡æœ¬å—å°±æ˜¯ä¸€ä¸ªæ®µè½ï¼Œæ¯<br>ä¸ªæ®µè½ä»¥å›è½¦ç¬¦ç»“æŸã€‚<strong>QTextDocument</strong>æä¾›ä¸€äº›å‡½æ•°å®ç°å¯¹æ–‡æœ¬å†…å®¹çš„å­˜å–ã€‚</font></p><table><thead><tr><th>å¸¸ç”¨å‡½æ•°</th><th>å«ä¹‰()</th></tr></thead><tbody><tr><td>appendPlainText()</td><td>å‘QPlain TextEditæ·»åŠ ä¸€è¡Œè¯</td></tr><tr><td>int blockCount()</td><td>è·å¾—æ–‡æœ¬å—ä¸ªæ•°</td></tr><tr><td>QTextBlock findBlockByNumber(int blockNumber)</td><td>è¯»å–æŸä¸€ä¸ªæ–‡æœ¬å—ï¼Œåºå·ä»0å¼€å§‹ï¼Œè‡³blockCount()-1ç»“æŸã€‚</td></tr></tbody></table><p>ä¸€ä¸ª<strong>document</strong>æœ‰å¤šä¸ª<strong>TextBlock</strong>ï¼Œä»<strong>document</strong>ä¸­è¯»å–å‡ºçš„ä¸€ä¸ªæ–‡æœ¬å—ç±»å‹ä¸º<strong>QTextBlock</strong>ï¼Œé€šè¿‡<code>QTextBlock.ï¼štext()</code>å‡½æ•°å¯ä»¥è·å–å…¶çº¯æ–‡æœ¬æ–‡å­—ã€‚</p><br><h2 id="æ ¸å¿ƒæºç ï¼š"><a href="#æ ¸å¿ƒæºç ï¼š" class="headerlink" title="æ ¸å¿ƒæºç ï¼š"></a>æ ¸å¿ƒæºç ï¼š</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//å·¦ä¸Šè§’åŒºåŸŸ+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="token comment">//åˆå§‹åŒ–ç®€å•çš„QComboBoxæ§ä»¶</span><span class="token keyword">void</span> <span class="token class-name">ExQcomboBox</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnLeftInit_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QIcon ico<span class="token punctuation">;</span>    ico<span class="token punctuation">.</span><span class="token function">addFile</span><span class="token punctuation">(</span><span class="token string">":/images/github.ico"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>comBoxLeft<span class="token operator">-></span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">13</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        ui<span class="token operator">-></span>comBoxLeft<span class="token operator">-></span><span class="token function">addItem</span><span class="token punctuation">(</span>ico<span class="token punctuation">,</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"ç¬¬%1ä¸ªitemé¡¹"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//å¸¦æœ‰icoå›¾æ ‡çš„é¡¹</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ¸…é™¤ç®€å•çš„QComboBoxæ§ä»¶</span><span class="token keyword">void</span> <span class="token class-name">ExQcomboBox</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnLeftClear_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>comBoxLeft<span class="token operator">-></span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//å‹¾é€‰QComboBoxä¸ºå¯ä»¥ç¼–è¾‘çŠ¶æ€</span><span class="token keyword">void</span> <span class="token class-name">ExQcomboBox</span><span class="token double-colon punctuation">::</span><span class="token function">on_checkBoxOnlyWrite_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>checkBoxOnlyWrite<span class="token operator">-></span><span class="token function">isChecked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        ui<span class="token operator">-></span>comBoxLeft<span class="token operator">-></span><span class="token function">setEditable</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">else</span>        ui<span class="token operator">-></span>comBoxLeft<span class="token operator">-></span><span class="token function">setEditable</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//å³ä¸Šè§’åŒºåŸŸ+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="token comment">//åˆå§‹åŒ–å¤æ‚çš„QComboBoxæ§ä»¶ï¼ˆç»™æ¯ä¸€é¡¹éƒ½æ·»åŠ ä¸€ä¸ªå¯¹åº”çš„è‡ªå®šä¹‰æ•°æ®[ä¸æ˜¾ç¤º]ï¼‰</span><span class="token keyword">void</span> <span class="token class-name">ExQcomboBox</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnRightInit_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QIcon ico<span class="token punctuation">;</span>    ico<span class="token punctuation">.</span><span class="token function">addFile</span><span class="token punctuation">(</span><span class="token string">":/images/gril.ico"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QMap<span class="token operator">&lt;</span>QString<span class="token punctuation">,</span> QString<span class="token operator">></span> map<span class="token punctuation">;</span>    map<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"å¼ æŠ•"</span><span class="token punctuation">,</span> <span class="token string">"16å²"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    map<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"å¼ æˆ‘"</span><span class="token punctuation">,</span> <span class="token string">"17å²"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    map<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"å¼ ä»¥"</span><span class="token punctuation">,</span> <span class="token string">"18å²"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    map<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"å¼ æœ¨"</span><span class="token punctuation">,</span> <span class="token string">"19å²"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    map<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"å¼ æ"</span><span class="token punctuation">,</span> <span class="token string">"20å²"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    map<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"å¼ ï¼Œ"</span><span class="token punctuation">,</span> <span class="token string">"21å²"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    map<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"å¼ æŠ¥"</span><span class="token punctuation">,</span> <span class="token string">"22å²"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    map<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"å¼ ä¹‹"</span><span class="token punctuation">,</span> <span class="token string">"23å²"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    map<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"å¼ ä»¥"</span><span class="token punctuation">,</span> <span class="token string">"24å²"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    map<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"å¼ ç¼"</span><span class="token punctuation">,</span> <span class="token string">"25å²"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    map<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"å¼ ç–"</span><span class="token punctuation">,</span> <span class="token string">"26å²"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    map<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"å¼ ã€‚"</span><span class="token punctuation">,</span> <span class="token string">"27å²"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>comBoxRight<span class="token operator">-></span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">foreach</span><span class="token punctuation">(</span>QString str<span class="token punctuation">,</span> map<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        ui<span class="token operator">-></span>comBoxRight<span class="token operator">-></span><span class="token function">addItem</span><span class="token punctuation">(</span>ico<span class="token punctuation">,</span> str<span class="token punctuation">,</span> map<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">//å› ä¸ºæœ‰Mapï¼Œæ‰€ä»¥QComboBoxæ˜¾ç¤ºä¼šæŒ‰ç…§keyæ’åºï¼Œè€Œéä¸Šé¢çš„å®šä¹‰é¡ºåº,æ³¨æ„ä¸æ˜¯map.key(str)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//åº•éƒ¨åŒºåŸŸ+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="token comment">//æ–‡æœ¬æ¡†å†…å®¹æ¯æ¬¡è¯»å–ä¸€è¡Œï¼Œæ·»åŠ åˆ°ComboBoxä½œä¸ºitemé¡¹</span><span class="token keyword">void</span> <span class="token class-name">ExQcomboBox</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnBottomAdd_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QTextDocument<span class="token operator">*</span> doc <span class="token operator">=</span> ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">document</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">//è·å–æ–‡æœ¬å¯¹è±¡</span>    <span class="token keyword">int</span> cnt <span class="token operator">=</span> doc<span class="token operator">-></span><span class="token function">blockCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                      <span class="token comment">//å›è½¦ç¬¦æ˜¯ä¸€ä¸ªblock</span>    QIcon ico<span class="token punctuation">;</span>    ico<span class="token punctuation">.</span><span class="token function">addFile</span><span class="token punctuation">(</span><span class="token string">":/images/github.ico"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>comBoxLeft<span class="token operator">-></span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>comBoxRight<span class="token operator">-></span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> cnt<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        QTextBlock text <span class="token operator">=</span> doc<span class="token operator">-></span><span class="token function">findBlockByNumber</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">//è·å–æ–‡æœ¬ä¸­ä¸€æ®µï¼ˆä»¥æ¢è¡Œä¸ºæ ‡å¿—ï¼‰</span>        ui<span class="token operator">-></span>comBoxLeft<span class="token operator">-></span><span class="token function">addItem</span><span class="token punctuation">(</span>ico<span class="token punctuation">,</span> text<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ui<span class="token operator">-></span>comBoxRight<span class="token operator">-></span><span class="token function">addItem</span><span class="token punctuation">(</span>ico<span class="token punctuation">,</span> text<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"é™„åŠ å†…å®¹:%1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ¸…é™¤å¯ç¼–è¾‘çš„å¯Œæ–‡æœ¬çš„ç¼–è¾‘å™¨çš„æ‰€æœ‰å†…å®¹</span><span class="token keyword">void</span> <span class="token class-name">ExQcomboBox</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnBottomClear_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//è®¾ç½®å¯Œæ–‡æœ¬çš„ç¼–è¾‘å™¨(plainTextEdit)åªå¯è¯»</span><span class="token keyword">void</span> <span class="token class-name">ExQcomboBox</span><span class="token double-colon punctuation">::</span><span class="token function">on_checkBoxOnlyRead_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>checkBoxOnlyRead<span class="token operator">-></span><span class="token function">isChecked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">else</span>        ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//å…¬å…±çš„æ§½å‡½æ•°åŒºåŸŸ+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="token comment">//æ˜¾ç¤ºå½“å‰é€‰ä¸­çš„ComboBoxçš„itemé¡¹çš„å†…å®¹</span><span class="token keyword">void</span> <span class="token class-name">ExQcomboBox</span><span class="token double-colon punctuation">::</span><span class="token function">onSelectDisplay</span><span class="token punctuation">(</span>QString str<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QString strData <span class="token operator">=</span> ui<span class="token operator">-></span>comBoxRight<span class="token operator">-></span><span class="token function">currentData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// è·å–å½“å‰itemçš„å…³è”æ•°æ®çš„å†…å®¹</span>    ui<span class="token operator">-></span>labDisplay<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>str <span class="token operator">+</span> <span class="token string">"  "</span> <span class="token operator">+</span> strData<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>plainTextEdit<span class="token operator">-></span><span class="token function">appendPlainText</span><span class="token punctuation">(</span>str <span class="token operator">+</span> <span class="token string">"  "</span> <span class="token operator">+</span> strData<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><a href="https://github.com/xmuli/QtExamples">QtExamples</a>ã€QtQlistWidgetExã€‘</p><br>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>QTimerå’ŒQDateTimeçš„è®²è§£å’Œä½¿ç”¨</title>
      <link href="/posts/2e2d5144/"/>
      <url>/posts/2e2d5144/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong>  è®²è§£<code>QTimer</code> å®šæ—¶å™¨ï¼ˆä¸å¯è§æ§ä»¶ï¼‰å’Œ <code>QDateTime</code>æ—¥æœŸæ—¶é—´çš„æ§ä»¶</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ç®€è¿°ï¼š"><a href="#ç®€è¿°ï¼š" class="headerlink" title="ç®€è¿°ï¼š"></a>ç®€è¿°ï¼š</h2><p>â€‹<strong>è¯¦æƒ…ï¼š</strong>  è§ç®€ä»‹</p><br><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>win10 x64 ä¸“ä¸šç‰ˆ 1803</code>  </p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>visual studio 2015</code>ï¼Œ <code>Qt Creator 4.8.2 (Enterprise)</code>ï¼Œ <code>Qt 5.9.8</code></p><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><p>å…ˆä¸Šä¸€ä¸ªæœ€ç»ˆçš„è¿è¡Œæ•ˆæœå›¾ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190918202243.gif"/ loading="lazy"><br><h2 id="æ—¶é—´æ—¥æœŸç›¸å…³çš„ç±»ï¼š"><a href="#æ—¶é—´æ—¥æœŸç›¸å…³çš„ç±»ï¼š" class="headerlink" title="æ—¶é—´æ—¥æœŸç›¸å…³çš„ç±»ï¼š"></a>æ—¶é—´æ—¥æœŸç›¸å…³çš„ç±»ï¼š</h2><p><strong>æ—¶é—´æ—¥æœŸæ˜¯ç»å¸¸é‡åˆ°çš„æ•°æ®ç±»å‹ï¼ŒQtä¸­æ—¶é—´æ—¥æœŸç±»å‹çš„ç±»å¦‚ä¸‹ã€‚</strong></p><ul><li><strong>QTime</strong>ï¼šæ—¶é—´æ•°æ®ç±»å‹ï¼Œä»…è¡¨ç¤ºæ—¶é—´ï¼Œå¦‚15:23ï¼š13ã€‚</li><li><strong>QDate</strong>ï¼šæ—¥æœŸæ•°æ®ç±»å‹ï¼Œä»…è¡¨ç¤ºæ—¥æœŸï¼Œå¦‚2017-4-5ã€‚</li><li><strong>QDateTime</strong>:æ—¥æœŸæ—¶é—´æ•°æ®ç±»å‹ï¼Œè¡¨ç¤ºæ—¥æœŸå’Œæ—¶é—´ï¼Œå¦‚2017-03-2308ï¼š12:43ã€‚</li></ul><br><p><strong>Qtä¸­æœ‰ä¸“é—¨ç”¨äºæ—¥æœŸã€æ—¶é—´ç¼–è¾‘å’Œæ˜¾ç¤ºçš„ç•Œé¢ç»„ä»¶ï¼Œä»‹ç»å¦‚ä¸‹ã€‚</strong></p><ul><li><strong>QTimeEdit</strong>:ç¼–è¾‘å’Œæ˜¾ç¤ºæ—¶é—´çš„ç»„ä»¶ã€‚</li><li><strong>QDateEdit</strong>:ç¼–è¾‘å’Œæ˜¾ç¤ºæ—¥æœŸçš„ç»„ä»¶ã€‚</li><li><strong>QDateTimeEdit</strong>ï¼šç¼–è¾‘å’Œæ˜¾ç¤ºæ—¥æœŸæ—¶é—´çš„ç»„ä»¶ã€‚</li><li><strong>OCalendarWidget</strong>:ä¸€ä¸ªç”¨æ—¥å†å½¢å¼é€‰æ‹©æ—¥æœŸçš„ç»„ä»¶ã€‚</li></ul><br><h2 id="QDateTimeEditæ—¶é—´å±æ€§"><a href="#QDateTimeEditæ—¶é—´å±æ€§" class="headerlink" title="QDateTimeEditæ—¶é—´å±æ€§:"></a>QDateTimeEditæ—¶é—´å±æ€§:</h2><table><thead><tr><th align="center">å±æ€§</th><th align="center">å«ä¹‰</th></tr></thead><tbody><tr><td align="center">datetime</td><td align="center">æ—¥æœŸæ—¶é—´</td></tr><tr><td align="center">date</td><td align="center">æ—¥æœŸ</td></tr><tr><td align="center">time</td><td align="center">æ—¶é—´</td></tr><tr><td align="center">maximumDate Timeã€minimumDate Time</td><td align="center">æœ€å¤§ã€æœ€å°æ—¥æœŸ</td></tr><tr><td align="center">maximumDateã€minimumDate</td><td align="center">æœ€å¤§ã€æœ€å°æ—¶é—´</td></tr><tr><td align="center">currentSection</td><td align="center">å½“å‰è¾“å…¥å…‰æ ‡æ‰€åœ¨çš„æ—¶é—´æ—¥æœŸæ•°æ®æ®µï¼Œæ˜¯æšä¸¾ç±»å‹QDateTimeEditï¼š:Section</td></tr><tr><td align="center">QDateTimeEdit</td><td align="center">æ˜¾ç¤ºæ—¥æœŸæ—¶é—´æ•°æ®æ—¶åˆ†ä¸ºå¤šä¸ªæ®µï¼Œå•å‡»ç¼–è¾‘æ¡†å³ä¾§çš„ä¸Šä¸‹æŒ‰é’®å¯ä¿®æ”¹å½“å‰æ®µçš„å€¼</td></tr><tr><td align="center">currentSectionIndex</td><td align="center">ç”¨åºå·è¡¨ç¤ºçš„è¾“å…¥å…‰æ ‡æ‰€åœ¨çš„æ®µ</td></tr><tr><td align="center">calendarPopup</td><td align="center">æ˜¯å¦å…è®¸å¼¹å‡ºä¸€ä¸ªæ—¥å†é€‰æ‹©æ¡†</td></tr><tr><td align="center">displayFormat</td><td align="center">æ˜¾ç¤ºæ ¼å¼ï¼Œæ—¥æœŸæ—¶é—´æ•°æ®çš„æ˜¾ç¤ºæ ¼å¼</td></tr></tbody></table><p><strong>date</strong>å’Œ<strong>time</strong>è®¾ç½®å…¶ä¸­ä¸€ä¸ªï¼Œå°±ä¼šè‡ªåŠ¨ä¿®æ”¹å…¶ä¸­å¦å¤–ä¸€ä¸ªã€‚</p><p><strong>QDateTimeEdit</strong>ï¼šå¦‚è¾“å…¥å…‰æ ‡åœ¨YearSectionæ®µï¼Œå°±ä¿®æ”¹â€œå¹´â€çš„å€¼ã€‚</p><p><strong>calendarPopup</strong>ï¼šå½“å–å€¼ä¸ºtrueæ—¶ï¼Œå³ä¾§çš„è¾“å…¥æŒ‰é’®å˜æˆä¸QComboBoxç±»ä¼¼çš„ä¸‹æ‹‰æŒ‰é’®ï¼Œå•å‡»æŒ‰é’®æ—¶å‡ºç°ä¸€ä¸ªæ—¥å†é€‰æ‹©æ¡†ï¼Œç”¨äºåœ¨æ—¥å†ä¸Šé€‰æ‹©æ—¥æœŸã€‚å¯¹äºQTimeEditï¼Œæ­¤å±æ€§æ— æ•ˆã€‚</p><p><strong>displayFormat</strong>ï¼šä¾‹å¦‚è®¾ç½®ä¸ºâ€œyyyy-MM-dd HHï¼šmmï¼šssâ€ï¼Œä¸€ä¸ªæ—¥æœŸæ—¶é—´æ•°æ®å°±æ˜¾ç¤ºä¸ºâ€œ2016-11-0208:23ï¼š46â€</p><br><h2 id="QTimerå±æ€§ï¼š"><a href="#QTimerå±æ€§ï¼š" class="headerlink" title="QTimerå±æ€§ï¼š"></a>QTimerå±æ€§ï¼š</h2><p>å®šæ—¶å™¨æ˜¯ç”¨æ¥å¤„ç†å‘¨æœŸæ€§äº‹ä»¶çš„ä¸€ç§å¯¹è±¡ï¼Œç±»ä¼¼äºç¡¬ä»¶å®šæ—¶å™¨ã€‚ä¾‹å¦‚è®¾ç½®ä¸€ä¸ªå®šæ—¶å™¨çš„å®šæ—¶ã€‚å‘¨æœŸä¸º1000æ¯«ç§’ï¼Œé‚£ä¹ˆæ¯1000æ¯«ç§’å°±ä¼šå‘å°„å®šæ—¶å™¨çš„timeoutï¼‰ä¿¡å·ï¼Œåœ¨ä¿¡å·å…³è”çš„æ§½å‡½æ•°é‡Œå°±ï¼Œå¯ä»¥åšç›¸åº”çš„å¤„ç†ã€‚Qtä¸­çš„å®šæ—¶å™¨ç±»æ˜¯QTimerï¼Œå®ƒç›´æ¥ä»QObjectç±»ç»§æ‰¿è€Œæ¥ï¼Œä¸æ˜¯ç•Œé¢ç»„ä»¶ç±»ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">QTimer<span class="token operator">*</span> m_timer<span class="token punctuation">;</span>     <span class="token comment">//å®šæ—¶å™¨ï¼ˆä¸å¯è§æ§ä»¶ï¼‰</span>QTime   m_time<span class="token punctuation">;</span>      <span class="token comment">//è®¡æ—¶å™¨ï¼ˆæ­¤å¤„ç”¨ä½œï¼‰</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><br><h2 id="DateTimeè½¬QStringï¼š"><a href="#DateTimeè½¬QStringï¼š" class="headerlink" title="DateTimeè½¬QStringï¼š"></a>DateTimeè½¬QStringï¼š</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//è·å–å½“å‰æ—¶é—´</span>QDateTime currDateTime <span class="token operator">=</span> <span class="token class-name">QDateTime</span><span class="token double-colon punctuation">::</span><span class="token function">currentDateTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//QStringè½¬ä¸ºDateTime</span>ui<span class="token operator">-></span>editDateTime<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>currDateTime<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd hh:mm:ss:zzz"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//DateTimeè½¬ä¸ºQString</span>ui<span class="token operator">-></span>labCurrDataTime<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>currDateTime<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd hh:mm:ss:zzz"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="å¸¸ç”¨æ—¥æœŸæ˜¾ç¤ºæ ¼å¼ï¼š"><a href="#å¸¸ç”¨æ—¥æœŸæ˜¾ç¤ºæ ¼å¼ï¼š" class="headerlink" title="å¸¸ç”¨æ—¥æœŸæ˜¾ç¤ºæ ¼å¼ï¼š"></a>å¸¸ç”¨æ—¥æœŸæ˜¾ç¤ºæ ¼å¼ï¼š</h2><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190920000600.png"/ loading="lazy"><br><h2 id="æ ¸å¿ƒæºç ï¼š"><a href="#æ ¸å¿ƒæºç ï¼š" class="headerlink" title="æ ¸å¿ƒæºç ï¼š"></a>æ ¸å¿ƒæºç ï¼š</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//editDateæ§ä»¶åœ¨UIè®¾è®¡å¸ˆé‡Œé¢ï¼Œé€‰ä¸­äº†calendarPopup ï¼ˆæ—¥å†å¼¹å‡ºçš„å±æ€§ï¼‰å’ŒdisplayFormatæ˜¾ç¤ºæ ¼å¼</span>    m_timer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QTimer</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    m_timer<span class="token operator">-></span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                       <span class="token comment">//å…³é—­å®šæ—¶å™¨</span>    m_timer<span class="token operator">-></span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//è®¾å®šå®šæ—¶å‘¨æœŸï¼Œ å•ä½ æ¯«ç§’</span>    <span class="token function">connect</span><span class="token punctuation">(</span>m_timer<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">timeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onTimerOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="token comment">//è·å–å½“å‰æ—¥æœŸå’Œæ—¶é—´ï¼Œè¯¥æ—¥æœŸæ—¶é—´æ é‡Œé¢æ˜¾ç¤º</span><span class="token keyword">void</span> <span class="token class-name">ExDateTime</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnGetDateTime_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QDateTime currDateTime <span class="token operator">=</span> <span class="token class-name">QDateTime</span><span class="token double-colon punctuation">::</span><span class="token function">currentDateTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>timeEdit<span class="token operator">-></span><span class="token function">setTime</span><span class="token punctuation">(</span>currDateTime<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>editTime<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>currDateTime<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">"hh:mm:ss:zzz"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>dateEdit<span class="token operator">-></span><span class="token function">setDate</span><span class="token punctuation">(</span>currDateTime<span class="token punctuation">.</span><span class="token function">date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>editDate<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>currDateTime<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>dateTimeEdit<span class="token operator">-></span><span class="token function">setDateTime</span><span class="token punctuation">(</span>currDateTime<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>editDateTime<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>currDateTime<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd hh:mm:ss:zzz"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>labCurrDataTime<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>currDateTime<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd hh:mm:ss:zzz"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="token comment">//è®¡æ—¶å™¨å¼€å§‹</span><span class="token keyword">void</span> <span class="token class-name">ExDateTime</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnStatrt_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    m_time<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                 <span class="token comment">//è®¡æ—¶å™¨å¼€å§‹</span>    m_timer<span class="token operator">-></span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                               <span class="token comment">//å®šæ—¶å™¨å¼€å§‹</span>    ui<span class="token operator">-></span>btnStatrt<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">//å¼€å§‹æŒ‰ä¸‹ä¹‹åï¼Œå¼€å§‹æŒ‰é’®ç¦ç”¨</span>    ui<span class="token operator">-></span>btnStop<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">//åŒæ—¶ç»“æŸæŒ‰é’®å¯ç”¨</span>    ui<span class="token operator">-></span>btnPeriod<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">//è®¾å®šå‘¨æœŸçš„æŒ‰é’®ä¸ºç¦ç”¨</span>    ui<span class="token operator">-></span>labGo<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"æ—¶é—´æµé€åœ¨åå°è®¡ç®—ä¸­..."</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//è®¡æ—¶å™¨ç»“æŸ</span><span class="token keyword">void</span> <span class="token class-name">ExDateTime</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnStop_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    m_timer<span class="token operator">-></span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                 <span class="token comment">//å®šæ—¶å™¨åœæ­¢</span>    ui<span class="token operator">-></span>btnStop<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">//ç»“æŸæŒ‰ä¸‹ä¹‹åï¼Œç»“æŸæŒ‰é’®ç¦ç”¨</span>    ui<span class="token operator">-></span>btnStatrt<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">//åŒæ—¶å¼€å§‹æŒ‰é’®å¯ç”¨</span>    <span class="token keyword">int</span> tmMsec <span class="token operator">=</span> m_time<span class="token punctuation">.</span><span class="token function">elapsed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token comment">//è®¡æ—¶å™¨Timeæ²¡æœ‰å¯¹åº”çš„stop(), elapsedè·å–å®ƒçš„æ¯«ç§’æ•°</span>    <span class="token keyword">int</span> ms <span class="token operator">=</span> tmMsec <span class="token operator">%</span> <span class="token number">1000</span><span class="token punctuation">;</span>                          <span class="token comment">//ç»è¿‡çš„æ¯«ç§’</span>    <span class="token keyword">int</span> sec <span class="token operator">=</span> tmMsec <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">;</span>                         <span class="token comment">//ç»è¿‡çš„ç§’</span>    ui<span class="token operator">-></span>btnPeriod<span class="token operator">-></span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">//è®¾å®šå‘¨æœŸçš„æŒ‰é’®ä¸ºå¯ç”¨</span>    ui<span class="token operator">-></span>labGo<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"æ—¶é—´å·²ç»æµé€ï¼š%1 ç§’ %2 æ¯«ç§’"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>sec<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>ms<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//å¤„ç†å®šæ—¶å™¨çš„æ§½å‡½æ•°</span><span class="token keyword">void</span> <span class="token class-name">ExDateTime</span><span class="token double-colon punctuation">::</span><span class="token function">onTimerOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QTime currTime <span class="token operator">=</span> <span class="token class-name">QTime</span><span class="token double-colon punctuation">::</span><span class="token function">currentTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>lcdHH<span class="token operator">-></span><span class="token function">display</span><span class="token punctuation">(</span>currTime<span class="token punctuation">.</span><span class="token function">hour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">//å¤šç§æ˜¾ç¤ºæ—¶é—´æ–¹æ³•</span>    ui<span class="token operator">-></span>lcdmm<span class="token operator">-></span><span class="token function">display</span><span class="token punctuation">(</span>currTime<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">"mm"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>lcdSS<span class="token operator">-></span><span class="token function">display</span><span class="token punctuation">(</span>currTime<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">"ss"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> val <span class="token operator">=</span> ui<span class="token operator">-></span>progressBar<span class="token operator">-></span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">//è®¾ç½®è¿›åº¦æ¡åŒæ—¶å¢åŠ </span>    val<span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">></span> <span class="token number">100</span><span class="token punctuation">)</span>        val <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>progressBar<span class="token operator">-></span><span class="token function">setValue</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="token comment">//é€‰æ‹©æ—¥å†æ—¶é—´</span><span class="token keyword">void</span> <span class="token class-name">ExDateTime</span><span class="token double-colon punctuation">::</span><span class="token function">on_calendarWidget_selectionChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    QDate date <span class="token operator">=</span>ui<span class="token operator">-></span>calendarWidget<span class="token operator">-></span><span class="token function">selectedDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>editChoose<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">"yyyyå¹´MMæœˆddæ—¥"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//è®¾å®šå®šæ—¶å™¨QTimerå‘¨æœŸ</span><span class="token keyword">void</span> <span class="token class-name">ExDateTime</span><span class="token double-colon punctuation">::</span><span class="token function">on_btnPeriod_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    m_timer<span class="token operator">-></span><span class="token function">setInterval</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>spinBox<span class="token operator">-></span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><a href="https://github.com/xmuli/QtExamples">https://github.com/xmuli/QtExamples</a>ã€QtDateTimeExã€‘</p><br>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>QSliderã€QScrollBarã€QProgressBaræ§ä»¶çš„è”åŠ¨</title>
      <link href="/posts/9433a2b/"/>
      <url>/posts/9433a2b/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong>  <code>QSlider</code>ç§»åŠ¨æ¡ã€<code>QScrollBar</code>æ»šåŠ¨æ¡ã€<code>QProgressBar</code>è¿›åº¦æ¡æ§ä»¶çš„è”åŠ¨ï¼Œè®²è§£å’Œçš„ä½¿ç”¨</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ç®€è¿°ï¼š"><a href="#ç®€è¿°ï¼š" class="headerlink" title="ç®€è¿°ï¼š"></a>ç®€è¿°ï¼š</h2><p>â€‹<strong>è¯¦æƒ…ï¼š</strong>  è§ç®€ä»‹</p><br><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>win10 x64 ä¸“ä¸šç‰ˆ 1803</code>  </p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>Qt Creator 4.8.2 (Enterprise)</code>ï¼Œ <code>Qt 5.9.8</code></p><br><h2 id="ç³»åˆ—åšæ–‡ï¼š"><a href="#ç³»åˆ—åšæ–‡ï¼š" class="headerlink" title="ç³»åˆ—åšæ–‡ï¼š"></a>ç³»åˆ—åšæ–‡ï¼š</h2><p><strong>æ¯”è¾ƒç´§å¯†çš„å…³è”åšæ–‡å‚è€ƒï¼š</strong></p><ul><li><a href="https://blog.csdn.net/qq_33154343/article/details/100944831">æ»‘åŠ¨æ¡<code>QSlider</code>å’Œ<code>QAbstractSlider</code>çš„ä»‹ç»å’Œç”¨æ³•</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/101003081"><code>QSlider</code>ã€<code>QScrollBar</code>ã€<code>QProgressBar</code>æ§ä»¶çš„è”åŠ¨</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/101003115">ä»ªè¡¨ç›˜<code>QSlider</code>çš„è®²è§£å’Œä½¿ç”¨</a></li></ul><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><p>å…ˆæ”¾ä¸€å¼ è¿è¡Œæ•ˆæœ</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190918191905.gif"/ loading="lazy"><br><h2 id="ç»§æ‰¿å…³ç³»ï¼š"><a href="#ç»§æ‰¿å…³ç³»ï¼š" class="headerlink" title="ç»§æ‰¿å…³ç³»ï¼š"></a>ç»§æ‰¿å…³ç³»ï¼š</h2><p><code>QSlider</code>ç§»åŠ¨æ¡ã€<code>QScrollBar</code>æ»šåŠ¨æ¡ã€è¿›åº¦æ¡è¿™ä¸‰ä¸ªæ§ä»¶ï¼Œéƒ½æ˜¯ç»§æ‰¿äº<code>QAbstractSlider</code>ç±»ï¼Œå…¶ä¸­å…³äº<strong>QSliderå’ŒQAbstractSliderå±æ€§</strong>è®²è§£ï¼Œå‚è€ƒå·²ç»å‘è¿‡çš„æ–‡ç« <a href="https://blog.csdn.net/qq_33154343/article/details/100944831">https://blog.csdn.net/qq_33154343&#x2F;article&#x2F;details&#x2F;100944831</a> ï¼›å…³äºè¿™å‡ ä¸ªæ§ä»¶çš„ç»§æ‰¿å…³ç³»å¦‚ä¸‹å›¾ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190918192923.png"/ loading="lazy"><br><h2 id="æ»šåŠ¨æ¡QScrollBarï¼š"><a href="#æ»šåŠ¨æ¡QScrollBarï¼š" class="headerlink" title="æ»šåŠ¨æ¡QScrollBarï¼š"></a>æ»šåŠ¨æ¡QScrollBarï¼š</h2><ul><li>QScrollBar ä»QAbstractSliderç»§æ‰¿è€Œæ¥çš„ï¼Œå…·æœ‰QAbstractSliderçš„åŸºæœ¬å±æ€§ï¼Œæ²¡æœ‰ä¸“æœ‰å±æ€§ã€‚</li></ul><br><h2 id="è¿›åº¦æ¡QProgressBarï¼š"><a href="#è¿›åº¦æ¡QProgressBarï¼š" class="headerlink" title="è¿›åº¦æ¡QProgressBarï¼š"></a>è¿›åº¦æ¡QProgressBarï¼š</h2><ul><li>QProgressBarçš„çˆ¶ç±»æ˜¯QWidgetï¼Œä¸€èˆ¬ç”¨äºè¿›åº¦æ˜¾ç¤ºï¼Œå¸¸ç”¨å±æ€§å¦‚ä¸‹ã€‚</li></ul><table><thead><tr><th align="center">å±æ€§</th><th align="center">å«ä¹‰</th></tr></thead><tbody><tr><td align="center">minimum</td><td align="center">æœ€å°å€¼</td></tr><tr><td align="center">maximum</td><td align="center">æœ€å¤§å€¼</td></tr><tr><td align="center">value</td><td align="center">å½“å‰å€¼ï¼Œå¯ä»¥è®¾å®šæˆ–è¯»å–å½“å‰å€¼</td></tr><tr><td align="center">textVisible</td><td align="center">æ˜¯å¦æ˜¾ç¤ºæ–‡å­—ï¼Œæ–‡å­—ä¸€èˆ¬æ˜¯ç™¾åˆ†æ¯”è¡¨ç¤ºçš„è¿›åº¦ã€‚</td></tr><tr><td align="center">orientation</td><td align="center">å¯ä»¥è®¾ç½®ä¸ºæ°´å¹³æˆ–å‚ç›´æ–¹å‘ã€‚</td></tr><tr><td align="center">format</td><td align="center">æ˜¾ç¤ºæ–‡å­—çš„æ ¼å¼ï¼Œâ€œ%p%â€æ˜¾ç¤ºç™¾åˆ†æ¯”ï¼Œâ€œ%vâ€æ˜¾ç¤ºå½“å‰å€¼ï¼Œâ€œ%mâ€æ˜¾ç¤ºæ€»æ­¥æ•°ã€‚ç¼ºçœä¸ºâ€œ%p%â€ã€‚</td></tr></tbody></table><br><h2 id="ä»£ç æ¼”ç¤ºï¼š"><a href="#ä»£ç æ¼”ç¤ºï¼š" class="headerlink" title="ä»£ç æ¼”ç¤ºï¼š"></a>ä»£ç æ¼”ç¤ºï¼š</h2><p>æ­¤å¤„å®ç°äº†ï¼Œä¿¡å·äºæ§½å‡½æ•°çš„<strong>å¤šå¯¹ä¸€</strong>ï¼Œä»è€Œé¿å…äº†æ§½å‡½æ•°çš„é‡å¤å†™å¤šé</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//ui->progressBarHor->setOrient1ation(Qt::Horizontal /*(the default)  Qt::Vertical*/);  è®¾ç½®è¿›åº¦æ¡æ°´å¹³æˆ–ç«–ç›´</span><span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>sliderHor<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">valueChanged</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onValChange</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>scrollBarHor<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">valueChanged</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onValChange</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>scrollBarHor<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">valueChanged</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onValChange</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>sliderVer<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">valueChanged</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onValChange</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>scrollBarVer<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">valueChanged</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onValChange</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>progressBarVer<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">valueChanged</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onValChange</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token comment">//å¯¹åº”çš„æ§½å‡½æ•°</span><span class="token keyword">void</span> <span class="token class-name">ExQProgressBar</span><span class="token double-colon punctuation">::</span><span class="token function">onValChange</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span>sliderHor<span class="token operator">-></span><span class="token function">setValue</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>scrollBarHor<span class="token operator">-></span><span class="token function">setValue</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>progressBarHor<span class="token operator">-></span><span class="token function">setValue</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>sliderVer<span class="token operator">-></span><span class="token function">setValue</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>scrollBarVer<span class="token operator">-></span><span class="token function">setValue</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>    ui<span class="token operator">-></span>progressBarVer<span class="token operator">-></span><span class="token function">setValue</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><a href="https://github.com/xmuli/QtExamples">https://github.com/xmuli/QtExamples</a> ã€QtQProgressBarExã€‘</p><br>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ä»ªè¡¨ç›˜ QSlider + æ•°å€¼æ˜¾ç¤º QLCD_NUmber çš„ä»‹ç»åŠç”¨æ³•</title>
      <link href="/posts/7bb9802c/"/>
      <url>/posts/7bb9802c/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong>  ä»ªè¡¨ç›˜<code>QSlider</code>å’Œæ•°å€¼æ˜¾ç¤º<code>QLCD_NUmber</code>çš„è®²è§£å’Œä½¿ç”¨ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>win10 x64 ä¸“ä¸šç‰ˆ 1803</code>  </p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>visual studio 2015</code>ï¼Œ <code>Qt Creator 4.8.2 (Enterprise)</code>ï¼Œ <code>Qt 5.9.8</code></p><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><p>å…ˆä¸Šä¸€ä¸ªæœ€ç»ˆçš„è¿è¡Œæ•ˆæœå›¾ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190918200740.gif"/ loading="lazy"><br><h2 id="ç³»åˆ—åšæ–‡ï¼š"><a href="#ç³»åˆ—åšæ–‡ï¼š" class="headerlink" title="ç³»åˆ—åšæ–‡ï¼š"></a>ç³»åˆ—åšæ–‡ï¼š</h2><p><strong>æ¯”è¾ƒç´§å¯†çš„å…³è”åšæ–‡å‚è€ƒï¼š</strong></p><ul><li><a href="https://blog.csdn.net/qq_33154343/article/details/100944831">æ»‘åŠ¨æ¡<code>QSlider</code>å’Œ<code>QAbstractSlider</code>çš„ä»‹ç»å’Œç”¨æ³•</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/101003081"><code>QSlider</code>ã€<code>QScrollBar</code>ã€<code>QProgressBar</code>æ§ä»¶çš„è”åŠ¨</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/101003115">ä»ªè¡¨ç›˜<code>QSlider</code>çš„è®²è§£å’Œä½¿ç”¨</a></li></ul><br><h2 id="ç»§æ‰¿å…³ç³»ï¼š"><a href="#ç»§æ‰¿å…³ç³»ï¼š" class="headerlink" title="ç»§æ‰¿å…³ç³»ï¼š"></a>ç»§æ‰¿å…³ç³»ï¼š</h2><p><code>QSlider</code>ç§»åŠ¨æ¡ã€<code>QScrollBar</code>æ»šåŠ¨æ¡ã€è¿›åº¦æ¡è¿™ä¸‰ä¸ªæ§ä»¶ï¼Œéƒ½æ˜¯ç»§æ‰¿äº<code>QAbstractSlider</code>ç±»ï¼Œå…¶ä¸­å…³äº<strong>QSliderå’ŒQAbstractSliderå±æ€§</strong>è®²è§£ï¼Œå‚è€ƒå·²ç»å‘è¿‡çš„æ–‡ç« <a href="https://blog.csdn.net/qq_33154343/article/details/100944831">https://blog.csdn.net/qq_33154343&#x2F;article&#x2F;details&#x2F;100944831</a> ï¼›å…³äºè¿™å‡ ä¸ªæ§ä»¶çš„ç»§æ‰¿å…³ç³»å¦‚ä¸‹å›¾ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190918192923.png"/ loading="lazy"><br><h2 id="QDialå±æ€§ï¼š"><a href="#QDialå±æ€§ï¼š" class="headerlink" title="QDialå±æ€§ï¼š"></a>QDialå±æ€§ï¼š</h2><ul><li>QDialæ˜¯ä»ªè¡¨ç›˜å¼çš„ç»„ä»¶ï¼Œé€šè¿‡æ—‹è½¬è¡¨ç›˜è·å¾—è¾“å…¥å€¼ã€‚QDialçš„ç‰¹æœ‰çš„å±æ€§åŒ…æ‹¬ä»¥ä¸‹ä¸¤ç§ã€‚</li></ul><table><thead><tr><th align="center">å±æ€§</th><th align="center">å«ä¹‰</th></tr></thead><tbody><tr><td align="center">notchesVisible</td><td align="center">è¡¨ç›˜çš„å°åˆ»åº¦æ˜¯å¦å¯è§</td></tr><tr><td align="center">notchTarget</td><td align="center">è¡¨ç›˜åˆ»åº¦é—´çš„é—´éš”åƒç´ å€¼</td></tr></tbody></table><br><h2 id="QLCDNumberå±æ€§ï¼š"><a href="#QLCDNumberå±æ€§ï¼š" class="headerlink" title="QLCDNumberå±æ€§ï¼š"></a>QLCDNumberå±æ€§ï¼š</h2><ul><li>QLCDNumberæ˜¯æ¨¡æ‹ŸLCDæ˜¾ç¤ºæ•°å­—çš„ç»„ä»¶ï¼Œå¯ä»¥æ˜¾ç¤ºæ•´æ•°æˆ–å°æ•°ï¼Œä½†å°±å¦‚å®é™…çš„LCDä¸€æ ·ï¼Œè¦è®¾å®šæ˜¾ç¤ºæ•°å­—çš„ä¸ªæ•°ã€‚æ˜¾ç¤ºæ•´æ•°æ—¶ï¼Œè¿˜å¯ä»¥é€‰æ‹©ä»¥ä¸åŒè¿›åˆ¶æ¥æ˜¾ç¤ºï¼Œå¦‚åè¿›åˆ¶ã€äºŒè¿›åˆ¶ã€åå…­è¿›åˆ¶ã€‚å…¶ä¸»è¦å±æ€§å¦‚ä¸‹ã€‚</li></ul><table><thead><tr><th align="center">å±æ€§</th><th align="center">å«ä¹‰</th></tr></thead><tbody><tr><td align="center">digitCount</td><td align="center">æ˜¾ç¤ºçš„æ•°çš„ä½æ•°ï¼Œå¦‚æœæ˜¯å°æ•°ï¼Œå°æ•°ç‚¹ä¹Ÿç®—ä¸€ä¸ªæ•°ä½</td></tr><tr><td align="center">smallDecimalPoint</td><td align="center">æ˜¯å¦æœ‰å°æ•°ç‚¹ï¼Œå¦‚æœæœ‰å°æ•°ç‚¹ï¼Œå°±å¯ä»¥æ˜¾ç¤ºå°æ•°</td></tr><tr><td align="center">mode</td><td align="center">æ•°çš„æ˜¾ç¤ºè¿›åˆ¶ï¼Œé€šè¿‡è°ƒç”¨å‡½æ•°setDecModeï¼‰ã€setBinModeï¼ˆï¼‰ã€setOctModeï¼‰ã€setHexModeï¼ˆï¼‰å¯ä»¥è®¾ç½®ä¸ºå¸¸ç”¨çš„åè¿›åˆ¶ã€äºŒè¿›åˆ¶ã€å…«è¿›åˆ¶ã€åå…­è¿›åˆ¶æ ¼å¼ã€‚</td></tr><tr><td align="center">value</td><td align="center">è¿”å›æ˜¾ç¤ºå€¼ï¼Œæµ®ç‚¹æ•°ã€‚è‹¥è®¾ç½®ä¸ºæ˜¾ç¤ºæ•´æ•°ï¼Œä¼šè‡ªåŠ¨å››èˆäº”å…¥åå¾—åˆ°æ•´æ•°ï¼Œè®¾ç½®ä¸ºintValueçš„å€¼ã€‚å¦‚æœsmallDecimalPoint&#x3D;trueï¼Œè®¾ç½®valueæ—¶å¯ä»¥æ˜¾ç¤ºå°æ•°ï¼Œä½†æ˜¯æ•°çš„ä½æ•°ä¸èƒ½è¶…è¿‡digitCountã€‚</td></tr><tr><td align="center">intValue</td><td align="center">è¿”å›æ˜¾ç¤ºçš„æ•´æ•°å€¼</td></tr></tbody></table><p><strong>ä¾‹å¦‚</strong>ï¼Œè‹¥smallDecimalPoint-trueï¼ŒdigitCount&#x3D;3ï¼Œè®¾ç½®value&#x3D;2.36ï¼Œåˆ™ç•Œé¢ä¸ŠLCDNumberç»„ä»¶ä¼šæ˜¾ç¤ºä¸º2.4ï¼›è‹¥è®¾ç½®value&#x3D;1456.25ï¼Œåˆ™ç•Œé¢ä¸ŠLCDNumberç»„ä»¶åªä¼šæ˜¾ç¤º145ã€‚æ‰€ä»¥ï¼Œç”¨QLCDNumberä½œä¸ºæ˜¾ç¤ºç»„ä»¶æ—¶ï¼Œåº”æ³¨æ„è¿™äº›å±æ€§çš„é…åˆã€‚</p><br><h2 id="æ ¸å¿ƒæºç ï¼š"><a href="#æ ¸å¿ƒæºç ï¼š" class="headerlink" title="æ ¸å¿ƒæºç ï¼š"></a>æ ¸å¿ƒæºç ï¼š</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//notchesVisible:è¡¨ç›˜çš„å°åˆ»åº¦æ˜¯å¦å¯è§</span><span class="token comment">//notchTargetï¼šè¡¨ç›˜åˆ»åº¦é—´é—´éš”çš„åƒç´ å€¼</span><span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>dial<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">valueChanged</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onDisplayLCD</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token class-name">QObject</span><span class="token double-colon punctuation">::</span><span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"QDialè¡¨ç›˜è¾“å…¥ï¼Œåœ¨LCDä»¥å¤šç§è¿›åˆ¶æ˜¾ç¤º"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>    ui<span class="token operator">-></span>lcdNumber<span class="token operator">-></span><span class="token function">display</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//æ˜¾ç¤ºLCD</span>ui<span class="token operator">-></span>lcdNumber<span class="token operator">-></span><span class="token function">setBinMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//è®¾ç½®LCDæ˜¾ç¤ºäºŒè¿›åˆ¶æ•°</span>ui<span class="token operator">-></span>lcdNumber<span class="token operator">-></span><span class="token function">setOctMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//è®¾ç½®LCDæ˜¾ç¤ºå…«è¿›åˆ¶æ•°</span>ui<span class="token operator">-></span>lcdNumber<span class="token operator">-></span><span class="token function">setDecMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//è®¾ç½®LCDæ˜¾ç¤ºåè¿›åˆ¶æ•°</span>ui<span class="token operator">-></span>lcdNumber<span class="token operator">-></span><span class="token function">setHexMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//è®¾ç½®LCDæ˜¾ç¤ºåå…­è¿›åˆ¶æ•°</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><a href="https://github.com/xmuli/QtExamples">https://github.com/xmuli/QtExamples</a> ã€QtQdialQLCDExã€‘</p><br>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>æ»‘åŠ¨æ¡QSliderå’ŒQAbstractSliderçš„ä»‹ç»å’Œç”¨æ³•</title>
      <link href="/posts/66c92eaf/"/>
      <url>/posts/66c92eaf/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong> æ»‘åŠ¨æ¡<code>QSlider</code>çš„ä»‹ç»å’Œç”¨æ³•ï¼Œå…¶é€šè¿‡æ»‘åŠ¨æ¥è®¾ç½®æ•°å€¼ï¼Œä¹Ÿå¯ä»¥ç”¨äºæ•°å€¼çš„è¾“å…¥ã€‚ä»¥åŠä»–ä»¬çš„åŸºç±»<code>QAbstractSlider</code>çš„ä¼—å¤šå±æ€§çš„è¯¦ç»†è®²è§£</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>win10 x64 ä¸“ä¸šç‰ˆ 1803</code>  </p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>Qt Creator 4.8.2 (Enterprise)</code>ï¼Œ <code>Qt 5.9.8</code></p><br><h2 id="ç³»åˆ—åšæ–‡ï¼š"><a href="#ç³»åˆ—åšæ–‡ï¼š" class="headerlink" title="ç³»åˆ—åšæ–‡ï¼š"></a>ç³»åˆ—åšæ–‡ï¼š</h2><p><strong>æ¯”è¾ƒç´§å¯†çš„å…³è”åšæ–‡å‚è€ƒï¼š</strong></p><ul><li><a href="https://blog.csdn.net/qq_33154343/article/details/100944831">æ»‘åŠ¨æ¡<code>QSlider</code>å’Œ<code>QAbstractSlider</code>çš„ä»‹ç»å’Œç”¨æ³•</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/101003081"><code>QSlider</code>ã€<code>QScrollBar</code>ã€<code>QProgressBar</code>æ§ä»¶çš„è”åŠ¨</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/101003115">ä»ªè¡¨ç›˜<code>QSlider</code>çš„è®²è§£å’Œä½¿ç”¨</a></li></ul><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190915000559.gif"/ loading="lazy"><br><h2 id="æ»‘åŠ¨æ¡QSliderï¼š"><a href="#æ»‘åŠ¨æ¡QSliderï¼š" class="headerlink" title="æ»‘åŠ¨æ¡QSliderï¼š"></a>æ»‘åŠ¨æ¡QSliderï¼š</h2><p><code>QSlider</code>ã€<code>QScrollBar</code>å’Œ<code>Qdial</code>3ä¸ªç»„ä»¶éƒ½ä»<code>QAbstractSlider</code>ç»§æ‰¿è€Œæ¥ï¼Œæœ‰ä¸€äº›å…±æœ‰çš„å±æ€§ã€‚<br><strong>QSlider</strong>æ˜¯æ»‘åŠ¨çš„æ ‡å°ºå‹ç»„ä»¶ï¼Œæ»‘åŠ¨æ ‡å°ºä¸Šçš„ä¸€ä¸ªæ»‘å—å¯ä»¥æ”¹å˜å€¼ã€‚<br>åŸºç±»<strong>QAbstractSlider</strong>çš„ä¸»è¦å±æ€§åŒ…æ‹¬ä»¥ä¸‹å‡ ç§ã€‚</p><ul><li><p><code>minimum</code>ã€<code>maximum</code>ï¼šè®¾ç½®è¾“å…¥èŒƒå›´çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ï¼Œä¾‹å¦‚ï¼Œç”¨çº¢ã€ç»¿ã€è“é…è‰²æ—¶ï¼Œæ¯<br>  ç§åŸºè‰²çš„å¤§å°èŒƒå›´æ˜¯0~255ï¼Œæ‰€ä»¥è®¾ç½®<strong>minimum</strong>ä¸º0ï¼Œ<strong>maximum</strong>ä¸º255ã€‚</p></li><li><p><code>singlestep</code>:å•æ­¥é•¿ï¼Œæ‹–åŠ¨æ ‡å°ºä¸Šçš„æ»‘å—ï¼Œæˆ–æŒ‰ä¸‹å·¦&#x2F;å³å…‰æ ‡é”®æ—¶çš„æœ€å°å˜åŒ–æ•°å€¼ã€‚</p></li><li><p><code>pageStep</code>:åœ¨<strong>Slider</strong>ä¸Šè¾“å…¥ç„¦ç‚¹ï¼ŒæŒ‰<strong>PgUp</strong>æˆ–<strong>PgDn</strong>é”®æ—¶å˜åŒ–çš„æ•°å€¼ã€‚</p></li><li><p><code>value</code>ï¼šç»„ä»¶çš„å½“å‰å€¼ï¼Œæ‹–åŠ¨æ»‘å—æ—¶è‡ªåŠ¨æ”¹å˜æ­¤å€¼ï¼Œå¹¶é™å®šåœ¨<strong>minimum</strong>å’Œ<strong>maximum</strong>å®šä¹‰çš„<br>  èŒƒå›´ä¹‹å†…ã€‚</p></li><li><p><code>sliderPosition</code>:æ»‘å—çš„ä½ç½®ï¼Œè‹¥<strong>tracking</strong>å±æ€§è®¾ç½®ä¸ºtrueï¼Œ<strong>sliderPosition</strong>å°±ç­‰äºvalueã€‚</p></li><li><p><strong><code>tracking</code>ï¼šsliderPosition</strong>æ˜¯å¦ç­‰åŒäº<strong>value</strong>ï¼Œå¦‚æœ<strong>tracking</strong>&#x3D;trueï¼Œæ”¹å˜valueæ—¶ä¹ŸåŒæ—¶æ”¹å˜<br>  sliderPositionã€‚</p></li><li><p><code>orientation</code>: <strong>Slider</strong>çš„æ–¹å‘ï¼Œå¯ä»¥è®¾ç½®ä¸ºæ°´å¹³æˆ–å‚ç›´ã€‚æ–¹å‘å‚æ•°æ˜¯Qtçš„æšä¸¾ç±»å‹enum</p></li><li><p><code>Qtï¼šOrientation</code>ï¼Œå–å€¼åŒ…æ‹¬ä»¥ä¸‹ä¸¤ç§ã€‚  </p><table><thead><tr><th align="center">æšä¸¾</th><th align="center">å«ä¹‰</th></tr></thead><tbody><tr><td align="center">Qt::Horizontal</td><td align="center">æ°´å¹³æ–¹å‘</td></tr><tr><td align="center">Qt::Vertical</td><td align="center">å‚ç›´æ–¹å‘</td></tr></tbody></table></li><li><p><code>invertedAppearance</code>:æ˜¾ç¤ºæ–¹å¼æ˜¯å¦åå‘ï¼Œ<strong>invertedAppearance</strong>&#x3D;falseæ—¶ï¼Œæ°´å¹³çš„Sliderç”±å·¦å‘å³æ•°å€¼å¢å¤§ï¼Œå¦åˆ™åè¿‡æ¥ã€‚</p></li><li><p><code>invertedControls</code>ï¼šåå‘æŒ‰é”®æ§åˆ¶ï¼Œè‹¥<strong>invertedControls</strong>&#x3D;trueï¼Œåˆ™æŒ‰ä¸‹<strong>PgUp</strong>æˆ–<strong>PgDn</strong>æŒ‰é”®æ—¶è°ƒæ•´æ•°å€¼çš„åå‘ç›¸åã€‚</p></li><li><p><strong>å±äºQSliderçš„ä¸“æœ‰å±æ€§æœ‰ä¸¤ä¸ªï¼Œå¦‚ä¸‹ã€‚</strong></p></li><li><p><code>tickPosition</code>:æ ‡å°ºåˆ»åº¦çš„æ˜¾ç¤ºä½ç½®ï¼Œä½¿ç”¨æšä¸¾ç±»å‹<strong>QSlider:TickPosition</strong>ï¼Œå–å€¼åŒ…æ‹¬ä»¥ä¸‹6ç§</p><table><thead><tr><th align="center">æšä¸¾</th><th align="center">å«ä¹‰</th></tr></thead><tbody><tr><td align="center">QSlider::NoTicks</td><td align="center">ä¸æ˜¾ç¤ºåˆ»åº¦</td></tr><tr><td align="center">QSlider::TicksBothSides</td><td align="center">æ ‡å°ºä¸¤ä¾§éƒ½æ˜¾ç¤ºåˆ»åº¦</td></tr><tr><td align="center">QSlider::TicksAbove</td><td align="center">æ ‡å°ºä¸Šæ–¹æ˜¾ç¤ºåˆ»åº¦</td></tr><tr><td align="center">QSlider::TicksBelow</td><td align="center">æ ‡å°ºä¸‹æ–¹æ˜¾ç¤ºåˆ»åº¦</td></tr><tr><td align="center">QSlider::TicksLeft</td><td align="center">æ ‡å°ºå·¦ä¾§æ˜¾ç¤ºåˆ»åº¦</td></tr><tr><td align="center">QSlider::TicksRight</td><td align="center">æ ‡å°ºå³ä¾§æ˜¾ç¤ºåˆ»åº¦</td></tr></tbody></table></li><li><p><code>ticklnterval</code>ï¼šæ ‡å°ºåˆ»åº¦çš„é—´éš”å€¼ï¼Œè‹¥è®¾ç½®ä¸º0ï¼Œä¼šåœ¨<strong>singleStep</strong>å’Œ<strong>pageStep</strong>ä¹‹é—´è‡ªåŠ¨é€‰æ‹©ã€‚</p></li></ul><br><h2 id="éƒ¨åˆ†æºç ï¼š"><a href="#éƒ¨åˆ†æºç ï¼š" class="headerlink" title="éƒ¨åˆ†æºç ï¼š"></a>éƒ¨åˆ†æºç ï¼š</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//è®¾ç½®QSliderçš„æœ€å¤§å€¼ä¸º255  (é»˜è®¤èŒƒå›´ä¸º0~100)</span>ui<span class="token operator">-></span>sliderRed<span class="token operator">-></span><span class="token function">setMaximum</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>ui<span class="token operator">-></span>sliderGreen<span class="token operator">-></span><span class="token function">setMaximum</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>ui<span class="token operator">-></span>sliderBlue<span class="token operator">-></span><span class="token function">setMaximum</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>ui<span class="token operator">-></span>sliderAlpha<span class="token operator">-></span><span class="token function">setMaximum</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åˆå§‹åŒ–QTextEditçš„é¢œè‰² (å¦åˆ™é»˜è®¤å°±æ˜¯ç™½ç°è‰²)</span>QColor color<span class="token punctuation">;</span>color<span class="token punctuation">.</span><span class="token function">setRgb</span><span class="token punctuation">(</span><span class="token number">145</span><span class="token punctuation">,</span> <span class="token number">190</span><span class="token punctuation">,</span> <span class="token number">251</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>QPalette palette <span class="token operator">=</span> ui<span class="token operator">-></span>textColour<span class="token operator">-></span><span class="token function">palette</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>palette<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>QPalette<span class="token double-colon punctuation">::</span>Base<span class="token punctuation">,</span> color<span class="token punctuation">)</span><span class="token punctuation">;</span>ui<span class="token operator">-></span>textColour<span class="token operator">-></span><span class="token function">setPalette</span><span class="token punctuation">(</span>palette<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¿æ¥ä¿¡å·ä¸æ§½ï¼Œå¤šä¸ªä¿¡å·ï¼Œå¯¹åº”ä¸€ä¸ªæ§½å‡½æ•°</span><span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>sliderRed<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">valueChanged</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onSetClolor</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>sliderGreen<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">valueChanged</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onSetClolor</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>sliderBlue<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">valueChanged</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onSetClolor</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>sliderAlpha<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">valueChanged</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onSetClolor</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token keyword">int</span> nRed <span class="token operator">=</span> ui<span class="token operator">-></span>sliderRed<span class="token operator">-></span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">//è·å–çº¢ç»¿è“(RGB)çš„Sliderçš„æ•°å€¼</span><span class="token keyword">int</span> nGreen <span class="token operator">=</span> ui<span class="token operator">-></span>sliderGreen<span class="token operator">-></span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> nBlue <span class="token operator">=</span> ui<span class="token operator">-></span>sliderBlue<span class="token operator">-></span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> nAlpha <span class="token operator">=</span> ui<span class="token operator">-></span>sliderAlpha<span class="token operator">-></span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>QColor color<span class="token punctuation">;</span>color<span class="token punctuation">.</span><span class="token function">setRgb</span><span class="token punctuation">(</span>nRed<span class="token punctuation">,</span> nGreen<span class="token punctuation">,</span> nBlue<span class="token punctuation">,</span> nAlpha<span class="token punctuation">)</span><span class="token punctuation">;</span>QPalette palette <span class="token operator">=</span> ui<span class="token operator">-></span>textColour<span class="token operator">-></span><span class="token function">palette</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//è·å–textColouræ§ä»¶çš„æ‰€æœ‰é¢œè‰²å€¼(è°ƒè‰²æ¿)</span>palette<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>QPalette<span class="token double-colon punctuation">::</span>Base<span class="token punctuation">,</span> color<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è®¾ç½®textColouçš„æŸä¸€è§’è‰²(å³æ§ä»¶)çš„é¢œè‰²</span>ui<span class="token operator">-></span>textColour<span class="token operator">-></span><span class="token function">setPalette</span><span class="token punctuation">(</span>palette<span class="token punctuation">)</span><span class="token punctuation">;</span>ui<span class="token operator">-></span>labRgbVal<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"RGB(%1, %2, %3, %4)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>nRed<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>nGreen<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>nBlue<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>nAlpha<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//æ—¶åˆ»æ˜¾ç¤ºRGBaçš„å…·ä½“å€¼</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><a href="https://github.com/touwoyimuli/QtExamples">https://github.com/touwoyimuli/QtExamples</a> ã€QtQSliderExã€‘</p><br>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>QStyleè‡ªå®šä¹‰é‡ç»˜QScrollBar</title>
      <link href="/posts/5b63d25/"/>
      <url>/posts/5b63d25/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong>  <code>QStyle</code>è‡ªå®šä¹‰é‡ç»˜<code>QScrollBar</code>ï¼ˆæ»šåŠ¨æ¡ï¼‰æ ·å¼ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>win10 x64 ä¸“ä¸šç‰ˆ 1803</code>  </p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>Qt Creator 4.8.2 (Enterprise)</code>ï¼Œ <code>Qt 5.9.8</code></p><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><br><h2 id="QScrollbarå®˜æ–¹æ•™ç¨‹"><a href="#QScrollbarå®˜æ–¹æ•™ç¨‹" class="headerlink" title="QScrollbarå®˜æ–¹æ•™ç¨‹:"></a>QScrollbarå®˜æ–¹æ•™ç¨‹:</h2><p>QScrollBarå°éƒ¨ä»¶æä¾›å‚ç›´æˆ–æ°´å¹³æ»šåŠ¨æ¡ã€‚</p><p>æ»šåŠ¨æ¡æ˜¯ä¸€ç§æ§ä»¶ï¼Œä½¿ç”¨æˆ·èƒ½å¤Ÿè®¿é—®æ¯”ç”¨äºæ˜¾ç¤ºæ–‡æ¡£çš„å°éƒ¨ä»¶æ›´å¤§çš„æ–‡æ¡£éƒ¨åˆ†ã€‚å®ƒæä¾›äº†ç”¨æˆ·åœ¨æ–‡æ¡£ä¸­çš„å½“å‰ä½ç½®å’Œå¯è§æ–‡æ¡£æ•°é‡çš„å¯è§†åŒ–æŒ‡ç¤ºã€‚æ»šåŠ¨æ¡é€šå¸¸é…å¤‡äº†å…¶ä»–æ§ä»¶ï¼Œä»¥æ”¯æŒæ›´ç²¾ç¡®çš„å¯¼èˆªã€‚Qtä»¥é€‚åˆæ¯ä¸ªå¹³å°çš„æ–¹å¼æ˜¾ç¤ºæ»šåŠ¨æ¡ã€‚</p><p>å¦‚æœéœ€è¦åœ¨å¦ä¸€ä¸ªå°éƒ¨ä»¶ä¸Šæä¾›æ»šåŠ¨è§†å›¾ï¼Œä½¿ç”¨QScrollAreaç±»å¯èƒ½æ›´æ–¹ä¾¿ï¼Œå› ä¸ºå®ƒæä¾›äº†ä¸€ä¸ªviewportå°éƒ¨ä»¶å’Œæ»šåŠ¨æ¡ã€‚å¦‚æœæ‚¨éœ€è¦ä¸ºä½¿ç”¨QAbstractScrollAreaçš„ç‰¹å®šå°éƒ¨ä»¶å®ç°ç±»ä¼¼çš„åŠŸèƒ½ï¼ŒQScrollBaréå¸¸æœ‰ç”¨;ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨å†³å®šå­ç±»åŒ–QAbstractItemViewã€‚å¯¹äºä½¿ç”¨æ»‘å—æ§ä»¶åœ¨ç»™å®šèŒƒå›´å†…è·å–å€¼çš„å¤§å¤šæ•°å…¶ä»–æƒ…å†µï¼ŒQSliderç±»å¯èƒ½æ›´é€‚åˆæ‚¨çš„éœ€è¦ã€‚</p><p>ï¿¼<img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190910224730.png"/ loading="lazy"></p><blockquote><p>æ»šåŠ¨æ¡é€šå¸¸åŒ…æ‹¬å››ä¸ªå•ç‹¬çš„æ§ä»¶:æ»‘å—ã€æ»šåŠ¨ç®­å¤´å’Œé¡µé¢æ§ä»¶ã€‚</p><p>æ»‘å—æä¾›äº†å¿«é€Ÿè¿›å…¥æ–‡æ¡£ä»»ä½•éƒ¨åˆ†çš„æ–¹æ³•ï¼Œä½†ä¸æ”¯æŒåœ¨å¤§å‹æ–‡æ¡£ä¸­ç²¾ç¡®å¯¼èˆªã€‚</p><p>b.æ»šåŠ¨ç®­å¤´æ˜¯æŒ‰é’®ï¼Œå¯ä»¥ç”¨æ¥ç²¾ç¡®åœ°å¯¼èˆªåˆ°æ–‡æ¡£ä¸­çš„ç‰¹å®šä½ç½®ã€‚å¯¹äºè¿æ¥åˆ°æ–‡æœ¬ç¼–è¾‘å™¨çš„å‚ç›´æ»šåŠ¨æ¡ï¼Œå®ƒä»¬é€šå¸¸å°†å½“å‰ä½ç½®å‘ä¸Šæˆ–å‘ä¸‹ç§»åŠ¨ä¸€ä¸ªâ€œè¡Œâ€ï¼Œå¹¶å°‘é‡è°ƒæ•´æ»‘å—çš„ä½ç½®ã€‚åœ¨ç¼–è¾‘å™¨å’Œåˆ—è¡¨æ¡†ä¸­ï¼Œâ€œè¡Œâ€å¯èƒ½è¡¨ç¤ºä¸€è¡Œæ–‡æœ¬;åœ¨å›¾åƒæŸ¥çœ‹å™¨ä¸­ï¼Œå®ƒå¯èƒ½æ„å‘³ç€20ä¸ªåƒç´ ã€‚</p><p>é¡µé¢æ§ä»¶æ˜¯æ‹–åŠ¨æ»‘å—çš„åŒºåŸŸ(æ»šåŠ¨æ¡çš„èƒŒæ™¯)ã€‚ç‚¹å‡»è¿™é‡Œå°†æ»šåŠ¨æ¡ç§»åŠ¨åˆ°å•å‡»ä¸€ä¸ªâ€œé¡µé¢â€ã€‚è¿™ä¸ªå€¼é€šå¸¸ä¸æ»‘å—çš„é•¿åº¦ç›¸åŒã€‚</p></blockquote><p>æ¯ä¸ªæ»šåŠ¨æ¡éƒ½æœ‰ä¸€ä¸ªå€¼ï¼Œè¯¥å€¼æŒ‡ç¤ºæ»‘å—è·æ»šåŠ¨æ¡èµ·ç‚¹çš„è·ç¦»;è¿™æ˜¯é€šè¿‡value()å’ŒsetValue()è·å¾—çš„ã€‚æ­¤å€¼å§‹ç»ˆä½äºä¸ºæ»šåŠ¨æ¡å®šä¹‰çš„å€¼èŒƒå›´å†…ï¼Œä»æœ€å°()åˆ°åŒ…å«æœ€å¤§å€¼()ã€‚å¯ä»¥ä½¿ç”¨setMinimum()å’ŒsetMaximum()è®¾ç½®å¯æ¥å—å€¼çš„èŒƒå›´ã€‚åœ¨æœ€å°å€¼å¤„ï¼Œæ»‘å—çš„é¡¶éƒ¨è¾¹ç¼˜(å‚ç›´æ»šåŠ¨æ¡)æˆ–å·¦ä¾§è¾¹ç¼˜(æ°´å¹³æ»šåŠ¨æ¡)å°†ä½äºæ»šåŠ¨æ¡çš„é¡¶éƒ¨(æˆ–å·¦ä¾§)ã€‚åœ¨æœ€å¤§å€¼å¤„ï¼Œæ»‘å—çš„åº•éƒ¨(æˆ–å³ä¾§)è¾¹ç¼˜å°†ä½äºæ»šåŠ¨æ¡çš„åº•éƒ¨(æˆ–å³ä¾§)æœ«ç«¯ã€‚</p><p>æ»‘å—çš„é•¿åº¦é€šå¸¸ä¸é¡µé¢æ­¥éª¤çš„å€¼ç›¸å…³ï¼Œé€šå¸¸è¡¨ç¤ºæ»šåŠ¨è§†å›¾ä¸­æ˜¾ç¤ºçš„æ–‡æ¡£åŒºåŸŸçš„æ¯”ä¾‹ã€‚page stepæ˜¯å½“ç”¨æˆ·æŒ‰ä¸‹é¡µé¢å‘ä¸Šå’Œå‘ä¸‹é”®æ—¶å€¼çš„å˜åŒ–é‡ï¼Œå¹¶ä½¿ç”¨setPageStep()è®¾ç½®ã€‚ä½¿ç”¨æ¸¸æ ‡é”®å¯¹è¡Œæ­¥éª¤å®šä¹‰çš„å€¼è¿›è¡Œæ›´å°çš„æ›´æ”¹ï¼Œè¿™ä¸ªæ•°é‡ç”±setSingleStep()è®¾ç½®ã€‚</p><p>æ³¨æ„ï¼Œä½¿ç”¨çš„å€¼èŒƒå›´ä¸æ»šåŠ¨æ¡å°éƒ¨ä»¶çš„å®é™…å¤§å°æ— å…³ã€‚åœ¨ä¸ºèŒƒå›´å’Œé¡µæ­¥éª¤é€‰æ‹©å€¼æ—¶ï¼Œä¸éœ€è¦è€ƒè™‘è¿™ä¸€ç‚¹ã€‚</p><p>ä¸ºæ»šåŠ¨æ¡æŒ‡å®šçš„å€¼èŒƒå›´é€šå¸¸ä¸ä¸ºQSlideræŒ‡å®šçš„å€¼èŒƒå›´ä¸åŒï¼Œå› ä¸ºéœ€è¦è€ƒè™‘æ»‘å—çš„é•¿åº¦ã€‚å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ª100è¡Œæ–‡æ¡£ï¼Œè€Œæˆ‘ä»¬åªèƒ½åœ¨ä¸€ä¸ªå°éƒ¨ä»¶ä¸­æ˜¾ç¤º20è¡Œï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯èƒ½å¸Œæœ›æ„é€ ä¸€ä¸ªæ»šåŠ¨æ¡ï¼Œå…¶ä¸­é¡µé¢æ­¥éª¤ä¸º20ï¼Œæœ€å°å€¼ä¸º0ï¼Œæœ€å¤§å€¼ä¸º80ã€‚è¿™å°†ä¸ºæˆ‘ä»¬æä¾›ä¸€ä¸ªåŒ…å«äº”ä¸ªâ€œé¡µé¢â€çš„æ»šåŠ¨æ¡ã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190910224805.png"/ loading="lazy"><blockquote><p>åœ¨è®¸å¤šå¸¸è§æƒ…å†µä¸‹ï¼Œæ–‡æ¡£é•¿åº¦ã€æ»šåŠ¨æ¡ä¸­ä½¿ç”¨çš„å€¼èŒƒå›´å’Œé¡µé¢æ­¥éª¤ä¹‹é—´çš„å…³ç³»å¾ˆç®€å•ã€‚æ»šåŠ¨æ¡çš„å€¼èŒƒå›´æ˜¯é€šè¿‡ä»è¡¨ç¤ºæ–‡æ¡£é•¿åº¦çš„å€¼ä¸­å‡å»é€‰å®šçš„é¡µé¢æ­¥éª¤æ¥ç¡®å®šçš„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸‹é¢çš„å…¬å¼å¾ˆæœ‰ç”¨:æ–‡æ¡£é•¿åº¦&#x3D; maximum() - minimum() + pageStep()ã€‚</p></blockquote><p>QScrollBaråªæä¾›æ•´æ•°èŒƒå›´ã€‚æ³¨æ„ï¼Œå°½ç®¡QScrollBarå¤„ç†éå¸¸å¤§çš„æ•°å­—ï¼Œä½†æ˜¯å½“å‰å±å¹•ä¸Šçš„æ»šåŠ¨æ¡ä¸èƒ½æœ‰æ•ˆåœ°è¡¨ç¤ºè¶…è¿‡100,000åƒç´ çš„èŒƒå›´ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œç”¨æˆ·å¾ˆéš¾ä½¿ç”¨é”®ç›˜æˆ–é¼ æ ‡æ¥æ§åˆ¶æ»‘å—ï¼Œæ»šåŠ¨ç®­å¤´çš„ä½¿ç”¨ä¹Ÿå¾ˆæœ‰é™ã€‚</p><br><h2 id="QScrollbarå±æ€§ç†è§£ï¼š"><a href="#QScrollbarå±æ€§ç†è§£ï¼š" class="headerlink" title="QScrollbarå±æ€§ç†è§£ï¼š"></a>QScrollbarå±æ€§ç†è§£ï¼š</h2><p>è‹¥æ˜¯éœ€è¦é‡ç»˜ï¼ŒæŸ¥çœ‹Qtæºç ï¼Œæœ‰å¦‚ä¸‹å‡ ä¸ª<code>enum QStyle::ControlElement</code>æ˜¯å…³äºæ»šåŠ¨æ¡çš„å…ƒç´ ï¼š</p><table><thead><tr><th align="center">Constant</th><th align="center">Description</th></tr></thead><tbody><tr><td align="center">CE_ScrollBarAddPage</td><td align="center">å¢åŠ é¡µ(åœ¨æ»‘æ§½)</td></tr><tr><td align="center">CE_ScrollBarSubPage</td><td align="center">å‡å°‘é¡µ(åœ¨æ»‘æ§½)</td></tr><tr><td align="center">CE_ScrollBarSlider</td><td align="center">æ»‘å—</td></tr><tr><td align="center">CE_ScrollBarAddLine</td><td align="center">å¢åŠ æŒ‰é’®</td></tr><tr><td align="center">CE_ScrollBarSubLine</td><td align="center">å‡å°‘æŒ‰é’®</td></tr><tr><td align="center">CE_ScrollBarFirst</td><td align="center">æœªæµ‹å‡ºæ¥</td></tr><tr><td align="center">CE_ScrollBarLast</td><td align="center">æœªæµ‹å‡ºæ¥</td></tr></tbody></table><p>ä½¿ç”¨ä»£ç æ˜¾ç¤ºå¦‚ä¸‹ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190910224200.png"/ loading="lazy"><br>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QStyle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QStyleè‡ªå®šä¹‰é‡ç»˜QSlideræ§ä»¶äºŒ</title>
      <link href="/posts/2b7554be/"/>
      <url>/posts/2b7554be/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong>  ä¿®æ”¹åˆ›å»ºæ§ä»¶æ—¶å€™ï¼Œçš„é»˜è®¤çŸ©å½¢å¤§å°ï¼Œé‡å†™<code>sizeFromContents()</code>å‡½æ•°ï¼Œç»™å®šé»˜è®¤æ§ä»¶å¤§å°</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>deepin 15.11 x64 ä¸“ä¸šç‰ˆ </code>    <strong>Kernelï¼š</strong>  <code>x86_64 Linux 4.15.0-30deepin-generic</code></p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>   <code>Qt Creator 4.8.2 (Enterprise)</code>ï¼Œ <code>Qt 5.9.8</code></p><br><h2 id="ç³»åˆ—åšæ–‡ï¼š"><a href="#ç³»åˆ—åšæ–‡ï¼š" class="headerlink" title="ç³»åˆ—åšæ–‡ï¼š"></a>ç³»åˆ—åšæ–‡ï¼š</h2><ul><li><a href="https://xmuli.tech/posts/dd3bbc4c"><code>QStyle</code>è‡ªå®šä¹‰é‡ç»˜<code>QSlider</code>æ§ä»¶</a> </li><li><a href="https://xmuli.tech/posts/70612500">QStyleä¹‹PenStyleçš„CustomDashLineä½¿ç”¨</a> ã€æ›´æ–°ï¼šæ›´åŠ ç²¾å‡†çš„ç»˜ç”»æ»‘æ§½ã€‘</li><li><a href="https://xmuli.tech/posts/e4408abd/">é‡ç»˜çš„QStyleä¸­sizeFromContents()æ²¡æœ‰è¢«è°ƒç”¨</a></li><li><a href="https://xmuli.tech/posts/2b7554be">QStyleè‡ªå®šä¹‰é‡ç»˜QSlideræ§ä»¶äºŒ</a>ï¼ˆé‡è¦ï¼‰</li></ul><br><h2 id="æ›´æ–°åŸå› ï¼š"><a href="#æ›´æ–°åŸå› ï¼š" class="headerlink" title="æ›´æ–°åŸå› ï¼š"></a>æ›´æ–°åŸå› ï¼š</h2><p>å› ä¸ºå‰ä¸€ä¸ªç‰ˆæœ¬ï¼Œå‡ºç°äº†ä¸€ä¸ªå°çš„bugï¼šé‚£å°±æ˜¯ï¼Œé—æ¼äº†å½“<code>QSlider</code>æ— éœ€åˆ»åº¦çš„æ—¶å€™ï¼ˆæšä¸¾å€¼ä¸º<code>QSlider::NoTicks</code>ï¼‰ï¼Œä¼šå‘ç”Ÿ<strong>opt-&gt;rect</strong>ä»ç„¶ä¼šæ¯”çŸ©å½¢ï¼ˆæ»‘å—å’Œæ»‘æ§½çš„æœ€å°å…¬å…±çŸ©å½¢ï¼‰è¦å¤§ï¼›å³ï¼šæ²¡æœ‰å»é™¤æ‰ç”¨æ¥ä¿ç•™ç»˜ç”»åˆ»åº¦çš„çŸ©å½¢åŒºåŸŸã€‚</p><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><p>ä¸Šä¸€å¼ æœ€ç»ˆçš„è¿è¡Œæ•ˆæœï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190917231536.png"/ loading="lazy"><br><h2 id="QSlideræšä¸¾å«ä¹‰ï¼š"><a href="#QSlideræšä¸¾å«ä¹‰ï¼š" class="headerlink" title="QSlideræšä¸¾å«ä¹‰ï¼š"></a>QSlideræšä¸¾å«ä¹‰ï¼š</h2><p>ä¸‹é¢å¯¹ä¸€äº›æšä¸¾è¿›è¡Œä¸€äº›å«ä¹‰çš„è§£é‡Šï¼š</p><table><thead><tr><th align="center">æšä¸¾</th><th align="center">ä¸­æ–‡å«ä¹‰</th><th align="center">Qtæ–‡æ¡£ï¼ˆå…¶è‹±æ–‡å«ä¹‰æ¯”è¾ƒæ¨¡ç³Šï¼Œæ­¤å¤„ä»¥çº¦å®šä¸­æ–‡å«ä¹‰ä¸ºå‡†ï¼‰</th></tr></thead><tbody><tr><td align="center">PM_SliderThickness</td><td align="center">Slideræ€»çš„é«˜åº¦ã€€ï¼ã€€æ»‘å—é«˜åº¦ï¼‹åˆ»åº¦é«˜åº¦</td><td align="center">Total slider thickness.</td></tr><tr><td align="center">PM_SliderControlThickness</td><td align="center">åªæ˜¯æ»‘å—çš„å•ç‹¬é«˜åº¦</td><td align="center">Thickness of the slider handle.</td></tr><tr><td align="center">PM_SliderLength</td><td align="center">åªæ˜¯æ»‘å—çš„é•¿åº¦</td><td align="center">Thickness of the slider handle.</td></tr><tr><td align="center">PM_SliderLength</td><td align="center">åªæ˜¯æ»‘å—çš„é•¿åº¦</td><td align="center">Length of the slider.</td></tr><tr><td align="center">PM_SliderTickmarkOffset</td><td align="center">ç”¨ä½œsliderçš„åˆ»åº¦çº¿çš„é«˜åº¦</td><td align="center">The offset between the tickmarks and the slider.</td></tr><tr><td align="center">PM_SliderSpaceAvailable</td><td align="center">æš‚æ—¶æœªç”¨åˆ°</td><td align="center">The available space for the slider to move.</td></tr></tbody></table><p>ä¸Šé¢è¡¨æ ¼å‚è€ƒå‡ºå¤„ä»£ç ï¼š<strong>qcommonstyle.cpp</strong>ã€€ 4526è¡Œ</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">case</span> PM_SliderTickmarkOffset<span class="token operator">:</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">const</span> QStyleOptionSlider<span class="token operator">*</span> sl <span class="token operator">=</span> <span class="token generic-function"><span class="token function">qstyleoption_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">const</span> QStyleOptionSlider<span class="token operator">*</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>opt<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> space <span class="token operator">=</span> <span class="token punctuation">(</span>sl<span class="token operator">-></span>orientation <span class="token operator">==</span> Qt<span class="token double-colon punctuation">::</span>Horizontal<span class="token punctuation">)</span> <span class="token operator">?</span> sl<span class="token operator">-></span>rect<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                    <span class="token operator">:</span> sl<span class="token operator">-></span>rect<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> thickness <span class="token operator">=</span> <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">pixelMetric</span><span class="token punctuation">(</span>PM_SliderControlThickness<span class="token punctuation">,</span> sl<span class="token punctuation">,</span> widget<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> ticks <span class="token operator">=</span> sl<span class="token operator">-></span>tickPosition<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>ticks <span class="token operator">==</span> QSlider<span class="token double-colon punctuation">::</span>TicksBothSides<span class="token punctuation">)</span>            ret <span class="token operator">=</span> <span class="token punctuation">(</span>space <span class="token operator">-</span> thickness<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>ticks <span class="token operator">==</span> QSlider<span class="token double-colon punctuation">::</span>TicksAbove<span class="token punctuation">)</span>            ret <span class="token operator">=</span> space <span class="token operator">-</span> thickness<span class="token punctuation">;</span>        <span class="token keyword">else</span>            ret <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">else</span>    <span class="token punctuation">&#123;</span>        ret <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">break</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="ç»˜ç”»æ€è·¯ï¼š"><a href="#ç»˜ç”»æ€è·¯ï¼š" class="headerlink" title="ç»˜ç”»æ€è·¯ï¼š"></a>ç»˜ç”»æ€è·¯ï¼š</h2><p>ä¸Šä¸€ç¯‡çš„æ€è·¯æ˜¯ï¼š</p><ul><li>å°†çŸ©å½¢æ‹†åˆ†ä¸ºä¸‰ä¸ªå°çŸ©å½¢</li><li>å¯¹äºæ¯ä¸€ä¸ªçŸ©å½¢è¿›è¡Œå•ç‹¬çš„åˆ¤æ–­ï¼ˆæ˜¯å¦æœ‰æ— ï¼‰ï¼Œè‹¥æ˜¯æœ‰åˆ™ç»˜ç”»</li></ul><p>è€Œè¿™ä¸€ç¯‡åˆ™æ˜¯ï¼Œåœ¨ç¬¬ä¸€æ­¥éª¤ä¹‹å‰ï¼Œå°±è¿›è¡Œä¿®æ”¹ï¼Œåœ¨<code>sizeFromContents()</code>é‡Œé¢è¿›è¡Œåˆå§‹çš„çŸ©å½¢è®¡ç®—ï¼›</p><p>å…ˆç»˜åˆ¶é»˜è®¤å¤§å°ï¼Œç»™å‡ºé»˜è®¤opt-&gt;rectçŸ©å½¢çš„å¤§å°ï¼ˆæ­¤æ—¶è¿˜æ²¡æœ‰å¼€å§‹è®¡ç®—æ¯ä¸€ä¸ªçŸ©å½¢çš„å¤§å°:å°†è¿™ä¸ªæœ€å¤§çš„çŸ©å½¢è¿›è¡Œæ‹†åˆ†ï¼‰ï¼š</p><p>åœ¨**virtual QSize sizeFromContents(ContentsType ct, const QStyleOption *opt, const QSize &amp;contentsSize, const QWidget *w) const override;**é‡Œé¢ï¼Œå¡«å†™å¦‚ä¸‹ä»£ç ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> sliderContHeight <span class="token operator">=</span> <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">pixelMetric</span><span class="token punctuation">(</span>PM_SliderControlThickness<span class="token punctuation">,</span> opt<span class="token punctuation">,</span> widget<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//å•ç‹¬æ»‘å—é«˜åº¦</span>            <span class="token keyword">int</span> tickMarkHeight <span class="token operator">=</span> <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">pixelMetric</span><span class="token punctuation">(</span>PM_SliderTickmarkOffset<span class="token punctuation">,</span> opt<span class="token punctuation">,</span> widget<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//å•ç‹¬åˆ»åº¦çº¿é«˜åº¦</span>            sliderContHeight <span class="token operator">+=</span> tickMarkHeight<span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>slider<span class="token operator">-></span>tickPosition <span class="token operator">==</span> QSlider<span class="token double-colon punctuation">::</span>NoTicks<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                sliderContHeight <span class="token operator">-=</span> tickMarkHeight<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>slider<span class="token operator">-></span>tickPosition <span class="token operator">==</span> QSlider<span class="token double-colon punctuation">::</span>TicksBothSides<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                sliderContHeight <span class="token operator">+=</span> tickMarkHeight<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>slider<span class="token operator">-></span>orientation <span class="token operator">==</span> Qt<span class="token double-colon punctuation">::</span>Horizontal<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                size<span class="token punctuation">.</span><span class="token function">setHeight</span><span class="token punctuation">(</span><span class="token function">qMax</span><span class="token punctuation">(</span>size<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> sliderContHeight<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                size<span class="token punctuation">.</span><span class="token function">setWidth</span><span class="token punctuation">(</span><span class="token function">qMax</span><span class="token punctuation">(</span>size<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> sliderContHeight<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">case</span> CT_MenuBarItem<span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> frame_margins <span class="token operator">=</span> <span class="token class-name">DStyle</span><span class="token double-colon punctuation">::</span><span class="token function">pixelMetric</span><span class="token punctuation">(</span>PM_FrameMargins<span class="token punctuation">,</span> opt<span class="token punctuation">,</span> widget<span class="token punctuation">)</span><span class="token punctuation">;</span>        size <span class="token operator">+=</span> <span class="token function">QSize</span><span class="token punctuation">(</span>frame_margins <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> frame_margins <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">default</span><span class="token operator">:</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> size<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºä¸€ æŠ€æ³• </category>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QStyle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡ç»˜çš„QStyleä¸­sizeFromContents()æ²¡æœ‰è¢«è°ƒç”¨</title>
      <link href="/posts/e4408abd/"/>
      <url>/posts/e4408abd/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong>  åœ¨è‡ªå®šä¹‰é‡ç»˜<code>QStyle</code>çš„æ—¶å€™ï¼Œç»§æ‰¿äº<code>class ExCustomStyle : public QCommonStyle</code>çš„ç±»ï¼Œåœ¨é‡å†™è™šå‡½æ•°<code>sizeFromContents()</code>æ—¶å€™ï¼Œå´å‘ç°å¹¶æ²¡æœ‰è¢«è°ƒç”¨ã€‚åœ¨æ­¤å¤„è®°å½•ä¸€ä¸ª**â€ç¡¬æ ¸æ·±å‘â€sizeFromContents()æ²¡æœ‰è¢«è°ƒç”¨**ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ç®€è¿°ï¼š"><a href="#ç®€è¿°ï¼š" class="headerlink" title="ç®€è¿°ï¼š"></a>ç®€è¿°ï¼š</h2><p>â€‹<strong>è¯¦æƒ…ï¼š</strong>  è§ç®€ä»‹</p><br><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>deepin 15.11 x64 ä¸“ä¸šç‰ˆ </code>    <strong>Kernelï¼š</strong> <code>x86_64 Linux 4.15.0-30deepin-generic</code></p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>Qt Creator 4.8.2 (Enterprise)</code>ï¼Œ <code>Qt 5.9.8</code></p><br><h2 id="ç³»åˆ—åšæ–‡ï¼š"><a href="#ç³»åˆ—åšæ–‡ï¼š" class="headerlink" title="ç³»åˆ—åšæ–‡ï¼š"></a>ç³»åˆ—åšæ–‡ï¼š</h2><ul><li><a href="https://touwoyimuli.github.io/2019/09/04/QStyle%E8%87%AA%E5%AE%9A%E4%B9%89%E9%87%8D%E7%BB%98QSlider%E6%8E%A7%E4%BB%B6/"><code>QStyle</code>è‡ªå®šä¹‰é‡ç»˜<code>QSlider</code>æ§ä»¶</a> </li><li><a href="https://touwoyimuli.github.io/2019/09/09/QStyle%E4%B9%8BPenStyle%E7%9A%84CustomDashLine%E4%BD%BF%E7%94%A8/">QStyleä¹‹PenStyleçš„CustomDashLineä½¿ç”¨</a> ã€æ›´æ–°ï¼šæ›´åŠ ç²¾å‡†çš„ç»˜ç”»æ»‘æ§½ã€‘</li><li><a href="https://touwoyimuli.github.io/2019/09/17/%E9%87%8D%E7%BB%98%E7%9A%84QStyle%E4%B8%ADsizeFromContents()%E6%B2%A1%E6%9C%89%E8%A2%AB%E8%B0%83%E7%94%A8/">é‡ç»˜çš„QStyleä¸­sizeFromContents()æ²¡æœ‰è¢«è°ƒç”¨</a></li><li><a href="https://touwoyimuli.github.io/2019/09/17/QStyle%E8%87%AA%E5%AE%9A%E4%B9%89%E9%87%8D%E7%BB%98QSlider%E6%8E%A7%E4%BB%B6%E4%BA%8C/">QStyleè‡ªå®šä¹‰é‡ç»˜QSlideræ§ä»¶äºŒ</a>ï¼ˆé‡è¦ï¼‰</li></ul><br><h2 id="é”™è¯¯èµ·å› ï¼š"><a href="#é”™è¯¯èµ·å› ï¼š" class="headerlink" title="é”™è¯¯èµ·å› ï¼š"></a>é”™è¯¯èµ·å› ï¼š</h2><p>åœ¨è‡ªå®šä¹‰<strong>QStyle</strong>çš„<strong>CustomStyle</strong>çš„**.h&#x2F;.cpp**ä¸­,æœ‰é‡å†™å¦‚ä¸‹ä¸€äº›å‡½æ•°ç­‰è™šå‡½æ•°çš„æ—¶å€™ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">QSize <span class="token function">sizeFromContents</span><span class="token punctuation">(</span>QStyle<span class="token double-colon punctuation">::</span>ContentsType ct<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOption <span class="token operator">*</span>opt<span class="token punctuation">,</span> <span class="token keyword">const</span> QSize <span class="token operator">&amp;</span>contentsSize<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>widget <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">drawControl</span><span class="token punctuation">(</span>QStyle<span class="token double-colon punctuation">::</span>ControlElement element<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOption <span class="token operator">*</span>opt<span class="token punctuation">,</span> QPainter <span class="token operator">*</span>p<span class="token punctuation">,</span>                     <span class="token keyword">const</span> QWidget <span class="token operator">*</span>w <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä½†æ˜¯<strong>é¡¹ç›®è‡ªå¸¦çš„ä¾‹å­</strong>(QWidget+å¤šä¸ªå¸ƒå±€+æ§ä»¶)è¢«æˆåŠŸè¿è¡Œ,è€Œ<strong>è‡ªå·±åˆ›å»ºçš„Qwidge</strong>tä¸Šé¢æ·»åŠ çš„QSliderå´å”¯ç‹¬æ²¡æœ‰è¿è¡ŒsizeFromContents()å‡½æ•°?</p><p><strong>ã€é¢„æœŸæœŸå¾…ç°è±¡ï¼šã€‘</strong>ç°è‰²çŸ©å½¢çš„å®½åº¦åº”è¯¥æ˜¯å’Œæ»‘å—çŸ©å½¢çš„å®½åº¦æ˜¯ä¸€æ ·å¤§çš„ã€‚</p><p><strong>ã€ç–‘æƒ‘ä¸è§£ï¼šã€‘</strong>ä¸ºä»€ä¹ˆé‡å†™çš„ä»£ç åè¿è¡Œ,æœ‰çš„QWidgetè¿è¡ŒdrawControl()å’ŒsizeFromContents(); è€Œæœ‰çš„ï¼ˆå¦ä¸€ä¸ªQWidgetï¼‰drawControl()ï¼Œæ²¡æœ‰è¿è¡ŒsizeFromContents()????    <strong>çœŸçš„æ˜¯æƒ³çš„æŒ å¤´æŒ å¤´å¤´å¥½å‡ ä¸ªå°æ—¶åï¼Œéƒ½æƒ³çš„ä¸å‡ºæ¥åŸå› </strong>???æ— æœï¼Œ è¯·æ•™å¤§ä½¬ä¹‹åã€‚</p><br><h2 id="è§£å†³åŸå› ï¼š"><a href="#è§£å†³åŸå› ï¼š" class="headerlink" title="è§£å†³åŸå› ï¼š"></a>è§£å†³åŸå› ï¼š</h2><p>è‡ªå·±åˆ›å»ºçš„<strong>QWidget</strong>ä¸­,å¤šä¸ª<strong>Slider</strong>æ˜¯æ²¡æœ‰æ·»åŠ è¿›å¸ƒå±€,è€Œæ˜¯ç›´æ¥åˆ¶æŒ‡å®šçˆ¶å¯¹è±¡ä¸º<strong>WQidget</strong>,ä¸”è°ƒç”¨<code>resize(300, 40);</code>æŒ‡å®š<strong>Slider</strong>çš„å¤§å°.è€ŒQtæºç æ€è·¯å°±æ˜¯,é‚£æˆ‘å°±ä¸è°ƒç”¨<code>sizeFromContents()</code>å‡½æ•°äº†.caocaocao å“¦~  ç ´æ¡ˆäº†~ï½ã€€çœŸçš„æ˜¯ä»–å¦ˆçš„å‘ï¼<font color=#D0087E size=4 face="å¹¼åœ†"><strong>æ€»ç»“ï¼šåªæœ‰æ§ä»¶æ·»åŠ åˆ°å¸ƒå±€é‡Œé¢ï¼Œæ‰ä¼šè§¦å‘è¯¥å‡½æ•°sizeFromContentsï¼ˆï¼‰</strong></font></p><br><h2 id="æµ‹è¯•ä»£ç ï¼š"><a href="#æµ‹è¯•ä»£ç ï¼š" class="headerlink" title="æµ‹è¯•ä»£ç ï¼š"></a>æµ‹è¯•ä»£ç ï¼š</h2><ul><li><strong>åœ¨main()ä¸­çš„æµ‹è¯•ä»£ç ï¼š</strong></li></ul><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//ä¸æ˜¾ç¤ºçš„ä»£ç </span><span class="token class-name">QApplication</span><span class="token double-colon punctuation">::</span><span class="token function">setStyle</span><span class="token punctuation">(</span><span class="token string">"CustomStyle"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>QWidget wTemp<span class="token punctuation">;</span>wTemp<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">800</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>QSlider <span class="token operator">*</span>slider <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Widget</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>wTemp<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">//æ°´å¹³æ— åˆ»åº¦çš„QSlider</span>slider<span class="token operator">-></span><span class="token function">setOrientation</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>Horizontal<span class="token punctuation">)</span><span class="token punctuation">;</span>slider<span class="token operator">-></span><span class="token function">setTickPosition</span><span class="token punctuation">(</span>QSlider<span class="token double-colon punctuation">::</span>NoTicks<span class="token punctuation">)</span><span class="token punctuation">;</span>slider<span class="token operator">-></span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>slider<span class="token operator">-></span><span class="token function">setTickInterval</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>wTemp<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190917214120.png"/ loading="lazy"><ul><li>ä¿®æ”¹ä¹‹åï¼Œå¯ä»¥ä¼šæ‰§è¡Œ**sizeFromContents()**å‡½æ•°ï¼š</li></ul><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ä¼šæ˜¾ç¤ºçš„ä»£ç <span class="token class-name">QApplication</span><span class="token double-colon punctuation">::</span><span class="token function">setStyle</span><span class="token punctuation">(</span><span class="token string">"CustomStyle"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>QWidget wTemp<span class="token punctuation">;</span>wTemp<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">800</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>QHBoxLayout <span class="token operator">*</span>layout <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QHBoxLayout</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>wTemp<span class="token punctuation">)</span><span class="token punctuation">;</span>QSlider <span class="token operator">*</span>slider <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Widget</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">//æ°´å¹³æ— åˆ»åº¦çš„QSlider</span>slider<span class="token operator">-></span><span class="token function">setOrientation</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>Horizontal<span class="token punctuation">)</span><span class="token punctuation">;</span>slider<span class="token operator">-></span><span class="token function">setTickPosition</span><span class="token punctuation">(</span>QSlider<span class="token double-colon punctuation">::</span>NoTicks<span class="token punctuation">)</span><span class="token punctuation">;</span>slider<span class="token operator">-></span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>slider<span class="token operator">-></span><span class="token function">setTickInterval</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>layout<span class="token operator">-></span><span class="token function">addWidget</span><span class="token punctuation">(</span>slider<span class="token punctuation">)</span><span class="token punctuation">;</span>                         <span class="token comment">//Slideræ·»åŠ åˆ°å¸ƒå±€é‡Œé¢</span>wTemp<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190917214045.png"/ loading="lazy"><br>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºä¸€ æŠ€æ³• </category>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QStyle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QStringå¸¸ç”¨çš„åŠŸèƒ½å‡½æ•°çš„ä»‹ç»å’Œç”¨æ³•</title>
      <link href="/posts/38c82/"/>
      <url>/posts/38c82/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong>  <code>QString</code>å¸¸ç”¨çš„åŠŸèƒ½å‡½æ•°çš„ä»‹ç»å’Œç”¨æ³•ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ç®€è¿°ï¼š"><a href="#ç®€è¿°ï¼š" class="headerlink" title="ç®€è¿°ï¼š"></a>ç®€è¿°ï¼š</h2><p>â€‹<strong>è¯¦æƒ…ï¼š</strong>  è§ç®€ä»‹</p><br><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>win10 x64 ä¸“ä¸šç‰ˆ 1803</code>  </p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>Qt Creator 4.8.2 (Enterprise)</code>ï¼Œ <code>Qt 5.9.8</code></p><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190914233130.gif"/ loading="lazy"><br><h2 id="åŒç³»åˆ—æ–‡ç« ï¼š"><a href="#åŒç³»åˆ—æ–‡ç« ï¼š" class="headerlink" title="åŒç³»åˆ—æ–‡ç« ï¼š"></a>åŒç³»åˆ—æ–‡ç« ï¼š</h2><p><a href="https://blog.csdn.net/qq_33154343/article/details/100860030"><code>QString</code>åœ¨2 ï¼8ï¼10ï¼16è¿›åˆ¶ä¹‹é—´è½¬æ¢</a> </p><br><h2 id="QStringï¼š"><a href="#QStringï¼š" class="headerlink" title="QStringï¼š"></a>QStringï¼š</h2><p><code>QString</code>å­˜å‚¨å­—ç¬¦ä¸²é‡‡ç”¨çš„æ˜¯<strong>Unicode</strong>ç ï¼Œæ¯ä¸€ä¸ªå­—ç¬¦æ˜¯ä¸€ä¸ª16ä½çš„<code>QChar</code>ï¼Œè€Œä¸æ˜¯8ä½çš„<code>char</code>ï¼Œæ‰€ä»¥<code>QString</code>å¤„ç†ä¸­æ–‡å­—ç¬¦æ²¡æœ‰é—®é¢˜ï¼Œè€Œä¸”ä¸€ä¸ªæ±‰å­—ç®—ä½œæ˜¯ä¸€ä¸ªå­—ç¬¦ã€‚</p><br><h2 id="å¸¸ç”¨å‡½æ•°ï¼š"><a href="#å¸¸ç”¨å‡½æ•°ï¼š" class="headerlink" title="å¸¸ç”¨å‡½æ•°ï¼š"></a>å¸¸ç”¨å‡½æ•°ï¼š</h2><p><font color=#70AD47 size=4 face="å¹¼åœ†"><strong>æ³¨æ„ï¼šQStringåªè¦èµ‹å€¼ï¼Œå°±åœ¨å­—ç¬¦ä¸²çš„æœ«å°¾è‡ªåŠ¨åŠ ä¸Šâ€œ\0â€</strong></font></p><h3 id="å­—ç¬¦ä¸²ç›¸å…³"><a href="#å­—ç¬¦ä¸²ç›¸å…³" class="headerlink" title="å­—ç¬¦ä¸²ç›¸å…³:"></a>å­—ç¬¦ä¸²ç›¸å…³:</h3><ul><li>append()        åœ¨å­—ç¬¦ä¸²åé¢æ·»åŠ å­—ç¬¦ä¸²</li><li>perpend()      åœ¨å­—ç¬¦ä¸²çš„å‰é¢æ·»åŠ å­—ç¬¦ä¸²</li><li>toUpper()      å°†å­—ç¬¦ä¸²çš„å­—æ¯å…¨éƒ¨è½¬æ¢ä¸ºå¤§å†™å­—æ¯</li><li>toLower()      å°†å­—ç¬¦ä¸²çš„å­—æ¯å…¨éƒ¨è½¬æ¢ä¸ºå¤§å†™å­—æ¯</li><li>left()               è¿”å›åŒ…å«å­—ç¬¦ä¸²ä¸­æœ€å·¦nä¸ªå­—ç¬¦çš„å­å­—ç¬¦ä¸²ã€‚å¦‚æœnå¤§äºæˆ–ç­‰äºsize()æˆ–å°äºé›¶ï¼Œåˆ™è¿”å›æ•´ä¸ªå­—ç¬¦ä¸²ã€‚</li><li>right()            è¿”å›åŒ…å«å­—ç¬¦ä¸²ä¸­æœ€å³nä¸ªå­—ç¬¦çš„å­å­—ç¬¦ä¸²ã€‚å¦‚æœnå¤§äºæˆ–ç­‰äºsize()æˆ–å°äºé›¶ï¼Œåˆ™è¿”å›æ•´ä¸ªå­—ç¬¦ä¸²ã€‚</li><li>section()        ä»å­—ç¬¦ä¸²ä¸­æå–ä»¥â€œå­å­—ç¬¦ä¸²â€ä½œä¸ºåˆ†éš”ç¬¦ï¼Œä»startåˆ°endç«¯çš„å­—ç¬¦ä¸²</li><li>simplified()   ä¸ä»…å»æ‰å­—ç¬¦ä¸²çš„æ‰€é¦–å°¾ç©ºæ ¼ï¼Œä¸­é—´è¿ç»­çš„ç©ºæ ¼ä¹Ÿç”¨ä¸€ä¸ªç©ºæ ¼æ›¿æ¢</li><li>trimmed        å»æ‰å­—ç¬¦ä¸²é¦–å°¾çš„ç©ºæ ¼</li></ul><br><h3 id="æ•°å­—ç›¸å…³ï¼š"><a href="#æ•°å­—ç›¸å…³ï¼š" class="headerlink" title="æ•°å­—ç›¸å…³ï¼š"></a>æ•°å­—ç›¸å…³ï¼š</h3><ul><li><p>count()               è¿”å›å­—ç¬¦ä¸²çš„å­—ç¬¦ä¸ªæ•°ã€‚å‡½æ•°åŒsize()ã€åŒlength()ã€‚(å­—ç¬¦ä¸²ä¸­è‹¥æœ‰æ±‰å­—ï¼Œä¸€ä¸ªæ±‰å­—ç®—ä¸€ä¸ªå­—ç¬¦ï¼‰</p></li><li><p>size()                  åŒä¸Š</p></li><li><p>indexOf()           åœ¨å­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾å­å­—ç¬¦ä¸²strå‡ºç°çš„ä½ç½®ã€‚ï¼ˆQt::CaseSensitivity cs å‚æ•°æŒ‡å®šæ˜¯å¦åŒºåˆ†å¤§å°å†™ï¼‰</p></li><li><p>lastIndexOf()    åœ¨å­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾å­å­—ç¬¦ä¸²stræœ€åå‡ºç°çš„ä½ç½®</p></li></ul><br><h3 id="é€»è¾‘åˆ¤æ–­ï¼š"><a href="#é€»è¾‘åˆ¤æ–­ï¼š" class="headerlink" title="é€»è¾‘åˆ¤æ–­ï¼š"></a>é€»è¾‘åˆ¤æ–­ï¼š</h3><ul><li>startsWith()     åˆ¤æ–­æ˜¯å¦ä»¥æŸä¸ªå­—ç¬¦ä¸²å¼€å¤´</li><li>endsWith()      åˆ¤æ–­æ˜¯å¦ä»¥æŸä¸ªå­—ç¬¦ä¸²ç»“å°¾</li><li>contains()        åˆ¤æ–­æŸä¸ªå­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å«æŸä¸ªå­—ç¬¦ä¸²</li><li>isNull()             åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºã€‚ï¼ˆè‹¥æ˜¯åªæœ‰â€œ\0â€ï¼ŒisNullè¿”å›falseï¼› åªæœ‰æœªèµ‹å€¼çš„å­—ç¬¦ä¸²ï¼ŒisNullè¿”å›trueï¼‰</li><li>isEmpty()         åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©º.ï¼ˆè‹¥æ˜¯åªæœ‰â€œ\0â€ï¼ŒisEmptyè¿”å›trueï¼‰</li></ul><p><font color=#FE7207  size=4 face="å¹¼åœ†"><strong>isNull()å’ŒisEmpty()çš„åŒºåˆ«ï¼š</strong></font></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token function">isNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span>å’Œ<span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ä¸¤ä¸ªå‡½æ•°éƒ½åˆ¤è¯»å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºï¼Œä½†æ˜¯ç¨æœ‰å·®åˆ«ã€‚å¦‚æœä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼Œåªæœ‰â€œ<span class="token number">0</span>â€ï¼ŒisNull<span class="token punctuation">)</span>è¿”å›<span class="token boolean">false</span>ï¼Œè€ŒisEmpty0è¿”å›<span class="token boolean">true</span>ï¼›åªæœ‰æœªèµ‹å€¼çš„å­—ç¬¦ä¸²ï¼ŒisNullï¼ˆï¼‰æ‰è¿”å›<span class="token boolean">true</span>ã€‚QString strl<span class="token punctuation">,</span>str2<span class="token operator">=</span><span class="token string">""</span>ï¼›N<span class="token operator">=</span>str1<span class="token punctuation">.</span><span class="token function">isNul1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ï¼›     <span class="token comment">//N=trueæœªèµ‹å€¼å­—ç¬¦ä¸²å˜é‡</span>N<span class="token operator">=</span>str2<span class="token punctuation">.</span><span class="token function">isNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ï¼›     <span class="token comment">//N=falseåªæœ‰â€œ\\0â€çš„å­—ç¬¦ä¸²ï¼Œä¹Ÿä¸æ˜¯Nul1</span>N<span class="token operator">=</span>strl<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//N=true</span>N<span class="token operator">=</span>str2<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ï¼›    <span class="token comment">//N=true</span>QStringåªè¦èµ‹å€¼ï¼Œå°±åœ¨å­—ç¬¦ä¸²çš„æœ«å°¾è‡ªåŠ¨åŠ ä¸Šâ€œ<span class="token number">10</span>â€ï¼Œæ‰€ä»¥ï¼Œå¦‚æœåªæ˜¯è¦åˆ¤æ–­å­—ç¬¦ä¸²å†…å®¹æ˜¯å¦ä¸ºç©ºï¼Œå¸¸ç”¨isEmptyOã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><a href="https://github.com/xmuli/QtExamples">https://github.com/xmuli/QtExamples</a> ã€QtQStringFunExã€‘</p><br>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>QStringåœ¨2,8,10,16è¿›åˆ¶ä¹‹é—´è½¬æ¢</title>
      <link href="/posts/75166a24/"/>
      <url>/posts/75166a24/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€è¿°ï¼š</strong> åˆæ¢å­—ç¬¦ä¸²<code>QString</code>çš„è¾“å…¥å’Œè¾“å‡ºï¼Œå’Œæ•°å€¼åœ¨2 ï¼8ï¼10ï¼16<strong>è¿›åˆ¶</strong>ä¹‹é—´ç›¸äº’è½¬æ¢ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ç®€è¿°ï¼š"><a href="#ç®€è¿°ï¼š" class="headerlink" title="ç®€è¿°ï¼š"></a>ç®€è¿°ï¼š</h2><p>â€‹<strong>è¯¦æƒ…ï¼š</strong>  è§ç®€è¿°</p><br><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>win10 x64 ä¸“ä¸šç‰ˆ 1803</code>  </p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>Qt Creator 4.8.2 (Enterprise)</code>ï¼Œ <code>Qt 5.9.8</code></p><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190914221639.gif"/ loading="lazy"><br><h2 id="åŒç³»åˆ—æ–‡ç« ï¼š"><a href="#åŒç³»åˆ—æ–‡ç« ï¼š" class="headerlink" title="åŒç³»åˆ—æ–‡ç« ï¼š"></a>åŒç³»åˆ—æ–‡ç« ï¼š</h2><p><a href="https://blog.csdn.net/qq_33154343/article/details/100860270">QStringå¸¸ç”¨çš„åŠŸèƒ½å‡½æ•°çš„ä»‹ç»å’Œç”¨æ³•</a> </p><br><h2 id="å­—ç¬¦ä¸²QStringï¼š"><a href="#å­—ç¬¦ä¸²QStringï¼š" class="headerlink" title="å­—ç¬¦ä¸²QStringï¼š"></a>å­—ç¬¦ä¸²QStringï¼š</h2><p>å­—ç¬¦ä¸²æœ‰<code>QString</code>ï¼Œ <code>char *</code>, <code>char a[]</code>, <code>string</code>,å…¶ä¸­åé¢ä¸‰ä¸ªéƒ½æ˜¯å±äºc++çš„ï¼Œè€Œåªæœ‰<strong>QString</strong>æ˜¯å±äº<strong>Qt</strong>æ‰€ç‰¹æœ‰çš„ï¼›<strong>å…¶ä¸­QStringå†…éƒ¨æ˜¯ä»¥utf8å­˜å‚¨çš„</strong>ï¼Œè€Œcè‡ªå¸¦çš„åé¢ä¸‰ä¸ªå´ä¸æ˜¯åŒæ ·ä»¥utf8å­˜å‚¨çš„ï¼Œæ‰€ä»¥ä¼šç»å¸¸é‡åˆ°æƒ…å†µï¼Œ<strong>ä¹±ç åŸå› å’Œè§£å†³æ–¹æ³•å‚è€ƒï¼š</strong>è¡¥å……éƒ¨åˆ†çš„<a href="https://github.com/touwoyimuli/QtExamples">ä¹±ç ç›¸å…³</a>çš„ç³»å†…æ–‡ç« </p><br><h2 id="Stringè½¬åŒ–ä¸ºæ•´-x2F-æµ®ç‚¹æ•°ï¼š"><a href="#Stringè½¬åŒ–ä¸ºæ•´-x2F-æµ®ç‚¹æ•°ï¼š" class="headerlink" title="Stringè½¬åŒ–ä¸ºæ•´&#x2F;æµ®ç‚¹æ•°ï¼š"></a>Stringè½¬åŒ–ä¸ºæ•´&#x2F;æµ®ç‚¹æ•°ï¼š</h2><p>ä¸‹é¢åˆ—ä¸¾ä¸€äº›æ¯”è¾ƒå¸¸ç”¨çš„è½¬æ¢å‡½æ•°:</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">double</span>    <span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">toDouble</span><span class="token punctuation">(</span><span class="token keyword">bool</span> <span class="token operator">*</span><span class="token operator">*</span>ok<span class="token operator">*</span> <span class="token operator">=</span> Q_NULLPTR<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token keyword">float</span>     <span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">toFloat</span><span class="token punctuation">(</span><span class="token keyword">bool</span> <span class="token operator">*</span>ok <span class="token operator">=</span> Q_NULLPTR<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token keyword">int</span>       <span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">toInt</span><span class="token punctuation">(</span><span class="token keyword">bool</span> <span class="token operator">*</span>ok <span class="token operator">=</span> Q_NULLPTR<span class="token punctuation">,</span> <span class="token keyword">int</span> base <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token keyword">long</span>      <span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">toLong</span><span class="token punctuation">(</span><span class="token keyword">bool</span> <span class="token operator">*</span>ok <span class="token operator">=</span> Q_NULLPTR<span class="token punctuation">,</span> <span class="token keyword">int</span> base <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">const</span>qlonglong <span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">toLongLong</span><span class="token punctuation">(</span><span class="token keyword">bool</span> <span class="token operator">*</span>ok <span class="token operator">=</span> Q_NULLPTR<span class="token punctuation">,</span> <span class="token keyword">int</span> base <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token keyword">short</span>     <span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">toShort</span><span class="token punctuation">(</span><span class="token keyword">bool</span> <span class="token operator">*</span>ok <span class="token operator">=</span> Q_NULLPTR<span class="token punctuation">,</span> <span class="token keyword">int</span> base <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token comment">//è½¬æ¢ä¸ºå¸¦uå¼€å¤´çš„</span>uint      <span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">toUInt</span><span class="token punctuation">(</span><span class="token keyword">bool</span> <span class="token operator">*</span>ok <span class="token operator">=</span> Q_NULLPTR<span class="token punctuation">,</span> <span class="token keyword">int</span> base <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="æ•´-x2F-æµ®ç‚¹æ•°è½¬åŒ–ä¸ºStringï¼š"><a href="#æ•´-x2F-æµ®ç‚¹æ•°è½¬åŒ–ä¸ºStringï¼š" class="headerlink" title="æ•´&#x2F;æµ®ç‚¹æ•°è½¬åŒ–ä¸ºStringï¼š"></a>æ•´&#x2F;æµ®ç‚¹æ•°è½¬åŒ–ä¸ºStringï¼š</h2><p>ä¸‹é¢åˆ—ä¸¾ä¸€äº›æ¯”è¾ƒå¸¸ç”¨çš„è½¬æ¢å‡½æ•°:</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token punctuation">[</span><span class="token keyword">static</span><span class="token punctuation">]</span> QString <span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">number</span><span class="token punctuation">(</span><span class="token keyword">double</span> n<span class="token punctuation">,</span> <span class="token keyword">char</span> format <span class="token operator">=</span> <span class="token char">'g'</span><span class="token punctuation">,</span> <span class="token keyword">int</span> precision <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token keyword">static</span><span class="token punctuation">]</span> QString <span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">asprintf</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>cformat<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>QString <span class="token operator">&amp;</span><span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">setNum</span><span class="token punctuation">(</span><span class="token keyword">float</span> n<span class="token punctuation">,</span> <span class="token keyword">char</span> format <span class="token operator">=</span> <span class="token char">'g'</span><span class="token punctuation">,</span> <span class="token keyword">int</span> precision <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å…¶ä¸­ä½¿ç”¨å¦‚ä¸‹ï¼š</p><p>eg:<code>str = QString::number(n, &#39;f&#39;, 2);</code>    å…¶ä¸­2ä¸ºä¿ç•™å°æ•°ç‚¹åä¸¤ä½</p><br><h2 id="è¿›åˆ¶ä¹‹é—´çš„è½¬æ¢ï¼š"><a href="#è¿›åˆ¶ä¹‹é—´çš„è½¬æ¢ï¼š" class="headerlink" title="è¿›åˆ¶ä¹‹é—´çš„è½¬æ¢ï¼š"></a>è¿›åˆ¶ä¹‹é—´çš„è½¬æ¢ï¼š</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">QString str <span class="token operator">=</span> ui<span class="token operator">-></span>edit2<span class="token operator">-></span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">bool</span> ok<span class="token punctuation">;</span><span class="token keyword">int</span> val <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">toInt</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>ok<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//è·å–äºŒè¿›åˆ¶</span>str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">setNum</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">//æ˜¾ç¤ºå…«è¿›åˆ¶</span>ui<span class="token operator">-></span>edit8<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">setNum</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ˜¾ç¤ºåè¿›åˆ¶</span>ui<span class="token operator">-></span>edit10<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">setNum</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ˜¾ç¤ºåå…­è¿›åˆ¶</span>ui<span class="token operator">-></span>edit16<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><a href="https://github.com/xmuli/QtExamples">https://github.com/xmuli/QtExamples</a>ã€QtQStringExã€‘</p><br>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ç†è§£ C++ ä¸­çš„å¤´æ–‡ä»¶å’Œæºæ–‡ä»¶çš„ä½œç”¨</title>
      <link href="/posts/5b0c8f0e/"/>
      <url>/posts/5b0c8f0e/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong>  ç†è§£ <strong>C++</strong> ä¸­çš„<strong>å¤´æ–‡ä»¶</strong>å’Œ<strong>æºæ–‡ä»¶</strong>çš„ä½œç”¨ï¼›ä¸€ç¯‡æ·±åº¦å¥½æ–‡ï¼Œå€¼å¾—å¤šçœ‹çœ‹</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ç®€è¿°ï¼š"><a href="#ç®€è¿°ï¼š" class="headerlink" title="ç®€è¿°ï¼š"></a>ç®€è¿°ï¼š</h2><p>â€‹<strong>è¯¦æƒ…ï¼š</strong>  è§ç®€ä»‹</p><br><h2 id="ä¸€ã€C-ç¼–è¯‘æ¨¡å¼ï¼š"><a href="#ä¸€ã€C-ç¼–è¯‘æ¨¡å¼ï¼š" class="headerlink" title="ä¸€ã€C++ ç¼–è¯‘æ¨¡å¼ï¼š"></a>ä¸€ã€C++ ç¼–è¯‘æ¨¡å¼ï¼š</h2><p>é€šå¸¸ï¼Œåœ¨ä¸€ä¸ª C++ ç¨‹åºä¸­ï¼ŒåªåŒ…å«ä¸¤ç±»æ–‡ä»¶â€”â€” .cpp æ–‡ä»¶å’Œ .h æ–‡ä»¶ã€‚å…¶ä¸­ï¼Œ.cpp æ–‡ä»¶è¢«ç§°ä½œ C++ æºæ–‡ä»¶ï¼Œé‡Œé¢æ”¾çš„éƒ½æ˜¯ C++ çš„æºä»£ç ï¼›è€Œ .h æ–‡ä»¶åˆ™è¢«ç§°ä½œ C++ å¤´æ–‡ä»¶ï¼Œé‡Œé¢æ”¾çš„ä¹Ÿæ˜¯ C++ çš„æºä»£ç ã€‚</p><p>C++ è¯­è¨€æ”¯æŒâ€åˆ†åˆ«ç¼–è¯‘â€ï¼ˆseparatecompilationï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªç¨‹åºæ‰€æœ‰çš„å†…å®¹ï¼Œå¯ä»¥åˆ†æˆä¸åŒçš„éƒ¨åˆ†åˆ†åˆ«æ”¾åœ¨ä¸åŒçš„ .cpp æ–‡ä»¶é‡Œã€‚.cpp æ–‡ä»¶é‡Œçš„ä¸œè¥¿éƒ½æ˜¯ç›¸å¯¹ç‹¬ç«‹çš„ï¼Œåœ¨ç¼–è¯‘ï¼ˆcompileï¼‰æ—¶ä¸éœ€è¦ä¸å…¶ä»–æ–‡ä»¶äº’é€šï¼Œåªéœ€è¦åœ¨ç¼–è¯‘æˆç›®æ ‡æ–‡ä»¶åå†ä¸å…¶ä»–çš„ç›®æ ‡æ–‡ä»¶åšä¸€æ¬¡é“¾æ¥ï¼ˆlinkï¼‰å°±è¡Œäº†ã€‚æ¯”å¦‚ï¼Œåœ¨æ–‡ä»¶ a.cpp ä¸­å®šä¹‰äº†ä¸€ä¸ªå…¨å±€å‡½æ•° â€œvoid a(){}â€ï¼Œè€Œåœ¨æ–‡ä»¶ b.cpp ä¸­éœ€è¦è°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚å³ä½¿è¿™æ ·ï¼Œæ–‡ä»¶ a.cpp å’Œæ–‡ä»¶ b.cpp å¹¶ä¸éœ€è¦ç›¸äº’çŸ¥é“å¯¹æ–¹çš„å­˜åœ¨ï¼Œè€Œæ˜¯å¯ä»¥åˆ†åˆ«åœ°å¯¹å®ƒä»¬è¿›è¡Œç¼–è¯‘ï¼Œç¼–è¯‘æˆç›®æ ‡æ–‡ä»¶ä¹‹åå†é“¾æ¥ï¼Œæ•´ä¸ªç¨‹åºå°±å¯ä»¥è¿è¡Œäº†ã€‚</p><p>è¿™æ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿä»å†™ç¨‹åºçš„è§’åº¦æ¥è®²ï¼Œå¾ˆç®€å•ã€‚åœ¨æ–‡ä»¶ b.cpp ä¸­ï¼Œåœ¨è°ƒç”¨ â€œvoid a()â€ å‡½æ•°ä¹‹å‰ï¼Œå…ˆå£°æ˜ä¸€ä¸‹è¿™ä¸ªå‡½æ•° â€œvoida();â€ï¼Œå°±å¯ä»¥äº†ã€‚è¿™æ˜¯å› ä¸ºç¼–è¯‘å™¨åœ¨ç¼–è¯‘ b.cpp çš„æ—¶å€™ä¼šç”Ÿæˆä¸€ä¸ªç¬¦å·è¡¨ï¼ˆsymbol tableï¼‰ï¼Œåƒ â€œvoid a()â€ è¿™æ ·çš„çœ‹ä¸åˆ°å®šä¹‰çš„ç¬¦å·ï¼Œå°±ä¼šè¢«å­˜æ”¾åœ¨è¿™ä¸ªè¡¨ä¸­ã€‚å†è¿›è¡Œé“¾æ¥çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨å°±ä¼šåœ¨åˆ«çš„ç›®æ ‡æ–‡ä»¶ä¸­å»å¯»æ‰¾è¿™ä¸ªç¬¦å·çš„å®šä¹‰ã€‚ä¸€æ—¦æ‰¾åˆ°äº†ï¼Œç¨‹åºä¹Ÿå°±å¯ä»¥é¡ºåˆ©åœ°ç”Ÿæˆäº†ã€‚</p><p>æ³¨æ„è¿™é‡Œæåˆ°äº†ä¸¤ä¸ªæ¦‚å¿µï¼Œä¸€ä¸ªæ˜¯â€å®šä¹‰â€ï¼Œä¸€ä¸ªæ˜¯â€å£°æ˜â€ã€‚ç®€å•åœ°è¯´ï¼Œâ€å®šä¹‰â€å°±æ˜¯æŠŠä¸€ä¸ªç¬¦å·å®Œå®Œæ•´æ•´åœ°æè¿°å‡ºæ¥ï¼šå®ƒæ˜¯å˜é‡è¿˜æ˜¯å‡½æ•°ï¼Œè¿”å›ä»€ä¹ˆç±»å‹ï¼Œéœ€è¦ä»€ä¹ˆå‚æ•°ç­‰ç­‰ã€‚è€Œâ€å£°æ˜â€åˆ™åªæ˜¯å£°æ˜è¿™ä¸ªç¬¦å·çš„å­˜åœ¨ï¼Œå³å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œè¿™ä¸ªç¬¦å·æ˜¯åœ¨å…¶ä»–æ–‡ä»¶ä¸­å®šä¹‰çš„ï¼Œæˆ‘è¿™é‡Œå…ˆç”¨ç€ï¼Œä½ é“¾æ¥çš„æ—¶å€™å†åˆ°åˆ«çš„åœ°æ–¹å»æ‰¾æ‰¾çœ‹å®ƒåˆ°åº•æ˜¯ä»€ä¹ˆå§ã€‚å®šä¹‰çš„æ—¶å€™è¦æŒ‰ C++ è¯­æ³•å®Œæ•´åœ°å®šä¹‰ä¸€ä¸ªç¬¦å·ï¼ˆå˜é‡æˆ–è€…å‡½æ•°ï¼‰ï¼Œè€Œå£°æ˜çš„æ—¶å€™å°±åªéœ€è¦å†™å‡ºè¿™ä¸ªç¬¦å·çš„åŸå‹äº†ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸€ä¸ªç¬¦å·ï¼Œåœ¨æ•´ä¸ªç¨‹åºä¸­å¯ä»¥è¢«å£°æ˜å¤šæ¬¡ï¼Œä½†å´è¦ä¸”ä»…è¦è¢«å®šä¹‰ä¸€æ¬¡ã€‚è¯•æƒ³ï¼Œå¦‚æœä¸€ä¸ªç¬¦å·å‡ºç°äº†ä¸¤ç§ä¸åŒçš„å®šä¹‰ï¼Œç¼–è¯‘å™¨è¯¥å¬è°çš„ï¼Ÿ</p><p>è¿™ç§æœºåˆ¶ç»™ C++ ç¨‹åºå‘˜ä»¬å¸¦æ¥äº†å¾ˆå¤šå¥½å¤„ï¼ŒåŒæ—¶ä¹Ÿå¼•å‡ºäº†ä¸€ç§ç¼–å†™ç¨‹åºçš„æ–¹æ³•ã€‚è€ƒè™‘ä¸€ä¸‹ï¼Œå¦‚æœæœ‰ä¸€ä¸ªå¾ˆå¸¸ç”¨çš„å‡½æ•° â€œvoid f() {}â€ï¼Œåœ¨æ•´ä¸ªç¨‹åºä¸­çš„è®¸å¤š .cpp æ–‡ä»¶ä¸­éƒ½ä¼šè¢«è°ƒç”¨ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬å°±åªéœ€è¦åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­å®šä¹‰è¿™ä¸ªå‡½æ•°ï¼Œè€Œåœ¨å…¶ä»–çš„æ–‡ä»¶ä¸­å£°æ˜è¿™ä¸ªå‡½æ•°å°±å¯ä»¥äº†ã€‚ä¸€ä¸ªå‡½æ•°è¿˜å¥½å¯¹ä»˜ï¼Œå£°æ˜èµ·æ¥ä¹Ÿå°±ä¸€å¥è¯ã€‚ä½†æ˜¯ï¼Œå¦‚æœå‡½æ•°å¤šäº†ï¼Œæ¯”å¦‚æ˜¯ä¸€å¤§å †çš„æ•°å­¦å‡½æ•°ï¼Œæœ‰å¥½å‡ ç™¾ä¸ªï¼Œé‚£æ€ä¹ˆåŠï¼Ÿèƒ½ä¿è¯æ¯ä¸ªç¨‹åºå‘˜éƒ½å¯ä»¥å®Œå®Œå…¨å…¨åœ°æŠŠæ‰€æœ‰å‡½æ•°çš„å½¢å¼éƒ½å‡†ç¡®åœ°è®°ä¸‹æ¥å¹¶å†™å‡ºæ¥å—ï¼Ÿ</p><br><h2 id="äºŒã€ä»€ä¹ˆæ˜¯å¤´æ–‡ä»¶ï¼š"><a href="#äºŒã€ä»€ä¹ˆæ˜¯å¤´æ–‡ä»¶ï¼š" class="headerlink" title="äºŒã€ä»€ä¹ˆæ˜¯å¤´æ–‡ä»¶ï¼š"></a>äºŒã€ä»€ä¹ˆæ˜¯å¤´æ–‡ä»¶ï¼š</h2><p>å¾ˆæ˜¾ç„¶ï¼Œç­”æ¡ˆæ˜¯ä¸å¯èƒ½ã€‚ä½†æ˜¯æœ‰ä¸€ä¸ªå¾ˆç®€å•åœ°åŠæ³•ï¼Œå¯ä»¥å¸®åŠ©ç¨‹åºå‘˜ä»¬çœå»è®°ä½é‚£ä¹ˆå¤šå‡½æ•°åŸå‹çš„éº»çƒ¦ï¼šæˆ‘ä»¬å¯ä»¥æŠŠé‚£å‡ ç™¾ä¸ªå‡½æ•°çš„å£°æ˜è¯­å¥å…¨éƒ½å…ˆå†™å¥½ï¼Œæ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œç­‰åˆ°ç¨‹åºå‘˜éœ€è¦å®ƒä»¬çš„æ—¶å€™ï¼Œå°±æŠŠè¿™äº›ä¸œè¥¿å…¨éƒ¨ copy è¿›ä»–çš„æºä»£ç ä¸­ã€‚</p><p>è¿™ä¸ªæ–¹æ³•å›ºç„¶å¯è¡Œï¼Œä½†è¿˜æ˜¯å¤ªéº»çƒ¦ï¼Œè€Œä¸”è¿˜æ˜¾å¾—å¾ˆç¬¨æ‹™ã€‚äºæ˜¯ï¼Œå¤´æ–‡ä»¶ä¾¿å¯ä»¥å‘æŒ¥å®ƒçš„ä½œç”¨äº†ã€‚æ‰€è°“çš„å¤´æ–‡ä»¶ï¼Œå…¶å®å®ƒçš„å†…å®¹è·Ÿ .cpp æ–‡ä»¶ä¸­çš„å†…å®¹æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ C++ çš„æºä»£ç ã€‚ä½†å¤´æ–‡ä»¶ä¸ç”¨è¢«ç¼–è¯‘ã€‚æˆ‘ä»¬æŠŠæ‰€æœ‰çš„å‡½æ•°å£°æ˜å…¨éƒ¨æ”¾è¿›ä¸€ä¸ªå¤´æ–‡ä»¶ä¸­ï¼Œå½“æŸä¸€ä¸ª .cpp æºæ–‡ä»¶éœ€è¦å®ƒä»¬æ—¶ï¼Œå®ƒä»¬å°±å¯ä»¥é€šè¿‡ä¸€ä¸ªå®å‘½ä»¤ â€œ#includeâ€ åŒ…å«è¿›è¿™ä¸ª .cpp æ–‡ä»¶ä¸­ï¼Œä»è€ŒæŠŠå®ƒä»¬çš„å†…å®¹åˆå¹¶åˆ° .cpp æ–‡ä»¶ä¸­å»ã€‚å½“ .cpp æ–‡ä»¶è¢«ç¼–è¯‘æ—¶ï¼Œè¿™äº›è¢«åŒ…å«è¿›å»çš„ .h æ–‡ä»¶çš„ä½œç”¨ä¾¿å‘æŒ¥äº†ã€‚</p><p>ä¸¾ä¸€ä¸ªä¾‹å­å§ï¼Œå‡è®¾æ‰€æœ‰çš„æ•°å­¦å‡½æ•°åªæœ‰ä¸¤ä¸ªï¼šf1 å’Œ f2ï¼Œé‚£ä¹ˆæˆ‘ä»¬æŠŠå®ƒä»¬çš„å®šä¹‰æ”¾åœ¨ math.cpp é‡Œï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">/* math.cpp */</span><span class="token keyword">double</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">//do something here....</span>    <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">double</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token keyword">double</span> a<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">//do something here...</span>    <span class="token keyword">return</span> a <span class="token operator">*</span> a<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/* end of math.cpp */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¹¶æŠŠâ€è¿™äº›â€å‡½æ•°çš„å£°æ˜æ”¾åœ¨ä¸€ä¸ªå¤´æ–‡ä»¶ math.h ä¸­ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">/* math.h */</span><span class="token keyword">double</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">double</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/* end of math.h */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨å¦ä¸€ä¸ªæ–‡ä»¶main.cppä¸­ï¼Œæˆ‘è¦è°ƒç”¨è¿™ä¸¤ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆå°±åªéœ€è¦æŠŠå¤´æ–‡ä»¶åŒ…å«è¿›æ¥ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">/* main.cpp */</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"math.h"</span></span><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> number1 <span class="token operator">=</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> number2 <span class="token operator">=</span> <span class="token function">f2</span><span class="token punctuation">(</span>number1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/* end of main.cpp */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ ·ï¼Œä¾¿æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç¨‹åºäº†ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ.h æ–‡ä»¶ä¸ç”¨å†™åœ¨ç¼–è¯‘å™¨çš„å‘½ä»¤ä¹‹åï¼Œä½†å®ƒå¿…é¡»è¦åœ¨ç¼–è¯‘å™¨æ‰¾å¾—åˆ°çš„åœ°æ–¹ï¼ˆæ¯”å¦‚è·Ÿ main.cpp åœ¨ä¸€ä¸ªç›®å½•ä¸‹ï¼‰main.cpp å’Œ math.cpp éƒ½å¯ä»¥åˆ†åˆ«é€šè¿‡ç¼–è¯‘ï¼Œç”Ÿæˆ main.o å’Œ math.oï¼Œç„¶åå†æŠŠè¿™ä¸¤ä¸ªç›®æ ‡æ–‡ä»¶è¿›è¡Œé“¾æ¥ï¼Œç¨‹åºå°±å¯ä»¥è¿è¡Œäº†ã€‚</p><br><h2 id="ä¸‰ã€-include"><a href="#ä¸‰ã€-include" class="headerlink" title="ä¸‰ã€#include:"></a>ä¸‰ã€#include:</h2><p><font color=#D0087E size=4 face="å¹¼åœ†">#include æ˜¯ä¸€ä¸ªæ¥è‡ª C è¯­è¨€çš„å®å‘½ä»¤ï¼Œå®ƒåœ¨ç¼–è¯‘å™¨è¿›è¡Œç¼–è¯‘ä¹‹å‰ï¼Œå³åœ¨é¢„ç¼–è¯‘çš„æ—¶å€™å°±ä¼šèµ·ä½œç”¨ã€‚#include çš„ä½œç”¨æ˜¯æŠŠå®ƒåé¢æ‰€å†™çš„é‚£ä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œå®Œå®Œæ•´æ•´åœ°ã€ä¸€å­—ä¸æ”¹åœ°åŒ…å«åˆ°å½“å‰çš„æ–‡ä»¶ä¸­æ¥</font>ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œå®ƒæœ¬èº«æ˜¯æ²¡æœ‰å…¶å®ƒä»»ä½•ä½œç”¨ä¸å‰¯åŠŸèƒ½çš„ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯æŠŠæ¯ä¸€ä¸ªå®ƒå‡ºç°çš„åœ°æ–¹ï¼Œæ›¿æ¢æˆå®ƒåé¢æ‰€å†™çš„é‚£ä¸ªæ–‡ä»¶çš„å†…å®¹ã€‚ç®€å•çš„æ–‡æœ¬æ›¿æ¢ï¼Œåˆ«æ— å…¶ä»–ã€‚å› æ­¤ï¼Œmain.cpp æ–‡ä»¶ä¸­çš„ç¬¬ä¸€å¥ï¼ˆ#includeâ€math.hâ€ï¼‰ï¼Œåœ¨ç¼–è¯‘ä¹‹å‰å°±ä¼šè¢«æ›¿æ¢æˆ math.h æ–‡ä»¶çš„å†…å®¹ã€‚å³åœ¨ç¼–è¯‘è¿‡ç¨‹å°†è¦å¼€å§‹çš„æ—¶å€™ï¼Œmain.cpp çš„å†…å®¹å·²ç»å‘ç”Ÿäº†æ”¹å˜ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">/* ~main.cpp */</span><span class="token keyword">double</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">double</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> number1 <span class="token operator">=</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> number2 <span class="token operator">=</span> <span class="token function">f2</span><span class="token punctuation">(</span>number1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/* end of ~main.cpp */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸å¤šä¸å°‘ï¼Œåˆšåˆšå¥½ã€‚åŒç†å¯çŸ¥ï¼Œå¦‚æœæˆ‘ä»¬é™¤äº† main.cpp ä»¥å¤–ï¼Œè¿˜æœ‰å…¶ä»–çš„å¾ˆå¤š .cpp æ–‡ä»¶ä¹Ÿç”¨åˆ°äº† f1 å’Œ f2 å‡½æ•°çš„è¯ï¼Œé‚£ä¹ˆå®ƒä»¬ä¹Ÿé€šé€šåªéœ€è¦åœ¨ä½¿ç”¨è¿™ä¸¤ä¸ªå‡½æ•°å‰å†™ä¸Šä¸€å¥ #include â€œmath.hâ€ å°±è¡Œäº†ã€‚</p><br><h2 id="å››ã€å¤´æ–‡ä»¶ä¸­åº”è¯¥å†™ä»€ä¹ˆ"><a href="#å››ã€å¤´æ–‡ä»¶ä¸­åº”è¯¥å†™ä»€ä¹ˆ" class="headerlink" title="å››ã€å¤´æ–‡ä»¶ä¸­åº”è¯¥å†™ä»€ä¹ˆ:"></a>å››ã€å¤´æ–‡ä»¶ä¸­åº”è¯¥å†™ä»€ä¹ˆ:</h2><p>é€šè¿‡ä¸Šé¢çš„è®¨è®ºï¼Œæˆ‘ä»¬å¯ä»¥äº†è§£åˆ°ï¼Œ<font color=#D0087E size=4 face="å¹¼åœ†">å¤´æ–‡ä»¶çš„ä½œç”¨å°±æ˜¯è¢«å…¶ä»–çš„ .cpp åŒ…å«è¿›å»çš„ã€‚å®ƒä»¬æœ¬èº«å¹¶ä¸å‚ä¸ç¼–è¯‘ï¼Œä½†å®é™…ä¸Šï¼Œå®ƒä»¬çš„å†…å®¹å´åœ¨å¤šä¸ª .cpp æ–‡ä»¶ä¸­å¾—åˆ°äº†ç¼–è¯‘ã€‚</font>é€šè¿‡â€å®šä¹‰åªèƒ½æœ‰ä¸€æ¬¡â€çš„è§„åˆ™ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å¯ä»¥å¾—å‡ºï¼Œå¤´æ–‡ä»¶ä¸­åº”è¯¥åªæ”¾å˜é‡å’Œå‡½æ•°çš„å£°æ˜ï¼Œè€Œä¸èƒ½æ”¾å®ƒä»¬çš„å®šä¹‰ã€‚å› ä¸ºä¸€ä¸ªå¤´æ–‡ä»¶çš„å†…å®¹å®é™…ä¸Šæ˜¯ä¼šè¢«å¼•å…¥åˆ°å¤šä¸ªä¸åŒçš„ .cpp æ–‡ä»¶ä¸­çš„ï¼Œå¹¶ä¸”å®ƒä»¬éƒ½ä¼šè¢«ç¼–è¯‘ã€‚æ”¾å£°æ˜å½“ç„¶æ²¡äº‹ï¼Œå¦‚æœæ”¾äº†å®šä¹‰ï¼Œé‚£ä¹ˆä¹Ÿå°±ç›¸å½“äºåœ¨å¤šä¸ªæ–‡ä»¶ä¸­å‡ºç°äº†å¯¹äºä¸€ä¸ªç¬¦å·ï¼ˆå˜é‡æˆ–å‡½æ•°ï¼‰çš„å®šä¹‰ï¼Œçºµç„¶è¿™äº›å®šä¹‰éƒ½æ˜¯ç›¸åŒçš„ï¼Œä½†å¯¹äºç¼–è¯‘å™¨æ¥è¯´ï¼Œè¿™æ ·åšä¸åˆæ³•ã€‚</p><p>æ‰€ä»¥ï¼Œåº”è¯¥è®°ä½çš„ä¸€ç‚¹å°±æ˜¯ï¼Œ.hå¤´æ–‡ä»¶ä¸­ï¼Œåªèƒ½å­˜åœ¨å˜é‡æˆ–è€…å‡½æ•°çš„å£°æ˜ï¼Œè€Œä¸è¦æ”¾å®šä¹‰ã€‚å³ï¼Œåªèƒ½åœ¨å¤´æ–‡ä»¶ä¸­å†™å½¢å¦‚ï¼š<code>extern int a;</code> å’Œ <code>void f();</code> çš„å¥å­ã€‚è¿™äº›æ‰æ˜¯å£°æ˜ã€‚å¦‚æœå†™ä¸Š <code>int a;</code>æˆ–è€… <code>void f() &#123;&#125;</code> è¿™æ ·çš„å¥å­ï¼Œé‚£ä¹ˆä¸€æ—¦è¿™ä¸ªå¤´æ–‡ä»¶è¢«ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„ .cpp æ–‡ä»¶åŒ…å«çš„è¯ï¼Œç¼–è¯‘å™¨ä¼šç«‹é©¬æŠ¥é”™ã€‚ï¼ˆå…³äº <code>extern</code>ï¼Œå‰é¢æœ‰è®¨è®ºè¿‡ï¼Œè¿™é‡Œä¸å†è®¨è®ºå®šä¹‰è·Ÿå£°æ˜çš„åŒºåˆ«äº†ã€‚ï¼‰</p><p>ä½†æ˜¯ï¼Œè¿™ä¸ªè§„åˆ™æ˜¯æœ‰ä¸‰ä¸ªä¾‹å¤–çš„:</p><ul><li><font color=#D0087E size=4 face="å¹¼åœ†">ä¸€ï¼Œ<strong>å¤´æ–‡ä»¶ä¸­å¯ä»¥å†™ const å¯¹è±¡çš„å®šä¹‰ã€‚å› ä¸ºå…¨å±€çš„ const å¯¹è±¡é»˜è®¤æ˜¯æ²¡æœ‰ extern çš„å£°æ˜çš„ï¼Œæ‰€ä»¥å®ƒåªåœ¨å½“å‰æ–‡ä»¶ä¸­æœ‰æ•ˆã€‚</strong></font>æŠŠè¿™æ ·çš„å¯¹è±¡å†™è¿›å¤´æ–‡ä»¶ä¸­ï¼Œå³ä½¿å®ƒè¢«åŒ…å«åˆ°å…¶ä»–å¤šä¸ª .cpp æ–‡ä»¶ä¸­ï¼Œè¿™ä¸ªå¯¹è±¡ä¹Ÿéƒ½åªåœ¨åŒ…å«å®ƒçš„é‚£ä¸ªæ–‡ä»¶ä¸­æœ‰æ•ˆï¼Œå¯¹å…¶ä»–æ–‡ä»¶æ¥è¯´æ˜¯ä¸å¯è§çš„ï¼Œæ‰€ä»¥ä¾¿ä¸ä¼šå¯¼è‡´å¤šé‡å®šä¹‰ã€‚åŒæ—¶ï¼Œå› ä¸ºè¿™äº› .cpp æ–‡ä»¶ä¸­çš„è¯¥å¯¹è±¡éƒ½æ˜¯ä»ä¸€ä¸ªå¤´æ–‡ä»¶ä¸­åŒ…å«è¿›å»çš„ï¼Œè¿™æ ·ä¹Ÿå°±ä¿è¯äº†è¿™äº› .cpp æ–‡ä»¶ä¸­çš„è¿™ä¸ª const å¯¹è±¡çš„å€¼æ˜¯ç›¸åŒçš„ï¼Œå¯è°“ä¸€ä¸¾ä¸¤å¾—ã€‚<font color=#D0087E size=4 face="å¹¼åœ†"><strong>åŒç†ï¼Œstatic å¯¹è±¡çš„å®šä¹‰ä¹Ÿå¯ä»¥æ”¾è¿›å¤´æ–‡ä»¶ã€‚</strong></font></li><li>äºŒï¼Œå¤´æ–‡ä»¶ä¸­å¯ä»¥å†™å†…è”å‡½æ•°ï¼ˆinlineï¼‰çš„å®šä¹‰ã€‚å› ä¸ºinlineå‡½æ•°æ˜¯éœ€è¦ç¼–è¯‘å™¨åœ¨é‡åˆ°å®ƒçš„åœ°æ–¹æ ¹æ®å®ƒçš„å®šä¹‰æŠŠå®ƒå†…è”å±•å¼€çš„ï¼Œè€Œå¹¶éæ˜¯æ™®é€šå‡½æ•°é‚£æ ·å¯ä»¥å…ˆå£°æ˜å†é“¾æ¥çš„ï¼ˆå†…è”å‡½æ•°ä¸ä¼šé“¾æ¥ï¼‰ï¼Œæ‰€ä»¥ç¼–è¯‘å™¨å°±éœ€è¦åœ¨ç¼–è¯‘æ—¶çœ‹åˆ°å†…è”å‡½æ•°çš„å®Œæ•´å®šä¹‰æ‰è¡Œã€‚å¦‚æœå†…è”å‡½æ•°åƒæ™®é€šå‡½æ•°ä¸€æ ·åªèƒ½å®šä¹‰ä¸€æ¬¡çš„è¯ï¼Œè¿™äº‹å„¿å°±éš¾åŠäº†ã€‚å› ä¸ºåœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­è¿˜å¥½ï¼Œæˆ‘å¯ä»¥æŠŠå†…è”å‡½æ•°çš„å®šä¹‰å†™åœ¨æœ€å¼€å§‹ï¼Œè¿™æ ·å¯ä»¥ä¿è¯åé¢ä½¿ç”¨çš„æ—¶å€™éƒ½å¯ä»¥è§åˆ°å®šä¹‰ï¼›ä½†æ˜¯ï¼Œå¦‚æœæˆ‘åœ¨å…¶ä»–çš„æ–‡ä»¶ä¸­è¿˜ä½¿ç”¨åˆ°äº†è¿™ä¸ªå‡½æ•°é‚£æ€ä¹ˆåŠå‘¢ï¼Ÿè¿™å‡ ä¹æ²¡ä»€ä¹ˆå¤ªå¥½çš„è§£å†³åŠæ³•ï¼Œå› æ­¤ <strong>C++ è§„å®šï¼Œå†…è”å‡½æ•°å¯ä»¥åœ¨ç¨‹åºä¸­å®šä¹‰å¤šæ¬¡ï¼Œ</strong>åªè¦å†…è”å‡½æ•°åœ¨ä¸€ä¸ª .cpp æ–‡ä»¶ä¸­åªå‡ºç°ä¸€æ¬¡ï¼Œå¹¶ä¸”åœ¨æ‰€æœ‰çš„ .cpp æ–‡ä»¶ä¸­ï¼Œè¿™ä¸ªå†…è”å‡½æ•°çš„å®šä¹‰æ˜¯ä¸€æ ·çš„ï¼Œå°±èƒ½é€šè¿‡ç¼–è¯‘ã€‚é‚£ä¹ˆæ˜¾ç„¶ï¼ŒæŠŠå†…è”å‡½æ•°çš„å®šä¹‰æ”¾è¿›ä¸€ä¸ªå¤´æ–‡ä»¶ä¸­æ˜¯éå¸¸æ˜æ™ºçš„åšæ³•ã€‚</li><li>ä¸‰ï¼Œå¤´æ–‡ä»¶ä¸­å¯ä»¥å†™ç±»ï¼ˆclassï¼‰çš„å®šä¹‰ã€‚å› ä¸ºåœ¨ç¨‹åºä¸­åˆ›å»ºä¸€ä¸ªç±»çš„å¯¹è±¡æ—¶ï¼Œç¼–è¯‘å™¨åªæœ‰åœ¨è¿™ä¸ªç±»çš„å®šä¹‰å®Œå…¨å¯è§çš„æƒ…å†µä¸‹ï¼Œæ‰èƒ½çŸ¥é“è¿™ä¸ªç±»çš„å¯¹è±¡åº”è¯¥å¦‚ä½•å¸ƒå±€ï¼Œæ‰€ä»¥ï¼Œå…³äºç±»çš„å®šä¹‰çš„è¦æ±‚ï¼Œè·Ÿå†…è”å‡½æ•°æ˜¯åŸºæœ¬ä¸€æ ·çš„ã€‚æ‰€ä»¥æŠŠç±»çš„å®šä¹‰æ”¾è¿›å¤´æ–‡ä»¶ï¼Œåœ¨ä½¿ç”¨åˆ°è¿™ä¸ªç±»çš„ .cpp æ–‡ä»¶ä¸­å»åŒ…å«è¿™ä¸ªå¤´æ–‡ä»¶ï¼Œæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„åšæ³•ã€‚åœ¨è¿™é‡Œï¼Œå€¼å¾—ä¸€æçš„æ˜¯ï¼Œç±»çš„å®šä¹‰ä¸­åŒ…å«ç€æ•°æ®æˆå‘˜å’Œå‡½æ•°æˆå‘˜ã€‚æ•°æ®æˆå‘˜æ˜¯è¦ç­‰åˆ°å…·ä½“çš„å¯¹è±¡è¢«åˆ›å»ºæ—¶æ‰ä¼šè¢«å®šä¹‰ï¼ˆåˆ†é…ç©ºé—´ï¼‰ï¼Œä½†å‡½æ•°æˆå‘˜å´æ˜¯éœ€è¦åœ¨ä¸€å¼€å§‹å°±è¢«å®šä¹‰çš„ï¼Œè¿™ä¹Ÿå°±æ˜¯æˆ‘ä»¬é€šå¸¸æ‰€è¯´çš„ç±»çš„å®ç°ã€‚ä¸€èˆ¬ï¼Œæˆ‘ä»¬çš„åšæ³•æ˜¯ï¼ŒæŠŠç±»çš„å®šä¹‰æ”¾åœ¨å¤´æ–‡ä»¶ä¸­ï¼Œè€ŒæŠŠå‡½æ•°æˆå‘˜çš„å®ç°ä»£ç æ”¾åœ¨ä¸€ä¸ª .cpp æ–‡ä»¶ä¸­ã€‚è¿™æ˜¯å¯ä»¥çš„ï¼Œä¹Ÿæ˜¯å¾ˆå¥½çš„åŠæ³•ã€‚ä¸è¿‡ï¼Œè¿˜æœ‰å¦ä¸€ç§åŠæ³•ã€‚é‚£å°±æ˜¯ç›´æ¥æŠŠå‡½æ•°æˆå‘˜çš„å®ç°ä»£ç ä¹Ÿå†™è¿›ç±»å®šä¹‰é‡Œé¢ã€‚<strong>åœ¨ C++ çš„ç±»ä¸­ï¼Œå¦‚æœå‡½æ•°æˆå‘˜åœ¨ç±»çš„å®šä¹‰ä½“ä¸­è¢«å®šä¹‰ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨ä¼šè§†è¿™ä¸ªå‡½æ•°ä¸ºå†…è”çš„ã€‚å› æ­¤ï¼ŒæŠŠå‡½æ•°æˆå‘˜çš„å®šä¹‰å†™è¿›ç±»å®šä¹‰ä½“ï¼Œä¸€èµ·æ”¾è¿›å¤´æ–‡ä»¶ä¸­ï¼Œæ˜¯åˆæ³•çš„ã€‚</strong>æ³¨æ„ä¸€ä¸‹ï¼Œ<strong>å¦‚æœæŠŠå‡½æ•°æˆå‘˜çš„å®šä¹‰å†™åœ¨ç±»å®šä¹‰çš„å¤´æ–‡ä»¶ä¸­ï¼Œè€Œæ²¡æœ‰å†™è¿›ç±»å®šä¹‰ä¸­ï¼Œè¿™æ˜¯ä¸åˆæ³•çš„ï¼Œå› ä¸ºè¿™ä¸ªå‡½æ•°æˆå‘˜æ­¤æ—¶å°±ä¸æ˜¯å†…è”çš„äº†ã€‚ä¸€æ—¦å¤´æ–‡ä»¶è¢«ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„ .cpp æ–‡ä»¶åŒ…å«ï¼Œè¿™ä¸ªå‡½æ•°æˆå‘˜å°±è¢«é‡å®šä¹‰äº†ã€‚</strong></li></ul><br><h2 id="äº”ã€å¤´æ–‡ä»¶ä¸­çš„ä¿æŠ¤æªæ–½"><a href="#äº”ã€å¤´æ–‡ä»¶ä¸­çš„ä¿æŠ¤æªæ–½" class="headerlink" title="äº”ã€å¤´æ–‡ä»¶ä¸­çš„ä¿æŠ¤æªæ–½:"></a>äº”ã€å¤´æ–‡ä»¶ä¸­çš„ä¿æŠ¤æªæ–½:</h2><p>è€ƒè™‘ä¸€ä¸‹ï¼Œå¦‚æœå¤´æ–‡ä»¶ä¸­åªåŒ…å«å£°æ˜è¯­å¥çš„è¯ï¼Œå®ƒè¢«åŒä¸€ä¸ª .cpp æ–‡ä»¶åŒ…å«å†å¤šæ¬¡éƒ½æ²¡é—®é¢˜â€”â€”å› ä¸ºå£°æ˜è¯­å¥çš„å‡ºç°æ˜¯ä¸å—é™åˆ¶çš„ã€‚ç„¶è€Œï¼Œä¸Šé¢è®¨è®ºåˆ°çš„å¤´æ–‡ä»¶ä¸­çš„ä¸‰ä¸ªä¾‹å¤–ä¹Ÿæ˜¯å¤´æ–‡ä»¶å¾ˆå¸¸ç”¨çš„ä¸€ä¸ªç”¨å¤„ã€‚é‚£ä¹ˆï¼Œä¸€æ—¦ä¸€ä¸ªå¤´æ–‡ä»¶ä¸­å‡ºç°äº†ä¸Šé¢ä¸‰ä¸ªä¾‹å¤–ä¸­çš„ä»»ä½•ä¸€ä¸ªï¼Œå®ƒå†è¢«ä¸€ä¸ª .cpp åŒ…å«å¤šæ¬¡çš„è¯ï¼Œé—®é¢˜å°±å¤§äº†ã€‚å› ä¸ºè¿™ä¸‰ä¸ªä¾‹å¤–ä¸­çš„è¯­æ³•å…ƒç´ è™½ç„¶â€å¯ä»¥å®šä¹‰åœ¨å¤šä¸ªæºæ–‡ä»¶ä¸­â€ï¼Œä½†æ˜¯â€åœ¨ä¸€ä¸ªæºæ–‡ä»¶ä¸­åªèƒ½å‡ºç°ä¸€æ¬¡â€ã€‚è®¾æƒ³ä¸€ä¸‹ï¼Œå¦‚æœ a.h ä¸­å«æœ‰ç±» A çš„å®šä¹‰ï¼Œb.h ä¸­å«æœ‰ç±» B çš„å®šä¹‰ï¼Œç”±äºç±»Bçš„å®šä¹‰ä¾èµ–äº†ç±» Aï¼Œæ‰€ä»¥ b.h ä¸­ä¹Ÿ #includeäº†a.hã€‚ç°åœ¨æœ‰ä¸€ä¸ªæºæ–‡ä»¶ï¼Œå®ƒåŒæ—¶ç”¨åˆ°äº†ç±»Aå’Œç±»Bï¼Œäºæ˜¯ç¨‹åºå‘˜åœ¨è¿™ä¸ªæºæ–‡ä»¶ä¸­æ—¢æŠŠ a.h åŒ…å«è¿›æ¥äº†ï¼Œä¹ŸæŠŠ b.h åŒ…å«è¿›æ¥äº†ã€‚è¿™æ—¶ï¼Œé—®é¢˜å°±æ¥äº†ï¼šç±»Açš„å®šä¹‰åœ¨è¿™ä¸ªæºæ–‡ä»¶ä¸­å‡ºç°äº†ä¸¤æ¬¡ï¼äºæ˜¯æ•´ä¸ªç¨‹åºå°±ä¸èƒ½é€šè¿‡ç¼–è¯‘äº†ã€‚ä½ ä¹Ÿè®¸ä¼šè®¤ä¸ºè¿™æ˜¯ç¨‹åºå‘˜çš„å¤±è¯¯â€”â€”ä»–åº”è¯¥çŸ¥é“ b.h åŒ…å«äº† a.h â€”â€”ä½†äº‹å®ä¸Šä»–ä¸åº”è¯¥çŸ¥é“ã€‚</p><p>ä½¿ç”¨ â€œ#defineâ€ é…åˆæ¡ä»¶ç¼–è¯‘å¯ä»¥å¾ˆå¥½åœ°è§£å†³è¿™ä¸ªé—®é¢˜ã€‚åœ¨ä¸€ä¸ªå¤´æ–‡ä»¶ä¸­ï¼Œé€šè¿‡ #define å®šä¹‰ä¸€ä¸ªåå­—ï¼Œå¹¶ä¸”é€šè¿‡æ¡ä»¶ç¼–è¯‘ #ifndefâ€¦#endif ä½¿å¾—ç¼–è¯‘å™¨å¯ä»¥æ ¹æ®è¿™ä¸ªåå­—æ˜¯å¦è¢«å®šä¹‰ï¼Œå†å†³å®šè¦ä¸è¦ç»§ç»­ç¼–è¯‘è¯¥å¤´æ–‡ä¸­åç»­çš„å†…å®¹ã€‚è¿™ä¸ªæ–¹æ³•è™½ç„¶ç®€å•ï¼Œä½†æ˜¯å†™å¤´æ–‡ä»¶æ—¶ä¸€å®šè®°å¾—å†™è¿›å»ã€‚</p><br><h2 id="C-å¤´æ–‡ä»¶å’Œæºæ–‡ä»¶çš„åŒºåˆ«"><a href="#C-å¤´æ–‡ä»¶å’Œæºæ–‡ä»¶çš„åŒºåˆ«" class="headerlink" title="C++ å¤´æ–‡ä»¶å’Œæºæ–‡ä»¶çš„åŒºåˆ«:"></a>C++ å¤´æ–‡ä»¶å’Œæºæ–‡ä»¶çš„åŒºåˆ«:</h2><h3 id="ä¸€ã€æºæ–‡ä»¶å¦‚ä½•æ ¹æ®-include-æ¥å…³è”å¤´æ–‡ä»¶"><a href="#ä¸€ã€æºæ–‡ä»¶å¦‚ä½•æ ¹æ®-include-æ¥å…³è”å¤´æ–‡ä»¶" class="headerlink" title="ä¸€ã€æºæ–‡ä»¶å¦‚ä½•æ ¹æ® #include æ¥å…³è”å¤´æ–‡ä»¶"></a>ä¸€ã€æºæ–‡ä»¶å¦‚ä½•æ ¹æ® #include æ¥å…³è”å¤´æ–‡ä»¶</h3><ul><li>1ã€ç³»ç»Ÿè‡ªå¸¦çš„å¤´æ–‡ä»¶ç”¨å°–æ‹¬å·æ‹¬èµ·æ¥ï¼Œè¿™æ ·ç¼–è¯‘å™¨ä¼šåœ¨ç³»ç»Ÿæ–‡ä»¶ç›®å½•ä¸‹æŸ¥æ‰¾ã€‚</li><li>2ã€ç”¨æˆ·è‡ªå®šä¹‰çš„æ–‡ä»¶ç”¨åŒå¼•å·æ‹¬èµ·æ¥ï¼Œç¼–è¯‘å™¨é¦–å…ˆä¼šåœ¨ç”¨æˆ·ç›®å½•ä¸‹æŸ¥æ‰¾ï¼Œç„¶ååœ¨åˆ° C++ å®‰è£…ç›®å½•ï¼ˆæ¯”å¦‚ VC ä¸­å¯ä»¥æŒ‡å®šå’Œä¿®æ”¹åº“æ–‡ä»¶æŸ¥æ‰¾è·¯å¾„ï¼ŒUnix å’Œ Linux ä¸­å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡æ¥è®¾å®šï¼‰ä¸­æŸ¥æ‰¾ï¼Œæœ€ååœ¨ç³»ç»Ÿæ–‡ä»¶ä¸­æŸ¥æ‰¾ã€‚</li></ul><p>#include â€œxxx.hâ€ï¼ˆæˆ‘ä¸€ç›´ä»¥ä¸º â€œâ€ å’Œ &lt;&gt; æ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œä½†æ˜¯ tinyxml.h æ˜¯éç³»ç»Ÿä¸‹çš„éƒ½æ–‡ä»¶ï¼Œæ‰€ä»¥è¦ç”¨ â€œâ€ï¼‰</p><h3 id="äºŒã€å¤´æ–‡ä»¶å¦‚ä½•æ¥å…³è”æºæ–‡ä»¶"><a href="#äºŒã€å¤´æ–‡ä»¶å¦‚ä½•æ¥å…³è”æºæ–‡ä»¶" class="headerlink" title="äºŒã€å¤´æ–‡ä»¶å¦‚ä½•æ¥å…³è”æºæ–‡ä»¶"></a>äºŒã€å¤´æ–‡ä»¶å¦‚ä½•æ¥å…³è”æºæ–‡ä»¶</h3><p>è¿™ä¸ªé—®é¢˜å®é™…ä¸Šæ˜¯è¯´ï¼Œå·²çŸ¥å¤´æ–‡ä»¶ â€œa.hâ€ å£°æ˜äº†ä¸€ç³»åˆ—å‡½æ•°ï¼Œâ€b.cppâ€ ä¸­å®ç°äº†è¿™äº›å‡½æ•°ï¼Œé‚£ä¹ˆå¦‚æœæˆ‘æƒ³åœ¨ â€œc.cppâ€ ä¸­ä½¿ç”¨ â€œa.hâ€ ä¸­å£°æ˜çš„è¿™äº›åœ¨ â€œb.cppâ€ä¸­å®ç°çš„å‡½æ•°ï¼Œé€šå¸¸éƒ½æ˜¯åœ¨ â€œc.cppâ€ ä¸­ä½¿ç”¨ #include â€œa.hâ€ï¼Œé‚£ä¹ˆ c.cpp æ˜¯æ€æ ·æ‰¾åˆ° b.cpp ä¸­çš„å®ç°å‘¢ï¼Ÿ</p><p><font color=#D0087E size=4 face="å¹¼åœ†">å…¶å® .cpp å’Œ .h æ–‡ä»¶åç§°æ²¡æœ‰ä»»ä½•ç›´æ¥å…³ç³»ï¼Œå¾ˆå¤šç¼–è¯‘å™¨éƒ½å¯ä»¥æ¥å—å…¶ä»–æ‰©å±•åã€‚æ¯”å¦‚å¶ç°åœ¨çœ‹åˆ°å¶ä»¬å…¬å¸çš„æºä»£ç ï¼Œ.cpp æ–‡ä»¶ç”± .cc æ–‡ä»¶æ›¿ä»£äº†ã€‚</font></p><p>åœ¨ Turbo C ä¸­ï¼Œé‡‡ç”¨å‘½ä»¤è¡Œæ–¹å¼è¿›è¡Œç¼–è¯‘ï¼Œå‘½ä»¤è¡Œå‚æ•°ä¸ºæ–‡ä»¶çš„åç§°ï¼Œé»˜è®¤çš„æ˜¯ .cpp å’Œ .hï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ä¸º .xxx ç­‰ç­‰ã€‚</p><p>è°­æµ©å¼ºè€å¸ˆçš„ã€ŠC ç¨‹åºè®¾è®¡ã€‹ä¸€ä¹¦ä¸­æåˆ°ï¼Œç¼–è¯‘å™¨é¢„å¤„ç†æ—¶ï¼Œè¦å¯¹ #include å‘½ä»¤è¿›è¡Œâ€æ–‡ä»¶åŒ…å«å¤„ç†â€ï¼šå°† file2.c çš„å…¨éƒ¨å†…å®¹å¤åˆ¶åˆ° #include â€œfile2.câ€ å¤„ã€‚è¿™ä¹Ÿæ­£è¯´æ˜äº†ï¼Œä¸ºä»€ä¹ˆ<font color=#D0087E size=4 face="å¹¼åœ†">å¾ˆå¤šç¼–è¯‘å™¨å¹¶ä¸ care åˆ°åº•è¿™ä¸ªæ–‡ä»¶çš„åç¼€åæ˜¯ä»€ä¹ˆâ€”-å› ä¸º #include é¢„å¤„ç†å°±æ˜¯å®Œæˆäº†ä¸€ä¸ªâ€å¤åˆ¶å¹¶æ’å…¥ä»£ç â€çš„å·¥ä½œã€‚</font></p><p><strong>ç¼–è¯‘çš„æ—¶å€™ï¼Œå¹¶ä¸ä¼šå»æ‰¾ b.cpp æ–‡ä»¶ä¸­çš„å‡½æ•°å®ç°ï¼Œåªæœ‰åœ¨ link çš„æ—¶å€™æ‰è¿›è¡Œè¿™ä¸ªå·¥ä½œ</strong>ã€‚æˆ‘ä»¬åœ¨ b.cpp æˆ– c.cpp ä¸­ç”¨ #include â€œa.hâ€ å®é™…ä¸Šæ˜¯å¼•å…¥ç›¸å…³å£°æ˜ï¼Œä½¿å¾—ç¼–è¯‘å¯ä»¥é€šè¿‡ï¼Œç¨‹åºå¹¶ä¸å…³å¿ƒå®ç°æ˜¯åœ¨å“ªé‡Œï¼Œæ˜¯æ€ä¹ˆå®ç°çš„ã€‚æºæ–‡ä»¶ç¼–è¯‘åæˆç”Ÿäº†ç›®æ ‡æ–‡ä»¶ï¼ˆ.o æˆ– .obj æ–‡ä»¶ï¼‰ï¼Œç›®æ ‡æ–‡ä»¶ä¸­ï¼Œè¿™äº›å‡½æ•°å’Œå˜é‡å°±è§†ä½œä¸€ä¸ªä¸ªç¬¦å·ã€‚åœ¨ link çš„æ—¶å€™ï¼Œéœ€è¦åœ¨ makefile é‡Œé¢è¯´æ˜éœ€è¦è¿æ¥å“ªä¸ª .o æˆ– .obj æ–‡ä»¶ï¼ˆåœ¨è¿™é‡Œæ˜¯ b.cpp ç”Ÿæˆçš„ .o æˆ– .obj æ–‡ä»¶ï¼‰ï¼Œæ­¤æ—¶ï¼Œè¿æ¥å™¨ä¼šå»è¿™ä¸ª .o æˆ– .obj æ–‡ä»¶ä¸­æ‰¾åœ¨ b.cpp ä¸­å®ç°çš„å‡½æ•°ï¼Œå†æŠŠä»–ä»¬ build åˆ° makefile ä¸­æŒ‡å®šçš„é‚£ä¸ªå¯ä»¥æ‰§è¡Œæ–‡ä»¶ä¸­ã€‚</p><p>åœ¨ Unixä¸‹ï¼Œç”šè‡³å¯ä»¥ä¸åœ¨æºæ–‡ä»¶ä¸­åŒ…æ‹¬å¤´æ–‡ä»¶ï¼Œåªéœ€è¦åœ¨ makefile ä¸­æŒ‡åå³å¯ï¼ˆä¸è¿‡è¿™æ ·å¤§å¤§é™ä½äº†ç¨‹åºå¯è¯»æ€§ï¼Œæ˜¯ä¸ªä¸å¥½çš„ä¹ æƒ¯å“¦^_^ï¼‰ã€‚åœ¨ VC ä¸­ï¼Œä¸€å¸®æƒ…å†µä¸‹ä¸éœ€è¦è‡ªå·±å†™ makefileï¼Œåªéœ€è¦å°†éœ€è¦çš„æ–‡ä»¶éƒ½åŒ…æ‹¬åœ¨ projectä¸­ï¼ŒVC ä¼šè‡ªåŠ¨å¸®ä½ æŠŠ makefile å†™å¥½ã€‚</p><p>é€šå¸¸ï¼ŒC++ ç¼–è¯‘å™¨ä¼šåœ¨æ¯ä¸ª .o æˆ– .obj æ–‡ä»¶ä¸­éƒ½å»æ‰¾ä¸€ä¸‹æ‰€éœ€è¦çš„ç¬¦å·ï¼Œè€Œä¸æ˜¯åªåœ¨æŸä¸ªæ–‡ä»¶ä¸­æ‰¾æˆ–è€…è¯´æ‰¾åˆ°ä¸€ä¸ªå°±ä¸æ‰¾äº†ã€‚å› æ­¤ï¼Œå¦‚æœåœ¨å‡ ä¸ªä¸åŒæ–‡ä»¶ä¸­å®ç°äº†åŒä¸€ä¸ªå‡½æ•°ï¼Œæˆ–è€…å®šä¹‰äº†åŒä¸€ä¸ªå…¨å±€å˜é‡ï¼Œé“¾æ¥çš„æ—¶å€™å°±ä¼šæç¤º â€œredefinedâ€ã€‚</p><h3 id="ç»¼ä¸Šæ‰€è¯‰"><a href="#ç»¼ä¸Šæ‰€è¯‰" class="headerlink" title="ç»¼ä¸Šæ‰€è¯‰:"></a>ç»¼ä¸Šæ‰€è¯‰:</h3><p><strong>.hæ–‡ä»¶ä¸­èƒ½åŒ…å«ï¼š</strong></p><ul><li>ç±»æˆå‘˜æ•°æ®çš„å£°æ˜ï¼Œä½†ä¸èƒ½èµ‹å€¼</li><li>ç±»é™æ€æ•°æ®æˆå‘˜çš„å®šä¹‰å’Œèµ‹å€¼ï¼Œä½†ä¸å»ºè®®ï¼Œåªæ˜¯ä¸ªå£°æ˜å°±å¥½ã€‚</li><li>ç±»çš„æˆå‘˜å‡½æ•°çš„å£°æ˜</li><li>éç±»æˆå‘˜å‡½æ•°çš„å£°æ˜</li><li>å¸¸æ•°çš„å®šä¹‰ï¼šå¦‚ï¼šconstint a&#x3D;5;</li><li>é™æ€å‡½æ•°çš„å®šä¹‰</li><li>ç±»çš„å†…è”å‡½æ•°çš„å®šä¹‰</li></ul><p><strong>ä¸èƒ½åŒ…å«ï¼š</strong></p><ul><li>1ï¼ æ‰€æœ‰éé™æ€å˜é‡ï¼ˆä¸æ˜¯ç±»çš„æ•°æ®æˆå‘˜ï¼‰çš„å£°æ˜</li><li>2ã€‚ é»˜è®¤å‘½åç©ºé—´å£°æ˜ä¸è¦æ”¾åœ¨å¤´æ–‡ä»¶ï¼Œusing namespace std;ç­‰åº”æ”¾åœ¨.cppä¸­ï¼Œåœ¨ .h æ–‡ä»¶ä¸­ä½¿ç”¨ std::string</li></ul><br><p><strong>è½¬è½½åŸæ–‡ï¼š</strong><a href="https://www.runoob.com/w3cnote/cpp-header.html">ç†è§£ C++ ä¸­çš„å¤´æ–‡ä»¶å’Œæºæ–‡ä»¶çš„ä½œç”¨</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºä¸€ æŠ€æ³• </category>
          
          <category> å­¦ä¹  - åº•å±‚å…¼æ¶æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åŸç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cè¯­è¨€ä¸­çš„ staticå˜é‡ï¼ˆå…¨å±€å’Œå±€éƒ¨ï¼‰ã€staticå‡½æ•°æ€»ç»“</title>
      <link href="/posts/cbffd676/"/>
      <url>/posts/cbffd676/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong>  Cè¯­è¨€ä¸­çš„ <strong>static</strong>å˜é‡ï¼ˆ<strong>å…¨å±€</strong>å’Œ<strong>å±€éƒ¨</strong>ï¼‰ã€<strong>static</strong>å‡½æ•°æ€»ç»“</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ç®€è¿°ï¼š"><a href="#ç®€è¿°ï¼š" class="headerlink" title="ç®€è¿°ï¼š"></a>ç®€è¿°ï¼š</h2><p>â€‹<strong>è¯¦æƒ…ï¼š</strong>  è§ç®€ä»‹</p><br><h2 id="static-å˜é‡"><a href="#static-å˜é‡" class="headerlink" title="static å˜é‡:"></a>static å˜é‡:</h2><p>é™æ€å˜é‡çš„ç±»å‹ è¯´æ˜ç¬¦æ˜¯staticã€‚ é™æ€å˜é‡å½“ç„¶æ˜¯å±äºé™æ€å­˜å‚¨æ–¹å¼ï¼Œä½†æ˜¯å±äºé™æ€å­˜å‚¨æ–¹å¼çš„é‡ä¸ä¸€å®šå°±æ˜¯é™æ€å˜é‡ã€‚ ä¾‹å¦‚å¤–éƒ¨å˜é‡è™½å±äºé™æ€ å­˜å‚¨æ–¹å¼ï¼Œä½†ä¸ä¸€å®šæ˜¯é™æ€å˜é‡ï¼Œå¿…é¡»ç”± staticåŠ ä»¥å®šä¹‰åæ‰èƒ½æˆä¸ºé™æ€å¤–éƒ¨å˜é‡ï¼Œæˆ–ç§°é™æ€å…¨å±€å˜é‡ã€‚</p><h3 id="é™æ€å±€éƒ¨å˜é‡"><a href="#é™æ€å±€éƒ¨å˜é‡" class="headerlink" title="é™æ€å±€éƒ¨å˜é‡:"></a>é™æ€å±€éƒ¨å˜é‡:</h3><p>é™æ€å±€éƒ¨å˜é‡å±äºé™æ€å­˜å‚¨æ–¹å¼ï¼Œå®ƒå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š<br>ã€€ã€€(1)é™æ€å±€éƒ¨å˜é‡åœ¨å‡½æ•°å†…å®šä¹‰ å®ƒçš„ç”Ÿå­˜æœŸä¸ºæ•´ä¸ªæºç¨‹åºï¼Œä½†æ˜¯å…¶ä½œç”¨åŸŸä»ä¸è‡ªåŠ¨å˜é‡ç›¸åŒï¼Œåªèƒ½åœ¨å®šä¹‰è¯¥å˜é‡çš„å‡½æ•°å†…ä½¿ç”¨è¯¥å˜é‡ã€‚é€€å‡ºè¯¥å‡½æ•°åï¼Œ å°½ç®¡è¯¥å˜é‡è¿˜ç»§ç»­å­˜åœ¨ï¼Œä½†ä¸èƒ½ä½¿ç”¨å®ƒã€‚<br>ã€€ã€€(2)å…è®¸å¯¹æ„é€ ç±»é™æ€å±€éƒ¨é‡èµ‹åˆå€¼ ä¾‹å¦‚æ•°ç»„ï¼Œè‹¥æœªèµ‹ä»¥åˆå€¼ï¼Œåˆ™ç”±ç³»ç»Ÿè‡ªåŠ¨èµ‹ä»¥0å€¼ã€‚<br>ã€€ã€€(3)å¯¹åŸºæœ¬ç±»å‹çš„é™æ€å±€éƒ¨å˜é‡è‹¥åœ¨è¯´æ˜æ—¶æœªèµ‹ä»¥åˆå€¼ï¼Œåˆ™ç³»ç»Ÿè‡ªåŠ¨èµ‹äºˆ0å€¼ã€‚è€Œå¯¹è‡ªåŠ¨å˜é‡ä¸èµ‹åˆå€¼ï¼Œåˆ™å…¶å€¼æ˜¯ä¸å®šçš„ã€‚ æ ¹æ®é™æ€å±€éƒ¨å˜é‡çš„ç‰¹ç‚¹ï¼Œ å¯ä»¥ çœ‹å‡ºå®ƒæ˜¯ä¸€ç§ç”Ÿå­˜æœŸä¸ºæ•´ä¸ªæºç¨‹åºçš„é‡ã€‚è™½ç„¶ç¦»å¼€å®šä¹‰å®ƒçš„å‡½æ•°åä¸èƒ½ä½¿ç”¨ï¼Œä½†å¦‚å†æ¬¡è°ƒç”¨å®šä¹‰å®ƒçš„å‡½æ•°æ—¶ï¼Œå®ƒåˆå¯ç»§ç»­ä½¿ç”¨ï¼Œ è€Œä¸”ä¿å­˜äº†å‰æ¬¡è¢«è°ƒç”¨åç•™ä¸‹çš„ å€¼ã€‚ å› æ­¤ï¼Œå½“å¤šæ¬¡è°ƒç”¨ä¸€ä¸ªå‡½æ•°ä¸”è¦æ±‚åœ¨è°ƒç”¨ä¹‹é—´ä¿ç•™æŸäº›å˜é‡çš„å€¼æ—¶ï¼Œå¯è€ƒè™‘é‡‡ç”¨é™æ€å±€éƒ¨å˜é‡ã€‚è™½ç„¶ç”¨å…¨å±€å˜é‡ä¹Ÿå¯ä»¥è¾¾åˆ°ä¸Šè¿°ç›®çš„ï¼Œä½†å…¨å±€å˜é‡æœ‰æ—¶ä¼šé€ æˆ æ„å¤–çš„å‰¯ä½œç”¨ï¼Œå› æ­¤ä»ä»¥é‡‡ç”¨å±€éƒ¨é™æ€å˜é‡ä¸ºå®œã€‚</p><h3 id="é™æ€å…¨å±€å˜é‡"><a href="#é™æ€å…¨å±€å˜é‡" class="headerlink" title="é™æ€å…¨å±€å˜é‡:"></a>é™æ€å…¨å±€å˜é‡:</h3><p>ã€€ã€€å…¨å±€å˜é‡(å¤–éƒ¨å˜é‡)çš„è¯´æ˜ä¹‹å‰å†å† ä»¥static å°±æ„ æˆäº†é™æ€çš„å…¨å±€å˜é‡ã€‚å…¨å±€å˜é‡æœ¬èº«å°±æ˜¯é™æ€å­˜å‚¨æ–¹å¼ï¼Œ é™æ€å…¨å±€å˜é‡å½“ç„¶ä¹Ÿæ˜¯é™æ€å­˜å‚¨æ–¹å¼ã€‚ è¿™ä¸¤è€…åœ¨å­˜å‚¨æ–¹å¼ä¸Šå¹¶æ— ä¸åŒã€‚è¿™ä¸¤è€…çš„åŒºåˆ«è™½åœ¨äºéé™æ€å…¨å±€ å˜é‡çš„ä½œç”¨åŸŸæ˜¯æ•´ä¸ªæºç¨‹åºï¼Œ å½“ä¸€ä¸ªæºç¨‹åºç”±å¤šä¸ªæºæ–‡ä»¶ç»„æˆæ—¶ï¼Œéé™æ€çš„å…¨å±€å˜é‡åœ¨å„ä¸ªæºæ–‡ä»¶ä¸­éƒ½æ˜¯æœ‰æ•ˆçš„ã€‚ <font color=#D0087E size=4 face="å¹¼åœ†">è€Œé™æ€å…¨å±€å˜é‡åˆ™é™åˆ¶äº†å…¶ä½œç”¨åŸŸï¼Œ å³åªåœ¨ å®šä¹‰è¯¥å˜é‡çš„æºæ–‡ä»¶å†…æœ‰æ•ˆ</font>ï¼Œ åœ¨åŒä¸€æºç¨‹åºçš„å…¶å®ƒæºæ–‡ä»¶ä¸­ä¸èƒ½ä½¿ç”¨å®ƒã€‚ç”±äºé™æ€å…¨å±€å˜é‡çš„ä½œç”¨åŸŸå±€é™äºä¸€ä¸ªæºæ–‡ä»¶å†…ï¼Œåªèƒ½ä¸ºè¯¥æºæ–‡ä»¶å†…çš„å‡½æ•°å…¬ç”¨ï¼Œ å› æ­¤ å¯ä»¥é¿å…åœ¨å…¶å®ƒæºæ–‡ä»¶ä¸­å¼•èµ·é”™è¯¯ã€‚ä»ä»¥ä¸Šåˆ†æå¯ä»¥çœ‹å‡ºï¼Œ æŠŠå±€éƒ¨å˜é‡æ”¹å˜ä¸ºé™æ€å˜é‡åæ˜¯æ”¹å˜äº†å®ƒçš„å­˜å‚¨æ–¹å¼å³æ”¹å˜äº†å®ƒçš„ç”Ÿå­˜æœŸã€‚æŠŠå…¨å±€å˜é‡æ”¹å˜ä¸ºé™æ€å˜é‡ åæ˜¯æ”¹å˜äº†å®ƒçš„ä½œç”¨åŸŸï¼Œ é™åˆ¶äº†å®ƒçš„ä½¿ç”¨èŒƒå›´ã€‚å› æ­¤static è¿™ä¸ªè¯´æ˜ç¬¦åœ¨ä¸åŒçš„åœ°æ–¹æ‰€èµ·çš„ä½œç”¨æ˜¯ä¸åŒçš„ã€‚</p><h2 id="static-å‡½æ•°â€¦"><a href="#static-å‡½æ•°â€¦" class="headerlink" title="static å‡½æ•°â€¦..:"></a>static å‡½æ•°â€¦..:</h2><p>å†…éƒ¨å‡½æ•°å’Œå¤–éƒ¨å‡½æ•°<br>ã€€ã€€å½“ä¸€ä¸ªæºç¨‹åºç”±å¤šä¸ªæºæ–‡ä»¶ç»„æˆæ—¶ï¼Œï¼£è¯­è¨€æ ¹æ®å‡½æ•°èƒ½å¦è¢«å…¶å®ƒæºæ–‡ä»¶ä¸­çš„å‡½æ•°è°ƒç”¨ï¼Œå°†å‡½æ•°åˆ†ä¸ºå†…éƒ¨å‡½æ•°å’Œå¤–éƒ¨å‡½æ•°ã€‚</p><h3 id="å†…éƒ¨å‡½æ•°ï¼ˆåˆç§°é™æ€å‡½æ•°ï¼‰"><a href="#å†…éƒ¨å‡½æ•°ï¼ˆåˆç§°é™æ€å‡½æ•°ï¼‰" class="headerlink" title="å†…éƒ¨å‡½æ•°ï¼ˆåˆç§°é™æ€å‡½æ•°ï¼‰:"></a>å†…éƒ¨å‡½æ•°ï¼ˆåˆç§°é™æ€å‡½æ•°ï¼‰:</h3><p>ã€€ã€€å¦‚æœåœ¨ä¸€ä¸ªæºæ–‡ä»¶ä¸­å®šä¹‰çš„å‡½æ•°ï¼Œåªèƒ½è¢«æœ¬æ–‡ä»¶ä¸­çš„å‡½æ•°è°ƒç”¨ï¼Œè€Œä¸èƒ½è¢«åŒä¸€ç¨‹åºå…¶å®ƒæ–‡ä»¶ä¸­çš„å‡½æ•°è°ƒç”¨ï¼Œè¿™ç§å‡½æ•°ç§°ä¸ºå†…éƒ¨å‡½æ•°ã€‚<br>ã€€ã€€å®šä¹‰ä¸€ä¸ªå†…éƒ¨å‡½æ•°ï¼Œåªéœ€åœ¨å‡½æ•°ç±»å‹å‰å†åŠ ä¸€ä¸ªâ€œstaticâ€å…³é”®å­—å³å¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">static</span> å‡½æ•°ç±»å‹ å‡½æ•°å<span class="token punctuation">(</span>å‡½æ•°å‚æ•°è¡¨<span class="token punctuation">)</span>ã€€ã€€<span class="token punctuation">&#123;</span>â€¦â€¦<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ã€€ã€€å…³é”®å­—â€œstaticâ€ï¼Œè¯‘æˆä¸­æ–‡å°±æ˜¯â€œé™æ€çš„â€ï¼Œæ‰€ä»¥å†…éƒ¨å‡½æ•°åˆç§°é™æ€å‡½æ•°ã€‚ä½†<font color=#D0087E size=4 face="å¹¼åœ†">æ­¤å¤„â€œstaticâ€çš„å«ä¹‰ä¸æ˜¯æŒ‡å­˜å‚¨æ–¹å¼ï¼Œè€Œæ˜¯æŒ‡å¯¹å‡½æ•°çš„ä½œç”¨åŸŸä»…å±€é™äºæœ¬æ–‡ä»¶ã€‚</font><br>ã€€ã€€ä½¿ç”¨å†…éƒ¨å‡½æ•°çš„å¥½å¤„æ˜¯ï¼šä¸åŒçš„äººç¼–å†™ä¸åŒçš„å‡½æ•°æ—¶ï¼Œä¸ç”¨æ‹…å¿ƒè‡ªå·±å®šä¹‰çš„å‡½æ•°ï¼Œæ˜¯å¦ä¼šä¸å…¶å®ƒæ–‡ä»¶ä¸­çš„å‡½æ•°åŒåï¼Œå› ä¸ºåŒåä¹Ÿæ²¡æœ‰å…³ç³»ã€‚</p><h3 id="å¤–éƒ¨å‡½æ•°"><a href="#å¤–éƒ¨å‡½æ•°" class="headerlink" title="å¤–éƒ¨å‡½æ•°:"></a>å¤–éƒ¨å‡½æ•°:</h3><p>ã€€ã€€å¤–éƒ¨å‡½æ•°çš„å®šä¹‰ï¼šåœ¨å®šä¹‰å‡½æ•°æ—¶ï¼Œå¦‚æœæ²¡æœ‰åŠ å…³é”®å­—â€œstaticâ€ï¼Œæˆ–å† ä»¥å…³é”®å­—â€œexternâ€ï¼Œè¡¨ç¤ºæ­¤å‡½æ•°æ˜¯å¤–éƒ¨å‡½æ•°ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token punctuation">[</span><span class="token keyword">extern</span><span class="token punctuation">]</span> å‡½æ•°ç±»å‹ å‡½æ•°å<span class="token punctuation">(</span>å‡½æ•°å‚æ•°è¡¨<span class="token punctuation">)</span>ã€€ã€€<span class="token punctuation">&#123;</span>â€¦â€¦<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ã€€ã€€è°ƒç”¨å¤–éƒ¨å‡½æ•°æ—¶ï¼Œéœ€è¦å¯¹å…¶è¿›è¡Œè¯´æ˜ï¼š<br>ã€€ã€€[extern] å‡½æ•°ç±»å‹ å‡½æ•°å(å‚æ•°ç±»å‹è¡¨)[ï¼Œå‡½æ•°å2(å‚æ•°ç±»å‹è¡¨2)â€¦â€¦]ï¼›</p><h4 id="æ¡ˆä¾‹-å¤–éƒ¨å‡½æ•°åº”ç”¨ã€‚"><a href="#æ¡ˆä¾‹-å¤–éƒ¨å‡½æ•°åº”ç”¨ã€‚" class="headerlink" title="[æ¡ˆä¾‹]å¤–éƒ¨å‡½æ•°åº”ç”¨ã€‚"></a>[æ¡ˆä¾‹]å¤–éƒ¨å‡½æ•°åº”ç”¨ã€‚</h4><p>ã€€ã€€ï¼ˆ1ï¼‰<strong>æ–‡ä»¶mainf.c</strong><br>ã€€ã€€main()<br>ã€€ã€€{ extern void input(â€¦),process(â€¦),output(â€¦);<br>ã€€ã€€input(â€¦); process(â€¦); output(â€¦);<br>ã€€ã€€}<br>ã€€ã€€ï¼ˆ2ï¼‰<strong>æ–‡ä»¶subf1.c</strong><br>ã€€ã€€â€¦â€¦<br>ã€€ã€€extern void input(â€¦â€¦) &#x2F;<em>å®šä¹‰å¤–éƒ¨å‡½æ•°</em>&#x2F;<br>ã€€ã€€{â€¦â€¦}<br>ã€€ã€€ï¼ˆ3ï¼‰<strong>æ–‡ä»¶subf2.c</strong><br>ã€€ã€€â€¦â€¦<br>ã€€ã€€extern void process(â€¦â€¦) &#x2F;<em>å®šä¹‰å¤–éƒ¨ å‡½æ•°</em>&#x2F;<br>ã€€ã€€{â€¦â€¦}<br>ã€€ã€€ï¼ˆ4ï¼‰<strong>æ–‡ä»¶subf3.c</strong><br>ã€€ã€€â€¦â€¦<br>ã€€ã€€extern void output(â€¦â€¦) &#x2F;<em>å®šä¹‰å¤–éƒ¨å‡½æ•°</em>&#x2F;<br>ã€€ã€€{â€¦â€¦} </p><br><p>è½¬è½½ï¼š<a href="https://blog.csdn.net/LK274857347/article/details/61616416">Cè¯­è¨€ä¸­çš„ staticå˜é‡ï¼ˆå…¨å±€å’Œå±€éƒ¨ï¼‰ã€staticå‡½æ•°æ€»ç»“</a> </p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºä¸€ æŠ€æ³• </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>QStyleä¹‹PenStyleçš„CustomDashLineä½¿ç”¨</title>
      <link href="/posts/70612500/"/>
      <url>/posts/70612500/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong>  <code>QStyle</code>ä¹‹<code>PenStyle</code>çš„<code>CustomDashLine</code>ä½¿ç”¨ï¼Œä½¿ç”¨è‡ªå®šä¹‰é£æ ¼æ ·å¼çš„ç”»ç¬”ï¼›æœ¬ç¯‡ä¾‹å­æ¥è‡ªç»˜ç”» <code>Deepin v20</code> çš„ <code>DTK</code> çš„ <code>DSlider</code> æ§ä»¶æ»‘æ§½ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>deepin 15.11 x64 ä¸“ä¸šç‰ˆ </code>    <strong>Kernelï¼š</strong> <code>x86_64 Linux 4.15.0-30deepin-generic</code></p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>Qt Creator 4.8.2 (Enterprise)</code>ï¼Œ <code>Qt 5.9.8</code></p><br><h2 id="ç³»åˆ—åšæ–‡ï¼š"><a href="#ç³»åˆ—åšæ–‡ï¼š" class="headerlink" title="ç³»åˆ—åšæ–‡ï¼š"></a>ç³»åˆ—åšæ–‡ï¼š</h2><ul><li><a href="https://blog.csdn.net/qq_33154343/article/details/100545769"><code>QStyle</code>è‡ªå®šä¹‰é‡ç»˜<code>QSlider</code>æ§ä»¶</a> </li><li><a href="https://blog.csdn.net/qq_33154343/article/details/100659576">QStyleä¹‹PenStyleçš„CustomDashLineä½¿ç”¨</a> ã€æ›´æ–°ï¼šæ›´åŠ ç²¾å‡†çš„ç»˜ç”»æ»‘æ§½ã€‘</li><li><a href="https://blog.csdn.net/qq_33154343/article/details/100941134">é‡ç»˜çš„QStyleä¸­sizeFromContents()æ²¡æœ‰è¢«è°ƒç”¨</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/100942637">QStyleè‡ªå®šä¹‰é‡ç»˜QSlideræ§ä»¶äºŒ</a>ï¼ˆé‡è¦ï¼‰</li></ul><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><ul><li>è®¾è®¡å¸ˆç»™çš„å›¾ç‰‡ï¼š</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190909205624.jpg"/ loading="lazy"><ul><li>ç¬¬ä¸€æ¬¡ç»˜ç”»æ•ˆæœï¼ˆ2019-09-01ï¼‰:</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190909205925.png"/ loading="lazy"><ul><li>ç¬¬äºŒæ¬¡ä¿®æ”¹æ•ˆæœï¼ˆ2019-09-03ï¼‰ï¼š</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190909205749.png"/ loading="lazy"><ul><li><p>ç¬¬ä¸‰æ¬¡ä¿®æ”¹æ•ˆæœï¼ˆæ›´æ–°2020-07-25ï¼šé‡ç»˜æ»‘åŠ¨æ§½ç»†èŠ‚ï¼‰ï¼š</p>  <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200903112012.png" width="90%"/ loading="lazy"></li></ul><br><h2 id="åŒºåˆ«ï¼š"><a href="#åŒºåˆ«ï¼š" class="headerlink" title="åŒºåˆ«ï¼š"></a>åŒºåˆ«ï¼š</h2><p>å…¶ä¸­ç¬¬ä¸€æ¬¡ç»˜ç”»ï¼Œå’Œç¬¬äºŒæ¬¡ç»˜ç”»æ»‘æ§½ï¼Œéƒ½æ˜¯ä½¿ç”¨åˆ’çº¿<strong>void QPainter::drawLine(const <a href="../qtcore/qlinef.html">QLineF</a> &amp;<em>line</em>)</strong> æ¥è¿›è¡Œç»˜ç”»çš„ï¼Œä¹‹å‰æ˜¯ä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„<strong>Qt::DotLine</strong>é£æ ¼ï¼Œè€Œç°åœ¨æ˜¯ä½¿ç”¨è‡ªå®šä¹‰æ ·å¼çš„<strong>Qt::CustomDashLine</strong>é£æ ¼ç»˜ç”»ï¼›åŸå› æ˜¯ç³»ç»Ÿè‡ªå¸¦Qt::DotLineçš„è™½å¯ä»¥æ§åˆ¶<code>pen.setWidthF(3);</code>çº¿çš„ç²—ç»†ï¼Œä½†æ˜¯ä¸èƒ½æ§åˆ¶å…¶é«˜åº¦ï¼ˆä¿æŒå®½åº¦å’Œé—´éš”ä¸å˜çš„æƒ…å†µä¸‹ï¼‰ï¼›å¾ˆéš¾é•¿å¾—å’Œè®¾è®¡å›¾ä¸€æ ·ã€‚</p><br><h2 id="PenStyleä»‹ç»ï¼š"><a href="#PenStyleä»‹ç»ï¼š" class="headerlink" title="PenStyleä»‹ç»ï¼š"></a>PenStyleä»‹ç»ï¼š</h2><p>æƒ³çœ‹ä¸€ä¸‹<strong>enum Qt::PenStyle</strong>çš„å®˜æ–¹æ–‡æ¡£ï¼šä¸€å…±æœ‰7ï¼ˆç»Ÿé£æ ¼ï¼‰+1ï¼ˆè‡ªå®šä¹‰é£æ ¼ï¼‰çš„æ ·å¼ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190909205515.jpg"/ loading="lazy"><br><h2 id="CustomDashLineä½¿ç”¨æ–¹æ³•ï¼š"><a href="#CustomDashLineä½¿ç”¨æ–¹æ³•ï¼š" class="headerlink" title="CustomDashLineä½¿ç”¨æ–¹æ³•ï¼š"></a>CustomDashLineä½¿ç”¨æ–¹æ³•ï¼š</h2><p>å®˜æ–¹æ•™ç¨‹å¦‚ä¸‹ï¼šä½¿ç”¨<strong>void setDashPattern(const <a href="../qtcore/qvector.html">QVector</a>&lt;<a href="../qtcore/qtglobal.html#qreal-typedef">qreal</a>&gt; &amp;<em>dashPattern</em>)</strong> å‡½æ•°</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190909211752.png"/ loading="lazy"><blockquote><p>è¯‘æ–‡å¦‚ä¸‹ï¼š</p><p>å°†æ­¤ç¬”çš„è™šçº¿æ¨¡å¼è®¾ç½®ä¸ºç»™å®šæ¨¡å¼ã€‚è¿™éšå¼åœ°å°†ç¬”çš„æ ·å¼è½¬æ¢ä¸ºQt :: CustomDashLineã€‚<br>å¿…é¡»å°†æ¨¡å¼æŒ‡å®šä¸ºå¶æ•°ä¸ªæ­£æ¡ç›®ï¼Œå…¶ä¸­æ¡ç›®1,3,5 â€¦æ˜¯çŸ­åˆ’çº¿ï¼Œè€Œ2,4,6 â€¦â€¦æ˜¯ç©ºæ ¼ã€‚ä¾‹å¦‚ï¼š</p><p>QPen pen;<br>QVector<qreal> dashes;<br>qreal space &#x3D; 4;<br>dashes &lt;&lt; 1 &lt;&lt; space &lt;&lt; 3 &lt;&lt; space &lt;&lt; 9 &lt;&lt; space &lt;&lt; 27 &lt;&lt; space;<br>pen.setDashPattern(dashes);</p><p>ä»ªè¡¨æ¿å›¾æ¡ˆä»¥ç¬”å®½åº¦ä¸ºå•ä½æŒ‡å®š;ä¾‹å¦‚å®½åº¦ä¸º10çš„é•¿åº¦ä¸º5çš„é•¿åº¦ä¸º50åƒç´ ã€‚è¯·æ³¨æ„ï¼Œå®½åº¦ä¸ºé›¶çš„ç¬”ç›¸å½“äºå®½åº¦ä¸º1åƒç´ çš„åŒ–å¦†ç¬”ã€‚<br>æ¯ä¸ªç ´æŠ˜å·ä¹Ÿå—åˆ¶äºå¸½å­æ ·å¼ï¼Œå› æ­¤å¸¦æœ‰æ–¹å¸½è®¾ç½®çš„çŸ­åˆ’çº¿å°†åœ¨æ¯ä¸ªæ–¹å‘ä¸Šå»¶ä¼¸0.5åƒç´ ï¼Œä»è€Œå¯¼è‡´æ€»å®½åº¦ä¸º2ã€‚<br>è¯·æ³¨æ„ï¼Œé»˜è®¤çš„ä¸Šé™æ ·å¼æ˜¯Qt :: SquareCapï¼Œè¿™æ„å‘³ç€æ–¹å½¢çº¿æœ«ç«¯è¦†ç›–ç»ˆç‚¹å¹¶è¶…å‡ºçº¿å®½çš„ä¸€åŠã€‚<br>å¦è¯·å‚è§setStyleï¼ˆï¼‰ï¼ŒdashPatternï¼ˆï¼‰ï¼ŒsetCapStyleï¼ˆï¼‰å’ŒsetCosmeticï¼ˆï¼‰ã€‚</p></blockquote><p><strong>å…¶ä¸­å…·ä½“ä½¿ç”¨å¦‚ä¸‹ï¼š</strong></p><p>å…¶ä¸­ä¾¿æ˜¯ç»˜ç”»ä¸€æ¡ï¼ˆè‡ªå®šä¹‰ï¼‰çš„çº¿ï¼šå…¶<strong>çº¿çš„ä¸€ä¸ªå®Œæ•´çš„å‘¨æœŸ</strong>ä¸ºï¼ˆå•ä½ä¸ºåƒç´ ï¼‰ï¼š</p><blockquote><p>1(çº¿æ®µ)       4(é—´éš”)       3(çº¿æ®µ)       4(é—´éš”)       9(çº¿æ®µ)       4(é—´éš”)       27(çº¿æ®µ)       4(é—´éš”)  </p></blockquote><p>æ³¨æ„ï¼šå…¶ä¸­<strong>dashes</strong>åªèƒ½å¤Ÿå‡ºç°ä¸ºå¶æ•°å¯¹ï¼Œä¸å¯ä¸ºå¥‡æ•°ä¸ªï¼›</p><br><h2 id="ç”¨äºé¡¹ç›®ï¼š"><a href="#ç”¨äºé¡¹ç›®ï¼š" class="headerlink" title="ç”¨äºé¡¹ç›®ï¼š"></a>ç”¨äºé¡¹ç›®ï¼š</h2><p>é¦–å…ˆè´´å‡ºç¬¬ä¸€æ¬¡çš„â€<strong>ç»˜ç”»æ»‘æ§½</strong>â€œä»£ç (å±€éƒ¨):</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">QPen pen<span class="token punctuation">;</span><span class="token comment">//ç»˜ç”» æ»‘æ§½(çº¿)</span><span class="token keyword">if</span> <span class="token punctuation">(</span>opt<span class="token operator">-></span>subControls <span class="token operator">&amp;</span> SC_SliderGroove<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    pen<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>DotLine<span class="token punctuation">)</span><span class="token punctuation">;</span>    pen<span class="token punctuation">.</span><span class="token function">setWidthF</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    pen<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span><span class="token function">getColor</span><span class="token punctuation">(</span>opt<span class="token punctuation">,</span> QPalette<span class="token double-colon punctuation">::</span>Highlight<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    p<span class="token operator">-></span><span class="token function">setPen</span><span class="token punctuation">(</span>pen<span class="token punctuation">)</span><span class="token punctuation">;</span>    p<span class="token operator">-></span><span class="token function">setRenderHint</span><span class="token punctuation">(</span>QPainter<span class="token double-colon punctuation">::</span>Antialiasing<span class="token punctuation">)</span><span class="token punctuation">;</span>    p<span class="token operator">-></span><span class="token function">drawLine</span><span class="token punctuation">(</span><span class="token function">QPointF</span><span class="token punctuation">(</span>rectGroove<span class="token punctuation">.</span><span class="token function">left</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rectHandle<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">QPointF</span><span class="token punctuation">(</span>rectHandle<span class="token punctuation">.</span><span class="token function">left</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rectHandle<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    pen<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span><span class="token function">getColor</span><span class="token punctuation">(</span>opt<span class="token punctuation">,</span> QPalette<span class="token double-colon punctuation">::</span>Foreground<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    p<span class="token operator">-></span><span class="token function">setPen</span><span class="token punctuation">(</span>pen<span class="token punctuation">)</span><span class="token punctuation">;</span>    p<span class="token operator">-></span><span class="token function">drawLine</span><span class="token punctuation">(</span><span class="token function">QPointF</span><span class="token punctuation">(</span>rectGroove<span class="token punctuation">.</span><span class="token function">right</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rectHandle<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">QPointF</span><span class="token punctuation">(</span>rectHandle<span class="token punctuation">.</span><span class="token function">right</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rectHandle<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦å¤–ä¸€ä¸ªç»˜ç”»æ–¹æ³•æ˜¯ï¼Œåœ¨è§„å®šå¤§å°çŸ©å½¢å†…ï¼Œç»˜ç”»nå¤šä¸ªå°çŸ©å½¢ï¼Œå……å½“æ»‘æ§½ï¼Œä½†æ˜¯å¯èƒ½éœ€ç»˜ç”»å¤šä¸ªå°çŸ©å½¢æ¥å®ç°(è€ƒè™‘åˆ°æ•ˆç‡å¼€é”€),å¾—åˆ°ç»†å¯†çš„çº¿çš„æ•ˆæœï¼›å…¶ä½¿ç”¨forå¾ªç¯ éå†ç»˜ç”»å¾ˆå¤šæ¬¡ (åŒæ ·ä¹Ÿæ˜¯å¤§çš„)ï¼Œæ‰€ä»¥æ­¤æ–¹æ³•è¢«å¦å®šäº†ã€‚</p><p>åªéœ€è¦ä¸Šé¢çš„<code>pen.setStyle(Qt::DotLine);ï¼ˆç¬¬å››è¡Œï¼‰</code>ä¿®æ”¹ä¸ºå¦‚ä¸‹ä»£ç </p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">pen<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>CustomDashLine<span class="token punctuation">)</span><span class="token punctuation">;</span>    QVector<span class="token operator">&lt;</span>qreal<span class="token operator">></span> dashes<span class="token punctuation">;</span>    qreal space <span class="token operator">=</span> <span class="token number">1.3</span><span class="token punctuation">;</span>    dashes <span class="token operator">&lt;&lt;</span> <span class="token number">0.1</span> <span class="token operator">&lt;&lt;</span> space<span class="token punctuation">;</span>    pen<span class="token punctuation">.</span><span class="token function">setDashPattern</span><span class="token punctuation">(</span>dashes<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å³å¯å¾—åˆ°è¿™æ¬¡çš„æ•ˆæœï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190909205749.png"/ loading="lazy"><br><h2 id="æ›´æ–°2020-07-25ï¼šé‡ç»˜æ»‘åŠ¨æ§½ç»†èŠ‚"><a href="#æ›´æ–°2020-07-25ï¼šé‡ç»˜æ»‘åŠ¨æ§½ç»†èŠ‚" class="headerlink" title="æ›´æ–°2020-07-25ï¼šé‡ç»˜æ»‘åŠ¨æ§½ç»†èŠ‚"></a>æ›´æ–°2020-07-25ï¼šé‡ç»˜æ»‘åŠ¨æ§½ç»†èŠ‚</h2><p>å‰é¢ä¸€æ®µæ—¶é—´ï¼Œ<code>Slider</code> å®é™…ä¸Šæ˜¯æ²¡æœ‰å®Œå…¨ 100%  è¾¾åˆ°è®¾è®¡å›¾çš„æ ·å¼è¦æ±‚çš„ï¼ˆæƒ­æ„§ï¼‰ï¼Œåè…¾å‡ºæ‰‹æ¥ï¼Œå†³å®šå°†å…¶æ”¹ä¸€ä¸‹ï¼Œè¿˜åŸè®¾è®¡å›¾çš„æ»‘æ§½æ ·å¼ï¼šå…¶ä¸­å…·ä½“çš„è¯¦ç»†æäº¤å¦‚ä¸‹ï¼š<a href="https://github.com/linuxdeepin/qt5integration/commit/8895abb777996700d9c5ccadda66654eb9325a8c">#8895abb7</a></p><p>å…¶ä¸­çš„å›°éš¾ç‚¹æ˜¯ï¼Œè®¾ç½®ç”»ç¬”çš„é«˜åº¦ã€å®½åº¦ã€å®çº¿ä¸è™šçº¿çš„é—´éš”ï¼ˆè¦æ±‚åœ¨è‹¹æœçš„é«˜åˆ†å±æ”¾å¤§çœ‹ç»†èŠ‚åï¼Œä¸”ä¸ä¼šå‡ºç°é”™è¯¯çš„æ¨¡ç³Šåç§»ï¼‰ï¼›</p><p>åœ¨å¼€å‘çš„æ™®é€šå±å¹•ä¸­ï¼Œå¯ä»¥å®‰è£… <a href="https://wiki.gnome.org/Apps/EyeOfGnome">eog</a>ï¼Œ ç„¶åå·¦ä¸Šè§’çš„è®¾ç½®é‡Œå…³æ‰å¹³æ»‘ï¼Œå†æ¬¡æŸ¥çœ‹å›¾ç‰‡æ”¾å¤§çœ‹ï¼Œå°±ä¸ä¼šç³Šæ‰äº†ï¼Œå¯ä»¥æ¸…æ™°çš„çœ‹åˆ°ä¸‹é¢çš„å®å…ˆå’Œè™šçº¿åç§»é‡å ï¼›</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200903112427.png" width="60%"/ loading="lazy"><p>ç»™ä¸Šæœ€åçš„è§£å†³å‚æ•°æ–¹æ¡ˆã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">pen<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>CustomDashLine<span class="token punctuation">)</span><span class="token punctuation">;</span>pen<span class="token punctuation">.</span><span class="token function">setWidth</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>pen<span class="token punctuation">.</span><span class="token function">setBrush</span><span class="token punctuation">(</span><span class="token punctuation">(</span>opt<span class="token operator">-></span>activeSubControls <span class="token operator">&amp;</span> SC_SliderHandle<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">getColor</span><span class="token punctuation">(</span>opt<span class="token punctuation">,</span> QPalette<span class="token double-colon punctuation">::</span>Highlight<span class="token punctuation">)</span> <span class="token operator">:</span> opt<span class="token operator">-></span>palette<span class="token punctuation">.</span><span class="token function">highlight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>pen<span class="token punctuation">.</span><span class="token function">setDashOffset</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>pen<span class="token punctuation">.</span><span class="token function">setDashPattern</span><span class="token punctuation">(</span><span class="token generic-function"><span class="token function">QVector</span><span class="token generic class-name"><span class="token operator">&lt;</span>qreal<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span> <span class="token number">0.5</span> <span class="token operator">&lt;&lt;</span> <span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è¿™ä¸ªæ•°å€¼æ˜¯æœ€æ¥è¿‘å…¶åŸå›¾ï¼Œ ä¸”æ”¾å¤§ä¹‹åï¼Œä¸ä¼šæœ‰æ¨¡ç³Šåç§»</span>pen<span class="token punctuation">.</span><span class="token function">setCapStyle</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>FlatCap<span class="token punctuation">)</span><span class="token punctuation">;</span>p<span class="token operator">-></span><span class="token function">setPen</span><span class="token punctuation">(</span>pen<span class="token punctuation">)</span><span class="token punctuation">;</span>p<span class="token operator">-></span><span class="token function">setRenderHint</span><span class="token punctuation">(</span>QPainter<span class="token double-colon punctuation">::</span>Antialiasing<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ”¾ä¸Šä¸€å¼ æœ€åçš„æ•ˆæœå›¾ï¼š</p><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200903112012.png" width="70%"/ loading="lazy"><img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20200903112317.png" width="70%"/ loading="lazy"><br><h2 id="ç³»åˆ—åœ°å€ï¼š"><a href="#ç³»åˆ—åœ°å€ï¼š" class="headerlink" title="ç³»åˆ—åœ°å€ï¼š"></a>ç³»åˆ—åœ°å€ï¼š</h2><p><a href="https://github.com/xmuli/QtExamples">QtExamples</a></p><p>æ¬¢è¿ <code>star</code> å’Œ <code>fork</code> è¿™ä¸ªç³»åˆ—çš„ QT &#x2F; DTK å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DTK </tag>
            
            <tag> QStyle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QStyleè‡ªå®šä¹‰é‡ç»˜QRubberBandæ§ä»¶</title>
      <link href="/posts/59510126/"/>
      <url>/posts/59510126/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong> æ ¹æ®<code>QStyle</code>çš„ç»§æ‰¿å…³ç³»å’Œé‡ç»˜åŸç†ï¼›é€šè¿‡å®ç°ä¸€ä¸ªç»§æ‰¿<code>QCommonStyle</code>ç±»çš„å®ç°ï¼Œå®ç°è‡ªå·±çš„è‡ªå®šä¹‰æ§ä»¶<code>QRubberBand</code>æ§ä»¶ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ç®€è¿°ï¼š"><a href="#ç®€è¿°ï¼š" class="headerlink" title="ç®€è¿°ï¼š"></a>ç®€è¿°ï¼š</h2><p>â€‹<strong>è¯¦æƒ…ï¼š</strong>  è§ç®€ä»‹</p><br><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>deepin 15.11 x64 ä¸“ä¸šç‰ˆ </code>    Kernelï¼š <code>x86_64 Linux 4.15.0-30deepin-generic</code></p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>Qt Creator 4.8.2 (Enterprise)</code>ï¼Œ <code>Qt 5.9.8</code></p><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><p>å…ˆä¸Šä¸€å¼ æœ€ç»ˆçš„é‡ç»˜è¿è¡Œæ•ˆæœå›¾ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190904195212.png"/ loading="lazy"><br><h2 id="QRubberBandé‡ç»˜ï¼š"><a href="#QRubberBandé‡ç»˜ï¼š" class="headerlink" title="QRubberBandé‡ç»˜ï¼š"></a>QRubberBandé‡ç»˜ï¼š</h2><p>è¿™å‡ å°±ä¸ç¿»å¼€å®˜æ–¹ç®€ä»‹äº†ï¼Œè¯è¯´åˆæ¬¡çœ‹åˆ°QRubberBandè¿™ä¸ªåå­—çš„æ—¶å€™ï¼Œæˆ‘ä¸€è„¸çš„æ‡µé€¼ã€‚è¿™ä¸ªæ§ä»¶ï¼Œæˆ‘æ€ä¹ˆå¬éƒ½æ²¡æœ‰å¬è¯´è¿‡ï¼Œæ›´æ²¡æœ‰è§è¿‡ã€‚</p><p><strong>ä½†æ˜¯</strong>: å¦‚æœæœ‰äººå’Œä½ è®²ï¼Œè¿™å°±æ˜¯windowsçš„è¿™ä¸ªä¸œè¥¿ï¼Œé‚£å°±å¾ˆå¤§å®¶éƒ½è§è¿‡äº†ï¼Œå°±æ˜¯<strong>å¤šé€‰æ–‡ä»¶æ—¶å€™çš„é‚£ä¸ªé«˜äº®çŸ©å½¢</strong>ï¼Œå¦‚ä¸‹å›¾</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190904195656.png"/ loading="lazy"><p><strong>ç»˜ç”»æ€è·¯ï¼š</strong></p><ul><li>å¯¹åº”çš„é‡è½½å‡½æ•°é‡Œé¢ï¼Œcase è¿™ä¸ªæ§ä»¶ï¼Œç„¶åç»˜ç”»ä¸€ä¸ªçŸ©å½¢ï¼ˆå…¶ç”»åˆ·å’Œè¾¹æ¡†çš„é¢œè‰²æ˜¯ä¸ä¸€æ ·çš„ï¼‰</li></ul><p>ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">QPainter <span class="token operator">*</span>p<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>w<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">&#123;</span>    <span class="token keyword">switch</span> <span class="token punctuation">(</span>element<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">case</span> CE_RubberBand<span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">const</span> QStyleOptionRubberBand <span class="token operator">*</span>rubber <span class="token operator">=</span> <span class="token generic-function"><span class="token function">qstyleoption_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">const</span> QStyleOptionRubberBand <span class="token operator">*</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>opt<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            QColor color <span class="token operator">=</span> opt<span class="token operator">-></span>palette<span class="token punctuation">.</span><span class="token function">highlight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">color</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            color<span class="token punctuation">.</span><span class="token function">setAlphaF</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            p<span class="token operator">-></span><span class="token function">setBrush</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>            color<span class="token punctuation">.</span><span class="token function">setAlphaF</span><span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            p<span class="token operator">-></span><span class="token function">setPen</span><span class="token punctuation">(</span><span class="token function">QPen</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            p<span class="token operator">-></span><span class="token function">drawRect</span><span class="token punctuation">(</span>opt<span class="token operator">-></span>rect<span class="token punctuation">.</span><span class="token function">adjusted</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">default</span><span class="token operator">:</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token class-name">QCommonStyle</span><span class="token double-colon punctuation">::</span><span class="token function">drawControl</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> opt<span class="token punctuation">,</span> p<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QStyle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QStyleè‡ªå®šä¹‰é‡ç»˜QSlideræ§ä»¶</title>
      <link href="/posts/dd3bbc4c/"/>
      <url>/posts/dd3bbc4c/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong>  æ ¹æ®<code>QStyle</code>çš„ç»§æ‰¿å…³ç³»å’Œé‡ç»˜åŸç†ï¼›é€šè¿‡å®ç°ä¸€ä¸ªç»§æ‰¿<code>QCommonStyle</code>ç±»çš„å®ç°ï¼Œå®ç°è‡ªå·±çš„è‡ªå®šä¹‰æ§ä»¶<code>QSlider</code>æ§ä»¶ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>deepin 15.11 x64 ä¸“ä¸šç‰ˆ </code>    <strong>Kernelï¼š</strong>  <code>x86_64 Linux 4.15.0-30deepin-generic</code></p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>Qt Creator 4.8.2 (Enterprise)</code>ï¼Œ <code>Qt 5.9.8</code></p><br><h2 id="ç³»åˆ—åšæ–‡ï¼š"><a href="#ç³»åˆ—åšæ–‡ï¼š" class="headerlink" title="ç³»åˆ—åšæ–‡ï¼š"></a>ç³»åˆ—åšæ–‡ï¼š</h2><ul><li><a href="https://xmuli.tech/posts/dd3bbc4c"><code>QStyle</code>è‡ªå®šä¹‰é‡ç»˜<code>QSlider</code>æ§ä»¶</a> </li><li><a href="https://xmuli.tech/posts/70612500">QStyleä¹‹PenStyleçš„CustomDashLineä½¿ç”¨</a> ã€æ›´æ–°ï¼šæ›´åŠ ç²¾å‡†çš„ç»˜ç”»æ»‘æ§½ã€‘</li><li><a href="https://xmuli.tech/posts/e4408abd/">é‡ç»˜çš„QStyleä¸­sizeFromContents()æ²¡æœ‰è¢«è°ƒç”¨</a></li><li><a href="https://xmuli.tech/posts/2b7554be">QStyleè‡ªå®šä¹‰é‡ç»˜QSlideræ§ä»¶äºŒ</a>ï¼ˆé‡è¦ï¼‰</li></ul><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><p>å…ˆä¸Šä¸€å¼ æœ€ç»ˆçš„é‡ç»˜è¿è¡Œæ•ˆæœå›¾</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190910213128.png"/ loading="lazy"><p>è¿è¡Œä»£ç ï¼Œåœ¨ <strong>mainï¼ˆï¼‰</strong>å‡½æ•°é‡Œé¢ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">QApplication <span class="token function">app</span><span class="token punctuation">(</span>argc<span class="token punctuation">,</span> argv<span class="token punctuation">)</span><span class="token punctuation">;</span>    qApp<span class="token operator">-></span><span class="token function">setStyle</span><span class="token punctuation">(</span><span class="token string">"chameleon"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QWidget wTemp<span class="token punctuation">;</span>    wTemp<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">800</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//    NoTicks = 0,</span><span class="token comment">//    TicksAbove = 1,</span><span class="token comment">//    TicksLeft = TicksAbove,</span><span class="token comment">//    TicksBelow = 2,</span><span class="token comment">//    TicksRight = TicksBelow,</span><span class="token comment">//    TicksBothSides = 3</span>QHBoxLayout <span class="token operator">*</span>layout <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QHBoxLayout</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>wTemp<span class="token punctuation">)</span><span class="token punctuation">;</span>    QSlider <span class="token operator">*</span>slider1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QSlider</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>wTemp<span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">//ç«–ç›´åˆ»åº¦åœ¨å³ä¾§çš„Slider</span>    slider1<span class="token operator">-></span><span class="token function">setOrientation</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>Vertical<span class="token punctuation">)</span><span class="token punctuation">;</span>    slider1<span class="token operator">-></span><span class="token function">setTickPosition</span><span class="token punctuation">(</span>QSlider<span class="token double-colon punctuation">::</span>TicksRight<span class="token punctuation">)</span><span class="token punctuation">;</span>    slider1<span class="token operator">-></span><span class="token function">setTickInterval</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    slider1<span class="token operator">-></span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QSlider <span class="token operator">*</span>slider2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QSlider</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>wTemp<span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">//ç«–ç›´åˆ»åº¦åœ¨å·¦ä¾§çš„Slider</span>    slider2<span class="token operator">-></span><span class="token function">setOrientation</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>Vertical<span class="token punctuation">)</span><span class="token punctuation">;</span>    slider2<span class="token operator">-></span><span class="token function">setTickPosition</span><span class="token punctuation">(</span>QSlider<span class="token double-colon punctuation">::</span>TicksLeft<span class="token punctuation">)</span><span class="token punctuation">;</span>    slider2<span class="token operator">-></span><span class="token function">setTickInterval</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    slider2<span class="token operator">-></span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    slider2<span class="token operator">-></span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QSlider <span class="token operator">*</span>slider3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QSlider</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>wTemp<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">//æ°´å¹³åˆ»åº¦åœ¨ä¸‹ä¾§çš„Slider</span>    slider3<span class="token operator">-></span><span class="token function">setOrientation</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>Horizontal<span class="token punctuation">)</span><span class="token punctuation">;</span>    slider3<span class="token operator">-></span><span class="token function">setTickPosition</span><span class="token punctuation">(</span>QSlider<span class="token double-colon punctuation">::</span>TicksBelow<span class="token punctuation">)</span><span class="token punctuation">;</span>    slider3<span class="token operator">-></span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    slider3<span class="token operator">-></span><span class="token function">setTickInterval</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    slider3<span class="token operator">-></span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QSlider <span class="token operator">*</span>slider4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QSlider</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>wTemp<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">//æ°´å¹³åˆ»åº¦åœ¨ä¸Šä¾§çš„Slider</span>    slider4<span class="token operator">-></span><span class="token function">setOrientation</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>Horizontal<span class="token punctuation">)</span><span class="token punctuation">;</span>    slider4<span class="token operator">-></span><span class="token function">setTickPosition</span><span class="token punctuation">(</span>QSlider<span class="token double-colon punctuation">::</span>TicksAbove<span class="token punctuation">)</span><span class="token punctuation">;</span>    slider4<span class="token operator">-></span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    slider4<span class="token operator">-></span><span class="token function">setTickInterval</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    slider4<span class="token operator">-></span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QSlider <span class="token operator">*</span>slider5 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QSlider</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>wTemp<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">//ç«–ç›´åˆ»åº¦åœ¨ä¸¤ä¾§çš„Slider</span>    slider5<span class="token operator">-></span><span class="token function">setOrientation</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>Vertical<span class="token punctuation">)</span><span class="token punctuation">;</span>    slider5<span class="token operator">-></span><span class="token function">setTickPosition</span><span class="token punctuation">(</span>QSlider<span class="token double-colon punctuation">::</span>TicksBothSides<span class="token punctuation">)</span><span class="token punctuation">;</span>    slider5<span class="token operator">-></span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    slider5<span class="token operator">-></span><span class="token function">setTickInterval</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    slider5<span class="token operator">-></span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QSlider <span class="token operator">*</span>slider6 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QSlider</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>wTemp<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//æ°´å¹³åˆ»åº¦åœ¨ä¸¤ä¾§çš„Slider</span>    slider6<span class="token operator">-></span><span class="token function">setOrientation</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>Horizontal<span class="token punctuation">)</span><span class="token punctuation">;</span>    slider6<span class="token operator">-></span><span class="token function">setTickPosition</span><span class="token punctuation">(</span>QSlider<span class="token double-colon punctuation">::</span>TicksBothSides<span class="token punctuation">)</span><span class="token punctuation">;</span>    slider6<span class="token operator">-></span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    slider6<span class="token operator">-></span><span class="token function">setTickInterval</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    slider6<span class="token operator">-></span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    wTemp<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> app<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="QSliderå±æ€§ï¼š"><a href="#QSliderå±æ€§ï¼š" class="headerlink" title="QSliderå±æ€§ï¼š"></a>QSliderå±æ€§ï¼š</h2><ul><li><strong>Qtæ–‡æ¡£ï¼š</strong></li></ul><p>å…ˆçœ‹<strong>Qt</strong>å®˜æ–¹æ–‡æ¡£ä»‹ç»ï¼Œæˆ‘æ½ï¼Œå°±è¿™ä¹ˆä¸¤ä¸ªå±æ€§ï¼Ÿï¼Ÿï¼Ÿç„¶åå¤§è‡´æµè§ˆå®Œäº†æ•´ç¯‡ã€‚æ€ä¹ˆç»™æˆ‘ä¸€ç‚¹ï¼Œæ€ä¹ˆåªæœ‰è¿™ä¹ˆä¸€ç‚¹è®²è§£çš„å†…å®¹å•Šï¼ï¼ï¼è¿™å¯ä¸è¡Œï¼Œè°å—å¾—äº†å•Š ï¼Œç„¶åç»§ç»­çœ‹æºç ï¼Œçœ‹å…¶ç»§æ‰¿çš„åŸºç±»<strong>QAbstractSlider</strong>ç­‰ä¹‹åã€‚è¿™è¿˜å·®ä¸å¤šã€‚ä¸ç„¶æˆ‘æ€ä¹ˆä½¿ç”¨<strong>QStyle</strong>é‡ç»˜è¿™ä¸ªæ§ä»¶</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190904183814.png"/ loading="lazy"><ul><li><strong>tickInterval : int</strong><br>æ­¤å±æ€§ä¿å­˜tickmarksä¹‹é—´çš„é—´éš”è¿™æ˜¯ä¸€ä¸ªå€¼é—´éš”ï¼Œè€Œä¸æ˜¯åƒç´ é—´éš”ã€‚å¦‚æœä¸º0ï¼Œæ»‘å—å°†åœ¨singleStepå’ŒpageStepä¹‹é—´è¿›è¡Œé€‰æ‹©ã€‚</li><li><strong>tickPosition : TickPosition</strong><br>æ­¤å±æ€§ä¿å­˜æ­¤æ»‘å—çš„tickmarkä½ç½®ï¼Œæœ‰æ•ˆå€¼ç”±QSlider::TickPosition enumæè¿°ã€‚é»˜è®¤å€¼æ˜¯QSlider:: noticeã€‚</li></ul><p><strong>åˆ»åº¦æ¡ç»˜ç”»æ–¹å‘ï¼š</strong></p><table><thead><tr><th>Constant</th><th>Description</th></tr></thead><tbody><tr><td>QSlider::NoTicks</td><td>ä¸æ˜¾ç¤ºåˆ»åº¦</td></tr><tr><td>QSlider::TicksBothSides</td><td>ä¸¤è¾¹éƒ½æ˜¾ç¤ºåˆ»åº¦</td></tr><tr><td>QSlider::TicksAbove</td><td>åˆ»åº¦æ˜¾ç¤ºåœ¨ä¸Šè¾¹(æ°´å¹³)</td></tr><tr><td>QSlider::TicksBelow</td><td>åˆ»åº¦æ˜¾ç¤ºåœ¨ä¸‹è¾¹(æ°´å¹³)</td></tr><tr><td>QSlider::TicksLeft</td><td>åˆ»åº¦æ˜¾ç¤ºåœ¨å·¦è¾¹(ç«–ç›´)</td></tr><tr><td>QSlider::TicksRight</td><td>åˆ»åº¦æ˜¾ç¤ºåœ¨å³è¾¹(ç«–ç›´)</td></tr></tbody></table><p><strong>QSliderçš„æ‘†æ”¾æ–¹å‘ï¼š</strong></p><table><thead><tr><th>orientation : Qt::Orientation</th><th>Description</th></tr></thead><tbody><tr><td>Qt::Vertical</td><td>æ»‘åŠ¨æ¡ç«–ç›´ç»˜ç”»</td></tr><tr><td>Qt::Horizontal</td><td>æ»‘åŠ¨æ¡æ°´å¹³ç»˜ç”»</td></tr></tbody></table><p>å…¶ä»–å‡ ä¸ªæ¶‰åŠ<strong>QStyle</strong>é‡ç»˜çš„é‡è¦å±æ€§ï¼š</p><table><thead><tr><th>val</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>minimum</td><td>æ»‘åŠ¨æ¡æœ€å°å€¼</td></tr><tr><td>maximum</td><td>æ»‘åŠ¨æ¡æœ€å¤§å€¼</td></tr><tr><td>singleStep</td><td>åœ¨min-maxä¹‹é—´æ˜¾ç¤ºçš„æ­¥é•¿,ç§»åŠ¨ä¸€æ­¥çš„æ”¹å˜æ•°å€¼</td></tr><tr><td>pageStep</td><td>ç”¨äºè®¡ç®—åˆ»åº¦çš„ä¸ªæ•°(æœ‰é˜ˆå€¼é™åˆ¶,ä¸å®Œå…¨æŒ‰è¿™ä¸ªæ¥,æ²¡è¯¦ç»†ç ”ç©¶,æŸ‘æ©˜ç”¨æ¥æœ‰ç‚¹è¿·);</td></tr><tr><td>value</td><td>å½“å‰çš„æ˜¾ç¤ºæ•°å€¼(åœ¨min-maxä¹‹é—´,ä¹Ÿæ˜¯æœ¬ä¿¡å·çš„æ§½çš„å‚æ•°çš„æ•°å€¼)</td></tr><tr><td>sliderPosition</td><td>ï¼Ÿï¼Ÿ</td></tr><tr><td>tickInterval</td><td>ä¸¤ä¸ªåˆ»åº¦ä¹‹é—´çš„é—´éš”æ•°å€¼ï¼ˆé‡ç»˜ä½¿ç”¨ï¼‰</td></tr><tr><td>tickPosition</td><td>åˆ»åº¦çš„ä½ç½®</td></tr></tbody></table><p><font color=#70AD47 size=3 face="å¹¼åœ†">æ³¨æ„ï¼š</font> pageStep   è¿™ä¸ªç”¨äºè®¡ç®—åˆ»åº¦çš„ä¸ªæ•°(æœ‰é˜ˆå€¼é™åˆ¶,ä¸å®Œå…¨æŒ‰è¿™ä¸ªæ¥,æ²¡è¯¦ç»†ç ”ç©¶,æŸ‘æ©˜ç”¨æ¥æœ‰ç‚¹è¿·);  <font color=#D0087E size=4 face="å¹¼åœ†"><strong>åˆ»åº¦ä¸ªæ•° - 1 &#x3D; åˆ»åº¦é—´éš”çš„ä¸ªæ•° &#x3D; (span - 0) &#x2F; pageStep</strong></font>; å…³äº0, span, min, max, val çš„å…³ç³»,å‚è§<strong>sliderPositionFromValue()<strong>çš„å®ç° [æ­¤å¤„ç‰¹æŒ‡</strong>qfusionstyle.cpp</strong> é‡Œé¢çš„, ä¸çŸ¥é“qcommstyle.cppå®ç°åŸç†æ˜¯å¦ç›¸åŒ?]</p><br><h2 id="ç†è§£å±æ€§æ­¥é•¿sigleStepã€pageSteopï¼š"><a href="#ç†è§£å±æ€§æ­¥é•¿sigleStepã€pageSteopï¼š" class="headerlink" title="ç†è§£å±æ€§æ­¥é•¿sigleStepã€pageSteopï¼š"></a>ç†è§£å±æ€§æ­¥é•¿sigleStepã€pageSteopï¼š</h2><p>å› ä¸º<strong>QSlider &#x3D; æ»‘å—ï¼ˆå¥æŸ„ï¼‰+ æ»‘æ§½ + åˆ»åº¦ï¼ˆçŸ©å½¢ï¼‰</strong>ï¼›</p><p>åˆ›å»ºä¸€ä¸ªç®€å•çš„å°ä¾‹å­ï¼Œæ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token class-name">Widget</span><span class="token double-colon punctuation">::</span><span class="token function">on_sliderHor_valueChanged</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> minimum <span class="token operator">=</span> ui<span class="token operator">-></span>sliderHor<span class="token operator">-></span><span class="token function">minimum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">//æ»‘åŠ¨æ¡æœ€å°å€¼</span>    <span class="token keyword">int</span> maximum <span class="token operator">=</span> ui<span class="token operator">-></span>sliderHor<span class="token operator">-></span><span class="token function">maximum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">//æ»‘åŠ¨æ¡æœ€å¤§å€¼</span>    <span class="token keyword">int</span> sigleStep <span class="token operator">=</span> ui<span class="token operator">-></span>sliderHor<span class="token operator">-></span><span class="token function">singleStep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//åœ¨min~maxä¹‹é—´æ˜¾ç¤ºçš„æ­¥é•¿,ç§»åŠ¨ä¸€æ­¥çš„æ”¹å˜æ•°å€¼</span>    <span class="token keyword">int</span> pageSteop <span class="token operator">=</span> ui<span class="token operator">-></span>sliderHor<span class="token operator">-></span><span class="token function">pageStep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">//ç”¨äºè®¡ç®—åˆ»åº¦çš„ä¸ªæ•°(æœ‰é˜ˆå€¼é™åˆ¶,ä¸å®Œå…¨æŒ‰è¿™ä¸ªæ¥ï¼‰</span>    <span class="token keyword">int</span> val <span class="token operator">=</span> ui<span class="token operator">-></span>sliderHor<span class="token operator">-></span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                      <span class="token comment">//å½“å‰çš„æ˜¾ç¤ºæ•°å€¼(åœ¨min~maxä¹‹é—´,ä¹Ÿæ˜¯æœ¬ä¿¡å·çš„æ§½çš„å‚æ•°çš„æ•°å€¼)</span>    <span class="token keyword">int</span> sliderPosition <span class="token operator">=</span> ui<span class="token operator">-></span>sliderHor<span class="token operator">-></span><span class="token function">sliderPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//?? ä¸æ˜¯å¾ˆæ¸…æ¥š</span>    <span class="token keyword">int</span> tickinterval <span class="token operator">=</span> ui<span class="token operator">-></span>sliderHor<span class="token operator">-></span><span class="token function">tickInterval</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//ä¸¤ä¸ªåˆ»åº¦ä¹‹é—´çš„é—´éš”æ•°å€¼ï¼ˆé‡ç»˜ä½¿ç”¨ï¼‰</span>    <span class="token keyword">int</span> tickPosition <span class="token operator">=</span> ui<span class="token operator">-></span>sliderHor<span class="token operator">-></span><span class="token function">tickPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//åˆ»åº¦çš„ä½ç½®</span>    QString str <span class="token operator">=</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"value:%1,  minimum:%2,  maximum:%3,  sigleStep:%4,  pageSteop:%5,  val:%6,  sliderPosition:%7,  tickinterval:%8,  tickPosition:%9"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>minimum<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>maximum<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>sigleStep<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>pageSteop<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>sliderPosition<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>tickinterval<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>tickPosition<span class="token punctuation">)</span><span class="token punctuation">;</span>                           <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>str<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å…¶æ•ˆæœå¦‚ä¸‹ï¼šæœ‰<strong>qDebug</strong>å¯ä»¥æŸ¥çœ‹æ¯ä¸€ä¸ªæ•°å€¼çš„å«ä¹‰ï¼Œä»¥åŠå˜åŒ–å¯ä»¥çœ‹å‡ºå…¶å«ä¹‰ï¼ˆæ¯æ¬¡æŒ‰ä¸‹æŒ‰ä¸‹ä¸€ä¸ªæ–¹å‘â†’æˆ–â†æŒ‰é”®ï¼‰ï¼›å°±ä¼šæ˜¾ç¤ºä¸€è¡Œæ•°æ®ï¼Œ é‡ç‚¹è§‚å¯ŸsigleStepã€sigleStepã€pageSteopçš„æ•°å€¼ï¼›</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190904185953.png"/ loading="lazy"><p>æ„Ÿè§‰å…¶ä¸Šé¢è¿™äº›çŸ©å½¢ï¼Œå¤§å¤šæ˜¯ä½¿ç”¨æ—¶å€™ï¼Œè€Œéæ›´åº•å±‚çš„é‡ç»˜è¯¥ç©ºé—´ä½¿ç”¨çš„ï¼›è€Œ<strong>sliderPosition</strong>ã€<strong>tickPosition</strong>æ‰æ˜¯é‡ç»˜ä½¿ç”¨å¾—ã€‚æœ‰äº†ä¸Šé¢çš„åŸºç¡€ä¹‹å,ä¸‹é¢å¼€å§‹æ­£ç»çš„é‡ç»˜ï¼š</p><br><h2 id="é‡ç»˜QSliderï¼š"><a href="#é‡ç»˜QSliderï¼š" class="headerlink" title="é‡ç»˜QSliderï¼š"></a>é‡ç»˜QSliderï¼š</h2><p><strong>é‡ç»˜æ€è·¯ï¼š</strong></p><ul><li>å…ˆé¢„å…ˆè®¡ç®—å¥½<strong>æ»‘å—ï¼ˆçŸ©å½¢ï¼‰+ æ»‘æ§½ï¼ˆçŸ©å½¢ï¼‰ + åˆ»åº¦ï¼ˆçŸ©å½¢ï¼‰</strong></li><li>å¯¹è¯¥éƒ¨åˆ†çŸ©å½¢è¿›è¡Œç»˜ç”»</li></ul><h3 id="è®¡ç®—æ‰€éœ€è¦çš„ä¸‰ä¸ªéƒ¨åˆ†çš„çŸ©å½¢ï¼š"><a href="#è®¡ç®—æ‰€éœ€è¦çš„ä¸‰ä¸ªéƒ¨åˆ†çš„çŸ©å½¢ï¼š" class="headerlink" title="è®¡ç®—æ‰€éœ€è¦çš„ä¸‰ä¸ªéƒ¨åˆ†çš„çŸ©å½¢ï¼š"></a>è®¡ç®—æ‰€éœ€è¦çš„ä¸‰ä¸ªéƒ¨åˆ†çš„çŸ©å½¢ï¼š</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">QRect <span class="token class-name">CustomStyle</span><span class="token double-colon punctuation">::</span><span class="token function">subControlRect</span><span class="token punctuation">(</span>QStyle<span class="token double-colon punctuation">::</span>ComplexControl cc<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOptionComplex <span class="token operator">*</span>opt<span class="token punctuation">,</span>                                     QStyle<span class="token double-colon punctuation">::</span>SubControl sc<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>w<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">&#123;</span>    <span class="token keyword">switch</span> <span class="token punctuation">(</span>cc<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">case</span> CC_Slider<span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">const</span> QStyleOptionSlider <span class="token operator">*</span>option <span class="token operator">=</span> <span class="token generic-function"><span class="token function">qstyleoption_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">const</span> QStyleOptionSlider <span class="token operator">*</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>opt<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            QRectF rect <span class="token operator">=</span> option<span class="token operator">-></span>rect<span class="token punctuation">;</span>                                                    <span class="token comment">//Slideræ§ä»¶æ€»çš„å¤§å°çŸ©å½¢</span>            <span class="token keyword">int</span> slider_size <span class="token operator">=</span> <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">pixelMetric</span><span class="token punctuation">(</span>PM_SliderControlThickness<span class="token punctuation">,</span> opt<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//æ»‘å—çš„é«˜åº¦</span><span class="token comment">//            int tick_size = proxy()->pixelMetric(PM_SliderTickmarkOffset, opt, w);         //åˆ»åº¦çš„é«˜åº¦</span>            QRectF slider_handle_rect <span class="token operator">=</span> rect<span class="token punctuation">;</span>                                              <span class="token comment">//æ»‘å—å’Œæ»‘æ¼•çš„çš„æœ€å°å…¬å…±çŸ©å½¢ (åé¢è¢«ç”¨ä½œä¸´æ—¶ä¸”è¢«æ”¹å˜çš„)</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>option<span class="token operator">-></span>orientation <span class="token operator">==</span> Qt<span class="token double-colon punctuation">::</span>Horizontal<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                slider_handle_rect<span class="token punctuation">.</span><span class="token function">setHeight</span><span class="token punctuation">(</span>slider_size<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>option<span class="token operator">-></span>tickPosition <span class="token operator">==</span> QSlider<span class="token double-colon punctuation">::</span>TicksAbove<span class="token punctuation">)</span> slider_handle_rect<span class="token punctuation">.</span><span class="token function">moveBottom</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span><span class="token function">bottom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>option<span class="token operator">-></span>tickPosition <span class="token operator">==</span> QSlider<span class="token double-colon punctuation">::</span>TicksBelow<span class="token punctuation">)</span> slider_handle_rect<span class="token punctuation">.</span><span class="token function">moveTop</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>option<span class="token operator">-></span>tickPosition <span class="token operator">==</span> QSlider<span class="token double-colon punctuation">::</span>TicksBothSides<span class="token punctuation">)</span> slider_handle_rect<span class="token punctuation">.</span><span class="token function">moveCenter</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                slider_handle_rect<span class="token punctuation">.</span><span class="token function">setWidth</span><span class="token punctuation">(</span>slider_size<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>option<span class="token operator">-></span>tickPosition <span class="token operator">==</span> QSlider<span class="token double-colon punctuation">::</span>TicksRight<span class="token punctuation">)</span>  slider_handle_rect<span class="token punctuation">.</span><span class="token function">moveLeft</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span><span class="token function">left</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>option<span class="token operator">-></span>tickPosition <span class="token operator">==</span> QSlider<span class="token double-colon punctuation">::</span>TicksLeft<span class="token punctuation">)</span>   slider_handle_rect<span class="token punctuation">.</span><span class="token function">moveRight</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span><span class="token function">right</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>option<span class="token operator">-></span>tickPosition <span class="token operator">==</span> QSlider<span class="token double-colon punctuation">::</span>TicksBothSides<span class="token punctuation">)</span> slider_handle_rect<span class="token punctuation">.</span><span class="token function">moveCenter</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            QRectF rectStatic <span class="token operator">=</span>  slider_handle_rect<span class="token punctuation">;</span>   <span class="token comment">//rectStaticä½œä¸º æ»‘å—å’Œæ»‘æ¼•çš„çš„æœ€å°å…¬å…±çŸ©å½¢(ä¸æ”¹å˜)</span>            <span class="token keyword">switch</span> <span class="token punctuation">(</span>sc<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">case</span> SC_SliderGroove<span class="token operator">:</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//æ»‘æ¼•</span>                qreal groove_size <span class="token operator">=</span> slider_size <span class="token operator">/</span> <span class="token number">4.0</span><span class="token punctuation">;</span>                QRectF groove_rect<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>option<span class="token operator">-></span>orientation <span class="token operator">==</span> Qt<span class="token double-colon punctuation">::</span>Horizontal<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    groove_rect<span class="token punctuation">.</span><span class="token function">setWidth</span><span class="token punctuation">(</span>slider_handle_rect<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    groove_rect<span class="token punctuation">.</span><span class="token function">setHeight</span><span class="token punctuation">(</span>groove_size<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                    groove_rect<span class="token punctuation">.</span><span class="token function">setWidth</span><span class="token punctuation">(</span>groove_size<span class="token punctuation">)</span><span class="token punctuation">;</span>                    groove_rect<span class="token punctuation">.</span><span class="token function">setHeight</span><span class="token punctuation">(</span>slider_handle_rect<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                groove_rect<span class="token punctuation">.</span><span class="token function">moveCenter</span><span class="token punctuation">(</span>slider_handle_rect<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> groove_rect<span class="token punctuation">.</span><span class="token function">toRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">case</span> SC_SliderHandle<span class="token operator">:</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//æ»‘å—</span>                <span class="token keyword">int</span> sliderPos <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">pixelMetric</span><span class="token punctuation">(</span>PM_SliderLength<span class="token punctuation">,</span> option<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">bool</span> horizontal <span class="token operator">=</span> option<span class="token operator">-></span>orientation <span class="token operator">==</span> Qt<span class="token double-colon punctuation">::</span>Horizontal<span class="token punctuation">;</span>                sliderPos <span class="token operator">=</span> <span class="token function">sliderPositionFromValue</span><span class="token punctuation">(</span>option<span class="token operator">-></span>minimum<span class="token punctuation">,</span> option<span class="token operator">-></span>maximum<span class="token punctuation">,</span> option<span class="token operator">-></span>sliderPosition<span class="token punctuation">,</span>                                                    <span class="token punctuation">(</span>horizontal <span class="token operator">?</span> slider_handle_rect<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> slider_handle_rect<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> len<span class="token punctuation">,</span> option<span class="token operator">-></span>upsideDown<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>horizontal<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    slider_handle_rect<span class="token punctuation">.</span><span class="token function">moveLeft</span><span class="token punctuation">(</span>slider_handle_rect<span class="token punctuation">.</span><span class="token function">left</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> sliderPos<span class="token punctuation">)</span><span class="token punctuation">;</span>                    slider_handle_rect<span class="token punctuation">.</span><span class="token function">setWidth</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>                    slider_handle_rect<span class="token punctuation">.</span><span class="token function">moveTop</span><span class="token punctuation">(</span>rectStatic<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                    slider_handle_rect<span class="token punctuation">.</span><span class="token function">moveTop</span><span class="token punctuation">(</span>slider_handle_rect<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> sliderPos<span class="token punctuation">)</span><span class="token punctuation">;</span>                    slider_handle_rect<span class="token punctuation">.</span><span class="token function">setHeight</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>                    slider_handle_rect<span class="token punctuation">.</span><span class="token function">moveLeft</span><span class="token punctuation">(</span>rectStatic<span class="token punctuation">.</span><span class="token function">left</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                <span class="token keyword">return</span> slider_handle_rect<span class="token punctuation">.</span><span class="token function">toRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">case</span> SC_SliderTickmarks<span class="token operator">:</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//åˆ»åº¦çš„çŸ©å½¢</span>                QRectF tick_rect <span class="token operator">=</span> rect<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>option<span class="token operator">-></span>orientation <span class="token operator">==</span> Qt<span class="token double-colon punctuation">::</span>Horizontal<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    tick_rect<span class="token punctuation">.</span><span class="token function">setHeight</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> slider_handle_rect<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>option<span class="token operator">-></span>tickPosition <span class="token operator">==</span> QSlider<span class="token double-colon punctuation">::</span>TicksAbove<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        tick_rect<span class="token punctuation">.</span><span class="token function">moveTop</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>option<span class="token operator">-></span>tickPosition <span class="token operator">==</span> QSlider<span class="token double-colon punctuation">::</span>TicksBelow<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        tick_rect<span class="token punctuation">.</span><span class="token function">moveBottom</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span><span class="token function">bottom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                    tick_rect<span class="token punctuation">.</span><span class="token function">setWidth</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> slider_handle_rect<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>option<span class="token operator">-></span>tickPosition <span class="token operator">==</span> QSlider<span class="token double-colon punctuation">::</span>TicksLeft<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        tick_rect<span class="token punctuation">.</span><span class="token function">moveLeft</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span><span class="token function">left</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>option<span class="token operator">-></span>tickPosition <span class="token operator">==</span> QSlider<span class="token double-colon punctuation">::</span>TicksRight<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        tick_rect<span class="token punctuation">.</span><span class="token function">moveRight</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span><span class="token function">right</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span>                <span class="token keyword">return</span> tick_rect<span class="token punctuation">.</span><span class="token function">toRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">default</span><span class="token operator">:</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">default</span><span class="token operator">:</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token class-name">QCommonStyle</span><span class="token double-colon punctuation">::</span><span class="token function">subControlRect</span><span class="token punctuation">(</span>cc<span class="token punctuation">,</span> opt<span class="token punctuation">,</span> sc<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å†å¯¹å…¶ä¸­æ¯ä¸€ä¸ªçŸ©å½¢ï¼ˆä¸€å…±3ä¸ªï¼‰è¿›è¡Œé‡ç»˜ï¼š"><a href="#å†å¯¹å…¶ä¸­æ¯ä¸€ä¸ªçŸ©å½¢ï¼ˆä¸€å…±3ä¸ªï¼‰è¿›è¡Œé‡ç»˜ï¼š" class="headerlink" title="å†å¯¹å…¶ä¸­æ¯ä¸€ä¸ªçŸ©å½¢ï¼ˆä¸€å…±3ä¸ªï¼‰è¿›è¡Œé‡ç»˜ï¼š"></a>å†å¯¹å…¶ä¸­æ¯ä¸€ä¸ªçŸ©å½¢ï¼ˆä¸€å…±3ä¸ªï¼‰è¿›è¡Œé‡ç»˜ï¼š</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token class-name">ChameleonStyle</span><span class="token double-colon punctuation">::</span><span class="token function">drawComplexControl</span><span class="token punctuation">(</span>QStyle<span class="token double-colon punctuation">::</span>ComplexControl cc<span class="token punctuation">,</span> <span class="token keyword">const</span> QStyleOptionComplex <span class="token operator">*</span>opt<span class="token punctuation">,</span>                                        QPainter <span class="token operator">*</span>p<span class="token punctuation">,</span> <span class="token keyword">const</span> QWidget <span class="token operator">*</span>w<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">&#123;</span>    <span class="token keyword">switch</span> <span class="token punctuation">(</span>cc<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">case</span> CC_Slider <span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">const</span> QStyleOptionSlider <span class="token operator">*</span>slider <span class="token operator">=</span> <span class="token generic-function"><span class="token function">qstyleoption_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">const</span> QStyleOptionSlider <span class="token operator">*</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>opt<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//å„ä¸ªä½¿ç”¨çš„çŸ©å½¢å¤§å°å’Œä½ç½®</span>            QRectF rect <span class="token operator">=</span> opt<span class="token operator">-></span>rect<span class="token punctuation">;</span>                                                                            <span class="token comment">//Slideræ§ä»¶æœ€å¤§çš„çŸ©å½¢(åŒ…å«å¦‚ä¸‹ä¸‰ä¸ª)</span>            QRectF rectHandle <span class="token operator">=</span> <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">subControlRect</span><span class="token punctuation">(</span>CC_Slider<span class="token punctuation">,</span> opt<span class="token punctuation">,</span> SC_SliderHandle<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">//æ»‘å—çŸ©å½¢</span>            QRectF rectSliderTickmarks <span class="token operator">=</span> <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">subControlRect</span><span class="token punctuation">(</span>CC_Slider<span class="token punctuation">,</span> opt<span class="token punctuation">,</span> SC_SliderTickmarks<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//åˆ»åº¦çš„çŸ©å½¢</span>            QRect rectGroove <span class="token operator">=</span> <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">subControlRect</span><span class="token punctuation">(</span>CC_Slider<span class="token punctuation">,</span> opt<span class="token punctuation">,</span> SC_SliderGroove<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment">//æ»‘æ§½çš„çŸ©å½¢</span><span class="token comment">//            qDebug()&lt;&lt;"____04_____Slideræ§ä»¶æœ€å¤§çš„çŸ©å½¢(åŒ…å«å¦‚ä¸‹ä¸‰ä¸ª):"&lt;&lt;rect&lt;&lt;"  æ»‘å—çŸ©å½¢:"&lt;&lt;rectHandle&lt;&lt;"  åˆ»åº¦çš„çŸ©å½¢:"&lt;&lt;rectSliderTickmarks&lt;&lt;"   æ»‘æ§½çš„çŸ©å½¢:"&lt;&lt;rectGroove&lt;&lt;endl;</span><span class="token comment">//            //æµ‹è¯•(ä¿ç•™ä¸åˆ )</span>            p<span class="token operator">-></span><span class="token function">fillRect</span><span class="token punctuation">(</span>rect<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>gray<span class="token punctuation">)</span><span class="token punctuation">;</span>            p<span class="token operator">-></span><span class="token function">fillRect</span><span class="token punctuation">(</span>rectSliderTickmarks<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>blue<span class="token punctuation">)</span><span class="token punctuation">;</span>            p<span class="token operator">-></span><span class="token function">fillRect</span><span class="token punctuation">(</span>rectGroove<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>red<span class="token punctuation">)</span><span class="token punctuation">;</span>            p<span class="token operator">-></span><span class="token function">fillRect</span><span class="token punctuation">(</span>rectHandle<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>green<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">"---rect:"</span><span class="token operator">&lt;&lt;</span>rect<span class="token operator">&lt;&lt;</span><span class="token string">"  rectHandle:"</span><span class="token operator">&lt;&lt;</span>rectHandle<span class="token operator">&lt;&lt;</span><span class="token string">"   rectSliderTickmarks:"</span><span class="token operator">&lt;&lt;</span>rectSliderTickmarks<span class="token operator">&lt;&lt;</span><span class="token string">"   rectGroove:"</span><span class="token operator">&lt;&lt;</span>rectGroove<span class="token punctuation">;</span>            QPen pen<span class="token punctuation">;</span>            <span class="token comment">//ç»˜ç”» æ»‘æ§½(çº¿)</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>opt<span class="token operator">-></span>subControls <span class="token operator">&amp;</span> SC_SliderGroove<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                pen<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>CustomDashLine<span class="token punctuation">)</span><span class="token punctuation">;</span>                QVector<span class="token operator">&lt;</span>qreal<span class="token operator">></span> dashes<span class="token punctuation">;</span>                qreal space <span class="token operator">=</span> <span class="token number">1.3</span><span class="token punctuation">;</span>                dashes <span class="token operator">&lt;&lt;</span> <span class="token number">0.1</span> <span class="token operator">&lt;&lt;</span> space<span class="token punctuation">;</span>                pen<span class="token punctuation">.</span><span class="token function">setDashPattern</span><span class="token punctuation">(</span>dashes<span class="token punctuation">)</span><span class="token punctuation">;</span>                pen<span class="token punctuation">.</span><span class="token function">setWidthF</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                pen<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span><span class="token function">getColor</span><span class="token punctuation">(</span>opt<span class="token punctuation">,</span> QPalette<span class="token double-colon punctuation">::</span>Highlight<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                p<span class="token operator">-></span><span class="token function">setPen</span><span class="token punctuation">(</span>pen<span class="token punctuation">)</span><span class="token punctuation">;</span>                p<span class="token operator">-></span><span class="token function">setRenderHint</span><span class="token punctuation">(</span>QPainter<span class="token double-colon punctuation">::</span>Antialiasing<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>slider<span class="token operator">-></span>orientation <span class="token operator">==</span> Qt<span class="token double-colon punctuation">::</span>Horizontal<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    p<span class="token operator">-></span><span class="token function">drawLine</span><span class="token punctuation">(</span><span class="token function">QPointF</span><span class="token punctuation">(</span>rectGroove<span class="token punctuation">.</span><span class="token function">left</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rectHandle<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">QPointF</span><span class="token punctuation">(</span>rectHandle<span class="token punctuation">.</span><span class="token function">left</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rectHandle<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    pen<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span><span class="token function">getColor</span><span class="token punctuation">(</span>opt<span class="token punctuation">,</span> QPalette<span class="token double-colon punctuation">::</span>Foreground<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    p<span class="token operator">-></span><span class="token function">setPen</span><span class="token punctuation">(</span>pen<span class="token punctuation">)</span><span class="token punctuation">;</span>                    p<span class="token operator">-></span><span class="token function">drawLine</span><span class="token punctuation">(</span><span class="token function">QPointF</span><span class="token punctuation">(</span>rectGroove<span class="token punctuation">.</span><span class="token function">right</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rectHandle<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">QPointF</span><span class="token punctuation">(</span>rectHandle<span class="token punctuation">.</span><span class="token function">right</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rectHandle<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                    p<span class="token operator">-></span><span class="token function">drawLine</span><span class="token punctuation">(</span><span class="token function">QPointF</span><span class="token punctuation">(</span>rectGroove<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rectGroove<span class="token punctuation">.</span><span class="token function">bottom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">QPointF</span><span class="token punctuation">(</span>rectGroove<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  rectHandle<span class="token punctuation">.</span><span class="token function">bottom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    pen<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span><span class="token function">getColor</span><span class="token punctuation">(</span>opt<span class="token punctuation">,</span> QPalette<span class="token double-colon punctuation">::</span>Foreground<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    p<span class="token operator">-></span><span class="token function">setPen</span><span class="token punctuation">(</span>pen<span class="token punctuation">)</span><span class="token punctuation">;</span>                    p<span class="token operator">-></span><span class="token function">drawLine</span><span class="token punctuation">(</span><span class="token function">QPointF</span><span class="token punctuation">(</span>rectGroove<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  rectGroove<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">QPointF</span><span class="token punctuation">(</span>rectGroove<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  rectHandle<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>            <span class="token comment">//ç»˜ç”» æ»‘å—</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>opt<span class="token operator">-></span>subControls <span class="token operator">&amp;</span> SC_SliderHandle<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                pen<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>SolidLine<span class="token punctuation">)</span><span class="token punctuation">;</span>                p<span class="token operator">-></span><span class="token function">setPen</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>NoPen<span class="token punctuation">)</span><span class="token punctuation">;</span>                p<span class="token operator">-></span><span class="token function">setBrush</span><span class="token punctuation">(</span><span class="token function">getColor</span><span class="token punctuation">(</span>opt<span class="token punctuation">,</span> QPalette<span class="token double-colon punctuation">::</span>Highlight<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                p<span class="token operator">-></span><span class="token function">drawRoundedRect</span><span class="token punctuation">(</span>rectHandle<span class="token punctuation">,</span> <span class="token class-name">DStyle</span><span class="token double-colon punctuation">::</span><span class="token function">pixelMetric</span><span class="token punctuation">(</span>DStyle<span class="token double-colon punctuation">::</span>PM_FrameRadius<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">DStyle</span><span class="token double-colon punctuation">::</span><span class="token function">pixelMetric</span><span class="token punctuation">(</span>DStyle<span class="token double-colon punctuation">::</span>PM_FrameRadius<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token comment">//ç»˜ç”» åˆ»åº¦,ç»˜ç”»æ–¹å¼äº†å‚è€ƒqfusionstyle.cpp</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>opt<span class="token operator">-></span>subControls <span class="token operator">&amp;</span> SC_SliderTickmarks<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> slider<span class="token operator">-></span>tickInterval<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                                   <span class="token comment">//éœ€è¦ç»˜ç”»åˆ»åº¦</span>                p<span class="token operator">-></span><span class="token function">setPen</span><span class="token punctuation">(</span>opt<span class="token operator">-></span>palette<span class="token punctuation">.</span><span class="token function">foreground</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">color</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">int</span> available <span class="token operator">=</span> <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">pixelMetric</span><span class="token punctuation">(</span>PM_SliderSpaceAvailable<span class="token punctuation">,</span> slider<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//å¯ç”¨ç©ºé—´</span>                <span class="token keyword">int</span> interval <span class="token operator">=</span> slider<span class="token operator">-></span>tickInterval<span class="token punctuation">;</span>                                       <span class="token comment">//æ ‡è®°é—´éš”</span><span class="token comment">//                int tickSize = proxy()->pixelMetric(PM_SliderTickmarkOffset, opt, w);      //æ ‡è®°åç§»</span><span class="token comment">//                int ticks = slider->tickPosition;                                          //æ ‡è®°ä½ç½®</span>                <span class="token keyword">int</span> v <span class="token operator">=</span> slider<span class="token operator">-></span>minimum<span class="token punctuation">;</span>                <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">pixelMetric</span><span class="token punctuation">(</span>PM_SliderLength<span class="token punctuation">,</span> slider<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">while</span> <span class="token punctuation">(</span>v <span class="token operator">&lt;=</span> slider<span class="token operator">-></span>maximum <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                                          <span class="token comment">//æ­¤å¤„ä¸æ·»åŠ +1çš„è¯, ä¼šå°‘ç»˜ç”»ä¸€æ ¹çº¿</span>                    <span class="token keyword">const</span> <span class="token keyword">int</span> v_ <span class="token operator">=</span> <span class="token function">qMin</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> slider<span class="token operator">-></span>maximum<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">int</span> pos <span class="token operator">=</span> <span class="token function">sliderPositionFromValue</span><span class="token punctuation">(</span>slider<span class="token operator">-></span>minimum<span class="token punctuation">,</span> slider<span class="token operator">-></span>maximum<span class="token punctuation">,</span> v_<span class="token punctuation">,</span> available<span class="token punctuation">)</span> <span class="token operator">+</span> len <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>slider<span class="token operator">-></span>orientation <span class="token operator">==</span> Qt<span class="token double-colon punctuation">::</span>Horizontal<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span>slider<span class="token operator">-></span>tickPosition <span class="token operator">==</span> QSlider<span class="token double-colon punctuation">::</span>TicksBothSides<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>              <span class="token comment">//ä¸¤ä¾§éƒ½ä¼šç»˜ç”», æ€»çš„çŸ©å½¢-ä¸­å¿ƒæ»‘æ§½æ»‘å—æœ€å°å…¬å…±çŸ©å½¢</span>                            p<span class="token operator">-></span><span class="token function">drawLine</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span> rect<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pos<span class="token punctuation">,</span> rectHandle<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                            p<span class="token operator">-></span><span class="token function">drawLine</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span> rect<span class="token punctuation">.</span><span class="token function">bottom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pos<span class="token punctuation">,</span> rectHandle<span class="token punctuation">.</span><span class="token function">bottom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                            p<span class="token operator">-></span><span class="token function">drawLine</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span> rectSliderTickmarks<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pos<span class="token punctuation">,</span> rectSliderTickmarks<span class="token punctuation">.</span><span class="token function">bottom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token punctuation">&#125;</span>                    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span>slider<span class="token operator">-></span>tickPosition <span class="token operator">==</span> QSlider<span class="token double-colon punctuation">::</span>TicksBothSides<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                            p<span class="token operator">-></span><span class="token function">drawLine</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span><span class="token function">left</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pos<span class="token punctuation">,</span> rectHandle<span class="token punctuation">.</span><span class="token function">left</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pos<span class="token punctuation">)</span><span class="token punctuation">;</span>                            p<span class="token operator">-></span><span class="token function">drawLine</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span><span class="token function">right</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pos<span class="token punctuation">,</span> rectHandle<span class="token punctuation">.</span><span class="token function">right</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pos<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                            p<span class="token operator">-></span><span class="token function">drawLine</span><span class="token punctuation">(</span>rectSliderTickmarks<span class="token punctuation">.</span><span class="token function">left</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pos<span class="token punctuation">,</span> rectSliderTickmarks<span class="token punctuation">.</span><span class="token function">right</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pos<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token punctuation">&#125;</span>                    <span class="token punctuation">&#125;</span>                    <span class="token comment">// in the case where maximum is max int</span>                    <span class="token keyword">int</span> nextInterval <span class="token operator">=</span> v <span class="token operator">+</span> interval<span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>nextInterval <span class="token operator">&lt;</span> v<span class="token punctuation">)</span>                        <span class="token keyword">break</span><span class="token punctuation">;</span>                    v <span class="token operator">=</span> nextInterval<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">default</span><span class="token operator">:</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token class-name">DStyle</span><span class="token double-colon punctuation">::</span><span class="token function">drawComplexControl</span><span class="token punctuation">(</span>cc<span class="token punctuation">,</span> opt<span class="token punctuation">,</span> p<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="è‹¥åˆ»åº¦å¼‚å¸¸æƒ…å†µ-ébug-ï¼š"><a href="#è‹¥åˆ»åº¦å¼‚å¸¸æƒ…å†µ-ébug-ï¼š" class="headerlink" title="è‹¥åˆ»åº¦å¼‚å¸¸æƒ…å†µ(ébug)ï¼š"></a>è‹¥åˆ»åº¦å¼‚å¸¸æƒ…å†µ(ébug)ï¼š</h2><p><strong>æ³¨æ„ï¼š</strong>  ä¸‹å›¾ä¸­æ˜¯ä½¿ç”¨<code>pen.setStyle(Qt::DotLine);</code>æ¥ç»˜ç”»çš„ï¼Œä¸Šé¢çš„ä»£ç ä¿®æ”¹ä¸ºäº†<code>pen.setStyle(Qt::CustomDashLine);</code>æ¥ç»˜ç”»ï¼Œæ‰€ä»¥ä¼š<strong>ï¼ˆçœ‹åˆ°çš„æ»‘æ§½ï¼‰</strong>ç•¥æœ‰ä¸ä¸€æ ·ï¼›</p><p>å½“æ˜¾ç¤ºåŒºåŸŸæ¯”è¾ƒå°çš„æ—¶å€™,è€Œåˆ»åº¦æ¡çš„ä¸ªæ•°åˆæ¯”è¾ƒå¤šçš„æ—¶å€™(å¯†å¯†éº»éº»çš„é‚£ç§),å½“è¶…è¿‡æŸä¸€é˜ˆå€¼æ—¶å€™,ç³»ç»Ÿä¼šè‡ªåŠ¨å‹ç¼©æ˜¾ç¤º,ä¸€ä¸ªå˜æˆ**â€èƒ–ç˜¦ç›¸é—´éš”â€**,æ­¤æ—¶å¦‚æœå°†è¯¥ç²—çª—å£æ”¾å¤§,åˆ™ä¼šè¢«é‡ç»˜ç”»æ˜¾ç¤ºæ­£å¸¸,åˆ»åº¦æ¡å‡åŒ€ç›¸é—´éš”ã€‚</p><p>åŸå›¾æ•ˆæœï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190904192819.png"/ loading="lazy"><p>æœ¬æ¥è¿˜ä»¥ä¸ºæ˜¯è‡ªå·±é‡æ–°ç»˜ç”»çš„æ•ˆæœé€ æˆçš„,åé¢ç¡®å®šæ˜¯è¿‡å¯†å½¢æˆçš„æ˜¾ç¤ºå¼‚å¸¸æƒ…å†µ.å°±æƒ³ç€æœ‰æ²¡æœ‰èƒ½å¤Ÿçš„è§£å†³æ–¹æ³•,èƒ½å¤Ÿé‡æ–°ç»˜ç”»æ˜¾ç¤º.æƒ³ç€å‚è€ƒ<code>QFusion</code> é£æ ¼çš„å®ç°,äºæ˜¯ç¿»çœ‹æºç ï¼Œ<strong>åªçœ‹ç»˜ç”»åˆ»åº¦éƒ¨åˆ†</strong>çš„Qtæºç ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">if</span> <span class="token punctuation">(</span>option<span class="token operator">-></span>subControls <span class="token operator">&amp;</span> SC_SliderTickmarks<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                painter<span class="token operator">-></span><span class="token function">setPen</span><span class="token punctuation">(</span>outline<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">int</span> tickSize <span class="token operator">=</span> <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">pixelMetric</span><span class="token punctuation">(</span>PM_SliderTickmarkOffset<span class="token punctuation">,</span> option<span class="token punctuation">,</span> widget<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">int</span> available <span class="token operator">=</span> <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">pixelMetric</span><span class="token punctuation">(</span>PM_SliderSpaceAvailable<span class="token punctuation">,</span> slider<span class="token punctuation">,</span> widget<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">int</span> interval <span class="token operator">=</span> slider<span class="token operator">-></span>tickInterval<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>interval <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    interval <span class="token operator">=</span> slider<span class="token operator">-></span>singleStep<span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">QStyle</span><span class="token double-colon punctuation">::</span><span class="token function">sliderPositionFromValue</span><span class="token punctuation">(</span>slider<span class="token operator">-></span>minimum<span class="token punctuation">,</span> slider<span class="token operator">-></span>maximum<span class="token punctuation">,</span> interval<span class="token punctuation">,</span>                                                        available<span class="token punctuation">)</span>                            <span class="token operator">-</span> <span class="token class-name">QStyle</span><span class="token double-colon punctuation">::</span><span class="token function">sliderPositionFromValue</span><span class="token punctuation">(</span>slider<span class="token operator">-></span>minimum<span class="token punctuation">,</span> slider<span class="token operator">-></span>maximum<span class="token punctuation">,</span>                                                              <span class="token number">0</span><span class="token punctuation">,</span> available<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span>                        interval <span class="token operator">=</span> slider<span class="token operator">-></span>pageStep<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>interval <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span>                    interval <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>                <span class="token keyword">int</span> v <span class="token operator">=</span> slider<span class="token operator">-></span>minimum<span class="token punctuation">;</span>                <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">pixelMetric</span><span class="token punctuation">(</span>PM_SliderLength<span class="token punctuation">,</span> slider<span class="token punctuation">,</span> widget<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">while</span> <span class="token punctuation">(</span>v <span class="token operator">&lt;=</span> slider<span class="token operator">-></span>maximum <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token operator">==</span> slider<span class="token operator">-></span>maximum <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> interval <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>                        <span class="token keyword">break</span><span class="token punctuation">;</span>                    <span class="token keyword">const</span> <span class="token keyword">int</span> v_ <span class="token operator">=</span> <span class="token function">qMin</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> slider<span class="token operator">-></span>maximum<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">int</span> pos <span class="token operator">=</span> <span class="token function">sliderPositionFromValue</span><span class="token punctuation">(</span>slider<span class="token operator">-></span>minimum<span class="token punctuation">,</span> slider<span class="token operator">-></span>maximum<span class="token punctuation">,</span>                                                      v_<span class="token punctuation">,</span> <span class="token punctuation">(</span>horizontal                                                           <span class="token operator">?</span> slider<span class="token operator">-></span>rect<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                                                           <span class="token operator">:</span> slider<span class="token operator">-></span>rect<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> len<span class="token punctuation">,</span>                                                      slider<span class="token operator">-></span>upsideDown<span class="token punctuation">)</span> <span class="token operator">+</span> len <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>                    <span class="token keyword">int</span> extra <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>v_ <span class="token operator">==</span> slider<span class="token operator">-></span>minimum <span class="token operator">||</span> v_ <span class="token operator">==</span> slider<span class="token operator">-></span>maximum<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>horizontal<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span>ticksAbove<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                            painter<span class="token operator">-></span><span class="token function">drawLine</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span> slider<span class="token operator">-></span>rect<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> extra<span class="token punctuation">,</span>                                              pos<span class="token punctuation">,</span> slider<span class="token operator">-></span>rect<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> tickSize<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token punctuation">&#125;</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span>ticksBelow<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                            painter<span class="token operator">-></span><span class="token function">drawLine</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span> slider<span class="token operator">-></span>rect<span class="token punctuation">.</span><span class="token function">bottom</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> extra<span class="token punctuation">,</span>                                              pos<span class="token punctuation">,</span> slider<span class="token operator">-></span>rect<span class="token punctuation">.</span><span class="token function">bottom</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> tickSize<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token punctuation">&#125;</span>                    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span>ticksAbove<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                            painter<span class="token operator">-></span><span class="token function">drawLine</span><span class="token punctuation">(</span>slider<span class="token operator">-></span>rect<span class="token punctuation">.</span><span class="token function">left</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> extra<span class="token punctuation">,</span> pos<span class="token punctuation">,</span>                                              slider<span class="token operator">-></span>rect<span class="token punctuation">.</span><span class="token function">left</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> tickSize<span class="token punctuation">,</span> pos<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token punctuation">&#125;</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span>ticksBelow<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                            painter<span class="token operator">-></span><span class="token function">drawLine</span><span class="token punctuation">(</span>slider<span class="token operator">-></span>rect<span class="token punctuation">.</span><span class="token function">right</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> extra<span class="token punctuation">,</span> pos<span class="token punctuation">,</span>                                              slider<span class="token operator">-></span>rect<span class="token punctuation">.</span><span class="token function">right</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> tickSize<span class="token punctuation">,</span> pos<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token punctuation">&#125;</span>                    <span class="token punctuation">&#125;</span>                    <span class="token comment">// in the case where maximum is max int</span>                    <span class="token keyword">int</span> nextInterval <span class="token operator">=</span> v <span class="token operator">+</span> interval<span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>nextInterval <span class="token operator">&lt;</span> v<span class="token punctuation">)</span>                        <span class="token keyword">break</span><span class="token punctuation">;</span>                    v <span class="token operator">=</span> nextInterval<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç­‰ç­‰ï¼Œ è¿™æ ¹æœ¬æ²¡æœ‰è€ƒè™‘è¿™ä¸ªé—®é¢˜ï¼Œå¥½ä¸å¥½ã€‚è€Œä¸”æ„Ÿè§‰ç»˜ç”»åˆ»åº¦çš„æ–¹æ³•ï¼Œæ˜¯å¯¹ä¸€ä¸ªçŸ©å½¢çŸ©å½¢å¤šæ¬¡ç²¾ç¡®çš„è®¡ç®—ï¼Œeeemmmmmmmmmmï¼Œè¿™æ ·å­æ˜¯ä¸æ˜¯æœ‰ç‚¹å¤æ‚äº†äº†ã€‚æ„Ÿè§‰æ²¡æœ‰æˆ‘çš„å°†è¿™ä¸€ä¸ªè¶…å¤§çŸ©å½¢ï¼Œåˆ†å‰²æˆä¸ºä¸‰ä¸ªå°çŸ©å½¢è¿™ä¸€æ€è·¯ç®€å•ï¼Œç„¶ååœ¨å¯¹æ¯ä¸€å—å°çŸ©å½¢è¿›è¡Œç›¸åº”çš„ç»˜ç”»ã€‚</p><br><h2 id="è§£å†³æ–¹æ³•ï¼š"><a href="#è§£å†³æ–¹æ³•ï¼š" class="headerlink" title="è§£å†³æ–¹æ³•ï¼š"></a>è§£å†³æ–¹æ³•ï¼š</h2><p>å†³å®šå°è¯•ä¸€ä¸‹å…¶åŸç”Ÿ**<code>QFusion</code><strong>é£æ ¼ï¼ˆï¼‰æ˜¯æ€ä¹ˆè§£å†³è¿™ä¸ªæ•ˆæœ,å½“è®¾ç½®åˆ»åº¦é—´éš”æ¯”è¾ƒå°çš„æ—¶å€™,æ˜¾ç¤ºå®½åº¦æ¯”è¾ƒçª„æ—¶å€™,è¿™ä¸ªä¸œè¥¿å‡ºç°äº†â€èƒ–ç˜¦ç›¸äº’é—´éš”â€ï¼Œç„¶ååˆ©ç”¨ä¸Šé¢çš„ä¸€å¼€å§‹åˆ›å»ºçš„å°ä¾‹å­</strong>ï¼Œæ”¹å˜æ­¥é•¿å’Œåˆ»åº¦é—´ä¸ªå’Œmaxå€¼ï¼Œçœ‹çœ‹æ•ˆæœ**</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190904191258.png"/ loading="lazy"><p>ç”šè‡³å†æ¬¡æ”¹å˜æ­¥é•¿å’Œåˆ»åº¦é—´ä¸ªå’Œmaxå€¼ï¼Œçœ‹çœ‹æ•ˆæœã€‚è¿‡äºå¯†é›†ï¼Œæˆäº†çº¿</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190904192704.jpg"/ loading="lazy"><p>æ¡è‰,æ¡äº†ä¸ªè‰,æˆ‘æ¡äº†ä¸ªå¤§è‰.hhhhhhhhhhhhhhhhhh,åŸæ¥è€å“¥ä½ ä¹Ÿæ²¡æœ‰è®¾ç½®è¿™ä¸ªé—®é¢˜å•Š,æœæ–­çš„å‡ºç»“è®º,è¿™ä¸æ˜¯bug.æœæ–­ä¸å†ç»§ç»­ä¿®æ”¹äº†é‡ç»˜ç”»äº†.ååçš„ç¬‘äº†å‡ ä¸‹ä¹‹åã€‚</p><p>äºæ˜¯å°†ä¸€å¼€å§‹å‡ºç°é—®é¢˜çš„åœ°æ–¹ï¼Œå°†è¯¥çª—å£æœ€å¤§åŒ–ï¼Œç„¶åå±€éƒ¨æ‹‰å¤§ï¼Œçœ‹åˆ°è¿™ä¸ªæ•ˆæœï¼ˆæœç„¶å¾—åˆ°äº†éªŒè¯ï¼‰ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190904192930.png"/ loading="lazy"><p><strong>æœ€åæ€»ç»“ï¼š</strong>è¿™ä¸ªä¸æ˜¯bugï¼Œæˆ–è€…æ˜¾ç¤ºå¼‚å¸¸ã€‚å†·é™ä¸‹æ¥æ˜¯æ€è€ƒ:å¦‚æ­¤çª„çš„çŸ©å½¢é‡Œé¢,æ˜¾ç¤ºå¦‚æ­¤å¤šæ ¹åˆ»åº¦çº¿,ç”±äºåƒç´ é™åˆ¶,åªèƒ½åç»˜ç”»çš„æ¯”è¾ƒå¯†é›†,å½“è¿™ä¸ªæ•°å€¼æ›´å¤§çš„æ—¶å€™,ä¼šå‘ç°,è¿™ä¸ªä¼šå˜æˆä¸€æ¡ç›´çº¿(æ”¾å¤§æ‹‰å¼€æ˜¾ç¤º,æ‰ä¼šæ˜¾ç¤ºå…¶å®æ˜¯å‡åŒ€ç›¸é—´éš”çš„).</p><br><h2 id="æ€è€ƒæ€»ç»“ï¼š"><a href="#æ€è€ƒæ€»ç»“ï¼š" class="headerlink" title="æ€è€ƒæ€»ç»“ï¼š"></a>æ€è€ƒæ€»ç»“ï¼š</h2><ul><li>é¦–å…ˆæ£€æŸ¥ä»£ç ï¼Œæ˜¯å¦æ˜¯ç›¸å…³éƒ¨åˆ†çš„ä»£ç é€»è¾‘æœ‰é—®é¢˜</li><li>ä»ç„¶è§‰å¾—ä¸åº”è¯¥ä¹‹åï¼Œè¯•ä¸€ä¸‹Qtè‡ªå¸¦çš„æ˜¯å¦ä¼šé‡ç°ï¼Œæ’é™¤æ˜¯è‡ªå·±è¿˜æ˜¯éè‡ªå·±åŸå› </li><li>æ”¹å˜ç›¸å…³çš„å€¼ï¼Œå†™å°ä¾‹å­éªŒè¯ï¼ŒæŸ¥çœ‹æ•ˆæœ</li><li>å‘ç°ç»éªŒï¼š+1ï¼›  å®Œç¾ç»“æŸ</li></ul><br><h2 id="æ›´æ–°ï¼šæ›´åŠ ç²¾å‡†çš„ç»˜ç”»æ»‘æ§½"><a href="#æ›´æ–°ï¼šæ›´åŠ ç²¾å‡†çš„ç»˜ç”»æ»‘æ§½" class="headerlink" title="æ›´æ–°ï¼šæ›´åŠ ç²¾å‡†çš„ç»˜ç”»æ»‘æ§½"></a>æ›´æ–°ï¼šæ›´åŠ ç²¾å‡†çš„ç»˜ç”»æ»‘æ§½</h2><p>æ›´æ–°äº2019-09-09   </p><ul><li><a href="https://xmuli.tech/posts/dd3bbc4c">QStyleè‡ªå®šä¹‰é‡ç»˜QSlideræ§ä»¶</a></li><li><a href="https://xmuli.tech/posts/2b7554be">QStyleè‡ªå®šä¹‰é‡ç»˜QSlideræ§ä»¶äºŒ</a></li></ul><br><h2 id="æ€è€ƒåˆ†äº«ï¼š"><a href="#æ€è€ƒåˆ†äº«ï¼š" class="headerlink" title="æ€è€ƒåˆ†äº«ï¼š"></a>æ€è€ƒåˆ†äº«ï¼š</h2><p><font color=#D0087E size=4 face="å¹¼åœ†">å› ä¸ºæœ‰ç€è®¸è®¸å¤šå¤šçš„çƒ­å¿ƒç½‘å‹çš„æ— ç§åˆ†äº«ï¼Œä»ä»–ä»¬çš„åšå®¢ä¸­å­¦ä¹ æˆé•¿ï¼Œå­¦ä¼šå¾ˆå¤šï¼Œæ•…ä¹Ÿä¸è¾è¾›è‹¦ä¹Ÿå°†è‡ªå·±çš„é¡¹ç›®æˆ–ç»éªŒæ•´ç†æˆåšå®¢çš„å½¢å¼ï¼Œä¹Ÿæä¾›ç»™ä¸€èµ·å¤§å®¶å­¦ä¹ æ¢è®¨ä¸äº¤æµ </font></p>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QStyle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å°æŠ€å·§ï¼šè®¾ç½®`QToolBox`çš„æ¯ä¸€é¡µpageçš„ä½¿ç”¨å•ç‹¬çš„å¸ƒå±€ï¼ˆ`QTabWidget`åŒç†ï¼‰</title>
      <link href="/posts/217543be/"/>
      <url>/posts/217543be/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong> åœ¨ä½¿ç”¨QTçš„<strong>Design</strong>è®¾è®¡å¸ˆçš„æ—¶å€™ï¼Œå½“éœ€è¦ä½¿ç”¨æ§ä»¶<code>QToolBox</code>æ—¶å€™ï¼Œé‡Œé¢æ˜¯æœ‰å¤šé¡µçš„æ—¶å€™ï¼Œä¸ºæ¯ä¸€é¡µéƒ½è®¾ç½®æˆä¸€ä¸ªå•ç‹¬çš„å¸ƒå±€æ–¹å¼ã€‚å…¶ä¸­<code>QTabWidget</code>æ§ä»¶çš„æ–¹æ³•ä¸€è‡´ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ç®€è¿°ï¼š"><a href="#ç®€è¿°ï¼š" class="headerlink" title="ç®€è¿°ï¼š"></a>ç®€è¿°ï¼š</h2><p>â€‹<strong>è¯¦æƒ…ï¼š</strong>  è§ç®€ä»‹</p><br><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>win10 x64 ä¸“ä¸šç‰ˆ 1803</code>  </p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>Qt Creator 4.8.2 (Enterprise)</code>ï¼Œ <code>Qt 5.9.8</code></p><br><h2 id="çŸ¥è¯†åˆ†äº«ï¼š"><a href="#çŸ¥è¯†åˆ†äº«ï¼š" class="headerlink" title="çŸ¥è¯†åˆ†äº«ï¼š"></a>çŸ¥è¯†åˆ†äº«ï¼š</h2><p><strong>å°æŠ€å·§ï¼šè®¾ç½®<code>QToolBox</code>çš„æ¯ä¸€é¡µpageçš„ä½¿ç”¨å•ç‹¬çš„å¸ƒå±€ï¼ˆ<code>QTabWidget</code>åŒç†ï¼‰</strong></p><ul><li>1ã€é¦–å…ˆé€‰ä¸­QToolBoxæ§ä»¶</li><li>2ã€å†åœ¨Designè®¾è®¡å¸ˆï¼ˆå³ä¾§å…·ä½“çš„æŸä¸€page_xxxï¼‰é‡Œé¢ï¼Œç‚¹å‡»é€‰ä¸­ï¼Œæ‰“å¼€æ­¤page</li><li>3ã€<font color=#D0087E size=4 face="å¹¼åœ†"><strong>é‡è¦çš„ä¸€æ­¥ï¼š</strong></font> å…ˆå¿…é¡»éšæ„æ‹–æ›³ä¸€ä¸ªæ§ä»¶åˆ°è¿™ä¸€pageé¡µé‡Œé¢ï¼ˆæ‰èƒ½å¤Ÿè¿›è¡Œä¸‹ä¸€æ­¥ï¼‰</li><li>4ã€å›åˆ°ä¸­é—´ï¼Œé¼ æ ‡å³é”®å•ç‚¹å‡»ï¼Œé€‰ä¸­ <code>Lay out</code>ä¸€æ ï¼Œ é‡Œé¢é€‰æ‹©å…¶ä»–å…·ä½“çš„å¸ƒå±€æ–¹å¼ï¼Œå¦‚ï¼š<strong>Lay out in a Grid</strong></li><li>5ã€ç»§ç»­è®¾ç½®å…¶ä»–pageé¡µé¢ï¼Œ åŒä¸Š1~4æ­¥éª¤å¾ªç¯</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190901165542.png"/ loading="lazy"><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190901165612.png"/ loading="lazy"><br>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å°æŠ€å·§ï¼šDesignè®¾è®¡å¸ˆé‡Œï¼Œæ— æ³•æ‹–æ‹½actionåˆ°toolbaré‡Œ</title>
      <link href="/posts/8dd195fe/"/>
      <url>/posts/8dd195fe/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong>  åœ¨<strong>Qt</strong>çš„<strong>Design</strong>è®¾è®¡å¸ˆé‡Œé¢ï¼Œè¯•å›¾æ‹–æ‹½<strong>action</strong>åˆ°<strong>toolbar</strong>é‡Œé¢ï¼Œå´ä¸ç®¡æ€ä¹ˆç§»åŠ¨éƒ½æ˜¯ä¸€ä¸ªçº¢è‰²â—‹é‡Œé¢å¸¦ä¸ªXï¼šä½ç¦æ­¢æ‹–æ‹½æ­¤å¤„ï¼Œæ— æ³•æ‹–æ‹½æˆåŠŸã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ç®€è¿°ï¼š"><a href="#ç®€è¿°ï¼š" class="headerlink" title="ç®€è¿°ï¼š"></a>ç®€è¿°ï¼š</h2><p>â€‹<strong>è¯¦æƒ…ï¼š</strong>  è§ç®€ä»‹</p><br><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>win10 x64 ä¸“ä¸šç‰ˆ 1803</code>  </p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>   <code>Qt Creator 4.8.2 (Enterprise)</code>ï¼Œ <code>Qt 5.9.8</code></p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="çŸ¥è¯†åˆ†äº«ï¼š"><a href="#çŸ¥è¯†åˆ†äº«ï¼š" class="headerlink" title="çŸ¥è¯†åˆ†äº«ï¼š"></a>çŸ¥è¯†åˆ†äº«ï¼š</h2><p><strong>é—®é¢˜ï¼š</strong></p><p>è¯•å›¾æ‹–æ‹½<strong>action</strong>åˆ°<strong>toolbar</strong>é‡Œé¢ï¼Œå´ä¸ç®¡æ€ä¹ˆç§»åŠ¨éƒ½æ˜¯è¿™ä¸ªçº¢è‰²â—‹é‡Œé¢å¸¦ä¸ªXï¼šç¦æ­¢æ‹–æ‹½æ­¤å¤„</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190831000617.jpg"/ loading="lazy"><p>åœ¨Designè®¾è®¡å¸ˆé‡Œé¢ï¼Œæ˜¾ç¤ºQToolBarå·¥å…·æ éå¸¸å°ï¼Œä¸èƒ½æ‹–æ‹½ä¸‹é¢çš„actionåˆ°è¿™é‡Œï¼Œè¿›è¡Œå¯è§†åŒ–çš„æ·»åŠ ï¼›</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190831000434.jpg"/ loading="lazy"><p><strong>å¯è¡Œçš„æ–¹æ³•ï¼š</strong></p><p>ä½†æ˜¯è¿è¡Œä¹‹åï¼Œæƒ³è¦å¾—åˆ°çš„æ˜¾ç¤ºæ•ˆæœçš„ä¸€ä¸ªæ–¹æ³•ï¼ˆä¸ç®—è®©æˆ‘æ»¡æ„ï¼‰ï¼›å°±æ˜¯å¯ä»¥æ·»åŠ åˆ°QToolBaré‡Œé¢ï¼ˆè¿™æ˜¯ä½¿ç”¨ä»£ç æ·»åŠ æ–¹æ³•ï¼‰ï¼š<code>ui-&gt;mainToolBar-&gt;addAction(ui-&gt;actListInit);</code></p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190831001448.jpg"/ loading="lazy"><h2 id="è§£å†³æ–¹æ³•ï¼š"><a href="#è§£å†³æ–¹æ³•ï¼š" class="headerlink" title="è§£å†³æ–¹æ³•ï¼š"></a>è§£å†³æ–¹æ³•ï¼š</h2><ul><li><font color=#D0087E size=4 face="å¹¼åœ†"><strong>æ–¹æ³•ä¸€ï¼š</strong></font> ä»ç„¶åšæŒæš´åŠ›æ‹–æ‹½ï¼Œå±¡æ¬¡è¿›è¡Œå°è¯•ï¼Œæˆ–è®¸å¶å°”å‡ æ¬¡ä¼šæˆåŠŸ</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190901193120.png"/ loading="lazy"><ul><li><font color=#D0087E size=4 face="å¹¼åœ†"><strong>æ–¹æ³•äºŒï¼š</strong></font>å…ˆè°ƒæ•´QToolBarçš„miniumSizeçš„Heightçš„å¤§å°ï¼Œè®¾ç½®å¤§ä¸€ç‚¹ï¼Œç„¶åè¿›è¡Œæ‹–æ‹½ï¼Œä¼šå‘ç°å¦‚æ­¤å®¹æ˜“ï¼ˆä¸‹å›¾çº¢çº¿ä¸­ï¼Œæ˜¯è¡¨ç¤ºå¯ä»¥æ‹–æ‹½æ”¾åœ¨æ­¤å¤„ï¼‰</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190901193059.png"/ loading="lazy"><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><ul><li>è¿è¡ŒæˆåŠŸæ¼”ç¤º</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190831001314.jpg"/ loading="lazy"><br><h2 id="å¼€å¿ƒåˆ†äº«ï¼š"><a href="#å¼€å¿ƒåˆ†äº«ï¼š" class="headerlink" title="å¼€å¿ƒåˆ†äº«ï¼š"></a>å¼€å¿ƒåˆ†äº«ï¼š</h2><p>å› ä¸ºæœ‰ç€è®¸è®¸å¤šå¤šçš„çƒ­å¿ƒç½‘å‹çš„æ— ç§åˆ†äº«ï¼Œä»ä»–ä»¬çš„åšå®¢ä¸­å­¦ä¹ æˆé•¿ï¼Œå­¦ä¼šå¾ˆå¤šï¼Œæ•…ä¹Ÿä¸è¾è¾›è‹¦ä¹Ÿå°†è‡ªå·±çš„é¡¹ç›®æˆ–ç»éªŒæ•´ç†æˆåšå®¢çš„å½¢å¼ï¼Œä¹Ÿæä¾›ç»™ä¸€èµ·å¤§å®¶å­¦ä¹ æ¢è®¨ä¸äº¤æµ </p>]]></content>
      
      
      <categories>
          
          <category> ä¸“æ  - QtExamplesç³»åˆ— </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>è¾“å‡ºä¹±ç åŸå› ï¼šå¤æ–‡ç ã€å£å­—ç ã€ç¬¦å·ç ã€é—®å·ç ã€æ£æ‹·ç </title>
      <link href="/posts/aca7e7a0/"/>
      <url>/posts/aca7e7a0/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong>  æ‰“å°æ—¶å€™ä¹±ç åŸå› ï¼šå¤æ–‡ç ã€å£å­—ç ã€ç¬¦å·ç ã€é—®å·ç ã€æ£æ‹·ç </p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p><strong>ä¸€ä¸ªå›¾è§£é‡Šä¹±ç åŸå› </strong></p><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2024/202504192329668.png" width="100%"/ loading="lazy">]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºä¸€ æŠ€æ³• </category>
          
          <category> å­¦ä¹  - åº•å±‚å…¼æ¶æ„ </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å­—ç¬¦é›† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QtCreator å®‰è£… SDKï¼Œåœ¨ MSVC ç¼–è¯‘æ¨¡å¼ä¸‹ä½¿ç”¨ CDB è°ƒè¯•å™¨</title>
      <link href="/posts/5399fcd5/"/>
      <url>/posts/5399fcd5/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong>  <code>Qt Creator</code> å®‰è£… <code>Windows Software Development Kit</code>(<code>SDK</code>ï¼‰è°ƒè¯•å™¨ã€å³<code>CDB</code>è°ƒè¯•å™¨ã€‘ï¼›ä½¿ç”¨<code>MSVC</code>ç¼–è¯‘é¡¹ç›®ï¼Œè¿›è¡Œè°ƒè¯•ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ç®€è¿°"><a href="#ç®€è¿°" class="headerlink" title="ç®€è¿°"></a>ç®€è¿°</h2><p>â€‹ <code>Qt Creator</code> å®‰è£… <code>Windows Software Development Kit</code>(<code>SDK</code>ï¼‰è°ƒè¯•å™¨ã€‚ï¼ˆä½¿ç”¨<code>MSVC</code>ç¼–è¯‘é¡¹ç›®ï¼Œè¿›è¡Œè°ƒè¯•ï¼‰ã€‚</p><br><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>win10 x64 ä¸“ä¸šç‰ˆ 1803</code>  æ“ä½œç³»ç»Ÿç‰ˆæœ¬ï¼š<code>17134.285</code> </p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>visual studio 2015</code>ï¼Œ <code>Qt Creator 4.8.2 (Enterprise)</code>ï¼Œ <code>Qt 5.9.8</code></p><br><h2 id="ä¸ºä»€ä¹ˆå®‰è£…CDBç¼–è°ƒè¯•å™¨ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆå®‰è£…CDBç¼–è°ƒè¯•å™¨ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆå®‰è£…CDBç¼–è°ƒè¯•å™¨ï¼Ÿ"></a>ä¸ºä»€ä¹ˆå®‰è£…CDBç¼–è°ƒè¯•å™¨ï¼Ÿ</h2><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190807194229.png"/ loading="lazy"><p>ï¼ˆ1ï¼‰Kitsé¡µé¢æ˜¾ç¤ºQtCreatorå¯ç”¨çš„ç¼–è¯‘å·¥å…·ï¼Œåœ¨å›¾ä¸­å¯ä»¥çœ‹åˆ°æœ‰3ä¸ªç¼–è¯‘å·¥å…·å¯ç”¨ã€‚</p><p>ï¼ˆ2ï¼‰Qt Versionsé¡µé¢æ˜¾ç¤ºå®‰è£…çš„Qtç‰ˆæœ¬ï¼Œæœ‰Qt 5.9.1MinGW 32bitã€Qt 5.9.1MSVC201532bit<br>å’ŒQt 5.9.1MSVC201564bit3ä¸ªå¯ç”¨çš„ç‰ˆæœ¬ã€‚</p><p>ï¼ˆ3ï¼‰Compliersé¡µé¢æ˜¾ç¤ºç³»ç»Ÿé‡Œå¯ç”¨çš„Cå’ŒC++ç¼–è¯‘å™¨ï¼Œç”±äºå®‰è£…äº†MinGWå’ŒVisual Studio<br>2015ï¼ŒQt Creatorä¼šè‡ªåŠ¨æ£€æµ‹å‡ºè¿™äº›ç¼–è¯‘å™¨ã€‚</p><p>ï¼ˆ4ï¼‰<strong>Debuggersé¡µé¢æ˜¾ç¤ºQt Creatorè‡ªåŠ¨æ£€æµ‹åˆ°çš„è°ƒè¯•å™¨ï¼Œæœ‰GNU gdb for MinGWè°ƒè¯•å™¨</strong><br><strong>å’ŒWindowsçš„CDBè°ƒè¯•å™¨ã€‚</strong></p><p><strong>æ³¨æ„ï¼š</strong> <font color=#FE7207  size=4 face="å¹¼åœ†">å¦‚æœåªæ˜¯åœ¨è®¡ç®—æœºä¸Šå®‰è£…äº†Visual Studio2015ï¼Œæ˜¾ç¤ºçš„ç•Œé¢ä¸ŠMSVC2015çš„ä¸¤ä¸ªç¼–è¯‘å™¨çš„å›¾æ ‡<br>ä¼šå˜ä¸ºå¸¦æœ‰æ„Ÿå¹å·çš„ä¸€ä¸ªé»„è‰²å›¾æ ‡ã€‚Debuggersé¡µé¢æ²¡æœ‰Windowsçš„CDBè°ƒè¯•å™¨ï¼Œå¯ä»¥ç”¨MSVCç¼–è¯‘å™¨å¯¹<br>Qt Creatorç¼–å†™çš„ç¨‹åºè¿›è¡Œç¼–è¯‘ï¼Œä½†æ˜¯ä¸èƒ½è°ƒè¯•ï¼Œ<strong>è¿™æ˜¯å› ä¸ºç¼ºå°‘äº†Windows Software Development Kit(SDKï¼‰ã€‚</strong><br><strong>è¿™ä¸ªSDKä¸ä¼šéšVisual Studioä¸€åŒå®‰è£…ï¼Œ</strong>éœ€è¦ä»Microsoftç½‘ç«™ä¸Šä¸‹è½½ã€‚å¯ä»¥ä¸‹è½½Windows Software<br>Development Kit(SDK)for Windows8.1,å®‰è£…åé‡å¯è®¡ç®—æœºå³å¯ã€‚</font></p><h2 id="å®‰è£…CDBè°ƒè¯•å™¨æ­¥éª¤"><a href="#å®‰è£…CDBè°ƒè¯•å™¨æ­¥éª¤" class="headerlink" title="å®‰è£…CDBè°ƒè¯•å™¨æ­¥éª¤"></a>å®‰è£…CDBè°ƒè¯•å™¨æ­¥éª¤</h2><ul><li>å…ˆå…³é—­Qt Creator<br>  <strong>msvcç¼–è¯‘å™¨ä½¿ç”¨windbgä¸‹çš„cdbè°ƒè¯•å™¨ æ‰€ä»¥éœ€è¦å®‰è£…windbg</strong></li></ul><p>å®˜ç½‘ä¸‹è½½é“¾æ¥ï¼š<a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/debugger/debugger-download-tools">https://docs.microsoft.com/en-us/windows-hardware/drivers/debugger/debugger-download-tools</a></p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190807192915.png"/ loading="lazy"><p>è‡ªåŠ¨è·³è½¬åˆ°è¯¥é¡µé¢</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190807193021.png"/ loading="lazy"><ul><li>ä¸‹è½½æˆåŠŸ</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190807193142.png"/ loading="lazy"><ul><li>å³é”®ç®¡ç†å‘˜è¿è¡Œ</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190807193304.png"/ loading="lazy"><ul><li>é€‰æ‹©â€œNOâ€œ</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190807193415.png"/ loading="lazy"><ul><li><strong>åªç”¨å®‰è£…è°ƒè¯•å·¥å…·å³å¯</strong></li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190807193615.png"/ loading="lazy"><ul><li>ç­‰å¾…å®‰è£…æˆåŠŸ</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190807193738.png"/ loading="lazy"><ul><li>é‡æ–°æ‰“å¼€Qt Creator,åœ¨å¦‚å›¾æ‰€ç¤ºçš„ä½ç½®è¿›è¡Œä¿®æ”¹</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190807194038.png"/ loading="lazy"><ul><li>é…ç½®æˆåŠŸæ ‡å¿—ï¼Œå‚è§æœ¬æ–‡ç¬¬ä¸€å¼ å›¾</li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Qt ç¼–ç¨‹ä¸­ namespace Ui { class Widget; } è§£æ</title>
      <link href="/posts/8cc715c4/"/>
      <url>/posts/8cc715c4/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong> Qt ç¼–ç¨‹ä¸­ <code>namespace Ui &#123; class Widget; &#125;</code> è§£æçš„åŸç†</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ç®€è¿°ï¼š"><a href="#ç®€è¿°ï¼š" class="headerlink" title="ç®€è¿°ï¼š"></a>ç®€è¿°ï¼š</h2><p>â€‹ Qt ç¼–ç¨‹ä¸­ namespace Ui { class Widget; } è§£æ</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"> <span class="token keyword">namespace</span> Ui <span class="token punctuation">&#123;</span> <span class="token keyword">class</span> <span class="token class-name">widget</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>çš„åŸç†ï¼Œå’Œå®ƒèƒŒåçš„ä¸œä¸œã€‚</p><br><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>win10 x64 ä¸“ä¸šç‰ˆ 1803</code>  æ“ä½œç³»ç»Ÿç‰ˆæœ¬ï¼š<code>17134.285</code> </p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>visual studio 2015</code>ï¼Œ <code>Qt Creator 4.8.2 (Enterprise)</code>ï¼Œ <code>Qt 5.9.8</code></p><br><h1 id="ç†è§£ä¸€ï¼š"><a href="#ç†è§£ä¸€ï¼š" class="headerlink" title="ç†è§£ä¸€ï¼š"></a>ç†è§£ä¸€ï¼š</h1><p>ç®€è¿°ï¼š</p><p>Qtç¼–ç¨‹ä¸­ï¼Œä¼šè§åˆ°ç±»ä¼¼äºå¦‚ä¸‹çš„å£°æ˜ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">namespace</span> Ui <span class="token punctuation">&#123;</span> <span class="token keyword">class</span> <span class="token class-name">Dialog</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>é‚£ä¹ˆï¼Œä¸ºä½•è¦è¿™æ ·å£°æ˜ï¼Œè¿™æ ·å£°æ˜æœ‰ä»€ä¹ˆå¥½å¤„ã€‚</p><p>è¿™æ˜¯Designerä½¿ç”¨äº†pimplæ‰‹æ³•ï¼ŒpImplæ‰‹æ³•ä¸»è¦ä½œç”¨æ˜¯è§£å¼€ç±»çš„ä½¿ç”¨æ¥å£å’Œå®ç°çš„è€¦åˆï¼Œå³ä¸ºäº†å‡å°‘å„ä¸ªæºæ–‡ä»¶ä¹‹é—´çš„è”ç³»ã€‚</p><p>ä¸‹é¢è¯¦ç»†è®²è§£ä¸€ä¸‹ã€‚</p><h2 id="1ã€æ–°å»ºQt-è®¾è®¡å¸ˆç•Œé¢ç±»"><a href="#1ã€æ–°å»ºQt-è®¾è®¡å¸ˆç•Œé¢ç±»" class="headerlink" title="1ã€æ–°å»ºQt è®¾è®¡å¸ˆç•Œé¢ç±»"></a>1ã€æ–°å»ºQt è®¾è®¡å¸ˆç•Œé¢ç±»</h2><h3 id="dialog-h"><a href="#dialog-h" class="headerlink" title="dialog.h"></a>dialog.h</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">DIALOG_H </span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">DIALOG_H</span> </span>   <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QtGui/QDialog></span> </span>   <span class="token keyword">namespace</span> Ui <span class="token punctuation">&#123;</span> <span class="token keyword">class</span> <span class="token class-name">Dialog</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>   <span class="token keyword">class</span> <span class="token class-name">Dialog</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QDialog</span></span> <span class="token punctuation">&#123;</span> Q_OBJECT       <span class="token keyword">public</span><span class="token operator">:</span> <span class="token function">Dialog</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">~</span><span class="token function">Dialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">private</span><span class="token operator">:</span> Ui<span class="token double-colon punctuation">::</span>Dialog <span class="token operator">*</span>ui<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>   <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// DIALOG_H </span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="dialog-cpp"><a href="#dialog-cpp" class="headerlink" title="dialog.cpp"></a>dialog.cpp</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"dialog.h"</span> </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ui_dialog.h"</span> </span> <span class="token class-name">Dialog</span><span class="token double-colon punctuation">::</span><span class="token function">Dialog</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">QDialog</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token double-colon punctuation">::</span>Dialog<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> ui<span class="token operator">-></span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//QObject::connect(ui->pushButton, SIGNAL(clicked()),this, SLOT(quit())); </span><span class="token punctuation">&#125;</span>  <span class="token class-name">Dialog</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">Dialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">delete</span> ui<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ui-dialog-h"><a href="#ui-dialog-h" class="headerlink" title="ui_dialog.h"></a>ui_dialog.h</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">UI_DIALOG_H </span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">UI_DIALOG_H</span> </span> <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QtCore/QVariant></span> </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QtGui/QAction></span> </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QtGui/QApplication></span> </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QtGui/QButtonGroup></span> </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QtGui/QDialog></span> </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QtGui/QHeaderView></span> </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QtGui/QListView></span> </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QtGui/QPushButton></span> </span>QT_BEGIN_NAMESPACE  <span class="token keyword">class</span> <span class="token class-name">Ui_Dialog</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span> QListView <span class="token operator">*</span>listView<span class="token punctuation">;</span> QPushButton <span class="token operator">*</span>pushButton                       <span class="token keyword">void</span> <span class="token function">setupUi</span><span class="token punctuation">(</span>QDialog <span class="token operator">*</span>Dialog<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>Dialog<span class="token operator">-></span><span class="token function">objectName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> Dialog<span class="token operator">-></span><span class="token function">setObjectName</span><span class="token punctuation">(</span><span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">fromUtf8</span><span class="token punctuation">(</span><span class="token string">"Dialog"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> Dialog<span class="token operator">-></span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">600</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span> listView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QListView</span><span class="token punctuation">(</span>Dialog<span class="token punctuation">)</span><span class="token punctuation">;</span> listView<span class="token operator">-></span><span class="token function">setObjectName</span><span class="token punctuation">(</span><span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">fromUtf8</span><span class="token punctuation">(</span><span class="token string">"listView"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> listView<span class="token operator">-></span><span class="token function">setGeometry</span><span class="token punctuation">(</span><span class="token function">QRect</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">,</span> <span class="token number">192</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> pushButton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QPushButton</span><span class="token punctuation">(</span>Dialog<span class="token punctuation">)</span><span class="token punctuation">;</span> pushButton<span class="token operator">-></span><span class="token function">setObjectName</span><span class="token punctuation">(</span><span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">fromUtf8</span><span class="token punctuation">(</span><span class="token string">"pushButton"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> pushButton<span class="token operator">-></span><span class="token function">setGeometry</span><span class="token punctuation">(</span><span class="token function">QRect</span><span class="token punctuation">(</span><span class="token number">140</span><span class="token punctuation">,</span> <span class="token number">280</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token function">retranslateUi</span><span class="token punctuation">(</span>Dialog<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token class-name">QMetaObject</span><span class="token double-colon punctuation">::</span><span class="token function">connectSlotsByName</span><span class="token punctuation">(</span>Dialog<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token comment">// setupUi</span>   <span class="token keyword">void</span> <span class="token function">retranslateUi</span><span class="token punctuation">(</span>QDialog <span class="token operator">*</span>Dialog<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> Dialog<span class="token operator">-></span><span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token class-name">QApplication</span><span class="token double-colon punctuation">::</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token string">"Dialog"</span><span class="token punctuation">,</span> <span class="token string">"Dialog"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> QApplication<span class="token double-colon punctuation">::</span>UnicodeUTF8<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> pushButton<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token class-name">QApplication</span><span class="token double-colon punctuation">::</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token string">"Dialog"</span><span class="token punctuation">,</span> <span class="token string">"bye"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> QApplication<span class="token double-colon punctuation">::</span>UnicodeUTF8<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">Q_UNUSED</span><span class="token punctuation">(</span>Dialog<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token comment">// retranslateUi </span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token keyword">namespace</span> Ui <span class="token punctuation">&#123;</span> <span class="token keyword">class</span> <span class="token class-name">Dialog</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">Ui_Dialog</span></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token comment">// namespace Ui </span> QT_END_NAMESPACE  <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// UI_DIALOG_H </span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2ã€åˆ†æä»£ç "><a href="#2ã€åˆ†æä»£ç " class="headerlink" title="2ã€åˆ†æä»£ç "></a>2ã€åˆ†æä»£ç </h2><p><strong>1 &gt; ui_dialog.hä»£ç ä¸­æœ‰å¾ˆå¤šè¢«ç¡¬ç¼–ç çš„åœ°æ–¹ã€‚</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">listView<span class="token operator">-></span><span class="token function">setGeometry</span><span class="token punctuation">(</span><span class="token function">QRect</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">,</span> <span class="token number">192</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> pushButton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QPushButton</span><span class="token punctuation">(</span>Dialog<span class="token punctuation">)</span><span class="token punctuation">;</span> pushButton<span class="token operator">-></span><span class="token function">setObjectName</span><span class="token punctuation">(</span><span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">fromUtf8</span><span class="token punctuation">(</span><span class="token string">"pushButton"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> pushButton<span class="token operator">-></span><span class="token function">setGeometry</span><span class="token punctuation">(</span><span class="token function">QRect</span><span class="token punctuation">(</span><span class="token number">140</span><span class="token punctuation">,</span> <span class="token number">280</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>Designerç”Ÿæˆçš„è¿™ä¸ªä¸œè¥¿ï¼Œ å¦‚ä½•è®©ç¨‹åºçš„å…¶ä»–ä»£ç å»ä½¿ç”¨å‘¢ï¼Ÿ<br>æœ€ç›´æ¥çš„ï¼Œ å®ƒåº”è¯¥äº§ç”Ÿä¸€ä¸ª</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Ui_Dialog</span> <span class="token punctuation">&#123;</span>    QListView <span class="token operator">*</span>listView<span class="token punctuation">;</span>     QPushButton <span class="token operator">*</span>pushButton<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ ·çš„ç±»å»è®©å…¶ä»–ä»£ç ä½¿ç”¨ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// My.h</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ui_dialog.h"</span></span> <span class="token keyword">class</span> <span class="token class-name">My</span><span class="token punctuation">&#123;</span>Ui_Dialog dlg<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span class="token comment">// My.cpp</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"My.h"</span></span><span class="token comment">// å®ç°My</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ä½†æ˜¯è¿™æ ·å­˜åœ¨é—®é¢˜ï¼Œ å¦‚æœui_dialog.hæ–‡ä»¶çš„å†…å®¹è¢«æ”¹å˜ï¼Œä¸ä½†My.cppä¼šè¢«é‡æ–°ç¼–è¯‘ï¼Œ</strong><br><strong>æ‰€æœ‰åŒ…å«My.hçš„æ–‡ä»¶ä¹Ÿéƒ½ä¼šè¢«é‡æ–°ç¼–è¯‘ã€‚</strong><br><strong>è€Œä¸”è¿™ç¡®å®æ˜¯ä¸€ä¸ªé—®é¢˜ï¼š Designerç¡®å®ç»å¸¸è¢«æ‹–æ¥æ‹–å»</strong></p><p><strong>2 &gt; å¦‚æœäº§ç”Ÿui_dialog.hçš„é‚£ä¸ªç¨‹åºèƒ½å°†å¦‚ä¸‹ä»£ç ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">listView<span class="token operator">-></span><span class="token function">setGeometry</span><span class="token punctuation">(</span><span class="token function">QRect</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">,</span> <span class="token number">192</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> pushButton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QPushButton</span><span class="token punctuation">(</span>Dialog<span class="token punctuation">)</span><span class="token punctuation">;</span> pushButton<span class="token operator">-></span><span class="token function">setObjectName</span><span class="token punctuation">(</span><span class="token class-name">QString</span><span class="token double-colon punctuation">::</span><span class="token function">fromUtf8</span><span class="token punctuation">(</span><span class="token string">"pushButton"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">namespace</span> Ui  <span class="token punctuation">&#123;</span>     <span class="token keyword">class</span> <span class="token class-name">Dialog</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>  <span class="token keyword">class</span> <span class="token class-name">Dialog</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QDialog</span></span>  <span class="token punctuation">&#123;</span>     Ui<span class="token double-colon punctuation">::</span> Dialog <span class="token operator">*</span>ui<span class="token punctuation">;</span>  <span class="token comment">// ä½¿ç”¨è¯¥ç±»çš„ä¸€ä¸ªæŒ‡é’ˆ</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>   pushButton<span class="token operator">-></span><span class="token function">setGeometry</span><span class="token punctuation">(</span><span class="token function">QRect</span><span class="token punctuation">(</span><span class="token number">140</span><span class="token punctuation">,</span> <span class="token number">280</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç§»åŠ¨åˆ°ä¸€ä¸ªui_dialog.cpp ä¸­ï¼Œ è‡³å°‘åœ¨ç§»åŠ¨dlgä¸Šçš„é‚£äº›ç•Œé¢å…ƒç´ æ—¶ï¼Œåªä¼šé‡æ–°ç¼–è¯‘ui_dialog.cppã€‚<br>ä¸ä¼šä¿®æ”¹ui_dialog.hï¼Œ ä¹Ÿå°±ä¸ä¼šå¼•å‘å¦ä¸€è¿ä¸²é‡ç¼–è¯‘ã€‚</p><p><strong>3 &gt; ä½†æ˜¯ï¼Œ é™¤äº†å°†ç•Œé¢å…ƒç´ æ‹–æ¥æ‹–å»ï¼Œ Designerè¿˜ç»å¸¸å¹²çš„ä¸€äº›äº‹å°±æ˜¯æ·»åŠ ï¼Œåˆ é™¤ä¸€äº›ç•Œé¢å…ƒç´ ï¼Œå¦‚</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Ui_Dialog</span> <span class="token punctuation">&#123;</span> <span class="token keyword">public</span><span class="token operator">:</span>     QListView <span class="token operator">*</span>listView<span class="token punctuation">;</span>     QPushButton <span class="token operator">*</span>pushButton<span class="token punctuation">;</span>    <span class="token comment">// ...</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>4 &gt; å¦‚ä½•è®©Designeræ”¹å˜GUIå¤–è§‚åï¼Œ ä¸ä¼šå¼•å‘å·¥ç¨‹å¤§èŒƒå›´çš„é‡æ–°ç¼–è¯‘ï¼Ÿ</strong></p><p>æ‰€ä»¥Designerä½¿ç”¨äº†pimplæ‰‹æ³• â€¦â€¦</p><p>å‰ç½®å£°æ˜ä¸€ä¸ª Ui:: Dialogç±»</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">namespace</span> Ui  <span class="token punctuation">&#123;</span>     <span class="token keyword">class</span> <span class="token class-name">Dialog</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>  <span class="token keyword">class</span> <span class="token class-name">Dialog</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QDialog</span></span>  <span class="token punctuation">&#123;</span>     Ui<span class="token double-colon punctuation">::</span> Dialog <span class="token operator">*</span>ui<span class="token punctuation">;</span>  <span class="token comment">// ä½¿ç”¨è¯¥ç±»çš„ä¸€ä¸ªæŒ‡é’ˆ</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶åç”¨æˆ·ä½¿ç”¨ dialog.h å¤´æ–‡ä»¶ä»¥åŠ Dialogç±»ã€‚<br>è¯¥æ–‡ä»¶è¢«ä¿®æ”¹çš„é¢‘ç‡å°±ä¼šä½å¾ˆå¤šå¾ˆå¤šã€‚</p><p>æ— è®ºæ˜¯å°†designerä¸Šçš„ç•Œé¢å…ƒç´ æ‹–æ¥æ‹–å»ï¼Œ è¿˜æ˜¯æ·»åŠ åˆ é™¤ï¼Œ dialog.hæ–‡ä»¶çš„å†…å®¹â€”â€”Dialogç±»çš„å®šä¹‰â€”â€”éƒ½ä¸ä¼šæ”¹å˜ã€‚<br>ç„¶åç”¨æˆ·å¯ä»¥ä½¿ç”¨è¿™ä¸ªDialogäº†ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"dialog.h"</span></span><span class="token keyword">class</span> <span class="token class-name">My</span> <span class="token punctuation">&#123;</span>    Dialog dlg<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="3ã€Ui-åˆ›å»ºä¸¤ç§ä¸åŒçš„æ–¹å¼"><a href="#3ã€Ui-åˆ›å»ºä¸¤ç§ä¸åŒçš„æ–¹å¼" class="headerlink" title="3ã€Ui åˆ›å»ºä¸¤ç§ä¸åŒçš„æ–¹å¼"></a>3ã€Ui åˆ›å»ºä¸¤ç§ä¸åŒçš„æ–¹å¼</h2><p><strong>1 &gt; åœ¨qt4ä¸­ä½¿ç”¨äº†ç»§æ‰¿çš„æ–¹å¼æ¥ä½¿ç”¨designeråˆ›å»ºçš„çª—ä½“ï¼Œä¹Ÿå°±æ˜¯åŒæ—¶ç»§æ‰¿QDialogå’ŒUI_Dialogã€‚</strong></p><p><strong>2 &gt; è€Œåœ¨Qt Creatorè‡ªåŠ¨åˆ›å»ºçš„é¡¹ç›®ä¸­ï¼Œä½¿ç”¨äº†ç»„åˆçš„æ–¹å¼æ¥ä½¿ç”¨Designeråˆ›å»ºçš„çª—ä½“ï¼Œå°±æ˜¯é›†æˆQDialogï¼Œè€Œå°†UI_Dialogä½œä¸ºä¸€ä¸ªæˆå‘˜å˜é‡æ¥ä½¿ç”¨ï¼Œä¹Ÿå°±æ˜¯</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">private</span><span class="token operator">:</span>   Ui<span class="token double-colon punctuation">::</span>Dialog <span class="token operator">*</span>ui<span class="token punctuation">;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><strong>åŒºåˆ«ï¼š</strong><br><strong>åœ¨å‰ä¸€ç§æ–¹å¼ä¸­ï¼Œä½ å¯ä»¥åœ¨ç»§æ‰¿ç±»ä¸­ç›´æ¥ä½¿ç”¨UI_Dialogä¸Šçš„ç»„ä»¶ã€‚</strong><br><strong>åœ¨åä¸€ç§æ–¹å¼ä¸­ï¼Œä½ è¦ä½¿ç”¨ui-&gt;XXXçš„æ–¹å¼ä½¿ç”¨UI_Dialogä¸Šçš„ç»„ä»¶ã€‚</strong><br><strong>ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥ï¼Œä½†ä¸ªäººæ„Ÿè§‰ç¬¬äºŒç§å¥½ä¸€äº›ï¼Œæ¯•ç«Ÿç»„åˆæ¯”ç»§æ‰¿çš„è€¦åˆåº¦æ¥çš„å¼±ä¸€äº›ï¼Œå°±æ˜¯ç¨æœ‰ç‚¹éº»çƒ¦ï¼Œè¦åŠ ui-&gt;ï¼Œä½†åŒæ—¶ä¹Ÿå¸¦æ¥äº†æ›´æ¸…æ™°çš„ä»£ç ç»“æ„ã€‚</strong></p><h2 id="4ã€pImplçš„åŸç†"><a href="#4ã€pImplçš„åŸç†" class="headerlink" title="4ã€pImplçš„åŸç†"></a>4ã€pImplçš„åŸç†</h2><p><strong>1 &gt; pImplæƒ¯ç”¨æ‰‹æ³•çš„ä¸»è¦ä½œç”¨æ˜¯è§£å¼€ç±»çš„ä½¿ç”¨æ¥å£å’Œå®ç°çš„è€¦åˆã€‚</strong><br><strong>å¦‚æœä¸ä½¿ç”¨pImplæƒ¯ç”¨æ‰‹æ³•ï¼Œä»£ç ä¼šåƒè¿™æ ·</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;x.hpp></span></span><span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span><span class="token keyword">void</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">private</span><span class="token operator">:</span>X x<span class="token punctuation">;</span> <span class="token comment">//ä¸Xçš„å¼ºè€¦åˆ</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åƒä¸Šé¢è¿™æ ·çš„ä»£ç ï¼ŒCä¸å®ƒçš„å®ç°å°±æ˜¯å¼ºè€¦åˆçš„ï¼Œä»è¯­ä¹‰ä¸Šè¯´ï¼Œxæˆå‘˜æ•°æ®æ˜¯å±äºCçš„å®ç°éƒ¨åˆ†ï¼Œä¸åº”è¯¥æš´éœ²ç»™ç”¨æˆ·ã€‚ä»è¯­è¨€çš„æœ¬è´¨ä¸Šæ¥è¯´ï¼Œåœ¨ç”¨æˆ·çš„ä»£ç ä¸­ï¼Œæ¯ä¸€æ¬¡ä½¿ç”¨â€new Câ€å’Œâ€C c1â€è¿™æ ·çš„è¯­å¥ï¼Œéƒ½ä¼šå°†Xçš„å¤§å°ç¡¬ç¼–ç åˆ°ç¼–è¯‘åçš„äºŒè¿›åˆ¶ä»£ç æ®µä¸­ï¼ˆå¦‚æœXæœ‰è™šå‡½æ•°ï¼Œåˆ™è¿˜ä¸æ­¢è¿™äº›ï¼‰â€”â€”è¿™æ˜¯å› ä¸ºï¼Œå¯¹äºâ€new Câ€è¿™æ ·çš„è¯­å¥ï¼Œå…¶å®ç›¸å½“äºoperator new(sizeof(C))åé¢å†è·Ÿä¸ŠCçš„æ„é€ å‡½æ•°ï¼Œè€Œâ€C c1â€åˆ™æ˜¯åœ¨å½“å‰æ ˆä¸Šè…¾å‡ºsizeof(C)å¤§å°çš„ç©ºé—´ï¼Œç„¶åè°ƒç”¨Cçš„æ„é€ å‡½æ•°ã€‚å› æ­¤ï¼Œæ¯æ¬¡Xç±»ä½œäº†æ”¹åŠ¨ï¼Œä½¿ç”¨c.hppçš„æºæ–‡ä»¶éƒ½å¿…é¡»é‡æ–°ç¼–è¯‘ä¸€æ¬¡ï¼Œå› ä¸ºXçš„å¤§å°å¯èƒ½æ”¹å˜äº†ã€‚<br>åœ¨ä¸€ä¸ªå¤§å‹çš„é¡¹ç›®ä¸­ï¼Œè¿™ç§è€¦åˆå¯èƒ½ä¼šå¯¹buildæ—¶é—´äº§ç”Ÿç›¸å½“å¤§çš„å½±å“ã€‚</p><p><strong>pImplæƒ¯ç”¨æ‰‹æ³•å¯ä»¥å°†è¿™ç§è€¦åˆæ¶ˆé™¤ï¼Œä½¿ç”¨pImplæƒ¯ç”¨æ‰‹æ³•çš„ä»£ç åƒè¿™æ ·ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//c.hpp</span><span class="token keyword">class</span> <span class="token class-name">X</span><span class="token punctuation">;</span> <span class="token comment">//ç”¨å‰å¯¼å£°æ˜å–ä»£include</span><span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">&#123;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">private</span><span class="token operator">:</span>X<span class="token operator">*</span> pImpl<span class="token punctuation">;</span> <span class="token comment">//å£°æ˜ä¸€ä¸ªX*çš„æ—¶å€™ï¼Œclass Xä¸ç”¨å®Œå…¨å®šä¹‰</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>2 &gt; åœ¨ä¸€ä¸ªæ—¢å®šå¹³å°ä¸Šï¼Œä»»ä½•æŒ‡é’ˆçš„å¤§å°éƒ½æ˜¯ç›¸åŒçš„ã€‚ä¹‹æ‰€ä»¥åˆ†ä¸ºX<em>ï¼ŒY</em>è¿™äº›å„ç§å„æ ·çš„æŒ‡é’ˆï¼Œä¸»è¦æ˜¯æä¾›ä¸€ä¸ªé«˜å±‚çš„æŠ½è±¡è¯­ä¹‰ï¼Œå³è¯¥æŒ‡é’ˆåˆ°åº•æŒ‡å‘çš„æ˜¯é‚£ä¸ªç±»çš„å¯¹è±¡ï¼Œå¹¶ä¸”ï¼Œä¹Ÿç»™ç¼–è¯‘å™¨ä¸€ä¸ªæŒ‡ç¤ºï¼Œä»è€Œèƒ½å¤Ÿæ­£ç¡®çš„å¯¹ç”¨æˆ·è¿›è¡Œçš„æ“ä½œï¼ˆå¦‚è°ƒç”¨Xçš„æˆå‘˜å‡½æ•°ï¼‰å†³è®®å¹¶æ£€æŸ¥ã€‚ä½†æ˜¯ï¼Œå¦‚æœä»è¿è¡ŒæœŸçš„è§’åº¦æ¥è¯´ï¼Œæ¯ç§æŒ‡é’ˆéƒ½åªä¸è¿‡æ˜¯ä¸ª32ä½çš„é•¿æ•´å‹ï¼ˆå¦‚æœåœ¨64ä½æœºå™¨ä¸Šåˆ™æ˜¯64ä½ï¼Œæ ¹æ®å½“å‰ç¡¬ä»¶è€Œå®šï¼‰ã€‚</strong></p><p>æ­£ç”±äº<strong>pImplæ˜¯ä¸ªæŒ‡é’ˆ</strong>ï¼Œæ‰€ä»¥è¿™é‡ŒXçš„äºŒè¿›åˆ¶ä¿¡æ¯ï¼ˆsizeof(C)ç­‰ï¼‰ä¸ä¼šè¢«è€¦åˆåˆ°Cçš„ä½¿ç”¨æ¥å£ä¸Šå»ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ç”¨æˆ·â€new Câ€æˆ–â€C c1â€çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨ç”Ÿæˆçš„ä»£ç ä¸­ä¸ä¼šæºæ‚Xçš„ä»»ä½•ä¿¡æ¯ï¼Œå¹¶ä¸”å½“ç”¨æˆ·ä½¿ç”¨Cçš„æ—¶å€™ï¼Œä½¿ç”¨çš„æ˜¯Cçš„æ¥å£ï¼Œä¹Ÿä¸Xæ— å…³ï¼Œä»è€ŒXè¢«è¿™ä¸ªæŒ‡é’ˆå½»åº•çš„ä¸ç”¨æˆ·éš”ç»å¼€æ¥ã€‚åªæœ‰CçŸ¥é“å¹¶èƒ½å¤Ÿæ“ä½œpImplæˆå‘˜æŒ‡å‘çš„Xå¯¹è±¡ã€‚</p><p><strong>3 &gt; é˜²ç«å¢™</strong><br>â€œä¿®æ”¹Xçš„å®šä¹‰ä¼šå¯¼è‡´æ‰€æœ‰ä½¿ç”¨Cçš„æºæ–‡ä»¶é‡æ–°ç¼–è¯‘â€è¿™ç§äº‹å°±å¥½æ¯”â€œåŸé—¨å¤±ç«ï¼Œæ®ƒåŠæ± é±¼â€ï¼Œå…¶åŸå› æ˜¯â€œæŠ¤åŸæ²³â€ç¦»â€œåŸé—¨â€å¤ªè¿‘äº†ï¼ˆè€¦åˆï¼‰ã€‚</p><p>pImplæƒ¯ç”¨æ‰‹æ³•åˆè¢«æˆä¸ºâ€œç¼–è¯‘æœŸé˜²ç«å¢™â€ï¼Œä»€ä¹ˆæ˜¯â€œé˜²ç«å¢™â€ï¼ŒæŒ‡é’ˆï¼Ÿä¸æ˜¯ã€‚C++çš„ç¼–è¯‘æ¨¡å¼ä¸ºâ€œåˆ†ç¦»å¼ç¼–è¯‘â€ï¼Œå³ä¸åŒçš„æºæ–‡ä»¶æ˜¯åˆ†å¼€ç¼–è¯‘çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸åŒçš„æºæ–‡ä»¶ä¹‹é—´æœ‰ä¸€é“å¤©ç„¶çš„é˜²ç«å¢™ï¼Œä¸€ä¸ªæºæ–‡ä»¶â€œå¤±ç«â€å¹¶ä¸ä¼šå½±å“åˆ°å¦ä¸€ä¸ªæºæ–‡ä»¶ã€‚<br>ä½†æ˜¯ï¼Œè¿™é‡Œæˆ‘ä»¬è€ƒè™‘çš„æ˜¯<strong>å¤´æ–‡ä»¶</strong>ï¼Œå¦‚æœå¤´æ–‡ä»¶â€œå¤±ç«â€åˆå½“å¦‚ä½•å‘¢ï¼Ÿå¤´æ–‡ä»¶æ˜¯ä¸èƒ½ç›´æ¥ç¼–è¯‘çš„ï¼Œå®ƒåŒ…å«äºæºæ–‡ä»¶ä¸­ï¼Œå¹¶ä½œä¸ºæºæ–‡ä»¶çš„ä¸€éƒ¨åˆ†è¢«ä¸€èµ·ç¼–è¯‘ã€‚</p><p>è¿™ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæºæ–‡ä»¶S.cppä½¿ç”¨äº†C.hppï¼Œé‚£ä¹ˆclass Cçš„ï¼ˆæ¥å£éƒ¨åˆ†çš„ï¼‰å˜åŠ¨å°†æ— å¯é¿å…çš„å¯¼è‡´S.CPPçš„é‡æ–°ç¼–è¯‘ã€‚ä½†æ˜¯ä½œä¸ºclass Cçš„å®ç°éƒ¨åˆ†çš„class Xå´å®Œå…¨ä¸åº”è¯¥å¯¼è‡´S.cppçš„é‡æ–°ç¼–è¯‘ã€‚<br>å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦æŠŠclass Xéš”ç»åœ¨C.hppä¹‹å¤–ã€‚è¿™æ ·ï¼Œæ¯ä¸ªä½¿ç”¨class Cçš„æºæ–‡ä»¶éƒ½ä¸class Xéš”ç¦»å¼€æ¥ï¼ˆä¸class Xä¸åœ¨åŒä¸€ä¸ªç¼–è¯‘å•å…ƒï¼‰ã€‚ä½†æ˜¯ï¼Œæ—¢ç„¶class Cä½¿ç”¨äº†class Xçš„å¯¹è±¡æ¥ä½œä¸ºå®ƒçš„å®ç°éƒ¨åˆ†ï¼Œå°±æ— å¯é¿å…çš„è¦â€œä¾èµ–â€äºclass Xã€‚åªä¸è¿‡ï¼Œè¿™ä¸ªâ€œä¾èµ–â€åº”è¯¥è¢«æè¿°ä¸ºï¼šâ€œclass Cçš„å®ç°éƒ¨åˆ†ä¾èµ–äºclass Xâ€ï¼Œè€Œä¸åº”è¯¥æ˜¯â€œclass Cçš„ç”¨æˆ·ä½¿ç”¨æ¥å£éƒ¨åˆ†ä¾èµ–äºclass Xâ€ã€‚</p><p>å¦‚æœæˆ‘ä»¬ç›´æ¥å°†Xçš„å¯¹è±¡å†™åœ¨class Cçš„æ•°æ®æˆå‘˜é‡Œé¢ï¼Œåˆ™æ˜¾è€Œæ˜“è§ï¼Œä½¿ç”¨class Cçš„ç”¨æˆ·â€œçœ‹åˆ°â€äº†ä¸è¯¥â€œçœ‹åˆ°â€çš„ä¸œè¥¿â€”â€”class Xâ€”â€”å®ƒä»¬ä¹‹é—´äº§ç”Ÿäº†è€¦åˆã€‚ç„¶è€Œï¼Œå¦‚æœä½¿ç”¨ä¸€ä¸ªæŒ‡å‘class Xçš„æŒ‡é’ˆï¼Œå°±å¯ä»¥å°†Xçš„äºŒè¿›åˆ¶ä¿¡æ¯â€œæ¨â€åˆ°class Cçš„å®ç°æ–‡ä»¶ä¸­å»ï¼Œåœ¨é‚£é‡Œï¼Œæˆ‘ä»¬#includeâ€x.hppâ€ï¼Œå®šä¹‰æ‰€æœ‰çš„æˆå‘˜å‡½æ•°ï¼Œå¹¶ä¾èµ–äºXçš„å®ç°ï¼Œè¿™éƒ½æ— æ‰€è°“ï¼Œå› ä¸ºCçš„å®ç°æœ¬æ¥å°±ä¾èµ–äºXï¼Œé‡è¦çš„æ˜¯ï¼šæ­¤æ—¶class Xçš„æ”¹åŠ¨åªä¼šå¯¼è‡´class Cçš„å®ç°æ–‡ä»¶é‡æ–°ç¼–è¯‘ï¼Œè€Œç”¨æˆ·ä½¿ç”¨class Cçš„æºæ–‡ä»¶åˆ™å®‰ç„¶æ— æ™ï¼<br>æŒ‡é’ˆåœ¨è¿™é‡Œå……å½“äº†ä¸€åº§æ¡¥ã€‚å°†ä¾èµ–ä¿¡æ¯â€œæ¨â€åˆ°äº†å¦ä¸€ä¸ªç¼–è¯‘å•å…ƒï¼Œä¸ç”¨æˆ·éš”ç»å¼€æ¥ã€‚è€Œé˜²ç«å¢™æ˜¯C++ç¼–è¯‘å™¨çš„å›ºæœ‰å±æ€§ã€‚</p><p><strong>4 &gt; ç©¿è¶ŠC++ç¼–è¯‘æœŸé˜²ç«å¢™</strong></p><p>æ˜¯ä»€ä¹ˆç©¿è¶Šäº†C++ç¼–è¯‘æœŸé˜²ç«å¢™ï¼Ÿæ˜¯æŒ‡é’ˆï¼ä½¿ç”¨æŒ‡é’ˆçš„æºæ–‡ä»¶â€œçŸ¥é“â€æŒ‡é’ˆæ‰€æŒ‡çš„æ˜¯ä»€ä¹ˆå¯¹è±¡ï¼Œä½†æ˜¯ä¸å¿…ç›´æ¥â€œçœ‹åˆ°â€é‚£ä¸ªå¯¹è±¡â€”â€”å®ƒå¯èƒ½åœ¨å¦ä¸€ä¸ªç¼–è¯‘å•å…ƒï¼Œæ˜¯æŒ‡é’ˆç©¿è¶Šäº†ç¼–è¯‘æœŸé˜²ç«å¢™ï¼Œè¿æ¥åˆ°äº†é‚£ä¸ªå¯¹è±¡ã€‚<br>ä»æŸç§æ„ä¹‰ä¸Šè¯´ï¼Œåªè¦æ˜¯ä»£è¡¨åœ°å€çš„ç¬¦å·éƒ½èƒ½å¤Ÿç©¿è¶ŠC++ç¼–è¯‘æœŸé˜²ç«å¢™ï¼Œè€Œä»£è¡¨ç»“æ„(constructs)çš„ç¬¦å·åˆ™ä¸èƒ½ã€‚<br>ä¾‹å¦‚å‡½æ•°åï¼Œå®ƒæŒ‡çš„æ˜¯å‡½æ•°ä»£ç çš„å§‹åœ°å€ï¼Œæ‰€ä»¥ï¼Œå‡½æ•°èƒ½å¤Ÿå£°æ˜åœ¨ä¸€ä¸ªç¼–è¯‘å•å…ƒï¼Œä½†å®šä¹‰åœ¨å¦ä¸€ä¸ªç¼–è¯‘å•å…ƒï¼Œç¼–è¯‘å™¨ä¼šè´Ÿè´£å°†å®ƒä»¬è¿æ¥èµ·æ¥ã€‚ç”¨æˆ·åªè¦å¾—åˆ°å‡½æ•°çš„å£°æ˜å°±å¯ä»¥ä½¿ç”¨å®ƒã€‚è€Œç±»åˆ™ä¸åŒï¼Œç±»åä»£è¡¨çš„æ˜¯ä¸€ä¸ªè¯­è¨€ç»“æ„ï¼Œä½¿ç”¨ç±»ï¼Œå¿…é¡»çŸ¥é“ç±»çš„å®šä¹‰ï¼Œå¦åˆ™æ— æ³•ç”ŸæˆäºŒè¿›åˆ¶ä»£ç ã€‚å˜é‡çš„ç¬¦å·å®è´¨ä¸Šä¹Ÿæ˜¯åœ°å€ï¼Œä½†æ˜¯ä½¿ç”¨å˜é‡ä¸€èˆ¬éœ€è¦å˜é‡çš„å®šä¹‰ï¼Œè€Œä½¿ç”¨externä¿®é¥°ç¬¦åˆ™å¯ä»¥å°†å˜é‡çš„å®šä¹‰ç½®äºå¦ä¸€ä¸ªç¼–è¯‘å•å…ƒä¸­ã€‚</p><p>&#x2F;&#x2F;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</p><h1 id="ç†è§£äºŒï¼š"><a href="#ç†è§£äºŒï¼š" class="headerlink" title="ç†è§£äºŒï¼š"></a>ç†è§£äºŒï¼š</h1><h2 id="Qt-ç¼–ç¨‹ä¸­-namespace-Ui-class-Widget-è§£æ"><a href="#Qt-ç¼–ç¨‹ä¸­-namespace-Ui-class-Widget-è§£æ" class="headerlink" title="Qt ç¼–ç¨‹ä¸­ namespace Ui { class Widget; } è§£æ"></a>Qt ç¼–ç¨‹ä¸­ namespace Ui { class Widget; } è§£æ</h2><p>class Widget é‡Œé¢æœ‰ä¸ªå£°æ˜ Ui::Widget *uiï¼Œè¿™ä¸ª ui æ˜¯ä½¿ç”¨ namespace Ui é‡Œçš„ Widget ç±»å£°æ˜çš„ï¼Œè¯¥ç±»åªæ˜¯ç®€å•çš„ç»§æ‰¿äº† ui_widget.h é‡Œçš„ Ui_Widget ç±»ï¼ˆæ²¡æœ‰æ·»åŠ ä»»ä½•æˆå‘˜ï¼‰ã€‚ç°åœ¨å°±å¾ˆæ¸…æ¥šäº†ï¼Œè¿™ä¸¤ä¸ªçœ‹èµ·æ¥åå­—ä¸€æ ·çš„ Widget å…¶å®æ˜¯ä¸¤ä¸ªç±»ï¼Œä¸€ä¸ªæ˜¯ namespace Ui é‡Œçš„ï¼Œå¦ä¸€ä¸ªæ˜¯ namespace Ui ä¹‹å¤–çš„ Widget ç±»ï¼Œnamespace å£°æ˜çš„ç±»å…¶å®å°±æ˜¯ä¸ªç©ºå£³ï¼Œå®ƒçš„åŸºç±»åŠŸèƒ½æ˜¯å°†æ­¤çª—å£ä¸Šçš„æ‰€æœ‰æ§ä»¶çš„å£°æ˜ã€å®ä¾‹åŒ–ã€åˆå§‹åŒ–ã€‚å£°æ˜çš„åŸå› å°±æ˜¯ä¸ºäº†ä½¿ ui å¸ƒå±€æ§åˆ¶å’Œå…¶ä»–çš„æ§åˆ¶ä»£ç åˆ†ç¦»ã€‚</p><h2 id="ç”¨ä¸€æ®µ-C-ä»£ç æ¥è¯´æ˜è¿™ä¸€åˆ‡ï¼š"><a href="#ç”¨ä¸€æ®µ-C-ä»£ç æ¥è¯´æ˜è¿™ä¸€åˆ‡ï¼š" class="headerlink" title="ç”¨ä¸€æ®µ C++ ä»£ç æ¥è¯´æ˜è¿™ä¸€åˆ‡ï¼š"></a>ç”¨ä¸€æ®µ C++ ä»£ç æ¥è¯´æ˜è¿™ä¸€åˆ‡ï¼š</h2><p>test.h æ–‡ä»¶å†…å®¹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">_TEST_H_</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_TEST_H_</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">class</span> <span class="token class-name">Test</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"This is a test!(no namespace)"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Base</span><span class="token punctuation">&#123;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"This is a test!(namespace)"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">/* ä½¿ç”¨ namespace å£°æ˜ */</span><span class="token keyword">namespace</span> UI <span class="token punctuation">&#123;</span>    <span class="token keyword">class</span> <span class="token class-name">Test</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">Base</span></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>main.cpp æ–‡ä»¶å†…å®¹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"test.h"</span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    Test t<span class="token punctuation">;</span>    UI<span class="token double-colon punctuation">::</span>Test tt<span class="token punctuation">;</span>        t<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    tt<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190801230704.png"/ loading="lazy"><p>æ„Ÿè°¢èŠ±è´¹å®è´µçš„æ—¶é—´æµè§ˆã€‚ è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œè°¢è°¢ï¼</p><h2 id="å‚è€ƒåšæ–‡ï¼š"><a href="#å‚è€ƒåšæ–‡ï¼š" class="headerlink" title="å‚è€ƒåšæ–‡ï¼š"></a>å‚è€ƒåšæ–‡ï¼š</h2><p>å› ä¸ºæœ‰ç€çƒ­å¿ƒç½‘å‹çš„æ— ç§åˆ†äº«ï¼Œ</p><p><a href="https://blog.csdn.net/hebbely/article/details/79267348">QT namespace UI </a> </p><p><a href="https://www.cnblogs.com/GyForever1004/p/9043839.html">Qt ç¼–ç¨‹ä¸­ namespace Ui { class Widget; } è§£æ</a> </p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºä¸€ æŠ€æ³• </category>
          
          <category> å­¦ä¹  - åº•å±‚å…¼æ¶æ„ </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åŸç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Makeã€Makefileã€Cmakeã€QMake çš„åŒºåˆ«</title>
      <link href="/posts/8eca9061/"/>
      <url>/posts/8eca9061/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong>   <code>make</code> <code>makefile</code> <code>cmake</code>   <code>qmake</code>éƒ½æ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ç®€è¿°ï¼š"><a href="#ç®€è¿°ï¼š" class="headerlink" title="ç®€è¿°ï¼š"></a>ç®€è¿°ï¼š</h2><p>â€‹  <code>make</code> <code>makefile</code> <code>cmake</code>   <code>qmake</code>éƒ½æ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p><p>â€‹         æŸ¥äº†ä¸€ä¸‹å¥½åƒæ˜¯ç¼–è¯‘ç”¨çš„ï¼Œæ—¢ç„¶æ˜¯ç¼–è¯‘ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸ç”¨g++ javac æ¥ç¼–è¯‘å‘¢ï¼Ÿæˆ‘çŒœç­”æ¡ˆæ˜¯æ–¹ä¾¿ä¸€ç‚¹ï¼Œä½†æ˜¯å…·ä½“æ–¹ä¾¿åœ¨å“ªå‘¢ï¼Œè¯·æ˜ç¤ºã€‚è¿˜æœ‰å®ƒä»¬ä¹‹é—´å¦‚æœæœ‰ç›¸ä¼¼æ€§çš„è¯ï¼Œä¹Ÿå¸®æˆ‘æ¯”è¾ƒä¸€ä¸‹å§ï¼Œè°¢è°¢å„ä½å¤§ç¥ã€‚<strong>è§‰å¾—å†™çš„æ¯”è¾ƒå¥½ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œæ¬è¿è¿‡æ¥äº†</strong> </p><br><h2 id="ç­”ä¸€ï¼ˆæ¯”è¾ƒå†™çš„å¥½ï¼‰ï¼š"><a href="#ç­”ä¸€ï¼ˆæ¯”è¾ƒå†™çš„å¥½ï¼‰ï¼š" class="headerlink" title="ç­”ä¸€ï¼ˆæ¯”è¾ƒå†™çš„å¥½ï¼‰ï¼š"></a>ç­”ä¸€ï¼ˆæ¯”è¾ƒå†™çš„å¥½ï¼‰ï¼š</h2><p>ä½œè€…ï¼šè¾‰å¸¸å“¥</p><p>é“¾æ¥ï¼š<a href="https://www.zhihu.com/question/27455963/answer/89770919">https://www.zhihu.com/question/27455963/answer/89770919</a></p><p>æ¥æºï¼šçŸ¥ä¹</p><p>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><p>1.<code>gcc</code>æ˜¯<code>GNU Compiler Collectionï¼ˆå°±æ˜¯GNUç¼–è¯‘å™¨å¥—ä»¶ï¼‰</code>ï¼Œä¹Ÿå¯ä»¥ç®€å•è®¤ä¸ºæ˜¯ç¼–è¯‘å™¨ï¼Œå®ƒå¯ä»¥ç¼–è¯‘å¾ˆå¤šç§ç¼–ç¨‹è¯­è¨€ï¼ˆæ‹¬<code>C</code>ã€<code>C++</code>ã€<code>Objective-C</code>ã€<code>Fortran</code>ã€<code>Java</code>ç­‰ç­‰ï¼‰ã€‚</p><p>2.å½“ä½ çš„ç¨‹åºåªæœ‰ä¸€ä¸ªæºæ–‡ä»¶æ—¶ï¼Œç›´æ¥å°±å¯ä»¥ç”¨gccå‘½ä»¤ç¼–è¯‘å®ƒã€‚</p><p>3.ä½†æ˜¯å½“ä½ çš„ç¨‹åºåŒ…å«å¾ˆå¤šä¸ªæºæ–‡ä»¶æ—¶ï¼Œç”¨<code>gcc</code>å‘½ä»¤é€ä¸ªå»ç¼–è¯‘æ—¶ï¼Œä½ å°±å¾ˆå®¹æ˜“æ··ä¹±è€Œä¸”å·¥ä½œé‡å¤§</p><p>4.æ‰€ä»¥å‡ºç°äº†<code>make</code>å·¥å…·ï¼Œ <code>make</code>å·¥å…·å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªæ™ºèƒ½çš„æ‰¹å¤„ç†å·¥å…·ï¼Œå®ƒæœ¬èº«å¹¶æ²¡æœ‰ç¼–è¯‘å’Œé“¾æ¥çš„åŠŸèƒ½ï¼Œè€Œæ˜¯ç”¨ç±»ä¼¼äºæ‰¹å¤„ç†çš„æ–¹å¼â€”é€šè¿‡è°ƒç”¨<code>makefile</code>æ–‡ä»¶ä¸­ç”¨æˆ·æŒ‡å®šçš„å‘½ä»¤æ¥è¿›è¡Œç¼–è¯‘å’Œé“¾æ¥çš„ã€‚</p><p>5.<code>makefile</code>æ˜¯ä»€ä¹ˆï¼Ÿç®€å•çš„è¯´å°±åƒä¸€é¦–æ­Œçš„ä¹è°±ï¼Œmakeå·¥å…·å°±åƒæŒ‡æŒ¥å®¶ï¼ŒæŒ‡æŒ¥å®¶æ ¹æ®ä¹è°±æŒ‡æŒ¥æ•´ä¸ªä¹å›¢æ€ä¹ˆæ ·æ¼”å¥ï¼Œ<code>make</code>å·¥å…·å°±æ ¹æ®<code>makefile</code>ä¸­çš„å‘½ä»¤è¿›è¡Œç¼–è¯‘å’Œé“¾æ¥çš„ã€‚</p><p>6.<code>makefile</code>å‘½ä»¤ä¸­å°±åŒ…å«äº†è°ƒç”¨gccï¼ˆä¹Ÿå¯ä»¥æ˜¯åˆ«çš„ç¼–è¯‘å™¨ï¼‰å»ç¼–è¯‘æŸä¸ªæºæ–‡ä»¶çš„å‘½ä»¤ã€‚</p><p>7.<code>makefile</code>åœ¨ä¸€äº›ç®€å•çš„å·¥ç¨‹å®Œå…¨å¯ä»¥äººå·¥æ‰‹ä¸‹ï¼Œä½†æ˜¯å½“å·¥ç¨‹éå¸¸å¤§çš„æ—¶å€™ï¼Œæ‰‹å†™<code>makefile</code>ä¹Ÿæ˜¯éå¸¸éº»çƒ¦çš„ï¼Œå¦‚æœæ¢äº†ä¸ªå¹³å°<code>makefile</code>åˆè¦é‡æ–°ä¿®æ”¹ã€‚</p><p>8.è¿™æ—¶å€™å°±å‡ºç°äº†<code>Cmake</code>è¿™ä¸ªå·¥å…·ï¼Œcmakeå°±å¯ä»¥æ›´åŠ ç®€å•çš„ç”Ÿæˆ<code>makefile</code>æ–‡ä»¶ç»™ä¸Šé¢é‚£ä¸ª<code>make</code>ç”¨ã€‚å½“ç„¶<code>cmake</code>è¿˜æœ‰å…¶ä»–åŠŸèƒ½ï¼Œå°±æ˜¯å¯ä»¥è·¨å¹³å°ç”Ÿæˆå¯¹åº”å¹³å°èƒ½ç”¨çš„<code>makefile</code>ï¼Œä½ ä¸ç”¨å†è‡ªå·±å»ä¿®æ”¹äº†ã€‚</p><p>9.å¯æ˜¯cmakeæ ¹æ®ä»€ä¹ˆç”Ÿæˆ<code>makefile</code>å‘¢ï¼Ÿå®ƒåˆè¦æ ¹æ®ä¸€ä¸ªå«<code>CMakeLists.txt</code>æ–‡ä»¶ï¼ˆå­¦åï¼šç»„æ€æ¡£ï¼‰å»ç”Ÿæˆ<code>makefile</code>ã€‚</p><p>10.åˆ°æœ€å<code>CMakeLists.txt</code>æ–‡ä»¶è°å†™å•Šï¼Ÿäº²ï¼Œæ˜¯ä½ è‡ªå·±æ‰‹å†™çš„ã€‚</p><p>11.å½“ç„¶å¦‚æœä½ ç”¨IDEï¼Œç±»ä¼¼VSè¿™äº›ä¸€èˆ¬å®ƒéƒ½èƒ½å¸®ä½ å¼„å¥½äº†ï¼Œ<strong>ä½ åªéœ€è¦æŒ‰ä¸€ä¸‹é‚£ä¸ªä¸‰è§’å½¢</strong>ã€‚<font color=#FE7207  size=4 face="å¹¼åœ†">ï¼ˆä»¥å‰ä»æ¥æ²¡ç ”ç©¶è¿‡è¿™ä¸ªé‚ªæ¶çš„ä¸‰è§’å½¢ï¼Œæ‰€ä»¥è¿™é‚£å¤©ç¿»æ¥è¿™ä¸¤ç¯‡æ–‡ç« ï¼‰</font></p><p>12.æ¥ç€æ˜¯<code>qmake</code>ï¼Œ<code>qmake</code>æ˜¯ä»€ä¹ˆï¼Œå…ˆè¯´ä¸€ä¸‹Qtè¿™ä¸ªä¸œè¥¿ã€‚Qtæ˜¯è·¨å¹³å°C++å›¾å½¢ç”¨æˆ·ç•Œé¢åº”ç”¨ç¨‹åºå¼€å‘æ¡†æ¶ã€‚å®ƒæ—¢å¯ä»¥å¼€å‘GUIç¨‹åºï¼Œä¹Ÿå¯ç”¨äºå¼€å‘é<code>GUI</code>ç¨‹åºï¼Œæ¯”å¦‚æ§åˆ¶å°å·¥å…·å’ŒæœåŠ¡å™¨ã€‚ç®€å•çš„è¯´å°±æ˜¯C++çš„ç¬¬ä¸‰æ–¹åº“ï¼Œä½¿ç”¨è¿™ä¸ªåº“ä½ å¯ä»¥å¾ˆå®¹æ˜“ç”Ÿæˆ<code>windows</code>ï¼Œ<code>Linux</code>ï¼Œ<code>MAC os</code>ç­‰ç­‰å¹³å°çš„å›¾å½¢ç•Œé¢ã€‚ç°åœ¨çš„<code>Qt</code>è¿˜åŒ…å«äº†å¼€å‘å„ç§è½¯ä»¶ä¸€èˆ¬éœ€è¦ç”¨åˆ°çš„åŠŸèƒ½æ¨¡å—ï¼ˆç½‘ç»œï¼Œæ•°æ®åº“ï¼Œ<code>XML</code>ï¼Œå¤šçº¿ç¨‹å•Šç­‰ç­‰ï¼‰ï¼Œæ¯”ä½ ç›´æ¥ç”¨<code>C++</code>ï¼ˆåªå¸¦æ ‡å‡†å†…è£¤é‚£ç§ï¼‰è¦æ–¹ä¾¿å’Œç®€å•ã€‚</p><p>13.ä½ å¯ä»¥ç”¨<code>Qt</code>ç®€ç®€å•å•å°±å®ç°éå¸¸å¤æ‚çš„åŠŸèƒ½ï¼Œæ˜¯å› ä¸º<code>Qt</code>å¯¹<code>C++</code>è¿›è¡Œäº†æ‰©å±•ï¼Œä½ å†™ä¸€è¡Œä»£ç ï¼ŒQtåœ¨èƒŒåå¸®ä½ å†™äº†å‡ ç™¾ä¸Šåƒè¡Œï¼Œè€Œè¿™äº›å¤šå‡ºæ¥çš„ä»£ç å°±æ˜¯é <code>Qt</code>ä¸“æœ‰çš„<code>moc</code>ç¼–è¯‘å™¨ï¼ˆ<code>The Meta-Object Compiler</code>ï¼‰å’Œ<code>uic</code>ç¼–è¯‘å™¨ï¼ˆ<code>User Interface Complier</code>ï¼‰æ¥é‡æ–°ç¿»è¯‘ä½ é‚£ä¸€è¡Œä»£ç ã€‚é—®é¢˜æ¥äº†ï¼Œä½ åœ¨è¿›è¡Œç¨‹åºç¼–è¯‘å‰å°±å¿…é¡»å…ˆè°ƒç”¨<code>moc</code>å’Œ<code>uic</code>å¯¹<code>Qt</code>æºæ–‡ä»¶è¿›è¡Œé¢„å¤„ç†ï¼Œç„¶åå†è°ƒç”¨ç¼–è¯‘å™¨è¿›è¡Œç¼–è¯‘ã€‚ä¸Šé¢è¯´çš„é‚£ç§æ™®é€š<code>makefile</code>æ–‡ä»¶æ˜¯ä¸é€‚ç”¨çš„ï¼Œå®ƒæ²¡åŠæ³•å¯¹<code>qt</code>æºæ–‡ä»¶è¿›è¡Œé¢„å¤„ç†ã€‚æ‰€ä»¥<code>qmake</code>å°±äº§ç”Ÿäº†ã€‚</p><p>14.<code>qmake</code>å·¥å…·å°±æ˜¯Qtå…¬å¸åˆ¶é€ å‡ºæ¥ï¼Œç”¨æ¥ç”ŸæˆQt ä¸“ç”¨<code>makefile</code>æ–‡ä»¶ï¼Œè¿™ç§<code>makefile</code>æ–‡ä»¶å°±èƒ½è‡ªåŠ¨æ™ºèƒ½è°ƒç”¨<code>moc</code>å’Œ<code>uic</code>å¯¹æºç¨‹åºè¿›è¡Œé¢„å¤„ç†å’Œç¼–è¯‘ã€‚<code>qmake</code>å½“ç„¶å¿…é¡»ä¹Ÿæ˜¯è·¨å¹³å°çš„ï¼Œè·Ÿ<code>cmake</code>ä¸€æ ·èƒ½å¯¹åº”å„ç§å¹³å°ç”Ÿæˆå¯¹åº”<code>makefile</code>æ–‡ä»¶ã€‚</p><p>15.<code>qmake</code>æ˜¯æ ¹æ®<code>Qt</code> å·¥ç¨‹æ–‡ä»¶<code>ï¼ˆ.proï¼‰</code>æ¥ç”Ÿæˆå¯¹åº”çš„<code>makefile</code>çš„ã€‚å·¥ç¨‹æ–‡ä»¶ï¼ˆ<code>.pro</code>ï¼‰ç›¸å¯¹æ¥è¯´æ¯”è¾ƒç®€å•ï¼Œä¸€èˆ¬å·¥ç¨‹ä½ éƒ½å¯ä»¥è‡ªå·±æ‰‹å†™ï¼Œä½†æ˜¯ä¸€èˆ¬éƒ½æ˜¯ç”±<code>Qt</code>çš„å¼€å‘ç¯å¢ƒ <code>Qt Creato</code>rè‡ªåŠ¨ç”Ÿæˆçš„ï¼Œä½ <strong>è¿˜æ˜¯åªéœ€è¦æŒ‰ä¸‹é‚£ä¸ªé‚ªæ¶ä¸‰è§’å½¢å°±å®Œäº‹äº†</strong>ã€‚</p><p>16.è¿˜æ²¡æœ‰å®Œï¼Œç”±äºqmakeå¾ˆç®€å•å¾ˆå¥½ç”¨åˆæ”¯æŒè·¨å¹³å°ï¼Œè€Œä¸”æ˜¯å¯ä»¥ç‹¬ç«‹äºå®ƒçš„IDEï¼Œæ‰€ä»¥ä½ ä¹Ÿå¯ä»¥ç”¨åœ¨éQtå·¥ç¨‹ä¸Šé¢ï¼Œç…§æ ·å¯ä»¥ç”Ÿæˆæ™®é€šçš„<code>makefile</code>ï¼Œåªè¦åœ¨proæ–‡ä»¶ä¸­åŠ å…¥<code>CONFIG -= qt</code>  å°±å¯ä»¥äº†ã€‚</p><ol start="17"><li><p>è¿™æ ·<code>qmake</code>å’Œ<code>cmake</code>æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p><p>  ä¸å¥½æ„æ€ï¼Œ<code>cmake</code>ä¹Ÿæ˜¯åŒæ ·æ”¯æŒ<code>Qt</code>ç¨‹åºçš„ï¼Œ<code>cmake</code>ä¹Ÿèƒ½ç”Ÿæˆé’ˆå¯¹<code>qt</code> ç¨‹åºçš„é‚£ç§ç‰¹æ®Š<code>makefile</code>ï¼Œ</p><p> åªæ˜¯<code>cmake</code>çš„<code>CMakeLists.txt</code> å†™èµ·æ¥ç›¸å¯¹ä¸<code>qmake</code>çš„<code>pro</code>æ–‡ä»¶å¤æ‚ç‚¹ã€‚</p><p> <code>qmake</code> æ˜¯ä¸º <code>Qt</code> é‡èº«æ‰“é€ çš„ï¼Œä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ï¼Œä½†æ˜¯cmakeåŠŸèƒ½æ¯”qmakeå¼ºå¤§ã€‚</p><p> ä¸€èˆ¬çš„<code>Qt</code>å·¥ç¨‹ä½ å°±ç›´æ¥ä½¿ç”¨<code>qmake</code>å°±å¯ä»¥äº†ï¼Œ<code>cmake</code>çš„å¼ºå¤§åŠŸèƒ½ä¸€èˆ¬äººæ˜¯ç”¨ä¸åˆ°çš„ã€‚</p><p> å½“ä½ çš„å·¥ç¨‹éå¸¸å¤§çš„æ—¶å€™ï¼Œåˆæœ‰<code>qt</code>éƒ¨åˆ†çš„å­å·¥ç¨‹ï¼Œåˆæœ‰å…¶ä»–è¯­è¨€çš„éƒ¨åˆ†å­å·¥ç¨‹ï¼Œæ®è¯´ç”¨<code>cmake</code>ä¼š æ–¹ä¾¿ï¼Œæˆ‘ä¹Ÿæ²¡è¯•è¿‡ã€‚</p></li></ol><h2 id="ç­”äºŒï¼ˆå›¾å¾ˆå¥½ï¼‰"><a href="#ç­”äºŒï¼ˆå›¾å¾ˆå¥½ï¼‰" class="headerlink" title="ç­”äºŒï¼ˆå›¾å¾ˆå¥½ï¼‰:"></a>ç­”äºŒï¼ˆå›¾å¾ˆå¥½ï¼‰:</h2><p>ä½œè€…ï¼šçŸæ¸…</p><p>é“¾æ¥ï¼š<a href="https://www.zhihu.com/question/27455963/answer/36722992">https://www.zhihu.com/question/27455963/answer/36722992</a></p><p>æ¥æºï¼šçŸ¥ä¹</p><p>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><ol><li><p><code>make</code> æ˜¯ç”¨æ¥æ‰§è¡Œ<code>makefile</code>çš„</p></li><li><p><code>makefile</code>æ˜¯ç±»unixç¯å¢ƒä¸‹(æ¯”å¦‚Linux)çš„ç±»ä¼¼äºæ‰¹å¤„ç†çš„â€è„šæœ¬â€æ–‡ä»¶ã€‚å…¶åŸºæœ¬è¯­æ³•æ˜¯: ç›®æ ‡+ä¾èµ–+å‘½ä»¤ï¼Œåªæœ‰åœ¨ç›®æ ‡æ–‡ä»¶ä¸å­˜åœ¨ï¼Œæˆ–ç›®æ ‡æ¯”ä¾èµ–çš„æ–‡ä»¶æ›´æ—§ï¼Œå‘½ä»¤æ‰ä¼šè¢«æ‰§è¡Œã€‚ç”±æ­¤å¯è§ï¼Œ<code>makefile</code>å’Œmakeå¯é€‚ç”¨äºä»»æ„å·¥ä½œï¼Œä¸é™äºç¼–ç¨‹ã€‚æ¯”å¦‚ï¼Œå¯ä»¥ç”¨æ¥ç®¡ç†latexã€‚</p></li><li><p><code>makefile</code>+<code>make</code>å¯ç†è§£ä¸ºç±»<code>unix</code>ç¯å¢ƒä¸‹çš„é¡¹ç›®ç®¡ç†å·¥å…·ï¼Œä½†å®ƒå¤ªåŸºç¡€äº†ï¼ŒæŠ½è±¡ç¨‹åº¦ä¸é«˜ï¼Œè€Œä¸”åœ¨<code>windows</code>ä¸‹ä¸å¤ªå‹å¥½(é’ˆå¯¹<code>visual studio</code>ç”¨æˆ·)ï¼Œäºæ˜¯å°±æœ‰äº†è·¨å¹³å°é¡¹ç›®ç®¡ç†å·¥å…·<code>cmake</code></p></li><li><p>cmakeæ˜¯è·¨å¹³å°é¡¹ç›®ç®¡ç†å·¥å…·ï¼Œå®ƒç”¨æ›´æŠ½è±¡çš„è¯­æ³•æ¥ç»„ç»‡é¡¹ç›®ã€‚è™½ç„¶ï¼Œä»ç„¶æ˜¯ç›®æ ‡ï¼Œä¾èµ–ä¹‹ç±»çš„ä¸œè¥¿ï¼Œä½†æ›´ä¸ºæŠ½è±¡å’Œå‹å¥½ï¼Œæ¯”å¦‚ä½ å¯ç”¨mathè¡¨ç¤ºæ•°å­¦åº“ï¼Œè€Œä¸éœ€è¦å†å…·ä½“æŒ‡å®šåˆ°åº•æ˜¯math.dllè¿˜æ˜¯libmath.soï¼Œåœ¨windowsä¸‹å®ƒä¼šæ”¯æŒç”Ÿæˆ<code>visual studio</code>çš„å·¥ç¨‹ï¼Œåœ¨linuxä¸‹å®ƒä¼šç”Ÿæˆ<code>makefile</code>ï¼Œç”šè‡³å®ƒè¿˜èƒ½ç”Ÿæˆeclipseå·¥ç¨‹æ–‡ä»¶ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä»åŒä¸€ä¸ªæŠ½è±¡è§„åˆ™å‡ºå‘ï¼Œå®ƒä¸ºå„ä¸ªç¼–è¯‘å™¨å®šåˆ¶å·¥ç¨‹æ–‡ä»¶ã€‚</p></li><li><p>cmakeæ˜¯æŠ½è±¡å±‚æ¬¡æ›´é«˜çš„é¡¹ç›®ç®¡ç†å·¥å…·ï¼Œcmakeå‘½ä»¤æ‰§è¡Œçš„CMakeLists.txtæ–‡ä»¶</p></li><li><p>qmakeæ˜¯Qtä¸“ç”¨çš„é¡¹ç›®ç®¡ç†å·¥å…·ï¼Œå¯¹åº”çš„å·¥ç¨‹æ–‡ä»¶æ˜¯*.proï¼Œåœ¨Linuxä¸‹é¢å®ƒä¹Ÿä¼šç”Ÿæˆ<code>makefile</code>ï¼Œå½“ç„¶ï¼Œåœ¨å‘½ä»¤è¡Œä¸‹æ‰ä¼šéœ€è¦æ‰‹åŠ¨æ‰§è¡Œqmakeï¼Œå®Œå…¨å¯ä»¥åœ¨qtcreatorè¿™ä¸ªä¸“ç”¨çš„IDEä¸‹é¢æ‰“å¼€*.proæ–‡ä»¶ï¼Œä½¿ç”¨qmakeå‘½ä»¤çš„ç¹çç»†èŠ‚ä¸ç”¨ä½ ç®¡äº†ã€‚</p></li></ol><p>æ€»ç»“ä¸€ä¸‹ï¼Œmakeç”¨æ¥æ‰§è¡Œ<code>makefile</code>ï¼Œ<code>cmake</code>ç”¨æ¥æ‰§è¡Œ<code>CMakeLists.txt</code>ï¼Œ<code>qmake</code>ç”¨æ¥å¤„ç†<code>*.pro</code>å·¥ç¨‹æ–‡ä»¶ã€‚<code>makefile</code>çš„æŠ½è±¡å±‚æ¬¡æœ€ä½ï¼Œ<code>cmake</code>å’Œ<code>qmake</code>åœ¨<code>Linux</code>ç­‰ç¯å¢ƒä¸‹æœ€åè¿˜æ˜¯ä¼šç”Ÿæˆä¸€ä¸ª<code>makefile</code>ã€‚<code>cmake</code>å’Œ<code>qmake</code>æ”¯æŒè·¨å¹³å°ï¼Œ<code>cmake</code>çš„åšæ³•æ˜¯ç”ŸæˆæŒ‡å®šç¼–è¯‘å™¨çš„å·¥ç¨‹æ–‡ä»¶ï¼Œè€Œqmakeå®Œå…¨è‡ªæˆä½“ç³»ã€‚</p><p>å…·ä½“ä½¿ç”¨æ—¶ï¼Œ<code>Linux</code>ä¸‹ï¼Œå°å·¥ç¨‹å¯æ‰‹åŠ¨å†™<code>makefile</code>ï¼Œå¤§å·¥ç¨‹ç”¨automakeæ¥å¸®ä½ ç”Ÿæˆ<code>makefile</code>ï¼Œè¦æƒ³è·¨å¹³å°ï¼Œå°±ç”¨<code>cmake</code>ã€‚å¦‚æœ<code>GUI</code>ç”¨äº†<code>Qt</code>ï¼Œä¹Ÿå¯ä»¥ç”¨<code>qmake</code> + <code>*.pro</code>æ¥ç®¡ç†å·¥ç¨‹ï¼Œè¿™ä¹Ÿæ˜¯è·¨å¹³å°çš„ã€‚å½“ç„¶ï¼Œ<code>cmake</code>ä¸­ä¹Ÿæœ‰é’ˆå¯¹<code>Qt</code>çš„ä¸€äº›è§„åˆ™ï¼Œå¹¶ä»£æ›¿<code>qmake</code>å¸®ä½ å°†<code>qt</code>ç›¸å…³çš„å‘½ä»¤æ•´ç†å¥½äº†ã€‚</p><p>å¦å¤–ï¼Œéœ€è¦æŒ‡å‡ºçš„æ˜¯ï¼Œ<code>make</code>å’Œ<code>cmake</code>ä¸»è¦å‘½ä»¤åªæœ‰ä¸€æ¡ï¼Œ<code>make</code>ç”¨äºå¤„ç†<code>makefile</code>ï¼Œcmakeç”¨æ¥è½¬è¯‘<code>CMakeLists.txt</code>ï¼Œè€Œ<code>qmake</code>æ˜¯ä¸€ä¸ªä½“ç³»ï¼Œç”¨äºæ”¯æ’‘ä¸€ä¸ªç¼–ç¨‹ç¯å¢ƒï¼Œå®ƒè¿˜åŒ…å«é™¤<code>qmake</code>ä¹‹å¤–çš„å…¶å®ƒå¤šæ¡å‘½ä»¤(æ¯”å¦‚<code>uic</code>ï¼Œ<code>rcc</code>,<code>moc</code>)ã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190801221230.png"/ loading="lazy"><p>ä¸Šä¸ªç®€å›¾ï¼Œå…¶ä¸­<code>cl</code>è¡¨ç¤º<code>visual studio</code>çš„ç¼–è¯‘å™¨ï¼Œ<code>gcc</code>è¡¨ç¤º<code>linux</code>ä¸‹çš„ç¼–è¯‘å™¨</p><br><h2 id="å‚è€ƒåšæ–‡ï¼š"><a href="#å‚è€ƒåšæ–‡ï¼š" class="headerlink" title="å‚è€ƒåšæ–‡ï¼š"></a>å‚è€ƒåšæ–‡ï¼š</h2><p>å› ä¸ºæœ‰ç€çƒ­å¿ƒç½‘å‹çš„æ— ç§åˆ†äº«ï¼Œ</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºä¸€ æŠ€æ³• </category>
          
          <category> å­¦ä¹  - åº•å±‚å…¼æ¶æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åŸç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>`Qtå›¾ç‰‡çš„ç»˜å›¾ç±»`QPixmap`/`QBitmap`/`QImage`/`QPicture`åŒºåˆ«å’Œä½¿ç”¨</title>
      <link href="/posts/bcab0980/"/>
      <url>/posts/bcab0980/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€ä»‹ï¼š</strong>   <code>Qt</code>å›¾ç‰‡çš„ç»˜å›¾ç±»<code>QPixmap</code>&#x2F;<code>QBitmap</code>&#x2F;<code>QImage</code>&#x2F;<code>QPicture</code>åŒºåˆ«å’Œä½¿ç”¨</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ç®€è¿°ï¼š"><a href="#ç®€è¿°ï¼š" class="headerlink" title="ç®€è¿°ï¼š"></a>ç®€è¿°ï¼š</h2><p>â€‹   <code>Qt</code>å›¾ç‰‡çš„ç»˜å›¾ç±»<code>QPixmap</code>&#x2F;<code>QBitmap</code>&#x2F;<code>QImage</code>&#x2F;<code>QPicture</code>åŒºåˆ«å’Œä½¿ç”¨</p><br><h2 id="å¼€å‘å¹³å°ç¯å¢ƒï¼š"><a href="#å¼€å‘å¹³å°ç¯å¢ƒï¼š" class="headerlink" title="å¼€å‘å¹³å°ç¯å¢ƒï¼š"></a>å¼€å‘å¹³å°ç¯å¢ƒï¼š</h2><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>win10 x64 ä¸“ä¸šç‰ˆ</code></p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>Qt Creator 4.8.2 (Enterprise)</code>ï¼Œ <code>Qt 5.9.8</code></p><br><h2 id="çŸ¥è¯†ç‚¹è®²è§£ï¼š"><a href="#çŸ¥è¯†ç‚¹è®²è§£ï¼š" class="headerlink" title="çŸ¥è¯†ç‚¹è®²è§£ï¼š"></a>çŸ¥è¯†ç‚¹è®²è§£ï¼š</h2><blockquote><p><code>ç»˜å›¾è®¾å¤‡</code>ï¼š ç»˜å›¾è®¾å¤‡æ˜¯æŒ‡ç»§æ‰¿<code>QPaintDevice</code>çš„å­ç±»ï¼Œä½ å¯ä»¥ä½¿ç”¨QPainterç›´æ¥åœ¨å…¶ä¸Šé¢ç»˜åˆ¶å›¾å½¢ï¼Œ<code>Qt</code>ä¸€å…±æä¾›äº†å››ä¸ªè¿™æ ·ç»§æ‰¿QPaintDeviceçš„ç»˜å›¾è®¾å¤‡ç±»ï¼Œåˆ†åˆ«æ˜¯QPixmapã€QBitmapã€QImageå’Œ QPictureã€‚</p><p><code>QPixmap</code>ï¼šé’ˆå¯¹å±å¹•è¿›è¡Œä¼˜åŒ–äº†ï¼Œå’Œå¹³å°ç›¸å…³ï¼Œä¸èƒ½å¯¹å›¾ç‰‡è¿›è¡Œä¿®æ”¹</p><p><code>QBitmap</code>ï¼šæ˜¯QPixmapçš„ä¸€ä¸ªå­ç±»ï¼Œå®ƒçš„è‰²æ·±é™å®šä¸º1ï¼Œä½ å¯ä»¥ä½¿ç”¨ QPixmapçš„isQBitmap()å‡½æ•°æ¥ç¡®å®šè¿™    ä¸ªQPixmapæ˜¯ä¸æ˜¯ä¸€ä¸ªQBitmapï¼›</p><p><code>QImage</code>ï¼šå’Œå¹³å°æ— å…³ï¼Œå¯ä»¥å¯¹å›¾ç‰‡è¿›è¡Œä¿®æ”¹ï¼Œåœ¨çº¿ç¨‹ä¸­ç»˜å›¾ï¼Œä¸“é—¨ä¸ºå›¾åƒçš„åƒç´ çº§è®¿é—®åšäº†ä¼˜åŒ–ï¼›</p><p><code>QPicture</code>ï¼šä¿å­˜ç»˜å›¾çš„çŠ¶æ€ï¼ˆäºŒè¿›åˆ¶æ–‡ä»¶ï¼‰ï¼Œåˆ™å¯ä»¥è®°å½•å’Œé‡ç°QPainterçš„å„æ¡å‘½ä»¤ï¼›</p></blockquote><h2 id="QPixmapå’ŒQBitmap"><a href="#QPixmapå’ŒQBitmap" class="headerlink" title="QPixmapå’ŒQBitmap"></a><strong>QPixmapå’ŒQBitmap</strong></h2><p>QPixmapå¯ä»¥æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºä¸€ä¸ªæ–‡ä»¶çš„è·¯å¾„æ¥æ˜¾ç¤ºè¿™ä¸ªæ–‡ä»¶ï¼Œæ¯”å¦‚ä½ æƒ³åœ¨ç¨‹åºä¹‹ä¸­æ‰“å¼€pngã€jpegä¹‹ç±»çš„æ–‡ä»¶ï¼Œå°±å¯ä»¥ä½¿ç”¨ QPixmapã€‚ä½¿ç”¨QPainterçš„drawPixmap()å‡½æ•°å¯ä»¥æŠŠè¿™ä¸ªæ–‡ä»¶ç»˜åˆ¶åˆ°ä¸€ä¸ªQLabelã€QPushButtonæˆ–è€…å…¶ä»–çš„è®¾å¤‡ä¸Šé¢ã€‚QPixmapæ˜¯é’ˆå¯¹å±å¹•è¿›è¡Œç‰¹æ®Šä¼˜åŒ–çš„ï¼Œå› æ­¤ï¼Œå®ƒä¸å®é™…çš„åº•å±‚æ˜¾ç¤ºè®¾å¤‡æ¯æ¯ç›¸å…³ã€‚æ³¨æ„ï¼Œè¿™é‡Œè¯´çš„æ˜¾ç¤ºè®¾å¤‡å¹¶ä¸æ˜¯ç¡¬ä»¶ï¼Œè€Œæ˜¯æ“ä½œç³»ç»Ÿæä¾›çš„åŸç”Ÿçš„ç»˜å›¾å¼•æ“ã€‚æ‰€ä»¥ï¼Œåœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿå¹³å°ä¸‹ï¼ŒQPixmapçš„æ˜¾ç¤ºå¯èƒ½ä¼šæœ‰æ‰€å·®åˆ«ã€‚</p><p>QPixmapæä¾›äº†é™æ€çš„grabWidget()å’ŒgrabWindow()å‡½æ•°ï¼Œç”¨äºå°†è‡ªèº«å›¾åƒç»˜åˆ¶åˆ°ç›®æ ‡ä¸Šã€‚åŒæ—¶ï¼Œåœ¨ä½¿ç”¨QPixmapæ—¶ï¼Œä½ å¯ä»¥ç›´æ¥ä½¿ç”¨ä¼ å€¼ä¹Ÿä¸éœ€è¦ä¼ æŒ‡é’ˆï¼Œå› ä¸ºQPixmapæä¾›äº†â€œéšå¼æ•°æ®å…±äº«â€ã€‚å…³äºè¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬ä¼šåœ¨ä»¥åçš„ç« èŠ‚ä¸­è¯¦ç»†æè¿°ï¼Œè¿™é‡Œåªè¦çŸ¥é“ä¼ é€’QPixmapä¸å¿…é¡»ä½¿ç”¨æŒ‡é’ˆå°±å¥½äº†ã€‚</p><p>QBitmapç»§æ‰¿è‡ªQPixmapï¼Œä¸»è¦ç”¨äºæ˜¾ç¤ºå•è‰²ä½å›¾ã€‚æ˜¯QPixmapå­ç±»ï¼Œå› æ­¤å…·æœ‰å…¶æ‰€æœ‰ç‰¹æ€§ã€‚QBitmapçš„è‰²æ·±å§‹ç»ˆä¸º1. è‰²æ·±è¿™ä¸ªæ¦‚å¿µæ¥è‡ªè®¡ç®—æœºå›¾å½¢å­¦ï¼Œæ˜¯æŒ‡ç”¨äºè¡¨ç°é¢œè‰²çš„äºŒè¿›åˆ¶çš„ä½æ•°ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œè®¡ç®—æœºé‡Œé¢çš„æ•°æ®éƒ½æ˜¯ä½¿ç”¨äºŒè¿›åˆ¶è¡¨ç¤ºçš„ã€‚ä¸ºäº†è¡¨ç¤ºä¸€ç§é¢œè‰²ï¼Œæˆ‘ä»¬ä¹Ÿä¼šä½¿ç”¨äºŒè¿›åˆ¶ã€‚æ¯”å¦‚æˆ‘ä»¬è¦è¡¨ç¤º8ç§é¢œè‰²ï¼Œéœ€è¦ç”¨3ä¸ªäºŒè¿›åˆ¶ä½ï¼Œè¿™æ—¶æˆ‘ä»¬å°±è¯´è‰²æ·±æ˜¯3. å› æ­¤ï¼Œæ‰€è°“è‰²æ·±ä¸º1ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨1ä¸ªäºŒè¿›åˆ¶ä½è¡¨ç¤ºé¢œè‰²ã€‚1ä¸ªä½åªæœ‰ä¸¤ç§çŠ¶æ€ï¼š0å’Œ1ï¼Œå› æ­¤å®ƒæ‰€è¡¨ç¤ºçš„é¢œè‰²å°±æœ‰ä¸¤ç§ï¼Œé»‘å’Œç™½ã€‚æ‰€ä»¥è¯´ï¼ŒQBitmapå®é™…ä¸Šæ˜¯åªæœ‰é»‘ç™½ä¸¤è‰²çš„å›¾åƒæ•°æ®ã€‚</p><p>ç”±äºQBitmapè‰²æ·±å°ï¼Œå› æ­¤åªå ç”¨å¾ˆå°‘çš„å­˜å‚¨ç©ºé—´ï¼Œæ‰€ä»¥é€‚åˆåšå…‰æ ‡æ–‡ä»¶å’Œç¬”åˆ·ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹åŒä¸€ä¸ªå›¾åƒæ–‡ä»¶åœ¨QPixmapå’ŒQBitmapä¸‹çš„ä¸åŒè¡¨ç°ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token class-name">PaintedWidget</span><span class="token double-colon punctuation">::</span><span class="token function">paintEvent</span><span class="token punctuation">(</span>QPaintEvent <span class="token operator">*</span>event<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>QPainter <span class="token function">painter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>QPixmap <span class="token function">pixmap</span><span class="token punctuation">(</span><span class="token string">"butterfly.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//å›¾ç‰‡èƒŒæ™¯é€æ˜</span>QBitmap <span class="token function">bitmap</span><span class="token punctuation">(</span><span class="token string">"butterfly.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//å›¾ç‰‡èƒŒæ™¯é€æ˜</span>painter<span class="token punctuation">.</span><span class="token function">drawPixmap</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span> pixmap<span class="token punctuation">)</span><span class="token punctuation">;</span>painter<span class="token punctuation">.</span><span class="token function">drawPixmap</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> bitmap<span class="token punctuation">)</span><span class="token punctuation">;</span>QPixmap <span class="token function">pixmap2</span><span class="token punctuation">(</span><span class="token string">"butterfly2.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å›¾ç‰‡èƒŒæ™¯ç™½è‰²</span>QBitmap <span class="token function">bitmap2</span><span class="token punctuation">(</span><span class="token string">"butterfly2.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å›¾ç‰‡èƒŒæ™¯ç™½è‰²</span>painter<span class="token punctuation">.</span><span class="token function">drawPixmap</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> pixmap2<span class="token punctuation">)</span><span class="token punctuation">;</span>painter<span class="token punctuation">.</span><span class="token function">drawPixmap</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> bitmap2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å…ˆæ¥çœ‹ä¸€ä¸‹è¿è¡Œç»“æœï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190727145004.png"/ loading="lazy"><p>è¿™é‡Œæˆ‘ä»¬ç»™å‡ºäº†ä¸¤å¼ pngå›¾ç‰‡ã€‚<code>butterfly.png</code>æ˜¯å…·æœ‰é€æ˜è‰²çš„èƒŒæ™¯ï¼Œè€Œ<code>butterfly2.png</code>æ˜¯æ²¡æœ‰é€æ˜è‰²çš„çº¯ç™½èƒŒæ™¯ï¼Œã€‚æˆ‘ä»¬åˆ†åˆ«ä½¿ç”¨QPixmapå’ŒQBitmapæ¥åŠ è½½å®ƒä»¬ã€‚æ³¨æ„çœ‹å®ƒä»¬çš„åŒºåˆ«ï¼šç™½è‰²çš„èƒŒæ™¯åœ¨Qbitmapä¸­æ¶ˆå¤±äº†ï¼Œ<strong>è€Œé€æ˜è‰²åœ¨QBitmapä¸­è½¬æ¢æˆäº†é»‘è‰²ï¼›å…¶ä»–é¢œè‰²åˆ™æ˜¯ä½¿ç”¨ç‚¹çš„ç–å¯†ç¨‹åº¦æ¥ä½“ç°çš„ã€‚</strong> </p><h2 id="QPixmapï¼š"><a href="#QPixmapï¼š" class="headerlink" title="QPixmapï¼š"></a>QPixmapï¼š</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//QPixmap</span>QPixmap <span class="token function">pixmap</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                 <span class="token comment">//ç»˜ç”»è®¾å¤‡ 400*400</span>pixmap<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>white<span class="token punctuation">)</span><span class="token punctuation">;</span>                                   <span class="token comment">//å¡«å……èƒŒæ™¯è‰²ï¼ˆé»˜è®¤ä¸ºé»‘è‰²ï¼‰</span>QPainter <span class="token function">p1</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pixmap<span class="token punctuation">)</span><span class="token punctuation">;</span>                                     <span class="token comment">//è®¾ç½®ç”»å®¶</span>p1<span class="token punctuation">.</span><span class="token function">drawPixmap</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token function">QPixmap</span><span class="token punctuation">(</span><span class="token string">"../plum.png"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//ç”»å®¶åœ¨ç»˜å›¾è®¾å¤‡ç»˜ç”»</span>pixmap<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token string">"../QPixmap_plum.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                      <span class="token comment">//ç»˜ç”»ä¿å­˜(é»˜è®¤ä¸ºbuild-QtExample-Desktop_Qt_5_9_8_MinGW_32bit-Debugé‡Œé¢)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="QImageï¼š"><a href="#QImageï¼š" class="headerlink" title="QImageï¼š"></a>QImageï¼š</h2><p>QPixmapä½¿ç”¨åº•å±‚å¹³å°çš„ç»˜åˆ¶ç³»ç»Ÿè¿›è¡Œç»˜åˆ¶ï¼Œæ— æ³•æä¾›åƒç´ çº§åˆ«çš„æ“ä½œï¼Œè€ŒQImageåˆ™æ˜¯ä½¿ç”¨ç‹¬ç«‹äºç¡¬ä»¶çš„ç»˜åˆ¶ç³»ç»Ÿï¼Œå®é™…ä¸Šæ˜¯è‡ªå·±ç»˜åˆ¶è‡ªå·±ï¼Œå› æ­¤æä¾›äº†åƒç´ çº§åˆ«çš„æ“ä½œï¼Œå¹¶ä¸”èƒ½å¤Ÿåœ¨ä¸åŒç³»ç»Ÿä¹‹ä¸Šæä¾›ä¸€ä¸ªä¸€è‡´çš„æ˜¾ç¤ºå½¢å¼ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//QImage</span>QImage <span class="token function">image</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> QImage<span class="token double-colon punctuation">::</span>Format_ARGB32<span class="token punctuation">)</span><span class="token punctuation">;</span>QPainter <span class="token function">p2</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>image<span class="token punctuation">)</span><span class="token punctuation">;</span>p2<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">QImage</span><span class="token punctuation">(</span><span class="token string">"../plum.png"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>image<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token string">"../QImage_plum.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="QPictureï¼š"><a href="#QPictureï¼š" class="headerlink" title="QPictureï¼š"></a>QPictureï¼š</h2><p>QPictureæ˜¯ä¸€ä¸ªå¯ä»¥è®°å½•å’Œé‡ç°QPainterå‘½ä»¤çš„ç»˜å›¾è®¾å¤‡ã€‚QPictureå°†QPainterçš„å‘½ä»¤åºåˆ—åŒ–åˆ°ä¸€ä¸ªIOè®¾å¤‡ï¼Œä¿å­˜ä¸ºä¸€ä¸ªå¹³å°ç‹¬ç«‹çš„æ–‡ä»¶æ ¼å¼ã€‚è¿™ç§æ ¼å¼æœ‰æ—¶å€™ä¼šæ˜¯â€œå…ƒæ–‡ä»¶(meta- files)â€ã€‚Qtçš„è¿™ç§æ ¼å¼æ˜¯äºŒè¿›åˆ¶çš„ï¼Œä¸åŒäºæŸäº›æœ¬åœ°çš„å…ƒæ–‡ä»¶ï¼ŒQtçš„picturesæ–‡ä»¶æ²¡æœ‰å†…å®¹ä¸Šçš„é™åˆ¶ï¼Œåªè¦æ˜¯èƒ½å¤Ÿè¢«QPainterç»˜åˆ¶çš„å…ƒç´ ï¼Œä¸è®ºæ˜¯å­—ä½“è¿˜æ˜¯pixmapï¼Œæˆ–è€…æ˜¯å˜æ¢ï¼Œéƒ½å¯ä»¥ä¿å­˜è¿›ä¸€ä¸ªpictureä¸­ã€‚</p><p>QPictureæ˜¯å¹³å°æ— å…³çš„ï¼Œå› æ­¤å®ƒå¯ä»¥ä½¿ç”¨åœ¨å¤šç§è®¾å¤‡ä¹‹ä¸Šï¼Œæ¯”å¦‚svgã€pdfã€psã€æ‰“å°æœºæˆ–è€…å±å¹•ã€‚å›å¿†ä¸‹æˆ‘ä»¬è¿™é‡Œæ‰€è¯´çš„QPaintDeviceï¼Œå®é™…ä¸Šæ˜¯è¯´å¯ä»¥æœ‰QPainterç»˜åˆ¶çš„å¯¹è±¡ã€‚QPictureä½¿ç”¨ç³»ç»Ÿçš„åˆ†è¾¨ç‡ï¼Œå¹¶ä¸”å¯ä»¥è°ƒæ•´ QPainteræ¥æ¶ˆé™¤ä¸åŒè®¾å¤‡ä¹‹é—´çš„æ˜¾ç¤ºå·®å¼‚ã€‚</p><p>å¦‚æœæˆ‘ä»¬è¦è®°å½•ä¸‹QPainterçš„å‘½ä»¤ï¼Œ<strong>é¦–å…ˆè¦ä½¿ç”¨QPainter::begin()å‡½æ•°åœ¨QPictureä¸Šè¿›è¡Œç»˜å›¾ï¼Œå°†QPictureå®ä¾‹ä½œä¸ºå‚æ•°ä¼ é€’è¿›å»ï¼Œä»¥ä¾¿å‘Šè¯‰ç³»ç»Ÿå¼€å§‹è®°å½•ï¼Œè®°å½•å®Œæ¯•åä½¿ç”¨QPainter::end()å‘½ä»¤ç»ˆæ­¢ï¼Œ</strong>æœ€åä½¿ç”¨save()ä¿å­˜ï¼Œä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//QPicture</span>QPicture picture<span class="token punctuation">;</span>QPainter p3<span class="token punctuation">;</span>p3<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>picture<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>p3<span class="token punctuation">.</span><span class="token function">drawPixmap</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token function">QPixmap</span><span class="token punctuation">(</span><span class="token string">"../plum.png"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//ä»»æ„ç»˜ç”»</span>p3<span class="token punctuation">.</span><span class="token function">drawEllipse</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span>p3<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>picture<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token string">"../QPicture_plum.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æ•ˆæœå›¾ï¼š</strong></p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190727143406.png"/ loading="lazy"><p>å› ä¸ºä¸ºäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ‰€ä»¥å›¾ç‰‡æ— æ³•æ˜¾ç¤ºï¼Œä½†æ˜¯æ–‡ä»¶æ˜¯ä¿å­˜å®Œå¥½çš„æ­£ç¡®çš„</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190727143654.png"/ loading="lazy"><p>ä½†æ˜¯å¯ä»¥é€šè¿‡å…¶æ¥<code>load()</code>ç›´æ¥è¯»å–è¯¥äºŒè¿›åˆ¶æ–‡ä»¶ï¼š</p><h2 id="åŠ è½½QPictureï¼š"><a href="#åŠ è½½QPictureï¼š" class="headerlink" title="åŠ è½½QPictureï¼š"></a>åŠ è½½QPictureï¼š</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">QPicture picture<span class="token punctuation">;</span>picture<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">"../QPicture_plum.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>QPainter <span class="token function">p</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>p<span class="token punctuation">.</span><span class="token function">drawPicture</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">,</span> picture<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="QImageä¸pixmapçš„åŒºåˆ«"><a href="#QImageä¸pixmapçš„åŒºåˆ«" class="headerlink" title="QImageä¸pixmapçš„åŒºåˆ«"></a>QImageä¸pixmapçš„åŒºåˆ«</h2><p>1ã€QPixmapä¸»è¦æ˜¯ç”¨äºç»˜å›¾ï¼Œé’ˆå¯¹å±å¹•æ˜¾ç¤ºè€Œæœ€ä½³åŒ–è®¾è®¡ï¼ŒQImageä¸»è¦æ˜¯ä¸ºå›¾åƒI&#x2F;Oã€å›¾ç‰‡è®¿é—®å’Œåƒç´ ä¿®æ”¹è€Œè®¾è®¡çš„</p><p>2ã€QPixmapä¾èµ–äºæ‰€åœ¨çš„å¹³å°çš„ç»˜å›¾å¼•æ“ï¼Œæ•…ä¾‹å¦‚åé”¯é½¿ç­‰ä¸€äº›æ•ˆæœåœ¨ä¸åŒçš„å¹³å°ä¸Šå¯èƒ½ä¼šæœ‰ä¸åŒçš„æ˜¾ç¤ºæ•ˆæœï¼ŒQImageä½¿ç”¨Qtè‡ªèº«çš„ç»˜å›¾å¼•æ“ï¼Œå¯åœ¨ä¸åŒå¹³å°ä¸Šå…·æœ‰ç›¸åŒçš„æ˜¾ç¤ºæ•ˆæœ</p><p>3ã€ç›®å‰çš„Qtä¼šæŠŠQPixmapéƒ½å­˜å‚¨åœ¨graphics memoryä¸­ï¼ŒQImageæ˜¯å­˜å‚¨åœ¨å®¢æˆ·ç«¯çš„ï¼Œæ˜¯ç‹¬ç«‹äºç¡¬ä»¶çš„ã€‚åœ¨ X11, Mac ä»¥åŠ Symbianå¹³å°ä¸Šï¼ŒQPixmap æ˜¯å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯ï¼Œè€ŒQImageåˆ™æ˜¯å­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼Œåœ¨Windowså¹³å°ä¸Šï¼ŒQPixmapå’ŒQImageéƒ½æ˜¯å­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼Œå¹¶ä¸ä½¿ç”¨ä»»ä½•çš„GDIèµ„æºã€‚</p><p>4ã€ç”±äºQImageæ˜¯ç‹¬ç«‹äºç¡¬ä»¶çš„ï¼Œä¹Ÿæ˜¯ä¸€ç§QPaintDeviceï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨å¦ä¸€ä¸ªçº¿ç¨‹ä¸­å¯¹å…¶è¿›è¡Œç»˜åˆ¶ï¼Œè€Œä¸éœ€è¦åœ¨GUIçº¿ç¨‹ä¸­å¤„ç†ï¼Œä½¿ç”¨è¿™ä¸€æ–¹å¼å¯ä»¥å¾ˆå¤§å¹…åº¦æé«˜UIå“åº”é€Ÿåº¦ã€‚</p><p>5ã€QImageå¯é€šè¿‡setPixpel()å’Œpixel()ç­‰æ–¹æ³•ç›´æ¥å­˜å–æŒ‡å®šçš„åƒç´ ã€‚</p><p>å½“å›¾ç‰‡è¾ƒå¤§æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆé€šè¿‡QImageå°†å›¾ç‰‡åŠ è½½è¿›æ¥ï¼Œç„¶åæŠŠå›¾ç‰‡ç¼©æ”¾æˆéœ€è¦çš„å°ºå¯¸ï¼Œæœ€åè½¬æ¢æˆQPixmap è¿›è¡Œæ˜¾ç¤ºã€‚</p><h2 id="QPixmap-â€“-gt-imageï¼š"><a href="#QPixmap-â€“-gt-imageï¼š" class="headerlink" title="QPixmap â€“&gt;  imageï¼š"></a>QPixmap â€“&gt;  imageï¼š</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//QPixmap -->  image</span>QPainter <span class="token function">p</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>QPixmap pixmap<span class="token punctuation">;</span>pixmap<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">"../QPixmap_plum.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>QImage image <span class="token operator">=</span> pixmap<span class="token punctuation">.</span><span class="token function">toImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>p<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">,</span> image<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="image-â€“-gt-QPixmapï¼š"><a href="#image-â€“-gt-QPixmapï¼š" class="headerlink" title="image â€“&gt;  QPixmapï¼š"></a>image â€“&gt;  QPixmapï¼š</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//image -->  QPixmap</span>QPainter <span class="token function">p</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>QImage image2<span class="token punctuation">;</span>image2<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">"../QImage_plum.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>QPixmap pixmap2<span class="token punctuation">;</span>pixmap2 <span class="token operator">=</span> <span class="token class-name">QPixmap</span><span class="token double-colon punctuation">::</span><span class="token function">fromImage</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">;</span>p<span class="token punctuation">.</span><span class="token function">drawPixmap</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> pixmap<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ•ˆæœå›¾å¦‚ä¸‹ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190727144015.png"/ loading="lazy"><br><h2 id="å®Œæ•´ä»£ç ï¼š"><a href="#å®Œæ•´ä»£ç ï¼š" class="headerlink" title="å®Œæ•´ä»£ç ï¼š"></a>å®Œæ•´ä»£ç ï¼š</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"QtExample.h"</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ui_QtExample.h"</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QPixmap></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QImage></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QPainter></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QPicture></span></span><span class="token class-name">QtExample</span><span class="token double-colon punctuation">::</span><span class="token function">QtExample</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span> <span class="token operator">:</span>    <span class="token function">QWidget</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token double-colon punctuation">::</span>QtExample<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    ui<span class="token operator">-></span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//QPixmap</span>    QPixmap <span class="token function">pixmap</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                 <span class="token comment">//ç»˜ç”»è®¾å¤‡ 400*400</span>    pixmap<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>white<span class="token punctuation">)</span><span class="token punctuation">;</span>                                   <span class="token comment">//å¡«å……èƒŒæ™¯è‰²ï¼ˆé»˜è®¤ä¸ºé»‘è‰²ï¼‰</span>    QPainter <span class="token function">p1</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pixmap<span class="token punctuation">)</span><span class="token punctuation">;</span>                                     <span class="token comment">//è®¾ç½®ç”»å®¶</span>    p1<span class="token punctuation">.</span><span class="token function">drawPixmap</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token function">QPixmap</span><span class="token punctuation">(</span><span class="token string">"../plum.png"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//ç”»å®¶åœ¨ç»˜å›¾è®¾å¤‡ç»˜ç”»</span>    pixmap<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token string">"../QPixmap_plum.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                      <span class="token comment">//ç»˜ç”»ä¿å­˜(é»˜è®¤ä¸ºbuild-QtExample-Desktop_Qt_5_9_8_MinGW_32bit-Debugé‡Œé¢)</span>    <span class="token comment">//QImage</span>    QImage <span class="token function">image</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> QImage<span class="token double-colon punctuation">::</span>Format_ARGB32<span class="token punctuation">)</span><span class="token punctuation">;</span>    QPainter <span class="token function">p2</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>image<span class="token punctuation">)</span><span class="token punctuation">;</span>    p2<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">QImage</span><span class="token punctuation">(</span><span class="token string">"../plum.png"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    image<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token string">"../QImage_plum.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//QPicture</span>    QPicture picture<span class="token punctuation">;</span>    QPainter p3<span class="token punctuation">;</span>    p3<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>picture<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    p3<span class="token punctuation">.</span><span class="token function">drawPixmap</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token function">QPixmap</span><span class="token punctuation">(</span><span class="token string">"../plum.png"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//ä»»æ„ç»˜ç”»</span>    p3<span class="token punctuation">.</span><span class="token function">drawEllipse</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    p3<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    picture<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token string">"../QPicture_plum.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">QtExample</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">QtExample</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">delete</span> ui<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token class-name">QtExample</span><span class="token double-colon punctuation">::</span><span class="token function">paintEvent</span><span class="token punctuation">(</span>QPaintEvent <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">if</span> <span class="token expression"><span class="token number">0</span></span></span>    QPicture picture<span class="token punctuation">;</span>    picture<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">"../QPicture_plum.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QPainter <span class="token function">p</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    p<span class="token punctuation">.</span><span class="token function">drawPicture</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">,</span> picture<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>    QPainter <span class="token function">p</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//QPixmap -->  image</span>    QPixmap pixmap<span class="token punctuation">;</span>    pixmap<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">"../QPixmap_plum.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QImage image <span class="token operator">=</span> pixmap<span class="token punctuation">.</span><span class="token function">toImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    p<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">,</span> image<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//image -->  QPixmap</span>    QImage image2<span class="token punctuation">;</span>    image2<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">"../QImage_plum.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    QPixmap pixmap2<span class="token punctuation">;</span>    pixmap2 <span class="token operator">=</span> <span class="token class-name">QPixmap</span><span class="token double-colon punctuation">::</span><span class="token function">fromImage</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">;</span>    p<span class="token punctuation">.</span><span class="token function">drawPixmap</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> pixmap<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><br><h2 id="å‚è€ƒåšæ–‡ï¼š"><a href="#å‚è€ƒåšæ–‡ï¼š" class="headerlink" title="å‚è€ƒåšæ–‡ï¼š"></a>å‚è€ƒåšæ–‡ï¼š</h2><p>å› ä¸ºæœ‰ç€çƒ­å¿ƒç½‘å‹çš„æ— ç§åˆ†äº«ï¼Œæ•…ä¸è¾è¾›è‹¦ä¹Ÿå°†è‡ªå·±çš„é¡¹ç›®æˆ–ç»éªŒæ•´ç†æˆåšå®¢çš„å½¢å¼ï¼Œä¹Ÿæä¾›ç»™ä¸€èµ·å¤§å®¶å­¦ä¹ æ¢è®¨ä¸äº¤æµ </p><p><strong>å‚è€ƒï¼š</strong>  <a href="https://blog.csdn.net/qq_33266987/article/details/73187140">Qtå›¾ç‰‡ç»˜å›¾ç±»QPixmap&#x2F;QImage&#x2F;QPicture</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>C++ è®¾è®¡æ¨¡å¼ï¼ˆ8å¤§è®¾è®¡åŸåˆ™ã€23ç§è®¾è®¡æ¨¡å¼ï¼‰æå»ºå¿ </title>
      <link href="/posts/cb5567e8/"/>
      <url>/posts/cb5567e8/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€  è¿°:</strong>  è®¾è®¡æ¨¡å¼ï¼Œä¹…é—»å¤§åã€‚æ­¤è®°å½•å­¦ä¹  â€œC++ è®¾è®¡æ¨¡å¼ æå»ºå¿ â€ çš„æœ­è®°ï¼Œæ ¸å¿ƒå…± 8å¤§è®¾è®¡åŸåˆ™ã€23ä¸­è®¾è®¡æ¨¡å¼ã€‚åå‘ç° GitHub ä¹Ÿæœ‰ç±»ä¼¼ç¬”è®° <a href="https://github.com/liu-jianhao/Cpp-Design-Patterns">Ref1</a> ã€<a href="https://github.com/rhyspang/CPP-Design-Patterns">Ref2 ç›¸å…³è¯¾ä»¶</a>ï¼Œå˜è…°å­äº†å“ˆ~</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="é‡æ–°è®¤è¯†é¢å‘å¯¹è±¡"><a href="#é‡æ–°è®¤è¯†é¢å‘å¯¹è±¡" class="headerlink" title="é‡æ–°è®¤è¯†é¢å‘å¯¹è±¡"></a>é‡æ–°è®¤è¯†é¢å‘å¯¹è±¡</h2><blockquote><p>ç†è§£éš”ç¦»å˜åŒ–</p></blockquote><ul><li>ä»å®è§‚å±‚é¢æ¥çœ‹ï¼Œé¢å‘å¯¹è±¡çš„æ„å»ºæ–¹å¼æ›´èƒ½é€‚åº”è½¯ä»¶çš„å˜åŒ–ï¼Œ</li><li>èƒ½å°†å˜åŒ–æ‰€å¸¦æ¥çš„å½±å“å‡ä¸ºæœ€å°</li></ul><blockquote><p>å„å¸å…¶èŒ</p></blockquote><ul><li>ä»å¾®è§‚å±‚é¢æ¥çœ‹ï¼Œé¢å‘å¯¹æ›´å¼ºè°ƒå„ä¸ªç±»çš„â€œè´£ä»»â€</li><li>ç”±äºéœ€æ±‚å˜åŒ–å¯¼è‡´çš„æ–°å¢å¤©&#x3D;ä¸ªåº”è¯¥å½±å“åŸæ¥ç±»å‹çš„å®ç°æ˜¯æ‰€è°“å„è´Ÿå…¶è´£</li></ul><blockquote><p>å¯¹è±¡æ˜¯ä»€ä¹ˆï¼Ÿ</p></blockquote><ul><li>ä»è¯­è¨€å®ç°å±‚é¢æ¥çœ‹ï¼Œå¯¹è±¡å°è£…äº†ä»£ç å’Œæ•°æ®.</li><li>ä»è§„æ ¼å±‚é¢è®²ï¼Œå¯¹è±¡æ˜¯ä¸€ç³»åˆ—å¯è¢«ä½¿ç”¨çš„å…¬å…±æ¥å£ã€‚</li><li>ä»æ¦‚å¿µå±‚é¢è®²ï¼Œå¯¹è±¡æ˜¯æŸç§æ‹¥æœ‰è´£ä»»çš„æŠ½è±¡ã€‚</li></ul><br><h2 id="é¢å‘å¯¹è±¡è®¾è®¡å…«å¤§åŸåˆ™"><a href="#é¢å‘å¯¹è±¡è®¾è®¡å…«å¤§åŸåˆ™" class="headerlink" title="é¢å‘å¯¹è±¡è®¾è®¡å…«å¤§åŸåˆ™"></a>é¢å‘å¯¹è±¡è®¾è®¡å…«å¤§åŸåˆ™</h2><p><strong>ï¼ˆ1ï¼‰ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDIPï¼‰</strong></p><ul><li><p>é«˜å±‚æ¨¡å—ï¼ˆç¨³å®šï¼‰ä¸åº”è¯¥ä¾èµ–äºä½å±‚æ¨¡å—ï¼ˆå˜åŒ–ï¼‰ï¼ŒäºŒè€…éƒ½åº”è¯¥ä¾èµ–äºæŠ½è±¡ï¼ˆç¨³å®šï¼‰ã€‚</p></li><li><p>æŠ½è±¡ï¼ˆç¨³å®šï¼‰ä¸åº”è¯¥ä¾èµ–äºå˜åŒ–ï¼‰ï¼Œå®ç°ç»†èŠ‚åº”è¯¥ä¾èµ–äºæŠ½è±¡ï¼ˆç¨³å®šï¼‰ã€‚</p></li></ul> <br><p><strong>ï¼ˆ2ï¼‰å¼€æ”¾å°é—­åŸåˆ™ï¼ˆOCPï¼‰</strong></p><ul><li><p>å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹æ›´æ”¹å°é—­ã€‚</p></li><li><p>ç±»æ¨¡å—åº”è¯¥æ˜¯å¯æ‰©å±•çš„ï¼Œä½†æ˜¯ä¸å¯ä¿®æ”¹ã€‚</p></li></ul> <br><p><strong>ï¼ˆ3ï¼‰å•ä¸€èŒè´£åŸåˆ™ï¼ˆSRPï¼‰</strong></p><ul><li><p>ä¸€ä¸ªç±»åº”è¯¥ä»…æœ‰ä¸€ä¸ªå¼•èµ·å®ƒå˜åŒ–çš„åŸå› ã€‚</p></li><li><p>å˜åŒ–çš„æ–¹å‘éšå«ç€ç±»çš„è´£ä»»ã€‚</p></li></ul> <br><p><strong>ï¼ˆ4ï¼‰Liskov æ›¿æ¢åŸåˆ™ï¼ˆLSPï¼‰</strong></p><ul><li><p>å­ç±»å¿…é¡»èƒ½å¤Ÿæ›¿æ¢å®ƒä»¬çš„åŸºç±»ï¼ˆIS-Aï¼‰ã€‚</p></li><li><p>ç»§æ‰¿è¡¨è¾¾ç±»å‹æŠ½è±¡ã€‚</p></li></ul> <br><p><strong>ï¼ˆ5ï¼‰æ¥å£éš”ç¦»åŸåˆ™ï¼ˆISPï¼‰</strong></p><ul><li><p>ä¸åº”è¯¥å¼ºè¿«å®¢æˆ·ç¨‹åºä¾èµ–å®ƒä»¬ä¸ç”¨çš„æ–¹æ³•ã€‚</p></li><li><p>æ¥å£åº”è¯¥å°è€Œå®Œå¤‡ã€‚</p></li></ul> <br><p><strong>ï¼ˆ6ï¼‰ä¼˜å…ˆä½¿ç”¨å¯¹è±¡ç»„åˆï¼Œè€Œä¸æ˜¯ç±»ç»§æ‰¿</strong></p><ul><li><p>ç±»ç»§æ‰¿é€šå¸¸ä¸ºâ€œç™½ç®±å¤ç”¨â€ï¼Œå¯¹è±¡ç»„åˆé€šå¸¸ä¸ºâ€œé»‘ç®±å¤ç”¨â€</p></li><li><p>ç»§æ‰¿åœ¨æŸç§ç¨‹åº¦ä¸Šç ´åäº†å°è£…æ€§ï¼Œå­ç±»çˆ¶ç±»è€¦åˆåº¦é«˜ã€‚</p></li><li><p>è€Œå¯¹è±¡ç»„åˆåˆ™åªè¦æ±‚è¢«ç»„åˆçš„å¯¹è±¡å…·æœ‰è‰¯å¥½å®šä¹‰çš„æ¥å£ï¼Œåº¦ä½ã€‚</p></li></ul> <br><p><strong>ï¼ˆ7ï¼‰å°è£…å˜åŒ–ç‚¹</strong></p><ul><li>ä½¿ç”¨å°è£…æ¥åˆ›å»ºå¯¹è±¡ä¹‹é—´çš„åˆ†ç•Œå±‚ï¼Œè®©è®¾è®¡è€…å¯ä»¥åœ¨åˆ†ç•Œçš„ä¸€ä¾§è¿›è¡Œä¿®æ”¹ï¼Œè€Œä¸ä¼šå¯¹å¦ä¸€ä¾§äº§ç”Ÿä¸è‰¯çš„å½±å“ï¼Œä»è€Œå®ç°å±‚æ¬¡é—´çš„æ¾è€¦åˆã€‚</li></ul> <br><p><strong>ï¼ˆ8ï¼‰é’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œè€Œä¸æ˜¯é’ˆå¯¹å®ç°ç¼–ç¨‹</strong></p><ul><li><p>ä¸å°†å˜é‡ç±»å‹å£°æ˜ä¸ºæŸä¸ªç‰¹å®šçš„å…·ä½“ç±»ï¼Œè€Œæ˜¯å£°æ˜ä¸ºæŸä¸ªæ¥å£ã€‚</p></li><li><p>å®¢æˆ·ç¨‹åºæ— éœ€è·çŸ¥å¯¹è±¡çš„å…·ä½“ç±»å‹ï¼Œåªéœ€è¦çŸ¥é“å¯¹è±¡æ‰€å…·æœ‰çš„æ¥å£ã€‚</p></li><li><p>å‡å°‘ç³»ç»Ÿä¸­å„éƒ¨åˆ†çš„ä¾èµ–å…³ç³»ï¼Œä»è€Œå®ç°â€œé«˜å†…èšã€æ¾è€¦åˆâ€çš„ç±»å‹è®¾è®¡æ–¹æ¡ˆã€‚</p></li></ul> <br><p><font color=#D0087E size=4 face="å¹¼åœ†"><strong>é¢å‘æ¥å£è®¾è®¡</strong></font> </p><p><font color=#D0087E size=4 face="å¹¼åœ†"><strong>äº§ä¸šå¼ºç››çš„æ ‡å¿—</strong></font> </p><p><font color=#D0087E size=4 face="å¹¼åœ†"><strong>æ¥å£æ ‡å‡†åŒ–ï¼</strong></font> </p><br><h2 id="å°†è®¾è®¡åŸåˆ™æå‡ä¸ºè®¾è®¡ç»éªŒ"><a href="#å°†è®¾è®¡åŸåˆ™æå‡ä¸ºè®¾è®¡ç»éªŒ" class="headerlink" title="å°†è®¾è®¡åŸåˆ™æå‡ä¸ºè®¾è®¡ç»éªŒ"></a>å°†è®¾è®¡åŸåˆ™æå‡ä¸ºè®¾è®¡ç»éªŒ</h2><blockquote><p><strong>1.è®¾è®¡ä¹ è¯­Design Idioms</strong></p></blockquote><ul><li>Design Idioms æè¿°ä¸ç‰¹å®šç¼–ç¨‹è¯­è¨€ç›¸å…³çš„ä½å±‚æ¨¡å¼ï¼ŒæŠ€å·§ï¼Œæƒ¯ç”¨æ³•ã€‚</li></ul><blockquote><p><strong>2.è®¾è®¡æ¨¡å¼ Design Patterns</strong></p></blockquote><ul><li>Design Patternsä¸»è¦æè¿°çš„æ˜¯â€œç±»ä¸ç›¸äº’é€šä¿¡çš„å¯¹è±¡ä¹‹é—´çš„ç»„ç»‡å…³ç³»ï¼ŒåŒ…æ‹¬å®ƒä»¬çš„è§’è‰²ã€èŒè´£ã€åä½œæ–¹å¼ç­‰æ–¹é¢ã€‚</li></ul><blockquote><p><strong>3.æ¶æ„æ¨¡å¼ Architectural Patterns</strong></p></blockquote><ul><li>Architectural Patternsæè¿°ç³»ç»Ÿä¸­ä¸åŸºæœ¬ç»“æ„ç»„ç»‡å…³ç³»å¯†åˆ‡çš„é«˜å±‚æ¨¡å¼ï¼ŒåŒ…æ‹¬å­ç³»ç»Ÿåˆ’åˆ†ï¼ŒèŒè´£ï¼Œä»¥åŠå¦‚ä½•ç»„ç»‡å®ƒä»¬ä¹‹é—´å…³ç³»çš„è§„åˆ™ã€‚</li></ul><br><p><font color=#FE7207  size=4 face="å¹¼åœ†">ä»£ç å¤ç”¨ï¼š C++ é¢å‘å¯¹è±¡æ˜¯æŒ‡ ç¼–è¯‘å±‚é¢ï¼ˆå•ä½çš„ï¼‰ï¼›è€Œä¸æ˜¯æŒ‡ä»£ç çš„ç²˜è´´å¤åˆ¶ã€‚ </font> </p><br><h2 id="é‡æ„å…³é”®æŠ€æ³•"><a href="#é‡æ„å…³é”®æŠ€æ³•" class="headerlink" title="é‡æ„å…³é”®æŠ€æ³•"></a>é‡æ„å…³é”®æŠ€æ³•</h2><p>é™æ€ â†’ åŠ¨æ€</p><p>æ—©ç»‘å®š â†’ æ™šç»‘å®š</p><p>ç»§æ‰¿ â†’  ç»„åˆ</p><p>ç¼–è¯‘æ—¶ä¾èµ– â†’ è¿è¡Œæ—¶ä¾èµ–</p><p>ç´§è€¦åˆ â†’ æ¾è€¦åˆ</p><br><h2 id="äºŒå…«åŸåˆ™-å®ç”¨ä¸ºä¸»"><a href="#äºŒå…«åŸåˆ™-å®ç”¨ä¸ºä¸»" class="headerlink" title="äºŒå…«åŸåˆ™ - å®ç”¨ä¸ºä¸»"></a>äºŒå…«åŸåˆ™ - å®ç”¨ä¸ºä¸»</h2><p>æœ‰é™çš„æ—¶é—´ï¼Œå¦‚ä¸‹å‡ ä¸ªé«˜é¢‘ä¼šå·¥ç¨‹é¡¹ç›®ä¸­ï¼Œé«˜é¢‘ä¼šä½¿ç”¨åˆ°çš„ï¼ŒæŒæ¡ï¼Œå…¶ä½™çš„éœ€è¦å†å»ç¿»</p><p>é‡Œæ°æ›¿æ¢åŸåˆ™ä¸­æ‰€è¯´çš„ä¾èµ–æ˜¯æŒ‡<strong>ç¼–è¯‘æ—¶ä¾èµ–</strong>ï¼›ç¼–è¯‘æ—¶ä¾èµ–ï¼ˆA â† Bï¼‰ä¸ºç¼–è¯‘æ—¶ç¼–è¯‘ B éœ€è¦ A å…ˆå­˜åœ¨ã€‚</p><h3 id="å•ä¾‹æ¨¡å¼"><a href="#å•ä¾‹æ¨¡å¼" class="headerlink" title="å•ä¾‹æ¨¡å¼"></a>å•ä¾‹æ¨¡å¼</h3><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202212242110271.png" width="80%"/ loading="lazy"><h3 id="è§‚å¯Ÿè€…æ¨¡å¼"><a href="#è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="è§‚å¯Ÿè€…æ¨¡å¼"></a>è§‚å¯Ÿè€…æ¨¡å¼</h3><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202212232058645.png" width="100%"/ loading="lazy"><h3 id="å·¥å‚æ–¹æ³•"><a href="#å·¥å‚æ–¹æ³•" class="headerlink" title="å·¥å‚æ–¹æ³•"></a>å·¥å‚æ–¹æ³•<img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202212232036934.png" width="100%"/ loading="lazy"></h3><h3 id="æŠ½è±¡å·¥å‚"><a href="#æŠ½è±¡å·¥å‚" class="headerlink" title="æŠ½è±¡å·¥å‚"></a>æŠ½è±¡å·¥å‚</h3><img src="https://fastly.jsdelivr.net/gh/XMuli/xmuliPic@pic/2022/202212242107912.png" width="100%"/ loading="lazy"><br><h3 id="ç³»åˆ—åœ°å€"><a href="#ç³»åˆ—åœ°å€" class="headerlink" title="ç³»åˆ—åœ°å€"></a>ç³»åˆ—åœ°å€</h3><p><a href="https://github.com/XMuli/QtExamples">QtExamples</a></p><p>æ¬¢è¿ <code>star</code> â­ å’Œ <code>fork</code> ğŸ´ è¿™ä¸ªç³»åˆ—çš„ <code>C++ / QT / DTK</code> å­¦ä¹ ï¼Œé™„å­¦ä¹ ç”±æµ…å…¥æ·±çš„ç›®å½•ï¼Œè¿™é‡Œä½ å¯ä»¥å­¦åˆ°å¦‚ä½•äº²è‡ªç¼–å†™è¿™ç±»è½¯ä»¶çš„ç»éªŒï¼Œè¿™æ˜¯ä¸€ç³»åˆ—å®Œæ•´çš„æ•™ç¨‹ï¼Œå¹¶ä¸”<strong>æ°¸ä¹…å…è´¹</strong>ï¼â€</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - åº•å±‚å…¼æ¶æ„ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>hexoåšå®¢æ’å…¥è§†é¢‘bilibili å’Œ youtubeçš„mvè§†é¢‘ã€Štake me hand ã€‹</title>
      <link href="/posts/c0c8973/"/>
      <url>/posts/c0c8973/</url>
      
        <content type="html"><![CDATA[<p>ä»Šå¤©çªç„¶æƒ³åˆ°ï¼Œå°åƒä»£çš„ï¼Œä¼´éšç€ä¸€é¦– <em>Take me hand</em> çªç„¶çš„ä¼ å…¥è€³æœµé‡Œé¢ï¼Œæ„Ÿè§‰ç—’ç—’çš„éš¾è€ï¼Œè®¸ä¹…ä¹‹å‰å°±ä¸€çœ¼çœ‹äº†å¿˜è®°ä¸äº†è¿™ä¸ªï¼Œè€³æœµé‡Œé¢ä¹Ÿä¸€ç›´æ—‹ç»•ç€è¿™ä¸ªæ—‹å¾‹ï¼Œå®åœ¨æ˜¯å¥½å¬ï¼Œæ•…æ­¤å†™ä¸‹ä¸€ç¯‡æ–‡ç« ï¼Œç”¨ä»¥åˆ†äº«å’Œçºªå¿µ</p><iframe frameborder="no" border="0" marginwidth<p>&#x3D;â€0â€ marginheight&#x3D;â€0â€ width&#x3D;530 height&#x3D;86 src&#x3D;â€&#x2F;&#x2F;music.163.com&#x2F;outchain&#x2F;player?type&#x3D;2&amp;id&#x3D;26092806&amp;auto&#x3D;0&amp;height&#x3D;66â€&gt;</iframe></p><p><strong>bilibili çš„mvç‰ˆæœ¬ï¼š</strong></p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>760<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>427<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>//player.bilibili.com/player.html?aid=55654461&amp;cid=97299616&amp;page=1<span class="token punctuation">"</span></span> <span class="token attr-name">scrolling</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no<span class="token punctuation">"</span></span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no<span class="token punctuation">"</span></span> <span class="token attr-name">framespacing</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">allowfullscreen</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><iframe width="760" height="427" src="//player.bilibili.com/player.html?aid=55654461&cid=97299616&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe><p><strong>youtubeçš„mvç‰ˆæœ¬ï¼š</strong></p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>760<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>427<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://www.youtube.com/embed/4AXZbDAml6M<span class="token punctuation">"</span></span> <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">allow</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture<span class="token punctuation">"</span></span> <span class="token attr-name">allowfullscreen</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><iframe width="760" height="427" src="https://www.youtube.com/embed/4AXZbDAml6M" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe<p>æ·»åŠ è§†é¢‘ä»£ç :(é•¿å®½å¯ä»¥è‡ªå·±å®šä¹‰)</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>100</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>100</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>è§†é¢‘åœ°å€<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ·»åŠ  gif ä»£ç :(é•¿å®½å¯ä»¥è‡ªå·±å®šä¹‰)</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>100</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>100</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gif å›¾ç‰‡åœ°å€<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - Hexo </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>STLä¹‹ä»¿å‡½æ•°ã€è°“è¯ã€å†…å»ºå‡½æ•°å¯¹è±¡ã€é€‚é…å™¨ã€å¸¸ç”¨ç®—æ³•</title>
      <link href="/posts/7d945155/"/>
      <url>/posts/7d945155/</url>
      
        <content type="html"><![CDATA[<p>â€‹<strong>ç®€è¿°ï¼š</strong> äº†è§£STLä¹‹ä»¿å‡½æ•°ã€è°“è¯ã€ã€å†…å»ºå‡½æ•°å¯¹è±¡ã€é€‚é…å™¨ã€å¸¸ç”¨ç®—æ³•å½’çº³ç­‰ï¼Œä¹¦å†™ä¸€ä¸ªç®€å•åœ°ä¾‹å­ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  win10 x64 ä¸“ä¸šç‰ˆ</p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  visual studio 2015ï¼Œ Qt 5.9.8</p><h2 id="ç®€è¿°ï¼š"><a href="#ç®€è¿°ï¼š" class="headerlink" title="ç®€è¿°ï¼š"></a>ç®€è¿°ï¼š</h2><p>â€‹äº†è§£STLä¹‹ä»¿å‡½æ•°ã€è°“è¯ã€ã€å†…å»ºå‡½æ•°å¯¹è±¡ã€é€‚é…å™¨ã€å¸¸ç”¨ç®—æ³•å½’çº³ç­‰ï¼Œä¹¦å†™ä¸€ä¸ªç®€å•åœ°ä¾‹å­ã€‚å…¶ä¸­é€‚é…å™¨åœ¨è¯¥æ–‡ç« ä¸­æœ‰è¯¦ç»†è®²ï¼š<a href="https://blog.csdn.net/qq_33154343/article/details/95090677">STLä¹‹å‡½æ•°å¯¹è±¡é€‚é…å™¨ã€å–åé€‚é…å™¨ã€å‡½æ•°æŒ‡é’ˆé€‚é…å™¨ã€æˆå‘˜å‡½æ•°é€‚é…å™¨çš„è®²è§£è¿ç”¨</a></p><p>ä¸‹é¢é€ä¸€ä»‹ç»è¿™å‡ ç§æ¯”è¾ƒå¸¸è§çš„çŸ¥è¯†ç‚¹ï¼Œç®—æ˜¯ä¸€ä¸ªçŸ¥è¯†ç‚¹çš„å‡ ä¸ªå½’çº³ï¼ˆæ¯”è¾ƒç®€å•åœ°å°±æ²¡æœ‰åˆ—ä¸¾å‡ºæ¥ï¼Œåœ¨æ­¤ä¸åšé‚£ç§å·¥å…·æ‰‹å†Œçš„çŸ¥è¯†ç½—åˆ—ï¼‰ï¼ŒçŸ¥è¯†å½’çº³ä¸€äº›æ¯”è¾ƒä¸å®¹æ˜“çš„æŒæ¡çš„ç‚¹ï¼Œå±äºè¿›é˜¶çŸ¥è¯†å†…å®¹ã€‚</p><h2 id="å‡½æ•°å¯¹è±¡-x2F-è°“è¯-x2F-å†…å»ºå‡½æ•°å¯¹è±¡-x2F-é€‚é…å™¨ï¼š"><a href="#å‡½æ•°å¯¹è±¡-x2F-è°“è¯-x2F-å†…å»ºå‡½æ•°å¯¹è±¡-x2F-é€‚é…å™¨ï¼š" class="headerlink" title="å‡½æ•°å¯¹è±¡&#x2F;è°“è¯&#x2F;å†…å»ºå‡½æ•°å¯¹è±¡&#x2F;é€‚é…å™¨ï¼š"></a>å‡½æ•°å¯¹è±¡&#x2F;è°“è¯&#x2F;å†…å»ºå‡½æ•°å¯¹è±¡&#x2F;é€‚é…å™¨ï¼š</h2><h3 id="å¤§çº²å¦‚å›¾ï¼š"><a href="#å¤§çº²å¦‚å›¾ï¼š" class="headerlink" title="å¤§çº²å¦‚å›¾ï¼š"></a>å¤§çº²å¦‚å›¾ï¼š</h3><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190710170721.png" loading="lazy"></p><h3 id="å‡½æ•°å¯¹è±¡ï¼š"><a href="#å‡½æ•°å¯¹è±¡ï¼š" class="headerlink" title="å‡½æ•°å¯¹è±¡ï¼š"></a>å‡½æ•°å¯¹è±¡ï¼š</h3><p>æ€»ç»“ï¼š</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190710170956.png" loading="lazy"></p><h3 id="è°“è¯"><a href="#è°“è¯" class="headerlink" title="è°“è¯:"></a>è°“è¯:</h3><p>å®šä¹‰:</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190710171104.png" loading="lazy"></p><h3 id="å†…å»ºå‡½æ•°å¯¹è±¡ï¼š"><a href="#å†…å»ºå‡½æ•°å¯¹è±¡ï¼š" class="headerlink" title="å†…å»ºå‡½æ•°å¯¹è±¡ï¼š"></a>å†…å»ºå‡½æ•°å¯¹è±¡ï¼š</h3><p>å®šä¹‰ï¼š</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190710171203.png" loading="lazy"></p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190710171359.jpg" loading="lazy"></p><h4 id="ä»£ç æ¼”ç¤ºï¼š"><a href="#ä»£ç æ¼”ç¤ºï¼š" class="headerlink" title="ä»£ç æ¼”ç¤ºï¼š"></a>ä»£ç æ¼”ç¤ºï¼š</h4><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>using namespace std<span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span>  <span class="token comment">//ç®—æ³•</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional></span>  <span class="token comment">//å†…å»ºå‡½æ•°å¯¹è±¡</span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> v<span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">sort</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> greater<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//å†…å»ºå…³ç³»å‡½æ•°å¯¹è±¡ï¼ˆæ— å ä¸´æ—¶å¯¹è±¡ï¼‰greater&lt;int>()   å¤§äº</span><span class="token function">for_each</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> val <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è¿è¡Œç»“æœ"><a href="#è¿è¡Œç»“æœ" class="headerlink" title="è¿è¡Œç»“æœ:"></a>è¿è¡Œç»“æœ:</h4><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190710172037.png" loading="lazy"></p><h2 id="å¸¸ç”¨ç®—æ³•ï¼š"><a href="#å¸¸ç”¨ç®—æ³•ï¼š" class="headerlink" title="å¸¸ç”¨ç®—æ³•ï¼š"></a>å¸¸ç”¨ç®—æ³•ï¼š</h2><h3 id="å¤§çº²å¦‚å›¾ï¼š-1"><a href="#å¤§çº²å¦‚å›¾ï¼š-1" class="headerlink" title="å¤§çº²å¦‚å›¾ï¼š"></a>å¤§çº²å¦‚å›¾ï¼š</h3><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190710170815.png" loading="lazy"></p><h3 id="çŸ¥è¯†ç‚¹è®²è§£ï¼š"><a href="#çŸ¥è¯†ç‚¹è®²è§£ï¼š" class="headerlink" title="çŸ¥è¯†ç‚¹è®²è§£ï¼š"></a>çŸ¥è¯†ç‚¹è®²è§£ï¼š</h3><p>å¦‚ä¸Šå›¾</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/gif/20190704175742.gif" loading="lazy"></p><hr><p><strong>æœ¬åšæ–‡åŒæ­¥åˆ°csdnåšå®¢ï¼š</strong>  <a href="https://blog.csdn.net/qq_33154343/article/details/95358967">STLä¹‹ä»¿å‡½æ•°ã€è°“è¯ã€å†…å»ºå‡½æ•°å¯¹è±¡ã€é€‚é…å™¨ã€å¸¸ç”¨ç®—æ³•</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºä¸€ æŠ€æ³• </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>STLä¹‹å¸¸ç”¨å®¹å™¨stringã€vectorã€dequeã€stackã€listã€setã€mapè®²è§£</title>
      <link href="/posts/6a779e35/"/>
      <url>/posts/6a779e35/</url>
      
        <content type="html"><![CDATA[<p>â€‹<strong>ç®€è¿°ï¼š</strong> äº†è§£STLä¹‹å¸¸ç”¨å®¹å™¨stringã€vectorã€dequeã€stackã€listã€setã€mapè®²è§£ä¹¦å†™ä¸€ä¸ªç®€å•åœ°ä¾‹å­ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  win10 x64 ä¸“ä¸šç‰ˆ</p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  visual studio 2015ï¼Œ Qt 5.9.8</p><h2 id="ç®€è¿°ï¼š"><a href="#ç®€è¿°ï¼š" class="headerlink" title="ç®€è¿°ï¼š"></a>ç®€è¿°ï¼š</h2><p>äº†è§£STLä¹‹å¸¸ç”¨å®¹å™¨stringã€vectorã€dequeã€stackã€listã€setã€mapè®²è§£ï¼Œä¸”ä¹¦å†™ä¸€ä¸ªç®€å•åœ°ä¾‹å­ã€‚</p><p>â€‹        </p><p>ä¸‹é¢é€ä¸€ä»‹ç»è¿™å‡ ç§æ¯”è¾ƒå¸¸è§çš„çŸ¥è¯†ç‚¹ï¼Œç®—æ˜¯ä¸€ä¸ªçŸ¥è¯†ç‚¹çš„å‡ ä¸ªå½’çº³ï¼ˆæ¯”è¾ƒç®€å•åœ°å°±æ²¡æœ‰åˆ—ä¸¾å‡ºæ¥ï¼Œåœ¨æ­¤ä¸åšé‚£ç§å·¥å…·æ‰‹å†Œçš„çŸ¥è¯†ç½—åˆ—ï¼‰ï¼ŒçŸ¥è¯†å½’çº³ä¸€äº›æ¯”è¾ƒä¸å®¹æ˜“çš„æŒæ¡çš„ç‚¹ï¼Œå±äºè¿›é˜¶çŸ¥è¯†å†…å®¹ã€‚</p><h2 id="å®¹å™¨ï¼š"><a href="#å®¹å™¨ï¼š" class="headerlink" title="å®¹å™¨ï¼š"></a>å®¹å™¨ï¼š</h2><h3 id="å¤§çº²å¦‚å›¾ï¼š"><a href="#å¤§çº²å¦‚å›¾ï¼š" class="headerlink" title="å¤§çº²å¦‚å›¾ï¼š"></a>å¤§çº²å¦‚å›¾ï¼š</h3><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190710162226.png" loading="lazy"></p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190710162255.png" loading="lazy"></p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190710162327.png" loading="lazy"></p><h3 id="çŸ¥è¯†ç‚¹è®²è§£ï¼š"><a href="#çŸ¥è¯†ç‚¹è®²è§£ï¼š" class="headerlink" title="çŸ¥è¯†ç‚¹è®²è§£ï¼š"></a>çŸ¥è¯†ç‚¹è®²è§£ï¼š</h3><p>å…¶ä¸­è¿™å…­ç§çš„ä¸»è¦åŒºåˆ«å¦‚ä¸‹ï¼š<strong>å®ƒä»¬çš„ä½¿ç”¨æ—¶æœº</strong></p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190710162708.png" loading="lazy"></p><hr><h3 id="stringï¼š"><a href="#stringï¼š" class="headerlink" title="stringï¼š"></a>stringï¼š</h3><p>æ¯”è¾ƒç®€å•ï¼Œæ³¨æ„ä¸€ä¸‹ï¼š[ ]å’Œat( )åŒºåˆ«ï¼šå‰è€…ä¼šè¶Šç•Œç›´æ¥æŒ‚æ‰ï¼Œåè€…ä¼šæŠ›å‡ºå¼‚å¸¸out_of_rangeå³å¯</p><hr><h3 id="vectorï¼š"><a href="#vectorï¼š" class="headerlink" title="vectorï¼š"></a>vectorï¼š</h3><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190710163212.png" loading="lazy"></p><h4 id="å†…å­˜ç»“æ„æ ·å­ï¼š"><a href="#å†…å­˜ç»“æ„æ ·å­ï¼š" class="headerlink" title="å†…å­˜ç»“æ„æ ·å­ï¼š"></a>å†…å­˜ç»“æ„æ ·å­ï¼š</h4><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190710163750.png" loading="lazy"></p><p>æ”¶ç¼©å†…å­˜æŠ€å·§:</p><p>å…³äº<font color=#FE7207  size=4 face="å¹¼åœ†">æ”¶ç¼©å†…å­˜</font>ä¸€ä¸ªæŠ€å·§ä½¿ç”¨ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">vectoKint<span class="token operator">></span>v<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">100000</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>v<span class="token punctuation">.</span><span class="token function">pusthback</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>ï¼›cout<span class="token operator">&lt;&lt;</span><span class="token string">"vçš„å®¹é‡ï¼š"</span><span class="token operator">&lt;&lt;</span>v<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endlï¼›cout<span class="token operator">&lt;&lt;</span><span class="token string">"vçš„å¤§å°ï¼š"</span><span class="token operator">&lt;&lt;</span>v<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>enddï¼›v<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>ï¼›cout<span class="token operator">&lt;&lt;</span><span class="token string">"vçš„å®¹é‡ï¼š"</span><span class="token operator">&lt;&lt;</span>v<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endlï¼›cout<span class="token operator">&lt;&lt;</span><span class="token string">"vçš„å¤§å°ï¼š"</span><span class="token operator">&lt;&lt;</span>v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endlï¼›<span class="token comment">//æ”¶ç¼©å†…å­˜</span>ecto<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">swap</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>cout<span class="token operator">&lt;&lt;</span><span class="token string">"vçš„å®¹é‡ï¼š"</span><span class="token operator">&lt;&lt;</span>v<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span>ï¼‰<span class="token operator">&lt;&lt;</span>endlï¼›cout<span class="token operator">&lt;&lt;</span><span class="token string">"vçš„å¤§å°ï¼š"</span>Kv<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span>ï¼‰<span class="token operator">&lt;&lt;</span>enddï¼›<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="åŸç†å›¾ç¤ºï¼š"><a href="#åŸç†å›¾ç¤ºï¼š" class="headerlink" title="åŸç†å›¾ç¤ºï¼š"></a>åŸç†å›¾ç¤ºï¼š<img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190710164014.png" loading="lazy"></h4><hr><h3 id="dequeï¼š"><a href="#dequeï¼š" class="headerlink" title="dequeï¼š"></a>dequeï¼š</h3><p>ï¼ˆåŒç«¯ ä¸­æ§å™¨ åˆ†æ®µ æ•°ç»„ï¼‰</p><h4 id="å†…å­˜ç»“æ„æ ·å­ï¼š-1"><a href="#å†…å­˜ç»“æ„æ ·å­ï¼š-1" class="headerlink" title="å†…å­˜ç»“æ„æ ·å­ï¼š"></a>å†…å­˜ç»“æ„æ ·å­ï¼š</h4><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190710163318.png" loading="lazy"></p><hr><h3 id="stackï¼š"><a href="#stackï¼š" class="headerlink" title="stackï¼š"></a>stackï¼š</h3><p>ï¼ˆæ ˆï¼‰</p><h4 id="å†…å­˜ç»“æ„æ ·å­ï¼š-2"><a href="#å†…å­˜ç»“æ„æ ·å­ï¼š-2" class="headerlink" title="å†…å­˜ç»“æ„æ ·å­ï¼š"></a>å†…å­˜ç»“æ„æ ·å­ï¼š</h4><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190710163423.png" loading="lazy"></p><hr><h3 id="queueï¼š"><a href="#queueï¼š" class="headerlink" title="queueï¼š"></a>queueï¼š</h3><p>ï¼ˆé˜Ÿã€å…ˆè¿›å…ˆå‡ºï¼‰</p><h4 id="å†…å­˜ç»“æ„æ ·å­ï¼š-3"><a href="#å†…å­˜ç»“æ„æ ·å­ï¼š-3" class="headerlink" title="å†…å­˜ç»“æ„æ ·å­ï¼š"></a>å†…å­˜ç»“æ„æ ·å­ï¼š</h4><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190710163523.png" loading="lazy"></p><hr><h3 id="listï¼š"><a href="#listï¼š" class="headerlink" title="listï¼š"></a>listï¼š</h3><p>ï¼ˆé“¾è¡¨ï¼‰</p><h4 id="å†…å­˜ç»“æ„æ ·å­ï¼š-4"><a href="#å†…å­˜ç»“æ„æ ·å­ï¼š-4" class="headerlink" title="å†…å­˜ç»“æ„æ ·å­ï¼š"></a>å†…å­˜ç»“æ„æ ·å­ï¼š</h4><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190710163613.png" loading="lazy"></p><h4 id="éªŒè¯listæ˜¯ä¸€ä¸ªéªŒè¯listæ˜¯å¾ªç¯åŒå‘é“¾è¡¨ï¼š"><a href="#éªŒè¯listæ˜¯ä¸€ä¸ªéªŒè¯listæ˜¯å¾ªç¯åŒå‘é“¾è¡¨ï¼š" class="headerlink" title="éªŒè¯listæ˜¯ä¸€ä¸ªéªŒè¯listæ˜¯å¾ªç¯åŒå‘é“¾è¡¨ï¼š"></a>éªŒè¯listæ˜¯ä¸€ä¸ªéªŒè¯listæ˜¯å¾ªç¯åŒå‘é“¾è¡¨ï¼š</h4><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>using namespace std<span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;list></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>list<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> mylist<span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>mylist<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>list<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">::</span>_Nodeptr node <span class="token operator">=</span> mylist<span class="token punctuation">.</span><span class="token function">_Myhead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span>_Next<span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> mylist<span class="token punctuation">.</span><span class="token function">_Mysize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Node:"</span> <span class="token operator">&lt;&lt;</span> node<span class="token operator">-></span>_Myval <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>node <span class="token operator">=</span> node<span class="token operator">-></span>_Next<span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>node <span class="token operator">==</span> mylist<span class="token punctuation">.</span><span class="token function">_Myhead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>node <span class="token operator">=</span> node<span class="token operator">-></span>_Next<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è¿è¡Œç»“æœ"><a href="#è¿è¡Œç»“æœ" class="headerlink" title="è¿è¡Œç»“æœ:"></a>è¿è¡Œç»“æœ:</h4><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190710164835.png" loading="lazy"></p><hr><h3 id="set-x2F-multisetï¼š"><a href="#set-x2F-multisetï¼š" class="headerlink" title="set&#x2F;multisetï¼š"></a>set&#x2F;multisetï¼š</h3><p>ï¼ˆåº•å±‚å‡ä¸ºçº¢é»‘æ ‘[å¹³è¡¡äºŒå‰æ ‘çš„ä¸€ç§]ï¼‰</p><h4 id="å¹³è¡¡äºŒå‰æ ‘è®²è§£ï¼š"><a href="#å¹³è¡¡äºŒå‰æ ‘è®²è§£ï¼š" class="headerlink" title="å¹³è¡¡äºŒå‰æ ‘è®²è§£ï¼š"></a>å¹³è¡¡äºŒå‰æ ‘è®²è§£ï¼š</h4><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190710163708.png" loading="lazy"></p><h4 id="setæ’å…¥è‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼š"><a href="#setæ’å…¥è‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼š" class="headerlink" title="setæ’å…¥è‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼š"></a>setæ’å…¥è‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼š</h4><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>using namespace std<span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;set></span>  <span class="token comment">//setå’Œmultisetå‡ä½¿ç”¨æ­¤å¤´æ–‡ä»¶</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string></span></span><span class="token comment">//è‡ªå®šä¹‰ç±»å‹</span>class Person  <span class="token punctuation">&#123;</span>public<span class="token operator">:</span><span class="token function">Person</span><span class="token punctuation">(</span>string name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">,</span> <span class="token keyword">int</span> height<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">m_strName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">m_nAge</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">m_nHeight</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token operator">~</span><span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>public<span class="token operator">:</span>string m_strName<span class="token punctuation">;</span><span class="token keyword">int</span> m_nAge<span class="token punctuation">;</span><span class="token keyword">int</span> m_nHeight<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">//åˆ©ç”¨ä»¿å‡½æ•° æŒ‡å®šsetå®¹å™¨çš„æ’åº</span>class MyCompare <span class="token punctuation">&#123;</span>public<span class="token operator">:</span>bool <span class="token function">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span>Person p1<span class="token punctuation">,</span> Person p2<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>p1<span class="token punctuation">.</span>m_nAge <span class="token operator">==</span> p2<span class="token punctuation">.</span>m_nAge<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> p1<span class="token punctuation">.</span>m_nHeight <span class="token operator">></span> p2<span class="token punctuation">.</span>m_nHeight<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> p1<span class="token punctuation">.</span>m_nAge <span class="token operator">&lt;</span> p2<span class="token punctuation">.</span>m_nAge<span class="token punctuation">;</span>  <span class="token comment">//å¹´é¾„ä»å°åˆ°å¤§æ’åº</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">printfset</span><span class="token punctuation">(</span>multiset<span class="token operator">&lt;</span>Person<span class="token punctuation">,</span> MyCompare<span class="token operator">></span><span class="token operator">&amp;</span> s<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span> <span class="token punctuation">(</span>multiset<span class="token operator">&lt;</span>Person<span class="token punctuation">,</span> MyCompare<span class="token operator">></span><span class="token operator">::</span>iterator it <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> s<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"å§“åï¼š"</span> <span class="token operator">&lt;&lt;</span> it<span class="token operator">-></span>m_strName <span class="token operator">&lt;&lt;</span> <span class="token string">"  å¹´é¾„ï¼š"</span> <span class="token operator">&lt;&lt;</span> it<span class="token operator">-></span>m_nAge <span class="token operator">&lt;&lt;</span> <span class="token string">" èº«é«˜ï¼š"</span> <span class="token operator">&lt;&lt;</span> it<span class="token operator">-></span>m_nHeight <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>Person <span class="token function">p1</span><span class="token punctuation">(</span><span class="token string">"p1"</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">109</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p2</span><span class="token punctuation">(</span><span class="token string">"p2"</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">109</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p3</span><span class="token punctuation">(</span><span class="token string">"p3"</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p4</span><span class="token punctuation">(</span><span class="token string">"p4"</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span>  <span class="token number">79</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p5</span><span class="token punctuation">(</span><span class="token string">"p5"</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">109</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p6</span><span class="token punctuation">(</span><span class="token string">"p6"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p7</span><span class="token punctuation">(</span><span class="token string">"p7"</span><span class="token punctuation">,</span>  <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">199</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//set&lt;Person> s;  //ç›´æ¥å†™ï¼Œä¸çŸ¥æŒ‰ç…§ä»€ä¹ˆâ€œå¤§å°è§„åˆ™â€è¿›è¡Œæ’å…¥</span><span class="token comment">//set&lt;Person, MyCompare> s;   //åŠ å…¥ä»¿å‡½æ•°ï¼Œ ä½¿ç”¨â€œè‡ªå®šä¹‰è§„åˆ™â€æ’å…¥æ’åº</span>multiset<span class="token operator">&lt;</span>Person<span class="token punctuation">,</span> MyCompare<span class="token operator">></span> s<span class="token punctuation">;</span>   s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span>s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span>s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>p3<span class="token punctuation">)</span><span class="token punctuation">;</span>s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>p4<span class="token punctuation">)</span><span class="token punctuation">;</span>s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>p5<span class="token punctuation">)</span><span class="token punctuation">;</span>s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>p6<span class="token punctuation">)</span><span class="token punctuation">;</span>s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>p7<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printfset</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è¿è¡Œç»“æœï¼š"><a href="#è¿è¡Œç»“æœï¼š" class="headerlink" title="è¿è¡Œç»“æœï¼š"></a>è¿è¡Œç»“æœï¼š</h4><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190710165205.png" loading="lazy"></p><hr><h3 id="map-x2F-multimapï¼š"><a href="#map-x2F-multimapï¼š" class="headerlink" title="map&#x2F;multimapï¼š"></a>map&#x2F;multimapï¼š</h3><p>ï¼ˆåº•å±‚å‡ä¸ºçº¢é»‘æ ‘[å¹³è¡¡äºŒå‰æ ‘çš„ä¸€ç§]ï¼‰</p><h4 id="multimapç¤ºä¾‹ä½¿ç”¨ï¼š"><a href="#multimapç¤ºä¾‹ä½¿ç”¨ï¼š" class="headerlink" title="multimapç¤ºä¾‹ä½¿ç”¨ï¼š"></a>multimapç¤ºä¾‹ä½¿ç”¨ï¼š</h4><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>using namespace std<span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;map></span></span>class Person<span class="token punctuation">&#123;</span>public<span class="token operator">:</span><span class="token function">Person</span><span class="token punctuation">(</span>string name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">,</span> string tel<span class="token punctuation">,</span> <span class="token keyword">int</span> salary<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">m_strName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">m_nAge</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">m_strTel</span><span class="token punctuation">(</span>tel<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">m_nSalary</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token operator">~</span><span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>string m_strName<span class="token punctuation">;</span><span class="token keyword">int</span> m_nAge<span class="token punctuation">;</span>string m_strTel<span class="token punctuation">;</span><span class="token keyword">int</span> m_nSalary<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//è‡ªå®šä¹‰æ•°æ®ç±»å‹</span><span class="token comment">//åˆ›å»ºå¯¹è±¡</span><span class="token comment">//ä»¿å‡½æ•°ï¼ˆæˆ–å›è°ƒå‡½æ•°ï¼‰</span><span class="token comment">//æ’å…¥</span><span class="token comment">//æŒ‰ç…§éƒ¨é—¨è¾“å‡º</span>Person <span class="token function">p1</span><span class="token punctuation">(</span><span class="token string">"p1"</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token string">"0001"</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p2</span><span class="token punctuation">(</span><span class="token string">"p2"</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token string">"0002"</span><span class="token punctuation">,</span> <span class="token number">109</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p3</span><span class="token punctuation">(</span><span class="token string">"p3"</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token string">"0003"</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p4</span><span class="token punctuation">(</span><span class="token string">"p4"</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token string">"0004"</span><span class="token punctuation">,</span>  <span class="token number">79</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p5</span><span class="token punctuation">(</span><span class="token string">"p5"</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token string">"0005"</span><span class="token punctuation">,</span> <span class="token number">109</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p6</span><span class="token punctuation">(</span><span class="token string">"p6"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">"0006"</span><span class="token punctuation">,</span>  <span class="token number">99</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p7</span><span class="token punctuation">(</span><span class="token string">"p7"</span><span class="token punctuation">,</span>  <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">"0007"</span><span class="token punctuation">,</span> <span class="token number">199</span><span class="token punctuation">)</span><span class="token punctuation">;</span>multimap<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> Person<span class="token operator">></span> m<span class="token punctuation">;</span>m<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> p1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>m<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> p2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>m<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> p3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>m<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> p4<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>m<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> p5<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>m<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> p6<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>m<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> p7<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span>multimap<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> Person<span class="token operator">></span><span class="token operator">::</span>iterator it <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> m<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æ‰€å±éƒ¨é—¨ï¼š"</span> <span class="token operator">&lt;&lt;</span> it<span class="token operator">-></span>first <span class="token operator">&lt;&lt;</span> <span class="token string">"   å§“åï¼š"</span> <span class="token operator">&lt;&lt;</span> it<span class="token operator">-></span>second<span class="token punctuation">.</span>m_strName <span class="token operator">&lt;&lt;</span> <span class="token string">"   å¹´é¾„ï¼š"</span> <span class="token operator">&lt;&lt;</span> it<span class="token operator">-></span>second<span class="token punctuation">.</span>m_nAge<span class="token operator">&lt;&lt;</span> <span class="token string">"   ç”µè¯å·ç ï¼š"</span> <span class="token operator">&lt;&lt;</span> it<span class="token operator">-></span>second<span class="token punctuation">.</span>m_strTel <span class="token operator">&lt;&lt;</span> <span class="token string">"   è–ªèµ„ï¼š"</span> <span class="token operator">&lt;&lt;</span> it<span class="token operator">-></span>second<span class="token punctuation">.</span>m_nSalary <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è¿è¡Œç»“æœï¼š-1"><a href="#è¿è¡Œç»“æœï¼š-1" class="headerlink" title="è¿è¡Œç»“æœï¼š"></a>è¿è¡Œç»“æœï¼š</h4><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190710165347.png" loading="lazy"></p><h2 id="æœ¬æ¬¡å¿ƒå¾—ï¼š"><a href="#æœ¬æ¬¡å¿ƒå¾—ï¼š" class="headerlink" title="æœ¬æ¬¡å¿ƒå¾—ï¼š"></a>æœ¬æ¬¡å¿ƒå¾—ï¼š</h2><p>å­¦ä¹ æ˜¯æ˜¯ä¸€ä»¶è®©äººå¼€å¿ƒçš„äº‹æƒ…ï¼Œä½†æ˜¯å†™æˆåšæ–‡ï¼Œå°±æ˜¯ä¸€ä»¶è®©äººç—›è‹¦ä¸­å¿«ä¹çš„äº‹æƒ…</p><p><font color=#D0087E size=4 face="å¹¼åœ†">å½“çœ‹åˆ°è¿è¡ŒOKé‚£çš„ä¸€åˆ»ï¼Œå¿ƒé‡Œæˆ–è®¸å°±æ˜¯è¿™æ ·çš„</font></p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/gif/20190704175742.gif" loading="lazy"></p><hr><p><strong>æœ¬åšæ–‡åŒæ­¥åˆ°csdnåšå®¢ï¼š</strong>  <a href="https://blog.csdn.net/qq_33154343/article/details/95358234">STLä¹‹å¸¸ç”¨å®¹å™¨stringã€vectorã€dequeã€stackã€listã€setã€mapè®²è§£</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºä¸€ æŠ€æ³• </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>STLä¹‹ç±»å‹å¼‚å¸¸å¤„ç†ã€ç±»å‹è½¬æ¢</title>
      <link href="/posts/ddbf8a1d/"/>
      <url>/posts/ddbf8a1d/</url>
      
        <content type="html"><![CDATA[<p>â€‹<strong>ç®€è¿°ï¼š</strong> äº†è§£STLä¹‹å¼‚å¸¸å¤„ç†ã€ç±»å‹è½¬æ¢ã€ä¹¦å†™ä¸€ä¸ªç®€å•åœ°ä¾‹å­ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  win10 x64 ä¸“ä¸šç‰ˆ</p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  visual studio 2015ï¼Œ Qt 5.9.8</p><h2 id="ç®€è¿°ï¼š"><a href="#ç®€è¿°ï¼š" class="headerlink" title="ç®€è¿°ï¼š"></a>ç®€è¿°ï¼š</h2><p>â€‹äº†è§£STLä¹‹å¼‚å¸¸å¤„ç†ã€ç±»å‹è½¬æ¢ï¼Œä¹¦å†™ä¸€ä¸ªç®€å•åœ°ä¾‹å­ã€‚</p><p>â€‹        </p><p>ä¸‹é¢é€ä¸€ä»‹ç»è¿™å‡ ç§æ¯”è¾ƒå¸¸è§çš„çŸ¥è¯†ç‚¹ï¼Œç®—æ˜¯ä¸€ä¸ªçŸ¥è¯†ç‚¹çš„å‡ ä¸ªå½’çº³ï¼ˆæ¯”è¾ƒç®€å•åœ°å°±æ²¡æœ‰åˆ—ä¸¾å‡ºæ¥ï¼Œåœ¨æ­¤ä¸åšé‚£ç§å·¥å…·æ‰‹å†Œçš„çŸ¥è¯†ç½—åˆ—ï¼‰ï¼ŒçŸ¥è¯†å½’çº³ä¸€äº›æ¯”è¾ƒä¸å®¹æ˜“çš„æŒæ¡çš„ç‚¹ï¼Œå±äºè¿›é˜¶çŸ¥è¯†å†…å®¹ã€‚</p><h2 id="c-x2F-c-å¼‚å¸¸çš„åŸºæœ¬è¯­æ³•ï¼š"><a href="#c-x2F-c-å¼‚å¸¸çš„åŸºæœ¬è¯­æ³•ï¼š" class="headerlink" title="c&#x2F;c++å¼‚å¸¸çš„åŸºæœ¬è¯­æ³•ï¼š"></a>c&#x2F;c++å¼‚å¸¸çš„åŸºæœ¬è¯­æ³•ï¼š</h2><h3 id="å¤§çº²å¦‚å›¾ï¼š"><a href="#å¤§çº²å¦‚å›¾ï¼š" class="headerlink" title="å¤§çº²å¦‚å›¾ï¼š"></a>å¤§çº²å¦‚å›¾ï¼š</h3><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190710161033.png" loading="lazy"></p><h3 id="çŸ¥è¯†ç‚¹è®²è§£ï¼š"><a href="#çŸ¥è¯†ç‚¹è®²è§£ï¼š" class="headerlink" title="çŸ¥è¯†ç‚¹è®²è§£ï¼š"></a>çŸ¥è¯†ç‚¹è®²è§£ï¼š</h3><ul><li>cæ–¹å¼ï¼š</li></ul><pre class="line-numbers language-c" data-language="c"><code class="language-c">è¿”å› <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>  æ— æ³•è¾¨åˆ«æ˜¯è¿”å›å€¼è¿˜æ˜¯å¼‚å¸¸<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>c++æ–¹å¼ï¼š</li></ul><pre class="line-numbers language-c" data-language="c"><code class="language-c">try<span class="token punctuation">&#123;</span><span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout<span class="token operator">&lt;&lt;</span><span class="token string">"int çš„å¼‚å¸¸"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//doubleæ•è·ï¼Œä¸æƒ³å¤„ç†å¼‚å¸¸ï¼Œå°±ç»§ç»­å¾€ä¸Šè·‘å‡ºå¼‚å¸¸</span>throw<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">catch</span><span class="token punctuation">(</span>MyException e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout<span class="token operator">&lt;&lt;</span><span class="token string">"int çš„å¼‚å¸¸"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout<span class="token operator">&lt;&lt;</span><span class="token string">"å…¶ä»–ç±»å‹çš„ çš„å¼‚å¸¸å¤„ç†"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//return -1 ;   //cè¯­è¨€çš„ç¼ºé™·</span><span class="token comment">//æŠ›å‡ºå¼‚å¸¸</span><span class="token comment">//throw 1;</span><span class="token comment">//throw 3.14;</span><span class="token comment">//throw 'a';</span><span class="token comment">//æ ˆè§£æ—‹ï¼šä»tryä»£ç å—å¼€å§‹èµ·ï¼Œåˆ°throwæŠ›å‡ºå¼‚å¸¸å‰ï¼Œæ‰€æœ‰æ ˆä¸Šçš„å¯¹è±¡éƒ½è¢«é‡Šæ”¾æ‰ï¼Œ</span>    <span class="token comment">//é‡Šæ”¾çš„é¡ºåºå’Œæ„é€ çš„é¡ºåºæ˜¯ç›¸åçš„ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºæ ˆè§£æ—‹</span>Person p1<span class="token punctuation">;</span>Person p2<span class="token punctuation">;</span>throw <span class="token function">MyException</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ï¼›<span class="token comment">//æŠ›å‡ºä¸€ä¸ªMyExceptionåŒ¿åå¯¹è±¡</span><span class="token punctuation">&#125;</span><span class="token comment">//++++++++++++++++++++++++++++</span><span class="token keyword">void</span> <span class="token function">doWork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">throwMyException</span><span class="token punctuation">(</span>ï¼‰ï¼›<span class="token punctuation">&#125;</span><span class="token keyword">void</span> test01<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>try<span class="token punctuation">&#123;</span>doWorkï¼ˆï¼‰ï¼›<span class="token punctuation">&#125;</span><span class="token comment">//MyException eä¼šè°ƒç”¨æ‹·è´æ„é€ </span><span class="token comment">//MyException &amp;e å¼•ç”¨æ–¹å¼æ¥å—å»ºè®®ç”¨è¿™ç§æ–¹å¼èŠ‚çœå¼€é”€</span><span class="token comment">//MyException *e æŒ‡é’ˆæ–¹å¼æ¥å—æŠ›å‡º&amp;MyExceptionï¼ˆï¼‰ï¼›åŒ¿åå¯¹è±¡ï¼Œå¯¹è±¡è¢«é‡Šæ”¾æ‰ï¼Œä¸å¯ä»¥å†æ“ä½œeäº†</span><span class="token comment">//MyException *e æŒ‡é’ˆæ–¹å¼æ¥å—æŠ›å‡ºnew MyExceptionï¼ˆï¼‰ï¼›å †åŒºåˆ›å»ºçš„å¯¹è±¡è®°å¾—æ‰‹åŠ¨é‡Šæ”¾ deleteeï¼›</span>catch ï¼ˆMyExceptione <span class="token operator">&amp;</span>e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout<span class="token operator">&lt;&lt;</span>\"MyExceptionçš„å¼‚å¸¸æ•è·\"<span class="token operator">&lt;&lt;</span>endï¼›<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æœ¬åšæ–‡åŒæ­¥åˆ°csdnåšå®¢ï¼š</strong>  <a href="https://blog.csdn.net/qq_33154343/article/details/95357944">STLä¹‹ç±»å‹å¼‚å¸¸å¤„ç†ã€ç±»å‹è½¬æ¢</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºä¸€ æŠ€æ³• </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Qt5 QTreeWidgetä½¿ç”¨ åˆ›å»ºå…·æœ‰å¤šçº§è”åŠ¨å’Œå¤é€‰æ¡†çš„æ ‘å½¢æ§ä»¶</title>
      <link href="/posts/b298028d/"/>
      <url>/posts/b298028d/</url>
      
        <content type="html"><![CDATA[<p>â€‹<strong>ç®€è¿°ï¼š</strong>  <strong>é€šè¿‡ä½¿ç”¨æ ‘å½¢æ§ä»¶<code>QTreeWidget</code>åˆ›å»ºå…·æœ‰è”åŠ¨åŠŸèƒ½çš„å’Œå¤é€‰æ¡†æ ‘å½¢æ§ä»¶ï¼Œå®ç°å‹¾é€‰ä¸€ä¸ªï¼ˆé€‰ä¸­ï¼‰ï¼Œå…¶çˆ¶èŠ‚ç‚¹ä¹Ÿä¼šæ”¹å˜ç›¸åº”çš„çŠ¶æ€ï¼ˆ</strong>ä¸”çˆ¶äº²èŠ‚ç‚¹ä¼šè¿­ä»£ä¿®æ”¹çŠ¶æ€ï¼‰ï¼Œå¼¥è¡¥å‚è€ƒæ–‡ç« çš„ä¸è¶³ä¹‹å¤„ï¼Œåˆ›å»ºå·¥ä½œä¸­æ›´åŠ æœ‰æ•ˆä¸”å®ç”¨çš„æ§ä»¶ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  win10 x64 ä¸“ä¸šç‰ˆ</p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  visual studio 2015ï¼Œ Qt 5.9.8</p><h2 id="ç®€è¿°ï¼š"><a href="#ç®€è¿°ï¼š" class="headerlink" title="ç®€è¿°ï¼š"></a>ç®€è¿°ï¼š</h2><p>â€‹é€šè¿‡ä½¿ç”¨æ ‘å½¢æ§ä»¶<code>QTreeWidget</code>åˆ›å»ºå…·æœ‰è”åŠ¨åŠŸèƒ½å’Œå¤é€‰æ¡†çš„æ ‘å½¢æ§ä»¶ï¼Œå®ç°å‹¾é€‰ä¸€ä¸ªï¼ˆé€‰ä¸­ï¼‰ï¼Œå…¶çˆ¶èŠ‚ç‚¹ä¹Ÿä¼šæ”¹å˜ç›¸åº”çš„çŠ¶æ€ï¼ˆ<strong>ä¸”çˆ¶äº²èŠ‚ç‚¹ä¼šè¿­ä»£ä¿®æ”¹çŠ¶æ€</strong>ï¼‰ï¼Œå¼¥è¡¥å‚è€ƒæ–‡ç« çš„ä¸è¶³ä¹‹å¤„ï¼Œåˆ›å»ºå·¥ä½œä¸­æ›´åŠ æœ‰æ•ˆä¸”å®ç”¨çš„æ§ä»¶ã€‚åœ¨Qtä¸­çš„æ ‘å½¢æ§ä»¶ç§°ä¸ºQTreeWidgetï¼Œè€Œæ§ä»¶é‡Œçš„æ ‘å½¢èŠ‚ç‚¹ç§°ä¸º<code>QTreeWidgetItem</code>ã€‚</p><h2 id="åŠŸèƒ½å®ç°ï¼š"><a href="#åŠŸèƒ½å®ç°ï¼š" class="headerlink" title="åŠŸèƒ½å®ç°ï¼š"></a>åŠŸèƒ½å®ç°ï¼š</h2><ul><li>å¸¦æœ‰å¤é€‰æ¡†çš„æ ‘å½¢æ§ä»¶</li><li>å¤šçº§è”åŠ¨æ›´æ–°çŠ¶æ€ï¼ˆè¿­ä»£ï¼‰</li><li>æ–‡æœ«é™„å¸¦æ·»åŠ å³é”®èœå•åŠŸèƒ½ï¼ˆå·²ç»å®ç°ï¼Œæ­¤å¤„å°±åªè´´å‡ºå‚è€ƒæ–‡ç« ï¼‰</li><li>å¼¥è¡¥æ‰€å‚è€ƒæ–‡ç« ï¼Œåªèƒ½å¤Ÿå®ç°äºŒçº§ï¼ˆå¤§äºäºŒçº§å°±ä¼šæ— å…³è”ï¼‰çš„ç¼ºé™·</li></ul><h2 id="æ€è·¯æ¶æ„ï¼š"><a href="#æ€è·¯æ¶æ„ï¼š" class="headerlink" title="æ€è·¯æ¶æ„ï¼š"></a>æ€è·¯æ¶æ„ï¼š</h2><ol><li>åœ¨uiç•Œé¢ï¼Œæ‹–æ›³æ§ä»¶<code>QTreeWidget</code>æ§ä»¶ï¼Œå‘½å</li><li>åˆå§‹åŒ–ï¼Œæ·»åŠ å¤šä¸ªï¼ˆçˆ·ã€çˆ¶äº²ã€å„¿å­ã€ å­™å­ç­‰å¤šçº§ï¼‰èŠ‚ç‚¹</li><li>åŠ¨æ€èŠ‚ç‚¹çš„æ—¶åˆ»è¿­ä»£æ›´æ–°çŠ¶æ€</li></ol><h2 id="è¿è¡Œæ¼”ç¤ºï¼š"><a href="#è¿è¡Œæ¼”ç¤ºï¼š" class="headerlink" title="è¿è¡Œæ¼”ç¤ºï¼š"></a>è¿è¡Œæ¼”ç¤ºï¼š</h2><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190710150847.gif" loading="lazy"></p><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><font color=#FE7207  size=4 face="å¹¼åœ†">QDlgTreeWidget.h</font></p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QWidget></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;QTreeWidgetItem></span></span>namespace Ui <span class="token punctuation">&#123;</span> class QDlgTreeWidget<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>class QDlgTreeWidget <span class="token operator">:</span> public QWidget<span class="token punctuation">&#123;</span>Q_OBJECTpublic<span class="token operator">:</span><span class="token function">QDlgTreeWidget</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent <span class="token operator">=</span> Q_NULLPTR<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">~</span><span class="token function">QDlgTreeWidget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>public<span class="token operator">:</span> <span class="token comment">//ç”³æ˜åˆå§‹åŒ–å‡½æ•°</span><span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">updateParentItem</span><span class="token punctuation">(</span>QTreeWidgetItem<span class="token operator">*</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>public slots<span class="token operator">:</span>   <span class="token comment">//ç”³æ˜ä¿¡å·ä¸æ§½,å½“æ ‘å½¢æ§ä»¶çš„å­é€‰é¡¹è¢«æ”¹å˜æ—¶æ‰§è¡Œ</span><span class="token keyword">void</span> <span class="token function">onTreeItemChanged</span><span class="token punctuation">(</span>QTreeWidgetItem<span class="token operator">*</span> item<span class="token punctuation">,</span> <span class="token keyword">int</span> column<span class="token punctuation">)</span><span class="token punctuation">;</span>private<span class="token operator">:</span>Ui<span class="token operator">::</span>QDlgTreeWidget <span class="token operator">*</span>ui<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><font color=#FE7207  size=4 face="å¹¼åœ†">QDlgTreeWidget.cpp</font></p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"QDlgTreeWidget.h"</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ui_QDlgTreeWidget.h"</span></span>QDlgTreeWidget<span class="token operator">::</span><span class="token function">QDlgTreeWidget</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token function">QWidget</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ui <span class="token operator">=</span> new Ui<span class="token operator">::</span><span class="token function">QDlgTreeWidget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>ui<span class="token operator">-></span><span class="token function">setupUi</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>treeWidget<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">itemChanged</span><span class="token punctuation">(</span>QTreeWidgetItem<span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> this<span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">onTreeItemChanged</span><span class="token punctuation">(</span>QTreeWidgetItem<span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>QDlgTreeWidget<span class="token operator">::</span><span class="token operator">~</span><span class="token function">QDlgTreeWidget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>delete ui<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> QDlgTreeWidget<span class="token operator">::</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ui<span class="token operator">-></span>treeWidget<span class="token operator">-></span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//åˆå§‹åŒ–æ ‘å½¢æ§ä»¶</span>ui<span class="token operator">-></span>treeWidget<span class="token operator">-></span><span class="token function">setHeaderHidden</span><span class="token punctuation">(</span>true<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//éšè—è¡¨å¤´</span><span class="token comment">//å®šä¹‰ç¬¬ä¸€ä¸ªæ ‘å½¢ç»„ çˆ·çˆ·é¡¹</span>QTreeWidgetItem<span class="token operator">*</span> group1 <span class="token operator">=</span> new <span class="token function">QTreeWidgetItem</span><span class="token punctuation">(</span>ui<span class="token operator">-></span>treeWidget<span class="token punctuation">)</span><span class="token punctuation">;</span>group1<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">QStringLiteral</span><span class="token punctuation">(</span><span class="token string">"æ–‡ä»¶å¤¹"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//æ ‘å½¢æ§ä»¶æ˜¾ç¤ºçš„æ–‡æœ¬ä¿¡æ¯</span>group1<span class="token operator">-></span><span class="token function">setFlags</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>ItemIsUserCheckable <span class="token operator">|</span> Qt<span class="token operator">::</span>ItemIsEnabled <span class="token operator">|</span> Qt<span class="token operator">::</span>ItemIsSelectable <span class="token operator">|</span> Qt<span class="token operator">::</span>ItemIsEditable<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//è®¾ç½®æ ‘å½¢æ§ä»¶å­é¡¹çš„å±æ€§</span>group1<span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> Qt<span class="token operator">::</span>Unchecked<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//åˆå§‹çŠ¶æ€æ²¡æœ‰è¢«é€‰ä¸­</span> <span class="token comment">//ç¬¬ä¸€ç»„å­é¡¹</span>QTreeWidgetItem<span class="token operator">*</span> subItem11 <span class="token operator">=</span> new <span class="token function">QTreeWidgetItem</span><span class="token punctuation">(</span>group1<span class="token punctuation">)</span><span class="token punctuation">;</span>subItem11<span class="token operator">-></span><span class="token function">setFlags</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>ItemIsUserCheckable <span class="token operator">|</span> Qt<span class="token operator">::</span>ItemIsEnabled <span class="token operator">|</span> Qt<span class="token operator">::</span>ItemIsSelectable <span class="token operator">|</span> Qt<span class="token operator">::</span>ItemIsEditable<span class="token punctuation">)</span><span class="token punctuation">;</span>subItem11<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"subItem11"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//è®¾ç½®å­é¡¹æ˜¾ç¤ºçš„æ–‡æœ¬</span>subItem11<span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> Qt<span class="token operator">::</span>Unchecked<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è®¾ç½®å­é€‰é¡¹çš„æ˜¾ç¤ºæ ¼å¼å’ŒçŠ¶æ€</span>QTreeWidgetItem<span class="token operator">*</span> subItem12 <span class="token operator">=</span> new <span class="token function">QTreeWidgetItem</span><span class="token punctuation">(</span>group1<span class="token punctuation">)</span><span class="token punctuation">;</span>subItem12<span class="token operator">-></span><span class="token function">setFlags</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>ItemIsUserCheckable <span class="token operator">|</span> Qt<span class="token operator">::</span>ItemIsEnabled <span class="token operator">|</span> Qt<span class="token operator">::</span>ItemIsSelectable <span class="token operator">|</span> Qt<span class="token operator">::</span>ItemIsEditable<span class="token punctuation">)</span><span class="token punctuation">;</span>subItem12<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"subItem12"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>subItem12<span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> Qt<span class="token operator">::</span>Unchecked<span class="token punctuation">)</span><span class="token punctuation">;</span>QTreeWidgetItem<span class="token operator">*</span> subItem13 <span class="token operator">=</span> new <span class="token function">QTreeWidgetItem</span><span class="token punctuation">(</span>group1<span class="token punctuation">)</span><span class="token punctuation">;</span>subItem13<span class="token operator">-></span><span class="token function">setFlags</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>ItemIsUserCheckable <span class="token operator">|</span> Qt<span class="token operator">::</span>ItemIsEnabled <span class="token operator">|</span> Qt<span class="token operator">::</span>ItemIsSelectable <span class="token operator">|</span> Qt<span class="token operator">::</span>ItemIsEditable<span class="token punctuation">)</span><span class="token punctuation">;</span>subItem13<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"subItem13"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>subItem13<span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> Qt<span class="token operator">::</span>Unchecked<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//çˆ¶äº²é¡¹</span>QTreeWidgetItem<span class="token operator">*</span> group2 <span class="token operator">=</span> new <span class="token function">QTreeWidgetItem</span><span class="token punctuation">(</span>subItem13<span class="token punctuation">)</span><span class="token punctuation">;</span>group2<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"group2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>group2<span class="token operator">-></span><span class="token function">setFlags</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>ItemIsUserCheckable <span class="token operator">|</span> Qt<span class="token operator">::</span>ItemIsEnabled <span class="token operator">|</span> Qt<span class="token operator">::</span>ItemIsSelectable <span class="token operator">|</span> Qt<span class="token operator">::</span>ItemIsEditable<span class="token punctuation">)</span><span class="token punctuation">;</span>group2<span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> Qt<span class="token operator">::</span>Unchecked<span class="token punctuation">)</span><span class="token punctuation">;</span>QTreeWidgetItem<span class="token operator">*</span> group3 <span class="token operator">=</span> new <span class="token function">QTreeWidgetItem</span><span class="token punctuation">(</span>subItem13<span class="token punctuation">)</span><span class="token punctuation">;</span>group3<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"group3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>group3<span class="token operator">-></span><span class="token function">setFlags</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>ItemIsUserCheckable <span class="token operator">|</span> Qt<span class="token operator">::</span>ItemIsEnabled <span class="token operator">|</span> Qt<span class="token operator">::</span>ItemIsSelectable <span class="token operator">|</span> Qt<span class="token operator">::</span>ItemIsEditable<span class="token punctuation">)</span><span class="token punctuation">;</span>group3<span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> Qt<span class="token operator">::</span>Unchecked<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å­™å­é¡¹</span>QTreeWidgetItem<span class="token operator">*</span> subItem21 <span class="token operator">=</span> new <span class="token function">QTreeWidgetItem</span><span class="token punctuation">(</span>group2<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//æŒ‡å®šå­é¡¹å±äºå“ªä¸€ä¸ªçˆ¶é¡¹</span>subItem21<span class="token operator">-></span><span class="token function">setFlags</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>ItemIsUserCheckable <span class="token operator">|</span> Qt<span class="token operator">::</span>ItemIsEnabled <span class="token operator">|</span> Qt<span class="token operator">::</span>ItemIsSelectable <span class="token operator">|</span> Qt<span class="token operator">::</span>ItemIsEditable<span class="token punctuation">)</span><span class="token punctuation">;</span>subItem21<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"subItem21"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>subItem21<span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> Qt<span class="token operator">::</span>Unchecked<span class="token punctuation">)</span><span class="token punctuation">;</span>QTreeWidgetItem<span class="token operator">*</span> subItem22 <span class="token operator">=</span> new <span class="token function">QTreeWidgetItem</span><span class="token punctuation">(</span>group2<span class="token punctuation">)</span><span class="token punctuation">;</span>subItem22<span class="token operator">-></span><span class="token function">setFlags</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>ItemIsUserCheckable <span class="token operator">|</span> Qt<span class="token operator">::</span>ItemIsEnabled <span class="token operator">|</span> Qt<span class="token operator">::</span>ItemIsSelectable <span class="token operator">|</span> Qt<span class="token operator">::</span>ItemIsEditable<span class="token punctuation">)</span><span class="token punctuation">;</span>subItem22<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"subItem22"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>subItem22<span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> Qt<span class="token operator">::</span>Unchecked<span class="token punctuation">)</span><span class="token punctuation">;</span>QTreeWidgetItem<span class="token operator">*</span> subItem23 <span class="token operator">=</span> new <span class="token function">QTreeWidgetItem</span><span class="token punctuation">(</span>group2<span class="token punctuation">)</span><span class="token punctuation">;</span>subItem23<span class="token operator">-></span><span class="token function">setFlags</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>ItemIsUserCheckable <span class="token operator">|</span> Qt<span class="token operator">::</span>ItemIsEnabled <span class="token operator">|</span> Qt<span class="token operator">::</span>ItemIsSelectable <span class="token operator">|</span> Qt<span class="token operator">::</span>ItemIsEditable<span class="token punctuation">)</span><span class="token punctuation">;</span>subItem23<span class="token operator">-></span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"subItem23"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>subItem23<span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> Qt<span class="token operator">::</span>Unchecked<span class="token punctuation">)</span><span class="token punctuation">;</span>ui<span class="token operator">-></span>treeWidget<span class="token operator">-></span><span class="token function">expandAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//å±•å¼€æ ‘</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> QDlgTreeWidget<span class="token operator">::</span><span class="token function">updateParentItem</span><span class="token punctuation">(</span>QTreeWidgetItem<span class="token operator">*</span> item<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>QTreeWidgetItem <span class="token operator">*</span>parent <span class="token operator">=</span> item<span class="token operator">-></span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>parent <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token keyword">int</span> nSelectedCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">int</span> childCount <span class="token operator">=</span> parent<span class="token operator">-></span><span class="token function">childCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> childCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token comment">//åˆ¤æ–­æœ‰å¤šå°‘ä¸ªå­é¡¹è¢«é€‰ä¸­</span><span class="token punctuation">&#123;</span>QTreeWidgetItem<span class="token operator">*</span> childItem <span class="token operator">=</span> parent<span class="token operator">-></span><span class="token function">child</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>childItem<span class="token operator">-></span><span class="token function">checkState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">==</span> Qt<span class="token operator">::</span>Checked <span class="token operator">||</span> childItem<span class="token operator">-></span><span class="token function">checkState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">==</span> Qt<span class="token operator">::</span>PartiallyChecked<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>nSelectedCount<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>nSelectedCount <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment">//å¦‚æœæ²¡æœ‰å­é¡¹è¢«é€‰ä¸­ï¼Œçˆ¶é¡¹è®¾ç½®ä¸ºæœªé€‰ä¸­çŠ¶æ€</span>parent<span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> Qt<span class="token operator">::</span>Unchecked<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>nSelectedCount <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> nSelectedCount <span class="token operator">&lt;</span> childCount<span class="token punctuation">)</span>    <span class="token comment">//å¦‚æœæœ‰éƒ¨åˆ†å­é¡¹è¢«é€‰ä¸­ï¼Œçˆ¶é¡¹è®¾ç½®ä¸ºéƒ¨åˆ†é€‰ä¸­çŠ¶æ€ï¼Œå³ç”¨ç°è‰²æ˜¾ç¤º</span>parent<span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> Qt<span class="token operator">::</span>PartiallyChecked<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>nSelectedCount <span class="token operator">==</span> childCount<span class="token punctuation">)</span>    <span class="token comment">//å¦‚æœå­é¡¹å…¨éƒ¨è¢«é€‰ä¸­ï¼Œçˆ¶é¡¹åˆ™è®¾ç½®ä¸ºé€‰ä¸­çŠ¶æ€</span>parent<span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> Qt<span class="token operator">::</span>Checked<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">updateParentItem</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> QDlgTreeWidget<span class="token operator">::</span><span class="token function">onTreeItemChanged</span><span class="token punctuation">(</span>QTreeWidgetItem<span class="token operator">*</span> item<span class="token punctuation">,</span> <span class="token keyword">int</span> column<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> count <span class="token operator">=</span> item<span class="token operator">-></span><span class="token function">childCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è¿”å›å­é¡¹çš„ä¸ªæ•°</span><span class="token keyword">if</span> <span class="token punctuation">(</span>Qt<span class="token operator">::</span>Checked <span class="token operator">==</span> item<span class="token operator">-></span><span class="token function">checkState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>item<span class="token operator">-></span><span class="token function">child</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> Qt<span class="token operator">::</span>Checked<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token function">updateParentItem</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>Qt<span class="token operator">::</span>Unchecked <span class="token operator">==</span> item<span class="token operator">-></span><span class="token function">checkState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>item<span class="token operator">-></span><span class="token function">child</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">setCheckState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> Qt<span class="token operator">::</span>Unchecked<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token function">updateParentItem</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç»†èŠ‚æ–¹é¢ï¼š"><a href="#ç»†èŠ‚æ–¹é¢ï¼š" class="headerlink" title="ç»†èŠ‚æ–¹é¢ï¼š"></a>ç»†èŠ‚æ–¹é¢ï¼š</h2><p>å…¶ä¸­ä¸»è¦æ˜¯å‚è€ƒä¸‹é¢å¥½å„¿éƒçš„è¿™ä¸€ç¯‡åšå®¢ï¼Œåœ¨<a href="https://blog.csdn.net/rl529014/article/details/51355968">Qt: åˆ›å»ºå…·æœ‰å¤é€‰æ¡†çš„æ ‘å½¢æ§ä»¶</a> çš„ä¸€æ–‡ä¸­ï¼Œå…¶ä¸­ä¸»è¦ä¿®æ”¹å¦‚ä¸‹ï¼š</p><p><code>void Widget::updateParentItem(QTreeWidgetItem\* item)</code> å‡½æ•°çš„æœ€åä¸€è¡Œæ·»åŠ å¦‚ä¸‹ä¸€å¥è¯ï¼Œ<code>updateParentItem(parent)</code>ï¼Œæ˜¯åœ¨åœ¨å‡½æ•°é‡Œé¢æ·»åŠ ä¸€ä¸ªè¿­ä»£å‡½æ•°ï¼Œï¼ˆå‘è‡ªå·±çš„çˆ¶èŠ‚ç‚¹è¿›è¡Œéå†ï¼‰ï¼›</p><p>ä¸”åœ¨åˆ¤æ–­å­é¡¹ä¸­ä¸ªæ•°è¢«é€‰ä¸­ï¼Œå°†<code>if (childItem-&gt;checkState(0) == Qt::Checked)</code>ä¿®æ”¹ä¸º<code>if (childItem-&gt;checkState(0) == Qt::Checked || childItem-&gt;checkState(0) == Qt::PartiallyChecked)</code>ï¼ŒåŠé€‰ä¸­ä¹Ÿç®—åœ¨çˆ¶èŠ‚ç‚¹ä¹Ÿç®—é€‰ä¸­</p><h2 id="å‚è€ƒåšæ–‡ï¼š"><a href="#å‚è€ƒåšæ–‡ï¼š" class="headerlink" title="å‚è€ƒåšæ–‡ï¼š"></a><strong>å‚è€ƒåšæ–‡ï¼š</strong></h2><p><a href="https://blog.csdn.net/rl529014/article/details/51355968">Qt: åˆ›å»ºå…·æœ‰å¤é€‰æ¡†çš„æ ‘å½¢æ§ä»¶</a> ï¼ˆæ¨èï¼‰</p><p><a href="https://blog.csdn.net/fengyutongtt/article/details/52372164">å»ºç«‹QTreeWidgetä¸‹QTreeWidgetItemçš„å³é”®èœå•</a> ï¼ˆæ¨èï¼‰</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºä¸€ æŠ€æ³• </category>
          
          <category> å­¦ä¹  - Qt </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>STLæ¨¡æ¿ï¼Œå†…å»ºå‡½æ•°å¯¹è±¡(ä»¿å‡½æ•°)çš„è®²è§£è¿ç”¨å’Œç¤ºèŒƒï¼šgreater()</title>
      <link href="/posts/d62f1935/"/>
      <url>/posts/d62f1935/</url>
      
        <content type="html"><![CDATA[<p>â€‹<strong>ç®€è¿°ï¼š</strong> å¯¹äº <code>å†…å»ºå‡½æ•°å¯¹è±¡</code>ï¼ˆ#include <functional>ï¼‰çš„ç®—æœ¯ã€å…³ç³»ã€é€»è¾‘ç±»çš„å‡½æ•°å¯¹è±¡ï¼ˆ<code>ä»¿å‡½</code>æ•°ï¼‰ï¼Œåšä¸€ä¸ªè®²è§£å’Œå°ä¾‹å­çš„åº”ç”¨ï¼Œå¹¶ä¸”ç®€å•åœ°æ¢ç©¶ä¸€ä¸‹åŸç†ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  win10 x64 ä¸“ä¸šç‰ˆ</p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  visual studio 2015ï¼Œ Qt 5.9.8</p><h2 id="ç®€è¿°ï¼š"><a href="#ç®€è¿°ï¼š" class="headerlink" title="ç®€è¿°ï¼š"></a>ç®€è¿°ï¼š</h2><p>â€‹å¯¹äº <code>å†…å»ºå‡½æ•°å¯¹è±¡</code>ï¼ˆ#include <functional>ï¼‰çš„ç®—æœ¯ã€å…³ç³»ã€é€»è¾‘ç±»çš„å‡½æ•°å¯¹è±¡ï¼ˆ<code>ä»¿å‡½</code>æ•°ï¼‰ï¼Œåšä¸€ä¸ªè®²è§£å’Œå°ä¾‹å­çš„åº”ç”¨ï¼Œå¹¶ä¸”ç®€å•åœ°æ¢ç©¶ä¸€ä¸‹åŸç†ã€‚</p><h2 id="è®²è§£å¤§çº²ï¼š"><a href="#è®²è§£å¤§çº²ï¼š" class="headerlink" title="è®²è§£å¤§çº²ï¼š"></a>è®²è§£å¤§çº²ï¼š</h2><p>ç®€å•è¯´ä¸€ä¸‹ï¼Œä»€ä¹ˆå«åš<code>å†…å»ºå‡½æ•°å¯¹è±¡</code><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190708162640.png" loading="lazy"></p><p>å…¶ä¸­å®Œæ•´çš„å®šä¹‰å¦‚ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190708162823.png" loading="lazy"></p><p>å…¶æ‰€æ‹¥æœ‰çš„å…·ä½“çš„æ‰€æœ‰çš„å‡½æ•°æ¥å£ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚åœ¨è¿™é‡Œåªæ˜¯å°†å…¶ä¸­å‡ ä¸ªå…¸å‹çš„æ¥å£æ˜¯å®ä¾‹ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨ã€‚</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190708162856.png" loading="lazy"></p><h2 id="å…³ç³»è¿ç®—ç±»å‡½æ•°å¯¹è±¡ï¼š"><a href="#å…³ç³»è¿ç®—ç±»å‡½æ•°å¯¹è±¡ï¼š" class="headerlink" title="å…³ç³»è¿ç®—ç±»å‡½æ•°å¯¹è±¡ï¼š"></a>å…³ç³»è¿ç®—ç±»å‡½æ•°å¯¹è±¡ï¼š</h2><h3 id="å¤§äºä»¿å‡½æ•°ï¼š"><a href="#å¤§äºä»¿å‡½æ•°ï¼š" class="headerlink" title="å¤§äºä»¿å‡½æ•°ï¼š"></a>å¤§äºä»¿å‡½æ•°ï¼š</h3><p>template<class> T greater<T> &#x2F;&#x2F;å¤§äºä»¿å‡½æ•°</p><h4 id="å¿ƒå¾—æ€è€ƒï¼š"><a href="#å¿ƒå¾—æ€è€ƒï¼š" class="headerlink" title="å¿ƒå¾—æ€è€ƒï¼š"></a>å¿ƒå¾—æ€è€ƒï¼š</h4><p>æ·»åŠ å¤´æ–‡ä»¶ä¸å¯å¿˜è®°ï¼Œè¦å„è‡ªå¯¹åº”ï¼Œåœ¨ä½¿ç”¨<code>sort(ä¸‰ä¸ªå‚æ•°)</code>çš„æ—¶å€™ï¼Œ<font color=#FE7207 size=3 face="å¹¼åœ†">ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œé€šå¸¸ä¸ºè‡ªå®šä¹‰çš„  å‡½æ•°å¯¹è±¡ï¼ˆä»¿å‡½æ•°ï¼‰</font>ã€‚å› ä¸ºé»˜è®¤ä½¿ç”¨<code>sort(ä¸¤ä¸ªå‚æ•°)</code>çš„ä½¿ç”¨ï¼Œ<font color=#FE7207  size=3 face="å¹¼åœ†">å…¶åº•å±‚ä¹Ÿæ˜¯é»˜è®¤è°ƒç”¨çš„ ç³»ç»Ÿçš„é»˜è®¤çš„å†…å»ºå‡½æ•°å¯¹è±¡<code>less&lt;&gt;()</code>(å…­ä¸ªå…³ç³»è¿ç®—ç±»å‡½æ•°å¯¹è±¡çš„å€’æ•°ç¬¬äºŒä¸ª)</font>ã€‚</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190708164909.png" loading="lazy"></p><h4 id="ä»£ç æ¼”ç¤ºï¼š"><a href="#ä»£ç æ¼”ç¤ºï¼š" class="headerlink" title="ä»£ç æ¼”ç¤ºï¼š"></a>ä»£ç æ¼”ç¤ºï¼š</h4><p>åˆ›å»ºä¸€ä¸ªæ§çš„é¡¹ç›®ï¼Œå†æ·»åŠ ä¸€ä¸ªç©ºçš„main.cpp,åœ¨é‡Œé¢æ·»åŠ å¦‚ä¸‹ä»£ç :</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>using namespace std<span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span>  <span class="token comment">//ç®—æ³•</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional></span>  <span class="token comment">//å†…å»ºå‡½æ•°å¯¹è±¡</span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> v<span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">sort</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> greater<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//å†…å»ºå…³ç³»å‡½æ•°å¯¹è±¡ï¼ˆæ— å ä¸´æ—¶å¯¹è±¡ï¼‰greater&lt;int>()   å¤§äº</span><span class="token function">for_each</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> val <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è¿è¡Œæ¼”ç¤ºï¼š"><a href="#è¿è¡Œæ¼”ç¤ºï¼š" class="headerlink" title="è¿è¡Œæ¼”ç¤ºï¼š"></a>è¿è¡Œæ¼”ç¤ºï¼š</h4><p>é»˜è®¤æ’åºæ˜¯ä»å°åˆ°å¤§ï¼Œè€Œè¿™é‡Œç»“æœæ˜¯ä»å¤§åˆ°å°ï¼Œå¤åˆç»“æœçš„é¢„æœŸã€‚</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190708193257.png" loading="lazy"></p><h4 id="ç»†èŠ‚æ–¹é¢ï¼š"><a href="#ç»†èŠ‚æ–¹é¢ï¼š" class="headerlink" title="ç»†èŠ‚æ–¹é¢ï¼š"></a>ç»†èŠ‚æ–¹é¢ï¼š</h4><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token function">sort</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> greater<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//å†…å»ºå…³ç³»å‡½æ•°å¯¹è±¡ï¼ˆæ— å ä¸´æ—¶å¯¹è±¡ï¼‰greater&lt;int>()   å¤§äº   //å†…å»ºå…³ç³»å‡½æ•°å¯¹è±¡ï¼ˆæ— å ä¸´æ—¶å¯¹è±¡ï¼‰greater&lt;int>()   å¤§äº</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¯ä»¥æ›¿æ¢æˆï¼Œ</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token function">sort</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å†æŸ¥çœ‹è¿è¡Œç»“æœä¸ºï¼š</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190708165544.png" loading="lazy"></p><h2 id="ç®—æ•°ç±»å‡½æ•°å¯¹è±¡ï¼š"><a href="#ç®—æ•°ç±»å‡½æ•°å¯¹è±¡ï¼š" class="headerlink" title="ç®—æ•°ç±»å‡½æ•°å¯¹è±¡ï¼š"></a>ç®—æ•°ç±»å‡½æ•°å¯¹è±¡ï¼š</h2><h3 id="å–åä»¿å‡½æ•°ï¼š"><a href="#å–åä»¿å‡½æ•°ï¼š" class="headerlink" title="å–åä»¿å‡½æ•°ï¼š"></a>å–åä»¿å‡½æ•°ï¼š</h3><p>ï¼ˆtemplate<class> T negate<T> &#x2F;&#x2F;å–åä»¿å‡½æ•°ï¼‰</p><p>ä»¿ç…§ä¸Šé¢ï¼Œé‡ç‚¹ä¼šåœ¨ä¸‹é¢çš„ä¸€ç¯‡æ–‡ç« <a href="https://touwoyimuli.github.io/2019/07/08/STL%E6%A8%A1%E6%9D%BF%EF%BC%8C%E9%80%82%E9%85%8D%E5%99%A8%E7%9A%84%E8%AE%B2%E8%A7%A3%E8%BF%90%E7%94%A8%E5%92%8C%E7%A4%BA%E8%8C%83%EF%BC%9A%E5%87%BD%E6%95%B0%E5%AF%B9%E8%B1%A1%E9%80%82%E9%85%8D%E5%99%A8%E3%80%81%E5%8F%96%E5%8F%8D%E9%80%82%E9%85%8D%E5%99%A8%E3%80%81%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88%E9%80%82%E9%85%8D%E5%99%A8%E3%80%81%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%E9%80%82%E9%85%8D%E5%99%A8/">STLæ¨¡æ¿ï¼Œé€‚é…å™¨çš„è®²è§£è¿ç”¨å’Œç¤ºèŒƒï¼šå‡½æ•°å¯¹è±¡é€‚é…å™¨ã€ã€å‡½æ•°æŒ‡é’ˆé€‚é…å™¨ã€æˆå‘˜å‡½æ•°é€‚é…å™¨</a>ï¼Œé€‚é…å™¨ç›¸å…³é‡Œé¢å†ç»§ç»­è¿è¡Œç”¨åˆ°ã€‚</p><h3 id="åŠ æ³•ä»¿å‡½æ•°ï¼š"><a href="#åŠ æ³•ä»¿å‡½æ•°ï¼š" class="headerlink" title="åŠ æ³•ä»¿å‡½æ•°ï¼š"></a>åŠ æ³•ä»¿å‡½æ•°ï¼š</h3><p>ï¼ˆtemplate<class> T plus<T> &#x2F;&#x2F;åŠ æ³•ä»¿å‡½æ•°ï¼‰ </p><p>ä»¿ç…§ä¸Šé¢ï¼Œé‡ç‚¹ä¼šåœ¨ä¸‹é¢çš„ä¸€ç¯‡æ–‡ç« <a href="https://touwoyimuli.github.io/2019/07/08/STL%E6%A8%A1%E6%9D%BF%EF%BC%8C%E9%80%82%E9%85%8D%E5%99%A8%E7%9A%84%E8%AE%B2%E8%A7%A3%E8%BF%90%E7%94%A8%E5%92%8C%E7%A4%BA%E8%8C%83%EF%BC%9A%E5%87%BD%E6%95%B0%E5%AF%B9%E8%B1%A1%E9%80%82%E9%85%8D%E5%99%A8%E3%80%81%E5%8F%96%E5%8F%8D%E9%80%82%E9%85%8D%E5%99%A8%E3%80%81%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88%E9%80%82%E9%85%8D%E5%99%A8%E3%80%81%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%E9%80%82%E9%85%8D%E5%99%A8/">STLæ¨¡æ¿ï¼Œé€‚é…å™¨çš„è®²è§£è¿ç”¨å’Œç¤ºèŒƒï¼šå‡½æ•°å¯¹è±¡é€‚é…å™¨ã€ã€å‡½æ•°æŒ‡é’ˆé€‚é…å™¨ã€æˆå‘˜å‡½æ•°é€‚é…å™¨</a>ï¼Œé€‚é…å™¨ç›¸å…³é‡Œé¢å†ç»§ç»­è¿è¡Œç”¨åˆ°ã€‚</p><h2 id="é€»è¾‘è¿ç®—ç±»ä»¿å‡½æ•°-ï¼š"><a href="#é€»è¾‘è¿ç®—ç±»ä»¿å‡½æ•°-ï¼š" class="headerlink" title="é€»è¾‘è¿ç®—ç±»ä»¿å‡½æ•° ï¼š"></a>é€»è¾‘è¿ç®—ç±»ä»¿å‡½æ•° ï¼š</h2><p>ä»¿ç…§ä¸Šé¢ï¼Œé‡ç‚¹ä¼šåœ¨ä¸‹é¢çš„ä¸€ç¯‡æ–‡ç« <a href="https://touwoyimuli.github.io/2019/07/08/STL%E6%A8%A1%E6%9D%BF%EF%BC%8C%E9%80%82%E9%85%8D%E5%99%A8%E7%9A%84%E8%AE%B2%E8%A7%A3%E8%BF%90%E7%94%A8%E5%92%8C%E7%A4%BA%E8%8C%83%EF%BC%9A%E5%87%BD%E6%95%B0%E5%AF%B9%E8%B1%A1%E9%80%82%E9%85%8D%E5%99%A8%E3%80%81%E5%8F%96%E5%8F%8D%E9%80%82%E9%85%8D%E5%99%A8%E3%80%81%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88%E9%80%82%E9%85%8D%E5%99%A8%E3%80%81%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%E9%80%82%E9%85%8D%E5%99%A8/">STLæ¨¡æ¿ï¼Œé€‚é…å™¨çš„è®²è§£è¿ç”¨å’Œç¤ºèŒƒï¼šå‡½æ•°å¯¹è±¡é€‚é…å™¨ã€ã€å‡½æ•°æŒ‡é’ˆé€‚é…å™¨ã€æˆå‘˜å‡½æ•°é€‚é…å™¨</a>ï¼Œé€‚é…å™¨ç›¸å…³é‡Œé¢å†ç»§ç»­è¿è¡Œç”¨åˆ°ã€‚</p><h2 id="ä½¿ç”¨æ— åçš„ä¸´æ—¶å¯¹è±¡ï¼š"><a href="#ä½¿ç”¨æ— åçš„ä¸´æ—¶å¯¹è±¡ï¼š" class="headerlink" title="ä½¿ç”¨æ— åçš„ä¸´æ—¶å¯¹è±¡ï¼š"></a>ä½¿ç”¨æ— åçš„ä¸´æ—¶å¯¹è±¡ï¼š</h2><p>è¿™æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„éªšæ“ä½œã€‚</p><p><font color=#D0087E size=4 face="å¹¼åœ†">å½“çœ‹åˆ°è¿è¡Œç¬¦åˆé¢„æƒ³é‚£çš„ä¸€åˆ»ï¼Œå¿ƒé‡Œæ˜¯å¼€å¿ƒçš„ï¼Œç„¶åæ¥ç€ç»§ç»­æ•²æ•²æ•²ï¼ï¼ï¼</font></p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/gif/20190704180218.gif" loading="lazy"></p><hr><p><strong>æœ¬åšæ–‡åŒæ­¥åˆ°csdnåšå®¢ï¼š</strong> <a href="https://blog.csdn.net/qq_33154343/article/details/95089598">STLæ¨¡æ¿ï¼Œå†…å»ºå‡½æ•°å¯¹è±¡(ä»¿å‡½æ•°)çš„è®²è§£è¿ç”¨å’Œç¤ºèŒƒï¼šgreater()</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºä¸€ æŠ€æ³• </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>STLæ¨¡æ¿ï¼Œé€‚é…å™¨çš„è®²è§£è¿ç”¨å’Œç¤ºèŒƒï¼šå‡½æ•°å¯¹è±¡é€‚é…å™¨ã€å‡½æ•°æŒ‡é’ˆé€‚é…å™¨ã€æˆå‘˜å‡½æ•°é€‚é…å™¨</title>
      <link href="/posts/d8f9e0ff/"/>
      <url>/posts/d8f9e0ff/</url>
      
        <content type="html"><![CDATA[<p>â€‹<strong>ç®€è¿°ï¼š</strong>å¯¹äº <code>é€‚é…å™¨</code>çš„å‡½æ•°å¯¹è±¡é€‚é…å™¨ã€å–åé€‚é…å™¨ã€å‡½æ•°æŒ‡é’ˆé€‚é…å™¨ã€æˆå‘˜å‡½æ•°é€‚é…å™¨ï¼Œåšä¸€ä¸ªè®²è§£å’Œå°ä¾‹å­çš„åº”ç”¨ï¼Œå¹¶ä¸”ç®€å•åœ°æ¢ç©¶ä¸€ä¸‹åŸç†ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  win10 x64 ä¸“ä¸šç‰ˆ</p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  visual studio 2015ï¼Œ Qt 5.9.8</p><h2 id="ç®€è¿°ï¼š"><a href="#ç®€è¿°ï¼š" class="headerlink" title="ç®€è¿°ï¼š"></a>ç®€è¿°ï¼š</h2><p>â€‹å¯¹äº <code>é€‚é…å™¨</code>çš„å‡½æ•°å¯¹è±¡é€‚é…å™¨ã€å–åé€‚é…å™¨ã€å‡½æ•°æŒ‡é’ˆé€‚é…å™¨ã€æˆå‘˜å‡½æ•°é€‚é…å™¨ï¼Œåšä¸€ä¸ªè®²è§£å’Œå°ä¾‹å­çš„åº”ç”¨ï¼Œå¹¶ä¸”ç®€å•åœ°æ¢ç©¶ä¸€ä¸‹åŸç†ã€‚</p><h2 id="è®²è§£å¤§çº²ï¼š"><a href="#è®²è§£å¤§çº²ï¼š" class="headerlink" title="è®²è§£å¤§çº²ï¼š"></a>è®²è§£å¤§çº²ï¼š</h2><p>ç®€å•è¯´ä¸€ä¸‹ï¼Œä»€ä¹ˆå«åš<code>é€‚é…å™¨</code>ï¼Œå…ˆæ¼”ç¤ºä¸€ä¸‹å­å¤§çº²</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190708171220.png" loading="lazy"></p><p>å…¶ä½œç”¨ï¼Œä¸ªäººç†è§£ï¼Œç›¸å½“äº<code>æ¥å£é€‚é…å™¨</code>ï¼Œç”Ÿæ´»ä¸­çš„ç±»ä¼¼äºä¸€ä¸ªUSBæ‰©å±•åï¼Œå°†ç”µè„‘çš„ä¸€ä¸ªUSB3.0æ¥å£æ‰©å±•æˆä¸ºæœ‰ç€å¤šä¸ªUSB3.0æ¥å£çš„æ’æ’ã€‚codeé‡Œé¢ç›¸å½“äºåè¿‡æ¥çœ‹ï¼Œå°†äºŒä¸ªå‚æ•°åˆå¹¶æˆä¸ºä¸€ä¸ªå‚æ•°ï¼Œè¿›è¡Œè¾“å…¥è¾“å‡ºã€‚</p><p><strong>ä¾‹å­ï¼š</strong> å°†<code>å‡½æ•°æŒ‡é’ˆ + å˜é‡</code>é€šè¿‡bindç»‘å®šæˆä¸ºä¸€ä¸ª<code>å¯¹è±¡å‚æ•°</code>ã€‚</p><h2 id="å‡½æ•°å¯¹è±¡é€‚é…å™¨"><a href="#å‡½æ•°å¯¹è±¡é€‚é…å™¨" class="headerlink" title="å‡½æ•°å¯¹è±¡é€‚é…å™¨"></a>å‡½æ•°å¯¹è±¡é€‚é…å™¨</h2><h4 id="åˆå§‹ä»£ç ï¼š"><a href="#åˆå§‹ä»£ç ï¼š" class="headerlink" title="åˆå§‹ä»£ç ï¼š"></a>åˆå§‹ä»£ç ï¼š</h4><p>åˆå§‹ä»£ç ï¼šè¿™ä¸€ä¸ªæ‰“å°çš„ç»“æœï¼Œåé¢çš„ä¿®æ”¹ï¼Œåœ¨è¿™é‡Œä»£ç ä¹‹ä¸Šä¿®æ”¹å’Œæ¼”ç¤º</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">using namespace std<span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span>  <span class="token comment">//ç®—æ³•</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional></span>  <span class="token comment">//å†…å»ºå‡½æ•°å¯¹è±¡</span></span>class MyPrint<span class="token punctuation">&#123;</span>public<span class="token operator">:</span><span class="token keyword">void</span> <span class="token function">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> val <span class="token operator">&lt;&lt;</span> <span class="token string">"   "</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> v<span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">for_each</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">MyPrint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœ:</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190708173610.png" loading="lazy"></p><h4 id="ä½¿ç”¨æ­¥éª¤ï¼š"><a href="#ä½¿ç”¨æ­¥éª¤ï¼š" class="headerlink" title="ä½¿ç”¨æ­¥éª¤ï¼š"></a>ä½¿ç”¨æ­¥éª¤ï¼š</h4><ol><li>å°†å‚æ•°è¿›è¡Œç»‘å®š <code>bind2nd()</code></li><li>åšç»§æ‰¿  <code>binary_function&lt;ç±»å‹1ï¼Œ ç±»å‹2ï¼Œ è¿”å›å€¼ç±»å‹&gt;</code></li><li>åŠ  <code>const</code>ï¼Œå› ä¸ºç»§æ‰¿<code>binary_function</code>æ—¶å€™ï¼Œå…¶ä½œä¸ºçˆ¶ç±»å·²ç»<code>é‡è½½()</code>ä½œä¸ºå¸¸å‡½æ•°</li></ol><p>é…å›¾æ–‡è§£è¯´ï¼Œè¿™ä¸ªç®—æ˜¯å›¾æ–‡å¹¶èŒ‚äº†</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190708175525.png" loading="lazy"></p><h4 id="ä»£ç æ¼”ç¤ºï¼š"><a href="#ä»£ç æ¼”ç¤ºï¼š" class="headerlink" title="ä»£ç æ¼”ç¤ºï¼š"></a>ä»£ç æ¼”ç¤ºï¼š</h4><p>åˆ›å»ºä¸€ä¸ªæ§çš„é¡¹ç›®ï¼Œå†æ·»åŠ ä¸€ä¸ªç©ºçš„main.cpp,åœ¨é‡Œé¢æ·»åŠ å¦‚ä¸‹ä»£ç :</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>using namespace std<span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span>  <span class="token comment">//ç®—æ³•</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional></span>  <span class="token comment">//å†…å»ºå‡½æ•°å¯¹è±¡</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional></span>  <span class="token comment">//é€‚é…å™¨</span></span><span class="token comment">//å‡½æ•°å¯¹è±¡é€‚é…å™¨</span>class MyPrint<span class="token operator">:</span> public binary_function<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token operator">></span><span class="token punctuation">&#123;</span>public<span class="token operator">:</span><span class="token keyword">void</span> <span class="token function">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">,</span> <span class="token keyword">int</span> nBase<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"val:"</span> <span class="token operator">&lt;&lt;</span> val <span class="token operator">&lt;&lt;</span> <span class="token string">"   nBase:"</span> <span class="token operator">&lt;&lt;</span> nBase <span class="token operator">&lt;&lt;</span> <span class="token string">"   val+nBase:"</span> <span class="token operator">&lt;&lt;</span> val <span class="token operator">+</span> nBase <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> v<span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> nBase <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span><span class="token function">for_each</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">bind2nd</span><span class="token punctuation">(</span><span class="token function">MyPrint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> nBase<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è¿è¡Œæ¼”ç¤ºï¼š"><a href="#è¿è¡Œæ¼”ç¤ºï¼š" class="headerlink" title="è¿è¡Œæ¼”ç¤ºï¼š"></a>è¿è¡Œæ¼”ç¤ºï¼š</h4><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190708193108.png" loading="lazy"></p><h4 id="ç»†èŠ‚æ–¹é¢ï¼š"><a href="#ç»†èŠ‚æ–¹é¢ï¼š" class="headerlink" title="ç»†èŠ‚æ–¹é¢ï¼š"></a>ç»†èŠ‚æ–¹é¢ï¼š</h4><p>å°†ä¸Šé¢30è¡Œä»£ç åšå¦‚ä¸‹çš„å˜åŠ¨ï¼Œå†æ¬¡è¿è¡Œï¼Œè§‚å¯Ÿå’Œä¸Šä¸€æ¬¡çš„ç»“æœ<strong>ç¨æœ‰åŒºåˆ«</strong></p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">//for_each(v.begin(), v.end(), bind2nd(MyPrint(), nBase) );</span><span class="token function">for_each</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">bind1st</span><span class="token punctuation">(</span><span class="token function">MyPrint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> nBase<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190708175831.png" loading="lazy"></p><h4 id="å¿ƒå¾—æ€è€ƒï¼š"><a href="#å¿ƒå¾—æ€è€ƒï¼š" class="headerlink" title="å¿ƒå¾—æ€è€ƒï¼š"></a>å¿ƒå¾—æ€è€ƒï¼š</h4><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190708190801.png" loading="lazy"></p><h2 id="å–åé€‚é…å™¨ï¼š"><a href="#å–åé€‚é…å™¨ï¼š" class="headerlink" title="å–åé€‚é…å™¨ï¼š"></a>å–åé€‚é…å™¨ï¼š</h2><h3 id="åˆå§‹ä»£ç ï¼š-1"><a href="#åˆå§‹ä»£ç ï¼š-1" class="headerlink" title="åˆå§‹ä»£ç ï¼š"></a>åˆå§‹ä»£ç ï¼š</h3><p>åˆå§‹ä»£ç ï¼šè¿™ä¸€ä¸ªæ‰“å°çš„ç»“æœï¼Œåé¢çš„ä¿®æ”¹ï¼Œåœ¨è¿™é‡Œä»£ç ä¹‹ä¸Šä¿®æ”¹å’Œæ¼”ç¤º</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">using namespace std<span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span>  <span class="token comment">//ç®—æ³•</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional></span>  <span class="token comment">//å†…å»ºå‡½æ•°å¯¹è±¡</span></span><span class="token comment">//02å–åé€‚é…å™¨</span>class MyFindFour<span class="token punctuation">&#123;</span>public<span class="token operator">:</span>bool <span class="token function">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span><span class="token keyword">return</span> val <span class="token operator">></span> <span class="token number">4</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> v<span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">::</span>iterator pos <span class="token operator">=</span> <span class="token function">find_if</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">MyFindFour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>pos <span class="token operator">!=</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"å¤§äº4çš„æ•°å€¼ä¸º:"</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>pos <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token keyword">else</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æ— "</span>  <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¿è¡Œç»“æœ"><a href="#è¿è¡Œç»“æœ" class="headerlink" title="è¿è¡Œç»“æœ:"></a>è¿è¡Œç»“æœ:</h3><p><em><strong>â€œ1  3  4  2  6  5â€ä»å·¦å¾€å³å¼€å§‹éå†</strong></em>ï¼Œç¬¬ä¸€ä¸ªå¤§äº4çš„æ•°å€¼å°±æ˜¯6</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190708181248.png" loading="lazy"></p><h3 id="ä½¿ç”¨æ­¥éª¤ï¼š-1"><a href="#ä½¿ç”¨æ­¥éª¤ï¼š-1" class="headerlink" title="ä½¿ç”¨æ­¥éª¤ï¼š"></a>ä½¿ç”¨æ­¥éª¤ï¼š</h3><ol><li>ä¸€å…ƒå–å <code>not1</code></li><li>ç»§æ‰¿ <code>unary_function</code></li><li>åŠ  <code>const</code></li></ol><p>å¦‚ä¸Šä¸‰å¤„ä¿®æ”¹ï¼Œä¹Ÿå¯å‚ç…§ä¸Šé¢çš„<em><strong>å‡½æ•°å¯¹è±¡é€‚é…å™¨</strong></em>çš„ å›¾æ–‡å¹¶èŒ‚çš„è¿™ä¸€éƒ¨åˆ†ï¼Œç†è§£ä¿®æ”¹çš„éƒ¨åˆ†ã€‚</p><h3 id="ä»£ç æ¼”ç¤ºï¼š-1"><a href="#ä»£ç æ¼”ç¤ºï¼š-1" class="headerlink" title="ä»£ç æ¼”ç¤ºï¼š"></a>ä»£ç æ¼”ç¤ºï¼š</h3><p>åˆ›å»ºä¸€ä¸ªæ§çš„é¡¹ç›®ï¼Œå†æ·»åŠ ä¸€ä¸ªç©ºçš„main.cpp,åœ¨é‡Œé¢æ·»åŠ å¦‚ä¸‹ä»£ç :</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>using namespace std<span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span>  <span class="token comment">//ç®—æ³•</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional></span>  <span class="token comment">//å†…å»ºå‡½æ•°å¯¹è±¡</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional></span>  <span class="token comment">//é€‚é…å™¨</span></span><span class="token comment">//02å–åé€‚é…å™¨</span>class MyFindFour<span class="token operator">:</span> public unary_function<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> bool<span class="token operator">></span><span class="token punctuation">&#123;</span>public<span class="token operator">:</span>bool <span class="token function">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span>  <span class="token keyword">const</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> val <span class="token operator">></span> <span class="token number">4</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> v<span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">::</span>iterator pos <span class="token operator">=</span> <span class="token function">find_if</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">not1</span><span class="token punctuation">(</span><span class="token function">MyFindFour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>pos <span class="token operator">!=</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"å¤§(åˆ’æ‰ï¼Œæ”¹å°)äº4çš„æ•°å€¼ä¸º:"</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>pos <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token keyword">else</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æ— "</span>  <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¿è¡Œæ¼”ç¤ºï¼š-1"><a href="#è¿è¡Œæ¼”ç¤ºï¼š-1" class="headerlink" title="è¿è¡Œæ¼”ç¤ºï¼š"></a>è¿è¡Œæ¼”ç¤ºï¼š</h3><p>è¿è¡Œç»“æœ: <em><strong>â€œ1  3  4  2  6  5â€ä»å·¦å¾€å³å¼€å§‹éå†</strong></em>ï¼Œç¬¬ä¸€ä¸ªå°äº4çš„æ•°å€¼å°±æ˜¯1</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190708182733.png" loading="lazy"></p><h3 id="ç»†èŠ‚æ–¹é¢ï¼š-1"><a href="#ç»†èŠ‚æ–¹é¢ï¼š-1" class="headerlink" title="ç»†èŠ‚æ–¹é¢ï¼š"></a>ç»†èŠ‚æ–¹é¢ï¼š</h3><p>å°†ä¸Šé¢çš„27è¡Œä»£ç åšå¦‚ä¸‹çš„å˜åŠ¨ï¼Œå†æ¬¡è¿è¡Œï¼Œè§‚å¯Ÿå’Œä¸Šä¸€æ¬¡çš„ç»“æœ<strong>æ²¡æœ‰åŒºåˆ«</strong>ï¼Œä½†æ˜¯å†™æ³•å´æ›´åŠ é«˜çº§ï¼Œè¶ŠåŠ æ´»å­¦æ´»ç”¨ã€‚</p><p>è¿™æ ·å†™çš„ä¼˜ç‚¹ï¼šå¯ä»¥å°†10è¡Œ<code>class MyFindFour: public unary_function&lt;int, bool&gt;</code>é‡Œé¢çš„å…·ä½“æ•°å­—4ï¼Œå†™åˆ°å¤–é¢æ¥ï¼Œå¯ä»¥ä¿®æ”¹æˆä»»æ„çš„æ•°å€¼ï¼Œä¸å†å—å±€é™</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">//vector&lt;int>::iterator pos = find_if(v.begin(), v.end(), not1(MyFindFour()));</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">::</span>iterator pos <span class="token operator">=</span> <span class="token function">find_if</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">not1</span><span class="token punctuation">(</span><span class="token function">bind2nd</span><span class="token punctuation">(</span>greater<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190708182733.png" loading="lazy"></p><h3 id="å¿ƒå¾—æ€è€ƒï¼š-1"><a href="#å¿ƒå¾—æ€è€ƒï¼š-1" class="headerlink" title="å¿ƒå¾—æ€è€ƒï¼š"></a>å¿ƒå¾—æ€è€ƒï¼š</h3><h3 id="æ³¨æ„åŒºåˆ«ï¼š"><a href="#æ³¨æ„åŒºåˆ«ï¼š" class="headerlink" title="æ³¨æ„åŒºåˆ«ï¼š"></a>æ³¨æ„åŒºåˆ«ï¼š</h3><h2 id="å‡½æ•°æŒ‡é’ˆé€‚é…å™¨ï¼š"><a href="#å‡½æ•°æŒ‡é’ˆé€‚é…å™¨ï¼š" class="headerlink" title="å‡½æ•°æŒ‡é’ˆé€‚é…å™¨ï¼š"></a>å‡½æ•°æŒ‡é’ˆé€‚é…å™¨ï¼š</h2><h3 id="åˆå§‹ä»£ç ï¼š-2"><a href="#åˆå§‹ä»£ç ï¼š-2" class="headerlink" title="åˆå§‹ä»£ç ï¼š"></a>åˆå§‹ä»£ç ï¼š</h3><p>åˆå§‹ä»£ç ï¼šè¿™ä¸€ä¸ªæ‰“å°çš„ç»“æœï¼Œåé¢çš„ä¿®æ”¹ï¼Œåœ¨è¿™é‡Œä»£ç ä¹‹ä¸Šä¿®æ”¹å’Œæ¼”ç¤º</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>using namespace std<span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span>  <span class="token comment">//ç®—æ³•</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional></span>  <span class="token comment">//å†…å»ºå‡½æ•°å¯¹è±¡</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional></span>  <span class="token comment">//é€‚é…å™¨</span></span><span class="token comment">//03å‡½æ•°æŒ‡é’ˆé€‚é…å™¨</span><span class="token keyword">void</span> <span class="token function">MyPrintf</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> val<span class="token operator">&lt;&lt;</span><span class="token string">"  "</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> v<span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">for_each</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> MyPrintf<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//æ³¨æ„è¿™ä¸€è¡Œï¼Œå‚æ•°3 æ˜¯ä½¿ç”¨çš„å‡½æ•°æŒ‡é’ˆ</span>cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¿è¡Œç»“æœ-1"><a href="#è¿è¡Œç»“æœ-1" class="headerlink" title="è¿è¡Œç»“æœ:"></a>è¿è¡Œç»“æœ:</h3><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190708183636.png" loading="lazy"></p><h3 id="ä½¿ç”¨æ­¥éª¤ï¼š-2"><a href="#ä½¿ç”¨æ­¥éª¤ï¼š-2" class="headerlink" title="ä½¿ç”¨æ­¥éª¤ï¼š"></a>ä½¿ç”¨æ­¥éª¤ï¼š</h3><ol><li>å…ˆä½¿ç”¨<code>ptr_fun()</code>å°†<code>MyPrintfå‡½æ•°æŒ‡é’ˆ</code>ä¾¿æˆä¸º<strong>å¯¹è±¡</strong>ï¼Œ</li><li>ç„¶åå†ç”¨<code>bind2nd()</code>ç»‘å®š</li><li>ä¿®æ”¹éœ€è¦ç»‘å®šå¤šä¸ªå‚æ•°çš„<code>å‡½æ•°MyPrintf()</code></li></ol><h3 id="ä»£ç æ¼”ç¤ºï¼š-2"><a href="#ä»£ç æ¼”ç¤ºï¼š-2" class="headerlink" title="ä»£ç æ¼”ç¤ºï¼š"></a>ä»£ç æ¼”ç¤ºï¼š</h3><p>åˆ›å»ºä¸€ä¸ªæ§çš„é¡¹ç›®ï¼Œå†æ·»åŠ ä¸€ä¸ªç©ºçš„main.cpp,åœ¨é‡Œé¢æ·»åŠ å¦‚ä¸‹ä»£ç :</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>using namespace std<span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span>  <span class="token comment">//ç®—æ³•</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional></span>  <span class="token comment">//å†…å»ºå‡½æ•°å¯¹è±¡</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional></span>  <span class="token comment">//é€‚é…å™¨</span></span><span class="token comment">//03å‡½æ•°æŒ‡é’ˆé€‚é…å™¨</span><span class="token keyword">void</span> <span class="token function">MyPrintf</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">,</span> <span class="token keyword">int</span> nBase<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"val:"</span> <span class="token operator">&lt;&lt;</span> val <span class="token operator">&lt;&lt;</span> <span class="token string">"   nBase:"</span> <span class="token operator">&lt;&lt;</span> nBase <span class="token operator">&lt;&lt;</span> <span class="token string">"   val+nBase:"</span> <span class="token operator">&lt;&lt;</span> val <span class="token operator">+</span> nBase <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> v<span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> nBase <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span><span class="token function">for_each</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">bind2nd</span><span class="token punctuation">(</span><span class="token function">ptr_fun</span><span class="token punctuation">(</span>MyPrintf<span class="token punctuation">)</span><span class="token punctuation">,</span> nBase<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ³¨æ„è¿™ä¸€è¡Œï¼Œå‚æ•°3 æ˜¯ä½¿ç”¨çš„å‡½æ•°æŒ‡é’ˆ</span>cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¿è¡Œæ¼”ç¤ºï¼š-2"><a href="#è¿è¡Œæ¼”ç¤ºï¼š-2" class="headerlink" title="è¿è¡Œæ¼”ç¤ºï¼š"></a>è¿è¡Œæ¼”ç¤ºï¼š</h3><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190708184240.png" loading="lazy"></p><h3 id="ç»†èŠ‚æ–¹é¢ï¼š-2"><a href="#ç»†èŠ‚æ–¹é¢ï¼š-2" class="headerlink" title="ç»†èŠ‚æ–¹é¢ï¼š"></a>ç»†èŠ‚æ–¹é¢ï¼š</h3><p>æ³¨æ„è¿™ä¸€è¡Œæ˜¯æ€ä¹ˆä¿®æ”¹çš„ï¼Œä»¥åŠè¿˜éœ€è¦ä¿®æ”¹çš„åœ°æ–¹</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token function">for_each</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">bind2nd</span><span class="token punctuation">(</span><span class="token function">ptr_fun</span><span class="token punctuation">(</span>MyPrintf<span class="token punctuation">)</span><span class="token punctuation">,</span> nBase<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ³¨æ„è¿™ä¸€è¡Œï¼Œå‚æ•°3 æ˜¯ä½¿ç”¨çš„å‡½æ•°æŒ‡é’ˆ</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å¿ƒå¾—æ€è€ƒï¼š-2"><a href="#å¿ƒå¾—æ€è€ƒï¼š-2" class="headerlink" title="å¿ƒå¾—æ€è€ƒï¼š"></a>å¿ƒå¾—æ€è€ƒï¼š</h3><h2 id="æˆå‘˜å‡½æ•°é€‚é…å™¨ï¼š"><a href="#æˆå‘˜å‡½æ•°é€‚é…å™¨ï¼š" class="headerlink" title="æˆå‘˜å‡½æ•°é€‚é…å™¨ï¼š"></a>æˆå‘˜å‡½æ•°é€‚é…å™¨ï¼š</h2><h3 id="åˆå§‹ä»£ç ï¼š-3"><a href="#åˆå§‹ä»£ç ï¼š-3" class="headerlink" title="åˆå§‹ä»£ç ï¼š"></a>åˆå§‹ä»£ç ï¼š</h3><p>åˆå§‹ä»£ç ï¼šè¿™ä¸€ä¸ªæ‰“å°çš„ç»“æœï¼Œåé¢çš„ä¿®æ”¹ï¼Œåœ¨è¿™é‡Œä»£ç ä¹‹ä¸Šä¿®æ”¹å’Œæ¼”ç¤º</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>using namespace std<span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span>  <span class="token comment">//ç®—æ³•</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional></span>  <span class="token comment">//å†…å»ºå‡½æ•°å¯¹è±¡</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional></span>  <span class="token comment">//é€‚é…å™¨</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string></span></span><span class="token comment">//04æˆå‘˜å‡½æ•°é€‚é…å™¨</span>class Person<span class="token punctuation">&#123;</span>public<span class="token operator">:</span><span class="token function">Person</span><span class="token punctuation">(</span>string name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token operator">:</span><span class="token function">m_strName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">m_nAge</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token operator">~</span><span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>public<span class="token operator">:</span>string m_strName<span class="token punctuation">;</span><span class="token keyword">int</span> m_nAge<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">MyPrintf04</span><span class="token punctuation">(</span>Person<span class="token operator">&amp;</span> p<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"å‡½æ•°MyPrintf04==ã€‹  å§“åï¼š"</span> <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span>m_strName <span class="token operator">&lt;&lt;</span> <span class="token string">"   å¹´é¾„ï¼š"</span> <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span>m_nAge <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">test04</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>Person <span class="token function">p1</span><span class="token punctuation">(</span><span class="token string">"p1"</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p2</span><span class="token punctuation">(</span><span class="token string">"p2"</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p3</span><span class="token punctuation">(</span><span class="token string">"p3"</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p4</span><span class="token punctuation">(</span><span class="token string">"p4"</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p5</span><span class="token punctuation">(</span><span class="token string">"p5"</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p6</span><span class="token punctuation">(</span><span class="token string">"p6"</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>vector<span class="token operator">&lt;</span>Person<span class="token operator">></span> v<span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>p3<span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>p4<span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>p5<span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>p6<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">for_each</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> MyPrintf04<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ³¨æ„è¿™ä¸€è¡Œï¼Œå‚æ•°3 æ˜¯ä½¿ç”¨çš„å‡½æ•°æŒ‡é’ˆ</span>cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">test04</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¿è¡Œç»“æœ-2"><a href="#è¿è¡Œç»“æœ-2" class="headerlink" title="è¿è¡Œç»“æœ:"></a>è¿è¡Œç»“æœ:</h3><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190708185700.png" loading="lazy"></p><h3 id="ä½¿ç”¨æ­¥éª¤ï¼š-3"><a href="#ä½¿ç”¨æ­¥éª¤ï¼š-3" class="headerlink" title="ä½¿ç”¨æ­¥éª¤ï¼š"></a>ä½¿ç”¨æ­¥éª¤ï¼š</h3><ol><li>å–åˆ°æˆå‘˜å‡½æ•°çš„åœ°å€<code>&amp;Person::MyPrintfPerson</code></li><li>é€šè¿‡<code>mem_fun_ref()</code>å¯¹æˆå‘˜å‡½æ•°è¿›è¡Œé€‚é…</li></ol><h3 id="ä»£ç æ¼”ç¤ºï¼š-3"><a href="#ä»£ç æ¼”ç¤ºï¼š-3" class="headerlink" title="ä»£ç æ¼”ç¤ºï¼š"></a>ä»£ç æ¼”ç¤ºï¼š</h3><p>åˆ›å»ºä¸€ä¸ªæ§çš„é¡¹ç›®ï¼Œå†æ·»åŠ ä¸€ä¸ªç©ºçš„main.cpp,åœ¨é‡Œé¢æ·»åŠ å¦‚ä¸‹ä»£ç :</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>using namespace std<span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span>  <span class="token comment">//ç®—æ³•</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional></span>  <span class="token comment">//å†…å»ºå‡½æ•°å¯¹è±¡</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional></span>  <span class="token comment">//é€‚é…å™¨</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string></span></span><span class="token comment">//04æˆå‘˜å‡½æ•°é€‚é…å™¨</span>class Person<span class="token punctuation">&#123;</span>public<span class="token operator">:</span><span class="token function">Person</span><span class="token punctuation">(</span>string name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token operator">:</span><span class="token function">m_strName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">m_nAge</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token operator">~</span><span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">MyPrintfPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"ç±»çš„æˆå‘˜å‡½æ•°MyPrintfPerson==ã€‹  å§“åï¼š"</span> <span class="token operator">&lt;&lt;</span> m_strName <span class="token operator">&lt;&lt;</span> <span class="token string">"   å¹´é¾„ï¼š"</span> <span class="token operator">&lt;&lt;</span> m_nAge <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>public<span class="token operator">:</span>string m_strName<span class="token punctuation">;</span><span class="token keyword">int</span> m_nAge<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">MyPrintf04</span><span class="token punctuation">(</span>Person<span class="token operator">&amp;</span> p<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"å‡½æ•°MyPrintf04==ã€‹  å§“åï¼š"</span> <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span>m_strName <span class="token operator">&lt;&lt;</span> <span class="token string">"   å¹´é¾„ï¼š"</span> <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span>m_nAge <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">test04</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>Person <span class="token function">p1</span><span class="token punctuation">(</span><span class="token string">"p1"</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p2</span><span class="token punctuation">(</span><span class="token string">"p2"</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p3</span><span class="token punctuation">(</span><span class="token string">"p3"</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p4</span><span class="token punctuation">(</span><span class="token string">"p4"</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p5</span><span class="token punctuation">(</span><span class="token string">"p5"</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p6</span><span class="token punctuation">(</span><span class="token string">"p6"</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>vector<span class="token operator">&lt;</span>Person<span class="token operator">></span> v<span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>p3<span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>p4<span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>p5<span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>p6<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//for_each(v.begin(), v.end(), MyPrintf04);  //æ³¨æ„è¿™ä¸€è¡Œï¼Œå‚æ•°3 æ˜¯ä½¿ç”¨çš„å‡½æ•°æŒ‡é’ˆ</span><span class="token function">for_each</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">mem_fun_ref</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>Person<span class="token operator">::</span>MyPrintfPerson<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ³¨æ„è¿™ä¸€è¡Œï¼Œå‚æ•°3 æ˜¯ä½¿ç”¨çš„å‡½æ•°æŒ‡é’ˆ</span>cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">test04</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¿è¡Œæ¼”ç¤ºï¼š-3"><a href="#è¿è¡Œæ¼”ç¤ºï¼š-3" class="headerlink" title="è¿è¡Œæ¼”ç¤ºï¼š"></a>è¿è¡Œæ¼”ç¤ºï¼š</h3><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190708190104.png" loading="lazy"></p><h3 id="ç»†èŠ‚æ–¹é¢ï¼š-3"><a href="#ç»†èŠ‚æ–¹é¢ï¼š-3" class="headerlink" title="ç»†èŠ‚æ–¹é¢ï¼š"></a>ç»†èŠ‚æ–¹é¢ï¼š</h3><p>ä¸ç”¨å†å»ä¿®æ”¹ç±»çš„æˆå‘˜å‡½æ•°</p><h3 id="å¿ƒå¾—æ€è€ƒï¼š-3"><a href="#å¿ƒå¾—æ€è€ƒï¼š-3" class="headerlink" title="å¿ƒå¾—æ€è€ƒï¼š"></a>å¿ƒå¾—æ€è€ƒï¼š</h3><p>è¿™ä¸ªç®—æ˜¯è¿™äº›é‡Œé¢ï¼Œæœ€ç®€å•æ–¹ä¾¿çš„ä¸€ä¸ªæ–¹æ³•äº†çš„å§ï¼Œä¸ªäººæ„Ÿè§‰ã€‚</p><h2 id="é‚‚é€…æ„Ÿï¼š"><a href="#é‚‚é€…æ„Ÿï¼š" class="headerlink" title="é‚‚é€…æ„Ÿï¼š"></a>é‚‚é€…æ„Ÿï¼š</h2><p>å†™å®Œè¿™ä¸€ç¯‡åšå®¢ï¼Œæ„Ÿè§‰è€—è´¹æ—¶é—´è¿˜æ˜¯æ¯”è¾ƒä¹…çš„ï¼Œè™½ç„¶çŸ¥è¯†ç‚¹æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯ä¸ºäº†ç®€å•è¯´æ¸…æ¥šï¼Œå›¾æ–‡å¹¶èŒ‚ï¼Œè¿˜æ˜¯èŠ±äº†ä¸¤ä¸ªå°æ—¶çš„ã€‚ç®—æ˜¯æ¯”è¾ƒé€‚åˆå¯¹æ–°äººå°ç™½å…¥é—¨çš„ä¸€ä¸ªå‹å¥½çš„æ•™ç¨‹ï¼Œæ¯•ç«Ÿç¬¬ä¸€æ¬¡æ¥è§¦c++çš„é€‚é…å™¨ï¼Œå¯èƒ½ä¼šæ„Ÿè§‰æ¯”è¾ƒç„ä¹ï¼Œå¸Œæœ›è¿™ä¸€ç¯‡å¯ä»¥å¸®åˆ°å¤§å®¶ã€‚ï¼ˆå¦‚æœè§‰å¾—çœŸçš„æœ‰å¸®åŠ©åˆ°ä½ ï¼Œè¿˜è§‰å¾—æœ¬æ–‡å†™çš„ä¸é”™ï¼Œå¯ä»¥é€‚å½“ç‚¹ä¸ªèµï¼Œè®©æ›´å¤šçš„äººå¯ä»¥çœ‹åˆ°ã€‚è§‰å¾—ä¸€èˆ¬çš„è¯ï¼Œå¯ä»¥çœ‹è¿‡å°±å°±è¿‡äº†ã€‚ï¼‰</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190708191412.png" loading="lazy"></p><p><font color=#D0087E size=4 face="å¹¼åœ†">å½“çœ‹åˆ°å¼„æ¸…çŸ¥è¯†ç‚¹çš„æ—¶å€™ï¼Œæˆ–è€…å¸®åŠ©åˆ°æœ‰éœ€è¦çš„äººçš„æ—¶å€™ï¼Œæ¯•ç«Ÿæˆ‘çš„å¿ƒé‡Œæ˜¯å¼€å¿ƒçš„ï¼Œç„¶åæ¥ç€ç»§ç»­æ•²æ•²æ•²ï¼ï¼ï¼</font></p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/gif/20190704180218.gif" loading="lazy"></p><h2 id="ä»£ç ä¸‹è½½ï¼š"><a href="#ä»£ç ä¸‹è½½ï¼š" class="headerlink" title="ä»£ç ä¸‹è½½ï¼š"></a>ä»£ç ä¸‹è½½ï¼š</h2><p>æƒ³ä¸€äº†ä¸‹ï¼Œè™½ç„¶ä¸Šé¢éƒ½è¿˜æ˜¯å•ç‹¬å¯ä»¥è¿è¡Œä»£ç ï¼Œå½“æ—¶æ˜¯å†³å®šæŠŠä»£ç é›†åˆå‘å¸ƒå‡ºæ¥ï¼Œå¯ä»¥å½“åšä¸€ä¸ªä»£ç æŸ¥çœ‹ï¼šä¸é‚£æ¯”è¾ƒå››ç§ä¸åŒçš„é€‚é…å™¨çš„åŒºåˆ«ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>using namespace std<span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span>  <span class="token comment">//ç®—æ³•</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional></span>  <span class="token comment">//å†…å»ºå‡½æ•°å¯¹è±¡</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional></span>  <span class="token comment">//é€‚é…å™¨</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string></span></span><span class="token comment">//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="token comment">//01 å‡½æ•°å¯¹è±¡é€‚é…å™¨</span>class MyPrint<span class="token operator">:</span> public binary_function<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token operator">></span><span class="token punctuation">&#123;</span>public<span class="token operator">:</span><span class="token keyword">void</span> <span class="token function">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">,</span> <span class="token keyword">int</span> nBase<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"val:"</span> <span class="token operator">&lt;&lt;</span> val <span class="token operator">&lt;&lt;</span> <span class="token string">"   nBase:"</span> <span class="token operator">&lt;&lt;</span> nBase <span class="token operator">&lt;&lt;</span> <span class="token string">"   val+nBase:"</span> <span class="token operator">&lt;&lt;</span> val <span class="token operator">+</span> nBase <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> v<span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> nBase <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span><span class="token function">for_each</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">bind2nd</span><span class="token punctuation">(</span><span class="token function">MyPrint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> nBase<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//for_each(v.begin(), v.end(), bind1st(MyPrint(), nBase));</span><span class="token punctuation">&#125;</span><span class="token comment">//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="token comment">//02å–åé€‚é…å™¨</span>class MyFindFour<span class="token operator">:</span> public unary_function<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> bool<span class="token operator">></span><span class="token punctuation">&#123;</span>public<span class="token operator">:</span>bool <span class="token function">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span>  <span class="token keyword">const</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> val <span class="token operator">></span> <span class="token number">4</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> v<span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//vector&lt;int>::iterator pos = find_if(v.begin(), v.end(), not1(MyFindFour()));</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">::</span>iterator pos <span class="token operator">=</span> <span class="token function">find_if</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">not1</span><span class="token punctuation">(</span><span class="token function">bind2nd</span><span class="token punctuation">(</span>greater<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>pos <span class="token operator">!=</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"å¤§(åˆ’æ‰ï¼Œæ”¹å°)äº4çš„æ•°å€¼ä¸º:"</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>pos <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token keyword">else</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æ— "</span>  <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="token comment">//03å‡½æ•°æŒ‡é’ˆé€‚é…å™¨</span><span class="token keyword">void</span> <span class="token function">MyPrintf</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">,</span> <span class="token keyword">int</span> nBase<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"val:"</span> <span class="token operator">&lt;&lt;</span> val <span class="token operator">&lt;&lt;</span> <span class="token string">"   nBase:"</span> <span class="token operator">&lt;&lt;</span> nBase <span class="token operator">&lt;&lt;</span> <span class="token string">"   val+nBase:"</span> <span class="token operator">&lt;&lt;</span> val <span class="token operator">+</span> nBase <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> v<span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> nBase <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span><span class="token function">for_each</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">bind2nd</span><span class="token punctuation">(</span><span class="token function">ptr_fun</span><span class="token punctuation">(</span>MyPrintf<span class="token punctuation">)</span><span class="token punctuation">,</span> nBase<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ³¨æ„è¿™ä¸€è¡Œï¼Œå‚æ•°3 æ˜¯ä½¿ç”¨çš„å‡½æ•°æŒ‡é’ˆ</span>cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="token comment">//04æˆå‘˜å‡½æ•°é€‚é…å™¨</span>class Person<span class="token punctuation">&#123;</span>public<span class="token operator">:</span><span class="token function">Person</span><span class="token punctuation">(</span>string name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token operator">:</span><span class="token function">m_strName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">m_nAge</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token operator">~</span><span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">MyPrintfPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"ç±»çš„æˆå‘˜å‡½æ•°MyPrintfPerson==ã€‹  å§“åï¼š"</span> <span class="token operator">&lt;&lt;</span> m_strName <span class="token operator">&lt;&lt;</span> <span class="token string">"   å¹´é¾„ï¼š"</span> <span class="token operator">&lt;&lt;</span> m_nAge <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>public<span class="token operator">:</span>string m_strName<span class="token punctuation">;</span><span class="token keyword">int</span> m_nAge<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">MyPrintf04</span><span class="token punctuation">(</span>Person<span class="token operator">&amp;</span> p<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"å‡½æ•°MyPrintf04==ã€‹  å§“åï¼š"</span> <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span>m_strName <span class="token operator">&lt;&lt;</span> <span class="token string">"   å¹´é¾„ï¼š"</span> <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span>m_nAge <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">test04</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>Person <span class="token function">p1</span><span class="token punctuation">(</span><span class="token string">"p1"</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p2</span><span class="token punctuation">(</span><span class="token string">"p2"</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p3</span><span class="token punctuation">(</span><span class="token string">"p3"</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p4</span><span class="token punctuation">(</span><span class="token string">"p4"</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p5</span><span class="token punctuation">(</span><span class="token string">"p5"</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p6</span><span class="token punctuation">(</span><span class="token string">"p6"</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>vector<span class="token operator">&lt;</span>Person<span class="token operator">></span> v<span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>p3<span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>p4<span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>p5<span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>p6<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//for_each(v.begin(), v.end(), MyPrintf04);  //æ³¨æ„è¿™ä¸€è¡Œï¼Œå‚æ•°3 æ˜¯ä½¿ç”¨çš„å‡½æ•°æŒ‡é’ˆ</span><span class="token function">for_each</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">mem_fun_ref</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>Person<span class="token operator">::</span>MyPrintfPerson<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æ³¨æ„è¿™ä¸€è¡Œï¼Œå‚æ•°3 æ˜¯ä½¿ç”¨çš„å‡½æ•°æŒ‡é’ˆ</span>cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//test01();</span><span class="token comment">//test02();</span><span class="token comment">//test03();</span><span class="token function">test04</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><p><strong>æœ¬åšæ–‡åŒæ­¥åˆ°csdnåšå®¢ï¼š</strong> <a href="https://blog.csdn.net/qq_33154343/article/details/95090677">TLæ¨¡æ¿ï¼Œé€‚é…å™¨çš„è®²è§£è¿ç”¨å’Œç¤ºèŒƒï¼šå‡½æ•°å¯¹è±¡é€‚é…å™¨ã€å–åé€‚é…å™¨ã€å‡½æ•°æŒ‡é’ˆé€‚é…å™¨ã€æˆå‘˜å‡½æ•°é€‚é…å™¨</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºä¸€ æŠ€æ³• </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>STLæ¨¡æ¿set/multisetå®¹å™¨æ’å…¥è‡ªå®šä¹‰æ•°æ®ç±»å‹æ’åº</title>
      <link href="/posts/a5ad800d/"/>
      <url>/posts/a5ad800d/</url>
      
        <content type="html"><![CDATA[<p>â€‹<strong>ç®€è¿°ï¼š</strong>  è§£å†³é”™è¯¯error C2678 ç±»å‹æ–¹æ¡ˆ<code>1&gt;c:\program files (x86)\microsoft visual studio 14.0\vc\include\xstddef(239): error C2678: äºŒè¿›åˆ¶â€œ&lt;â€: æ²¡æœ‰æ‰¾åˆ°æ¥å—â€œconst Personâ€ç±»å‹çš„å·¦æ“ä½œæ•°çš„è¿ç®—ç¬¦(æˆ–æ²¡æœ‰å¯æ¥å—çš„è½¬æ¢)</code></p><p>â€‹å¦å¤–å•ç‹¬ä¸¾ä¸€ä¸ªå®Œæ•´ç¤ºä¾‹ã€‚ä½¿ç”¨<code>STL</code>  æ¨¡æ¿çš„<code>set</code>å®¹å™¨ï¼Œå¯¹è‡ªå®šä¹‰çš„æ•°æ®ç±»å‹ï¼Œè¿›è¡Œç›¸åº”çš„æ’å…¥å’Œæ’åºã€‚å…·ä½“ä½¿ç”¨äº†<code>set</code>å’Œ<code>multiset</code>è¿›è¡Œä¸¾ä¾‹å­ï¼Œä»–ä»¬çš„åŒºåˆ«å’Œè”ç³»ï¼Œå’Œ<strong>ä½¿ç”¨è‡ªå®šä¹‰è§„åˆ™</strong>è¿›è¡Œæ’å…¥æ’åºã€‚ä»¥åŠ<strong>äºŒçº§æ’åº</strong>çš„ç¤ºèŒƒ</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  win10 x64 ä¸“ä¸šç‰ˆ</p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  visual studio 2015ï¼Œ Qt 5.9.8</p><h2 id="ç®€è¿°ï¼š"><a href="#ç®€è¿°ï¼š" class="headerlink" title="ç®€è¿°ï¼š"></a>ç®€è¿°ï¼š</h2><p>â€‹è§£å†³é”™è¯¯error C2678 ç±»å‹æ–¹æ¡ˆ</p><p><code>1&gt;c:\program files (x86)\microsoft visual studio 14.0\vc\include\xstddef(239): error C2678: äºŒè¿›åˆ¶â€œ&lt;â€: æ²¡æœ‰æ‰¾åˆ°æ¥å—â€œconst Personâ€ç±»å‹çš„å·¦æ“ä½œæ•°çš„è¿ç®—ç¬¦(æˆ–æ²¡æœ‰å¯æ¥å—çš„è½¬æ¢)</code></p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190706194654.png" loading="lazy"></p><p>å¦å¤–å•ç‹¬ä¸¾ä¸€ä¸ªå®Œæ•´ç¤ºä¾‹ã€‚ä½¿ç”¨<code>STL</code> æ¨¡æ¿çš„<code>set</code>å®¹å™¨ï¼Œå¯¹è‡ªå®šä¹‰çš„æ•°æ®ç±»å‹ï¼Œè¿›è¡Œç›¸åº”çš„æ’å…¥å’Œæ’åºã€‚å…·ä½“ä½¿ç”¨äº†<code>set</code>å’Œ<code>multiset</code>è¿›è¡Œä¸¾ä¾‹å­ï¼Œä»–ä»¬çš„åŒºåˆ«å’Œè”ç³»ï¼Œå’Œ<strong>ä½¿ç”¨è‡ªå®šä¹‰è§„åˆ™</strong>è¿›è¡Œæ’å…¥æ’åºã€‚ä»¥åŠ<strong>äºŒçº§æ’åº</strong>çš„ç¤ºèŒƒ</p><h2 id="é”™è¯¯åŸå› ï¼š"><a href="#é”™è¯¯åŸå› ï¼š" class="headerlink" title="é”™è¯¯åŸå› ï¼š"></a>é”™è¯¯åŸå› ï¼š</h2><p>ä½¿ç”¨<code>STL</code>  æ¨¡æ¿çš„<code>set</code>å®¹å™¨ï¼Œå¯¹è‡ªå®šä¹‰çš„æ•°æ®ç±»å‹ï¼Œè¿›è¡Œç›¸åº”çš„æ’å…¥å’Œæ’åºæ—¶å€™ã€‚è¿™é‡Œéœ€è¦é‡è½½<code>()</code>å‡½æ•°ï¼Œä¸ç„¶çš„è¯ï¼Œåœ¨stlçš„æºç åº•å±‚è°ƒç”¨çš„æ—¶å€™ï¼Œä¼šä¸è®¤è¯†ã€‚</p><p>ä¼šåœ¨11è¡Œå´©æºƒï¼ˆå¦‚ä¸‹ä¸ºSTLåº•å±‚æºç æŸ¥çœ‹ï¼‰ã€‚å°±å› ä¸ºä¸çŸ¥é“æ€ä¹ˆæŒ‰ç…§ï¼ˆè‡ªå®šä¹‰çš„ç±»å‹çš„ï¼‰<strong>ä»€ä¹ˆè§„åˆ™</strong>è¿›è¡Œæ’å…¥æ•°æ®åˆ°å®¹å™¨ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">// TEMPLATE STRUCT less</span>template<span class="token operator">&lt;</span>class _Ty <span class="token operator">=</span> <span class="token keyword">void</span><span class="token operator">></span><span class="token keyword">struct</span> <span class="token class-name">less</span><span class="token punctuation">&#123;</span><span class="token comment">// functor for operator&lt;</span><span class="token keyword">typedef</span> _Ty first_argument_type<span class="token punctuation">;</span><span class="token keyword">typedef</span> _Ty second_argument_type<span class="token punctuation">;</span><span class="token keyword">typedef</span> bool result_type<span class="token punctuation">;</span>constexpr bool <span class="token function">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> _Ty<span class="token operator">&amp;</span> _Left<span class="token punctuation">,</span> <span class="token keyword">const</span> _Ty<span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">&#123;</span><span class="token comment">// apply operator&lt; to operands</span><span class="token keyword">return</span> <span class="token punctuation">(</span>_Left <span class="token operator">&lt;</span> _Right<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="è§£å†³æ–¹æ¡ˆï¼š"><a href="#è§£å†³æ–¹æ¡ˆï¼š" class="headerlink" title="è§£å†³æ–¹æ¡ˆï¼š"></a>è§£å†³æ–¹æ¡ˆï¼š</h2><p>ä½¿ç”¨é‡è½½çš„åˆå§‹åŒ–å‡½æ•°ï¼Œæ·»åŠ ä¸€ä¸ªä»¿å‡½æ•°ï¼Œæˆ–è€…å›è°ƒå‡½æ•°ï¼ˆå…¶ä»–å®¹å™¨ï¼‰ï¼Œè¿›è¡Œä½¿ç”¨</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">set<span class="token operator">&lt;</span>Person<span class="token punctuation">,</span> MyCompare<span class="token operator">></span> s<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚ä¸‹ä¸¾ä¸€ä¸ªå®Œæˆçš„å®ä¾‹ã€‚</p><p>å…·ä½“ä½¿ç”¨äº†<code>set</code>å’Œ<code>multiset</code>è¿›è¡Œä¸¾ä¾‹å­ï¼Œä»–ä»¬çš„åŒºåˆ«å’Œè”ç³»ï¼Œå’Œ<strong>ä½¿ç”¨è‡ªå®šä¹‰è§„åˆ™</strong>è¿›è¡Œæ’å…¥æ’åºã€‚ä»¥åŠ<strong>äºŒçº§æ’åº</strong>çš„ç¤ºèŒƒ</p><h2 id="é¡¹ç›®èƒŒæ™¯ï¼š"><a href="#é¡¹ç›®èƒŒæ™¯ï¼š" class="headerlink" title="é¡¹ç›®èƒŒæ™¯ï¼š"></a>é¡¹ç›®èƒŒæ™¯ï¼š</h2><p>æ¼”ç¤º<code>set</code>å’Œ<code>multiset</code>çš„ç”¨æ³•ï¼Œå…¶ä¸­multisetå’Œsetä¸€æ ·ï¼Œå”¯ä¸€åŒºåˆ«ï¼šå…è®¸é”®å€¼é‡å¤ã€‚</p><p>ä½¿ç”¨<code>multiset</code>å¯¹å¤šä¸ªæ•°æ®å¯¹è±¡ï¼Œè¿›è¡Œ&#x3D;&#x3D;ä¸€å®šè§„åˆ™ï¼ˆäºŒçº§æ’åºæ–¹å¼ï¼‰&#x3D;&#x3D;æ’å…¥åˆ°å®¹å™¨é‡Œé¢ã€‚</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190706192722.png" loading="lazy"></p><h2 id="æ€è·¯æ¶æ„ï¼š"><a href="#æ€è·¯æ¶æ„ï¼š" class="headerlink" title="æ€è·¯æ¶æ„ï¼š"></a>æ€è·¯æ¶æ„ï¼š</h2><ul><li><p>åˆ›æ–°è‡ªå®šä¹‰çš„<code>Person</code>æ•°æ®ç±»å‹</p></li><li><p>åˆ›å»º<code>Person</code>å¯¹è±¡</p></li><li><p>åˆ›å»ºä»¿å‡½æ•°**<code>MyCompare</code>**ï¼Œ</p></li><li><p>åˆ›å»ºå®¹å™¨<code>s</code></p></li><li><p>å°†<code>Person</code>å¯¹è±¡æ’å…¥<code>multiset</code>å®¹å™¨ï¼ˆä¸ºäº†æ¼”ç¤ºäºŒçº§æ’åºï¼Œéœ€è¦æœ‰é‡å¤çš„æ•°å€¼ï¼Œæ•…ä½¿ç”¨multisetï¼‰</p></li><li><p>æ‰“å°å®¹å™¨<code>s</code>é‡Œé¢çš„ç»“æœ</p></li></ul><h2 id="å…·ä½“æ­¥éª¤ï¼š"><a href="#å…·ä½“æ­¥éª¤ï¼š" class="headerlink" title="å…·ä½“æ­¥éª¤ï¼š"></a>å…·ä½“æ­¥éª¤ï¼š</h2><p>ä¸Šä»£ç ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>using namespace std<span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;set></span>  <span class="token comment">//setå’Œmultisetå‡ä½¿ç”¨æ­¤å¤´æ–‡ä»¶</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string></span></span><span class="token comment">//è‡ªå®šä¹‰ç±»å‹</span>class Person  <span class="token punctuation">&#123;</span>public<span class="token operator">:</span><span class="token function">Person</span><span class="token punctuation">(</span>string name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">,</span> <span class="token keyword">int</span> height<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">m_strname</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">m_nAge</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">m_nHeight</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token operator">~</span><span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>public<span class="token operator">:</span>string m_strname<span class="token punctuation">;</span><span class="token keyword">int</span> m_nAge<span class="token punctuation">;</span><span class="token keyword">int</span> m_nHeight<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">//åˆ©ç”¨ä»¿å‡½æ•° æŒ‡å®šsetå®¹å™¨çš„æ’åº</span>class MyCompare <span class="token punctuation">&#123;</span>public<span class="token operator">:</span>bool <span class="token function">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span>Person p1<span class="token punctuation">,</span> Person p2<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>p1<span class="token punctuation">.</span>m_nAge <span class="token operator">==</span> p2<span class="token punctuation">.</span>m_nAge<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> p1<span class="token punctuation">.</span>m_nHeight <span class="token operator">></span> p2<span class="token punctuation">.</span>m_nHeight<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> p1<span class="token punctuation">.</span>m_nAge <span class="token operator">&lt;</span> p2<span class="token punctuation">.</span>m_nAge<span class="token punctuation">;</span>  <span class="token comment">//å¹´é¾„ä»å°åˆ°å¤§æ’åº</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">printfSet</span><span class="token punctuation">(</span>multiset<span class="token operator">&lt;</span>Person<span class="token punctuation">,</span> MyCompare<span class="token operator">></span><span class="token operator">&amp;</span> s<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span> <span class="token punctuation">(</span>multiset<span class="token operator">&lt;</span>Person<span class="token punctuation">,</span> MyCompare<span class="token operator">></span><span class="token operator">::</span>iterator it <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> s<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"å§“åï¼š"</span> <span class="token operator">&lt;&lt;</span> it<span class="token operator">-></span>m_strname <span class="token operator">&lt;&lt;</span> <span class="token string">"  å¹´é¾„ï¼š"</span> <span class="token operator">&lt;&lt;</span> it<span class="token operator">-></span>m_nAge <span class="token operator">&lt;&lt;</span> <span class="token string">" èº«é«˜ï¼š"</span> <span class="token operator">&lt;&lt;</span> it<span class="token operator">-></span>m_nHeight <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>Person <span class="token function">p1</span><span class="token punctuation">(</span><span class="token string">"p1"</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">109</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p2</span><span class="token punctuation">(</span><span class="token string">"p2"</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">109</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p3</span><span class="token punctuation">(</span><span class="token string">"p3"</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p4</span><span class="token punctuation">(</span><span class="token string">"p4"</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span>  <span class="token number">79</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p5</span><span class="token punctuation">(</span><span class="token string">"p5"</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">109</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p6</span><span class="token punctuation">(</span><span class="token string">"p6"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Person <span class="token function">p7</span><span class="token punctuation">(</span><span class="token string">"p7"</span><span class="token punctuation">,</span>  <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">199</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//set&lt;Person> s;  //ç›´æ¥å†™ï¼Œä¸çŸ¥æŒ‰ç…§ä»€ä¹ˆâ€œå¤§å°è§„åˆ™â€è¿›è¡Œæ’å…¥</span><span class="token comment">//set&lt;Person, MyCompare> s;   //åŠ å…¥ä»¿å‡½æ•°ï¼Œ ä½¿ç”¨â€œè‡ªå®šä¹‰è§„åˆ™â€æ’å…¥æ’åº</span>multiset<span class="token operator">&lt;</span>Person<span class="token punctuation">,</span> MyCompare<span class="token operator">></span> s<span class="token punctuation">;</span>   s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span>s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span>s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>p3<span class="token punctuation">)</span><span class="token punctuation">;</span>s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>p4<span class="token punctuation">)</span><span class="token punctuation">;</span>s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>p5<span class="token punctuation">)</span><span class="token punctuation">;</span>s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>p6<span class="token punctuation">)</span><span class="token punctuation">;</span>s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>p7<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printfSet</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="è¿è¡Œæ¼”ç¤ºï¼š"><a href="#è¿è¡Œæ¼”ç¤ºï¼š" class="headerlink" title="è¿è¡Œæ¼”ç¤ºï¼š"></a>è¿è¡Œæ¼”ç¤ºï¼š</h2><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190706193625.png" loading="lazy"></p><h2 id="ç»†èŠ‚æ–¹é¢ï¼š"><a href="#ç»†èŠ‚æ–¹é¢ï¼š" class="headerlink" title="ç»†èŠ‚æ–¹é¢ï¼š"></a>ç»†èŠ‚æ–¹é¢ï¼š</h2><p>æ³¨æ„åˆ†æè¿™ä¸€æ®µï¼Œå…¶ä»–å®¹å™¨å¯èƒ½ä¼šæ˜¯ <strong>å›è°ƒå‡½æ•°ï¼ˆå‡½æ•°æŒ‡é’ˆï¼‰</strong>;</p><p>å¦‚ä¸‹è‡ªå®šä¹‰çš„æ•°æ®ç±»å‹è§„åˆ™æ’åºæ˜¯ï¼š</p><ol><li><strong>å…ˆæŒ‰ç…§å¹´é¾„æ’åºï¼Œå¹´é¾„ç”±å°åˆ°å¤§</strong></li><li><strong>è‹¥å¹´é¾„ç›¸åŒï¼Œåˆ™æŒ‰ç…§èº«é«˜ç”±å¤§åˆ°å°æ’åº</strong></li></ol><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">//åˆ©ç”¨ä»¿å‡½æ•° æŒ‡å®šsetå®¹å™¨çš„æ’åº</span>class MyCompare <span class="token punctuation">&#123;</span>public<span class="token operator">:</span>bool <span class="token function">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span>Person p1<span class="token punctuation">,</span> Person p2<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>p1<span class="token punctuation">.</span>m_nAge <span class="token operator">==</span> p2<span class="token punctuation">.</span>m_nAge<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> p1<span class="token punctuation">.</span>m_nHeight <span class="token operator">></span> p2<span class="token punctuation">.</span>m_nHeight<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> p1<span class="token punctuation">.</span>m_nAge <span class="token operator">&lt;</span> p2<span class="token punctuation">.</span>m_nAge<span class="token punctuation">;</span>  <span class="token comment">//å¹´é¾„ä»å°åˆ°å¤§æ’åº</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™é‡Œéœ€è¦é‡è½½<code>()</code>å‡½æ•°ï¼Œä¸ç„¶çš„è¯ï¼Œåœ¨stlçš„æºç åº•å±‚è°ƒç”¨çš„æ—¶å€™ï¼Œå¦åˆ™ä¼šä¸è®¤è¯†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºä¸€ æŠ€æ³• </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>OpenMeshæ¨¡å‹åˆ†å‰²ï¼šåŒºåŸŸå¢é•¿å®ç°</title>
      <link href="/posts/93376726/"/>
      <url>/posts/93376726/</url>
      
        <content type="html"><![CDATA[<p>â€‹å°†ä¸€ä¸ªæ•°æ®ç»“æ„çš„æ¨¡å‹OpenMeshè¿›è¡Œåˆ†å‰²ï¼Œç”¨åŒºåŸŸå¢é•¿çš„æ–¹å¼ï¼Œæ¥éå†æ‰€æœ‰ï¼Œä¸”æ­¤ç®—æ³•è€—æ—¶æ¯”è¾ƒçŸ­ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ç®€è¿°ï¼š"><a href="#ç®€è¿°ï¼š" class="headerlink" title="ç®€è¿°ï¼š"></a>ç®€è¿°ï¼š</h2><p>â€‹å°†ä¸€ä¸ªæ•°æ®ç»“æ„çš„æ¨¡å‹OpenMeshè¿›è¡Œåˆ†å‰²ï¼Œç”¨åŒºåŸŸå¢é•¿çš„æ–¹å¼ï¼Œæ¥éå†æ‰€æœ‰ï¼Œä¸”æ­¤ç®—æ³•è€—æ—¶æ¯”è¾ƒçŸ­ã€‚</p><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>Win10 x64 ä¸“ä¸šç‰ˆ</p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong> visual studio 2015</p><h2 id="æ€è·¯ï¼š"><a href="#æ€è·¯ï¼š" class="headerlink" title="æ€è·¯ï¼š"></a>æ€è·¯ï¼š</h2><ol><li>å°†æ‰€æœ‰çš„é¢è¿›è¡Œæ ‡è®°ä¸º-1(è¡¨ç¤ºæ²¡æœ‰å±äºé‚£ä¸€å—)å’Œfalse(è¡¨ç¤ºè¿˜æ²¡æœ‰éå†è¿‡)</li><li>é€‰æ‹©ä¸€ä¸ªç§å­é¢fhSeedï¼Œç„¶åå‘å®ƒçš„å‘¨è¾¹ç›¸é‚»çš„(ä¸‰ä¸ªï¼‰é¢è¿›è¡ŒåŒºåŸŸå¢é•¿ï¼Œä¹Ÿç»™åšä¸Šæ ‡</li><li>å¯¹äºè¿™ä¸‰ä¸ªé¢ï¼Œä¹ŸæŠŠå®ƒä½œä¸ºä¸€ä¸ªæ–°çš„é¢ï¼Œç„¶åå‘è‡ªå·±å‘¨è¾¹è¿›è¡Œå¢é•¿ï¼ˆç„¶åè¾å°„å‘¨è¾¹ï¼‰</li><li>ç„¶åç”¨ä¸€ä¸ªå°çš„å®¹å™¨å‚¨å­˜ï¼Œæ­£åœ¨å¢é•¿çš„é¢ï¼Œæ¯æ¬¡å¢é•¿ç»“æŸï¼Œå°±æŠŠè‡ªå·±è¿™ä¸ªå·²ç»éå†è¿‡çš„é¢ï¼Œä»å®¹å™¨ä¸­åˆ é™¤ï¼Œå½“å®¹å™¨å€¼ä¸º0çš„æ—¶å€™ï¼Œä¾¿æ˜¯ä¸€å—å®Œæ•´çš„è¢«éå†å‡ºæ¥äº†</li><li>é‡å¤ä»¥ä¸Š2-3-4æ­¥éª¤</li><li>å°†å·²ç»éå†äº†çš„é¢ï¼Œæ‰“ä¸Šæ ‡è®°ï¼Œå·²ç»æ ‡è®°äº†çš„ï¼Œä¸åœ¨æ ‡è®°ï¼›å½“æ‰€æœ‰çš„é¢å…¨éƒ¨éƒ½éå†ç»“æŸï¼Œä¹Ÿå°±åˆ†å‰²å¼€äº†ï¼ˆè¿™æ ·çš„è¯ï¼Œä¸€ä¸ªç‰©ä½“çš„é¢ï¼Œå±äºå“ªä¸€å—ï¼Œéƒ½è¢«æ ‡è®°å‡ºæ¥äº†ï¼‰ã€‚</li></ol><h2 id="ä»£ç ï¼š"><a href="#ä»£ç ï¼š" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h2><p>â€‹å‡è®¾å…¶ä¸­çš„ä¸€ä¸ªæ¨¡å‹å˜é‡ä¸º ï¼š<code>RefineMesh refineMeshNew</code>;</p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">OpenMesh::FPropHandleT&lt;int&gt; FPropTriMark;    &#x2F;&#x2F;å±äºé‚£ä¸€å—OpenMesh::FPropHandleT&lt;bool&gt; FPropTriFlag;   &#x2F;&#x2F;æ˜¯å¦éå†è¿‡refineMeshNew.add_property(FPropTriMark, &quot;FPropTriMark&quot;);refineMeshNew.add_property(FPropTriFlag, &quot;FPropTriFlag&quot;);for (auto f_it &#x3D; refineMeshNew.faces_begin(); f_it !&#x3D; refineMeshNew.faces_end(); f_it++)&#123;refineMeshNew.property(FPropTriMark, *f_it) &#x3D; -1;refineMeshNew.property(FPropTriFlag, *f_it) &#x3D; false;&#125;int nMark &#x3D; 0; &#x2F;&#x2F;æ ‡è®°å±äºå“ªä¸€å—Mesh&#x2F;&#x2F;å¤–å±‚å¾ªç¯------------------------------------------------------------------------------while (true)&#123;&#x2F;&#x2F;å¤–å±‚ç»“æŸæ ‡å¿—OpenMesh::FaceHandle fhSeed;for (auto f_itTemp &#x3D; refineMeshNew.faces_begin(); f_itTemp !&#x3D; refineMeshNew.faces_end(); f_itTemp++)&#123;if (!refineMeshNew.property(FPropTriFlag, *f_itTemp))&#123;fhSeed &#x3D; *f_itTemp;break;&#125;&#125;if (!fhSeed.is_valid())break;refineMeshNew.property(FPropTriFlag, fhSeed) &#x3D; true;refineMeshNew.property(FPropTriMark, fhSeed) &#x3D; nMark;vector&lt;OpenMesh::FaceHandle&gt; vecMarkFH;vecMarkFH.push_back(fhSeed);&#x2F;&#x2F;å†…å±‚å¾ªç¯------------------------------------------------------------------------------while (true)&#123;if (vecMarkFH.size() &#x3D;&#x3D; 0)break;OpenMesh::FaceHandle fhTemp &#x3D; vecMarkFH[0];for (auto ff_it &#x3D; refineMeshNew.ff_iter(fhTemp); ff_it !&#x3D; refineMeshNew.ff_end(fhTemp); ff_it++)&#123;if (!refineMeshNew.property(FPropTriFlag, *ff_it))&#123;refineMeshNew.property(FPropTriFlag, *ff_it) &#x3D; true;refineMeshNew.property(FPropTriMark, *ff_it) &#x3D; nMark;&#125;&#125;vecMarkFH.erase(vecMarkFH.begin());&#125;nMark++;&#125;&#x2F;&#x2F;å¤–å±‚å¾ªç¯ç»“æŸ------------------------------------------------------------------------------<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ•ˆç‡ï¼š"><a href="#æ•ˆç‡ï¼š" class="headerlink" title="æ•ˆç‡ï¼š"></a>æ•ˆç‡ï¼š</h2><p>â€‹ç»è¿‡æµ‹è¯•ï¼Œç”¨æ­¤ç®—æ³•ï¼Œéå†ä¸€ä¸ªæœ‰å››åƒå¤šä¸‡ï¼ˆ40, 000, 000å¤šï¼‰ä¸ªé¢çš„æ•°æ®æ¨¡å‹ï¼Œåªéœ€è¦è€—è´¹æ—¶é—´çº¦<code>6s</code>ï¼Œæ¯”æˆ‘è‡ªå·±å…ˆå‰å†™çš„ä¸€ä¸ªæ€è·¯ï¼Œè€—æ—¶æ•ˆç‡è¦é«˜å¾—å¤š</p><p>&#x2F;&#x2F;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</p><h2 id="æ›´æ–°ï¼š"><a href="#æ›´æ–°ï¼š" class="headerlink" title="æ›´æ–°ï¼š"></a>æ›´æ–°ï¼š</h2><p><font color=#D0087E size=4 face="å¹¼åœ†"><strong>æ›´æ–°æ—¶é—´ï¼š</strong>Â 2019-7-9 17:35:43</font></p><p><font color=#D0087E size=4 face="å¹¼åœ†"><strong>æ›´æ–°å†…å®¹ï¼š</strong> </font>å¢åŠ æœ‰åˆ†å‰²åçš„å¤šä¸ªæ¨¡å‹å¯¼å‡ºçš„ä»£ç åˆ†äº«</p><p>å°†ä¸‹é¢çš„<code>mesh</code>æ›¿æ¢æˆåˆ†å‰²ä¹‹åçš„pMesh,åˆ†å‰²æˆä¸ºå¤šä¸ªçš„æ—¶å€™ï¼Œå»ºè®®ä½¿ç”¨<code>Vector&lt;pMesh&gt; v</code>æ¥å­˜å‚¨ï¼Œç„¶åä½¿ç”¨1è¡Œé‡Œé¢çš„ä»£ç æ›¿æ¢æ‰<code>mesh</code>ä¸º<code>v[i]</code>å³å¯ï¼›</p><p><strong>æç¤ºï¼š</strong> å› ä¸ºä¸Šé¢ä»£ç å·²ç»å°†æ¨¡å‹åšäº†åŒºåˆ†ï¼Œç„¶åä½¿ç”¨forå¾ªç¯ï¼Œç›´æ¥æŒ‰ç…§æ ‡è®°æ‰€å±äºçš„ï¼Œç›´æ¥è¾“å‡ºï¼›äº¦å¯ä»¥å³å¯å°†å„è‡ªçš„ç‚¹ã€é¢ã€åŠè¾¹ã€çº¹ç†ç­‰å±æ€§èµ‹å€¼ç»™ä¸€ä¸ªæ–°çš„<code>pMesh</code>å³å¯ï¼›</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>OpenMesh<span class="token operator">::</span>IO<span class="token operator">::</span><span class="token function">write_mesh</span><span class="token punctuation">(</span>mesh<span class="token punctuation">,</span> <span class="token string">"output.off"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    std<span class="token operator">::</span>cerr <span class="token operator">&lt;&lt;</span> <span class="token string">"Cannot write mesh to file 'output.off'"</span> <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><hr><p><strong>æœ¬åšæ–‡åŒæ­¥åˆ°csdnåšå®¢ï¼š</strong> <a href="https://blog.csdn.net/qq_33154343/article/details/93505922#comments">OpenMeshæ¨¡å‹åˆ†å‰²ï¼šåŒºåŸŸå¢é•¿å®ç°</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºä¸€ æŠ€æ³• </category>
          
          <category> å­¦ä¹  - OpenMesh </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>OpenMeshå…¥é—¨ï¼Œå®‰è£…ï¼Œè¿è¡Œç¤ºä¾‹Hello World</title>
      <link href="/posts/8b2d5fcb/"/>
      <url>/posts/8b2d5fcb/</url>
      
        <content type="html"><![CDATA[<p><strong>ç®€è¿°ï¼š</strong>  äº†è§£OpenMeshï¼Œå­¦ä¼šå®‰è£…ï¼Œå°è¯•åœ¨c++é‡Œé¢ä½¿ç”¨OpenMeshï¼Œä¹¦å†™ä¸€ä¸ªç®€å•åœ°ä¾‹å­ã€‚</p><span id="more"></span><p>[TOC]</p><br><blockquote><p><font color=#D0087E size=4 face="STFangsong">æœ¬æ–‡åˆå‘äº â€œ<a href="https://xmuli.tech/"><strong>å•è‡§çš„å°ç«™</strong></a>â€œï¼ŒåŒæ­¥è½¬è½½äºæ­¤ã€‚</font></p></blockquote><br><h2 id="ç®€è¿°ï¼š"><a href="#ç®€è¿°ï¼š" class="headerlink" title="ç®€è¿°ï¼š"></a>ç®€è¿°ï¼š</h2><p>â€‹äº†è§£OpenMeshï¼Œå­¦ä¼šå®‰è£…ï¼Œå°è¯•åœ¨c++é‡Œé¢ä½¿ç”¨OpenMeshï¼Œä¹¦å†™ä¸€ä¸ªç®€å•åœ°ä¾‹å­ã€‚</p><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>Win10 x64 ä¸“ä¸šç‰ˆ</p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong> visual studio 2015</p><h2 id="ä¸‹è½½OpenMeshåº“ï¼š"><a href="#ä¸‹è½½OpenMeshåº“ï¼š" class="headerlink" title="ä¸‹è½½OpenMeshåº“ï¼š"></a>ä¸‹è½½OpenMeshåº“ï¼š</h2><p>è¿›å…¥OpenMeshå®˜ç½‘<a href="http://www.openmesh.org/"><strong>OpenMeshå®˜ç½‘</strong></a>ï¼Œä¸‹è½½ä¸‹é¢çš„æ–‡ä»¶ï¼š</p><p>å¤‡ç”¨githubç›´æ¥ä¸‹è½½ï¼š<a href="https://github.com/xmuli/openMesh/blob/master/software/OpenMesh-8.0-VS2015-64-Bit-no-apps.exe"><strong>OpenMesh-8.0-VS2015-64-Bit-no-apps.exe</strong></a></p><h2 id="é…ç½®OpenMeshè¿è¡Œç¯å¢ƒï¼š"><a href="#é…ç½®OpenMeshè¿è¡Œç¯å¢ƒï¼š" class="headerlink" title="é…ç½®OpenMeshè¿è¡Œç¯å¢ƒï¼š"></a>é…ç½®OpenMeshè¿è¡Œç¯å¢ƒï¼š</h2><h3 id="å®‰è£…OpenMeshç¨‹åºï¼š"><a href="#å®‰è£…OpenMeshç¨‹åºï¼š" class="headerlink" title="å®‰è£…OpenMeshç¨‹åºï¼š"></a>å®‰è£…OpenMeshç¨‹åºï¼š</h3><p>å®‰è£…OpenMesh-8.0-VS2015-64-Bit-no-apps.exeç¨‹åº</p><p>æ ‡å‡†å®‰è£…ï¼š<img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190621135333.png" loading="lazy"></p><h3 id="åˆ›å»ºå·¥ç¨‹ï¼š"><a href="#åˆ›å»ºå·¥ç¨‹ï¼š" class="headerlink" title="åˆ›å»ºå·¥ç¨‹ï¼š"></a>åˆ›å»ºå·¥ç¨‹ï¼š</h3><p>åˆ›å»ºä¸€ä¸ªæ–°çš„ï¼ˆç©ºçš„ é¡¹ç›®å·¥ç¨‹ï¼‰è§£å†³æ–¹æ¡ˆï¼šæ¯”å¦‚é¡¹ç›®åç§°å«<code>TestOpenMesh</code><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/1561096684097.png" loading="lazy"></p><h3 id="é…ç½®OpenMeshçš„è¿è¡Œç¯å¢ƒ"><a href="#é…ç½®OpenMeshçš„è¿è¡Œç¯å¢ƒ" class="headerlink" title="é…ç½®OpenMeshçš„è¿è¡Œç¯å¢ƒ:"></a>é…ç½®OpenMeshçš„è¿è¡Œç¯å¢ƒ:</h3><p><strong>åœ¨Debugæ¨¡å¼ é€‰æ‹©x64:</strong></p><ul><li><strong>é…ç½®<include>å¤´æ–‡ä»¶ï¼š</strong></li></ul><p>æ‰“å¼€<code>é¡¹ç›®å±æ€§-VC++ç›®å½•-åŒ…å«ç›®å½•</code>ï¼Œæ·»åŠ åŒ…å«ç›®å½•<code>C:\Program Files\OpenMesh 8.0\include</code>å¦‚ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/1561097612511.png" loading="lazy"></p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190621165309.png" loading="lazy"></p><ul><li><strong>é…ç½®åº“<lib>æ–‡ä»¶ï¼š</strong></li></ul><p>æ‰“å¼€<code>é¡¹ç›®å±æ€§-é“¾æ¥å™¨-å¸¸è§„-é™„åŠ ä¾èµ–åº“ç›®å½•</code>ï¼Œæ·»åŠ é™„åŠ åº“ç›®å½•<code>C:\Program Files\OpenMesh 8.0\lib</code>å¦‚ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190621141706.png" loading="lazy"></p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190621141801.png" loading="lazy"></p><ul><li><em><em>é…ç½®é™„åŠ ä¾èµ–é¡¹</em>.libæ–‡ä»¶ï¼š</em>*</li></ul><p>æ‰“å¼€<code>é¡¹ç›®å±æ€§-é“¾æ¥å™¨-è¾“å…¥-é™„åŠ ä¾èµ–é¡¹</code>ï¼Œæ·»åŠ é™„åŠ åº“ç›®å½•<code>OpenMeshCored.lib </code>å’Œ <code>OpenMeshToolsd.lib</code>å¦‚ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/1561098167619.png" loading="lazy"></p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190621165622.png" loading="lazy"></p><ul><li><strong>é…ç½®é¢„å¤„ç†å™¨æ·»åŠ å®</strong></li></ul><p>(å¯èƒ½æœ‰çš„ç¬¬ä¸‰æ–¹åº“éœ€è¦ï¼Œæœ‰çš„ç¬¬ä¸‰æ–¹åº“ä¸éœ€è¦è¿™ä¸€æ­¥æ“ä½œ)ï¼š</p><p>æ‰“å¼€<code>é¡¹ç›®å±æ€§-V/c++-é¢„å¤„ç†å™¨</code>ï¼Œæ·»åŠ é™„åŠ å®<code>_USE_MATH_DEFINES</code></p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/1561098274278.png" loading="lazy"></p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190621142613.png" loading="lazy"></p><p>ä¸€å…±ç»è¿‡è¿™ä¸‰æ­¥éª¤ï¼Œå°±å…¨éƒ¨é…ç½®å¥½äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æ·»åŠ å…·ä½“çš„ä»£ç äº†ã€‚</p><h2 id="æ·»åŠ ç¤ºä¾‹ç¨‹åºï¼š"><a href="#æ·»åŠ ç¤ºä¾‹ç¨‹åºï¼š" class="headerlink" title="æ·»åŠ ç¤ºä¾‹ç¨‹åºï¼š"></a>æ·»åŠ ç¤ºä¾‹ç¨‹åºï¼š</h2><p>æ·»åŠ å¦‚ä¸‹ä»£ç åˆ°åˆ›å»ºçš„<code>TestOpenMesh.cpp</code>ä¸‹é¢ï¼š</p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;&#x2F;&#x2F; -------------------- OpenMesh#include &lt;OpenMesh\&#x2F;Core&#x2F;IO&#x2F;MeshIO.hh&gt;#include &lt;OpenMesh&#x2F;Core&#x2F;Mesh&#x2F;PolyMesh_ArrayKernelT.hh&gt;using namespace std; typedef OpenMesh::PolyMesh_ArrayKernelT&lt;&gt;  MyMesh;int main()&#123;MyMesh mesh;MyMesh::VertexHandle vhandle[8];vhandle[0] &#x3D; mesh.add_vertex(MyMesh::Point(-1, -1, 1));vhandle[1] &#x3D; mesh.add_vertex(MyMesh::Point(1, -1, 1));vhandle[2] &#x3D; mesh.add_vertex(MyMesh::Point(1, 1, 1));vhandle[3] &#x3D; mesh.add_vertex(MyMesh::Point(-1, 1, 1));vhandle[4] &#x3D; mesh.add_vertex(MyMesh::Point(-1, -1, -1));vhandle[5] &#x3D; mesh.add_vertex(MyMesh::Point(1, -1, -1));vhandle[6] &#x3D; mesh.add_vertex(MyMesh::Point(1, 1, -1));vhandle[7] &#x3D; mesh.add_vertex(MyMesh::Point(-1, 1, -1));&#x2F;&#x2F; generate (quadrilateral) facesstd::vector&lt;MyMesh::VertexHandle&gt;  face_vhandles;face_vhandles.clear();face_vhandles.push_back(vhandle[0]);face_vhandles.push_back(vhandle[1]);face_vhandles.push_back(vhandle[2]);face_vhandles.push_back(vhandle[3]);mesh.add_face(face_vhandles); face_vhandles.clear();face_vhandles.push_back(vhandle[7]);face_vhandles.push_back(vhandle[6]);face_vhandles.push_back(vhandle[5]);face_vhandles.push_back(vhandle[4]);mesh.add_face(face_vhandles); face_vhandles.clear();face_vhandles.push_back(vhandle[1]);face_vhandles.push_back(vhandle[0]);face_vhandles.push_back(vhandle[4]);face_vhandles.push_back(vhandle[5]);mesh.add_face(face_vhandles); face_vhandles.clear();face_vhandles.push_back(vhandle[2]);face_vhandles.push_back(vhandle[1]);face_vhandles.push_back(vhandle[5]);face_vhandles.push_back(vhandle[6]);mesh.add_face(face_vhandles); face_vhandles.clear();face_vhandles.push_back(vhandle[3]);face_vhandles.push_back(vhandle[2]);face_vhandles.push_back(vhandle[6]);face_vhandles.push_back(vhandle[7]);mesh.add_face(face_vhandles); face_vhandles.clear();face_vhandles.push_back(vhandle[0]);face_vhandles.push_back(vhandle[3]);face_vhandles.push_back(vhandle[7]);face_vhandles.push_back(vhandle[4]);mesh.add_face(face_vhandles); &#x2F;&#x2F; write mesh to output.objtry&#123;if (!OpenMesh::IO::write_mesh(mesh, &quot;output.off&quot;))&#123;std::cerr &lt;&lt; &quot;Cannot write mesh to file &#39;output.off&#39;&quot; &lt;&lt; std::endl;return 1;&#125;&#125;catch (std::exception&amp; x)&#123;std::cerr &lt;&lt; x.what() &lt;&lt; std::endl;return 1;&#125;return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="è¿è¡Œè¯¥é¡¹ç›®ï¼š"><a href="#è¿è¡Œè¯¥é¡¹ç›®ï¼š" class="headerlink" title="è¿è¡Œè¯¥é¡¹ç›®ï¼š"></a>è¿è¡Œè¯¥é¡¹ç›®ï¼š</h2><p>åœ¨vs 2015 é‡Œé¢æŒ‰ä¸‹<code>Ctrl + F5</code>ï¼Œè¿è¡Œè¯¥é¡¹ç›®</p><p>çœ‹åˆ°è¿è¡ŒæˆåŠŸï¼š</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190621143426.png" loading="lazy"></p><h2 id="éªŒè¯æˆåŠŸï¼š"><a href="#éªŒè¯æˆåŠŸï¼š" class="headerlink" title="éªŒè¯æˆåŠŸï¼š"></a>éªŒè¯æˆåŠŸï¼š</h2><p>æ‰“å¼€<code>D:\programming\OpenMesh\TestOpenMesh\TestOpenMesh</code>ç›®å½•ä¸‹ï¼ŒæŸ¥çœ‹æ˜¯å¦ç”Ÿæˆ<code>output.off</code>æ–‡ä»¶</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190621143552.png" loading="lazy"></p><p>ä½¿ç”¨MeshLabæ‰“å¼€è¿™ä¸ª<code>output.off</code>æ–‡ä»¶ï¼Œçœ‹çœ‹æ—¶å€™åŠ è½½ä¹‹åï¼Œæ˜¾ç¤ºæ˜¯å¦æˆåŠŸ</p><p>MeshLabå®˜ç½‘ä¸‹è½½åœ°å€ï¼š<a href="http://www.meshlab.net/#download">MeshLabå®˜ç½‘</a></p><p>å¤‡ç”¨githubç›´æ¥ä¸‹è½½ï¼š<a href="https://github.com/touwoyimuli/2019_06_OpenMesh/blob/master/software/MeshLab2016.12.exe"><strong>MeshLab2016.12.exe</strong></a></p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190621144002.png" loading="lazy"></p><p>é€‰ä¸­è¯¥<code>output.off</code>æ–‡ä»¶ï¼Œæ‰“å¼€ï¼š</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190621144405.png" loading="lazy"></p><p>å‘ç°è¿è¡ŒæˆåŠŸï¼š</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/master/img/20190621144507.png" loading="lazy"></p><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p>æºç ï¼š<a href="https://github.com/xmuli/openMesh/tree/master/TestOpenMesh"><strong>TestOpenMeshæºç </strong></a></p><h2 id="å¿ƒå¾—ï¼š"><a href="#å¿ƒå¾—ï¼š" class="headerlink" title="å¿ƒå¾—ï¼š"></a>å¿ƒå¾—ï¼š</h2><p>OpenMeshçš„ç½‘ä¸Šæ•™ç¨‹æ„Ÿè§‰éƒ½æ˜¯ååˆ†çš„å°‘ï¼Œå”¯ä¸€æ¯”è¾ƒå…¨é¢çš„è¯ï¼Œå¯èƒ½å°±æ˜¯ç›¸å…³çš„è‹±æ–‡æ–‡æ¡£ï¼Œç„¶é¹…ï¼Œé‡Œé¢æ¶‰åŠçš„æ¦‚å¿µå¾ˆå¤šï¼Œä¸”åœ¨ç°åœ¨å·¥ä½œäº†å‘ç°éƒ½æ˜¯ç›´æ¥ä¸Šæ‰‹ï¼Œæ ¹æœ¬ä¸ä¼šè®©ä½ å»ç³»ç»Ÿçš„å­¦ä¹ OpenMeshçš„ç›¸å…³çŸ¥è¯†ï¼Œæ—¶é—´ä»“ä¿ƒï¼Œä¸”ç³»ç»Ÿå­¦ä¹ ï¼Œæ‰€è€—è´¹çš„æ—¶é—´å’Œç²¾åŠ›ï¼Œä¹Ÿå®¹æ˜“ä½¿å¾—äººæ¯”è¾ƒå€¦æ€ ã€‚æ•…æ­¤å¥½çš„è§£å†³æ–¹æ³•å°±æ˜¯ï¼Œå°±æ˜¯ç›´æ¥åœ¨é¡¹ç›®ä¸­ç›´æ¥ä¸Šæ‰‹ï¼›</p><p>å¯ä»¥æŒ‰ç…§å¦‚ä¸‹æ­¥éª¤å®ç°ï¼š</p><ol><li>-&gt;ä»äº†è§£OpenMesh</li><li>-&gt;ä½ æ‰€éœ€è¦çš„é¡¹ç›®éœ€æ±‚çš„å®ç°</li><li>-&gt;éœ€è¦å®Œæˆçš„ä»€ä¹ˆä»»åŠ¡</li><li>-&gt;ç™¾åº¦ã€è°·æ­Œã€Bingè½®ç€æœç´¢æ€ä¹ˆå®ç°</li><li>-&gt;æŸ¥æ‰¾å‡½æ•°æˆ–è€…è¿­ä»£å™¨çš„æˆ–è€…å±æ€§å®ä¾‹çš„ä½¿ç”¨</li><li>-&gt;è‡ªå·±é¡¹ç›®ç§»æ¤å°è¯•</li><li>-&gt;å¤šæ¬¡å°è¯•</li><li>-&gt;è¿˜æ˜¯æœ‰é—®é¢˜ï¼Œå‘<del>å¤§ä½¬</del>ï¼ˆåˆ’æ‰ï¼Œå·¨ä½¬ï¼‰ä»¬æ±‚åŠ©</li><li>-&gt;ä»ç„¶æ— æœ;æ­‡ä¸€å¤©å†æŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤å°è¯•</li><li>-&gt;ä»ç„¶æ— æœ;å»ºè®®æ”¾å¼ƒï¼Œå­¦ä¹ å…¶ä»–ã€‚æˆ–è€…æ—¥åæœ‰æœºä¼šåœ¨å­¦</li></ol><h2 id="èµ„æºï¼š"><a href="#èµ„æºï¼š" class="headerlink" title="èµ„æºï¼š"></a>èµ„æºï¼š</h2><p>æä¾›ä¸€ä¸ªè‰¯å¥½çš„ä¸­æ–‡å…¥é—¨æ‰‹å†Œï¼š<a href="https://github.com/txmuli/openMesh/tree/master/docORpdf"><strong>OpenMeshå…¥é—¨æ–‡æ¡£.pdf</strong></a> ï¼ˆå¯ä»¥å¸®åŠ©å¼„æ¸…æ¥šOpenMeshåŸºæœ¬æ¦‚å¿µï¼Œå€¼å¾—ä¸€è¯»ï¼‰</p><p><strong>å‚è€ƒåšæ–‡ï¼š</strong><a href="https://blog.csdn.net/chaojiwudixiaofeixia/article/details/50460887">OpenMeshå­¦ä¹ ç¬”è®°1 å®‰è£… é…ç½® å…¥é—¨ç¤ºä¾‹</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  - C/C++ åºä¸€ æŠ€æ³• </category>
          
          <category> å­¦ä¹  - OpenMesh </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>åˆæ¬¡ä¸Šç­çš„æ„Ÿè§‰</title>
      <link href="/posts/dad5df92/"/>
      <url>/posts/dad5df92/</url>
      
        <content type="html"><![CDATA[<p>â€‹å®ä¹ ä¸¤æœˆä½™ï¼Œèº«ä½“å·²è™šï¼Œéå¥¹ï¼Œè€Œæ˜¯ä»£ç ï¼Œå¯æ‚²ä¹ï¼Ÿ</p><p>â€‹å¦‚ä»Šï¼Œæ—¶é•¿å¾—æ€è€ƒä¸€ä¸‹ï¼Œå€˜è‹¥ç¦»å¼€å…¬å¸ï¼Œè‡ªå·±æœ‰é‚£äº›æ”¶è·ï¼Ÿå­¦åˆ°äº†ä»€ä¹ˆï¼Ÿ</p><p>2019-07-19æ›´æ–°</p><p>ä¸æ˜¯è§‰å¾—ç´¯ï¼Œè¦æœ‰å­¦ä¹ çš„å‰è¿›æ–¹å‘ã€‚</p><p>2019-09-25 æ›´æ–°ï¼š</p><p>æˆ–è®¸æœ‰äº†å¯¹æ¯”ï¼Œæ‰æ„ˆåŠ æ„Ÿè§‰ä¹‹å‰é‚£å®¶å…¬å¸ï¼Œå…¶å®å¹¶ä¸æ˜¯è‡ªå·±æ‰€å–œæ¬¢çš„æ–¹å‘ï¼Œå½“åˆè¾èŒå®ä¹ æ„ˆå‘è§‰å¾—ä¸é—æ†¾</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´» - é—²æš‡çš„è¶£é—» </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
